var _r=Object.defineProperty;var mr=(t,e,n)=>e in t?_r(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Bt=(t,e,n)=>(mr(t,typeof e!="symbol"?e+"":e,n),n);function br(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const yr={},ct=()=>{},Sr=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},wr=Object.prototype.hasOwnProperty,Rt=(t,e)=>wr.call(t,e),E=Array.isArray,ut=t=>Lt(t)==="[object Map]",Er=t=>Lt(t)==="[object Set]",X=t=>typeof t=="function",Or=t=>typeof t=="string",ue=t=>typeof t=="symbol",Z=t=>t!==null&&typeof t=="object",jr=t=>Z(t)&&X(t.then)&&X(t.catch),Mr=Object.prototype.toString,Lt=t=>Mr.call(t),Tr=t=>Lt(t).slice(8,-1),Cr=t=>Lt(t)==="[object Object]",le=t=>Or(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Tt=(t,e)=>!Object.is(t,e);let j;class xr{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=j,!e&&j&&(this.index=(j.scopes||(j.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=j;try{return j=this,e()}finally{j=n}}}on(){j=this}off(){j=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Ir(t){return new xr(t)}function Ar(t,e=j){e&&e.active&&e.effects.push(t)}function Pr(){return j}const fe=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Mn=t=>(t.w&$)>0,Tn=t=>(t.n&$)>0,Nr=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=$},Rr=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];Mn(i)&&!Tn(i)?i.delete(t):e[n++]=i,i.w&=~$,i.n&=~$}e.length=n}},qt=new WeakMap;let at=0,$=1;const Jt=30;let M;const U=Symbol(""),Xt=Symbol("");class Cn{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Ar(this,r)}run(){if(!this.active)return this.fn();let e=M,n=L;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=M,M=this,L=!0,$=1<<++at,at<=Jt?Nr(this):xe(this),this.fn()}finally{at<=Jt&&Rr(this),$=1<<--at,M=this.parent,L=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){M===this?this.deferStop=!0:this.active&&(xe(this),this.onStop&&this.onStop(),this.active=!1)}}function xe(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let L=!0;const xn=[];function Lr(){xn.push(L),L=!1}function $r(){const t=xn.pop();L=t===void 0?!0:t}function O(t,e,n){if(L&&M){let r=qt.get(t);r||qt.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=fe()),In(i)}}function In(t,e){let n=!1;at<=Jt?Tn(t)||(t.n|=$,n=!Mn(t)):n=!t.has(M),n&&(t.add(M),M.deps.push(t))}function F(t,e,n,r,i,o){const s=qt.get(t);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(n==="length"&&E(t)){const c=Number(r);s.forEach((l,u)=>{(u==="length"||u>=c)&&a.push(l)})}else switch(n!==void 0&&a.push(s.get(n)),e){case"add":E(t)?le(n)&&a.push(s.get("length")):(a.push(s.get(U)),ut(t)&&a.push(s.get(Xt)));break;case"delete":E(t)||(a.push(s.get(U)),ut(t)&&a.push(s.get(Xt)));break;case"set":ut(t)&&a.push(s.get(U));break}if(a.length===1)a[0]&&Zt(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);Zt(fe(c))}}function Zt(t,e){const n=E(t)?t:[...t];for(const r of n)r.computed&&Ie(r);for(const r of n)r.computed||Ie(r)}function Ie(t,e){(t!==M||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const Fr=br("__proto__,__v_isRef,__isVue"),An=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ue)),Vr=Pn(),Dr=Pn(!0),Ae=Gr();function Gr(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=p(this);for(let o=0,s=this.length;o<s;o++)O(r,"get",o+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(p)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Lr();const r=p(this)[e].apply(this,n);return $r(),r}}),t}function Ur(t){const e=p(this);return O(e,"has",t),e.hasOwnProperty(t)}function Pn(t=!1,e=!1){return function(r,i,o){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&o===(t?e?ri:Ln:e?ni:Rn).get(r))return r;const s=E(r);if(!t){if(s&&Rt(Ae,i))return Reflect.get(Ae,i,o);if(i==="hasOwnProperty")return Ur}const a=Reflect.get(r,i,o);return(ue(i)?An.has(i):Fr(i))||(t||O(r,"get",i),e)?a:R(a)?s&&le(i)?a:a.value:Z(a)?t?$n(a):de(a):a}}const zr=Br();function Br(t=!1){return function(n,r,i,o){let s=n[r];if(Ct(s)&&R(s)&&!R(i))return!1;if(!t&&(!te(i)&&!Ct(i)&&(s=p(s),i=p(i)),!E(n)&&R(s)&&!R(i)))return s.value=i,!0;const a=E(n)&&le(r)?Number(r)<n.length:Rt(n,r),c=Reflect.set(n,r,i,o);return n===p(o)&&(a?Tt(i,s)&&F(n,"set",r,i):F(n,"add",r,i)),c}}function kr(t,e){const n=Rt(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&F(t,"delete",e,void 0),r}function Kr(t,e){const n=Reflect.has(t,e);return(!ue(e)||!An.has(e))&&O(t,"has",e),n}function Yr(t){return O(t,"iterate",E(t)?"length":U),Reflect.ownKeys(t)}const Hr={get:Vr,set:zr,deleteProperty:kr,has:Kr,ownKeys:Yr},Wr={get:Dr,set(t,e){return!0},deleteProperty(t,e){return!0}},he=t=>t,$t=t=>Reflect.getPrototypeOf(t);function gt(t,e,n=!1,r=!1){t=t.__v_raw;const i=p(t),o=p(e);n||(e!==o&&O(i,"get",e),O(i,"get",o));const{has:s}=$t(i),a=r?he:n?ge:pe;if(s.call(i,e))return a(t.get(e));if(s.call(i,o))return a(t.get(o));t!==i&&t.get(e)}function vt(t,e=!1){const n=this.__v_raw,r=p(n),i=p(t);return e||(t!==i&&O(r,"has",t),O(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function _t(t,e=!1){return t=t.__v_raw,!e&&O(p(t),"iterate",U),Reflect.get(t,"size",t)}function Pe(t){t=p(t);const e=p(this);return $t(e).has.call(e,t)||(e.add(t),F(e,"add",t,t)),this}function Ne(t,e){e=p(e);const n=p(this),{has:r,get:i}=$t(n);let o=r.call(n,t);o||(t=p(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?Tt(e,s)&&F(n,"set",t,e):F(n,"add",t,e),this}function Re(t){const e=p(this),{has:n,get:r}=$t(e);let i=n.call(e,t);i||(t=p(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&F(e,"delete",t,void 0),o}function Le(){const t=p(this),e=t.size!==0,n=t.clear();return e&&F(t,"clear",void 0,void 0),n}function mt(t,e){return function(r,i){const o=this,s=o.__v_raw,a=p(s),c=e?he:t?ge:pe;return!t&&O(a,"iterate",U),s.forEach((l,u)=>r.call(i,c(l),c(u),o))}}function bt(t,e,n){return function(...r){const i=this.__v_raw,o=p(i),s=ut(o),a=t==="entries"||t===Symbol.iterator&&s,c=t==="keys"&&s,l=i[t](...r),u=n?he:e?ge:pe;return!e&&O(o,"iterate",c?Xt:U),{next(){const{value:f,done:h}=l.next();return h?{value:f,done:h}:{value:a?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function P(t){return function(...e){return t==="delete"?!1:this}}function Qr(){const t={get(o){return gt(this,o)},get size(){return _t(this)},has:vt,add:Pe,set:Ne,delete:Re,clear:Le,forEach:mt(!1,!1)},e={get(o){return gt(this,o,!1,!0)},get size(){return _t(this)},has:vt,add:Pe,set:Ne,delete:Re,clear:Le,forEach:mt(!1,!0)},n={get(o){return gt(this,o,!0)},get size(){return _t(this,!0)},has(o){return vt.call(this,o,!0)},add:P("add"),set:P("set"),delete:P("delete"),clear:P("clear"),forEach:mt(!0,!1)},r={get(o){return gt(this,o,!0,!0)},get size(){return _t(this,!0)},has(o){return vt.call(this,o,!0)},add:P("add"),set:P("set"),delete:P("delete"),clear:P("clear"),forEach:mt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=bt(o,!1,!1),n[o]=bt(o,!0,!1),e[o]=bt(o,!1,!0),r[o]=bt(o,!0,!0)}),[t,n,e,r]}const[qr,Jr,Xr,Zr]=Qr();function Nn(t,e){const n=e?t?Zr:Xr:t?Jr:qr;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Rt(n,i)&&i in r?n:r,i,o)}const ti={get:Nn(!1,!1)},ei={get:Nn(!0,!1)},Rn=new WeakMap,ni=new WeakMap,Ln=new WeakMap,ri=new WeakMap;function ii(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function oi(t){return t.__v_skip||!Object.isExtensible(t)?0:ii(Tr(t))}function de(t){return Ct(t)?t:Fn(t,!1,Hr,ti,Rn)}function $n(t){return Fn(t,!0,Wr,ei,Ln)}function Fn(t,e,n,r,i){if(!Z(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=oi(t);if(s===0)return t;const a=new Proxy(t,s===2?r:n);return i.set(t,a),a}function jt(t){return Ct(t)?jt(t.__v_raw):!!(t&&t.__v_isReactive)}function Ct(t){return!!(t&&t.__v_isReadonly)}function te(t){return!!(t&&t.__v_isShallow)}function p(t){const e=t&&t.__v_raw;return e?p(e):t}const pe=t=>Z(t)?de(t):t,ge=t=>Z(t)?$n(t):t;function si(t){L&&M&&(t=p(t),In(t.dep||(t.dep=fe())))}function ai(t,e){t=p(t);const n=t.dep;n&&Zt(n)}function R(t){return!!(t&&t.__v_isRef===!0)}var Vn;class ci{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Vn]=!1,this._dirty=!0,this.effect=new Cn(e,()=>{this._dirty||(this._dirty=!0,ai(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=p(this);return si(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}Vn="__v_isReadonly";function ui(t,e,n=!1){let r,i;const o=X(t);return o?(r=t,i=ct):(r=t.get,i=t.set),new ci(r,i,o||!i,n)}function q(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){Dn(o,e,n)}return i}function Mt(t,e,n,r){if(X(t)){const o=q(t,e,n,r);return o&&jr(o)&&o.catch(s=>{Dn(s,e,n)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(Mt(t[o],e,n,r));return i}function Dn(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,a=n;for(;o;){const l=o.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](t,s,a)===!1)return}o=o.parent}const c=e.appContext.config.errorHandler;if(c){q(c,null,10,[t,s,a]);return}}li(t,n,i,r)}function li(t,e,n,r=!0){console.error(t)}let xt=!1,ee=!1;const T=[];let N=0;const J=[];let I=null,G=0;const fi=Promise.resolve();function hi(t){let e=N+1,n=T.length;for(;e<n;){const r=e+n>>>1;lt(T[r])<t?e=r+1:n=r}return e}function di(t){(!T.length||!T.includes(t,xt&&t.allowRecurse?N+1:N))&&(t.id==null?T.push(t):T.splice(hi(t.id),0,t),Gn())}function Gn(){!xt&&!ee&&(ee=!0,fi.then(Un))}function pi(t){E(t)?J.push(...t):(!I||!I.includes(t,t.allowRecurse?G+1:G))&&J.push(t),Gn()}function gi(t){if(J.length){const e=[...new Set(J)];if(J.length=0,I){I.push(...e);return}for(I=e,I.sort((n,r)=>lt(n)-lt(r)),G=0;G<I.length;G++)I[G]();I=null,G=0}}const lt=t=>t.id==null?1/0:t.id,vi=(t,e)=>{const n=lt(t)-lt(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Un(t){ee=!1,xt=!0,T.sort(vi);const e=ct;try{for(N=0;N<T.length;N++){const n=T[N];n&&n.active!==!1&&q(n,null,14)}}finally{N=0,T.length=0,gi(),xt=!1,(T.length||J.length)&&Un()}}function _i(t,e){e&&e.pendingBranch?E(t)?e.effects.push(...t):e.effects.push(t):pi(t)}const yt={};function zn(t,e,n){return mi(t,e,n)}function mi(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=yr){const a=Pr()===(St==null?void 0:St.scope)?St:null;let c,l=!1,u=!1;if(R(t)?(c=()=>t.value,l=te(t)):jt(t)?(c=()=>t,r=!0):E(t)?(u=!0,l=t.some(v=>jt(v)||te(v)),c=()=>t.map(v=>{if(R(v))return v.value;if(jt(v))return Q(v);if(X(v))return q(v,a,2)})):X(t)?e?c=()=>q(t,a,2):c=()=>{if(!(a&&a.isUnmounted))return f&&f(),Mt(t,a,3,[h])}:c=ct,e&&r){const v=c;c=()=>Q(v())}let f,h=v=>{f=b.onStop=()=>{q(v,a,4)}},d;if(Bn)if(h=ct,e?n&&Mt(e,a,3,[c(),u?[]:void 0,h]):c(),i==="sync"){const v=yi();d=v.__watcherHandles||(v.__watcherHandles=[])}else return ct;let _=u?new Array(t.length).fill(yt):yt;const m=()=>{if(b.active)if(e){const v=b.run();(r||l||(u?v.some((k,K)=>Tt(k,_[K])):Tt(v,_)))&&(f&&f(),Mt(e,a,3,[v,_===yt?void 0:u&&_[0]===yt?[]:_,h]),_=v)}else b.run()};m.allowRecurse=!!e;let S;i==="sync"?S=m:i==="post"?S=()=>$e(m,a&&a.suspense):(m.pre=!0,a&&(m.id=a.uid),S=()=>di(m));const b=new Cn(c,S);e?n?m():_=b.run():i==="post"?$e(b.run.bind(b),a&&a.suspense):b.run();const x=()=>{b.stop(),a&&a.scope&&Sr(a.scope.effects,b)};return d&&d.push(x),x}function Q(t,e){if(!Z(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),R(t))Q(t.value,e);else if(E(t))for(let n=0;n<t.length;n++)Q(t[n],e);else if(Er(t)||ut(t))t.forEach(n=>{Q(n,e)});else if(Cr(t))for(const n in t)Q(t[n],e);return t}const $e=_i;let St=null,Bn=!1;const bi=(t,e)=>ui(t,e,Bn),yi=()=>void 0;function Si(){return kn().__VUE_DEVTOOLS_GLOBAL_HOOK__}function kn(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const wi=typeof Proxy=="function",Ei="devtools-plugin:setup",Oi="plugin:settings:set";let Y,ne;function ji(){var t;return Y!==void 0||(typeof window<"u"&&window.performance?(Y=!0,ne=window.performance):typeof global<"u"&&(!((t=global.perf_hooks)===null||t===void 0)&&t.performance)?(Y=!0,ne=global.perf_hooks.performance):Y=!1),Y}function Mi(){return ji()?ne.now():Date.now()}class Ti{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const s in e.settings){const a=e.settings[s];r[s]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let o=Object.assign({},r);try{const s=localStorage.getItem(i),a=JSON.parse(s);Object.assign(o,a)}catch{}this.fallbacks={getSettings(){return o},setSettings(s){try{localStorage.setItem(i,JSON.stringify(s))}catch{}o=s},now(){return Mi()}},n&&n.on(Oi,(s,a)=>{s===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(s,a)=>this.target?this.target.on[a]:(...c)=>{this.onQueue.push({method:a,args:c})}}),this.proxiedTarget=new Proxy({},{get:(s,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...c)=>(this.targetQueue.push({method:a,args:c,resolve:()=>{}}),this.fallbacks[a](...c)):(...c)=>new Promise(l=>{this.targetQueue.push({method:a,args:c,resolve:l})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Ci(t,e){const n=t,r=kn(),i=Si(),o=wi&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))i.emit(Ei,t,e);else{const s=o?new Ti(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:s}),s&&e(s.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var xi="store";function tt(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function Ii(t){return t!==null&&typeof t=="object"}function Ai(t){return t&&typeof t.then=="function"}function Pi(t,e){return function(){return t(e)}}function Kn(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function Yn(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Ft(t,n,[],t._modules.root,!0),ve(t,n,e)}function ve(t,e,n){var r=t._state,i=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,s={},a={},c=Ir(!0);c.run(function(){tt(o,function(l,u){s[u]=Pi(l,t),a[u]=bi(function(){return s[u]()}),Object.defineProperty(t.getters,u,{get:function(){return a[u].value},enumerable:!0})})}),t._state=de({data:e}),t._scope=c,t.strict&&Fi(t),r&&n&&t._withCommit(function(){r.data=null}),i&&i.stop()}function Ft(t,e,n,r,i){var o=!n.length,s=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=r),!o&&!i){var a=_e(e,n.slice(0,-1)),c=n[n.length-1];t._withCommit(function(){a[c]=r.state})}var l=r.context=Ni(t,s,n);r.forEachMutation(function(u,f){var h=s+f;Ri(t,h,u,l)}),r.forEachAction(function(u,f){var h=u.root?f:s+f,d=u.handler||u;Li(t,h,d,l)}),r.forEachGetter(function(u,f){var h=s+f;$i(t,h,u,l)}),r.forEachChild(function(u,f){Ft(t,e,n.concat(f),u,i)})}function Ni(t,e,n){var r=e==="",i={dispatch:r?t.dispatch:function(o,s,a){var c=It(o,s,a),l=c.payload,u=c.options,f=c.type;return(!u||!u.root)&&(f=e+f),t.dispatch(f,l)},commit:r?t.commit:function(o,s,a){var c=It(o,s,a),l=c.payload,u=c.options,f=c.type;(!u||!u.root)&&(f=e+f),t.commit(f,l,u)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return Hn(t,e)}},state:{get:function(){return _e(t.state,n)}}}),i}function Hn(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function Ri(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(s){n.call(t,r.state,s)})}function Li(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(s){var a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},s);return Ai(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(c){throw t._devtoolHook.emit("vuex:error",c),c}):a})}function $i(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(o){return n(r.state,r.getters,o.state,o.getters)})}function Fi(t){zn(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function _e(t,e){return e.reduce(function(n,r){return n[r]},t)}function It(t,e,n){return Ii(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var Vi="vuex bindings",Fe="vuex:mutations",kt="vuex:actions",H="vuex",Di=0;function Gi(t,e){Ci({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[Vi]},function(n){n.addTimelineLayer({id:Fe,label:"Vuex Mutations",color:Ve}),n.addTimelineLayer({id:kt,label:"Vuex Actions",color:Ve}),n.addInspector({id:H,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===H)if(r.filter){var i=[];Jn(i,e._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[qn(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===H){var i=r.nodeId;Hn(e,i),r.state=Bi(Ki(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===H){var i=r.nodeId,o=r.path;i!=="root"&&(o=i.split("/").filter(Boolean).concat(o)),e._withCommit(function(){r.set(e._state.data,o,r.state.value)})}}),e.subscribe(function(r,i){var o={};r.payload&&(o.payload=r.payload),o.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(H),n.sendInspectorState(H),n.addTimelineEvent({layerId:Fe,event:{time:Date.now(),title:r.type,data:o}})}),e.subscribeAction({before:function(r,i){var o={};r.payload&&(o.payload=r.payload),r._id=Di++,r._time=Date.now(),o.state=i,n.addTimelineEvent({layerId:kt,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:o}})},after:function(r,i){var o={},s=Date.now()-r._time;o.duration={_custom:{type:"duration",display:s+"ms",tooltip:"Action duration",value:s}},r.payload&&(o.payload=r.payload),o.state=i,n.addTimelineEvent({layerId:kt,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:o}})}})})}var Ve=8702998,Ui=6710886,zi=16777215,Wn={label:"namespaced",textColor:zi,backgroundColor:Ui};function Qn(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function qn(t,e){return{id:e||"root",label:Qn(e),tags:t.namespaced?[Wn]:[],children:Object.keys(t._children).map(function(n){return qn(t._children[n],e+n+"/")})}}function Jn(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[Wn]:[]}),Object.keys(e._children).forEach(function(i){Jn(t,e._children[i],n,r+i+"/")})}function Bi(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map(function(s){return{key:s,editable:!0,value:t.state[s]}})};if(r.length){var o=ki(e);i.getters=Object.keys(o).map(function(s){return{key:s.endsWith("/")?Qn(s):s,editable:!1,value:re(function(){return o[s]})}})}return i}function ki(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var i=e,o=r.pop();r.forEach(function(s){i[s]||(i[s]={_custom:{value:{},display:s,tooltip:"Module",abstract:!0}}),i=i[s]._custom.value}),i[o]=re(function(){return t[n]})}else e[n]=re(function(){return t[n]})}),e}function Ki(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,i,o){var s=r[i];if(!s)throw new Error('Missing module "'+i+'" for path "'+e+'".');return o===n.length-1?s:s._children},e==="root"?t:t.root._children)}function re(t){try{return t()}catch(e){return e}}var C=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},Xn={namespaced:{configurable:!0}};Xn.namespaced.get=function(){return!!this._rawModule.namespaced};C.prototype.addChild=function(e,n){this._children[e]=n};C.prototype.removeChild=function(e){delete this._children[e]};C.prototype.getChild=function(e){return this._children[e]};C.prototype.hasChild=function(e){return e in this._children};C.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};C.prototype.forEachChild=function(e){tt(this._children,e)};C.prototype.forEachGetter=function(e){this._rawModule.getters&&tt(this._rawModule.getters,e)};C.prototype.forEachAction=function(e){this._rawModule.actions&&tt(this._rawModule.actions,e)};C.prototype.forEachMutation=function(e){this._rawModule.mutations&&tt(this._rawModule.mutations,e)};Object.defineProperties(C.prototype,Xn);var z=function(e){this.register([],e,!1)};z.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};z.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};z.prototype.update=function(e){Zn([],this.root,e)};z.prototype.register=function(e,n,r){var i=this;r===void 0&&(r=!0);var o=new C(n,r);if(e.length===0)this.root=o;else{var s=this.get(e.slice(0,-1));s.addChild(e[e.length-1],o)}n.modules&&tt(n.modules,function(a,c){i.register(e.concat(c),a,r)})};z.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};z.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function Zn(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;Zn(t.concat(r),e.getChild(r),n.modules[r])}}function Yi(t){return new y(t)}var y=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var i=e.strict;i===void 0&&(i=!1);var o=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new z(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=o;var s=this,a=this,c=a.dispatch,l=a.commit;this.dispatch=function(h,d){return c.call(s,h,d)},this.commit=function(h,d,_){return l.call(s,h,d,_)},this.strict=i;var u=this._modules.root.state;Ft(this,u,[],this._modules.root),ve(this,u),r.forEach(function(f){return f(n)})},me={state:{configurable:!0}};y.prototype.install=function(e,n){e.provide(n||xi,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&Gi(e,this)};me.state.get=function(){return this._state.data};me.state.set=function(t){};y.prototype.commit=function(e,n,r){var i=this,o=It(e,n,r),s=o.type,a=o.payload,c={type:s,payload:a},l=this._mutations[s];l&&(this._withCommit(function(){l.forEach(function(f){f(a)})}),this._subscribers.slice().forEach(function(u){return u(c,i.state)}))};y.prototype.dispatch=function(e,n){var r=this,i=It(e,n),o=i.type,s=i.payload,a={type:o,payload:s},c=this._actions[o];if(c){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(a,r.state)})}catch{}var l=c.length>1?Promise.all(c.map(function(u){return u(s)})):c[0](s);return new Promise(function(u,f){l.then(function(h){try{r._actionSubscribers.filter(function(d){return d.after}).forEach(function(d){return d.after(a,r.state)})}catch{}u(h)},function(h){try{r._actionSubscribers.filter(function(d){return d.error}).forEach(function(d){return d.error(a,r.state,h)})}catch{}f(h)})})}};y.prototype.subscribe=function(e,n){return Kn(e,this._subscribers,n)};y.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return Kn(r,this._actionSubscribers,n)};y.prototype.watch=function(e,n,r){var i=this;return zn(function(){return e(i.state,i.getters)},n,Object.assign({},r))};y.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};y.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Ft(this,this.state,e,this._modules.get(e),r.preserveState),ve(this,this.state)};y.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=_e(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),Yn(this)};y.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};y.prototype.hotUpdate=function(e){this._modules.update(e),Yn(this,!0)};y.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(y.prototype,me);var Hi=Object.defineProperty,Wi=(t,e,n)=>e in t?Hi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w=(t,e,n)=>(Wi(t,typeof e!="symbol"?e+"":e,n),n);const tr="@@SYNC_STATE",De="@@SYNC",At="@@SYNC_MUTATION",Qi="@@SYNC_RECONNECT_MUTATION";class er{constructor({store:e,options:n}){w(this,"store"),w(this,"options"),w(this,"logLevel","info"),this.store=e,this.options={persist:[],ignore:[],debug:!1,strategy:"broadcast",electionFunc:null,...n},this.logLevel=this.options.debug===!0?"debug":this.options.debug===!1?"info":this.options.debug||"info",this.store.subscribe(this.onMutation.bind(this))}onMutation(e,n){throw new TypeError("onMutation must be implemented")}}function nr(t,e="info"){return{levels:["trace","debug","info","warn","error"],colors:["\x1B[34m","\x1B[35m","\x1B[32m","\x1B[33m","\x1B[31m"],level:e,namespace:t,setLevel(n){if(this.levels.includes(n))this.level=n;else throw new Error(`Invalid log level: ${n}`)},_log(n,...r){const i=this.levels.indexOf(n);i>=this.levels.indexOf(this.level)&&console[["debug","trace","info"].includes(n)?"log":n](Array.isArray(this.namespace)?`${this.colors[i]}${n.toUpperCase()}\x1B[0m: [${this.namespace.join("][")}]`:`[${this.namespace}]`,...r)},trace(...n){this._log("trace",...n)},debug(...n){this._log("debug",...n)},info(...n){this._log("info",...n)},log(...n){this._log("info",...n)},warn(...n){this._log("warn",...n)},error(...n){this._log("error",...n)}}}class qi extends er{constructor(e){super(e),w(this,"logger",nr(["vuex-extension-sync","Page"],this.logLevel)),w(this,"port"),w(this,"connectionName"),w(this,"initialized",!1),w(this,"pendingMutationsQueue",[]),w(this,"externalMutations",[]),this.connectionName=`${e.pageType}_${Math.random().toString(36).substring(2,9)}`,this.connect()}connect(e=!1){this.port=chrome.runtime.connect({name:this.connectionName}),this.port.onMessage.addListener(this.onMessage.bind(this)),this.port.onDisconnect.addListener(()=>{this.connect(!0)}),e&&this.store.commit(Qi)}onMessage(e){this.logger.debug(`[${this.connectionName}][onMessage] Received message:`,e);const{type:n,data:r}=e;if(n===tr)this.logger.debug(`[${this.connectionName}][onMessage] Replacing state with`,e.data),this.store.replaceState(e.data),this.initialized=!0,this.processPendingMutationsQueue();else if(n===At){if(!this.initialized){this.logger.warn(`[${this.connectionName}][onMessage] Not initialized yet`);return}this.logger.debug(`[${this.connectionName}][onMessage] Applying mutation`);const{type:i,payload:o}=r;this.externalMutations.push(r),this.store.commit(i,o)}}onMutation(e){if(this.logger.debug(`[${this.connectionName}][onMutation] Mutation fired`,e),this.options.ignore&&this.options.ignore.includes(e.type)){this.logger.warn(`[${this.connectionName}][onMutation] Mutation "${e.type}" is ignored`);return}if(!this.initialized){this.logger.warn(`[${this.connectionName}][onMutation] Not initialized yet`),this.pendingMutationsQueue.push(e);return}const n=this.externalMutations.findIndex(r=>r.type===e.type&&r.payload===e.payload);n===-1?(this.logger.debug(`[${this.connectionName}][onMutation] Sync it to bg`),this.port.postMessage({type:At,data:{type:e.type,payload:e.payload}})):(this.externalMutations.splice(n,1),this.logger.debug(`[${this.connectionName}][onMutation] Skip applied`))}processPendingMutationsQueue(){if(this.logger.debug(`[${this.connectionName}][processPendingMutationsQueue] Processing pending mutation queue`),this.pendingMutationsQueue.length===0){this.logger.debug(`[${this.connectionName}][processPendingMutationsQueue] Empty queue`);return}do{const e=this.pendingMutationsQueue.shift(),{type:n,payload:r}=e;this.logger.debug(`[${this.connectionName}][processPendingMutationsQueue] Processing pending mutation`,n,r),this.store.commit(n,r)}while(this.pendingMutationsQueue.length>0)}}var wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ji=Array.isArray,V=Ji,Xi=typeof wt=="object"&&wt&&wt.Object===Object&&wt,rr=Xi,Zi=rr,to=typeof self=="object"&&self&&self.Object===Object&&self,eo=Zi||to||Function("return this")(),A=eo,no=A,ro=no.Symbol,ht=ro,Ge=ht,ir=Object.prototype,io=ir.hasOwnProperty,oo=ir.toString,st=Ge?Ge.toStringTag:void 0;function so(t){var e=io.call(t,st),n=t[st];try{t[st]=void 0;var r=!0}catch{}var i=oo.call(t);return r&&(e?t[st]=n:delete t[st]),i}var ao=so,co=Object.prototype,uo=co.toString;function lo(t){return uo.call(t)}var fo=lo,Ue=ht,ho=ao,po=fo,go="[object Null]",vo="[object Undefined]",ze=Ue?Ue.toStringTag:void 0;function _o(t){return t==null?t===void 0?vo:go:ze&&ze in Object(t)?ho(t):po(t)}var dt=_o;function mo(t){return t!=null&&typeof t=="object"}var pt=mo,bo=dt,yo=pt,So="[object Symbol]";function wo(t){return typeof t=="symbol"||yo(t)&&bo(t)==So}var be=wo,Eo=V,Oo=be,jo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mo=/^\w*$/;function To(t,e){if(Eo(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Oo(t)?!0:Mo.test(t)||!jo.test(t)||e!=null&&t in Object(e)}var Co=To;function xo(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ye=xo,Io=dt,Ao=ye,Po="[object AsyncFunction]",No="[object Function]",Ro="[object GeneratorFunction]",Lo="[object Proxy]";function $o(t){if(!Ao(t))return!1;var e=Io(t);return e==No||e==Ro||e==Po||e==Lo}var or=$o,Fo=A,Vo=Fo["__core-js_shared__"],Do=Vo,Kt=Do,Be=function(){var t=/[^.]+$/.exec(Kt&&Kt.keys&&Kt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Go(t){return!!Be&&Be in t}var Uo=Go,zo=Function.prototype,Bo=zo.toString;function ko(t){if(t!=null){try{return Bo.call(t)}catch{}try{return t+""}catch{}}return""}var sr=ko,Ko=or,Yo=Uo,Ho=ye,Wo=sr,Qo=/[\\^$.*+?()[\]{}|]/g,qo=/^\[object .+?Constructor\]$/,Jo=Function.prototype,Xo=Object.prototype,Zo=Jo.toString,ts=Xo.hasOwnProperty,es=RegExp("^"+Zo.call(ts).replace(Qo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ns(t){if(!Ho(t)||Yo(t))return!1;var e=Ko(t)?es:qo;return e.test(Wo(t))}var rs=ns;function is(t,e){return t==null?void 0:t[e]}var os=is,ss=rs,as=os;function cs(t,e){var n=as(t,e);return ss(n)?n:void 0}var B=cs,us=B,ls=us(Object,"create"),Vt=ls,ke=Vt;function fs(){this.__data__=ke?ke(null):{},this.size=0}var hs=fs;function ds(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ps=ds,gs=Vt,vs="__lodash_hash_undefined__",_s=Object.prototype,ms=_s.hasOwnProperty;function bs(t){var e=this.__data__;if(gs){var n=e[t];return n===vs?void 0:n}return ms.call(e,t)?e[t]:void 0}var ys=bs,Ss=Vt,ws=Object.prototype,Es=ws.hasOwnProperty;function Os(t){var e=this.__data__;return Ss?e[t]!==void 0:Es.call(e,t)}var js=Os,Ms=Vt,Ts="__lodash_hash_undefined__";function Cs(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ms&&e===void 0?Ts:e,this}var xs=Cs,Is=hs,As=ps,Ps=ys,Ns=js,Rs=xs;function et(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}et.prototype.clear=Is;et.prototype.delete=As;et.prototype.get=Ps;et.prototype.has=Ns;et.prototype.set=Rs;var Ls=et;function $s(){this.__data__=[],this.size=0}var Fs=$s;function Vs(t,e){return t===e||t!==t&&e!==e}var Se=Vs,Ds=Se;function Gs(t,e){for(var n=t.length;n--;)if(Ds(t[n][0],e))return n;return-1}var Dt=Gs,Us=Dt,zs=Array.prototype,Bs=zs.splice;function ks(t){var e=this.__data__,n=Us(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Bs.call(e,n,1),--this.size,!0}var Ks=ks,Ys=Dt;function Hs(t){var e=this.__data__,n=Ys(e,t);return n<0?void 0:e[n][1]}var Ws=Hs,Qs=Dt;function qs(t){return Qs(this.__data__,t)>-1}var Js=qs,Xs=Dt;function Zs(t,e){var n=this.__data__,r=Xs(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var ta=Zs,ea=Fs,na=Ks,ra=Ws,ia=Js,oa=ta;function nt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}nt.prototype.clear=ea;nt.prototype.delete=na;nt.prototype.get=ra;nt.prototype.has=ia;nt.prototype.set=oa;var Gt=nt,sa=B,aa=A,ca=sa(aa,"Map"),we=ca,Ke=Ls,ua=Gt,la=we;function fa(){this.size=0,this.__data__={hash:new Ke,map:new(la||ua),string:new Ke}}var ha=fa;function da(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var pa=da,ga=pa;function va(t,e){var n=t.__data__;return ga(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Ut=va,_a=Ut;function ma(t){var e=_a(this,t).delete(t);return this.size-=e?1:0,e}var ba=ma,ya=Ut;function Sa(t){return ya(this,t).get(t)}var wa=Sa,Ea=Ut;function Oa(t){return Ea(this,t).has(t)}var ja=Oa,Ma=Ut;function Ta(t,e){var n=Ma(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Ca=Ta,xa=ha,Ia=ba,Aa=wa,Pa=ja,Na=Ca;function rt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}rt.prototype.clear=xa;rt.prototype.delete=Ia;rt.prototype.get=Aa;rt.prototype.has=Pa;rt.prototype.set=Na;var Ee=rt,ar=Ee,Ra="Expected a function";function Oe(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Ra);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Oe.Cache||ar),n}Oe.Cache=ar;var La=Oe,$a=La,Fa=500;function Va(t){var e=$a(t,function(r){return n.size===Fa&&n.clear(),r}),n=e.cache;return e}var Da=Va,Ga=Da,Ua=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,za=/\\(\\)?/g,Ba=Ga(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Ua,function(n,r,i,o){e.push(i?o.replace(za,"$1"):r||n)}),e}),ka=Ba;function Ka(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Ya=Ka,Ye=ht,Ha=Ya,Wa=V,Qa=be,qa=1/0,He=Ye?Ye.prototype:void 0,We=He?He.toString:void 0;function cr(t){if(typeof t=="string")return t;if(Wa(t))return Ha(t,cr)+"";if(Qa(t))return We?We.call(t):"";var e=t+"";return e=="0"&&1/t==-qa?"-0":e}var Ja=cr,Xa=Ja;function Za(t){return t==null?"":Xa(t)}var tc=Za,ec=V,nc=Co,rc=ka,ic=tc;function oc(t,e){return ec(t)?t:nc(t,e)?[t]:rc(ic(t))}var zt=oc,sc=be,ac=1/0;function cc(t){if(typeof t=="string"||sc(t))return t;var e=t+"";return e=="0"&&1/t==-ac?"-0":e}var je=cc,uc=zt,lc=je;function fc(t,e){e=uc(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[lc(e[n++])];return n&&n==r?t:void 0}var hc=fc,dc=B,pc=function(){try{var t=dc(Object,"defineProperty");return t({},"",{}),t}catch{}}(),ur=pc,Qe=ur;function gc(t,e,n){e=="__proto__"&&Qe?Qe(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var vc=gc,_c=vc,mc=Se,bc=Object.prototype,yc=bc.hasOwnProperty;function Sc(t,e,n){var r=t[e];(!(yc.call(t,e)&&mc(r,n))||n===void 0&&!(e in t))&&_c(t,e,n)}var wc=Sc,Ec=9007199254740991,Oc=/^(?:0|[1-9]\d*)$/;function jc(t,e){var n=typeof t;return e=e??Ec,!!e&&(n=="number"||n!="symbol"&&Oc.test(t))&&t>-1&&t%1==0&&t<e}var Me=jc,Mc=wc,Tc=zt,Cc=Me,qe=ye,xc=je;function Ic(t,e,n,r){if(!qe(t))return t;e=Tc(e,t);for(var i=-1,o=e.length,s=o-1,a=t;a!=null&&++i<o;){var c=xc(e[i]),l=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(i!=s){var u=a[c];l=r?r(u,c,a):void 0,l===void 0&&(l=qe(u)?u:Cc(e[i+1])?[]:{})}Mc(a,c,l),a=a[c]}return t}var Ac=Ic,Pc=hc,Nc=Ac,Rc=zt;function Lc(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=Pc(t,s);n(a,s)&&Nc(o,Rc(s,t),a)}return o}var $c=Lc;function Fc(t,e){return t!=null&&e in Object(t)}var Vc=Fc,Dc=dt,Gc=pt,Uc="[object Arguments]";function zc(t){return Gc(t)&&Dc(t)==Uc}var Bc=zc,Je=Bc,kc=pt,lr=Object.prototype,Kc=lr.hasOwnProperty,Yc=lr.propertyIsEnumerable,Hc=Je(function(){return arguments}())?Je:function(t){return kc(t)&&Kc.call(t,"callee")&&!Yc.call(t,"callee")},Te=Hc,Wc=9007199254740991;function Qc(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Wc}var Ce=Qc,qc=zt,Jc=Te,Xc=V,Zc=Me,tu=Ce,eu=je;function nu(t,e,n){e=qc(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=eu(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&tu(i)&&Zc(s,i)&&(Xc(t)||Jc(t)))}var ru=nu,iu=Vc,ou=ru;function su(t,e){return t!=null&&ou(t,e,iu)}var au=su,cu=$c,uu=au;function lu(t,e){return cu(t,e,function(n,r){return uu(t,r)})}var fu=lu;function hu(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var fr=hu,Xe=ht,du=Te,pu=V,Ze=Xe?Xe.isConcatSpreadable:void 0;function gu(t){return pu(t)||du(t)||!!(Ze&&t&&t[Ze])}var vu=gu,_u=fr,mu=vu;function hr(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=mu),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?hr(a,e-1,n,r,i):_u(i,a):r||(i[i.length]=a)}return i}var bu=hr,yu=bu;function Su(t){var e=t==null?0:t.length;return e?yu(t,1):[]}var wu=Su;function Eu(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Ou=Eu,ju=Ou,tn=Math.max;function Mu(t,e,n){return e=tn(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=tn(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),ju(t,this,a)}}var Tu=Mu;function Cu(t){return function(){return t}}var xu=Cu;function Iu(t){return t}var Au=Iu,Pu=xu,en=ur,Nu=Au,Ru=en?function(t,e){return en(t,"toString",{configurable:!0,enumerable:!1,value:Pu(e),writable:!0})}:Nu,Lu=Ru,$u=800,Fu=16,Vu=Date.now;function Du(t){var e=0,n=0;return function(){var r=Vu(),i=Fu-(r-n);if(n=r,i>0){if(++e>=$u)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Gu=Du,Uu=Lu,zu=Gu,Bu=zu(Uu),ku=Bu,Ku=wu,Yu=Tu,Hu=ku;function Wu(t){return Hu(Yu(t,void 0,Ku),t+"")}var Qu=Wu,qu=fu,Ju=Qu,Xu=Ju(function(t,e){return t==null?{}:qu(t,e)}),W=Xu,Zu=Gt;function tl(){this.__data__=new Zu,this.size=0}var el=tl;function nl(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var rl=nl;function il(t){return this.__data__.get(t)}var ol=il;function sl(t){return this.__data__.has(t)}var al=sl,cl=Gt,ul=we,ll=Ee,fl=200;function hl(t,e){var n=this.__data__;if(n instanceof cl){var r=n.__data__;if(!ul||r.length<fl-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ll(r)}return n.set(t,e),this.size=n.size,this}var dl=hl,pl=Gt,gl=el,vl=rl,_l=ol,ml=al,bl=dl;function it(t){var e=this.__data__=new pl(t);this.size=e.size}it.prototype.clear=gl;it.prototype.delete=vl;it.prototype.get=_l;it.prototype.has=ml;it.prototype.set=bl;var yl=it,Sl="__lodash_hash_undefined__";function wl(t){return this.__data__.set(t,Sl),this}var El=wl;function Ol(t){return this.__data__.has(t)}var jl=Ol,Ml=Ee,Tl=El,Cl=jl;function Pt(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Ml;++e<n;)this.add(t[e])}Pt.prototype.add=Pt.prototype.push=Tl;Pt.prototype.has=Cl;var xl=Pt;function Il(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Al=Il;function Pl(t,e){return t.has(e)}var Nl=Pl,Rl=xl,Ll=Al,$l=Nl,Fl=1,Vl=2;function Dl(t,e,n,r,i,o){var s=n&Fl,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var l=o.get(t),u=o.get(e);if(l&&u)return l==e&&u==t;var f=-1,h=!0,d=n&Vl?new Rl:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var _=t[f],m=e[f];if(r)var S=s?r(m,_,f,e,t,o):r(_,m,f,t,e,o);if(S!==void 0){if(S)continue;h=!1;break}if(d){if(!Ll(e,function(b,x){if(!$l(d,x)&&(_===b||i(_,b,n,r,o)))return d.push(x)})){h=!1;break}}else if(!(_===m||i(_,m,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var dr=Dl,Gl=A,Ul=Gl.Uint8Array,zl=Ul;function Bl(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var kl=Bl;function Kl(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Yl=Kl,nn=ht,rn=zl,Hl=Se,Wl=dr,Ql=kl,ql=Yl,Jl=1,Xl=2,Zl="[object Boolean]",tf="[object Date]",ef="[object Error]",nf="[object Map]",rf="[object Number]",of="[object RegExp]",sf="[object Set]",af="[object String]",cf="[object Symbol]",uf="[object ArrayBuffer]",lf="[object DataView]",on=nn?nn.prototype:void 0,Yt=on?on.valueOf:void 0;function ff(t,e,n,r,i,o,s){switch(n){case lf:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case uf:return!(t.byteLength!=e.byteLength||!o(new rn(t),new rn(e)));case Zl:case tf:case rf:return Hl(+t,+e);case ef:return t.name==e.name&&t.message==e.message;case of:case af:return t==e+"";case nf:var a=Ql;case sf:var c=r&Jl;if(a||(a=ql),t.size!=e.size&&!c)return!1;var l=s.get(t);if(l)return l==e;r|=Xl,s.set(t,e);var u=Wl(a(t),a(e),r,i,o,s);return s.delete(t),u;case cf:if(Yt)return Yt.call(t)==Yt.call(e)}return!1}var hf=ff,df=fr,pf=V;function gf(t,e,n){var r=e(t);return pf(t)?r:df(r,n(t))}var vf=gf;function _f(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var mf=_f;function bf(){return[]}var yf=bf,Sf=mf,wf=yf,Ef=Object.prototype,Of=Ef.propertyIsEnumerable,sn=Object.getOwnPropertySymbols,jf=sn?function(t){return t==null?[]:(t=Object(t),Sf(sn(t),function(e){return Of.call(t,e)}))}:wf,Mf=jf;function Tf(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Cf=Tf,ft={},xf={get exports(){return ft},set exports(t){ft=t}};function If(){return!1}var Af=If;(function(t,e){var n=A,r=Af,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,c=a?a.isBuffer:void 0,l=c||r;t.exports=l})(xf,ft);var Pf=dt,Nf=Ce,Rf=pt,Lf="[object Arguments]",$f="[object Array]",Ff="[object Boolean]",Vf="[object Date]",Df="[object Error]",Gf="[object Function]",Uf="[object Map]",zf="[object Number]",Bf="[object Object]",kf="[object RegExp]",Kf="[object Set]",Yf="[object String]",Hf="[object WeakMap]",Wf="[object ArrayBuffer]",Qf="[object DataView]",qf="[object Float32Array]",Jf="[object Float64Array]",Xf="[object Int8Array]",Zf="[object Int16Array]",th="[object Int32Array]",eh="[object Uint8Array]",nh="[object Uint8ClampedArray]",rh="[object Uint16Array]",ih="[object Uint32Array]",g={};g[qf]=g[Jf]=g[Xf]=g[Zf]=g[th]=g[eh]=g[nh]=g[rh]=g[ih]=!0;g[Lf]=g[$f]=g[Wf]=g[Ff]=g[Qf]=g[Vf]=g[Df]=g[Gf]=g[Uf]=g[zf]=g[Bf]=g[kf]=g[Kf]=g[Yf]=g[Hf]=!1;function oh(t){return Rf(t)&&Nf(t.length)&&!!g[Pf(t)]}var sh=oh;function ah(t){return function(e){return t(e)}}var ch=ah,Nt={},uh={get exports(){return Nt},set exports(t){Nt=t}};(function(t,e){var n=rr,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(uh,Nt);var lh=sh,fh=ch,an=Nt,cn=an&&an.isTypedArray,hh=cn?fh(cn):lh,pr=hh,dh=Cf,ph=Te,gh=V,vh=ft,_h=Me,mh=pr,bh=Object.prototype,yh=bh.hasOwnProperty;function Sh(t,e){var n=gh(t),r=!n&&ph(t),i=!n&&!r&&vh(t),o=!n&&!r&&!i&&mh(t),s=n||r||i||o,a=s?dh(t.length,String):[],c=a.length;for(var l in t)(e||yh.call(t,l))&&!(s&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||_h(l,c)))&&a.push(l);return a}var wh=Sh,Eh=Object.prototype;function Oh(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Eh;return t===n}var jh=Oh;function Mh(t,e){return function(n){return t(e(n))}}var Th=Mh,Ch=Th,xh=Ch(Object.keys,Object),Ih=xh,Ah=jh,Ph=Ih,Nh=Object.prototype,Rh=Nh.hasOwnProperty;function Lh(t){if(!Ah(t))return Ph(t);var e=[];for(var n in Object(t))Rh.call(t,n)&&n!="constructor"&&e.push(n);return e}var $h=Lh,Fh=or,Vh=Ce;function Dh(t){return t!=null&&Vh(t.length)&&!Fh(t)}var Gh=Dh,Uh=wh,zh=$h,Bh=Gh;function kh(t){return Bh(t)?Uh(t):zh(t)}var Kh=kh,Yh=vf,Hh=Mf,Wh=Kh;function Qh(t){return Yh(t,Wh,Hh)}var qh=Qh,un=qh,Jh=1,Xh=Object.prototype,Zh=Xh.hasOwnProperty;function td(t,e,n,r,i,o){var s=n&Jh,a=un(t),c=a.length,l=un(e),u=l.length;if(c!=u&&!s)return!1;for(var f=c;f--;){var h=a[f];if(!(s?h in e:Zh.call(e,h)))return!1}var d=o.get(t),_=o.get(e);if(d&&_)return d==e&&_==t;var m=!0;o.set(t,e),o.set(e,t);for(var S=s;++f<c;){h=a[f];var b=t[h],x=e[h];if(r)var v=s?r(x,b,h,e,t,o):r(b,x,h,t,e,o);if(!(v===void 0?b===x||i(b,x,n,r,o):v)){m=!1;break}S||(S=h=="constructor")}if(m&&!S){var k=t.constructor,K=e.constructor;k!=K&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof K=="function"&&K instanceof K)&&(m=!1)}return o.delete(t),o.delete(e),m}var ed=td,nd=B,rd=A,id=nd(rd,"DataView"),od=id,sd=B,ad=A,cd=sd(ad,"Promise"),ud=cd,ld=B,fd=A,hd=ld(fd,"Set"),dd=hd,pd=B,gd=A,vd=pd(gd,"WeakMap"),_d=vd,ie=od,oe=we,se=ud,ae=dd,ce=_d,gr=dt,ot=sr,ln="[object Map]",md="[object Object]",fn="[object Promise]",hn="[object Set]",dn="[object WeakMap]",pn="[object DataView]",bd=ot(ie),yd=ot(oe),Sd=ot(se),wd=ot(ae),Ed=ot(ce),D=gr;(ie&&D(new ie(new ArrayBuffer(1)))!=pn||oe&&D(new oe)!=ln||se&&D(se.resolve())!=fn||ae&&D(new ae)!=hn||ce&&D(new ce)!=dn)&&(D=function(t){var e=gr(t),n=e==md?t.constructor:void 0,r=n?ot(n):"";if(r)switch(r){case bd:return pn;case yd:return ln;case Sd:return fn;case wd:return hn;case Ed:return dn}return e});var Od=D,Ht=yl,jd=dr,Md=hf,Td=ed,gn=Od,vn=V,_n=ft,Cd=pr,xd=1,mn="[object Arguments]",bn="[object Array]",Et="[object Object]",Id=Object.prototype,yn=Id.hasOwnProperty;function Ad(t,e,n,r,i,o){var s=vn(t),a=vn(e),c=s?bn:gn(t),l=a?bn:gn(e);c=c==mn?Et:c,l=l==mn?Et:l;var u=c==Et,f=l==Et,h=c==l;if(h&&_n(t)){if(!_n(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new Ht),s||Cd(t)?jd(t,e,n,r,i,o):Md(t,e,c,n,r,i,o);if(!(n&xd)){var d=u&&yn.call(t,"__wrapped__"),_=f&&yn.call(e,"__wrapped__");if(d||_){var m=d?t.value():t,S=_?e.value():e;return o||(o=new Ht),i(m,S,n,r,o)}}return h?(o||(o=new Ht),Td(t,e,n,r,i,o)):!1}var Pd=Ad,Nd=Pd,Sn=pt;function vr(t,e,n,r,i){return t===e?!0:t==null||e==null||!Sn(t)&&!Sn(e)?t!==t&&e!==e:Nd(t,e,n,r,vr,i)}var Rd=vr,Ld=Rd;function $d(t,e){return Ld(t,e)}var wn=$d;function Fd(t){return new Promise((e,n)=>{chrome.storage.local.get(t,r=>{chrome.runtime.lastError?n(chrome.runtime.lastError):e(r[t])})})}function Vd(t){return new Promise((e,n)=>{chrome.storage.local.set(t,()=>{chrome.runtime.lastError?n(chrome.runtime.lastError):e()})})}class Dd extends er{constructor(e){super(e),w(this,"logger",nr(["vuex-extension-sync","Background"],this.logLevel)),w(this,"ports",new Map),w(this,"prevPersistedState"),w(this,"syncFromMutations",[]),chrome.runtime.onConnect.addListener(this.onConnect.bind(this)),this.prevPersistedState=W(this.store.state,this.options.persist),this.initPersistentStore().finally(),this.store.getters.picked=n=>W(n,this.options.persist)}onConnect(e){if(this.logger.debug(`[onConnect][${e.name}] Connected`),this.ports.set(e,this.options.strategy==="master"?{usedInMasterStrategy:e.name.startsWith("cs_"),master:!1,created:Date.now()}:{}),this.masterElection(),e.onMessage.addListener(n=>this.onMessage(n,e)),e.onDisconnect.addListener(()=>this.onDisconnect(e)),this.options.strategy==="master"&&!this.isMaster(e)&&this.usedInMasterStrategy(e)){this.logger.debug(`[onMessage][${e.name}] Skip syncState due master strategy and not master port`);return}this.syncState(e)}masterElection(){if(this.options.strategy!=="master"||!this.ports.size)return;const[[e]=[]]=[...this.ports.entries()].filter(([,r])=>r.master===!0);let n;if(this.options.electionFunc)this.logger.debug("[masterElection] Using custom election function"),n=this.options.electionFunc(this.ports);else{this.logger.debug("[masterElection] Using default election function (first is master)");const[[r]=[]]=[...this.ports.entries()].filter(([,i])=>i.usedInMasterStrategy).sort(([,i],[,o])=>i.created-o.created);n=r}if(!n){this.logger.debug("[masterElection] Master not found",this.ports);return}e&&this.ports.set(e,{...this.ports.get(e),master:!1}),this.ports.set(n,{...this.ports.get(n),master:!0}),e!==n&&(this.logger.debug("[masterElection] New master sync state"),this.syncState(n)),this.logger.debug(`[masterElection] Master chosen -> "${n.name}" from ports`,this.ports)}usedInMasterStrategy(e){return this.ports.get(e).usedInMasterStrategy}isMaster(e){return this.ports.get(e).master}async onMutation(e,n){var r;const{type:i,payload:o}=e,s=this.syncFromMutations.findIndex(c=>c.type===i&&c.payload===o),a=s===-1?"self":this.syncFromMutations[s].from;if(this.logger.debug(`[onMutation] Received mutation from "${a}"`,e),this.options.ignore&&this.options.ignore.includes(i)){this.logger.warn(`[onMutation] Mutation "${i}" is ignored`);return}if(this.ports.forEach((c,l)=>{if(this.options.strategy==="master"&&!this.isMaster(l)&&this.usedInMasterStrategy(l)){this.logger.debug(`[onMessage][${l.name}] Skip mutation broadcast to this port due master strategy and not master port`);return}if(l.name!==a){const u={type:At,data:{type:i,payload:o}};l.postMessage(u),this.logger.debug(`[onMutation] Broadcast from "${a}" to "${l.name}":`,u)}}),this.syncFromMutations.splice(s,1),(r=this.options.persist)!=null&&r.length){const c=W(n,this.options.persist);wn(this.prevPersistedState,c)||(this.logger.debug("[onMutation] Persisting state",this.options.persist),await this.persistState(c))}this.prevPersistedState=W(n,this.options.persist)}onMessage(e,n){if(this.logger.debug(`[onMessage][${n.name}] Received message`,e),this.options.strategy==="master"&&!this.isMaster(n)&&this.usedInMasterStrategy(n)){this.logger.debug(`[onMessage][${n.name}] Skip message handler for this port due master strategy and not master port`);return}if(e.type===At){this.logger.debug(`[onMessage][${n.name}] Applying mutation`);const{type:r,payload:i}=e.data;this.syncFromMutations.push({type:r,payload:i,from:n.name}),this.store.commit(r,i)}}onDisconnect(e){this.logger.debug(`[onDisconnect][${e.name}] Disconnected`),this.ports.delete(e),this.masterElection()}syncState(e){this.logger.debug(`[syncState][${e.name}] Sync state with port`),e.postMessage({type:tr,data:this.store.state})}async persistState(e){try{this.logger.debug("[persistState] Writing to localstorage"),await Vd({[De]:e}),this.logger.debug("[persistState] Successfully")}catch(n){this.logger.error("[persistState] Error:",n)}}async initPersistentStore(){var e;if(this.logger.debug("[initPersistentStore] Init persisted state"),!((e=this.options.persist)!=null&&e.length)){this.logger.debug("[initPersistentStore] No keys defined");return}this.logger.debug("[initPersistentStore] Reading from localstorage");try{const n=await Fd(De);if(n===null){this.logger.debug("[initPersistentStore] Localstorage is empty");return}this.store.replaceState({...this.store.state,...W(n,this.options.persist)});const r=W(this.store.state,this.options.persist);wn(n,r)||(this.logger.debug("[initPersistentStore] Persisting state",this.options.persist),await this.persistState(r)),this.logger.debug("[initPersistentStore] Localstorage found, sync it with all ports"),this.ports.forEach((i,o)=>this.syncState(o)),this.logger.debug("[initPersistentStore] Successfully")}catch(n){this.logger.error("[initPersistentStore] Error:",n)}}}const En=globalThis.constructor.name==="ServiceWorkerGlobalScope"?"bg":chrome.action?globalThis.location.href.includes("popup")?"popup":globalThis.location.href.includes("options")?"options":"page":"cs";function Gd(t){if(t.persist&&!(Array.isArray(t.persist)&&t.persist.every(e=>typeof e=="string")))throw TypeError("options.persist must be Array of strings");if(t.ignore&&!(Array.isArray(t.ignore)&&t.ignore.every(e=>typeof e=="string")))throw TypeError("options.ignore must be Array of strings");if(t.strategy&&!["broadcast","master"].includes(t.strategy))throw TypeError("options.strategy must be one of ['broadcast', 'master']");if(t.electionFunc&&typeof t.electionFunc!="function")throw TypeError("options.electionFunc must be function(ports)");return function(e){return En==="bg"?new Dd({options:t,store:e}):new qi({options:t,store:e,pageType:En})}}const Wt=()=>({loaded:0,position:0,duration:0}),Qt=()=>({states:{dislike:null,index:null,like:null,next:null,play:null,prev:null,repeat:null,shuffle:null},repeat:!1,shuffle:!1}),Ot=()=>({title:"",link:"",version:"",artists:[],cover:"",disliked:!1,liked:!1}),On=()=>({theme:"light",newTabPinned:!0,newTabUrl:"music.yandex.ru",notificationAutoCloseTimeout:3,notifications:!0,scrobbling:!1,scrobblingFilename:"ymusic.txt",scrobblingFormat:" : %artists% - %track%",scrobblingClearOnPause:!1,scrobblingSaveCoverSeparate:!1,scrobblingCoverFilename:"cover.jpg",browserActionMode:"popup",hotkeysAlreadyLikedAction:"nothing"}),jn=Yi({state:{isActive:!1,isFocused:!1,isEmptyPlaylist:!0,isPlaying:!1,volume:1,progress:Wt(),controls:Qt(),track:Ot(),settings:On(),permissions:{notification:!1},tabs:[]},getters:{},mutations:{EVENT_STATE(t,{isPlaying:e}){t.isPlaying=e},EVENT_TRACK(t,{track:e}){e?(t.track.title=e.title,t.track.link=e.link,t.track.version=e.version,t.track.artists=e.artists.map(({link:n,title:r})=>({link:n,title:r.trim()})),t.track.cover="https://"+e.cover,t.track.disliked=e.disliked,t.track.liked=e.liked):t.track=Ot()},EVENT_CONTROLS(t,{states:e,shuffle:n,repeat:r}){t.controls.repeat=r,t.controls.shuffle=n,t.controls.states=e,t.controls.states.play=!0},EVENT_VOLUME(t,{volume:e}){t.volume=e},EVENT_PROGRESS(t,{progress:e}){t.progress=e},EVENT_THEME(t,{theme:e}){t.settings||(t.settings={}),t.settings.theme=e},EVENT_SHUTDOWN(t){t.isActive=!1,t.progress=Wt(),t.controls=Qt(),t.track=Ot()},EVENT_STARTED(t){t.isActive=!0},EVENT_FOCUS(t){t.isFocused=!0},EVENT_BLUR(t){t.isFocused=!1},EVENT_TRACKS(t,{count:e}){t.isEmptyPlaylist=e===0,t.isEmptyPlaylist&&(t.progress=Wt(),t.controls=Qt(),t.track=Ot())},CS_PLAY(){},CS_POSITION(t){},CS_SHUFFLE(){},CS_REPEAT(){},CS_URL(t){},CS_NEXT(){},CS_PREV(){},CS_LIKE(){},CS_DISLIKE(){},CS_VOLUME_UP(){},CS_VOLUME_DOWN(){},CS_VOLUME_TOGGLE(){},CS_VOLUME(){},CS_SEEK_FWD(){},CS_SEEK_BACK(){},BG_OPEN_TAB(){},NOTIFICATION_LEVEL(t,{level:e}){t.permissions.notification=e},ADD_TAB(t,e){t.tabs.find(n=>n.id===e.id)||(t.tabs=[...t.tabs,e])},REMOVE_TAB(t,e){t.tabs=t.tabs.filter(n=>n.id!==e.id)},SYNC_SETTINGS(t){const e=On(),n=t.settings,r={};for(const i of Object.keys(e))i in n||(r[i]=e[i]);Object.keys(r).length&&(t.settings={...n,...r})},SETTINGS_SET_KEY(t,{key:e,value:n}){t.settings={...t.settings,[e]:n}},"@@SYNC_RECONNECT_MUTATION"(){}},actions:{},plugins:[Gd({persist:["settings"],debug:!1,ignored:["ADD_TAB","NOTIFICATION_LEVEL","REMOVE_TAB","SETTINGS_SET_KEY","SYNC_SETTINGS"],strategy:"master"})]});function Ud(t,e="info"){return{levels:["trace","debug","info","warn","error"],colors:["\x1B[34m","\x1B[35m","\x1B[32m","\x1B[33m","\x1B[31m"],level:e,namespace:t,setLevel(n){if(this.levels.includes(n))this.level=n;else throw new Error(`Invalid log level: ${n}`)},_log(n,...r){const i=this.levels.indexOf(n);i>=this.levels.indexOf(this.level)&&console[["debug","trace","info"].includes(n)?"log":n](Array.isArray(this.namespace)?`${this.colors[i]}${n.toUpperCase()}\x1B[0m: [${this.namespace.join("][")}]`:`[${this.namespace}]`,...r)},trace(...n){this._log("trace",...n)},debug(...n){this._log("debug",...n)},info(...n){this._log("info",...n)},log(...n){this._log("info",...n)},warn(...n){this._log("warn",...n)},error(...n){this._log("error",...n)}}}class zd{constructor(){Bt(this,"logger",Ud("ContentScript","info"));Bt(this,"mutationsFromYandexContentScript",[]);this.subscribeForYandexContentScriptCommands(),this.injectYandexContentScript(),this.subscribeForBackgroundEvents()}subscribeForYandexContentScriptCommands(){document.addEventListener("extension.outgoing.event",({detail:{type:e,payload:n}})=>{this.logger.debug("[subscribeForYandexContentScriptCommands] Got event from content.inject:",e,n),this.mutationsFromYandexContentScript.push({type:e,payload:n}),this.logger.debug("[subscribeForYandexContentScriptCommands] Committing"),jn.commit(e,n)})}sendIncomingEvent({type:e,payload:n}){document.dispatchEvent(new CustomEvent("extension.incoming.event",{detail:{type:e,payload:n}}))}subscribeForBackgroundEvents(){jn.subscribe(e=>{this.logger.debug("[subscribeForBackgroundEvents] mutation fired:",e);const{type:n,payload:r}=e,i=this.mutationsFromYandexContentScript.findIndex(o=>o.type===e.type&&o.payload===e.payload);i===-1?(this.logger.debug("[subscribeForBackgroundEvents] Sending extension.incoming.event to content.inject:",e),this.sendIncomingEvent({type:n,payload:r})):(this.mutationsFromYandexContentScript.splice(i,1),this.logger.debug("[subscribeForBackgroundEvents] Skip it from content.inject"))})}injectYandexContentScript(){this.injectScript("content/content.inject.js")}injectScript(e){const n=document.createElement("script");n.src=chrome.runtime.getURL(e),n.type="module",n.onload=function(){this.remove()},(document.head||document.documentElement).appendChild(n)}}new zd;
