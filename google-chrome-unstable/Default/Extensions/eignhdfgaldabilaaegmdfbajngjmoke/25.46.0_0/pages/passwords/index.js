"use strict";function _slicedToArray(e,a){return _arrayWithHoles(e)||_iterableToArrayLimit(e,a)||_unsupportedIterableToArray(e,a)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,a){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,a):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,a):void 0}function _arrayLikeToArray(e,a){(null==a||a>e.length)&&(a=e.length);for(var n=0,c=Array(a);n<a;n++)c[n]=e[n];return c}function _iterableToArrayLimit(e,a){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var c,t,r,i,o=[],s=!0,l=!1;try{if(r=(n=n.call(e)).next,0===a){if(Object(n)!==n)return;s=!1}else for(;!(s=(c=r.call(n)).done)&&(o.push(c.value),o.length!==a);s=!0);}catch(e){l=!0,t=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw t}}return o}}function _arrayWithHoles(e){if(Array.isArray(e))return e}cjce.registerTemplate("bm-p-passwords",function(e,r){var n,a=!cjBasics.webRequest.getWrifSupported(),c="https://passwords.google.com",t=c+"/",i=("0"!==r.account.authuser&&(t+="u/"+r.account.authuser+"/"),r.account.pageId&&(t+="b/"+r.account.pageId+"/"),cjBasics.generateUniqueId()),o={bm_iid:i,bm_cid:"passwords",bm_cst:"2",bm_wiz:"1",hl:cjBasics.lang.getCurrent()};function s(e){var a=t,e=(e&&"home"!==e&&(a+=e),cjBasics.urlParams.attach(a,o));n.cjceSendFrameCommand({method:"bmCstUpdateState",value:e},c)}var l=cjce.createElement("bm-ogb",{loading:!0,onBack:function(){n.cjceSendFrameCommand({method:"bmCstNavigateBack"},c)},drawer:!0,serviceIcon:"password_manager",serviceLabel:cjBasics.lang.i18n("cj_i18n_07071","Password Manager"),pageLabel:cjBasics.lang.i18n("cj_i18n_00291","Home"),bmApis:r,onNewTab:function(){n.cjceGetCleanUrl(c).then(function(e){e=e||t;r.openTab(e)})}}),u=(e.appendChild(l),cjce.createElement("ccbm-iconbutton",{label:cjBasics.lang.i18n("cj_i18n_00085","Search"),iconName:"__mdi:search",onClick:function(){s("search")}})),d=(l.cjceAppendChild(u),[{id:"home",label:cjBasics.lang.i18n("cj_i18n_00291","Home"),iconName:"__mdi:home",newTabUrl:""},{id:"checkup",label:cjBasics.lang.i18n("cj_i18n_07072","Password checkup"),iconName:"__mdi:verified_user",newTabUrl:"checkup/start"},{id:"options",label:cjBasics.lang.i18n("cj_i18n_00298","Settings"),iconName:"__mdi:settings",newTabUrl:"options"},{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},{id:"account",iconName:"__mdi:account_circle",label:cjBasics.lang.i18n("cj_i18n_01506","Account"),shortcutId:"79"}]);function m(e,a){a=a.newTabUrl||cjgFrontend.urls.getShortcutUrl(a.shortcutId,r.account);r.openTab(a)}function b(e){l.cjceSetBackState("home"!==e),p.cjceSelectedId=e,u.hidden="search"===e;e=function(e){if(e.startsWith("search"))return cjBasics.lang.i18n("cj_i18n_00085","Search");if(e.startsWith("checkup"))return cjBasics.lang.i18n("cj_i18n_07072","Password checkup");if(e.startsWith("settings"))return cjBasics.lang.i18n("cj_i18n_00298","Settings");return cjBasics.lang.i18n("cj_i18n_00291","Home")}(e);l.cjceSetPageLabel(e)}var p=cjce.createElement("bm-navlist",{selectedId:"passwords",items:d,onClick:function(e){"account"===e?r.pageManager.navigate(e):s(e)},onNewTab:m});l.cjceDrawerEl.appendChild(p),a?(a=cjce.createElement("cjmd-container",{scrollable:!0,shadow:"thinOnScroll"}),d=cjce.createElement("bm-navlist",{items:d,onClick:m,onNewTab:m}),a.appendChild(d),e.appendChild(a)):(cjBasics.webRequest.handleIframeHeaders([c+"/*bm_iid="+i+"*"],{disableOgs:c,handleFirefoxInject:!0,handleSecVariables:!0}),cjBasics.webRequest.catchAndStop(["https://accounts.google.com/signin/*passwords.google.com*"],function(e){r.openTab(e)}),n=cjce.createElement("bm-iframe",{src:cjBasics.urlParams.attach(t,o),solid:"#fff",onLoad:function(){l.cjceSetLoading(!1)},onBmMessage:function(e,a){var n,c,t;"bmCstOpenUrl"===e?(t=(c=_slicedToArray(a,3))[0],n=c[1],c=c[2],t=cjBasics.cleanBmUrl(t),r.openTab(t,n,c)):"passwordsUpdatePath"===e&&b(a.split("/")[1]||"home")}}),e.appendChild(n))});