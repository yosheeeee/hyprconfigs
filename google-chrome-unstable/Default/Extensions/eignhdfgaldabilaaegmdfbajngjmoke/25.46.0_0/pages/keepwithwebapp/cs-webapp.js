"use strict";!function(){var i,t,e,n,o,a,r=window,s=r.location,d=document,u=("undefined"!=typeof chrome&&chrome||{}).runtime.getURL("PATH/").replace("/PATH/",""),c=u.startsWith("safari-web-extension://"),p=!c&&u.startsWith("moz-extension://");"undefined"!=typeof KeyboardEvent&&"key"in KeyboardEvent.prototype&&!/MSIE |Edge\/|Trident.*rv:11\./.test(navigator.userAgent)&&String.quote;function m(e,t,n){r.parent.postMessage({bm_method:e,bm_request:n,bm_value:t},u)}function l(e,t){t=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)}function h(){var e=s.hash.replace("#","")||"home";t!==e&&(m("keepwithwebappUpdateView",e),t=e),setTimeout(h,100)}function v(){var e,t,n=d.getElementById("preloaded-theme");if(n)return(e=-1!==s.search.indexOf("bm_udm=1"))&&(d.documentElement.dataset.bmUdm="1"),(t=d.head.textContent.match(/https:\/\/www\.gstatic\.com\/_\/apps-notes\/_\/ss\/.+?"/g))?(t=t[e?1:0].replace(/\\u003d/g,"=").split('"')[0],void(n.href!==t&&(n.href=t))):void 0;setTimeout(v,.1)}function b(){var e=[],t=d.querySelectorAll('body .notes-container div > div:first-child > div > div:first-child > div[role="button"] + div:not([role="button"]) > div[role="button"]'),n=t.length-1;i=t[n];for(var o=0;o<n;o++){var a=t[o],a=a.getAttribute("aria-label")||a.textContent.trim();e.push(a)}m("keepwithwebappLabels",e)}e=function(e,t){return"keepwithwebapp"===t&&"https://keep.google.com"===e},n=function(){var e,n;v(),h(),e=b,"complete"===d.readyState||"loaded"===d.readyState||"interactive"===d.readyState?e():d.addEventListener("DOMContentLoaded",e),n=function(e,t){var n;"keepwithwebappEditLabels"===e?i&&(l(n=i,"mousedown"),l(n,"mouseup"),l(n,"click"),setInterval(b,1e3)):"keepwithwebappSetHash"===e?s.hash=t||"":"bmCstUpdateState"===e&&(n=t,r.history.pushState({},"",n),n=new PopStateEvent("popstate",{state:{url:n}}),r.dispatchEvent(n))},r.addEventListener("message",function(e){var t;if(c){if(!e.origin.toLowerCase().startsWith("safari-web-extension://"))return}else if(!(e.origin===u))return;(e.isTrusted||p)&&e.source===r.parent&&(t=(e=e.data||{}).bm_method)&&n(t,e.bm_value,e.bm_request)})},function(e){var t,n;if(r.top!==r.self&&!(d.documentElement instanceof SVGSVGElement))return"object"!=typeof(t=s.ancestorOrigins)?1:(n=c?u.toLowerCase():u,1===t.length?t[0]===n:e&&2===t.length&&t[1]===n&&!t[0].endsWith(".google.com"))}(o)&&(a=(a=(o=s.search).match(/[&?]bm_cid=([\da-z-]{2,25})(?:&|$)/))&&a[1],e(origin,a,o))&&(a&&(d.documentElement.dataset.bmCid=a),n())}();