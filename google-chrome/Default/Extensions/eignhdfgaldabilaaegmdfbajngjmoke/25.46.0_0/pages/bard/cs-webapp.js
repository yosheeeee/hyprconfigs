"use strict";!function(){var o=window,a=o.location,r=document,i=("undefined"!=typeof chrome&&chrome||{}).runtime.getURL("PATH/").replace("/PATH/",""),d=i.startsWith("safari-web-extension://"),s=!d&&i.startsWith("moz-extension://");"undefined"!=typeof KeyboardEvent&&"key"in KeyboardEvent.prototype&&!/MSIE |Edge\/|Trident.*rv:11\./.test(navigator.userAgent)&&String.quote;function t(e,t,n){o.parent.postMessage({bm_method:e,bm_request:n,bm_value:t},i)}var e,n,c,u,m=-1!==a.search.indexOf("bm_udm=1");function l(){r.body.classList.toggle("dark-theme",m)}function g(){var e=r.querySelector('[data-test-id="mode-text"]');t("bardAdvancedState",Boolean(e)),setTimeout(g,300)}e=function(e,t){return"bard"===t&&("https://bard.google.com"===e||"https://gemini.google.com"===e)},n=function(){var e,n;e=l,"complete"===r.readyState||"loaded"===r.readyState||"interactive"===r.readyState?e():r.addEventListener("DOMContentLoaded",e),g(),n=function(e){"bardToggleAdvanced"===e&&(r.querySelector("bard-logo").click(),setTimeout(function(){var e=r.querySelector('mat-action-list .bard-mode-list-button:not(:has(.check-icon.item-icon),[aria-disabled="true"])');e?e.click():t("bardOpenBuyAdvanced")},300))},o.addEventListener("message",function(e){var t;if(d){if(!e.origin.toLowerCase().startsWith("safari-web-extension://"))return}else if(!(e.origin===i))return;(e.isTrusted||s)&&e.source===o.parent&&(t=(e=e.data||{}).bm_method)&&n(t,e.bm_value,e.bm_request)})},function(e){var t,n;if(o.top!==o.self&&!(r.documentElement instanceof SVGSVGElement))return"object"!=typeof(t=a.ancestorOrigins)?1:(n=d?i.toLowerCase():i,1===t.length?t[0]===n:e&&2===t.length&&t[1]===n&&!t[0].endsWith(".google.com"))}(c)&&(u=(u=(c=a.search).match(/[&?]bm_cid=([\da-z-]{2,25})(?:&|$)/))&&u[1],e(origin,u,c))&&(u&&(r.documentElement.dataset.bmCid=u),n())}();