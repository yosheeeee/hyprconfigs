"use strict";function _slicedToArray(e,a){return _arrayWithHoles(e)||_iterableToArrayLimit(e,a)||_unsupportedIterableToArray(e,a)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,a){var c;if(e)return"string"==typeof e?_arrayLikeToArray(e,a):"Map"===(c="Object"===(c={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:c)||"Set"===c?Array.from(e):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(e,a):void 0}function _arrayLikeToArray(e,a){(null==a||a>e.length)&&(a=e.length);for(var c=0,n=Array(a);c<a;c++)n[c]=e[c];return n}function _iterableToArrayLimit(e,a){var c=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=c){var n,i,t,s,o=[],r=!0,l=!1;try{if(t=(c=c.call(e)).next,0===a){if(Object(c)!==c)return;r=!1}else for(;!(r=(n=t.call(c)).done)&&(o.push(n.value),o.length!==a);r=!0);}catch(e){l=!0,i=e}finally{try{if(!r&&null!=c.return&&(s=c.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function _arrayWithHoles(e){if(Array.isArray(e))return e}!function(){var Ae=document;cjce.registerTemplate("bm-p-gws",function(c,s){var L,l,o,n,d,O,_,q,F,P,i,t,r,H,m,W,Y=!0,D=!0,K=null,G="home",u=s.instanceParameters.productId||"search",h=cjBasics.generateUniqueId(),V=cjBasics.generateUniqueId(),g="0"===s.account.authuser?null:s.account.authuser,z=g?"?authuser="+g:"",b="https://www.google.com",J="https://news.google.com",Q="https://maps.google.com",Z="https://consent.google.com",$=cjBasics.navigator.contentScriptsOnSearchBlockable||cjBasics.navigator.isSafari,j=$?Q:b,p=!cjBasics.webRequest.getWrifSupported()||cjBasics.navigator.isSafari,v=cjBasics.lang.i18n("cj_i18n_00291","Home"),X=v,f="",B="all",w=null,S=null,I="",y=null,C=[],N=!1,k=!1,T=!1,ee=!cjBasics.navigator.isFirefox,A=[],ae=!1,R=cjBasics.lang.i18n("cj_i18n_00434","Search"),e="googleg",ce=("search"===u?(ae=!0,A=["all","udm_web","isch","vid","nws","shop","bks","udm_forums"]):"shopping"===u?(R=cjBasics.lang.i18n("cj_i18n_00435","Shopping"),e="shopping",B="shop"):"images"===u?(R=cjBasics.lang.i18n("cj_i18n_00488","Images"),e="images",B="isch"):"calculator"===u?(N=!0,R=cjBasics.lang.i18n("cj_i18n_00589","Calculator"),e="calculator",y="Google Calculator",T=!0):"mathssolver"===u?(N=!0,R=cjBasics.lang.i18n("cj_i18n_07533","Maths solver"),e="calculator",y="google maths solver",T=!0):"spinner"===u?(N=!0,R=cjBasics.lang.i18n("cj_i18n_06230","Spinner"),e="calculator",y="Google Spinner",T=!0):"converter"===u?(N=!0,R=cjBasics.lang.i18n("cj_i18n_00845","Unit converter"),e="calculator",y="Unit converter",T=!0):"weather"===u?(R=cjBasics.lang.i18n("cj_i18n_00743","Weather"),e="weather",I="weather near ",T=!(y="")):"sports"===u?(N=!0,R=cjBasics.lang.i18n("cj_i18n_06342","Sports"),e="sports",y="Sports",w="spo"):"finance"===u?(N=!0,R=cjBasics.lang.i18n("cj_i18n_00412","Finance"),e="finance",y="Finance",S="MARKET_SUMMARY",T=!0):"covid19"===u?(N=!0,R=cjBasics.lang.i18n("cj_i18n_06386","Coronavirus (COVID-19)"),e="public_alerts",C=[y="coronavirus","coronavirus prevention","coronavirus stats","coronavirus treatment","coronavirus symptoms","coronavirus people also search for","coronavirus news"],W=s.darkMode?"#7F9AFF":"#1c3aa9",D=Y=W,G="covidhome"):"events"===u?(N=k=!0,R=cjBasics.lang.i18n("cj_i18n_00484","Events"),e="events",y="Events",w="htl;events"):"jobs"===u?(N=k=!0,R=cjBasics.lang.i18n("cj_i18n_06354","Jobs"),e="employ",y="Jobs",w="htl;jobs"):"splinter"===u&&(k=!0,R=cjBasics.lang.i18n("cj_i18n_06353","Education"),e="education",y="Education",w="htl;splinter"),C.push(y),"bm_cache_v33__"+u+"__query"),ne={bks:"bo",isch:"i",nws:"n",shop:"sh",vid:"yt"},ie={bks:"36",isch:"2",nws:"12",shop:"28",udm_attractions:"15",udm_forums:"18",udm_learn:"6",udm_perspectives:"4",udm_web:"14",vid:"7"},te={2:"isch",4:"udm_perspectives",6:"udm_learn",7:"vid",12:"nws",14:"udm_web",15:"udm_attractions",18:"udm_forums",28:"shop",36:"bks"},se={all:cjBasics.lang.i18n("cj_i18n_00083","All"),bks:cjBasics.lang.i18n("cj_i18n_00019","Books"),isch:cjBasics.lang.i18n("cj_i18n_00017","Images"),nws:cjBasics.lang.i18n("cj_i18n_00018","News"),shop:cjBasics.lang.i18n("cj_i18n_00015","Shopping"),udm_attractions:cjBasics.lang.i18n("cj_i18n_TODO","Attractions"),udm_forums:cjBasics.lang.i18n("cj_i18n_00182","Forums"),udm_learn:cjBasics.lang.i18n("cj_i18n_06439","Learn"),udm_perspectives:cjBasics.lang.i18n("cj_i18n_TODO","Perspectives"),udm_web:cjBasics.lang.i18n("cj_i18n_07622","Web"),vid:cjBasics.lang.i18n("cj_i18n_00014","Videos")},oe={all:"__mdi:search",bks:"__mdi:book",isch:"__mdi:image",nws:"__mdi:news",shop:"__mdi:local_offer",udm_attractions:"",udm_forums:"__mdi:forum",udm_learn:"__mdi:school",udm_perspectives:"",udm_web:"__mdi:language",vid:"__mdi:slideshow"};function re(){browserStorage.local.setItem(ce,{q:f,tbm:B,time:Date.now()})}function le(e){B=(e=e).tbm||te[e.udm]||"all",ae&&i&&i.cjceSetEngine(B)}function de(){var e,a,c,n,i,t,s,o,r;f?("finance"!==u&&l.cjceSetLoading(!0),d.src="covidmobility"===B?cjBasics.urlParams.attach(b+"/covid19/mobility/",{bm_cid:"covid19mobility",bm_wiz:"1",hl:cjBasics.lang.getCurrent()}):(e="gws-search",a="finance"===u&&(!f||-1!==C.indexOf(f)),c="covid19"===u&&("covidhome"===B||!B),n=a?b+"/finance/":j+"/m",i=cjBasics.navigator.mobileUserAgent,p&&"isch"===B?(e="gws-search-images-desktop",i="Opera/12.02 (Android 4.1; Linux; Opera Mobi/ADR-1111101157; U; en-US) Presto/2.9.201 Version/12.02"):"shop"===B?e="gws-search-shop":"finance"===u&&"currency converter"===f.toLowerCase()?e="gws-onebox-currency":"jobs"===u||"finance"===u||"sports"===u||"covid19"===u?e="gws-"+u:"weather"!==u&&"calculator"!==u&&"mathssolver"!==u&&"spinner"!==u&&"converter"!==u||(e="gws-onebox-"+u),t=null,s=cjBasics.lang.getCurrent(),o=null,r=f,a?(r=null,o=S):k&&(t="US"),"converter"===u&&(s="en"),c&&(r="coronavirus"),a=!B||"shop"===B||"all"===B||B.startsWith("udm_")?null:B,c=ie[B],n=cjBasics.urlParams.attach(n,{bm_cid:e,bm_pid:u,bm_iid:h,bm_wiz:"1",ie:"utf-8",oe:"utf-8",authuser:g,q:r,num:T?"1":null,udm:c,tbm:a,ibp:w,kptab:o,kgmid:null,fg:"1",gws_rd:"cr",nord:"1",adtest:p?"on":null,"adtest-useragent":p?i:null,igu:p?"1":null,gl:t,hl:s}),"events"===u&&(n+="#fpstate=tlexp&htiq=Events"),n)):d.src="about:blank",_.focus(),re()}function _e(){return f&&("patents"===u||"search"===u&&"isch"!==B&&"shop"!==B)}function me(){return"isch"===B&&("images"!==u||Boolean(f))}function ue(){return"search"===u&&"all"===B}function he(e){return!r&&("search"===u||"covid19"===u&&!(e||B&&"covidhome"!==B))}function U(){F.hidden=!me(),q.hidden=!ue(),P.hidden=!_e();var e=f&&-1===C.indexOf(f);N&&(n.hidden=!e),i&&(i.hidden=!he(e)),"shopping"===u&&(e=_.value,l.cjceSetNavigatorCollapseState(f!==e&&e),l.cjceSetNavigatorFullWidthState(!e))}function M(e){e=e||_.value||y;I&&!e.startsWith(I)&&(e=I+e),f=e,d.hidden=!f,O.hidden=f,N||l.cjceSetNavigatorCollapseState(_.value),de(),U()}function ge(e){B=e,(f?de:M)(),U()}function be(){var e=cjce.createElement("cjmd-appbar",{secondary:!0}),a="search"===u&&cjBasics.lang.checkLanguageHasShortVocabulary(cjBasics.lang.getCurrent(),!0)?5:4,c=(1e3<Ae.body.offsetWidth&&(a=10),{}),n=(A.forEach(function(e){c[e]={iconName:oe[e],label:se[e]}}),cjce.createElement("ccbm-tabs",{color:L,items:c,itemLimit:a,onMetaClick:function(e){B=e,x()},onChange:ge,onActiveClick:ge,selectedId:B}));return e.appendChild(n),e.cjceSetEngine=function(e){n&&(n.cjceSelectedId=e||"all")},e}var a,je={LOCAL_MARKETS:cjBasics.lang.i18n("cj_i18n_01113","Local markets"),WORLD_MARKETS:cjBasics.lang.i18n("cj_i18n_01114","World markets"),YOUR_STOCKS:cjBasics.lang.i18n("cj_i18n_06879","Your watchlists")};function pe(e){var a={MARKET_SUMMARY:{iconName:"__mdi:trending_up",label:v,newTabUrl:!0},YOUR_STOCKS:{iconName:"__mdi:list",label:je.YOUR_STOCKS,newTabUrl:!0,divider:!0},currencyConverter:{iconName:"__mdi:swap_horiz",label:cjBasics.lang.i18n("cj_i18n_00829","Currency converter"),newTabUrl:!0}};m=cjce.createElement("bm-navlist",{selectedId:"MARKET_SUMMARY",isSelector:!0,items:a,onChange:function(e){"currencyConverter"===e?(m.cjceSelectedId=S,E(f="Currency converter"),M(f)):Be(e)},onNewTab:function(e,a){var c;"YOUR_STOCKS"===e?(c=cjBasics.urlParams.attach(b+"/finance/portfolio",{authuser:g,kptab:"YOUR_STOCKS"}),s.openTab(c)):"currencyConverter"===e?we(e,a):(c=e,c=cjBasics.urlParams.attach(b+"/finance/",{kptab:e||null,authuser:g}),s.openTab(c))}}),e.appendChild(m)}function ve(e){var a,c,n;"finance"===u?pe(e):"covid19"===u?(n=e,a={covidhome:{iconName:"__mdi:home",label:v,newTabUrl:b+"/search?q=COVID-19"},covidresources:{iconName:"__mdi:description",label:cjBasics.lang.i18n("cj_i18n_06648","Resources"),shortcutId:"1041",external:!0},nws:{iconName:"__mdi:news",label:cjBasics.lang.i18n("cj_i18n_01345","Headlines"),newTabUrl:J+"/topics/CAAqIggKIhxDQkFTRHdvSkwyMHZNREZqY0hsNUVnSmxiaWdBUAE"+z},vid:{iconName:"__mdi:slideshow",label:cjBasics.lang.i18n("cj_i18n_00014","Videos"),newTabUrl:b+"/videohp"+z+"#q=Coronavirus&tbm=vid"},covidself:{iconName:"__mdi:how_to_reg",label:cjBasics.lang.i18n("cj_i18n_06598","Self-assessment"),shortcutId:"1054",external:!0},covidmobility:{iconName:"__mdi:commute",label:cjBasics.lang.i18n("cj_i18n_06499","Community mobility reports"),newTabUrl:b+"/covid19/mobility/"},covidtrends:{iconName:"__mdi:trending_up",label:cjBasics.lang.i18n("cj_i18n_06500","Data & insights"),newTabUrl:"https://trends.google.com/trends/story/US_cu_4Rjdh3ABAABMHM_en"+z,external:!0}},a=cjce.createElement("bm-navlist",{selectedId:"covidhome",isSelector:!0,items:a,onChange:function(e,a){"covidhome"===e?l.cjceSetPageLabel(v):l.cjceSetPageLabel(a.label),E(f=y),M(f)},onNewTab:we}),n.appendChild(a)):("images"===u?c={home:{iconName:"__mdi:home",label:v,shortcutId:"96"},lens:{iconName:"__mdi:google_lens",label:cjBasics.lang.i18n("cj_i18n_06348","Search by image"),shortcutId:"1003",external:!0},advancedimages:{iconName:"__mdi:tune",label:cjBasics.lang.i18n("cj_i18n_00406","Advanced search"),shortcutId:"535",external:!0},life:{iconName:"__mdi:history",label:cjBasics.lang.i18n("cj_i18n_00489","LIFE photo archive"),shortcutId:"99",external:!0},save:{iconName:"__mdi:bookmarks",label:cjBasics.lang.i18n("cj_i18n_07396","Saved"),shortcutId:"359",divider:!0},settings:{iconName:"__mdi:settings",label:cjBasics.lang.i18n("cj_i18n_00298","Settings"),shortcutId:"127",external:!0},yourdata:{iconName:"__mdi:cjg_account",label:cjBasics.lang.i18n("cj_i18n_01738","Your data in Search"),shortcutId:"866",external:!0}}:"shopping"===u?(c={home:{iconName:"__mdi:home",label:v},relatedHeader:{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},save:{iconName:"__mdi:bookmark_border",label:cjBasics.lang.i18n("cj_i18n_07396","Saved"),shortcutId:"359"},search:{iconName:"__mdi:search",label:cjBasics.lang.i18n("cj_i18n_01365","Google Search"),shortcutId:"157"}},cjBasics.webRequest.getWrifSupported()||delete c.save):"converter"===u?c={home:{iconName:"__mdi:home",label:v,shortcutId:"572"},relatedHeader:{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},calculator:{iconName:"__mdi:calculate",label:cjBasics.lang.i18n("cj_i18n_00589","Calculator"),shortcutId:"272"},mathssolver:{iconName:"__mdi:functions",label:cjBasics.lang.i18n("cj_i18n_07533","Maths solver"),shortcutId:"1707"},finance:{iconName:"__mdi:finance",label:cjBasics.lang.i18n("cj_i18n_07113","Google Finance"),shortcutId:"54"}}:"mathssolver"===u?c={home:{iconName:"__mdi:home",label:v,shortcutId:"272"},relatedHeader:{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},calculator:{iconName:"__mdi:calculate",label:cjBasics.lang.i18n("cj_i18n_00589","Calculator"),shortcutId:"272"},converter:{iconName:"__mdi:swap_horiz",label:cjBasics.lang.i18n("cj_i18n_00845","Unit converter"),shortcutId:"572"}}:"calculator"===u?c={home:{iconName:"__mdi:home",label:v,shortcutId:"272"},relatedHeader:{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},mathssolver:{iconName:"__mdi:functions",label:cjBasics.lang.i18n("cj_i18n_07533","Maths solver"),shortcutId:"1707"},converter:{iconName:"__mdi:swap_horiz",label:cjBasics.lang.i18n("cj_i18n_00845","Unit converter"),shortcutId:"572"},finance:{iconName:"__mdi:finance",label:cjBasics.lang.i18n("cj_i18n_07113","Google Finance"),shortcutId:"54"}}:"weather"===u?c={home:{iconName:"__mdi:home",label:v,shortcutId:"464"},relatedHeader:{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},news:{iconName:"__mdi:play_newsstand",label:cjBasics.lang.i18n("cj_i18n_00425","News"),shortcutId:"109"},search:{iconName:"__mdi:search",label:cjBasics.lang.i18n("cj_i18n_01365","Google Search"),shortcutId:"157"}}:"patents"===u?c={home:{iconName:"__mdi:home",label:v,shortcutId:"115"},relatedHeader:{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},scholar:{iconName:"__mdi:school",label:cjBasics.lang.i18n("cj_i18n_00433","Scholar"),shortcutId:"125"},search:{iconName:"__mdi:search",label:cjBasics.lang.i18n("cj_i18n_01365","Google Search"),shortcutId:"157"}}:"search"===u?c={home:{iconName:"__mdi:home",label:v,shortcutId:"157"},save:{iconName:"__mdi:bookmarks",label:cjBasics.lang.i18n("cj_i18n_07396","Saved"),shortcutId:"359",external:!cjBasics.webRequest.getWrifSupported(),divider:!0},advancedweb:{iconName:"__mdi:search",label:cjBasics.lang.i18n("cj_i18n_00406","Advanced search"),shortcutId:"5",external:!0},advancedimages:{iconName:"__mdi:image_search",label:cjBasics.lang.i18n("cj_i18n_01453","Advanced image search"),shortcutId:"535",external:!0,divider:!0},settings:{iconName:"__mdi:settings",label:cjBasics.lang.i18n("cj_i18n_00298","Settings"),shortcutId:"127",external:!0},yourdata:{iconName:"__mdi:cjg_account",label:cjBasics.lang.i18n("cj_i18n_01738","Your data in Search"),shortcutId:"866",external:!0},howsearchworks:{iconName:"__mdi:cjg_howsearchworks",label:cjBasics.lang.i18n("cj_i18n_01802","How Search works"),shortcutId:"916",external:!0}}:(c={home:{iconName:"__mdi:home",label:v},relatedHeader:{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},search:{iconName:"__mdi:search",label:cjBasics.lang.i18n("cj_i18n_01365","Google Search"),shortcutId:"157"},save:{iconName:"__mdi:bookmark_border",label:cjBasics.lang.i18n("cj_i18n_07396","Saved"),shortcutId:"359"}},cjBasics.webRequest.getWrifSupported()||delete c.save),n=cjce.createElement("bm-navlist",{selectedId:G,items:c,onClick:function(e){e!==G&&("save"===e?ye():s.pageManager.navigate(e))},onNewTab:we}),e.appendChild(n))}function fe(e){e=e||"MARKET_SUMMARY";l.cjceSetPageLabel(je[e]||v),l.cjceSetBackState("MARKET_SUMMARY"!==e),m.cjceSelectedId=e}function Be(e){fe(S=e),M()}function we(e,a){a=a;var c="currencyConverter"===(e=e)?cjBasics.urlParams.attach(b+"/search",{q:"Currency converter",authuser:g}):"reviews"===e?"https://customerreviews.google.com"+s.wizPath+"/":"shopping"===u&&"save"!==e&&"search"!==e&&"shoppinglist"!==e?(c="https://shopping.google.com/u/"+s.account.authuser+"/","home"===e?c:c+e):a.newTabUrl||cjgFrontend.urls.getShortcutUrl(a.shortcutId,s.account);s.openTab(c)}function Se(e){var a=Boolean(e);o.hidden=!a,r=e,i.hidden=!he()}function Ie(){var e=cjce.createElement("cjmd-container",{shadow:"thin"}),a=cjce.createElement("cjmd-emptystate",{iconName:"__mdi:search",subLabel:cjBasics.lang.i18n("cj_i18n_00046","Please enter a search query")});return e.appendChild(a),"images"===u?(a={lens:{iconName:"__mdi:google_lens",label:cjBasics.lang.i18n("cj_i18n_06348","Search by image"),shortcutId:"1003"},advancedimages:{iconName:"__mdi:tune",label:cjBasics.lang.i18n("cj_i18n_00406","Advanced search"),shortcutId:"535"},save:{iconName:"__mdi:bookmarks",label:cjBasics.lang.i18n("cj_i18n_07396","Saved"),shortcutId:"359"}},a=cjce.createElement("ccbm-biglinks",{bottom:!0,items:a,onClick:function(e,a){"save"===e?ye():"lens"===e?s.pageManager.navigate("lens"):(e=cjgFrontend.urls.getShortcutUrl(a.shortcutId,s.account),s.openTab(e))},onMetaClick:function(e,a){a=cjgFrontend.urls.getShortcutUrl(a.shortcutId,s.account);s.openTab(a)}}),e.appendChild(a)):"search"===u&&(a={weather:{iconName:"__mdi:wb_sunny",label:cjBasics.lang.i18n("cj_i18n_00743","Weather"),shortcutId:"464"},sports:{iconName:"__mdi:emoji_events",label:cjBasics.lang.i18n("cj_i18n_06342","Sports"),shortcutId:"1006"},calculator:{iconName:"__mdi:calculate",label:cjBasics.lang.i18n("cj_i18n_00589","Calculator"),shortcutId:"157"}},a=cjce.createElement("ccbm-biglinks",{bottom:!0,items:a,onClick:function(e,a){s.pageManager.navigate(e,{withReturn:!0})},onMetaClick:function(e,a){a=cjgFrontend.urls.getShortcutUrl(a.shortcutId,s.account);s.openTab(a)}}),e.appendChild(a)),e}function ye(){var e;cjBasics.webRequest.getWrifSupported()?s.pageManager.navigate("save",{listId:"isch"===B?"dt_fav_images":null}):(e=cjgFrontend.urls.getShortcutUrl("359",s.account),s.openTab(e))}function E(e,a){a&&_.value||((a=e)&&-1===C.indexOf(e)||(a=""),I&&a.startsWith(I)&&(a=a.replace(I,"")),N?n.cjceSetPageLabel(a):(_.value=a,l.cjceSetNavigatorCollapseState(a)))}function Ce(e){f=e,x()}function x(){if("finance"===u)e=cjBasics.urlParams.attach(b+"/finance/",{authuser:g}),s.openTab(e);else{if("covid19"===u){var e=B;if("covidmobility"===(e=B||"covidhome"))return void s.openTab(b+"/covid19/mobility/");if("covidhome"===e)return void s.openTab(b+"/covid19/")}w?(e=cjBasics.urlParams.attach(b+"/search",{ibp:w,q:y,authuser:g,gl:k?"US":null}),s.openTab(e)):(e=f?"/search":"shop"===B?"/shopping":"/",e=cjBasics.urlParams.attach(b+e,{authuser:g,q:f||null,udm:ie[B]}),s.openTab(e))}}function Ne(){var c;"covid19"===u&&!B||"about:blank"===d.src?x():(c=!1,d.cjceSendFrameRequest({method:"gwsGetUrl"},j).then(function(e){var a;c||(c=!0,(a=(e=new URL(e)).searchParams).delete("hl"),a.delete("bm_cid"),a.delete("bm_pid"),a.delete("bm_iid"),a.delete("bm_wiz"),a.delete("gws_rd"),a.delete("fg"),a.delete("ie"),a.delete("oe"),a.delete("adtest"),a.delete("adtest-useragent"),a.delete("nord"),a.delete("igu"),a.get("udm")&&a.delete("tbm"),"finance"===u&&-1!==(a.get("q")||"").indexOf(": ")&&a.set("tbm","fin"),"/m"!==e.pathname&&"/mobile"!==e.pathname&&"/images"!==e.pathname||(e.pathname="/search"),s.openTab(e.href))}),setTimeout(function(){c||(c=!0,x())},500))}function ke(){d.cjceSendFrameCommand({method:"gwsGoBack"},j)}function Te(){var e=cjce.createElement("bm-ogb",{displayBack:!0,floating:!0,color:K,aboveTopDrawer:!0,bmApis:s,onNewTab:function(){s.openTab(r.url)},serviceLabel:R,pageLabel:cjBasics.lang.i18n("cj_i18n_06387","AMP page"),onBack:ke}),a=(e.hidden=!0,cjce.createElement("ccbm-iconbutton",{iconName:"__mdi:link",label:cjBasics.lang.i18n("cj_i18n_01901","Copy link"),onClick:function(){cjBasics.copyToClipboard(r.url),t||(t=cjce.createElement("ccbm-snackbar",{label:cjBasics.lang.i18n("cj_i18n_07124","Copied to clipboard")}),c.appendChild(t)),t.cjceShow()}}));return e.cjceAppendChild(a),e}l=cjce.createElement("bm-ogb",{loading:D,drawer:{color:Y},color:K,serviceLabel:R,pageLabel:X,serviceIcon:e,searchbox:{submitInNewTab:"external"===N,suggestHandler:I?null:function(e){return cjgFrontend.suggestquery.get({gAccount:s.account,hl:cjBasics.lang.getCurrent(),q:e,ds:ne[B]})},onInput:U,onClear:"external"!==N&&M,onSubmit:"external"===N?Ce:M,onMetaSubmit:Ce},bmApis:s,onNewTab:Ne,onBack:function(){"finance"===u?Be("MARKET_SUMMARY"):H?s.pageManager.navigate("search"):ke()}}),"finance"!==u&&"covid19"!==u&&l.cjceSetLoading(!1),"converter"===u?(a=l.querySelector('[fill="#4285F4"]'))&&a.setAttribute("fill","#FF9800"):"mathssolver"===u&&(a=l.querySelector('[fill="#4285F4"]'))&&a.setAttribute("fill","#c874ff"),c.appendChild(l),(F=cjce.createElement("ccbm-iconbutton",{iconName:"__mdi:bookmarks",label:cjBasics.lang.i18n("cj_i18n_01454","View saved"),onClick:ye})).hidden=!me(),l.cjceAppendChild(F),(q=cjce.createElement("ccbm-iconbutton",{iconName:"__mdi:google_lens",label:cjBasics.lang.i18n("cj_i18n_06348","Search by image"),onClick:function(){s.pageManager.navigate("lens")}})).hidden=!ue(),l.cjceAppendChild(q),(P=cjce.createElement("ccbm-iconbutton",{label:cjBasics.lang.i18n("cj_i18n_00110","Filter"),iconName:"__mdi:tune",onClick:function(){d.cjceSendFrameCommand({method:"gwsToggleFilterMenu"},j)}})).hidden=!_e(),l.cjceAppendChild(P),N&&((n=cjce.createElement("bm-ogb",{displayBack:!0,floating:!0,color:K,serviceLabel:R,pageLabel:cjBasics.lang.i18n("cj_i18n_00325","Loading…"),bmApis:s,onNewTab:Ne,onBack:ke})).hidden=!0,c.appendChild(n)),ee&&(o=Te(),c.appendChild(o)),ve(l.cjceDrawerEl),(_=l.cjceSearchboxEl).hidden=!0===N,A&&1<A.length&&(i=be(),l.appendChild(i)),O=Ie(),c.appendChild(O),a=[j+"/*bm_iid="+h+"*",Z+"/*bm_iid="+h+"*",Z+"/*bm_iid%3D"+h+"*"],$&&a.push(b+"/*bm_iid="+h+"*"),cjBasics.webRequest.handleIframeHeaders(a,{handleFirefoxInject:!0,handleSecVariables:!0,handleSwCache:!0,useMobileUserAgent:!0}),cjBasics.webRequest.handleIframeHeaders(["https://www.google.com/fbx?fbx=coronavirus_fbx*"]),"covid19"===u&&cjBasics.webRequest.handleIframeHeaders([b+"/covid19-map/*bm_iid="+V+"*",J+"/covid19/map*bm_iid="+V+"*"],{disableOgs:b,handleFirefoxInject:!0,handleSwCache:!0,useMobileUserAgent:!0}),cjBasics.webRequest.catchAndStop(["https://accounts.google.com/ServiceLogin*bm_iid*"+h+"*"],function(){cjgApis.account.signin(s.account),d.src="about:blank"}),(d=cjce.createElement("bm-iframe",{solid:"#fff",shadow:"thinOnScroll",onBmMessage:function(e,a){var c,n,i,t;"bmCstOpenUrl"===e?a&&(i=(n=_slicedToArray(a,3))[0],c=n[1],n=n[2],i=cjBasics.cleanBmUrl(i),-1!==(i=$&&i.startsWith(Q)?i.replace(Q,b):i).indexOf("tbm=")&&-1!==i.indexOf("udm=")&&((t=new URL(i)).searchParams.delete("tbm"),i=t.href),s.openTab(i,c,n)):"gwsOpenAmp"===e?(t=a,ee?(o.cjceSetPageLabel(t.label,{capitalise:!1}),Se(t)):s.openTab(t.url)):"gwsCloseAmp"===e?Se(null):"gwsSetFinanceTab"===e&&"finance"===u?Be(a):"gwsReflectFinanceTab"===e&&"finance"===u?fe(a):"gwsUpdateQuery"===e&&(le(a),E(f=a.q),re(),U())},onLoad:function(){"about:blank"!==d.src&&l.cjceSetLoading(!1)}})).hidden=!0,c.appendChild(d),s.setOnPageDisplayHandler(function(e){H=e.withReturn,e.withReturn&&l.cjceSetBackState(!0),_.select()}),y?M():browserStorage.local.getItem(ce).then(function(e){e&&e.q&&Date.now()-e.time<36e5?(le(e),E(f=e.q,!0),M(),_.select()):(e&&browserStorage.local.remove(ce),I&&(E(f=I),M()))})})}();