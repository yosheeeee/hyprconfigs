"use strict";function _slicedToArray(e,a){return _arrayWithHoles(e)||_iterableToArrayLimit(e,a)||_unsupportedIterableToArray(e,a)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,a){var t;if(e)return"string"==typeof e?_arrayLikeToArray(e,a):"Map"===(t="Object"===(t={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,a):void 0}function _arrayLikeToArray(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=Array(a);t<a;t++)n[t]=e[t];return n}function _iterableToArrayLimit(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,c,s,i,o=[],r=!0,l=!1;try{if(s=(t=t.call(e)).next,0===a){if(Object(t)!==t)return;r=!1}else for(;!(r=(n=s.call(t)).done)&&(o.push(n.value),o.length!==a);r=!0);}catch(e){l=!0,c=e}finally{try{if(!r&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(l)throw c}}return o}}function _arrayWithHoles(e){if(Array.isArray(e))return e}!function(){function E(e){return e&&"all"!==e&&"entertainment"!==e?e:null}function O(e){return"kids"===e?"/store/apps/category/FAMILY":(e=E(e))?"/store/"+e:"/store"}cjce.registerTemplate("bm-p-play",function(e,i){var o,r,l,m,p,n,d,a,c="https://play.google.com",t=!cjBasics.webRequest.getWrifSupported(),s=cjBasics.generateUniqueId(),u=cjBasics.lang.getCurrent(),b="string"==typeof u&&"en"===u.split("-")[0].split("_")[0]&&!1,h=b?"all":"apps",_="home",g="",j=cjBasics.lang.i18n("cj_i18n_00325","Loadingâ€¦"),y=cjBasics.lang.i18n("cj_i18n_00107","All"),f=cjBasics.lang.i18n("cj_i18n_01697","Entertainment"),v=i.darkMode?"#fff":"#212121",T=v,u="",B=i.account.onlyAccount?null:i.account.authuser,w=(B&&"0"!==i.account.authuser&&(u+="?authuser="+B),{bm_cid:"play",bm_cst:"2",bm_wiz:"1",bm_iid:s,hl:cjBasics.lang.getCurrent()}),k={home:{iconName:"__mdi:home",label:cjBasics.lang.i18n("cj_i18n_00291","Home"),pathname:"/store",newTabUrl:!0},account:{iconName:"__mdi:account_circle",label:cjBasics.lang.i18n("cj_i18n_00481","Account"),pathname:"/store/account",newTabUrl:!0},paymentmethods:{iconName:"__mdi:payment",label:cjBasics.lang.i18n("cj_i18n_01517","Payment methods"),pathname:"/store/paymentmethods",newTabUrl:!0},subscriptions:{iconName:"__mdi:autorenew",label:cjBasics.lang.i18n("cj_i18n_01089","Subscriptions"),pathname:"/store/account/subscriptions",newTabUrl:!0},wishlist:{iconName:"__mdi:cjg_wishlist",label:cjBasics.lang.i18n("cj_i18n_00550","Wishlist"),pathname:"/wishlist",newTabUrl:!0},playActivity:{iconName:"__mdi:rate_review",label:cjBasics.lang.i18n("cj_i18n_01696","My Play activity"),pathname:"/store/myplayactivity",newTabUrl:!0},settings:{iconName:"__mdi:settings",label:cjBasics.lang.i18n("cj_i18n_00298","Settings"),pathname:"/settings",newTabUrl:!0},appsHeader:{header:!0,label:cjBasics.lang.i18n("cj_i18n_00216","Apps")},movies:{label:cjBasics.lang.i18n("cj_i18n_01725","Play Movies & TV"),iconName:"__mdi:play_movies",color:"#ea4335",pathname:"/movies",newTabUrl:!0,colorIcon:!0},books:{label:cjBasics.lang.i18n("cj_i18n_00285","Play Books"),iconName:"__mdi:play_books",color:"#03a9f4",pathname:"/books",newTabUrl:!0,colorIcon:!0},linksHeader:{header:!0,label:cjBasics.lang.i18n("cj_i18n_00047","More")},redeem:{iconName:"__mdi:redeem",label:cjBasics.lang.i18n("cj_i18n_01677","Redeem code"),pathname:"/store",urlParams:{code:""},newTabUrl:!0,external:!t},giftcard:{iconName:"__mdi:card_giftcard",label:cjBasics.lang.i18n("cj_i18n_01694","Buy gift card"),pathname:"/about/giftcards/",newTabUrl:!0,external:!t},help:{iconName:"__mdi:help_outline",label:cjBasics.lang.i18n("cj_i18n_00438","Help"),newTabUrl:"https://support.google.com/googleplay"+u,external:!t},parentGuide:{iconName:"__mdi:supervisor_account",label:cjBasics.lang.i18n("cj_i18n_01695","Parent guide"),newTabUrl:"https://support.google.com/googleplay/answer/6209547"+u,external:!t}},S={games:{searchType:"apps",label:cjBasics.lang.i18n("cj_i18n_00217","Games"),pathname:"/store/games",iconName:"__mdi:play_games",newTabUrl:!0,color:"#34a853"},apps:{searchType:"apps",label:cjBasics.lang.i18n("cj_i18n_00216","Apps"),pathname:"/store/apps",iconName:"__mdi:cj_play_android",newTabUrl:!0,color:"#34a853"},movies:{searchType:"movies",label:cjBasics.lang.i18n("cj_i18n_00480","Movies"),pathname:"/store/movies",iconName:"__mdi:play_movies",newTabUrl:!0,color:"#ea4335"},books:{searchType:"books",label:cjBasics.lang.i18n("cj_i18n_00218","Books"),pathname:"/store/books",iconName:"__mdi:play_books",newTabUrl:!0,color:"#03a9f4"},kids:{label:cjBasics.lang.i18n("cj_i18n_07188","Kids"),pathname:"/store/apps/category/FAMILY",iconName:"__mdi:people",newTabUrl:!0,color:v}};function A(e,a){var t="";return e&&(t+=e),t=cjBasics.urlParams.attach(t,w),t=a?cjBasics.urlParams.attach(t,a):t}function C(e,a,t){e=A(e,a);t?n.src=c+e:n.cjceSendFrameCommand({method:"bmCstUpdateState",value:e},c)}function N(e,a){_="home",C(O(h=e),null,a)}function I(e,a){e=cjBasics.urlParams.attach(c+"/store/search",{q:e,c:E(a),authuser:B});i.openTab(e)}function U(e){C("/store/search",{q:g=e,c:E(h)})}function P(){n.cjceGetCleanUrl(c).then(function(e){i.openTab(e||c+"/store")})}function L(e){var a,e=k[e]||S[e],t=e.newTabUrl;!0===e.newTabUrl&&((a=e.urlParams||{}).authuser=B,t=cjBasics.urlParams.attach(c+e.pathname,a)),i.openTab(t)}function M(e,a){var t,n=a.searchType&&r.value;n?I(n,a.searchType):(!0===(n=a.newTabUrl)&&((t=a.urlParams||{}).authuser=B,n=cjBasics.urlParams.attach(c+a.pathname,t)),i.openTab(n))}function x(){n.cjceSendFrameCommand({method:"bmCstNavigateBack"},c)}b||delete S.all,t?(o=cjce.createElement("bm-ogb",{serviceIcon:"play",serviceLabel:cjBasics.lang.i18n("cj_i18n_00430","Play Store"),pageLabel:cjBasics.lang.i18n("cj_i18n_01167","Links"),searchbox:{onSubmit:I,submitInNewTab:!0},bmApis:i,onNewTab:function(){L("home")}}),e.appendChild(o),r=o.cjceSearchboxEl,i.setOnPageDisplayHandler(function(){r.select()}),u=cjce.createElement("cjmd-container",{scrollable:!0,shadow:"thinOnScroll"}),e.appendChild(u),t=Object.keys(S).map(function(e){return S[e]}),a=["appsHeader","movies","books","linksHeader","account","subscriptions","wishlist","playActivity","redeem","giftcard","parentGuide","settings","help"].map(function(e){var a=k[e];return a.id=e,a}),t=t.concat(a),d=cjce.createElement("bm-navlist",{items:t,onClick:function(e,a){"movies"===e||"books"===e?i.pageManager.navigate(e):M(0,a)},onNewTab:M}),u.appendChild(d)):(o=cjce.createElement("bm-ogb",{loading:v,drawer:{color:v},searchbox:{color:v,onClear:function(){o.cjceSetNavigatorCollapseState("search"===_),setTimeout(function(){o.cjceSetNavigatorCollapseState("search"===_)})},onSubmit:U,onMetaSubmit:function(e){I(e,h)}},serviceIcon:"play",serviceLabel:cjBasics.lang.i18n("cj_i18n_00430","Play Store"),pageLabel:cjBasics.lang.i18n("cj_i18n_00291","Home"),bmApis:i,onNewTab:P,onBack:function(){var e;"search"===_?(g="",r.value="",e=h,h=-1!==["games","apps","movies","books","kids"].indexOf(e)?e:b?"all":"apps",C(O(m.cjceSelectedId=h))):x()}}),e.appendChild(o),a=o.cjceDrawerEl,r=o.cjceSearchboxEl,i.setOnPageDisplayHandler(function(e){e.typeId&&setTimeout(function(){N(e.typeId,!0)}),r.select()}),d=cjce.createElement("bm-navlist",{isSelector:!0,items:k,selectedId:_,onChange:function(e){"movies"===e||"books"===e?(i.pageManager.navigate(e),d.cjceSelectedId=_):C((k[e]||{}).pathname)},onNewTab:L}),a.appendChild(d),(l=cjce.createElement("ccbm-iconbutton",{iconName:"__mdi:search",onClick:function(){C("/store/search",{q:g,c:E(h)}),o.cjceSetBackState(!0),o.cjceSetNavigatorCollapseState(!0),r.hidden=!1,l.hidden=!0,r.select()}})).hidden=!0,o.cjceAppendChild(l),a=O(h),a=c+A(a),p=cjce.createElement("cjmd-appbar",{secondary:!0}),T=S[h]&&S[h].color||v,m=cjce.createElement("ccbm-tabs",{color:T,items:S,onChange:function(e){T=S[e].color,m.style.setProperty("--ccc-accent-color",T),"search"===_?C("/store/search",{q:g,c:E(h=e)}):N(e)},onActiveClick:function(e){"search"!==_&&N(e)},onMetaClick:L,selectedId:h}),p.appendChild(m),o.appendChild(p),cjBasics.webRequest.handleIframeHeaders([c+"/*bm_iid="+s+"*"],{handleFirefoxInject:!0,useMobileUserAgent:!0}),n=cjce.createElement("bm-iframe",{src:a,solid:"#fff",shadow:!0,onBmMessage:function(e,a){var t,n,c,s;"playPageTitle"===e?(j=a,_||o.cjceSetPageLabel(j)):"playViewData"===e?(s=(t=a).pathname).startsWith("/movies")?(x(),i.pageManager.navigate("movies")):s.startsWith("/books")?(x(),i.pageManager.navigate("books")):(c=n=null,s.startsWith("/store/apps/category/FAMILY")?c="kids":s.startsWith("/store/apps")||s.startsWith("/apps")?c="apps":s.startsWith("/store/games")?c="games":s.startsWith("/store/movies")?c="movies":s.startsWith("/store/books")?c="books":"/store"===s?c="all":"/store/account"===s?n="account":"/store/account/subscriptions"===s?n="subscriptions":"/settings"===s?n="settings":"/wishlist"===s?n="wishlist":"/store/people/details"===s&&-1!==t.search.indexOf(i.account.obfuscatedId)?n="playActivity":s.startsWith("/store/search")&&(n="search",c="all",-1!==t.search.indexOf("c=books")?c="books":-1!==t.search.indexOf("c=apps")?c="apps":-1!==t.search.indexOf("c=movies")&&(c="movies")),(t=m.querySelector('[data-id="all"]'))&&(t.textContent="search"===n?y:f),t="home"!==(n=-1!==["/store","/store/games","/store/apps","/store/movies","/store/books","/store/apps/category/FAMILY"].indexOf(s)?"home":n)&&"search"!==n,p.hidden=!c||"search"===n,m.cjceSelectedId=c,T=S[c]&&S[c].color||v,m.style.setProperty("--ccc-accent-color",T),d.cjceSelectedId=n,s=k[n],"search"!==n&&(s=s&&s.label||j,o.cjceSetPageLabel(s)),o.cjceSetBackState("home"!==n),o.cjceSetNavigatorCollapseState("search"===n),r.hidden=t,l.hidden=!t,_=n,h=c):"bmCstOpenUrl"===e&&(t=(s=_slicedToArray(a,3))[0],n=s[1],c=s[2],e=cjBasics.cleanBmUrl(t),i.openTab(e,n,c))},onLoad:function(){o.cjceSetLoading(!1)}}),e.appendChild(n))})}();