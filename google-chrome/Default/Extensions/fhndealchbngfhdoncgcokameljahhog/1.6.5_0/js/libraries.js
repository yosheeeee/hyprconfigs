//third_party/javascript/pkijs/v1/common.js
/**
 * @license
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015, Peculiar Ventures
 * 2014-2015, Authored by Yury Strozhevsky <www.strozhevsky.com>
 * SPDX-License-Identifier: BSD-3-Clause
 */

/*
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015, Peculiar Ventures
 * All rights reserved.
 *
 * Author 2014-2015, Yury Strozhevsky <www.strozhevsky.com>.
 *
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, 
 *    this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice, 
 *    this list of conditions and the following disclaimer in the documentation 
 *    and/or other materials provided with the distribution.
 *
 * 3. Neither the name of the copyright holder nor the names of its contributors 
 *    may be used to endorse or promote products derived from this software without 
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY 
 * OF SUCH DAMAGE. 
 *
 */
(
function(in_window)
{
    //**************************************************************************************
    // #region Declaration of global variables 
    //**************************************************************************************
    // #region "org" namespace 
    if(typeof in_window.org === "undefined")
        in_window.org = {};
    else
    {
        if(typeof in_window.org !== "object")
            throw new Error("Name org already exists and it's not an object");
    }
    // #endregion 

    // #region "org.pkijs" namespace 
    if(typeof in_window.org.pkijs === "undefined")
        in_window.org.pkijs = {};
    else
    {
        if(typeof in_window.org.pkijs !== "object")
            throw new Error("Name org.pkijs already exists and it's not an object" + " but " + (typeof in_window.org.pkijs));
    }
    // #endregion 

    // #region "local" namespace 
    var local = {};
    // #endregion   
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Declaration of common functions 
    //**************************************************************************************
    in_window.org.pkijs.emptyObject =
    function()
    {
        this.toJSON = function()
        {
            return {};
        };
        this.toSchema = function()
        {
            return {};
        };
    }
    //**************************************************************************************
    in_window.org.pkijs.getNames =
    function(arg)
    {
        /// <summary>Get correct "names" array for all "schema" objects</summary>

        var names = {};

        if(arg instanceof Object)
            names = (arg.names || {});

        return names;
    }
    //**************************************************************************************
    in_window.org.pkijs.inheriteObjectFields =
    function(from)
    {
        for(i in from.prototype)
        {
            if(typeof from.prototype[i] === "function")
                continue;

            this[i] = from.prototype[i];
        }
    }
    //**************************************************************************************
    in_window.org.pkijs.getUTCDate =
    function(date)
    {
        /// <summary>Making UTC date from local date</summary>
        /// <param name="date" type="Date">Date to convert from</param>

        var current_date = date;
        return new Date(current_date.getTime() + (current_date.getTimezoneOffset() * 60000));
    }
    //**************************************************************************************
    in_window.org.pkijs.padNumber =
    function(input_number, full_length)
    {
        var str = input_number.toString(10);
        var dif = full_length - str.length;

        var padding = new Array(dif);
        for(var i = 0; i < dif; i++)
            padding[i] = '0';

        var padding_string = padding.join('');

        return padding_string.concat(str);
    }
    //**************************************************************************************
    in_window.org.pkijs.getValue =
    function(args, item, default_value)
    {
        if(item in args)
            return args[item];
        else
            return default_value;
    }
    //**************************************************************************************
    in_window.org.pkijs.isEqual_view =
    function(input_view1, input_view2)
    {
        /// <summary>Compare two Uint8Arrays</summary>
        /// <param name="input_view1" type="Uint8Array">First Uint8Array for comparision</param>
        /// <param name="input_view2" type="Uint8Array">Second Uint8Array for comparision</param>

        if(input_view1.length !== input_view2.length)
            return false;

        for(var i = 0; i < input_view1.length; i++)
        {
            if(input_view1[i] != input_view2[i])
                return false;
        }

        return true;
    }
    //**************************************************************************************
    in_window.org.pkijs.isEqual_buffer =
    function(input_buffer1, input_buffer2)
    {
        /// <summary>Compare two array buffers</summary>
        /// <param name="input_buffer1" type="ArrayBuffer">First ArrayBuffer for comparision</param>
        /// <param name="input_buffer2" type="ArrayBuffer">Second ArrayBuffer for comparision</param>

        if(input_buffer1.byteLength != input_buffer2.byteLength)
            return false;

        var view1 = new Uint8Array(input_buffer1);
        var view2 = new Uint8Array(input_buffer2);

        return in_window.org.pkijs.isEqual_view(view1, view2);
    }
    //**************************************************************************************
    in_window.org.pkijs.concat_buffers =
    function(input_buf1, input_buf2)
    {
        /// <summary>Concatenate two ArrayBuffers</summary>
        /// <param name="input_buf1" type="ArrayBuffer">First ArrayBuffer (first part of concatenated array)</param>
        /// <param name="input_buf2" type="ArrayBuffer">Second ArrayBuffer (second part of concatenated array)</param>

        var input_view1 = new Uint8Array(input_buf1);
        var input_view2 = new Uint8Array(input_buf2);

        var ret_buf = new ArrayBuffer(input_buf1.byteLength + input_buf2.byteLength);
        var ret_view = new Uint8Array(ret_buf);

        for(var i = 0; i < input_buf1.byteLength; i++)
            ret_view[i] = input_view1[i];

        for(var j = 0; j < input_buf2.byteLength; j++)
            ret_view[input_buf1.byteLength + j] = input_view2[j];

        return ret_buf;
    }
    //**************************************************************************************
    in_window.org.pkijs.copyBuffer =
    function(input_buffer)
    {
        var result = new ArrayBuffer(input_buffer.byteLength);

        var resultView = new Uint8Array(result);
        var inputView = new Uint8Array(input_buffer);

        for(var i = 0; i < inputView.length; i++)
            resultView[i] = inputView[i];

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getCrypto =
    function()
    {
        var crypto_temp;

        if("crypto" in in_window)
        {
            // Apple Safari support
            if("webkitSubtle" in in_window.crypto)
                crypto_temp = in_window.crypto.webkitSubtle;

            if("subtle" in in_window.crypto)
                crypto_temp = in_window.crypto.subtle;
        }

        return crypto_temp;
    }
    //**************************************************************************************
    in_window.org.pkijs.stringPrep =
    function(input_string)
    {
        /// <summary>String preparation function. In a future here will be realization of algorithm from RFC4518.</summary>
        /// <param name="input_string" type="String">JavaScript string. As soon as for each ASN.1 string type we have a specific transformation function here we will work with pure JavaScript string</param>
        /// <returns type="String">Formated string</returns>

        var result = input_string.replace(/^\s+|\s+$/g, ""); // Trim input string
        result = result.replace(/\s+/g, " "); // Change all sequence of SPACE down to SPACE char
        result = result.toLowerCase();

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.bufferToHexCodes =
    function(input_buffer, input_offset, input_lenght)
    {
        var result = "";

        var int_buffer = new Uint8Array(input_buffer, input_offset, input_lenght);

        for(var i = 0; i < int_buffer.length; i++)
        {
            var str = int_buffer[i].toString(16).toUpperCase();
            result = result + ((str.length === 1) ? "0" : "") + str;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.bufferFromHexCodes =
    function(hexString)
    {
        /// <summary>Create an ArrayBuffer from string having hexdecimal codes</summary>
        /// <param name="hexString" type="String">String to create ArrayBuffer from</param>

        // #region Initial variables 
        var stringLength = hexString.length;

        var resultBuffer = new ArrayBuffer(stringLength >> 1);
        var resultView = new Uint8Array(resultBuffer);

        var hex_map = {};

        hex_map['0'] = 0x00;
        hex_map['1'] = 0x01;
        hex_map['2'] = 0x02;
        hex_map['3'] = 0x03;
        hex_map['4'] = 0x04;
        hex_map['5'] = 0x05;
        hex_map['6'] = 0x06;
        hex_map['7'] = 0x07;
        hex_map['8'] = 0x08;
        hex_map['9'] = 0x09;
        hex_map['A'] = 0x0A;
        hex_map['a'] = 0x0A;
        hex_map['B'] = 0x0B;
        hex_map['b'] = 0x0B;
        hex_map['C'] = 0x0C;
        hex_map['c'] = 0x0C;
        hex_map['D'] = 0x0D;
        hex_map['d'] = 0x0D;
        hex_map['E'] = 0x0E;
        hex_map['e'] = 0x0E;
        hex_map['F'] = 0x0F;
        hex_map['f'] = 0x0F;

        var j = 0;
        var temp = 0x00;
        // #endregion 

        // #region Convert char-by-char 
        for(var i = 0; i < stringLength; i++)
        {
            if(!(i % 2))
                temp = hex_map[hexString.charAt(i)] << 4;
            else
            {
                temp |= hex_map[hexString.charAt(i)];

                resultView[j] = temp;
                j++;
            }
        }
        // #endregion 

        return resultBuffer;
    }
    //**************************************************************************************
    in_window.org.pkijs.getRandomValues =
    function(view)
    {
        /// <param name="view" type="Uint8Array">New array which gives a length for random value</param>

        if("crypto" in in_window)
            return in_window.crypto.getRandomValues(view);
        else
            throw new Error("No support for Web Cryptography API");
    }
    //**************************************************************************************
    in_window.org.pkijs.getAlgorithmParameters =
    function(algorithmName, operation)
    {
        /// <param name="algorithmName" type="String">Algorithm name to get common parameters for</param>
        /// <param name="operation" type="String">Kind of operation: "sign", "encrypt", "generatekey", "importkey", "exportkey", "verify"</param>

        var result = {
            algorithm: {},
            usages: []
        };

        switch(algorithmName.toUpperCase())
        {
            case "RSASSA-PKCS1-V1_5":
                switch(operation.toLowerCase())
                {
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "RSASSA-PKCS1-v1_5",
                                modulusLength: 2048,
                                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),
                                hash: {
                                    name: "SHA-256"
                                },
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    case "verify":
                    case "sign":
                    case "importkey":
                        result = {
                            algorithm: {
                                name: "RSASSA-PKCS1-v1_5",
                                hash: {
                                    name: "SHA-256"
                                },
                            },
                            usages: ["verify"] // For importKey("pkcs8") usage must be "sign" only
                        };
                        break;
                    case "exportkey":
                    default:
                        return {
                            algorithm: {
                                name: "RSASSA-PKCS1-v1_5"
                            },
                            usages: []
                        };
                }
                break;
            case "RSA-PSS":
                switch(operation.toLowerCase())
                {
                    case "sign":
                    case "verify":
                        result = {
                            algorithm: {
                                name: "RSA-PSS",
                                hash: {
                                    name: "SHA-1"
                                },
                                saltLength: 20
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "RSA-PSS",
                                modulusLength: 2048,
                                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),
                                hash: {
                                    name: "SHA-1"
                                }
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    case "importkey":
                        result = {
                            algorithm: {
                                name: "RSA-PSS",
                                hash: {
                                    name: "SHA-1"
                                },
                            },
                            usages: ["verify"] // For importKey("pkcs8") usage must be "sign" only
                        };
                        break;
                    case "exportkey":
                    default:
                        return {
                            algorithm: {
                                name: "RSA-PSS"
                            },
                            usages: []
                        };
                }
                break;
            case "RSA-OAEP":
                switch(operation.toLowerCase())
                {
                    case "encrypt":
                    case "decrypt":
                        result = {
                            algorithm: {
                                name: "RSA-OAEP",
                            },
                            usages: ["encrypt", "decrypt"]
                        };
                        break;
                        break;
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "RSA-OAEP",
                                modulusLength: 2048,
                                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),
                                hash: {
                                    name: "SHA-256"
                                }
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                        break;
                    case "importkey":
                        result = {
                            algorithm: {
                                name: "RSA-OAEP",
                                hash: {
                                    name: "SHA-256"
                                }
                            },
                            usages: ["encrypt"] // encrypt for "spki" and decrypt for "pkcs8"
                        };
                        break;
                    case "exportkey":
                    default:
                        return {
                            algorithm: {
                                name: "RSA-OAEP"
                            },
                            usages: []
                        };
                }
                break;
            case "ECDSA":
                switch(operation.toLowerCase())
                {
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "ECDSA",
                                namedCurve: "P-256"
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    case "importkey":
                        result = {
                            algorithm: {
                                name: "ECDSA",
                                namedCurve: "P-256"
                            },
                            usages: ["verify"] // "sign" for "pkcs8"
                        };
                        break;
                    case "verify":
                    case "sign":
                        result = {
                            algorithm: {
                                name: "ECDSA",
                                hash: {
                                    name: "SHA-256"
                                }
                            },
                            usages: ["sign"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "ECDSA"
                            },
                            usages: []
                        };
                }
                break;
            case "ECDH":
                switch(operation.toLowerCase())
                {
                    case "exportkey":
                    case "importkey":
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "ECDH",
                                namedCurve: "P-256"
                            },
                            usages: ["deriveKey", "deriveBits"]
                        };
                        break;
                    case "derivekey":
                    case "derivebits":
                        result = {
                            algorithm: {
                                name: "ECDH",
                                namedCurve: "P-256",
                                public: [] // Must be a "publicKey"
                            },
                            usages: ["encrypt", "decrypt"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "ECDH"
                            },
                            usages: []
                        };
                }
                break;
            case "AES-CTR":
                switch(operation.toLowerCase())
                {
                    case "importkey":
                    case "exportkey":
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "AES-CTR",
                                length: 256
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                        break;
                    case "decrypt":
                    case "encrypt":
                        result = {
                            algorithm: {
                                name: "AES-CTR",
                                counter: new Uint8Array(16),
                                length: 10
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                    default:
                        return {
                            algorithm: {
                                name: "AES-CTR"
                            },
                            usages: []
                        };
                }
                break;
            case "AES-CBC":
                switch(operation.toLowerCase())
                {
                    case "importkey":
                    case "exportkey":
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "AES-CBC",
                                length: 256
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                        break;
                    case "decrypt":
                    case "encrypt":
                        result = {
                            algorithm: {
                                name: "AES-CBC",
                                iv: in_window.org.pkijs.getRandomValues(new Uint8Array(16)) // For "decrypt" the value should be replaced with value got on "encrypt" step
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                    default:
                        return {
                            algorithm: {
                                name: "AES-CBC"
                            },
                            usages: []
                        };
                }
                break;
            case "AES-GCM":
                switch(operation.toLowerCase())
                {
                    case "importkey":
                    case "exportkey":
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "AES-GCM",
                                length: 256
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                        break;
                    case "decrypt":
                    case "encrypt":
                        result = {
                            algorithm: {
                                name: "AES-GCM",
                                iv: in_window.org.pkijs.getRandomValues(new Uint8Array(16)) // For "decrypt" the value should be replaced with value got on "encrypt" step
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                    default:
                        return {
                            algorithm: {
                                name: "AES-GCM"
                            },
                            usages: []
                        };
                }
                break;
            case "AES-KW":
                switch(operation.toLowerCase())
                {
                    case "importkey":
                    case "exportkey":
                    case "generatekey":
                    case "wrapkey":
                    case "unwrapkey":
                        result = {
                            algorithm: {
                                name: "AES-KW",
                                length: 256
                            },
                            usages: ["wrapKey", "unwrapKey"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "AES-KW"
                            },
                            usages: []
                        };
                }
                break;
            case "HMAC":
                switch(operation.toLowerCase())
                {
                    case "sign":
                    case "verify":
                        result = {
                            algorithm: {
                                name: "HMAC",
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    case "importkey":
                    case "exportkey":
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "HMAC",
                                length: 10,
                                hash: {
                                    name: "SHA-256"
                                }
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "HMAC"
                            },
                            usages: []
                        };
                }
                break;
            case "HKDF":
                switch(operation.toLowerCase())
                {
                    case "derivekey":
                        result = {
                            algorithm: {
                                name: "HKDF",
                                hash: "SHA-256",
                                salt: new Uint8Array(),
                                info: new Uint8Array()
                            },
                            usages: ["encrypt", "decrypt"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "HKDF"
                            },
                            usages: []
                        };
                }
                break;
            case "PBKDF2":
                switch(operation.toLowerCase())
                {
                    case "derivekey":
                        result = {
                            algorithm: {
                                name: "PBKDF2",
                                hash: { name: "SHA-256" },
                                salt: new Uint8Array(),
                                iterations: 1000
                            },
                            usages: ["encrypt", "decrypt"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "PBKDF2"
                            },
                            usages: []
                        };
                }
                break;
            default:
                ;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getOIDByAlgorithm =
    function(algorithm)
    {
        /// <summary>Get OID for each specific WebCrypto algorithm</summary>
        /// <param name="algorithm" type="Object">WebCrypto algorithm</param>

        var result = "";

        switch(algorithm.name.toUpperCase())
        {
            case "RSASSA-PKCS1-V1_5":
                switch(algorithm.hash.name.toUpperCase())
                {
                    case "SHA-1":
                        result = "1.2.840.113549.1.1.5";
                        break;
                    case "SHA-256":
                        result = "1.2.840.113549.1.1.11";
                        break;
                    case "SHA-384":
                        result = "1.2.840.113549.1.1.12";
                        break;
                    case "SHA-512":
                        result = "1.2.840.113549.1.1.13";
                        break;
                    default:;
                }
                break;
            case "RSA-PSS":
                result = "1.2.840.113549.1.1.10";
                break;
            case "RSA-OAEP":
                result = "1.2.840.113549.1.1.7";
                break;
            case "ECDSA":
                switch(algorithm.hash.name.toUpperCase())
                {
                    case "SHA-1":
                        result = "1.2.840.10045.4.1";
                        break;
                    case "SHA-256":
                        result = "1.2.840.10045.4.3.2";
                        break;
                    case "SHA-384":
                        result = "1.2.840.10045.4.3.3";
                        break;
                    case "SHA-512":
                        result = "1.2.840.10045.4.3.4";
                        break;
                    default:;
                }
                break;
            case "ECDH":
                switch(algorithm.kdf.toUpperCase()) // Non-standard addition - hash algorithm of KDF function
                {
                    case "SHA-1":
                        result = "1.3.133.16.840.63.0.2"; // dhSinglePass-stdDH-sha1kdf-scheme
                        break;
                    case "SHA-256":
                        result = "1.3.132.1.11.1"; // dhSinglePass-stdDH-sha256kdf-scheme 
                        break;
                    case "SHA-384":
                        result = "1.3.132.1.11.2"; // dhSinglePass-stdDH-sha384kdf-scheme
                        break;
                    case "SHA-512":
                        result = "1.3.132.1.11.3"; // dhSinglePass-stdDH-sha512kdf-scheme
                        break;
                    default:;
                }
                break;
            case "AES-CTR":
                break;
            case "AES-CBC":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.2";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.22";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.42";
                        break;
                    default:;
                }
                break;
            case "AES-CMAC":
                break;
            case "AES-GCM":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.6";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.26";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.46";
                        break;
                    default:;
                }
                break;
            case "AES-CFB":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.4";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.24";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.44";
                        break;
                    default:;
                }
                break;
            case "AES-KW":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.5";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.25";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.45";
                        break;
                    default:;
                }
                break;
            case "HMAC":
                switch(algorithm.hash.name.toUpperCase())
                {
                    case "SHA-1":
                        result = "1.2.840.113549.2.7";
                        break;
                    case "SHA-256":
                        result = "1.2.840.113549.2.9";
                        break;
                    case "SHA-384":
                        result = "1.2.840.113549.2.10";
                        break;
                    case "SHA-512":
                        result = "1.2.840.113549.2.11";
                        break;
                    default:;
                }
                break;
            case "DH":
                result = "1.2.840.113549.1.9.16.3.5";
                break;
            case "SHA-1":
                result = "1.3.14.3.2.26";
                break;
            case "SHA-256":
                result = "2.16.840.1.101.3.4.2.1";
                break;
            case "SHA-384":
                result = "2.16.840.1.101.3.4.2.2";
                break;
            case "SHA-512":
                result = "2.16.840.1.101.3.4.2.3";
                break;
            case "CONCAT":
                break;
            case "HKDF":
                break;
            case "PBKDF2":
                result = "1.2.840.113549.1.5.12";
                break;
            // #region Special case - OIDs for ECC curves 
            case "P-256":
                result = "1.2.840.10045.3.1.7";
                break;
            case "P-384":
                result = "1.3.132.0.34";
                break;
            case "P-521":
                result = "1.3.132.0.35";
                break;
            // #endregion 
            default:;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getAlgorithmByOID =
    function(oid)
    {
        /// <summary>Get WebCrypto algorithm by wel-known OID</summary>
        /// <param name="oid" type="String">Wel-known OID to search for</param>

        var result = {};

        switch(oid)
        {
            case "1.2.840.113549.1.1.5":
                result = {
                    name: "RSASSA-PKCS1-v1_5",
                    hash: {
                        name: "SHA-1"
                    }
                };
                break;
            case "1.2.840.113549.1.1.11":
                result = {
                    name: "RSASSA-PKCS1-v1_5",
                    hash: {
                        name: "SHA-256"
                    }
                };
                break;
            case "1.2.840.113549.1.1.12":
                result = {
                    name: "RSASSA-PKCS1-v1_5",
                    hash: {
                        name: "SHA-384"
                    }
                };
                break;
            case "1.2.840.113549.1.1.13":
                result = {
                    name: "RSASSA-PKCS1-v1_5",
                    hash: {
                        name: "SHA-512"
                    }
                };
                break;
            case "1.2.840.113549.1.1.10":
                result = {
                    name: "RSA-PSS"
                };
                break;
            case "1.2.840.113549.1.1.7":
                result = {
                    name: "RSA-OAEP"
                };
                break;
            case "1.2.840.10045.4.1":
                result = {
                    name: "ECDSA",
                    hash: {
                        name: "SHA-1"
                    }
                };
                break;
            case "1.2.840.10045.4.3.2":
                result = {
                    name: "ECDSA",
                    hash: {
                        name: "SHA-256"
                    }
                };
                break;
            case "1.2.840.10045.4.3.3":
                result = {
                    name: "ECDSA",
                    hash: {
                        name: "SHA-384"
                    }
                };
                break;
            case "1.2.840.10045.4.3.4":
                result = {
                    name: "ECDSA",
                    hash: {
                        name: "SHA-512"
                    }
                };
                break;
            case "1.3.133.16.840.63.0.2":
                result = {
                    name: "ECDH",
                    kdf: "SHA-1"
                };
                break;
            case "1.3.132.1.11.1":
                result = {
                    name: "ECDH",
                    kdf: "SHA-256"
                };
                break;
            case "1.3.132.1.11.2":
                result = {
                    name: "ECDH",
                    kdf: "SHA-384"
                };
                break;
            case "1.3.132.1.11.3":
                result = {
                    name: "ECDH",
                    kdf: "SHA-512"
                };
                break;
            case "2.16.840.1.101.3.4.1.2":
                result = {
                    name: "AES-CBC",
                    length: 128
                };
                break;
            case "2.16.840.1.101.3.4.1.22":
                result = {
                    name: "AES-CBC",
                    length: 192
                };
                break;
            case "2.16.840.1.101.3.4.1.42":
                result = {
                    name: "AES-CBC",
                    length: 256
                };
                break;
            case "2.16.840.1.101.3.4.1.6":
                result = {
                    name: "AES-GCM",
                    length: 128
                };
                break;
            case "2.16.840.1.101.3.4.1.26":
                result = {
                    name: "AES-GCM",
                    length: 192
                };
                break;
            case "2.16.840.1.101.3.4.1.46":
                result = {
                    name: "AES-GCM",
                    length: 256
                };
                break;
            case "2.16.840.1.101.3.4.1.4":
                result = {
                    name: "AES-CFB",
                    length: 128
                };
                break;
            case "2.16.840.1.101.3.4.1.24":
                result = {
                    name: "AES-CFB",
                    length: 192
                };
                break;
            case "2.16.840.1.101.3.4.1.44":
                result = {
                    name: "AES-CFB",
                    length: 256
                };
                break;
            case "2.16.840.1.101.3.4.1.5":
                result = {
                    name: "AES-KW",
                    length: 128
                };
                break;
            case "2.16.840.1.101.3.4.1.25":
                result = {
                    name: "AES-KW",
                    length: 192
                };
                break;
            case "2.16.840.1.101.3.4.1.45":
                result = {
                    name: "AES-KW",
                    length: 256
                };
                break;
            case "1.2.840.113549.2.7":
                result = {
                    name: "HMAC",
                    hash: {
                        name: "SHA-1"
                    }
                };
                break;
            case "1.2.840.113549.2.9":
                result = {
                    name: "HMAC",
                    hash: {
                        name: "SHA-256"
                    }
                };
                break;
            case "1.2.840.113549.2.10":
                result = {
                    name: "HMAC",
                    hash: {
                        name: "SHA-384"
                    }
                };
                break;
            case "1.2.840.113549.2.11":
                result = {
                    name: "HMAC",
                    hash: {
                        name: "SHA-512"
                    }
                };
                break;
            case "1.2.840.113549.1.9.16.3.5":
                result = {
                    name: "DH"
                };
                break;
            case "1.3.14.3.2.26":
                result = {
                    name: "SHA-1"
                };
                break;
            case "2.16.840.1.101.3.4.2.1":
                result = {
                    name: "SHA-256"
                };
                break;
            case "2.16.840.1.101.3.4.2.2":
                result = {
                    name: "SHA-384"
                };
                break;
            case "2.16.840.1.101.3.4.2.3":
                result = {
                    name: "SHA-512"
                };
                break;
            case "1.2.840.113549.1.5.12":
                result = {
                    name: "PBKDF2"
                };
                break;
            // #region Special case - OIDs for ECC curves 
            case "1.2.840.10045.3.1.7":
                result = {
                    name: "P-256"
                };
                break;
            case "1.3.132.0.34":
                result = {
                    name: "P-384"
                };
                break;
            case "1.3.132.0.35":
                result = {
                    name: "P-521"
                };
                break;
            // #endregion 
            default:;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getHashAlgorithm =
    function(signatureAlgorithm)
    {
        /// <summary>Getting hash algorithm by signature algorithm</summary>
        /// <param name="signatureAlgorithm" type="in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER">Signature algorithm</param>

        var result = "";

        switch(signatureAlgorithm.algorithm_id)
        {
            case "1.2.840.10045.4.1": // ecdsa-with-SHA1
            case "1.2.840.113549.1.1.5":
                result = "SHA-1";
                break;
            case "1.2.840.10045.4.3.2": // ecdsa-with-SHA256
            case "1.2.840.113549.1.1.11":
                result = "SHA-256";
                break;
            case "1.2.840.10045.4.3.3": // ecdsa-with-SHA384
            case "1.2.840.113549.1.1.12":
                result = "SHA-384";
                break;
            case "1.2.840.10045.4.3.4": // ecdsa-with-SHA512
            case "1.2.840.113549.1.1.13":
                result = "SHA-512";
                break;
            case "1.2.840.113549.1.1.10": // RSA-PSS
                {
                    var params;

                    try
                    {
                        params = new in_window.org.pkijs.simpl.x509.RSASSA_PSS_params({ schema: signatureAlgorithm.algorithm_params });
                        if("hashAlgorithm" in params)
                        {
                            var algorithm = in_window.org.pkijs.getAlgorithmByOID(params.hashAlgorithm.algorithm_id);
                            if(("name" in algorithm) === false)
                                return "";

                            result = algorithm.name;
                        }
                        else
                            result = "SHA-1";
                    }
                    catch(ex)
                    {
                    }
                }
                break;
            default:;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.createCMSECDSASignature =
    function(signatureBuffer)
    {
        /// <summary>Create CMS ECDSA signature from WebCrypto ECDSA signature</summary>
        /// <param name="signatureBuffer" type="ArrayBuffer">WebCrypto result of "sign" function</param>

        // #region Initial check for correct length 
        if((signatureBuffer.byteLength % 2) != 0)
            return new ArrayBuffer(0);
        // #endregion 

        // #region Initial variables 
        var i = 0;
        var length = signatureBuffer.byteLength / 2; // There are two equal parts inside incoming ArrayBuffer

        var signatureView = new Uint8Array(signatureBuffer);

        var r_buffer = new ArrayBuffer(length);
        var r_view = new Uint8Array(r_buffer);
        var r_corrected_buffer;
        var r_corrected_view;

        var s_buffer = new ArrayBuffer(length);
        var s_view = new Uint8Array(s_buffer);
        var s_corrected_buffer;
        var s_corrected_view;
        // #endregion   

        // #region Get "r" part of ECDSA signature 
        for(; i < length; i++)
            r_view[i] = signatureView[i];

        if(r_view[0] & 0x80)
        {
            r_corrected_buffer = new ArrayBuffer(length + 1);
            r_corrected_view = new Uint8Array(r_corrected_buffer);

            r_corrected_view[0] = 0x00;

            for(var j = 0; j < length; j++)
                r_corrected_view[j + 1] = r_view[j];
        }
        else
        {
            r_corrected_buffer = r_buffer;
            r_corrected_view = r_view;
        }
        // #endregion 

        // #region Get "s" part of ECDSA signature 
        for(; i < signatureBuffer.byteLength; i++)
            s_view[i - length] = signatureView[i];


        if(s_view[0] & 0x80)
        {
            s_corrected_buffer = new ArrayBuffer(length + 1);
            s_corrected_view = new Uint8Array(s_corrected_buffer);

            s_corrected_view[0] = 0x00;

            for(var j = 0; j < length; j++)
                s_corrected_view[j + 1] = s_view[j];
        }
        else
        {
            s_corrected_buffer = s_buffer;
            s_corrected_view = s_view;
        }
        // #endregion 

        // #region Create ASN.1 structure of CMS ECDSA signature 
        var r_integer = new in_window.org.pkijs.asn1.INTEGER();
        r_integer.value_block.is_hex_only = true;
        r_integer.value_block.value_hex = in_window.org.pkijs.copyBuffer(r_corrected_buffer);

        var s_integer = new in_window.org.pkijs.asn1.INTEGER();
        s_integer.value_block.is_hex_only = true;
        s_integer.value_block.value_hex = in_window.org.pkijs.copyBuffer(s_corrected_buffer);

        var asn1 = new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                r_integer,
                s_integer
            ]
        });
        // #endregion   

        return asn1.toBER(false);
    }
    //**************************************************************************************
    in_window.org.pkijs.createECDSASignatureFromCMS =
    function(cmsSignature)
    {
        /// <summary>Create a single ArrayBuffer from CMS ECDSA signature</summary>
        /// <param name="cmsSignature" type="in_window.org.pkijs.asn1.SEQUENCE">ASN.1 SEQUENCE contains CMS ECDSA signature</param>

        // #region Initial variables 
        var length = 0;

        var r_start = 0;
        var s_start = 0;

        var r_length = cmsSignature.value_block.value[0].value_block.value_hex.byteLength;
        var s_length = cmsSignature.value_block.value[1].value_block.value_hex.byteLength;
        // #endregion 

        // #region Get length of final "ArrayBuffer" 
        var r_view = new Uint8Array(cmsSignature.value_block.value[0].value_block.value_hex);
        if((r_view[0] === 0x00) && (r_view[1] & 0x80))
        {
            length = r_length - 1;
            r_start = 1;
        }
        else
            length = r_length;

        var s_view = new Uint8Array(cmsSignature.value_block.value[1].value_block.value_hex);
        if((s_view[0] === 0x00) && (s_view[1] & 0x80))
        {
            length += s_length - 1;
            s_start = 1;
        }
        else
            length += s_length;
        // #endregion 

        // #region Copy values from CMS ECDSA signature 
        var result = new ArrayBuffer(length);
        var result_view = new Uint8Array(result);

        for(var i = r_start; i < r_length; i++)
            result_view[i - r_start] = r_view[i];

        for(var i = s_start; i < s_length; i++)
            result_view[i - s_start + r_length - r_start] = s_view[i];
        // #endregion 

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getEncryptionAlgorithm =
    function(algorithm)
    {
        /// <summary>Get encryption algorithm OID by WebCrypto algorithm's object</summary>
        /// <param name="algorithm" type="WebCryptoAlgorithm">WebCrypto algorithm object</param>

        var result = "";

        switch(algorithm.name.toUpperCase())
        {
            case "AES-CBC":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.2";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.22";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.42";
                        break;
                    default:;
                }
                break;
            case "AES-GCM":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.6";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.26";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.46";
                        break;
                    default:;
                }
                break;
            default:;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getAlgorithmByEncryptionOID =
    function(oid)
    {
        /// <summary>Get encryption algorithm name by OID</summary>
        /// <param name="oid" type="String">OID of encryption algorithm</param>

        var result = "";

        switch(oid)
        {
            case "2.16.840.1.101.3.4.1.2":
            case "2.16.840.1.101.3.4.1.22":
            case "2.16.840.1.101.3.4.1.42":
                result = "AES-CBC";
                break;
            case "2.16.840.1.101.3.4.1.6":
            case "2.16.840.1.101.3.4.1.26":
            case "2.16.840.1.101.3.4.1.46":
                result = "AES-GCM";
                break;
            default:;
        }

        return result;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
}
)(typeof exports !== "undefined" ? exports : window);
//third_party/javascript/pkijs/v1/ocsp_tsp_schema.js
/**
 * @license
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015, Peculiar Ventures
 * 2014-2015, Authored by Yury Strozhevsky <www.strozhevsky.com>
 * SPDX-License-Identifier: BSD-3-Clause
 */

/*
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015, Peculiar Ventures
 * All rights reserved.
 *
 * Author 2014-2015, Yury Strozhevsky <www.strozhevsky.com>.
 *
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, 
 *    this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice, 
 *    this list of conditions and the following disclaimer in the documentation 
 *    and/or other materials provided with the distribution.
 *
 * 3. Neither the name of the copyright holder nor the names of its contributors 
 *    may be used to endorse or promote products derived from this software without 
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY 
 * OF SUCH DAMAGE. 
 *
 */
(
function(in_window)
{
    //**************************************************************************************
    // #region Declaration of global variables 
    //**************************************************************************************
    // #region "org" namespace 
    if(typeof in_window.org === "undefined")
        in_window.org = {};
    else
    {
        if(typeof in_window.org !== "object")
            throw new Error("Name org already exists and it's not an object");
    }
    // #endregion 

    // #region "org.pkijs" namespace 
    if(typeof in_window.org.pkijs === "undefined")
        in_window.org.pkijs = {};
    else
    {
        if(typeof in_window.org.pkijs !== "object")
            throw new Error("Name org.pkijs already exists and it's not an object" + " but " + (typeof in_window.org.pkijs));
    }
    // #endregion 

    // #region "org.pkijs.schema" namespace 
    if(typeof in_window.org.pkijs.schema === "undefined")
        in_window.org.pkijs.schema = {};
    else
    {
        if(typeof in_window.org.pkijs.schema !== "object")
            throw new Error("Name org.pkijs.schema already exists and it's not an object" + " but " + (typeof in_window.org.pkijs.schema));
    }
    // #endregion 

    // #region "org.pkijs.schema.ocsp" namespace 
    if(typeof in_window.org.pkijs.schema.ocsp === "undefined")
        in_window.org.pkijs.schema.ocsp = {};
    else
    {
        if(typeof in_window.org.pkijs.schema.ocsp !== "object")
            throw new Error("Name org.pkijs.schema.ocsp already exists and it's not an object" + " but " + (typeof in_window.org.pkijs.schema.ocsp));
    }
    // #endregion 

    // #region "org.pkijs.schema.tsp" namespace 
    if(typeof in_window.org.pkijs.schema.tsp === "undefined")
        in_window.org.pkijs.schema.tsp = {};
    else
    {
        if(typeof in_window.org.pkijs.schema.tsp !== "object")
            throw new Error("Name org.pkijs.schema.tsp already exists and it's not an object" + " but " + (typeof in_window.org.pkijs.schema.tsp));
    }
    // #endregion 

    // #region "local" namespace 
    var local = {};
    // #endregion   
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for OCSP request (RFC6960) 
    //**************************************************************************************
    in_window.org.pkijs.schema.ocsp.CertID =
    function()
    {
        //CertID          ::=     SEQUENCE {
        //    hashAlgorithm       AlgorithmIdentifier,
        //    issuerNameHash      OCTET STRING, -- Hash of issuer's DN
        //    issuerKeyHash       OCTET STRING, -- Hash of issuer's public key
        //    serialNumber        CertificateSerialNumber }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.signature || {
                    names: {
                        block_name: (names.hashAlgorithm || "")
                    }
                }),
                new in_window.org.pkijs.asn1.OCTETSTRING({ name: (names.issuerNameHash || "") }),
                new in_window.org.pkijs.asn1.OCTETSTRING({ name: (names.issuerKeyHash || "") }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.serialNumber || "") })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.ocsp.Request =
    function()
    {
        //Request         ::=     SEQUENCE {
        //    reqCert                     CertID,
        //    singleRequestExtensions     [0] EXPLICIT Extensions OPTIONAL }
        
        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                in_window.org.pkijs.schema.ocsp.CertID(names.reqCert || {}),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [in_window.org.pkijs.schema.EXTENSIONS(names.extensions || {
                        names: {
                            block_name: (names.singleRequestExtensions || "")
                        }
                    })]
                })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.ocsp.TBSRequest =
    function()
    {
        //TBSRequest      ::=     SEQUENCE {
        //    version             [0]     EXPLICIT Version DEFAULT v1,
        //    requestorName       [1]     EXPLICIT GeneralName OPTIONAL,
        //    requestList                 SEQUENCE OF Request,
        //    requestExtensions   [2]     EXPLICIT Extensions OPTIONAL }
        
        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || "TBSRequest"),
            value: [
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [new in_window.org.pkijs.asn1.INTEGER({ name: (names.TBSRequest_version || "TBSRequest.version") })]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    value: [in_window.org.pkijs.schema.GENERAL_NAME(names.requestorName || {
                        names: {
                            block_name: "TBSRequest.requestorName"
                        }
                    })]
                }),
                new in_window.org.pkijs.asn1.SEQUENCE({
                    name: (names.requestList || "TBSRequest.requestList"),
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            name: (names.requests || "TBSRequest.requests"),
                            value: in_window.org.pkijs.schema.ocsp.Request(names.requestNames || {})
                        })
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 2 // [2]
                    },
                    value: [in_window.org.pkijs.schema.EXTENSIONS(names.extensions || {
                        names: {
                            block_name: (names.requestExtensions || "TBSRequest.requestExtensions")
                        }
                    })]
                })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.ocsp.Signature =
    function()
    {
        //Signature       ::=     SEQUENCE {
        //    signatureAlgorithm      AlgorithmIdentifier,
        //    signature               BIT STRING,
        //    certs               [0] EXPLICIT SEQUENCE OF Certificate OPTIONAL }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.signatureAlgorithm || {}),
                new in_window.org.pkijs.asn1.BITSTRING({ name: (names.signature || "") }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.SEQUENCE({
                            value: [new in_window.org.pkijs.asn1.REPEATED({
                                name: (names.certs || ""),
                                value: in_window.org.pkijs.schema.CERT(names.certs || {})
                            })]
                        })
                    ]
                })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.OCSP_REQUEST =
    function()
    {
        //OCSPRequest     ::=     SEQUENCE {
        //    tbsRequest                  TBSRequest,
        //    optionalSignature   [0]     EXPLICIT Signature OPTIONAL }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: names.block_name || "OCSPRequest",
            value: [
                in_window.org.pkijs.schema.ocsp.TBSRequest(names.tbsRequest || {
                    names: {
                        block_name: "tbsRequest"
                    }
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [
                        in_window.org.pkijs.schema.ocsp.Signature(names.optionalSignature || {
                            names: {
                                block_name: "optionalSignature"
                            }
                        })
                    ]
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "ResponderID" type
    //**************************************************************************************
    in_window.org.pkijs.schema.ocsp.ResponderID =
    function()
    {
        // KeyHash ::= OCTET STRING
        //
        // ResponderID ::= CHOICE {
        //    byName               [1] Name,
        //    byKey                [2] KeyHash }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.CHOICE({
            value: [
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    name: (names.block_name || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    value: [in_window.org.pkijs.schema.RDN(names.byName || {
                        names: {
                            block_name: ""
                        }
                    })]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    name: (names.block_name || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 2 // [2]
                    },
                    value: [new in_window.org.pkijs.asn1.OCTETSTRING({ name: (names.byKey || "") })]
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for OCSP response (RFC6960) 
    //**************************************************************************************
    in_window.org.pkijs.schema.ocsp.ResponseBytes =
    function()
    {
        //ResponseBytes ::=       SEQUENCE {
        //    responseType   OBJECT IDENTIFIER,
        //    response       OCTET STRING }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.responseType || "") }),
                new in_window.org.pkijs.asn1.OCTETSTRING({ name: (names.response || "") })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.OCSP_RESPONSE =
    function()
    {
        //OCSPResponse ::= SEQUENCE {
        //    responseStatus         OCSPResponseStatus,
        //    responseBytes          [0] EXPLICIT ResponseBytes OPTIONAL }
        //
        //OCSPResponseStatus ::= ENUMERATED {
        //    successful            (0),  -- Response has valid confirmations
        //    malformedRequest      (1),  -- Illegal confirmation request
        //    internalError         (2),  -- Internal error in issuer
        //    tryLater              (3),  -- Try again later
        //    -- (4) is not used
        //    sigRequired           (5),  -- Must sign the request
        //    unauthorized          (6)   -- Request unauthorized
        //}

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || "OCSPResponse"),
            value: [
                new in_window.org.pkijs.asn1.ENUMERATED({ name: (names.responseStatus || "responseStatus") }), 
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [
                        in_window.org.pkijs.schema.ocsp.ResponseBytes(names.responseBytes || {
                            names: {
                                block_name: "responseBytes"
                            }
                        })
                    ]
                })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.ocsp.SingleResponse =
    function()
    {
        //SingleResponse ::= SEQUENCE {
        //    certID                       CertID,
        //    certStatus                   CertStatus,
        //    thisUpdate                   GeneralizedTime,
        //    nextUpdate         [0]       EXPLICIT GeneralizedTime OPTIONAL,
        //    singleExtensions   [1]       EXPLICIT Extensions OPTIONAL }
        //
        //CertStatus ::= CHOICE {
        //    good        [0]     IMPLICIT NULL,
        //    revoked     [1]     IMPLICIT RevokedInfo,
        //    unknown     [2]     IMPLICIT UnknownInfo }
        //
        //RevokedInfo ::= SEQUENCE {
        //    revocationTime              GeneralizedTime,
        //    revocationReason    [0]     EXPLICIT CRLReason OPTIONAL }
        //
        //UnknownInfo ::= NULL

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                in_window.org.pkijs.schema.ocsp.CertID(names.certID || {}),
                new in_window.org.pkijs.asn1.CHOICE({
                    value: [
                        new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                            name: (names.certStatus || ""),
                            id_block: {
                                tag_class: 3, // CONTEXT-SPECIFIC
                                tag_number: 0 // [0]
                            },
                            len_block_length: 1 // The length contains one byte 0x00
                        }), // IMPLICIT NULL (no "value_block")
                        new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                            name: (names.certStatus || ""),
                            id_block: {
                                tag_class: 3, // CONTEXT-SPECIFIC
                                tag_number: 1 // [1]
                            },
                            value: [
                                new in_window.org.pkijs.asn1.GENERALIZEDTIME(),
                                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                                    optional: true,
                                    id_block: {
                                        tag_class: 3, // CONTEXT-SPECIFIC
                                        tag_number: 0 // [0]
                                    },
                                    value: [new in_window.org.pkijs.asn1.ENUMERATED()]
                                })
                            ]
                        }),
                        new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                            name: (names.certStatus || ""),
                            id_block: {
                                tag_class: 3, // CONTEXT-SPECIFIC
                                tag_number: 2 // [2]
                            },
                            len_block: { length: 1 }
                        }) // IMPLICIT NULL (no "value_block")
                    ]
                }),
                new in_window.org.pkijs.asn1.GENERALIZEDTIME({ name: (names.thisUpdate || "") }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [new in_window.org.pkijs.asn1.GENERALIZEDTIME({ name: (names.nextUpdate || "") })]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    value: [in_window.org.pkijs.schema.EXTENSIONS(names.singleExtensions || {})]
                }) // EXPLICIT SEQUENCE value
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.ocsp.ResponseData =
    function()
    {
        //ResponseData ::= SEQUENCE {
        //    version              [0] EXPLICIT Version DEFAULT v1,
        //    responderID              ResponderID,
        //    producedAt               GeneralizedTime,
        //    responses                SEQUENCE OF SingleResponse,
        //    responseExtensions   [1] EXPLICIT Extensions OPTIONAL }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || "ResponseData"),
            value: [
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [new in_window.org.pkijs.asn1.INTEGER({ name: (names.version || "ResponseData.version") })]
                }),
                new in_window.org.pkijs.asn1.CHOICE({
                    value: [
                        new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                            name: (names.responderID || "ResponseData.responderID"),
                            id_block: {
                                tag_class: 3, // CONTEXT-SPECIFIC
                                tag_number: 1 // [1]
                            },
                            value: [in_window.org.pkijs.schema.RDN(names.ResponseData_byName || {
                                names: {
                                    block_name: "ResponseData.byName"
                                }
                            })]
                        }),
                        new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                            name: (names.responderID || "ResponseData.responderID"),
                            id_block: {
                                tag_class: 3, // CONTEXT-SPECIFIC
                                tag_number: 2 // [2]
                            },
                            value: [new in_window.org.pkijs.asn1.OCTETSTRING({ name: (names.ResponseData_byKey || "ResponseData.byKey") })]
                        })
                    ]
                }),
                new in_window.org.pkijs.asn1.GENERALIZEDTIME({ name: (names.producedAt || "ResponseData.producedAt") }),
                new in_window.org.pkijs.asn1.SEQUENCE({
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            name: "ResponseData.responses",
                            value: in_window.org.pkijs.schema.ocsp.SingleResponse(names.response || {})
                        })
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    value: [in_window.org.pkijs.schema.EXTENSIONS(names.extensions || {
                        names: {
                            block_name: "ResponseData.responseExtensions"
                        }
                    })]
                }) // EXPLICIT SEQUENCE value
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.OCSP_BASIC_RESPONSE =
    function()
    {
        //BasicOCSPResponse       ::= SEQUENCE {
        //    tbsResponseData      ResponseData,
        //    signatureAlgorithm   AlgorithmIdentifier,
        //    signature            BIT STRING,
        //    certs            [0] EXPLICIT SEQUENCE OF Certificate OPTIONAL }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || "BasicOCSPResponse"),
            value: [
                in_window.org.pkijs.schema.ocsp.ResponseData(names.tbsResponseData || {
                    names: {
                        block_name: "BasicOCSPResponse.tbsResponseData"
                    }
                }),
                in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.signatureAlgorithm || {
                    names: {
                        block_name: "BasicOCSPResponse.signatureAlgorithm"
                    }
                }),
                new in_window.org.pkijs.asn1.BITSTRING({ name: (names.signature || "BasicOCSPResponse.signature") }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.SEQUENCE({
                            value: [new in_window.org.pkijs.asn1.REPEATED({
                                name: "BasicOCSPResponse.certs",
                                value: in_window.org.pkijs.schema.CERT(names.certs || {})
                            })]
                        })
                    ]
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for Time-stamp request type (RFC3161) 
    //**************************************************************************************
    in_window.org.pkijs.schema.tsp.MessageImprint =
    function()
    {
        //MessageImprint ::= SEQUENCE  {
        //    hashAlgorithm                AlgorithmIdentifier,
        //    hashedMessage                OCTET STRING  }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.hashAlgorithm || {}),
                new in_window.org.pkijs.asn1.OCTETSTRING({ name: (names.hashedMessage || "") })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.TSP_REQUEST =
    function()
    {
        //TimeStampReq ::= SEQUENCE  {
        //    version               INTEGER  { v1(1) },
        //    messageImprint        MessageImprint,
        //    reqPolicy             TSAPolicyId              OPTIONAL,
        //    nonce                 INTEGER                  OPTIONAL,
        //    certReq               BOOLEAN                  DEFAULT FALSE,
        //    extensions            [0] IMPLICIT Extensions  OPTIONAL  }
        //
        //TSAPolicyId ::= OBJECT IDENTIFIER

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || "TimeStampReq"),
            value: [
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.version || "TimeStampReq.version") }),
                in_window.org.pkijs.schema.tsp.MessageImprint(names.messageImprint || {
                    names: {
                        block_name: "TimeStampReq.messageImprint"
                    }
                }),
                new in_window.org.pkijs.asn1.OID({
                    name: (names.reqPolicy || "TimeStampReq.reqPolicy"),
                    optional: true
                }),
                new in_window.org.pkijs.asn1.INTEGER({
                    name: (names.nonce || "TimeStampReq.nonce"),
                    optional: true
                }),
                new in_window.org.pkijs.asn1.BOOLEAN({
                    name: (names.certReq || "TimeStampReq.certReq"),
                    optional: true
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [new in_window.org.pkijs.asn1.REPEATED({
                        name: (names.extensions || "TimeStampReq.extensions"),
                        value: in_window.org.pkijs.schema.EXTENSION()
                    })]
                }) // IMPLICIT SEQUENCE value
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for Time-stamp response (RFC3161) 
    //**************************************************************************************
    in_window.org.pkijs.schema.tsp.Accuracy =
    function()
    {
        //Accuracy ::= SEQUENCE {
        //    seconds        INTEGER              OPTIONAL,
        //    millis     [0] INTEGER  (1..999)    OPTIONAL,
        //    micros     [1] INTEGER  (1..999)    OPTIONAL  }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            optional: true,
            value: [
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.seconds || "") }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.millis || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    }
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.micros || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    }
                })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.TST_INFO =
    function()
    {
        //TSTInfo ::= SEQUENCE  {
        //   version                      INTEGER  { v1(1) },
        //   policy                       TSAPolicyId,
        //   messageImprint               MessageImprint,
        //   serialNumber                 INTEGER,
        //   genTime                      GeneralizedTime,
        //   accuracy                     Accuracy                 OPTIONAL,
        //   ordering                     BOOLEAN             DEFAULT FALSE,
        //   nonce                        INTEGER                  OPTIONAL,
        //   tsa                          [0] GeneralName          OPTIONAL,
        //   extensions                   [1] IMPLICIT Extensions  OPTIONAL  }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || "TSTInfo"),
            value: [
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.version || "TSTInfo.version") }),
                new in_window.org.pkijs.asn1.OID({ name: (names.policy || "TSTInfo.policy") }),
                in_window.org.pkijs.schema.tsp.MessageImprint(names.messageImprint || {
                    names: {
                        block_name: "TSTInfo.messageImprint"
                    }
                }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.serialNumber || "TSTInfo.serialNumber") }),
                new in_window.org.pkijs.asn1.GENERALIZEDTIME({ name: (names.genTime || "TSTInfo.genTime") }),
                in_window.org.pkijs.schema.tsp.Accuracy(names.accuracy || {
                    names: {
                        block_name: "TSTInfo.accuracy"
                    }
                }),
                new in_window.org.pkijs.asn1.BOOLEAN({
                    name: (names.ordering || "TSTInfo.ordering"),
                    optional: true
                }),
                new in_window.org.pkijs.asn1.INTEGER({
                    name: (names.nonce || "TSTInfo.nonce"),
                    optional: true
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [in_window.org.pkijs.schema.GENERAL_NAME(names.tsa || {
                        names: {
                            block_name: "TSTInfo.tsa"
                        }
                    })]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            name: (names.extensions || "TSTInfo.extensions"),
                            value: in_window.org.pkijs.schema.EXTENSION(names.extension || {})
                        })
                    ]
                }) // IMPLICIT Extensions
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.tsp.PKIStatusInfo =
    function()
    {
        //PKIStatusInfo ::= SEQUENCE {
        //    status        PKIStatus,
        //    statusString  PKIFreeText     OPTIONAL,
        //    failInfo      PKIFailureInfo  OPTIONAL  }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.status || "") }),
                new in_window.org.pkijs.asn1.SEQUENCE({
                    optional: true,
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            name: (names.statusStrings || ""),
                            value: new in_window.org.pkijs.asn1.UTF8STRING()
                        })
                    ]
                }),
                new in_window.org.pkijs.asn1.BITSTRING({
                    name: (names.failInfo || ""),
                    optional: true
                })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.TSP_RESPONSE =
    function()
    {
        //TimeStampResp ::= SEQUENCE  {
        //    status                  PKIStatusInfo,
        //    timeStampToken          TimeStampToken     OPTIONAL  }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || "TimeStampResp"),
            value: [
                in_window.org.pkijs.schema.tsp.PKIStatusInfo(names.status || {
                    names: {
                        block_name: "TimeStampResp.status"
                    }
                }),
                in_window.org.pkijs.schema.CMS_CONTENT_INFO(names.timeStampToken || {
                    names: {
                        block_name: "TimeStampResp.timeStampToken"
                    }
                }, true)
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
}
)(typeof exports !== "undefined" ? exports : window);
//third_party/javascript/pkijs/v1/ocsp_tsp_simpl.js
/**
 * @license
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015, Peculiar Ventures
 * 2014-2015, Authored by Yury Strozhevsky <www.strozhevsky.com>
 * SPDX-License-Identifier: BSD-3-Clause
 */

/*
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015, Peculiar Ventures
 * All rights reserved.
 *
 * Author 2014-2015, Yury Strozhevsky <www.strozhevsky.com>.
 *
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, 
 *    this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice, 
 *    this list of conditions and the following disclaimer in the documentation 
 *    and/or other materials provided with the distribution.
 *
 * 3. Neither the name of the copyright holder nor the names of its contributors 
 *    may be used to endorse or promote products derived from this software without 
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY 
 * OF SUCH DAMAGE. 
 *
 */
(
function(in_window)
{
    //**************************************************************************************
    // #region Declaration of global variables 
    //**************************************************************************************
    // #region "org" namespace 
    if(typeof in_window.org === "undefined")
        in_window.org = {};
    else
    {
        if(typeof in_window.org !== "object")
            throw new Error("Name org already exists and it's not an object");
    }
    // #endregion 

    // #region "org.pkijs" namespace 
    if(typeof in_window.org.pkijs === "undefined")
        in_window.org.pkijs = {};
    else
    {
        if(typeof in_window.org.pkijs !== "object")
            throw new Error("Name org.pkijs already exists and it's not an object" + " but " + (typeof in_window.org.pkijs));
    }
    // #endregion 

    // #region "org.pkijs.simpl" namespace 
    if(typeof in_window.org.pkijs.simpl === "undefined")
        in_window.org.pkijs.simpl = {};
    else
    {
        if(typeof in_window.org.pkijs.simpl !== "object")
            throw new Error("Name org.pkijs.simpl already exists and it's not an object" + " but " + (typeof in_window.org.pkijs.simpl));
    }
    // #endregion 

    // #region "org.pkijs.simpl.ocsp" namespace 
    if(typeof in_window.org.pkijs.simpl.ocsp === "undefined")
        in_window.org.pkijs.simpl.ocsp = {};
    else
    {
        if(typeof in_window.org.pkijs.simpl.ocsp !== "object")
            throw new Error("Name org.pkijs.simpl.ocsp already exists and it's not an object" + " but " + (typeof in_window.org.pkijs.simpl.ocsp));
    }
    // #endregion 

    // #region "org.pkijs.simpl.tsp" namespace 
    if(typeof in_window.org.pkijs.simpl.tsp === "undefined")
        in_window.org.pkijs.simpl.tsp = {};
    else
    {
        if(typeof in_window.org.pkijs.simpl.tsp !== "object")
            throw new Error("Name org.pkijs.simpl.tsp already exists and it's not an object" + " but " + (typeof in_window.org.pkijs.simpl.tsp));
    }
    // #endregion 

    // #region "local" namespace 
    var local = {};
    // #endregion   
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "CertID" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.CertID =
    function()
    {
        // #region Internal properties of the object 
        this.hashAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        this.issuerNameHash = new in_window.org.pkijs.asn1.OCTETSTRING();
        this.issuerKeyHash = new in_window.org.pkijs.asn1.OCTETSTRING();
        this.serialNumber = new in_window.org.pkijs.asn1.INTEGER();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.ocsp.CertID.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.hashAlgorithm = arguments[0].hashAlgorithm || new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
                this.issuerNameHash = arguments[0].issuerNameHash || new in_window.org.pkijs.asn1.OCTETSTRING();
                this.issuerKeyHash = arguments[0].issuerKeyHash || new in_window.org.pkijs.asn1.OCTETSTRING();
                this.serialNumber = arguments[0].serialNumber || new in_window.org.pkijs.asn1.INTEGER();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.CertID.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.ocsp.CertID({
                names: {
                    hashAlgorithm: "hashAlgorithm",
                    issuerNameHash: "issuerNameHash",
                    issuerKeyHash: "issuerKeyHash",
                    serialNumber: "serialNumber"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for CertID");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.hashAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["hashAlgorithm"] });
        this.issuerNameHash = asn1.result["issuerNameHash"];
        this.issuerKeyHash = asn1.result["issuerKeyHash"];
        this.serialNumber = asn1.result["serialNumber"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.CertID.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                this.hashAlgorithm.toSchema(),
                this.issuerNameHash,
                this.issuerKeyHash,
                this.serialNumber
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.CertID.prototype.toJSON =
    function()
    {
        return {
            hashAlgorithm: this.hashAlgorithm.toJSON(),
            issuerNameHash: this.issuerNameHash.toJSON(),
            issuerKeyHash: this.issuerKeyHash.toJSON(),
            serialNumber: this.serialNumber.toJSON()
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "Request" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.Request =
    function()
    {
        // #region Internal properties of the object 
        this.reqCert = new in_window.org.pkijs.simpl.ocsp.CertID();
        // OPTIONAL this.singleRequestExtensions = new Array(); // Array of in_window.org.pkijs.simpl.EXTENSION();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.ocsp.Request.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.reqCert = arguments[0].reqCert || new in_window.org.pkijs.simpl.ocsp.CertID();
                if("singleRequestExtensions" in arguments[0])
                    this.singleRequestExtensions = arguments[0].singleRequestExtensions;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.Request.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.ocsp.Request({
                names: {
                    reqCert: {
                        names: {
                            block_name: "reqCert"
                        }
                    },
                    singleRequestExtensions: {
                        names: {
                            block_name: "singleRequestExtensions"
                        }
                    }
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for Request");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.reqCert = new in_window.org.pkijs.simpl.ocsp.CertID({ schema: asn1.result["reqCert"] });

        if("singleRequestExtensions" in asn1.result)
        {
            this.singleRequestExtensions = new Array();
            var exts = asn1.result["singleRequestExtensions"].value_block.value;

            for(var i = 0; i < exts.length; i++)
                this.singleRequestExtensions.push(new in_window.org.pkijs.simpl.EXTENSION({ schema: exts[i] }));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.Request.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(this.reqCert.toSchema());

        if("singleRequestExtensions" in this)
        {
            var extensions = new Array();

            for(var j = 0; j < this.singleRequestExtensions.length; j++)
                extensions.push(this.singleRequestExtensions[j].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: [
                    new in_window.org.pkijs.asn1.SEQUENCE({
                        value: extensions
                    })
                ]
            }));
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.Request.prototype.toJSON =
    function()
    {
        var _object = {
            reqCert: this.reqCert.toJSON()
        };

        if("singleRequestExtensions" in this)
        {
            _object.singleRequestExtensions = new Array();

            for(var i = 0; i < this.singleRequestExtensions.length; i++)
                _object.singleRequestExtensions.push(this.singleRequestExtensions[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "TBSRequest" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.TBSRequest =
    function()
    {
        // #region Internal properties of the object 
        this.tbs = new ArrayBuffer(0); // Value of TBS part before decode

        // OPTIONAL this.version = 0;
        // OPTIONAL this.requestorName = new in_window.org.pkijs.simpl.GENERAL_NAME();
        this.requestList = new Array(); // Array of "Request" objects
        // OPTIONAL this.requestExtensions = new Array(); // Array of in_window.org.pkijs.simpl.EXTENSION();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.ocsp.TBSRequest.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.tbs = arguments[0].tbs || new ArrayBuffer(0); // Value of TBS part before decode

                if("version" in arguments[0])
                    this.version = arguments[0].version;
                if("requestorName" in arguments[0])
                    this.requestorName = arguments[0].requestorName;
                this.requestList = arguments[0].requestList || new Array(); // Array of "Request" objects
                if("requestExtensions" in arguments[0])
                    this.requestExtensions = arguments[0].requestExtensions;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.TBSRequest.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.ocsp.TBSRequest()
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for TBSRequest");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.tbs = asn1.result["TBSRequest"].value_before_decode;

        if("TBSRequest.version" in asn1.result)
            this.version = asn1.result["TBSRequest.version"].value_block.value_dec;
        if("TBSRequest.requestorName" in asn1.result)
            this.requestorName = new in_window.org.pkijs.simpl.GENERAL_NAME({ schema: asn1.result["TBSRequest.requestorName"] });

        var requests = asn1.result["TBSRequest.requests"];
        for(var i = 0; i < requests.length; i++)
            this.requestList.push(new in_window.org.pkijs.simpl.ocsp.Request({ schema: requests[i] }));

        if("TBSRequest.requestExtensions" in asn1.result)
        {
            this.requestExtensions = new Array();
            var exts = asn1.result["TBSRequest.requestExtensions"].value_block.value;

            for(var i = 0; i < exts.length; i++)
                this.requestExtensions.push(new in_window.org.pkijs.simpl.EXTENSION({ schema: exts[i] }));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.TBSRequest.prototype.toSchema =
    function(encodeFlag)
    {
        /// <param name="encodeFlag" type="Boolean">If param equal to false then create TBS schema via decoding stored value. In othe case create TBS schema via assembling from TBS parts.</param>

        // #region Check "encodeFlag" 
        if(typeof encodeFlag === "undefined")
            encodeFlag = false;
        // #endregion 

        // #region Decode stored TBS value 
        var tbs_schema;

        if(encodeFlag === false)
        {
            if(this.tbs.byteLength === 0) // No stored TBS part
                return in_window.org.pkijs.schema.ocsp.TBSRequest();

            tbs_schema = in_window.org.pkijs.fromBER(this.tbs).result;
        }
        // #endregion 
        // #region Create TBS schema via assembling from TBS parts
        else
        {
            var output_array = new Array();

            if("version" in this)
                output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [new in_window.org.pkijs.asn1.INTEGER({ value: this.version })]
                }));

            if("requestorName" in this)
                output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    value: [this.requestorName.toSchema()]
                }));

            var requests = new Array();

            for(var i = 0; i < this.requestList.length; i++)
                requests.push(this.requestList[i].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.SEQUENCE({
                value: requests
            }));

            if("requestExtensions" in this)
            {
                var extensions = new Array();

                for(var j = 0; j < this.requestExtensions.length; j++)
                    extensions.push(this.requestExtensions[j].toSchema());

                output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 2 // [2]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.SEQUENCE({
                            value: extensions
                        })
                    ]
                }));
            }

            tbs_schema = new in_window.org.pkijs.asn1.SEQUENCE({
                value: output_array
            });
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return tbs_schema;
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.TBSRequest.prototype.toJSON =
    function()
    {
        var _object = {};
        
        if("version" in this)
            _object.version = this.version;

        if("requestorName" in this)
            _object.requestorName = this.requestorName.toJSON();

        _object.requestList = new Array();

        for(var i = 0; i < this.requestList.length; i++)
            _object.requestList.push(this.requestList[i].toJSON());

        if("requestExtensions" in this)
        {
            _object.requestExtensions = new Array();

            for(var i = 0; i < this.requestExtensions.length; i++)
                _object.requestExtensions.push(this.requestExtensions[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "Signature" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.Signature =
    function()
    {
        // #region Internal properties of the object 
        this.signatureAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        this.signature = new in_window.org.pkijs.asn1.BITSTRING();
        // OPTIONAL this.certs = new Array(); // Array of X.509 certificates
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.ocsp.Signature.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.signatureAlgorithm = arguments[0].signatureAlgorithm || new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
                this.signature = arguments[0].signature || new in_window.org.pkijs.asn1.BITSTRING();
                if("certs" in arguments[0])
                    this.certs = arguments[0].certs; // Array of X.509 certificates
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.Signature.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.ocsp.Signature({
                names: {
                    signatureAlgorithm: {
                        names: {
                            block_name: "signatureAlgorithm"
                        }
                    },
                    signature: "signature",
                    certs: "certs"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for ocsp.Signature");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.signatureAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["signatureAlgorithm"] });
        this.signature = asn1.result["signature"];
        if("certs" in asn1.result)
        {
            this.certs = new Array();

            var certs_array = asn1.result["certs"];
            for(var i = 0; i < certs_array; i++)
                this.certs.push(new in_window.org.pkijs.simpl.CERT({ schema: certs_array[i] }));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.Signature.prototype.toSchema =
    function()
    {
        // #region Create array of output sequence 
        var output_array = new Array();

        output_array.push(this.signatureAlgorithm.toSchema());
        output_array.push(this.signature);
        if("certs" in this)
        {
            // #region Create certificate array 
            var cert_array = new Array();

            for(var i = 0; i < this.certs.length; i++)
                cert_array.push(this.certs[i].toSchema());
            // #endregion 

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: [
                    new in_window.org.pkijs.asn1.SEQUENCE({
                        value: cert_array
                    })
                ]
            }));
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.Signature.prototype.toJSON =
    function()
    {
        var _object = {
            signatureAlgorithm: this.signatureAlgorithm.toJSON(),
            signature: this.signature.toJSON(),
        };

        if("certs" in this)
        {
            _object.certs = new Array();

            for(var i = 0; i < this.certs.length; i++)
                _object.certs.push(this.certs[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "OCSP_REQUEST" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.OCSP_REQUEST =
    function()
    {
        // #region Internal properties of the object 
        this.tbsRequest = new in_window.org.pkijs.simpl.ocsp.TBSRequest();
        // OPTIONAL this.optionalSignature = new in_window.org.pkijs.simpl.ocsp.Signature();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.OCSP_REQUEST.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.tbsRequest = arguments[0].tbsRequest || new in_window.org.pkijs.simpl.ocsp.TBSRequest();
                if("optionalSignature" in arguments[0])
                    this.optionalSignature = arguments[0].optionalSignature;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.OCSP_REQUEST.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.OCSP_REQUEST()
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for OCSP_REQUEST");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.tbsRequest = new in_window.org.pkijs.simpl.ocsp.TBSRequest({ schema: asn1.result["tbsRequest"] });
        if("optionalSignature" in asn1.result)
            this.optionalSignature = new in_window.org.pkijs.simpl.ocsp.Signature({ schema: asn1.result["optionalSignature"] });
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.OCSP_REQUEST.prototype.toSchema =
    function(encodeFlag)
    {
        /// <param name="encodeFlag" type="Boolean">If param equal to false then create TBS schema via decoding stored value. In othe case create TBS schema via assembling from TBS parts.</param>

        // #region Check "encodeFlag" 
        if(typeof encodeFlag === "undefined")
            encodeFlag = false;
        // #endregion 

        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(this.tbsRequest.toSchema(encodeFlag));
        if("optionalSignature" in this)
            output_array.push(this.optionalSignature.toSchema());
        // #endregion   

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.OCSP_REQUEST.prototype.sign =
    function(privateKey, hashAlgorithm)
    {
        /// <param name="privateKey" type="Key">Private key for "subjectPublicKeyInfo" structure</param>
        /// <param name="hashAlgorithm" type="String" optional="true">Hashing algorithm. Default SHA-1</param>

        // #region Initial variables 
        var _this = this;
        // #endregion 

        // #region Get a private key from function parameter 
        if(typeof privateKey === "undefined")
            return new Promise(function(resolve, reject) { reject("Need to provide a private key for signing"); });
        // #endregion 

        // #region Get hashing algorithm 
        if(typeof hashAlgorithm === "undefined")
            hashAlgorithm = "SHA-1";
        else
        {
            // #region Simple check for supported algorithm 
            var oid = in_window.org.pkijs.getOIDByAlgorithm({ name: hashAlgorithm });
            if(oid === "")
                return new Promise(function(resolve, reject) { reject("Unsupported hash algorithm: " + hashAlgorithm); });
            // #endregion 
        }
        // #endregion 

        // #region Check that "optionalSignature" exists in the current request  
        if(("optionalSignature" in this) === false)
            return new Promise(function(resolve, reject) { reject("Need to create \"optionalSignature\" field before signing"); });
        // #endregion   

        // #region Get a "default parameters" for current algorithm 
        var defParams = in_window.org.pkijs.getAlgorithmParameters(privateKey.algorithm.name, "sign");
        defParams.algorithm.hash.name = hashAlgorithm;
        // #endregion 

        // #region Fill internal structures base on "privateKey" and "hashAlgorithm" 
        switch(privateKey.algorithm.name.toUpperCase())
        {
            case "RSASSA-PKCS1-V1_5":
            case "ECDSA":
                _this.optionalSignature.signatureAlgorithm.algorithm_id = in_window.org.pkijs.getOIDByAlgorithm(defParams.algorithm);
                break;
            case "RSA-PSS":
                {
                    // #region Set "saltLength" as a length (in octets) of hash function result 
                    switch(hashAlgorithm.toUpperCase())
                    {
                        case "SHA-256":
                            defParams.algorithm.saltLength = 32;
                            break;
                        case "SHA-384":
                            defParams.algorithm.saltLength = 48;
                            break;
                        case "SHA-512":
                            defParams.algorithm.saltLength = 64;
                            break;
                        default:;
                    }
                    // #endregion 

                    // #region Fill "RSASSA_PSS_params" object 
                    var paramsObject = {};

                    if(hashAlgorithm.toUpperCase() !== "SHA-1")
                    {
                        var hashAlgorithmOID = in_window.org.pkijs.getOIDByAlgorithm({ name: hashAlgorithm });
                        if(hashAlgorithmOID === "")
                            return new Promise(function(resolve, reject) { reject("Unsupported hash algorithm: " + hashAlgorithm); });

                        paramsObject.hashAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: hashAlgorithmOID,
                            algorithm_params: new org.pkijs.asn1.NULL()
                        });

                        paramsObject.maskGenAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: "1.2.840.113549.1.1.8", // MGF1
                            algorithm_params: paramsObject.hashAlgorithm.toSchema()
                        })
                    }

                    if(defParams.algorithm.saltLength !== 20)
                        paramsObject.saltLength = defParams.algorithm.saltLength;

                    var pssParameters = new in_window.org.pkijs.simpl.x509.RSASSA_PSS_params(paramsObject);
                    // #endregion   

                    // #region Automatically set signature algorithm 
                    _this.optionalSignature.signatureAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                        algorithm_id: "1.2.840.113549.1.1.10",
                        algorithm_params: pssParameters.toSchema()
                    });
                    // #endregion 
                }
                break;
            default:
                return new Promise(function(resolve, reject) { reject("Unsupported signature algorithm: " + privateKey.algorithm.name); });
        }
        // #endregion 

        // #region Create TBS data for signing 
        var tbs = this.tbsRequest.toSchema(true).toBER(false);
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Signing TBS data on provided private key 
        return crypto.sign(defParams.algorithm,
            privateKey,
            new Uint8Array(tbs)).then(
            function(result)
            {
                // #region Special case for ECDSA algorithm 
                if(defParams.algorithm.name === "ECDSA")
                    result = in_window.org.pkijs.createCMSECDSASignature(result);
                // #endregion 

                _this.optionalSignature.signature = new in_window.org.pkijs.asn1.BITSTRING({ value_hex: result });
            },
            function(error)
            {
                return new Promise(function(resolve, reject) { reject("Signing error: " + error); });
            }
            );
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.OCSP_REQUEST.prototype.toJSON =
    function()
    {
        var _object = {};

        if("version" in this)
            _object.version = this.version;

        if("requestorName" in this)
            _object.requestorName = this.requestorName.toJSON();

        _object.requestList = new Array();

        for(var i = 0; i < this.requestList.length; i++)
            _object.requestList.push(this.requestList[i].toJSON());

        if("requestExtensions" in this)
        {
            _object.requestExtensions = new Array();

            for(var i = 0; i < this.requestExtensions.length; i++)
                _object.requestExtensions.push(this.requestExtensions[i].toJSON());
        }

        if("optionalSignature" in this)
            _object.optionalSignature = this.optionalSignature.toJSON();

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.OCSP_REQUEST.prototype.createForCertificate =
    function(certificate, parameters)
    {
        /// <summary>Making OCSP Request for specific certificate</summary>
        /// <param name="certificate" type="in_window.org.pkijs.simpl.CERT">Certificate making OCSP Request for</param>
        /// <param name="parameters" type="Object">Additional parameters</param>

        // #region Initial variables 
        var _this = this;
        var sequence = Promise.resolve();

        var hashAlgorithm;
        var hashOID;

        var issuerNameHash;
        var issuerKeyHash;

        var issuerCertificate;
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Check input parameters 
        if("hashAlgorithm" in parameters)
            hashAlgorithm = parameters.hashAlgorithm;
        else
            return new Promise(function(resolve, reject) { reject("Parameter \"hashAlgorithm\" is mandatory for \"OCSP_REQUEST.createForCertificate\""); });

        hashOID = in_window.org.pkijs.getOIDByAlgorithm({ name: hashAlgorithm });
        if(hashOID === "")
            return new Promise(function(resolve, reject) { reject("Incorrect \"hashAlgorithm\": " + hashAlgorithm); });

        if("issuerCertificate" in parameters)
            issuerCertificate = parameters.issuerCertificate;
        else
            return new Promise(function(resolve, reject) { reject("Parameter \"issuerCertificate\" is mandatory for \"OCSP_REQUEST.createForCertificate\""); });
        // #endregion 

        // #region Create "issuerNameHash" 
        sequence = sequence.then(
            function(result)
            {
                var issuerNameBuffer = issuerCertificate.subject.toSchema().toBER(false);

                return crypto.digest({ name: hashAlgorithm }, issuerNameBuffer);
            },
            function(error)
            {
                return new Promise(function(resolve, reject) { reject(error); });
            }
            );
        // #endregion 

        // #region Create "issuerKeyHash" 
        sequence = sequence.then(
            function(result)
            {
                issuerNameHash = result;

                var issuerKeyBuffer = issuerCertificate.subjectPublicKeyInfo.subjectPublicKey.value_block.value_hex;

                return crypto.digest({ name: hashAlgorithm }, issuerKeyBuffer);
            },
            function(error)
            {
                return new Promise(function(resolve, reject) { reject(error); });
            }
            );
        // #endregion 

        // #region Make final request data 
        sequence = sequence.then(
            function(result)
            {
                issuerKeyHash = result;

                _this.tbsRequest = new in_window.org.pkijs.simpl.ocsp.TBSRequest({
                    requestList: [
                        new in_window.org.pkijs.simpl.ocsp.Request({
                            reqCert: new in_window.org.pkijs.simpl.ocsp.CertID({
                                hashAlgorithm: new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                                    algorithm_id: hashOID,
                                    algorithm_params: new in_window.org.pkijs.asn1.NULL()
                                }),
                                issuerNameHash: new in_window.org.pkijs.asn1.OCTETSTRING({ value_hex: issuerNameHash }),
                                issuerKeyHash: new in_window.org.pkijs.asn1.OCTETSTRING({ value_hex: issuerKeyHash }),
                                serialNumber: certificate.serialNumber
                            })
                        })
                    ]
                })
            },
            function(error)
            {
                return new Promise(function(resolve, reject) { reject(error); });
            }
            );
        // #endregion 

        return sequence;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "ResponseBytes" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.ResponseBytes =
    function()
    {
        // #region Internal properties of the object 
        this.responseType = "";
        this.response = new in_window.org.pkijs.asn1.OCTETSTRING();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.ocsp.ResponseBytes.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.responseType = arguments[0].responseType || "";
                this.response = arguments[0].response || new in_window.org.pkijs.asn1.OCTETSTRING();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.ResponseBytes.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.ocsp.ResponseBytes({
                names: {
                    responseType: "responseType",
                    response: "response"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for ResponseBytes");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.responseType = asn1.result["responseType"].value_block.toString();
        this.response = asn1.result["response"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.ResponseBytes.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                new in_window.org.pkijs.asn1.OID({ value: this.responseType }),
                this.response
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.ResponseBytes.prototype.toJSON =
    function()
    {
        return {
            responseType: this.responseType,
            response: this.response.toJSON()
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "OCSP_RESPONSE" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.OCSP_RESPONSE =
    function()
    {
        // #region Internal properties of the object 
        this.responseStatus = new in_window.org.pkijs.asn1.ENUMERATED();
        // OPTIONAL this.responseBytes = new in_window.org.pkijs.simpl.ocsp.ResponseBytes();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.OCSP_RESPONSE.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.responseStatus = arguments[0].responseStatus || new in_window.org.pkijs.asn1.ENUMERATED();
                if("responseBytes" in arguments[0])
                    this.responseBytes = arguments[0].responseBytes;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.OCSP_RESPONSE.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.OCSP_RESPONSE()
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for OCSP_RESPONSE");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.responseStatus = asn1.result["responseStatus"];
        if("responseBytes" in asn1.result)
            this.responseBytes = new in_window.org.pkijs.simpl.ocsp.ResponseBytes({ schema: asn1.result["responseBytes"] });
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.OCSP_RESPONSE.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(this.responseStatus);
        if("responseBytes" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: [this.responseBytes.toSchema()]
            }));
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.OCSP_RESPONSE.prototype.verify =
    function()
    {
        /// <summary>!!! Works well in Chrome dev versions only (April 2014th) !!!</summary>
        /// <returns type="Promise">Returns a new Promise object (in case of error), or a result of "crypto.subtle.veryfy" function</returns>

        var _this = this;

        // #region Check that ResponseBytes exists in the object 
        if(("responseBytes" in this) === false)
            return new Promise(function(resolve, reject) { reject("Empty ResponseBytes field"); });
        // #endregion 

        // #region Check that ResponceData has type BasicOCSPResponse and verify it 
        if(this.responseBytes.responseType === "1.3.6.1.5.5.7.48.1.1")
        {
            var asn1 = in_window.org.pkijs.fromBER(this.responseBytes.response.value_block.value_hex);
            var basic_resp_simpl = new in_window.org.pkijs.simpl.OCSP_BASIC_RESPONSE({ schema: asn1.result });

            return basic_resp_simpl.verify();
        }
        else
            return new Promise(function(resolve, reject) { reject("Unknown ResponseBytes type: " + _this.responseBytes.responseType); });
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.OCSP_RESPONSE.prototype.sign =
    function(privateKey, hashAlgorithm)
    {
        /// <param name="privateKey" type="Key">Private key for "subjectPublicKeyInfo" structure</param>
        /// <param name="hashAlgorithm" type="String" optional="true">Hashing algorithm. Default SHA-1</param>

        var _this = this;

        // #region Check that ResponceData has type BasicOCSPResponse and verify it 
        if(this.responseBytes.responseType === "1.3.6.1.5.5.7.48.1.1")
        {
            var asn1 = in_window.org.pkijs.fromBER(this.responseBytes.response.value_block.value_hex);
            var basic_resp_simpl = new in_window.org.pkijs.simpl.OCSP_BASIC_RESPONSE({ schema: asn1.result });

            return basic_resp_simpl.sign(privateKey, hashAlgorithm);
        }
        else
            return new Promise(function(resolve, reject) { reject("Unknown ResponseBytes type: " + _this.responseBytes.responseType); });
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.OCSP_RESPONSE.prototype.toJSON =
    function()
    {
        var _object = {
            responseStatus: this.responseStatus.toJSON()
        };

        if("responseBytes" in this)
            _object.responseBytes = this.responseBytes.toJSON()

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "SingleResponse" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.SingleResponse =
    function()
    {
        // #region Internal properties of the object 
        this.certID = new in_window.org.pkijs.simpl.ocsp.CertID();
        this.certStatus = new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
            id_block: {
                tag_class: 3, // CONTEXT-SPECIFIC
                tag_number: 3 // [3]
            },
            value: []
        }); // Fiction value
        this.thisUpdate = new Date(0, 0, 0);
        // OPTIONAL this.nextUpdate = new Date(0, 0, 0);
        // OPTIONAL this.singleExtensions = new Array(); // Array of in_window.org.pkijs.simpl.EXTENSION();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.ocsp.SingleResponse.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.certID = arguments[0].certID || new in_window.org.pkijs.simpl.ocsp.CertID();
                this.certStatus = arguments[0].certStatus || new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 3 // [3]
                    },
                    value: []
                }); // Fiction value
                this.thisUpdate = arguments[0].thisUpdate || new Date(0, 0, 0);
                if("nextUpdate" in arguments[0])
                    this.nextUpdate = arguments[0].nextUpdate;
                if("singleExtensions" in arguments[0])
                    this.singleExtensions = arguments[0].singleExtensions;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.SingleResponse.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.ocsp.SingleResponse({
                names: {
                    certID: {
                        names: {
                            block_name: "certID"
                        }
                    },
                    certStatus: "certStatus",
                    thisUpdate: "thisUpdate",
                    nextUpdate: "nextUpdate",
                    singleExtensions: "singleExtensions"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for SingleResponse");
        // #endregion 

        // #region Get internal properties from parsed schema
        this.certID = new in_window.org.pkijs.simpl.ocsp.CertID({ schema: asn1.result["certID"] });
        this.certStatus = asn1.result["certStatus"];
        this.thisUpdate = asn1.result["thisUpdate"].toDate();
        if("nextUpdate" in asn1.result)
            this.nextUpdate = asn1.result["nextUpdate"].toDate();

        if("singleExtensions" in asn1.result)
        {
            this.singleExtensions = new Array();
            var exts = asn1.result["singleExtensions"].value_block.value;

            for(var i = 0; i < exts.length; i++)
                this.singleExtensions.push(new in_window.org.pkijs.simpl.EXTENSION({ schema: exts[i] }));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.SingleResponse.prototype.toSchema =
    function()
    {
        // #region Create value array for output sequence 
        var output_array = new Array();

        output_array.push(this.certID.toSchema());
        output_array.push(this.certStatus);
        output_array.push(new in_window.org.pkijs.asn1.GENERALIZEDTIME({ value_date: this.thisUpdate }));
        if("nextUpdate" in this)
            output_array.push(new in_window.org.pkijs.asn1.GENERALIZEDTIME({ value_date: this.nextUpdate }));

        if("singleExtensions" in this)
        {
            var extensions = new Array();

            for(var j = 0; j < this.singleExtensions.length; j++)
                extensions.push(this.singleExtensions[j].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.SEQUENCE({
                value: extensions
            }));
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.SingleResponse.prototype.toJSON =
    function()
    {
        var _object = {
            certID: this.certID.toJSON(),
            certStatus: this.certStatus.toJSON(),
            thisUpdate: this.thisUpdate
        };

        if("nextUpdate" in this)
            _object.nextUpdate = this.nextUpdate;

        if("singleExtensions" in this)
        {
            _object.singleExtensions = new Array();

            for(var i = 0; i < this.singleExtensions.length; i++)
                _object.singleExtensions.push(this.singleExtensions[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "ResponseData" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.ResponseData =
    function()
    {
        // #region Internal properties of the object 
        this.tbs = new ArrayBuffer(0);

        // OPTIONAL this.version = 0;
        this.responderID = new in_window.org.pkijs.simpl.RDN(); // Fake value
        this.producedAt = new Date(0, 0, 0);
        this.responses = new Array(); // Array of "SingleResponse" objects
        // OPTIONAL this.responseExtensions = new Array(); // Array of in_window.org.pkijs.simpl.EXTENSION();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.ocsp.ResponseData.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                if("version" in arguments[0])
                    this.version = arguments[0].version;
                this.responderID = arguments[0].responderID || new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 10 // [10]
                    },
                    value: []
                }); // Fake value
                this.producedAt = arguments[0].producedAt || new Date(0, 0, 0);
                this.responses = arguments[0].responses || new Array(); // Array of "SingleResponse" objects
                if("responseExtensions" in arguments[0])
                    this.responseExtensions = arguments[0].responseExtensions;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.ResponseData.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.ocsp.ResponseData()
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for ocsp.ResponseData");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.tbs = asn1.result["ResponseData"].value_before_decode;

        if("ResponseData.version" in asn1.result)
            this.version = asn1.result["ResponseData.version"].value_block.value_dec;

        if(asn1.result["ResponseData.responderID"].id_block.tag_number === 1)
            this.responderID = new in_window.org.pkijs.simpl.RDN({ schema: asn1.result["ResponseData.responderID"].value_block.value[0] });
        else
            this.responderID = asn1.result["ResponseData.responderID"].value_block.value[0]; // OCTETSTRING

        this.producedAt = asn1.result["ResponseData.producedAt"].toDate();

        var responses_array = asn1.result["ResponseData.responses"];
        for(var i = 0; i < responses_array.length; i++)
            this.responses.push(new in_window.org.pkijs.simpl.ocsp.SingleResponse({ schema: responses_array[i] }));

        if("ResponseData.responseExtensions" in asn1.result)
        {
            this.responseExtensions = new Array();
            var exts = asn1.result["ResponseData.responseExtensions"].value_block.value;

            for(var i = 0; i < exts.length; i++)
                this.responseExtensions.push(new in_window.org.pkijs.simpl.EXTENSION({ schema: exts[i] }));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.ResponseData.prototype.toSchema =
    function(encodeFlag)
    {
        /// <param name="encodeFlag" type="Boolean">If param equal to false then create TBS schema via decoding stored value. In othe case create TBS schema via assembling from TBS parts.</param>

        // #region Check "encodeFlag" 
        if(typeof encodeFlag === "undefined")
            encodeFlag = false;
        // #endregion 

        // #region Decode stored TBS value 
        var tbs_schema;

        if(encodeFlag === false)
        {
            if(this.tbs.length === 0) // No stored certificate TBS part
                return in_window.org.pkijs.schema.ocsp.ResponseData();

            tbs_schema = in_window.org.pkijs.fromBER(this.tbs).result;
        }
        // #endregion 
        // #region Create TBS schema via assembling from TBS parts
        else
        {
            var output_array = new Array();

            if("version" in this)
                output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [new in_window.org.pkijs.asn1.INTEGER({ value: this.version })]
                }));

            if(this.responderID instanceof in_window.org.pkijs.simpl.RDN)
                output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    value: [this.responderID.toSchema()]
                }));
            else
                output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 2 // [2]
                    },
                    value: [this.responderID]
                }));

            output_array.push(new in_window.org.pkijs.asn1.GENERALIZEDTIME({ value_date: this.producedAt }));

            var responses = new Array();

            for(var i = 0; i < this.responses.length; i++)
                responses.push(this.responses[i].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.SEQUENCE({
                value: responses
            }));

            if("responseExtensions" in this)
            {
                var extensions = new Array();

                for(var j = 0; j < this.responseExtensions.length; j++)
                    extensions.push(this.responseExtensions[j].toSchema());

                output_array.push(new in_window.org.pkijs.asn1.SEQUENCE({
                    value: extensions
                }));
            }

            tbs_schema = new in_window.org.pkijs.asn1.SEQUENCE({
                value: output_array
            });
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return tbs_schema;
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ocsp.ResponseData.prototype.toJSON =
    function()
    {
        var _object = {};

        if("version" in this)
            _object.version = this.version;

        if("responderID" in this)
            _object.responderID = this.responderID;

        if("producedAt" in this)
            _object.producedAt = this.producedAt;

        if("responses" in this)
        {
            _object.responses = new Array();

            for(var i = 0; i < this.responses.length; i++)
                _object.responses.push(this.responses[i].toJSON());
        }

        if("responseExtensions" in this)
        {
            _object.responseExtensions = new Array();

            for(var i = 0; i < this.responseExtensions.length; i++)
                _object.responseExtensions.push(this.responseExtensions[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "OCSP_BASIC_RESPONSE" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.OCSP_BASIC_RESPONSE =
    function()
    {
        // #region Internal properties of the object 
        this.tbsResponseData = new in_window.org.pkijs.simpl.ocsp.ResponseData();
        this.signatureAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        this.signature = new in_window.org.pkijs.asn1.BITSTRING();
        // OPTIONAL this.certs = new Array(); // Array of in_window.org.pkijs.simpl.CERT
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.OCSP_BASIC_RESPONSE.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.tbsResponseData = arguments[0].tbsResponseData || new in_window.org.pkijs.simpl.ocsp.ResponseData();
                this.signatureAlgorithm = arguments[0].signatureAlgorithm || new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
                this.signature = arguments[0].signature || new in_window.org.pkijs.asn1.BITSTRING();
                if("certs" in arguments[0])
                    this.certs = arguments[0].certs;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.OCSP_BASIC_RESPONSE.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.OCSP_BASIC_RESPONSE()
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for OCSP_BASIC_RESPONSE");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.tbsResponseData = new in_window.org.pkijs.simpl.ocsp.ResponseData({ schema: asn1.result["BasicOCSPResponse.tbsResponseData"] });
        this.signatureAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["BasicOCSPResponse.signatureAlgorithm"] });
        this.signature = asn1.result["BasicOCSPResponse.signature"];

        if("BasicOCSPResponse.certs" in asn1.result)
        {
            this.certs = new Array();

            var certs_array = asn1.result["BasicOCSPResponse.certs"];

            for(var i = 0; i < certs_array.length; i++)
                this.certs.push(new in_window.org.pkijs.simpl.CERT({ schema: certs_array[i] }));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.OCSP_BASIC_RESPONSE.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(this.tbsResponseData.toSchema());
        output_array.push(this.signatureAlgorithm.toSchema());
        output_array.push(this.signature);

        // #region Create array of certificates 
        if("certs" in this)
        {
            var certs_array = new Array();

            for(var i = 0; i < this.certs.length; i++)
                certs_array.push(this.certs[i].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: [
                    new in_window.org.pkijs.asn1.SEQUENCE({
                        value: certs_array
                    })
                ]
            }));
        }
        // #endregion 
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.OCSP_BASIC_RESPONSE.prototype.verify =
    function()
    {
        /// <summary>!!! Works well in Chrome dev versions only (April 2014th) !!!</summary>
        /// <returns type="Promise">Returns a new Promise object (in case of error), or a result of "crypto.subtle.veryfy" function</returns>

        // #region Check amount of certificates 
        if(("certs" in this) === false)
            return new Promise(function(resolve, reject) { reject("No certificates attached to the BasicOCSPResponce"); });
        // #endregion 

        // #region Global variables (used in "promises") 
        var _this = this;

        var signer_cert = null;

        var certs = this.certs;
        var signature_view = new Uint8Array(this.signature.value_block.value_hex);
        var tbs_view = new Uint8Array(this.tbsResponseData.tbs);

        var cert_index = -1;

        var sequence = Promise.resolve();

        var sha_algorithm = "";

        var trusted_certs = new Array();
        // #endregion 

        // #region Get input values 
        if(arguments[0] instanceof Object)
        {
            if("trusted_certs" in arguments[0])
                trusted_certs = arguments[0].trusted_certs;
        }
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Find a correct hashing algorithm 
        sha_algorithm = in_window.org.pkijs.getHashAlgorithm(this.signatureAlgorithm);
        if(sha_algorithm === "")
            return new Promise(function(resolve, reject) { reject("Unsupported signature algorithm: " + _this.signatureAlgorithm.algorithm_id); });
        // #endregion 

        // #region Find correct value for "responderID" 
        var responder_type = 0;
        var responder_id = {};

        if(this.tbsResponseData.responderID instanceof in_window.org.pkijs.simpl.RDN) // [1] Name
        {
            responder_type = 0;
            responder_id = this.tbsResponseData.responderID;
        }
        else
        {
            if(this.tbsResponseData.responderID instanceof in_window.org.pkijs.asn1.OCTETSTRING) // [2] KeyHash
            {
                responder_type = 1;
                responder_id = this.tbsResponseData.responderID;
            }
            else
                return new Promise(function(resolve, reject) { reject("Wrong value for responderID"); });
        }
        // #endregion 

        // #region Compare responderID with all certificates one-by-one
        if(responder_type === 0) // By Name
        {
            sequence = sequence.then(
                function()
                {
                    for(var i = 0; i < certs.length; i++)
                    {
                        if(certs[i].subject.isEqual(responder_id))
                        {
                            cert_index = i;
                            break;
                        }
                    }
                }
            );
        }
        else  // By KeyHash
        {
            sequence = sequence.then(
                function()
                {
                    var digest_promises = new Array();

                    for(var i = 0; i < certs.length; i++)
                        digest_promises.push(crypto.digest({ name: "sha-1" }, new Uint8Array(certs[i].subjectPublicKeyInfo.subjectPublicKey.value_block.value_hex)));

                    return Promise.all(digest_promises).then(
                            function(results)
                            {
                                for(var i = 0; i < certs.length; i++)
                                {
                                    if(in_window.org.pkijs.isEqual_buffer(results[i], responder_id.value_block.value_hex))
                                    {
                                        cert_index = i;
                                        break;
                                    }
                                }
                            }
                        );
                }
                );
        }
        // #endregion 

        // #region Make additional verification for signer's certificate 
        function checkCA(cert)
        {
            /// <param name="cert" type="in_window.org.pkijs.simpl.CERT">Certificate to find CA flag for</param>

            // #region Do not include signer's certificate 
            if((cert.issuer.isEqual(signer_cert.issuer) === true) && (cert.serialNumber.isEqual(signer_cert.serialNumber) === true))
                return null;
            // #endregion 

            var isCA = false;

            for(var i = 0; i < cert.extensions.length; i++)
            {
                if(cert.extensions[i].extnID === "2.5.29.19") // BasicConstraints
                {
                    if("cA" in cert.extensions[i].parsedValue)
                    {
                        if(cert.extensions[i].parsedValue.cA === true)
                            isCA = true;
                    }
                }
            }

            if(isCA)
                return cert;
            else
                return null;
        }

        var checkCA_promises = new Array();

        sequence = sequence.then(
            function(result)
            {
                if(cert_index === (-1))
                    return new Promise(function(resolve, reject) { reject("Correct certificate was not found in OCSP response"); });

                signer_cert = certs[cert_index];

                for(var i = 0; i < _this.certs.length; i++)
                    checkCA_promises.push(checkCA(_this.certs[i]));

                return Promise.all(checkCA_promises).then(
                    function(promiseResults)
                    {
                        var additional_certs = new Array();
                        additional_certs.push(signer_cert);

                        for(var i = 0; i < promiseResults.length; i++)
                        {
                            if(promiseResults[i] !== null)
                                additional_certs.push(promiseResults[i]);
                        }

                        var cert_chain_simpl = new org.pkijs.simpl.CERT_CHAIN({
                            certs: additional_certs,
                            trusted_certs: trusted_certs
                        });
                        if("crls" in _this)
                            cert_chain_simpl.crls = _this.crls;

                        return cert_chain_simpl.verify().then(
                            function(result)
                            {
                                if(result.result === true)
                                    return new Promise(function(resolve, reject) { resolve(); });
                                else
                                    return new Promise(function(resolve, reject) { reject("Validation of signer's certificate failed"); });
                            },
                            function(error)
                            {
                                return new Promise(function(resolve, reject) { reject("Validation of signer's certificate failed with error: " + ((error instanceof Object) ? error.result_message : error)); });
                            }
                            );
                    },
                    function(promiseError)
                    {
                        return new Promise(function(resolve, reject) { reject("Error during checking certificates for CA flag: " + promiseError); });
                    }
                    );
            }
            );
        // #endregion 

        // #region Import public key from responder certificate
        sequence = sequence.then(
            function()
            {
                // #region Get information about public key algorithm and default parameters for import
                var algorithmObject = in_window.org.pkijs.getAlgorithmByOID(certs[cert_index].signatureAlgorithm.algorithm_id);
                if(("name" in algorithmObject) === false)
                    return new Promise(function(resolve, reject) { reject("Unsupported public key algorithm: " + certs[cert_index].signatureAlgorithm.algorithm_id); });

                var algorithm_name = algorithmObject.name;

                var algorithm = in_window.org.pkijs.getAlgorithmParameters(algorithm_name, "importkey");
                if("hash" in algorithm.algorithm)
                    algorithm.algorithm.hash.name = sha_algorithm;
                // #endregion 

                var publicKeyInfo_schema = certs[cert_index].subjectPublicKeyInfo.toSchema();
                var publicKeyInfo_buffer = publicKeyInfo_schema.toBER(false);
                var publicKeyInfo_view = new Uint8Array(publicKeyInfo_buffer);

                return crypto.importKey("spki", publicKeyInfo_view, algorithm.algorithm, true, algorithm.usages);
            }
            );
        // #endregion 

        // #region Verifying TBS part of BasicOCSPResponce
        sequence = sequence.then(
            function(publicKey)
            {
                // #region Get default algorithm parameters for verification 
                var algorithm = in_window.org.pkijs.getAlgorithmParameters(publicKey.algorithm.name, "verify");
                if("hash" in algorithm.algorithm)
                    algorithm.algorithm.hash.name = sha_algorithm;
                // #endregion 

                // #region Special case for ECDSA signatures 
                var signature_value = _this.signature.value_block.value_hex;

                if(publicKey.algorithm.name === "ECDSA")
                {
                    var asn1 = in_window.org.pkijs.fromBER(signature_value);
                    signature_value = in_window.org.pkijs.createECDSASignatureFromCMS(asn1.result);
                }
                // #endregion 

                // #region Special case for RSA-PSS 
                if(publicKey.algorithm.name === "RSA-PSS")
                {
                    var pssParameters;

                    try
                    {
                        pssParameters = new in_window.org.pkijs.simpl.x509.RSASSA_PSS_params({ schema: _this.signatureAlgorithm.algorithm_params });
                    }
                    catch(ex)
                    {
                        return new Promise(function(resolve, reject) { reject(ex); });
                    }

                    if("saltLength" in pssParameters)
                        algorithm.algorithm.saltLength = pssParameters.saltLength;
                    else
                        algorithm.algorithm.saltLength = 20;

                    var hash_algo = "SHA-1";

                    if("hashAlgorithm" in pssParameters)
                    {
                        var hashAlgorithm = in_window.org.pkijs.getAlgorithmByOID(pssParameters.hashAlgorithm.algorithm_id);
                        if(("name" in hashAlgorithm) === false)
                            return new Promise(function(resolve, reject) { reject("Unrecognized hash algorithm: " + pssParameters.hashAlgorithm.algorithm_id); });

                        hash_algo = hashAlgorithm.name;
                    }

                    algorithm.algorithm.hash.name = hash_algo;
                }
                // #endregion 

                return crypto.verify(algorithm.algorithm,
                    publicKey,
                    new Uint8Array(signature_value),
                    tbs_view);
            }
            );
        // #endregion 

        return sequence;
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.OCSP_BASIC_RESPONSE.prototype.sign =
    function(privateKey, hashAlgorithm)
    {
        /// <param name="privateKey" type="Key">Private key for "subjectPublicKeyInfo" structure</param>
        /// <param name="hashAlgorithm" type="String" optional="true">Hashing algorithm. Default SHA-1</param>

        // #region Initial variables 
        var _this = this;
        // #endregion 

        // #region Get a private key from function parameter 
        if(typeof privateKey === "undefined")
            return new Promise(function(resolve, reject) { reject("Need to provide a private key for signing"); });
        // #endregion 

        // #region Get hashing algorithm 
        if(typeof hashAlgorithm === "undefined")
            hashAlgorithm = "SHA-1";
        else
        {
            // #region Simple check for supported algorithm 
            var oid = in_window.org.pkijs.getOIDByAlgorithm({ name: hashAlgorithm });
            if(oid === "")
                return new Promise(function(resolve, reject) { reject("Unsupported hash algorithm: " + hashAlgorithm); });
            // #endregion 
        }
        // #endregion 

        // #region Get a "default parameters" for current algorithm 
        var defParams = in_window.org.pkijs.getAlgorithmParameters(privateKey.algorithm.name, "sign");
        defParams.algorithm.hash.name = hashAlgorithm;
        // #endregion 

        // #region Fill internal structures base on "privateKey" and "hashAlgorithm" 
        switch(privateKey.algorithm.name.toUpperCase())
        {
            case "RSASSA-PKCS1-V1_5":
            case "ECDSA":
                _this.signatureAlgorithm.algorithm_id = in_window.org.pkijs.getOIDByAlgorithm(defParams.algorithm);
                break;
            case "RSA-PSS":
                {
                    // #region Set "saltLength" as a length (in octets) of hash function result 
                    switch(hashAlgorithm.toUpperCase())
                    {
                        case "SHA-256":
                            defParams.algorithm.saltLength = 32;
                            break;
                        case "SHA-384":
                            defParams.algorithm.saltLength = 48;
                            break;
                        case "SHA-512":
                            defParams.algorithm.saltLength = 64;
                            break;
                        default:;
                    }
                    // #endregion 

                    // #region Fill "RSASSA_PSS_params" object 
                    var paramsObject = {};

                    if(hashAlgorithm.toUpperCase() !== "SHA-1")
                    {
                        var hashAlgorithmOID = in_window.org.pkijs.getOIDByAlgorithm({ name: hashAlgorithm });
                        if(hashAlgorithmOID === "")
                            return new Promise(function(resolve, reject) { reject("Unsupported hash algorithm: " + hashAlgorithm); });

                        paramsObject.hashAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: hashAlgorithmOID,
                            algorithm_params: new org.pkijs.asn1.NULL()
                        });

                        paramsObject.maskGenAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: "1.2.840.113549.1.1.8", // MGF1
                            algorithm_params: paramsObject.hashAlgorithm.toSchema()
                        })
                    }

                    if(defParams.algorithm.saltLength !== 20)
                        paramsObject.saltLength = defParams.algorithm.saltLength;

                    var pssParameters = new in_window.org.pkijs.simpl.x509.RSASSA_PSS_params(paramsObject);
                    // #endregion   

                    // #region Automatically set signature algorithm 
                    _this.signatureAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                        algorithm_id: "1.2.840.113549.1.1.10",
                        algorithm_params: pssParameters.toSchema()
                    });
                    // #endregion 
                }
                break;
            default:
                return new Promise(function(resolve, reject) { reject("Unsupported signature algorithm: " + privateKey.algorithm.name); });
        }
        // #endregion 

        // #region Create TBS data for signing 
        _this.tbsResponseData.tbs = _this.tbsResponseData.toSchema(true).toBER(false);
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Signing TBS data on provided private key 
        return crypto.sign(defParams.algorithm,
            privateKey,
            new Uint8Array(_this.tbsResponseData.tbs)).then(
            function(result)
            {
                // #region Special case for ECDSA algorithm 
                if(defParams.algorithm.name === "ECDSA")
                    result = in_window.org.pkijs.createCMSECDSASignature(result);
                // #endregion 

                _this.signature = new in_window.org.pkijs.asn1.BITSTRING({ value_hex: result });
            },
            function(error)
            {
                return new Promise(function(resolve, reject) { reject("Signing error: " + error); });
            }
            );
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.OCSP_BASIC_RESPONSE.prototype.toJSON =
    function()
    {
        var _object = {
            tbsResponseData: this.tbsResponseData.toJSON(),
            signatureAlgorithm: this.signatureAlgorithm.toJSON(),
            signature: this.signature.toJSON(),
        };

        if("certs" in this)
        {
            _object.certs = new Array();

            for(var i = 0; i < this.certs.length; i++)
                _object.certs.push(this.certs[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "MessageImprint" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.tsp.MessageImprint =
    function()
    {
        // #region Internal properties of the object 
        this.hashAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        this.hashedMessage = new in_window.org.pkijs.asn1.OCTETSTRING();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.tsp.MessageImprint.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.hashAlgorithm = arguments[0].hashAlgorithm || new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
                this.hashedMessage = arguments[0].hashedMessage || new in_window.org.pkijs.asn1.OCTETSTRING();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.tsp.MessageImprint.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.tsp.MessageImprint({
                names: {
                    hashAlgorithm: {
                        names: {
                            block_name: "hashAlgorithm"
                        }
                    },
                    hashedMessage: "hashedMessage"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for MessageImprint");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.hashAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["hashAlgorithm"] });
        this.hashedMessage = asn1.result["hashedMessage"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.tsp.MessageImprint.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                this.hashAlgorithm.toSchema(),
                this.hashedMessage
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.tsp.MessageImprint.prototype.toJSON =
    function()
    {
        return {
            hashAlgorithm: this.hashAlgorithm.toJSON(),
            hashedMessage: this.hashedMessage.toJSON()
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "TSP_REQUEST" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.TSP_REQUEST =
    function()
    {
        // #region Internal properties of the object 
        this.version = 0;
        this.messageImprint = new in_window.org.pkijs.simpl.tsp.MessageImprint();
        // OPTIONAL this.reqPolicy = "";
        // OPTIONAL this.nonce = new in_window.org.pkijs.asn1.INTEGER();
        // OPTIONAL this.certReq = -1; // In order to designate that no schema value stored
        // OPTIONAL this.extensions = new Array(); // Array of EXTENSION
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.TSP_REQUEST.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.version = arguments[0].version || 0;
                this.messageImprint = arguments[0].messageImprint || new in_window.org.pkijs.simpl.tsp.MessageImprint();
                if("reqPolicy" in arguments[0])
                    this.reqPolicy = arguments[0].reqPolicy;
                if("nonce" in arguments[0])
                    this.nonce = arguments[0].nonce;
                if("certReq" in arguments[0])
                    this.certReq = arguments[0].certReq;
                if("extensions" in arguments[0])
                    this.extensions = arguments[0].extensions; // Array of EXTENSION
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.TSP_REQUEST.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.TSP_REQUEST()
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for TSP_REQUEST");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.version = asn1.result["TimeStampReq.version"].value_block.value_dec;
        this.messageImprint = new in_window.org.pkijs.simpl.tsp.MessageImprint({ schema: asn1.result["TimeStampReq.messageImprint"] });
        if("TimeStampReq.reqPolicy" in asn1.result)
            this.reqPolicy = asn1.result["TimeStampReq.reqPolicy"].value_block.toString();
        if("TimeStampReq.nonce" in asn1.result)
            this.nonce = asn1.result["TimeStampReq.nonce"];
        if("TimeStampReq.certReq" in asn1.result)
            this.certReq = asn1.result["TimeStampReq.certReq"].value_block.value;
        if("TimeStampReq.extensions" in asn1.result)
        {
            this.extensions = new Array();

            var extensions_array = asn1.result["TimeStampReq.extensions"];

            for(var i = 0; i < extensions_array.length; i++)
                this.extensions.push(new in_window.org.pkijs.simpl.EXTENSION({ schema: extensions_array[i] }));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.TSP_REQUEST.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.INTEGER({ value: this.version }));
        output_array.push(this.messageImprint.toSchema());
        if("reqPolicy" in this)
            output_array.push(new in_window.org.pkijs.asn1.OID({ value: this.reqPolicy }));
        if("nonce" in this)
            output_array.push(this.nonce);
        if("certReq" in this)
            output_array.push(new in_window.org.pkijs.asn1.BOOLEAN({ value: this.certReq }));

        // #region Create array of extensions 
        if("extensions" in this)
        {
            var extensions_array = new Array();

            for(var i = 0; i < this.extensions.length; i++)
                extensions_array.push(this.extensions[i].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: extensions_array
            }));
        }
        // #endregion 
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.TSP_REQUEST.prototype.toJSON =
    function()
    {
        var _object = {
            version: this.version,
            messageImprint: this.messageImprint.toJSON()
        };

        if("reqPolicy" in this)
            _object.reqPolicy = this.reqPolicy;

        if("nonce" in this)
            _object.nonce = this.nonce.toJSON();

        if("certReq" in this)
            _object.certReq = this.certReq;

        if("extensions" in this)
        {
            _object.extensions = new Array();

            for(var i = 0; i < this.extensions.length; i++)
                _object.extensions.push(this.extensions[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "Accuracy" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.tsp.Accuracy =
    function()
    {
        // #region Internal properties of the object 
        // OPTIONAL this.seconds = 0;
        // OPTIONAL this.millis = 0;
        // OPTIONAL this.micros = 0;
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.tsp.Accuracy.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                if("seconds" in arguments[0])
                    this.seconds = arguments[0].seconds;
                if("millis" in arguments[0])
                    this.millis = arguments[0].millis;
                if("micros" in arguments[0])
                    this.micros = arguments[0].micros;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.tsp.Accuracy.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.tsp.Accuracy({
                names: {
                    seconds: "seconds",
                    millis: "millis",
                    micros: "micros"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for tsp.Accuracy");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if("seconds" in asn1.result)
            this.seconds = asn1.result["seconds"].value_block.value_dec;
        if("millis" in asn1.result)
        {
            var intMillis = new in_window.org.pkijs.asn1.INTEGER({ value_hex: asn1.result["millis"].value_block.value_hex });
            this.millis = intMillis.value_block.value_dec;
        }
        if("micros" in asn1.result)
        {
            var intMicros = new in_window.org.pkijs.asn1.INTEGER({ value_hex: asn1.result["micros"].value_block.value_hex });
            this.micros = intMicros.value_block.value_dec;
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.tsp.Accuracy.prototype.toSchema =
    function()
    {
        // #region Create array of output sequence 
        var output_array = new Array();

        if("seconds" in this)
            output_array.push(new in_window.org.pkijs.asn1.INTEGER({ value: this.seconds }));
        if("millis" in this)
        {
            var intMillis = new in_window.org.pkijs.asn1.INTEGER({ value: this.millis });

            output_array.push(new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value_hex: intMillis.value_block.value_hex
            }));
        }
        if("micros" in this)
        {
            var intMicros = new in_window.org.pkijs.asn1.INTEGER({ value: this.micros });

            output_array.push(new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 1 // [1]
                },
                value_hex: intMicros.value_block.value_hex
            }));
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.tsp.Accuracy.prototype.toJSON =
    function()
    {
        var _object = {};

        if("seconds" in this)
            _object.seconds = this.seconds;

        if("millis" in this)
            _object.millis = this.millis;

        if("micros" in this)
            _object.micros = this.micros;

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "TST_INFO" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.TST_INFO =
    function()
    {
        // #region Internal properties of the object 
        this.version = 0;
        this.policy = "";
        this.messageImprint = new in_window.org.pkijs.simpl.tsp.MessageImprint();
        this.serialNumber = new in_window.org.pkijs.asn1.INTEGER();
        this.genTime = new Date(0, 0, 0);
        // OPTIONAL this.accuracy = new in_window.org.pkijs.simpl.tsp.Accuracy();
        // OPTIONAL this.ordering = -1; // In order to designate uninitialized value
        // OPTIONAL this.nonce = new in_window.org.pkijs.asn1.INTEGER();
        // OPTIONAL this.tsa = new in_window.org.pkijs.simpl.GENERAL_NAME();
        // OPTIONAL this.extensions = new Array(); // Array of EXTENSION
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.TST_INFO.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.version = arguments[0].version || 0;
                this.policy = arguments[0].policy || "";
                this.messageImprint = arguments[0].messageImprint || new in_window.org.pkijs.simpl.tsp.MessageImprint();
                this.serialNumber = arguments[0].serialNumber || new in_window.org.pkijs.asn1.INTEGER();
                this.genTime = arguments[0].genTime || new Date(0, 0, 0);
                if("accuracy" in arguments[0])
                    this.accuracy = arguments[0].accuracy;
                if("ordering" in arguments[0])
                    this.ordering = arguments[0].ordering; 
                if("nonce" in arguments[0])
                    this.nonce = arguments[0].nonce;
                if("tsa" in arguments[0])
                    this.tsa = arguments[0].tsa;
                if("extensions" in arguments[0])
                    this.extensions = arguments[0].extensions; // Array of EXTENSION
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.TST_INFO.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.TST_INFO()
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for TST_INFO");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.version = asn1.result["TSTInfo.version"].value_block.value_dec;
        this.policy = asn1.result["TSTInfo.policy"].value_block.toString();
        this.messageImprint = new in_window.org.pkijs.simpl.tsp.MessageImprint({ schema: asn1.result["TSTInfo.messageImprint"] });
        this.serialNumber = asn1.result["TSTInfo.serialNumber"];
        this.genTime = asn1.result["TSTInfo.genTime"].toDate();
        if("TSTInfo.accuracy" in asn1.result)
            this.accuracy = new in_window.org.pkijs.simpl.tsp.Accuracy({ schema: asn1.result["TSTInfo.accuracy"] });
        if("TSTInfo.ordering" in asn1.result)
            this.ordering = asn1.result["TSTInfo.ordering"].value_block.value;
        if("TSTInfo.nonce" in asn1.result)
            this.nonce = asn1.result["TSTInfo.nonce"];
        if("TSTInfo.tsa" in asn1.result)
            this.tsa = new in_window.org.pkijs.simpl.GENERAL_NAME({ schema: asn1.result["TSTInfo.tsa"] });
        if("TSTInfo.extensions" in asn1.result)
        {
            var extensions_array = asn1.result["TSTInfo.extensions"];

            for(var i = 0; i < extensions_array.length; i++)
                this.extensions.push(new in_window.org.pkijs.simpl.EXTENSION({ schema: extensions_array[i] }));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.TST_INFO.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.INTEGER({ value: this.version }));
        output_array.push(new in_window.org.pkijs.asn1.OID({ value: this.policy }));
        output_array.push(this.messageImprint.toSchema());
        output_array.push(this.serialNumber);
        output_array.push(new in_window.org.pkijs.asn1.GENERALIZEDTIME({ value_date: this.genTime }));
        if("accuracy" in this)
            output_array.push(this.accuracy.toSchema());
        if("ordering" in this)
            output_array.push(new in_window.org.pkijs.asn1.BOOLEAN({ value: this.ordering }));
        if("nonce" in this)
            output_array.push(this.nonce);
        if("tsa" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: [this.tsa.toSchema()]
            }));

        // #region Create array of extensions 
        if("extensions" in this)
        {
            var extensions_array = new Array();

            for(var i = 0; i < this.extensions.length; i++)
                extensions_array.push(this.extensions[i].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 1 // [1]
                },
                value: extensions_array
            }));
        }
        // #endregion 
        // #endregion   

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.TST_INFO.prototype.toJSON =
    function()
    {
        var _object = {
            version: this.version,
            policy: this.policy,
            messageImprint: this.messageImprint.toJSON(),
            serialNumber: this.serialNumber.toJSON(),
            genTime: this.genTime
        };

        if("accuracy" in this)
            _object.accuracy = this.accuracy.toJSON();

        if("ordering" in this)
            _object.ordering = this.ordering;

        if("nonce" in this)
            _object.nonce = this.nonce.toJSON();

        if("tsa" in this)
            _object.tsa = this.tsa.toJSON();

        if("extensions" in this)
        {
            _object.extensions = new Array();

            for(var i = 0; i < this.extensions.length; i++)
                _object.extensions.push(this.extensions[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "PKIStatusInfo" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.tsp.PKIStatusInfo =
    function()
    {
        // #region Internal properties of the object 
        this.status = 2; // rejection
        // OPTIONAL this.statusStrings = new Array(); // Array of UTF8STRING
        // OPTIONAL this.failInfo = new in_window.org.pkijs.asn1.BITSTRING();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.tsp.PKIStatusInfo.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.status = in_window.org.pkijs.getValue(arguments[0], "status", 2);
                if("statusStrings" in arguments[0])
                    this.statusStrings = arguments[0].statusStrings; // Array of UTF8STRING
                if("failInfo" in arguments[0])
                    this.failInfo = arguments[0].failInfo;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.tsp.PKIStatusInfo.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.tsp.PKIStatusInfo({
                names: {
                    status: "status",
                    statusStrings: "statusStrings",
                    failInfo: "failInfo"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for PKIStatusInfo");
        // #endregion 

        // #region Get internal properties from parsed schema 
        var _status = asn1.result["status"];

        if((_status.value_block.is_hex_only === true) ||
           (_status.value_block.value_dec < 0) || 
           (_status.value_block.value_dec > 5))
        {
            throw new Error("PKIStatusInfo \"status\" has invalid value");
        }

        this.status = _status.value_block.value_dec;

        if("statusStrings" in asn1.result)
            this.statusStrings = asn1.result["statusStrings"];
        if("failInfo" in asn1.result)
            this.failInfo = asn1.result["failInfo"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.tsp.PKIStatusInfo.prototype.toSchema =
    function()
    {
        // #region Create array of output sequence 
        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.INTEGER({ value: this.status }));
        if("statusStrings" in this)
            output_array.push(new in_window.org.pkijs.asn1.SEQUENCE({
                optional: true,
                value: this.statusStrings
            }));
        if("failInfo" in this)
            output_array.push(this.failInfo);
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.tsp.PKIStatusInfo.prototype.toJSON =
    function()
    {
        var _object = {
            status: this.status
        };

        if("statusStrings" in this)
        {
            _object.statusStrings = new Array();

            for(var i = 0; i < this.statusStrings.length; i++)
                _object.statusStrings.push(this.statusStrings[i].toJSON());
        }

        if("failInfo" in this)
            _object.failInfo = this.failInfo.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "TSP_RESPONSE" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.TSP_RESPONSE =
    function()
    {
        // #region Internal properties of the object 
        this.status = new in_window.org.pkijs.simpl.tsp.PKIStatusInfo();
        // OPTIONAL this.timeStampToken = new in_window.org.pkijs.simpl.CMS_CONTENT_INFO();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.TSP_RESPONSE.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.status = arguments[0].status || new in_window.org.pkijs.simpl.tsp.PKIStatusInfo();
                if("timeStampToken" in arguments[0])
                    this.timeStampToken = arguments[0].timeStampToken;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.TSP_RESPONSE.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.TSP_RESPONSE()
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for TSP_RESPONSE");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.status = new in_window.org.pkijs.simpl.tsp.PKIStatusInfo({ schema: asn1.result["TimeStampResp.status"] });
        if("TimeStampResp.timeStampToken" in asn1.result)
            this.timeStampToken = new in_window.org.pkijs.simpl.CMS_CONTENT_INFO({ schema: asn1.result["TimeStampResp.timeStampToken"] });
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.TSP_RESPONSE.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(this.status.toSchema());
        if("timeStampToken" in this)
            output_array.push(this.timeStampToken.toSchema());
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.TSP_RESPONSE.prototype.verify =
    function()
    {
        /// <summary>!!! Works well in Chrome dev versions only (April 2014th) !!!</summary>
        /// <returns type="Promise">Returns a new Promise object (in case of error), or a result of "crypto.subtle.veryfy" function</returns>

        var _this = this;

        // #region Check that "timeStampToken" exists
        if(("timeStampToken" in this) === false)
            return new Promise(function(resolve, reject) { reject("timeStampToken is absent in TSP response"); });
        // #endregion 

        // #region Get "trusted_certs" array 
        var trusted_certs = new Array();

        if(arguments[0] instanceof Object)
        {
            if("trusted_certs" in arguments[0])
                trusted_certs = arguments[0].trusted_certs;
        }
        // #endregion 

        // #region Check that "timeStampToken" has a right internal format 
        if(this.timeStampToken.contentType !== "1.2.840.113549.1.7.2") // Must be a CMS signed data
            return new Promise(function(resolve, reject) { reject("Wrong format of timeStampToken: " + _this.timeStampToken.contentType); });
        // #endregion 

        // #region Verify internal signed data value 
        var signed_simp = new in_window.org.pkijs.simpl.CMS_SIGNED_DATA({ schema: this.timeStampToken.content });

        return signed_simp.verify({ signer: 0, trusted_certs: trusted_certs });
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.TSP_RESPONSE.prototype.sign =
    function(privateKey, hashAlgorithm)
    {
        /// <param name="privateKey" type="Key">Private key for "subjectPublicKeyInfo" structure</param>
        /// <param name="hashAlgorithm" type="String" optional="true">Hashing algorithm. Default SHA-1</param>

        var _this = this;

        // #region Check that "timeStampToken" exists
        if(("timeStampToken" in this) === false)
            return new Promise(function(resolve, reject) { reject("timeStampToken is absent in TSP response"); });
        // #endregion 

        // #region Check that "timeStampToken" has a right internal format 
        if(this.timeStampToken.contentType !== "1.2.840.113549.1.7.2") // Must be a CMS signed data
            return new Promise(function(resolve, reject) { reject("Wrong format of timeStampToken: " + _this.timeStampToken.contentType); });
        // #endregion 

        // #region Sign internal signed data value 
        var signed_simp = new in_window.org.pkijs.simpl.CMS_SIGNED_DATA({ schema: this.timeStampToken.content });

        return signed_simp.sign(privateKey, 0, hashAlgorithm);
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.TSP_RESPONSE.prototype.toJSON =
    function()
    {
        var _object = {
            status: this.status
        };

        if("timeStampToken" in this)
            _object.timeStampToken = this.timeStampToken.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
}
)(typeof exports !== "undefined" ? exports : window);
//third_party/javascript/pkijs/v1/x509_schema.js
/**
 * @license
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015, Peculiar Ventures
 * 2014-2015, Authored by Yury Strozhevsky <www.strozhevsky.com>
 * SPDX-License-Identifier: BSD-3-Clause
 */

/*
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015, Peculiar Ventures
 * All rights reserved.
 *
 * Author 2014-2015, Yury Strozhevsky <www.strozhevsky.com>.
 *
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, 
 *    this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice, 
 *    this list of conditions and the following disclaimer in the documentation 
 *    and/or other materials provided with the distribution.
 *
 * 3. Neither the name of the copyright holder nor the names of its contributors 
 *    may be used to endorse or promote products derived from this software without 
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY 
 * OF SUCH DAMAGE. 
 *
 */
(
function(in_window)
{
    //**************************************************************************************
    // #region Declaration of global variables 
    //**************************************************************************************
    // #region "org" namespace 
    if(typeof in_window.org === "undefined")
        in_window.org = {};
    else
    {
        if(typeof in_window.org !== "object")
            throw new Error("Name org already exists and it's not an object");
    }
    // #endregion 

    // #region "org.pkijs" namespace 
    if(typeof in_window.org.pkijs === "undefined")
        in_window.org.pkijs = {};
    else
    {
        if(typeof in_window.org.pkijs !== "object")
            throw new Error("Name org.pkijs already exists and it's not an object" + " but " + (typeof in_window.org.pkijs));
    }
    // #endregion 

    // #region "org.pkijs.schema" namespace 
    if(typeof in_window.org.pkijs.schema === "undefined")
        in_window.org.pkijs.schema = {};
    else
    {
        if(typeof in_window.org.pkijs.schema !== "object")
            throw new Error("Name org.pkijs.schema already exists and it's not an object" + " but " + (typeof in_window.org.pkijs.schema));
    }
    // #endregion 

    // #region "org.pkijs.schema.x509" namespace 
    if(typeof in_window.org.pkijs.schema.x509 === "undefined")
        in_window.org.pkijs.schema.x509 = {};
    else
    {
        if(typeof in_window.org.pkijs.schema.x509 !== "object")
            throw new Error("Name org.pkijs.schema.x509 already exists and it's not an object" + " but " + (typeof in_window.org.pkijs.schema.x509));
    }
    // #endregion 

    // #region "local" namespace 
    var local = {};
    // #endregion   
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "Time" type 
    //**************************************************************************************
    in_window.org.pkijs.schema.TIME =
    function(input_names, input_optional)
    {
        var names = in_window.org.pkijs.getNames(arguments[0]);
        var optional = (input_optional || false);

        return (new in_window.org.pkijs.asn1.CHOICE({
            optional: optional,
            value: [
                new in_window.org.pkijs.asn1.UTCTIME({ name: (names.utcTimeName || "") }),
                new in_window.org.pkijs.asn1.GENERALIZEDTIME({ name: (names.generalTimeName || "") })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for X.509 v3 certificate (RFC5280)
    //**************************************************************************************
    local.tbsCertificate =
    function()
    {
        //TBSCertificate  ::=  SEQUENCE  {
        //    version         [0]  EXPLICIT Version DEFAULT v1,
        //    serialNumber         CertificateSerialNumber,
        //    signature            AlgorithmIdentifier,
        //    issuer               Name,
        //    validity             Validity,
        //    subject              Name,
        //    subjectPublicKeyInfo SubjectPublicKeyInfo,
        //    issuerUniqueID  [1]  IMPLICIT UniqueIdentifier OPTIONAL,
        //                         -- If present, version MUST be v2 or v3
        //    subjectUniqueID [2]  IMPLICIT UniqueIdentifier OPTIONAL,
        //                         -- If present, version MUST be v2 or v3
        //    extensions      [3]  EXPLICIT Extensions OPTIONAL
        //    -- If present, version MUST be v3
        //}

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || "tbsCertificate"),
            value: [
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                value: [
                    new in_window.org.pkijs.asn1.INTEGER({ name: (names.tbsCertificate_version || "tbsCertificate.version") }) // EXPLICIT integer value
                ]
            }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.tbsCertificate_serialNumber || "tbsCertificate.serialNumber") }),
                in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.signature || {
                    names: {
                        block_name: "tbsCertificate.signature"
                    }
                }),
                in_window.org.pkijs.schema.RDN(names.issuer || {
                    names: {
                        block_name: "tbsCertificate.issuer"
                    }
                }),
                new in_window.org.pkijs.asn1.SEQUENCE({
                    name: (names.tbsCertificate_validity || "tbsCertificate.validity"),
                    value: [
                        in_window.org.pkijs.schema.TIME(names.not_before || {
                            names: {
                                utcTimeName: "tbsCertificate.notBefore",
                                generalTimeName: "tbsCertificate.notBefore"
                            }
                        }),
                        in_window.org.pkijs.schema.TIME(names.not_after || {
                            names: {
                                utcTimeName: "tbsCertificate.notAfter",
                                generalTimeName: "tbsCertificate.notAfter"
                            }
                        })
                    ]
                }),
                in_window.org.pkijs.schema.RDN(names.subject || {
                    names: {
                        block_name: "tbsCertificate.subject"
                    }
                }),
                in_window.org.pkijs.schema.PUBLIC_KEY_INFO(names.subjectPublicKeyInfo || {
                    names: {
                        block_name: "tbsCertificate.subjectPublicKeyInfo"
                    }
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.tbsCertificate_issuerUniqueID ||"tbsCertificate.issuerUniqueID"),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    }
                }), // IMPLICIT bistring value
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.tbsCertificate_subjectUniqueID ||"tbsCertificate.subjectUniqueID"),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 2 // [2]
                    }
                }), // IMPLICIT bistring value
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 3 // [3]
                    },
                    value: [in_window.org.pkijs.schema.EXTENSIONS(names.extensions || {
                        names: {
                            block_name: "tbsCertificate.extensions"
                        }
                    })]
                }) // EXPLICIT SEQUENCE value
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.CERT =
    function()
    {
        //Certificate  ::=  SEQUENCE  {
        //    tbsCertificate       TBSCertificate,
        //    signatureAlgorithm   AlgorithmIdentifier,
        //    signatureValue       BIT STRING  }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                local.tbsCertificate(names.tbsCertificate),
                in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.signatureAlgorithm || {
                    names: {
                        block_name: "signatureAlgorithm"
                    }
                }),
                new in_window.org.pkijs.asn1.BITSTRING({ name: (names.signatureValue || "signatureValue") })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for X.509 CRL (Certificate Revocation List)(RFC5280)  
    //**************************************************************************************
    local.tbsCertList =
    function()
    {
        //TBSCertList  ::=  SEQUENCE  {
        //    version                 Version OPTIONAL,
        //                                 -- if present, MUST be v2
        //    signature               AlgorithmIdentifier,
        //    issuer                  Name,
        //    thisUpdate              Time,
        //    nextUpdate              Time OPTIONAL,
        //    revokedCertificates     SEQUENCE OF SEQUENCE  {
        //        userCertificate         CertificateSerialNumber,
        //        revocationDate          Time,
        //        crlEntryExtensions      Extensions OPTIONAL
        //        -- if present, version MUST be v2
        //    }  OPTIONAL,
        //    crlExtensions           [0]  EXPLICIT Extensions OPTIONAL
        //    -- if present, version MUST be v2
        //}

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || "tbsCertList"),
            value: [
                        new in_window.org.pkijs.asn1.INTEGER({
                            optional: true,
                            name: (names.tbsCertList_version || "tbsCertList.version"),
                            value: 2
                        }), // EXPLICIT integer value (v2)
                        in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.signature || {
                            names: {
                                block_name: "tbsCertList.signature"
                            }
                        }),
                        in_window.org.pkijs.schema.RDN(names.issuer || {
                            names: {
                                block_name: "tbsCertList.issuer"
                            }
                        }),
                        in_window.org.pkijs.schema.TIME(names.tbsCertList_thisUpdate || {
                            names: {
                                utcTimeName: "tbsCertList.thisUpdate",
                                generalTimeName: "tbsCertList.thisUpdate"
                            }
                        }),
                        in_window.org.pkijs.schema.TIME(names.tbsCertList_thisUpdate || {
                            names: {
                                utcTimeName: "tbsCertList.nextUpdate",
                                generalTimeName: "tbsCertList.nextUpdate"
                            }
                        }, true),
                        new in_window.org.pkijs.asn1.SEQUENCE({
                            optional: true,
                            value: [
                                new in_window.org.pkijs.asn1.REPEATED({
                                    name: (names.tbsCertList_revokedCertificates || "tbsCertList.revokedCertificates"),
                                    value: new in_window.org.pkijs.asn1.SEQUENCE({
                                        value: [
                                            new in_window.org.pkijs.asn1.INTEGER(),
                                            in_window.org.pkijs.schema.TIME(),
                                            in_window.org.pkijs.schema.EXTENSIONS({}, true)
                                        ]
                                    })
                                })
                            ]
                        }),
                        new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                            optional: true,
                            id_block: {
                                tag_class: 3, // CONTEXT-SPECIFIC
                                tag_number: 0 // [0]
                            },
                            value: [in_window.org.pkijs.schema.EXTENSIONS(names.crlExtensions || {
                                names: {
                                    block_name: "tbsCertList.extensions"
                                }
                            })]
                        }) // EXPLICIT SEQUENCE value
                    ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.CRL =
    function()
    {
        //CertificateList  ::=  SEQUENCE  {
        //    tbsCertList          TBSCertList,
        //    signatureAlgorithm   AlgorithmIdentifier,
        //    signatureValue       BIT STRING  }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || "CertificateList"),
            value: [
                local.tbsCertList(arguments[0]),
                in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.signatureAlgorithm || {
                    names: {
                        block_name: "signatureAlgorithm"
                    }
                }),
                new in_window.org.pkijs.asn1.BITSTRING({ name: (names.signatureValue || "signatureValue") })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for PKCS#10 certificate request 
    //**************************************************************************************
    local.CertificationRequestInfo =
    function()
    {
        //CertificationRequestInfo ::= SEQUENCE {
        //    version       INTEGER { v1(0) } (v1,...),
        //    subject       Name,
        //    subjectPKInfo SubjectPublicKeyInfo{{ PKInfoAlgorithms }},
        //    attributes    [0] Attributes{{ CRIAttributes }}
        //}

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.CertificationRequestInfo || "CertificationRequestInfo"),
            value: [
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.CertificationRequestInfo_version || "CertificationRequestInfo.version") }),
                new in_window.org.pkijs.schema.RDN(names.subject || {
                    names: {
                        block_name: "CertificationRequestInfo.subject"
                    }
                }),
                new in_window.org.pkijs.schema.PUBLIC_KEY_INFO({
                    names: {
                        block_name: "CertificationRequestInfo.subjectPublicKeyInfo"
                    }
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            optional: true, // Because OpenSSL makes wrong "attributes" field
                            name: (names.CertificationRequestInfo_attributes || "CertificationRequestInfo.attributes"),
                            value: in_window.org.pkijs.schema.ATTRIBUTE(names.attributes || {})
                        })
                    ]
                })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.PKCS10 =
    function()
    {
        //CertificationRequest ::= SEQUENCE {
        //    certificationRequestInfo CertificationRequestInfo,
        //    signatureAlgorithm       AlgorithmIdentifier{{ SignatureAlgorithms }},
        //    signature                BIT STRING
        //}

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                local.CertificationRequestInfo(names.certificationRequestInfo || {}),
                new in_window.org.pkijs.asn1.SEQUENCE({
                    name: (names.signatureAlgorithm || "signatureAlgorithm"),
                    value: [
                        new in_window.org.pkijs.asn1.OID(),
                        new in_window.org.pkijs.asn1.ANY({ optional: true })
                    ]
                }),
                new in_window.org.pkijs.asn1.BITSTRING({ name: (names.signatureValue || "signatureValue") })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for PKCS#8 private key bag
    //**************************************************************************************
    in_window.org.pkijs.schema.PKCS8 =
    function()
    {
        //PrivateKeyInfo ::= SEQUENCE {
        //    version Version,
        //    privateKeyAlgorithm AlgorithmIdentifier {{PrivateKeyAlgorithms}},
        //    privateKey PrivateKey,
        //    attributes [0] Attributes OPTIONAL }
        //
        //Version ::= INTEGER {v1(0)} (v1,...)
        //
        //PrivateKey ::= OCTET STRING
        //
        //Attributes ::= SET OF Attribute

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.version || "") }),
                in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.privateKeyAlgorithm || ""),
                new in_window.org.pkijs.asn1.OCTETSTRING({ name: (names.privateKey || "") }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            name: (names.attributes || ""),
                            value: in_window.org.pkijs.schema.ATTRIBUTE()
                        })
                    ]
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "GeneralName" type 
    //**************************************************************************************
    local.BuiltInStandardAttributes =
    function(optional_flag)
    {
        //BuiltInStandardAttributes ::= SEQUENCE {
        //    country-name                  CountryName OPTIONAL,
        //    administration-domain-name    AdministrationDomainName OPTIONAL,
        //    network-address           [0] IMPLICIT NetworkAddress OPTIONAL,
        //    terminal-identifier       [1] IMPLICIT TerminalIdentifier OPTIONAL,
        //    private-domain-name       [2] PrivateDomainName OPTIONAL,
        //    organization-name         [3] IMPLICIT OrganizationName OPTIONAL,
        //    numeric-user-identifier   [4] IMPLICIT NumericUserIdentifier OPTIONAL,
        //    personal-name             [5] IMPLICIT PersonalName OPTIONAL,
        //    organizational-unit-names [6] IMPLICIT OrganizationalUnitNames OPTIONAL }

        if(typeof optional_flag === "undefined")
            optional_flag = false;

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            optional: optional_flag,
            value: [
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 2, // APPLICATION-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    name: (names.country_name || ""),
                    value: [
                        new in_window.org.pkijs.asn1.CHOICE({
                            value: [
                                new in_window.org.pkijs.asn1.NUMERICSTRING(),
                                new in_window.org.pkijs.asn1.PRINTABLESTRING()
                            ]
                        })
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 2, // APPLICATION-SPECIFIC
                        tag_number: 2 // [2]
                    },
                    name: (names.administration_domain_name || ""),
                    value: [
                        new in_window.org.pkijs.asn1.CHOICE({
                            value: [
                                new in_window.org.pkijs.asn1.NUMERICSTRING(),
                                new in_window.org.pkijs.asn1.PRINTABLESTRING()
                            ]
                        })
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    name: (names.network_address || ""),
                    is_hex_only: true
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    name: (names.terminal_identifier || ""),
                    is_hex_only: true
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 2 // [2]
                    },
                    name: (names.private_domain_name || ""),
                    value: [
                        new in_window.org.pkijs.asn1.CHOICE({
                            value: [
                                new in_window.org.pkijs.asn1.NUMERICSTRING(),
                                new in_window.org.pkijs.asn1.PRINTABLESTRING()
                            ]
                        })
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 3 // [3]
                    },
                    name: (names.organization_name || ""),
                    is_hex_only: true
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    optional: true,
                    name: (names.numeric_user_identifier || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 4 // [4]
                    },
                    is_hex_only: true
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    name: (names.personal_name || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 5 // [5]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                            id_block: {
                                tag_class: 3, // CONTEXT-SPECIFIC
                                tag_number: 0 // [0]
                            },
                            is_hex_only: true
                        }),
                        new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                            optional: true,
                            id_block: {
                                tag_class: 3, // CONTEXT-SPECIFIC
                                tag_number: 1 // [1]
                            },
                            is_hex_only: true
                        }),
                        new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                            optional: true,
                            id_block: {
                                tag_class: 3, // CONTEXT-SPECIFIC
                                tag_number: 2 // [2]
                            },
                            is_hex_only: true
                        }),
                        new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                            optional: true,
                            id_block: {
                                tag_class: 3, // CONTEXT-SPECIFIC
                                tag_number: 3 // [3]
                            },
                            is_hex_only: true
                        })
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    name: (names.organizational_unit_names || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 6 // [6]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            value: new in_window.org.pkijs.asn1.PRINTABLESTRING()
                        })
                    ]
                })
            ]
        }));
    }
    //**************************************************************************************
    local.BuiltInDomainDefinedAttributes =
    function(optional_flag)
    {
        if(typeof optional_flag === "undefined")
            optional_flag = false;

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            optional: optional_flag,
            value: [
                new in_window.org.pkijs.asn1.PRINTABLESTRING(),
                new in_window.org.pkijs.asn1.PRINTABLESTRING()
            ]
        }));
    }
    //**************************************************************************************
    local.ExtensionAttributes =
    function(optional_flag)
    {
        if(typeof optional_flag === "undefined")
            optional_flag = false;

        return (new in_window.org.pkijs.asn1.SET({
            optional: optional_flag,
            value: [
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    is_hex_only: true
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    value: [new in_window.org.pkijs.asn1.ANY()]
                })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.GENERAL_NAME =
    function()
    {
        /// <remarks>By passing "names" array as an argument you can name each element of "GENERAL NAME" choice</remarks>

        //GeneralName ::= CHOICE {
        //    otherName                       [0]     OtherName,
        //    rfc822Name                      [1]     IA5String,
        //    dNSName                         [2]     IA5String,
        //    x400Address                     [3]     ORAddress,
        //    directoryName                   [4]     Name,
        //    ediPartyName                    [5]     EDIPartyName,
        //    uniformResourceIdentifier       [6]     IA5String,
        //    iPAddress                       [7]     OCTET STRING,
        //    registeredID                    [8]     OBJECT IDENTIFIER }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.CHOICE({
            value: [
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    name: (names.block_name || ""),
                    value: [
                            new in_window.org.pkijs.asn1.OID(),
                            new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                                id_block: {
                                    tag_class: 3, // CONTEXT-SPECIFIC
                                    tag_number: 0 // [0]
                                },
                                value: [new in_window.org.pkijs.asn1.ANY()]
                            })
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.block_name || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    }
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.block_name || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 2 // [2]
                    }
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 3 // [3]
                    },
                    name: (names.block_name || ""),
                    value: [
                            local.BuiltInStandardAttributes(false),
                            local.BuiltInDomainDefinedAttributes(true),
                            local.ExtensionAttributes(true)
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 4 // [4]
                    },
                    name: (names.block_name || ""),
                    value: [in_window.org.pkijs.schema.RDN(names.directoryName || {})]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 5 // [5]
                    },
                    name: (names.block_name || ""),
                    value: [
                            new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                                optional: true,
                                id_block: {
                                    tag_class: 3, // CONTEXT-SPECIFIC
                                    tag_number: 0 // [0]
                                },
                                value: [
                                    new in_window.org.pkijs.asn1.CHOICE({
                                        value: [
                                            new in_window.org.pkijs.asn1.TELETEXSTRING(),
                                            new in_window.org.pkijs.asn1.PRINTABLESTRING(),
                                            new in_window.org.pkijs.asn1.UNIVERSALSTRING(),
                                            new in_window.org.pkijs.asn1.UTF8STRING(),
                                            new in_window.org.pkijs.asn1.BMPSTRING()
                                        ]
                                    })
                                ]
                            }),
                            new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                                id_block: {
                                    tag_class: 3, // CONTEXT-SPECIFIC
                                    tag_number: 1 // [1]
                                },
                                value: [
                                    new in_window.org.pkijs.asn1.CHOICE({
                                        value: [
                                            new in_window.org.pkijs.asn1.TELETEXSTRING(),
                                            new in_window.org.pkijs.asn1.PRINTABLESTRING(),
                                            new in_window.org.pkijs.asn1.UNIVERSALSTRING(),
                                            new in_window.org.pkijs.asn1.UTF8STRING(),
                                            new in_window.org.pkijs.asn1.BMPSTRING()
                                        ]
                                    })
                                ]
                            })
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.block_name || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 6 // [6]
                    }
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.block_name || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 7 // [7]
                    }
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.block_name || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 8 // [8]
                    }
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "AlgorithmIdentifier" type 
    //**************************************************************************************
    in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER =
    function()
    {
        //AlgorithmIdentifier  ::=  SEQUENCE  {
        //    algorithm               OBJECT IDENTIFIER,
        //    parameters              ANY DEFINED BY algorithm OPTIONAL  }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            optional: (names.optional || false),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.algorithmIdentifier || "") }),
                new in_window.org.pkijs.asn1.ANY({ name: (names.algorithmParams || ""), optional: true })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "RSAPublicKey" type (RFC3447)
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.RSAPublicKey =
    function()
    {
        //RSAPublicKey ::= SEQUENCE {
        //    modulus           INTEGER,  -- n
        //    publicExponent    INTEGER   -- e
        //}

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.modulus || "") }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.publicExponent || "") })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "OtherPrimeInfo" type (RFC3447) 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.OtherPrimeInfo =
    function()
    {
        //OtherPrimeInfo ::= SEQUENCE {
        //    prime             INTEGER,  -- ri
        //    exponent          INTEGER,  -- di
        //    coefficient       INTEGER   -- ti
        //}

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.prime || "") }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.exponent || "") }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.coefficient || "") })
    ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "RSAPrivateKey" type (RFC3447)
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.RSAPrivateKey =
    function()
    {
        //RSAPrivateKey ::= SEQUENCE {
        //    version           Version,
        //    modulus           INTEGER,  -- n
        //    publicExponent    INTEGER,  -- e
        //    privateExponent   INTEGER,  -- d
        //    prime1            INTEGER,  -- p
        //    prime2            INTEGER,  -- q
        //    exponent1         INTEGER,  -- d mod (p-1)
        //    exponent2         INTEGER,  -- d mod (q-1)
        //    coefficient       INTEGER,  -- (inverse of q) mod p
        //    otherPrimeInfos   OtherPrimeInfos OPTIONAL
        //}
        //
        //OtherPrimeInfos ::= SEQUENCE SIZE(1..MAX) OF OtherPrimeInfo

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.version || "") }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.modulus || "") }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.publicExponent || "") }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.privateExponent || "") }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.prime1 || "") }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.prime2 || "") }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.exponent1 || "") }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.exponent2 || "") }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.coefficient || "") }),
                new in_window.org.pkijs.asn1.SEQUENCE({
                    optional: true,
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            name: (names.otherPrimeInfos || ""),
                            value: in_window.org.pkijs.schema.x509.OtherPrimeInfo(names.otherPrimeInfo || {})
                        })
                    ]
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "RSASSA-PSS-params" type (RFC3447)
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.RSASSA_PSS_params =
    function()
    {
        //RSASSA-PSS-params  ::=  SEQUENCE  {
        //    hashAlgorithm      [0] HashAlgorithm DEFAULT sha1Identifier,
        //    maskGenAlgorithm   [1] MaskGenAlgorithm DEFAULT mgf1SHA1Identifier,
        //    saltLength         [2] INTEGER DEFAULT 20,
        //    trailerField       [3] INTEGER DEFAULT 1  }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    optional: true,
                    value: [in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.hashAlgorithm || {})]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    optional: true,
                    value: [in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.maskGenAlgorithm || {})]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 2 // [2]
                    },
                    optional: true,
                    value: [new in_window.org.pkijs.asn1.INTEGER({ name: (names.saltLength || "") })]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 3 // [3]
                    },
                    optional: true,
                    value: [new in_window.org.pkijs.asn1.INTEGER({ name: (names.trailerField || "") })]
                }),
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "SubjectPublicKeyInfo" type 
    //**************************************************************************************
    in_window.org.pkijs.schema.PUBLIC_KEY_INFO =
    function()
    {
        //SubjectPublicKeyInfo  ::=  SEQUENCE  {
        //    algorithm            AlgorithmIdentifier,
        //    subjectPublicKey     BIT STRING  }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.algorithm || {}),
                new in_window.org.pkijs.asn1.BITSTRING({ name: (names.subjectPublicKey || "") })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "Attribute" type 
    //**************************************************************************************
    in_window.org.pkijs.schema.ATTRIBUTE =
    function()
    {
        // Attribute { ATTRIBUTE:IOSet } ::= SEQUENCE {
        //    type   ATTRIBUTE.&id({IOSet}),
        //    values SET SIZE(1..MAX) OF ATTRIBUTE.&Type({IOSet}{@type})
        //}

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.type || "") }),
                new in_window.org.pkijs.asn1.SET({
                    name: (names.set_name || ""),
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            name: (names.values || ""),
                            value: new in_window.org.pkijs.asn1.ANY()
                        })
                    ]
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "AttributeTypeAndValue" type 
    //**************************************************************************************
    in_window.org.pkijs.schema.ATTR_TYPE_AND_VALUE =
    function()
    {
        //AttributeTypeAndValue ::= SEQUENCE {
        //    type     AttributeType,
        //    value    AttributeValue }
        //
        //AttributeType ::= OBJECT IDENTIFIER
        //
        //AttributeValue ::= ANY -- DEFINED BY AttributeType

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.type || "") }),
                new in_window.org.pkijs.asn1.ANY({ name: (names.value || "") })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "RelativeDistinguishedName" type 
    //**************************************************************************************
    in_window.org.pkijs.schema.RDN =
    function()
    {
        //RDNSequence ::= SEQUENCE OF RelativeDistinguishedName
        //
        //RelativeDistinguishedName ::=
        //SET SIZE (1..MAX) OF AttributeTypeAndValue

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.REPEATED({
                    name: (names.repeated_sequence || ""),
                    value: new in_window.org.pkijs.asn1.SET({
                        value: [
                            new in_window.org.pkijs.asn1.REPEATED({
                                name: (names.repeated_set || ""),
                                value: in_window.org.pkijs.schema.ATTR_TYPE_AND_VALUE(names.attr_type_and_value || {})
                            })
                        ]
                    })
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "Extension" type 
    //**************************************************************************************
    in_window.org.pkijs.schema.EXTENSION =
    function()
    {
        //Extension  ::=  SEQUENCE  {
        //    extnID      OBJECT IDENTIFIER,
        //    critical    BOOLEAN DEFAULT FALSE,
        //    extnValue   OCTET STRING
        //}

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.extnID || "") }),
                new in_window.org.pkijs.asn1.BOOLEAN({
                    name: (names.critical || ""),
                    optional: true
                }),
                new in_window.org.pkijs.asn1.OCTETSTRING({ name: (names.extnValue || "") })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "Extensions" type (sequence of many Extension)
    //**************************************************************************************
    in_window.org.pkijs.schema.EXTENSIONS =
    function(input_names, input_optional)
    {
        //Extensions  ::=  SEQUENCE SIZE (1..MAX) OF Extension

        var names = in_window.org.pkijs.getNames(arguments[0]);
        var optional = input_optional || false;

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            optional: optional,
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.REPEATED({
                    name: (names.extensions || ""),
                    value: in_window.org.pkijs.schema.EXTENSION(names.extension || {})
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "AuthorityKeyIdentifier" type of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.AuthorityKeyIdentifier =
    function()
    {
        // AuthorityKeyIdentifier OID ::= 2.5.29.35
        // 
        //AuthorityKeyIdentifier ::= SEQUENCE {
        //    keyIdentifier             [0] KeyIdentifier           OPTIONAL,
        //    authorityCertIssuer       [1] GeneralNames            OPTIONAL,
        //    authorityCertSerialNumber [2] CertificateSerialNumber OPTIONAL  }
        //
        //KeyIdentifier ::= OCTET STRING

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.keyIdentifier || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    }
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    value: [
                            new in_window.org.pkijs.asn1.REPEATED({
                                name: (names.authorityCertIssuer || ""),
                                value: in_window.org.pkijs.schema.GENERAL_NAME()
                            })
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.authorityCertSerialNumber || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 2 // [2]
                    }
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "PrivateKeyUsagePeriod" type of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.PrivateKeyUsagePeriod =
    function()
    {
        // PrivateKeyUsagePeriod OID ::= 2.5.29.16
        //
        //PrivateKeyUsagePeriod ::= SEQUENCE {
        //    notBefore       [0]     GeneralizedTime OPTIONAL,
        //    notAfter        [1]     GeneralizedTime OPTIONAL }
        //-- either notBefore or notAfter MUST be present

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.notBefore || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    }
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.notAfter || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    }
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "IssuerAltName" and "SubjectAltName" types of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.AltName =
    function()
    {
        // SubjectAltName OID ::= 2.5.29.17
        // IssuerAltName OID ::= 2.5.29.18
        //
        // AltName ::= GeneralNames

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.REPEATED({
                    name: (names.altNames || ""),
                    value: in_window.org.pkijs.schema.GENERAL_NAME()
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "SubjectDirectoryAttributes" type of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.SubjectDirectoryAttributes =
    function()
    {
        // SubjectDirectoryAttributes OID ::= 2.5.29.9
        //
        //SubjectDirectoryAttributes ::= SEQUENCE SIZE (1..MAX) OF Attribute

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.REPEATED({
                    name: (names.attributes || ""),
                    value: in_window.org.pkijs.schema.ATTRIBUTE()
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "GeneralSubtree" type 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.GeneralSubtree =
    function()
    {
        //GeneralSubtree ::= SEQUENCE {
        //    base                    GeneralName,
        //    minimum         [0]     BaseDistance DEFAULT 0,
        //    maximum         [1]     BaseDistance OPTIONAL }
        //
        //BaseDistance ::= INTEGER (0..MAX)

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                in_window.org.pkijs.schema.GENERAL_NAME(names.base || ""),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [new in_window.org.pkijs.asn1.INTEGER({ name: (names.minimum || "") })]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    value: [new in_window.org.pkijs.asn1.INTEGER({ name: (names.maximum || "") })]
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "NameConstraints" type of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.NameConstraints =
    function()
    {
        // NameConstraints OID ::= 2.5.29.30
        //
        //NameConstraints ::= SEQUENCE {
        //    permittedSubtrees       [0]     GeneralSubtrees OPTIONAL,
        //    excludedSubtrees        [1]     GeneralSubtrees OPTIONAL }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            name: (names.permittedSubtrees || ""),
                            value: in_window.org.pkijs.schema.x509.GeneralSubtree()
                        })
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            name: (names.excludedSubtrees || ""),
                            value: in_window.org.pkijs.schema.x509.GeneralSubtree()
                        })
                    ]
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "BasicConstraints" type of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.BasicConstraints =
    function()
    {
        // BasicConstraints OID ::= 2.5.29.19
        //
        //BasicConstraints ::= SEQUENCE {
        //    cA                      BOOLEAN DEFAULT FALSE,
        //    pathLenConstraint       INTEGER (0..MAX) OPTIONAL }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.BOOLEAN({
                    optional: true,
                    name: (names.cA || "")
                }),
                new in_window.org.pkijs.asn1.INTEGER({
                    optional: true,
                    name: (names.pathLenConstraint || "")
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "PolicyQualifierInfo" type 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.PolicyQualifierInfo =
    function()
    {
        //PolicyQualifierInfo ::= SEQUENCE {
        //    policyQualifierId  PolicyQualifierId,
        //    qualifier          ANY DEFINED BY policyQualifierId }
        //
        //id-qt          OBJECT IDENTIFIER ::=  { id-pkix 2 }
        //id-qt-cps      OBJECT IDENTIFIER ::=  { id-qt 1 }
        //id-qt-unotice  OBJECT IDENTIFIER ::=  { id-qt 2 }
        //
        //PolicyQualifierId ::= OBJECT IDENTIFIER ( id-qt-cps | id-qt-unotice )

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.policyQualifierId || "") }),
                new in_window.org.pkijs.asn1.ANY({ name: (names.qualifier || "") })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "PolicyInformation" type 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.PolicyInformation =
    function()
    {
        //PolicyInformation ::= SEQUENCE {
        //    policyIdentifier   CertPolicyId,
        //    policyQualifiers   SEQUENCE SIZE (1..MAX) OF
        //    PolicyQualifierInfo OPTIONAL }
        //
        //CertPolicyId ::= OBJECT IDENTIFIER

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.policyIdentifier || "") }),
                new in_window.org.pkijs.asn1.SEQUENCE({
                    optional: true,
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            name: (names.policyQualifiers || ""),
                            value: in_window.org.pkijs.schema.x509.PolicyQualifierInfo()
                        })
                    ]
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "CertificatePolicies" type of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.CertificatePolicies =
    function()
    {
        // CertificatePolicies OID ::= 2.5.29.32
        //
        //certificatePolicies ::= SEQUENCE SIZE (1..MAX) OF PolicyInformation

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.REPEATED({
                    name: (names.certificatePolicies || ""),
                    value: in_window.org.pkijs.schema.x509.PolicyInformation()
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "PolicyMapping" type
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.PolicyMapping =
    function()
    {
        //PolicyMapping ::= SEQUENCE {
        //    issuerDomainPolicy      CertPolicyId,
        //    subjectDomainPolicy     CertPolicyId }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.issuerDomainPolicy || "") }),
                new in_window.org.pkijs.asn1.OID({ name: (names.subjectDomainPolicy || "") })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "PolicyMappings" type of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.PolicyMappings =
    function()
    {
        // PolicyMappings OID ::= 2.5.29.33
        //
        //PolicyMappings ::= SEQUENCE SIZE (1..MAX) OF PolicyMapping

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.REPEATED({
                    name: (names.mappings || ""),
                    value: in_window.org.pkijs.schema.x509.PolicyMapping()
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "PolicyConstraints" type of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.PolicyConstraints =
    function()
    {
        // PolicyMappings OID ::= 2.5.29.36
        //
        //PolicyConstraints ::= SEQUENCE {
        //    requireExplicitPolicy           [0] SkipCerts OPTIONAL,
        //    inhibitPolicyMapping            [1] SkipCerts OPTIONAL }
        //
        //SkipCerts ::= INTEGER (0..MAX)

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.requireExplicitPolicy || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    }
                }), // IMPLICIT integer value
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.inhibitPolicyMapping || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    }
                }) // IMPLICIT integer value
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "ExtKeyUsage" type of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.ExtKeyUsage =
    function()
    {
        // ExtKeyUsage OID ::= 2.5.29.37
        //
        // ExtKeyUsage ::= SEQUENCE SIZE (1..MAX) OF KeyPurposeId

        // KeyPurposeId ::= OBJECT IDENTIFIER

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.REPEATED({
                    name: (names.keyPurposes || ""),
                    value: new in_window.org.pkijs.asn1.OID()
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "DistributionPoint" type
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.DistributionPoint =
    function()
    {
        //DistributionPoint ::= SEQUENCE {
        //    distributionPoint       [0]     DistributionPointName OPTIONAL,
        //    reasons                 [1]     ReasonFlags OPTIONAL,
        //    cRLIssuer               [2]     GeneralNames OPTIONAL }
        //
        //DistributionPointName ::= CHOICE {
        //    fullName                [0]     GeneralNames,
        //    nameRelativeToCRLIssuer [1]     RelativeDistinguishedName }
        //
        //ReasonFlags ::= BIT STRING {
        //    unused                  (0),
        //    keyCompromise           (1),
        //    cACompromise            (2),
        //    affiliationChanged      (3),
        //    superseded              (4),
        //    cessationOfOperation    (5),
        //    certificateHold         (6),
        //    privilegeWithdrawn      (7),
        //    aACompromise            (8) }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.CHOICE({
                            value: [
                                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                                    name: (names.distributionPoint || ""),
                                    optional: true,
                                    id_block: {
                                        tag_class: 3, // CONTEXT-SPECIFIC
                                        tag_number: 0 // [0]
                                    },
                                    value: [
                                        new in_window.org.pkijs.asn1.REPEATED({
                                            name: (names.distributionPoint_names || ""),
                                            value: in_window.org.pkijs.schema.GENERAL_NAME()
                                        })
                                    ]
                                }),
                                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                                    name: (names.distributionPoint || ""),
                                    optional: true,
                                    id_block: {
                                        tag_class: 3, // CONTEXT-SPECIFIC
                                        tag_number: 1 // [1]
                                    },
                                    value: in_window.org.pkijs.schema.RDN().value_block.value
                                })
                            ]
                        })
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.reasons || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    }
                }), // IMPLICIT bitstring value
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    name: (names.cRLIssuer || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 2 // [2]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            name: (names.cRLIssuer_names || ""),
                            value: in_window.org.pkijs.schema.GENERAL_NAME()
                        })
                    ]
                }) // IMPLICIT bitstring value
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "CRLDistributionPoints" type of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.CRLDistributionPoints =
    function()
    {
        // CRLDistributionPoints OID ::= 2.5.29.31
        //
        //CRLDistributionPoints ::= SEQUENCE SIZE (1..MAX) OF DistributionPoint

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.REPEATED({
                    name: (names.distributionPoints || ""),
                    value: in_window.org.pkijs.schema.x509.DistributionPoint()
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "AccessDescription" type
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.AccessDescription =
    function()
    {
        //AccessDescription  ::=  SEQUENCE {
        //    accessMethod          OBJECT IDENTIFIER,
        //    accessLocation        GeneralName  }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.accessMethod || "") }),
                in_window.org.pkijs.schema.GENERAL_NAME(names.accessLocation || "")
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "AuthorityInfoAccess" and "SubjectInfoAccess" types of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.InfoAccess =
    function()
    {
        // AuthorityInfoAccess OID ::= 1.3.6.1.5.5.7.1.1
        // SubjectInfoAccess OID ::= 1.3.6.1.5.5.7.1.11
        //
        //AuthorityInfoAccessSyntax  ::=
        //SEQUENCE SIZE (1..MAX) OF AccessDescription

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.REPEATED({
                    name: (names.accessDescriptions || ""),
                    value: in_window.org.pkijs.schema.x509.AccessDescription()
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "IssuingDistributionPoint" type of extension 
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.IssuingDistributionPoint =
    function()
    {
        // IssuingDistributionPoint OID ::= 2.5.29.28
        //
        //IssuingDistributionPoint ::= SEQUENCE {
        //    distributionPoint          [0] DistributionPointName OPTIONAL,
        //    onlyContainsUserCerts      [1] BOOLEAN DEFAULT FALSE,
        //    onlyContainsCACerts        [2] BOOLEAN DEFAULT FALSE,
        //    onlySomeReasons            [3] ReasonFlags OPTIONAL,
        //    indirectCRL                [4] BOOLEAN DEFAULT FALSE,
        //    onlyContainsAttributeCerts [5] BOOLEAN DEFAULT FALSE }
        //
        //ReasonFlags ::= BIT STRING {
        //    unused                  (0),
        //    keyCompromise           (1),
        //    cACompromise            (2),
        //    affiliationChanged      (3),
        //    superseded              (4),
        //    cessationOfOperation    (5),
        //    certificateHold         (6),
        //    privilegeWithdrawn      (7),
        //    aACompromise            (8) }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.CHOICE({
                            value: [
                                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                                    name: (names.distributionPoint || ""),
                                    id_block: {
                                        tag_class: 3, // CONTEXT-SPECIFIC
                                        tag_number: 0 // [0]
                                    },
                                    value: [
                                        new in_window.org.pkijs.asn1.REPEATED({
                                            name: (names.distributionPoint_names || ""),
                                            value: in_window.org.pkijs.schema.GENERAL_NAME()
                                        })
                                    ]
                                }),
                                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                                    name: (names.distributionPoint || ""),
                                    id_block: {
                                        tag_class: 3, // CONTEXT-SPECIFIC
                                        tag_number: 1 // [1]
                                    },
                                    value: in_window.org.pkijs.schema.RDN().value_block.value
                                })
                            ]
                        })
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.onlyContainsUserCerts || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    }
                }), // IMPLICIT boolean value
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.onlyContainsCACerts || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 2 // [2]
                    }
                }), // IMPLICIT boolean value
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.onlySomeReasons || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 3 // [3]
                    }
                }), // IMPLICIT bitstring value
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.indirectCRL || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 4 // [4]
                    }
                }), // IMPLICIT boolean value
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    name: (names.onlyContainsAttributeCerts || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 5 // [5]
                    }
                }) // IMPLICIT boolean value
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
}
)(typeof exports !== "undefined" ? exports : window);
//third_party/javascript/pkijs/v1/x509_simpl.js
/**
 * @license
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015, Peculiar Ventures
 * 2014-2015, Authored by Yury Strozhevsky <www.strozhevsky.com>
 * SPDX-License-Identifier: BSD-3-Clause
 */

/*
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015, Peculiar Ventures
 * All rights reserved.
 *
 * Author 2014-2015, Yury Strozhevsky <www.strozhevsky.com>.
 *
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, 
 *    this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice, 
 *    this list of conditions and the following disclaimer in the documentation 
 *    and/or other materials provided with the distribution.
 *
 * 3. Neither the name of the copyright holder nor the names of its contributors 
 *    may be used to endorse or promote products derived from this software without 
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY 
 * OF SUCH DAMAGE. 
 *
 */
(
function(in_window)
{
    //**************************************************************************************
    // #region Declaration of global variables 
    //**************************************************************************************
    // #region "org" namespace 
    if(typeof in_window.org === "undefined")
        in_window.org = {};
    else
    {
        if(typeof in_window.org !== "object")
            throw new Error("Name org already exists and it's not an object");
    }
    // #endregion 

    // #region "org.pkijs" namespace 
    if(typeof in_window.org.pkijs === "undefined")
        in_window.org.pkijs = {};
    else
    {
        if(typeof in_window.org.pkijs !== "object")
            throw new Error("Name org.pkijs already exists and it's not an object" + " but " + (typeof in_window.org.pkijs));
    }
    // #endregion 

    // #region "org.pkijs.simpl" namespace 
    if(typeof in_window.org.pkijs.simpl === "undefined")
        in_window.org.pkijs.simpl = {};
    else
    {
        if(typeof in_window.org.pkijs.simpl !== "object")
            throw new Error("Name org.pkijs.simpl already exists and it's not an object" + " but " + (typeof in_window.org.pkijs.simpl));
    }
    // #endregion 

    // #region "org.pkijs.simpl.x509" namespace 
    if(typeof in_window.org.pkijs.simpl.x509 === "undefined")
        in_window.org.pkijs.simpl.x509 = {};
    else
    {
        if(typeof in_window.org.pkijs.simpl.x509 !== "object")
            throw new Error("Name org.pkijs.simpl.x509 already exists and it's not an object" + " but " + (typeof in_window.org.pkijs.simpl.x509));
    }
    // #endregion 

    // #region "local" namespace 
    var local = {};
    // #endregion   
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "Time" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.TIME =
    function()
    {
        // #region Internal properties of the object 
        this.type = 0; // 0 - UTCTime; 1 - GeneralizedTime; 2 - empty value
        this.value = new Date(0, 0, 0);
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.TIME.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.type = (arguments[0].type || 0);
                this.value = (arguments[0].value || (new Date(0, 0, 0)));
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.TIME.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.TIME({
                names: {
                    utcTimeName: "utcTimeName",
                    generalTimeName: "generalTimeName"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for TIME");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if("utcTimeName" in asn1.result)
        {
            this.type = 0;
            this.value = asn1.result.utcTimeName.toDate();
        }
        if("generalTimeName" in asn1.result)
        {
            this.type = 1;
            this.value = asn1.result.generalTimeName.toDate();
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.TIME.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        var result = {};

        if(this.type === 0)
            result = new in_window.org.pkijs.asn1.UTCTIME({ value_date: this.value });
        if(this.type === 1)
            result = new in_window.org.pkijs.asn1.GENERALIZEDTIME({ value_date: this.value });

        return result;
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.TIME.prototype.toJSON =
    function()
    {
        return {
            type: this.type,
            value: this.value
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "GeneralName" type 
    //**************************************************************************************
    in_window.org.pkijs.simpl.GENERAL_NAME =
    function()
    {
        // #region Internal properties of the object 
        this.NameType = 9; // Name type - from a tagged value (0 for "otherName", 1 for "rfc822Name" etc.)
        this.Name = {};
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.GENERAL_NAME.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.NameType = arguments[0].NameType || 9;
                this.Name = arguments[0].Name || {};
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.GENERAL_NAME.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.GENERAL_NAME({
                names: {
                    block_name: "block_name",
                    otherName: "otherName",
                    rfc822Name: "rfc822Name",
                    dNSName: "dNSName",
                    x400Address: "x400Address",
                    directoryName: {
                            names: {
                                block_name: "directoryName"
                            }
                        },
                    ediPartyName: "ediPartyName",
                    uniformResourceIdentifier: "uniformResourceIdentifier",
                    iPAddress: "iPAddress",
                    registeredID: "registeredID"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for GENERAL_NAME");
        // #endregion 

        // #region Get internal properties from parsed schema
        this.NameType = asn1.result["block_name"].id_block.tag_number;

        switch(this.NameType)
        {
            case 0: // otherName
                this.Name = asn1.result["block_name"];
                break;
            case 1: // rfc822Name + dNSName + uniformResourceIdentifier
            case 2:
            case 6:
                {
                    var value = asn1.result["block_name"];

                    value.id_block.tag_class = 1; // UNIVERSAL
                    value.id_block.tag_number = 22; // IA5STRING

                    var value_ber = value.toBER(false);

                    this.Name = in_window.org.pkijs.fromBER(value_ber).result.value_block.value;
                }
                break;
            case 3: // x400Address
                this.Name = asn1.result["block_name"];
                break;
            case 4: // directoryName
                this.Name = new in_window.org.pkijs.simpl.RDN({ schema: asn1.result["directoryName"] });
                break;
            case 5: // ediPartyName
                this.Name = asn1.result["ediPartyName"];
                break;
            case 7: // iPAddress
                this.Name = new in_window.org.pkijs.asn1.OCTETSTRING({ value_hex: asn1.result["block_name"].value_block.value_hex });
                break;
            case 8: // registeredID
                {
                    var value = asn1.result["block_name"];

                    value.id_block.tag_class = 1; // UNIVERSAL
                    value.id_block.tag_number = 6; // OID

                    var value_ber = value.toBER(false);

                    this.Name = in_window.org.pkijs.fromBER(value_ber).result.value_block.toString(); // Getting a string representation of the OID
                }
                break;
            default:;
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.GENERAL_NAME.prototype.toSchema =
    function(schema)
    {
        // #region Construct and return new ASN.1 schema for this object
        switch(this.NameType)
        {
            case 0:
            case 3:
            case 5:
                return new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: this.NameType
                    },
                    value: [
                        this.Name
                    ]
                });

                break;
            case 1:
            case 2:
            case 6:
                {
                    var value = new in_window.org.pkijs.asn1.IA5STRING({ value: this.Name });

                    value.id_block.tag_class = 3;
                    value.id_block.tag_number = this.NameType;

                    return value;
                }
                break;
            case 4:
                return new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 4
                    },
                    value: [this.Name.toSchema()]
                });
                break;
            case 7:
                {
                    var value = this.Name;

                    value.id_block.tag_class = 3;
                    value.id_block.tag_number = this.NameType;

                    return value;
                }
                break;
            case 8:
                {
                    var value = new in_window.org.pkijs.asn1.OID({ value: this.Name });

                    value.id_block.tag_class = 3;
                    value.id_block.tag_number = this.NameType;

                    return value;
                }
                break;
            default:
                return in_window.org.pkijs.schema.GENERAL_NAME();
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.GENERAL_NAME.prototype.toJSON =
    function()
    {
        var _object = {
            NameType: this.NameType
        };

        if((typeof this.Name) === "string")
            _object.Name = this.Name;
        else
            _object.Name = this.Name.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "GeneralNames" type 
    //**************************************************************************************
    in_window.org.pkijs.simpl.GENERAL_NAMES =
    function()
    {
        // #region Internal properties of the object 
        this.names = new Array(); // Array of "org.pkijs.simpl.GENERAL_NAME"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.GENERAL_NAMES.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.names = arguments[0].names || new Array(); // Array of "org.pkijs.simpl.GENERAL_NAME"
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.GENERAL_NAMES.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            new in_window.org.pkijs.asn1.SEQUENCE({
                value: [
                    new in_window.org.pkijs.asn1.REPEATED({
                        name: "names",
                        value: in_window.org.pkijs.schema.GENERAL_NAME()
                    })
                ]
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for GENERAL_NAMES");
        // #endregion 

        // #region Get internal properties from parsed schema
        var n = asn1.result["names"];

        for(var i = 0; i < n.length; i++)
            this.names.push(new in_window.org.pkijs.simpl.GENERAL_NAME({ schema: n[i] }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.GENERAL_NAMES.prototype.toSchema =
    function(schema)
    {
        // #region Construct and return new ASN.1 schema for this object
        var output_array = new Array();

        for(var i = 0; i < this.names.length; i++)
            output_array.push(this.names[i].toSchema());

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.GENERAL_NAMES.prototype.toJSON =
    function()
    {
        var _names = new Array();

        for(var i = 0; i < this.names.length; i++)
            _names.push(this.names[i].toJSON());

        return {
            names: _names
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "AlgorithmIdentifier" type 
    //**************************************************************************************
    in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER =
    function()
    {
        // #region Internal properties of the object 
        this.algorithm_id = "";
        // OPTIONAL this.algorithm_params = new in_window.org.pkijs.asn1.NULL();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.algorithm_id = arguments[0].algorithm_id || "";
                if("algorithm_params" in arguments[0])
                    this.algorithm_params = arguments[0].algorithm_params;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER({ 
                names: {
                    algorithmIdentifier: "algorithm",
                    algorithmParams: "params"
                }
                })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for ALGORITHM_IDENTIFIER");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.algorithm_id = asn1.result.algorithm.value_block.toString();
        if("params" in asn1.result)
            this.algorithm_params = asn1.result.params;
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.OID({ value: this.algorithm_id }));
        if("algorithm_params" in this)
            output_array.push(this.algorithm_params);
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER.prototype.getCommonName =
    function()
    {
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER.prototype.toJSON =
    function()
    {
        var _object = {
            algorithm_id: this.algorithm_id
        };

        if("algorithm_params" in this)
            _object.algorithm_params = this.algorithm_params.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "RSAPublicKey" type (RFC3447)
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSAPublicKey =
    function()
    {
        // #region Internal properties of the object 
        this.modulus = new in_window.org.pkijs.asn1.INTEGER();
        this.publicExponent = new in_window.org.pkijs.asn1.INTEGER();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.RSAPublicKey.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.modulus = arguments[0].modulus || new in_window.org.pkijs.asn1.INTEGER();
                this.publicExponent = arguments[0].publicExponent || new in_window.org.pkijs.asn1.INTEGER();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSAPublicKey.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.RSAPublicKey({
                names: {
                    modulus: "modulus",
                    publicExponent: "publicExponent"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for RSAPublicKey");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.modulus = asn1.result["modulus"];
        this.publicExponent = asn1.result["publicExponent"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSAPublicKey.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                this.modulus,
                this.publicExponent
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSAPublicKey.prototype.toJSON =
    function()
    {
        return {
            modulus: this.modulus.toJSON(),
            publicExponent: this.publicExponent.toJSON()
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "OtherPrimeInfo" type (RFC3447)
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.OtherPrimeInfo =
    function()
    {
        // #region Internal properties of the object 
        this.prime = new in_window.org.pkijs.asn1.INTEGER();
        this.exponent = new in_window.org.pkijs.asn1.INTEGER();
        this.coefficient = new in_window.org.pkijs.asn1.INTEGER();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.OtherPrimeInfo.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.prime = arguments[0].prime || new in_window.org.pkijs.asn1.INTEGER();
                this.exponent = arguments[0].exponent || new in_window.org.pkijs.asn1.INTEGER();
                this.coefficient = arguments[0].coefficient || new in_window.org.pkijs.asn1.INTEGER();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.OtherPrimeInfo.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.OtherPrimeInfo({
                names: {
                    prime: "prime",
                    exponent: "exponent",
                    coefficient: "coefficient"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for OtherPrimeInfo");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.prime = asn1.result["prime"];
        this.exponent = asn1.result["exponent"];
        this.coefficient = asn1.result["coefficient"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.OtherPrimeInfo.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                this.prime,
                this.exponent,
                this.coefficient
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.OtherPrimeInfo.prototype.toJSON =
    function()
    {
        return {
            prime: this.prime.toJSON(),
            exponent: this.exponent.toJSON(),
            coefficient: this.coefficient.toJSON()
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "RSAPrivateKey" type (RFC3447)
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSAPrivateKey =
    function()
    {
        // #region Internal properties of the object 
        this.version = 0;
        this.modulus = new in_window.org.pkijs.asn1.INTEGER();
        this.publicExponent = new in_window.org.pkijs.asn1.INTEGER();
        this.privateExponent = new in_window.org.pkijs.asn1.INTEGER();
        this.prime1 = new in_window.org.pkijs.asn1.INTEGER();
        this.prime2 = new in_window.org.pkijs.asn1.INTEGER();
        this.exponent1 = new in_window.org.pkijs.asn1.INTEGER();
        this.exponent2 = new in_window.org.pkijs.asn1.INTEGER();
        this.coefficient = new in_window.org.pkijs.asn1.INTEGER();
        // OPTIONAL this.otherPrimeInfos = new Array(); // Array of "OtherPrimeInfo"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.RSAPrivateKey.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.version = arguments[0].version || 0;
                this.modulus = arguments[0].modulus || new in_window.org.pkijs.asn1.INTEGER();
                this.publicExponent = arguments[0].publicExponent || new in_window.org.pkijs.asn1.INTEGER();
                this.privateExponent = arguments[0].privateExponent || new in_window.org.pkijs.asn1.INTEGER();
                this.prime1 = arguments[0].prime1 || new in_window.org.pkijs.asn1.INTEGER();
                this.prime2 = arguments[0].prime2 || new in_window.org.pkijs.asn1.INTEGER();
                this.exponent1 = arguments[0].exponent1 || new in_window.org.pkijs.asn1.INTEGER();
                this.exponent2 = arguments[0].exponent2 || new in_window.org.pkijs.asn1.INTEGER();
                this.coefficient = arguments[0].coefficient || new in_window.org.pkijs.asn1.INTEGER();
                if("otherPrimeInfos" in arguments[0])
                    this.otherPrimeInfos = arguments[0].otherPrimeInfos || new Array();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSAPrivateKey.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.RSAPrivateKey({
                names: {
                    version: "version",
                    modulus: "modulus",
                    publicExponent: "publicExponent",
                    privateExponent: "privateExponent",
                    prime1: "prime1",
                    prime2: "prime2",
                    exponent1: "exponent1",
                    exponent2: "exponent2",
                    coefficient: "coefficient",
                    otherPrimeInfos: "otherPrimeInfos"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for RSAPrivateKey");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.version = asn1.result["version"].value_block.value_dec;
        this.modulus = asn1.result["modulus"];
        this.publicExponent = asn1.result["publicExponent"];
        this.privateExponent = asn1.result["privateExponent"];
        this.prime1 = asn1.result["prime1"];
        this.prime2 = asn1.result["prime2"];
        this.exponent1 = asn1.result["exponent1"];
        this.exponent2 = asn1.result["exponent2"];
        this.coefficient = asn1.result["coefficient"];

        if("otherPrimeInfos" in asn1.result)
        {
            var otherPrimeInfos_array = asn1.result["otherPrimeInfos"];

            for(var i = 0; i < otherPrimeInfos_array.length; i++)
                this.otherPrimeInfos.push(new in_window.org.pkijs.simpl.x509.OtherPrimeInfo({ schema: otherPrimeInfos_array[i] }));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSAPrivateKey.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.INTEGER({ value: this.version }));
        output_array.push(this.modulus);
        output_array.push(this.publicExponent);
        output_array.push(this.privateExponent);
        output_array.push(this.prime1);
        output_array.push(this.prime2);
        output_array.push(this.exponent1);
        output_array.push(this.exponent2);
        output_array.push(this.coefficient);

        if("otherPrimeInfos" in this)
        {
            var otherPrimeInfos_array = new Array();

            for(var i = 0; i < this.otherPrimeInfos.length; i++)
                otherPrimeInfos_array.push(this.otherPrimeInfos[i].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.SEQUENCE({ value: otherPrimeInfos_array }));
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSAPrivateKey.prototype.toJSON =
    function()
    {
        var _object = {
            version: this.version,
            modulus: this.modulus.toJSON(),
            publicExponent: this.publicExponent.toJSON(),
            privateExponent: this.privateExponent.toJSON(),
            prime1: this.prime1.toJSON(),
            prime2: this.prime2.toJSON(),
            exponent1: this.exponent1.toJSON(),
            exponent2: this.exponent2.toJSON(),
            coefficient: this.coefficient.toJSON(),
        };

        if("otherPrimeInfos" in this)
        {
            _object.otherPrimeInfos = new Array();

            for(var i = 0; i < this.otherPrimeInfos.length; i++)
                _object.otherPrimeInfos.push(this.otherPrimeInfos[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "RSASSA_PSS_params" type (RFC3447)
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSASSA_PSS_params =
    function()
    {
        // #region Internal properties of the object 
        // OPTIONAL this.hashAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        // OPTIONAL this.maskGenAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        // OPTIONAL this.saltLength = 20; // new in_window.org.pkijs.asn1.INTEGER();
        // OPTIONAL this.trailerField = 1; // new in_window.org.pkijs.asn1.INTEGER();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.RSASSA_PSS_params.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                if("hashAlgorithm" in arguments[0])
                    this.hashAlgorithm = arguments[0].hashAlgorithm;

                if("maskGenAlgorithm" in arguments[0])
                    this.maskGenAlgorithm = arguments[0].maskGenAlgorithm;

                if("saltLength" in arguments[0])
                    this.saltLength = arguments[0].saltLength;

                if("trailerField" in arguments[0])
                    this.trailerField = arguments[0].trailerField;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSASSA_PSS_params.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.RSASSA_PSS_params({
                names: {
                    hashAlgorithm: {
                        names: {
                            block_name: "hashAlgorithm"
                        }
                    },
                    maskGenAlgorithm: {
                        names: {
                            block_name: "maskGenAlgorithm"
                        }
                    },
                    saltLength: "saltLength",
                    trailerField: "trailerField"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for RSASSA_PSS_params");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if("hashAlgorithm" in asn1.result)
            this.hashAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["hashAlgorithm"] });

        if("maskGenAlgorithm" in asn1.result)
            this.maskGenAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["maskGenAlgorithm"] });

        if("saltLength" in asn1.result)
            this.saltLength = asn1.result["saltLength"].value_block.value_dec;

        if("trailerField" in asn1.result)
            this.trailerField = asn1.result["trailerField"].value_block.value_dec;
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSASSA_PSS_params.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        if("hashAlgorithm" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: [this.hashAlgorithm.toSchema()]
            }));

        if("maskGenAlgorithm" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 1 // [1]
                },
                value: [this.maskGenAlgorithm.toSchema()]
            }));

        if("saltLength" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 2 // [2]
                },
                value: [new in_window.org.pkijs.asn1.INTEGER({ value: this.saltLength })]
            }));

        if("trailerField" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 3 // [3]
                },
                value: [new in_window.org.pkijs.asn1.INTEGER({ value: this.trailerField })]
            }));
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSASSA_PSS_params.prototype.toJSON =
    function()
    {
        var _object = {};

        if("hashAlgorithm" in this)
            _object.hashAlgorithm = this.hashAlgorithm.toJSON();

        if("maskGenAlgorithm" in this)
            _object.maskGenAlgorithm = this.maskGenAlgorithm.toJSON();

        if("saltLength" in this)
            _object.saltLength = this.saltLength.toJSON();

        if("trailerField" in this)
            _object.trailerField = this.trailerField.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "SubjectPublicKeyInfo" type 
    //**************************************************************************************
    in_window.org.pkijs.simpl.PUBLIC_KEY_INFO =
    function()
    {
        // #region Internal properties of the object 
        this.algorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        this.subjectPublicKey = new in_window.org.pkijs.asn1.BITSTRING();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.PUBLIC_KEY_INFO.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.algorithm = (arguments[0].algorithm || (new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER()));
                this.subjectPublicKey = (arguments[0].subjectPublicKey || (new in_window.org.pkijs.asn1.BITSTRING()));
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PUBLIC_KEY_INFO.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.PUBLIC_KEY_INFO({
                names: {
                    algorithm: {
                        names: {
                            block_name: "algorithm"
                        }
                    },
                    subjectPublicKey: "subjectPublicKey"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for PUBLIC_KEY_INFO");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.algorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result.algorithm });
        this.subjectPublicKey = asn1.result.subjectPublicKey;
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PUBLIC_KEY_INFO.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                this.algorithm.toSchema(),
                this.subjectPublicKey
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PUBLIC_KEY_INFO.prototype.importKey =
    function(publicKey)
    {
        /// <param name="publicKey" type="Key">Public key to work with</param>

        // #region Initial variables 
        var sequence = Promise.resolve();
        var _this = this;
        // #endregion   

        // #region Initial check 
        if(typeof publicKey === "undefined")
            return new Promise(function(resolve, reject) { reject("Need to provide publicKey input parameter"); });
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Export public key 
        sequence = sequence.then(
            function()
            {
                return crypto.exportKey("spki", publicKey);
            }
            );
        // #endregion 

        // #region Initialize internal variables by parsing exported value
        sequence = sequence.then(
            function(exportedKey)
            {
                var asn1 = in_window.org.pkijs.fromBER(exportedKey);
                try
                {
                    in_window.org.pkijs.simpl.PUBLIC_KEY_INFO.prototype.fromSchema.call(_this, asn1.result);
                }
                catch(exception)
                {
                    return new Promise(function(resolve, reject) { reject("Error during initializing object from schema"); });
                }
            },
            function(error)
            {
                return new Promise(function(resolve, reject) { reject("Error during exporting public key: " + error); });
            }
            );
        // #endregion 

        return sequence;
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PUBLIC_KEY_INFO.prototype.toJSON =
    function()
    {
        return {
            algorithm: this.algorithm.toJSON(),
            subjectPublicKey: this.subjectPublicKey.toJSON()
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "AttributeTypeAndValue" type (part of RelativeDistinguishedName)
    //**************************************************************************************
    in_window.org.pkijs.simpl.ATTR_TYPE_AND_VALUE =
    function()
    {
        // #region Internal properties of the object 
        this.type = "";
        this.value = {}; // ANY -- DEFINED BY AttributeType
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.ATTR_TYPE_AND_VALUE.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.type = (arguments[0].type || "");
                this.value = (arguments[0].value || {});
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ATTR_TYPE_AND_VALUE.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.ATTR_TYPE_AND_VALUE({
                names: {
                    type: "type",
                    value: "typeValue"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for ATTR_TYPE_AND_VALUE");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.type = asn1.result.type.value_block.toString();
        this.value = asn1.result.typeValue;
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ATTR_TYPE_AND_VALUE.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                new in_window.org.pkijs.asn1.OID({ value: this.type }),
                this.value
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ATTR_TYPE_AND_VALUE.prototype.isEqual =
    function()
    {
        if(arguments[0] instanceof in_window.org.pkijs.simpl.ATTR_TYPE_AND_VALUE)
        {
            if(this.type !== arguments[0].type)
                return false;

            if(((this.value instanceof in_window.org.pkijs.asn1.UTF8STRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.UTF8STRING)) ||
               ((this.value instanceof in_window.org.pkijs.asn1.BMPSTRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.BMPSTRING)) ||
               ((this.value instanceof in_window.org.pkijs.asn1.UNIVERSALSTRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.UNIVERSALSTRING)) ||
               ((this.value instanceof in_window.org.pkijs.asn1.NUMERICSTRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.NUMERICSTRING)) ||
               ((this.value instanceof in_window.org.pkijs.asn1.PRINTABLESTRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.PRINTABLESTRING)) ||
               ((this.value instanceof in_window.org.pkijs.asn1.TELETEXSTRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.TELETEXSTRING)) ||
               ((this.value instanceof in_window.org.pkijs.asn1.VIDEOTEXSTRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.VIDEOTEXSTRING)) ||
               ((this.value instanceof in_window.org.pkijs.asn1.IA5STRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.IA5STRING)) ||
               ((this.value instanceof in_window.org.pkijs.asn1.GRAPHICSTRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.GRAPHICSTRING)) ||
               ((this.value instanceof in_window.org.pkijs.asn1.VISIBLESTRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.VISIBLESTRING)) ||
               ((this.value instanceof in_window.org.pkijs.asn1.GENERALSTRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.GENERALSTRING)) ||
               ((this.value instanceof in_window.org.pkijs.asn1.CHARACTERSTRING) && (arguments[0].value instanceof in_window.org.pkijs.asn1.CHARACTERSTRING)))
            {
                var value1 = in_window.org.pkijs.stringPrep(this.value.value_block.value);
                var value2 = in_window.org.pkijs.stringPrep(arguments[0].value.value_block.value);

                if(value1.localeCompare(value2) !== 0)
                    return false;
            }
            else // Comparing as two ArrayBuffers
            {
                if(in_window.org.pkijs.isEqual_buffer(this.value.value_before_decode, arguments[0].value.value_before_decode) === false)
                    return false;
            }

            return true;
        }
        else
            return false;
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ATTR_TYPE_AND_VALUE.prototype.toJSON =
    function()
    {
        var _object = {
            type: this.type
        };

        if(Object.keys(this.value).length !== 0)
            _object.value = this.value.toJSON();
        else
            _object.value = this.value;

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "RelativeDistinguishedName" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.RDN =
    function()
    {
        // #region Internal properties of the object 
        /// <field name="types_and_values" type="Array" elementType="in_window.org.pkijs.simpl.ATTR_TYPE_AND_VALUE">Array of "type and value" objects</field>
        this.types_and_values = new Array();
        /// <field name="value_before_decode" type="ArrayBuffer">Value of the RDN before decoding from schema</field>
        this.value_before_decode = new ArrayBuffer(0);
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.RDN.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.types_and_values = (arguments[0].types_and_values || (new Array()));
                this.value_before_decode = arguments[0].value_before_decode || new ArrayBuffer(0);
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.RDN.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.RDN({
                names: {
                    block_name: "RDN",
                    repeated_set: "types_and_values"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for RDN");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if("types_and_values" in asn1.result) // Could be a case when there is no "types and values"
        {
            var types_and_values_array = asn1.result.types_and_values;
            for(var i = 0; i < types_and_values_array.length; i++)
                this.types_and_values.push(new in_window.org.pkijs.simpl.ATTR_TYPE_AND_VALUE({ schema: types_and_values_array[i] }));
        }

        this.value_before_decode = asn1.result.RDN.value_before_decode;
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.RDN.prototype.toSchema =
    function()
    {
        // #region Decode stored TBS value 
        if(this.value_before_decode.byteLength === 0) // No stored encoded array, create "from scratch"
        {
            // #region Create array for output set 
            var output_array = new Array();

            for(var i = 0; i < this.types_and_values.length; i++)
                output_array.push(this.types_and_values[i].toSchema());
            // #endregion 

            return (new in_window.org.pkijs.asn1.SEQUENCE({
                value: [new in_window.org.pkijs.asn1.SET({ value: output_array })]
            }));
        }

        var asn1 = in_window.org.pkijs.fromBER(this.value_before_decode);
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return asn1.result;
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.RDN.prototype.isEqual =
    function()
    {
        if(arguments[0] instanceof in_window.org.pkijs.simpl.RDN)
        {
            if(this.types_and_values.length != arguments[0].types_and_values.length)
                return false;

            for(var i = 0; i < this.types_and_values.length; i++)
            {
                if(this.types_and_values[i].isEqual(arguments[0].types_and_values[i]) === false)
                    return false;
            }

            return true;
        }
        else
        {
            if(arguments[0] instanceof ArrayBuffer)
                return in_window.org.pkijs.isEqual_buffer(this.value_before_decode, arguments[0]);
            else
                return false;
        }

        return false;
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.RDN.prototype.toJSON =
    function()
    {
        var _object = {
            types_and_values: new Array()
        };

        for(var i = 0; i < this.types_and_values.length; i++)
            _object.types_and_values.push(this.types_and_values[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "AuthorityKeyIdentifier" type of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AuthorityKeyIdentifier =
    function()
    {
        // #region Internal properties of the object 
        // OPTIONAL this.keyIdentifier - OCTETSTRING
        // OPTIONAL this.authorityCertIssuer - Array of GeneralName
        // OPTIONAL this.authorityCertSerialNumber - INTEGER
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.AuthorityKeyIdentifier.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                if("keyIdentifier" in arguments[0])
                    this.keyIdentifier = arguments[0].keyIdentifier;

                if("authorityCertIssuer" in arguments[0])
                    this.authorityCertIssuer = arguments[0].authorityCertIssuer;

                if("authorityCertSerialNumber" in arguments[0])
                    this.authorityCertSerialNumber = arguments[0].authorityCertSerialNumber;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AuthorityKeyIdentifier.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.AuthorityKeyIdentifier({
                names: {
                    keyIdentifier: "keyIdentifier",
                    authorityCertIssuer: "authorityCertIssuer",
                    authorityCertSerialNumber: "authorityCertSerialNumber"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for AuthorityKeyIdentifier");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if("keyIdentifier" in asn1.result)
        {
            asn1.result["keyIdentifier"].id_block.tag_class = 1; // UNIVERSAL
            asn1.result["keyIdentifier"].id_block.tag_number = 4; // OCTETSTRING

            this.keyIdentifier = asn1.result["keyIdentifier"];
        }

        if("authorityCertIssuer" in asn1.result)
        {
            this.authorityCertIssuer = new Array();
            var issuer_array = asn1.result["authorityCertIssuer"];

            for(var i = 0; i < issuer_array.length; i++)
                this.authorityCertIssuer.push(new in_window.org.pkijs.simpl.GENERAL_NAME({ schema: issuer_array[i] }));
        }

        if("authorityCertSerialNumber" in asn1.result)
        {
            asn1.result["authorityCertSerialNumber"].id_block.tag_class = 1; // UNIVERSAL
            asn1.result["authorityCertSerialNumber"].id_block.tag_number = 2; // INTEGER

            this.authorityCertSerialNumber = asn1.result["authorityCertSerialNumber"];
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AuthorityKeyIdentifier.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        if("keyIdentifier" in this)
        {
            var value = this.keyIdentifier;

            value.id_block.tag_class = 3; // CONTEXT-SPECIFIC
            value.id_block.tag_number = 0; // [0]

            output_array.push(value);
        }

        if("authorityCertIssuer" in this)
        {
            var issuer_array = new Array();

            for(var i = 0; i < this.authorityCertIssuer.length; i++)
                issuer_array.push(this.authorityCertIssuer[i].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 1 // [1]
                },
                value: [new in_window.org.pkijs.asn1.SEQUENCE({
                    value: issuer_array
                })]
            }));
        }

        if("authorityCertSerialNumber" in this)
        {
            var value = this.authorityCertSerialNumber;

            value.id_block.tag_class = 3; // CONTEXT-SPECIFIC
            value.id_block.tag_number = 2; // [2]

            output_array.push(value);
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AuthorityKeyIdentifier.prototype.toJSON =
    function()
    {
        var _object = {};

        if("keyIdentifier" in this)
            _object.keyIdentifier = this.keyIdentifier.toJSON();

        if("authorityCertIssuer" in this)
        {
            _object.authorityCertIssuer = new Array();

            for(var i = 0; i < this.authorityCertIssuer.length; i++)
                _object.authorityCertIssuer.push(this.authorityCertIssuer[i].toJSON());
        }

        if("authorityCertSerialNumber" in this)
            _object.authorityCertSerialNumber = this.authorityCertSerialNumber.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "PrivateKeyUsagePeriod" type of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PrivateKeyUsagePeriod =
    function()
    {
        // #region Internal properties of the object 
        // OPTIONAL this.notBefore - new Date()
        // OPTIONAL this.notAfter - new Date()
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.PrivateKeyUsagePeriod.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                if("notBefore" in arguments[0])
                    this.notBefore = arguments[0].notBefore;

                if("notAfter" in arguments[0])
                    this.notAfter = arguments[0].notAfter;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PrivateKeyUsagePeriod.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.PrivateKeyUsagePeriod({
                names: {
                    notBefore: "notBefore",
                    notAfter: "notAfter"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for PrivateKeyUsagePeriod");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if("notBefore" in asn1.result)
        {
            var localNotBefore = new in_window.org.pkijs.asn1.GENERALIZEDTIME();
            localNotBefore.fromBuffer(asn1.result["notBefore"].value_block.value_hex);
            this.notBefore = localNotBefore.toDate();
        }

        if("notAfter" in asn1.result)
        {
            var localNotAfter = new in_window.org.pkijs.asn1.GENERALIZEDTIME({ value_hex: asn1.result["notAfter"].value_block.value_hex });
            localNotAfter.fromBuffer(asn1.result["notAfter"].value_block.value_hex);
            this.notAfter = localNotAfter.toDate();
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PrivateKeyUsagePeriod.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        if("notBefore" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value_hex: (new in_window.org.pkijs.asn1.GENERALIZEDTIME({ value_date: this.notBefore })).value_block.value_hex
            }));

        if("notAfter" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 1 // [1]
                },
                value_hex: (new in_window.org.pkijs.asn1.GENERALIZEDTIME({ value_date: this.notAfter })).value_block.value_hex
            }));
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PrivateKeyUsagePeriod.prototype.toJSON =
    function()
    {
        var _object = {};

        if("notBefore" in this)
            _object.notBefore = this.notBefore;

        if("notAfter" in this)
            _object.notAfter = this.notAfter;

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "IssuerAltName" and "SubjectAltName" types of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AltName =
    function()
    {
        // #region Internal properties of the object 
        this.altNames = new Array(); //Array of GeneralName
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.AltName.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.altNames = arguments[0].altNames || new Array();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AltName.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.AltName({
                names: {
                    altNames: "altNames"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for AltName");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if("altNames" in asn1.result)
        {
            var altNames_array = asn1.result["altNames"];

            for(var i = 0; i < altNames_array.length; i++)
                this.altNames.push(new in_window.org.pkijs.simpl.GENERAL_NAME({ schema: altNames_array[i] }));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AltName.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        for(var i = 0; i < this.altNames.length; i++)
            output_array.push(this.altNames[i].toSchema());
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AltName.prototype.toJSON =
    function()
    {
        var _object = {
            altNames: new Array()
        };

        for(var i = 0; i < this.altNames.length; i++)
            _object.altNames.push(this.altNames[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "SubjectDirectoryAttributes" type of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.SubjectDirectoryAttributes =
    function()
    {
        // #region Internal properties of the object 
        this.attributes = new Array(); // Array of "simpl.ATTRIBUTE"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.SubjectDirectoryAttributes.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.attributes = arguments[0].attributes || new Array(); // Array of "simpl.ATTRIBUTE"
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.SubjectDirectoryAttributes.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.SubjectDirectoryAttributes({
                names: {
                    attributes: "attributes"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for SubjectDirectoryAttributes");
        // #endregion 

        // #region Get internal properties from parsed schema
        var attrs = asn1.result["attributes"];

        for(var i = 0; i < attrs.length; i++)
            this.attributes.push(new in_window.org.pkijs.simpl.ATTRIBUTE({ schema: attrs[i] }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.SubjectDirectoryAttributes.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        for(var i = 0; i < this.attributes.length; i++)
            output_array.push(this.attributes[i].toSchema());
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.SubjectDirectoryAttributes.prototype.toJSON =
    function()
    {
        var _object = {
            attributes: new Array()
        };

        for(var i = 0; i < this.attributes.length; i++)
            _object.attributes.push(this.attributes[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "PolicyMapping" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyMapping =
    function()
    {
        // #region Internal properties of the object 
        this.issuerDomainPolicy = "";
        this.subjectDomainPolicy = "";
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.PolicyMapping.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.issuerDomainPolicy = arguments[0].issuerDomainPolicy || "";
                this.subjectDomainPolicy = arguments[0].subjectDomainPolicy || "";
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyMapping.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.PolicyMapping({
                names: {
                    issuerDomainPolicy: "issuerDomainPolicy",
                    subjectDomainPolicy: "subjectDomainPolicy"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for PolicyMapping");
        // #endregion 

        // #region Get internal properties from parsed schema
        this.issuerDomainPolicy = asn1.result["issuerDomainPolicy"].value_block.toString();
        this.subjectDomainPolicy = asn1.result["subjectDomainPolicy"].value_block.toString();
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyMapping.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                new in_window.org.pkijs.asn1.OID({ value: this.issuerDomainPolicy }),
                new in_window.org.pkijs.asn1.OID({ value: this.subjectDomainPolicy })
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyMapping.prototype.toJSON =
    function()
    {
        return {
            issuerDomainPolicy: this.issuerDomainPolicy,
            subjectDomainPolicy: this.subjectDomainPolicy
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "PolicyMappings" type of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyMappings =
    function()
    {
        // #region Internal properties of the object 
        this.mappings = new Array(); // Array of "simpl.x509.PolicyMapping"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.PolicyMappings.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.mappings = arguments[0].mappings || new Array();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyMappings.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.PolicyMappings({
                names: {
                    mappings: "mappings"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for PolicyMappings");
        // #endregion 

        // #region Get internal properties from parsed schema 
        var maps = asn1.result["mappings"];

        for(var i = 0; i < maps.length; i++)
            this.mappings.push(new in_window.org.pkijs.simpl.x509.PolicyMapping({ schema: maps[i] }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyMappings.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        for(var i = 0; i < this.mappings.length; i++)
            output_array.push(this.mappings.toSchema());
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyMappings.prototype.toJSON =
    function()
    {
        var _object = {
            mappings: new Array()
        };

        for(var i = 0; i < this.mappings.length; i++)
            _object.mappings.push(this.mappings[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "GeneralSubtree" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.GeneralSubtree =
    function()
    {
        // #region Internal properties of the object 
        this.base = new in_window.org.pkijs.simpl.GENERAL_NAME();
        // OPTIONAL this.minimum // in_window.org.pkijs.asn1.INTEGER
        // OPTIONAL this.maximum // in_window.org.pkijs.asn1.INTEGER
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.GeneralSubtree.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.base = arguments[0].base || new in_window.org.pkijs.simpl.GENERAL_NAME();

                if("minimum" in arguments[0])
                    this.minimum = arguments[0].minimum;

                if("maximum" in arguments[0])
                    this.maximum = arguments[0].maximum;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.GeneralSubtree.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.GeneralSubtree({
                names: {
                    base: {
                        names: {
                            block_name: "base"
                        }
                    },
                    minimum: "minimum",
                    maximum: "maximum"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for ");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.base = new in_window.org.pkijs.simpl.GENERAL_NAME({ schema: asn1.result["base"] });

        if("minimum" in asn1.result)
        {
            if(asn1.result["minimum"].value_block.is_hex_only)
                this.minimum = asn1.result["minimum"];
            else
                this.minimum = asn1.result["minimum"].value_block.value_dec;
        }

        if("maximum" in asn1.result)
        {
            if(asn1.result["maximum"].value_block.is_hex_only)
                this.maximum = asn1.result["maximum"];
            else
                this.maximum = asn1.result["maximum"].value_block.value_dec;
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.GeneralSubtree.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(this.base.toSchema());

        if("minimum" in this)
        {
            var value_minimum = 0;

            if(this.minimum instanceof in_window.org.pkijs.asn1.INTEGER)
                value_minimum = this.minimum;
            else
                value_minimum = new in_window.org.pkijs.asn1.INTEGER({ value: this.minimum });

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: [value_minimum]
            }));
        }

        if("maximum" in this)
        {
            var value_maximum = 0;

            if(this.maximum instanceof in_window.org.pkijs.asn1.INTEGER)
                value_maximum = this.maximum;
            else
                value_maximum = new in_window.org.pkijs.asn1.INTEGER({ value: this.maximum });

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 1 // [1]
                },
                value: [value_maximum]
            }));
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.GeneralSubtree.prototype.toJSON =
    function()
    {
        var _object = {
            base: this.base.toJSON()
        };

        if("minimum" in this)
        {
            if((typeof this.minimum) === "number")
                _object.minimum = this.minimum;
            else
                _object.minimum = this.minimum.toJSON();
        }

        if("maximum" in this)
        {
            if((typeof this.maximum) === "number")
                _object.maximum = this.maximum;
            else
                _object.maximum = this.maximum.toJSON();
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "NameConstraints" type of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.NameConstraints =
    function()
    {
        // #region Internal properties of the object 
        // OPTIONAL this.permittedSubtrees - Array of "simpl.x509.GeneralSubtree"
        // OPTIONAL this.excludedSubtrees - Array of "simpl.x509.GeneralSubtree"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.NameConstraints.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                if("permittedSubtrees" in arguments[0])
                    this.permittedSubtrees = arguments[0].permittedSubtrees;

                if("excludedSubtrees" in arguments[0])
                    this.excludedSubtrees = arguments[0].excludedSubtrees;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.NameConstraints.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.NameConstraints({
                names: {
                    permittedSubtrees: "permittedSubtrees",
                    excludedSubtrees: "excludedSubtrees"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for NameConstraints");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if("permittedSubtrees" in asn1.result)
        {
            this.permittedSubtrees = new Array();
            var permited_array = asn1.result["permittedSubtrees"];

            for(var i = 0; i < permited_array.length; i++)
                this.permittedSubtrees.push(new in_window.org.pkijs.simpl.x509.GeneralSubtree({ schema: permited_array[i] }));
        }

        if("excludedSubtrees" in asn1.result)
        {
            this.excludedSubtrees = new Array();
            var excluded_array = asn1.result["excludedSubtrees"];

            for(var i = 0; i < excluded_array.length; i++)
                this.excludedSubtrees.push(new in_window.org.pkijs.simpl.x509.GeneralSubtree({ schema: excluded_array[i] }));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.NameConstraints.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        if("permittedSubtrees" in this)
        {
            var permited_array = new Array();

            for(var i = 0; i < this.permittedSubtrees.length; i++)
                permited_array.push(this.permittedSubtrees[i].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: [new in_window.org.pkijs.asn1.SEQUENCE({
                    value: permited_array
                })]
            }));
        }

        if("excludedSubtrees" in this)
        {
            var excluded_array = new Array();

            for(var i = 0; i < this.excludedSubtrees.length; i++)
                excluded_array.push(this.excludedSubtrees[i].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 1 // [1]
                },
                value: [new in_window.org.pkijs.asn1.SEQUENCE({
                    value: excluded_array
                })]
            }));
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.NameConstraints.prototype.toJSON =
    function()
    {
        var _object = {};

        if("permittedSubtrees" in this)
        {
            _object.permittedSubtrees = new Array();

            for(var i = 0; i < this.permittedSubtrees.length; i++)
                _object.permittedSubtrees.push(this.permittedSubtrees[i].toJSON());
        }

        if("excludedSubtrees" in this)
        {
            _object.excludedSubtrees = new Array();

            for(var i = 0; i < this.excludedSubtrees.length; i++)
                _object.excludedSubtrees.push(this.excludedSubtrees[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "BasicConstraints" type of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.BasicConstraints =
    function()
    {
        // #region Internal properties of the object 
        // OPTIONAL this.cA - boolean value
        // OPTIONAL this.pathLenConstraint - integer value
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.BasicConstraints.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                if("cA" in arguments[0])
                    this.cA = arguments[0].cA;

                if("pathLenConstraint" in arguments[0])
                    this.pathLenConstraint = arguments[0].pathLenConstraint;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.BasicConstraints.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.BasicConstraints({
                names: {
                    cA: "cA",
                    pathLenConstraint: "pathLenConstraint"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for BasicConstraints");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if("cA" in asn1.result)
            this.cA = asn1.result["cA"].value_block.value;

        if("pathLenConstraint" in asn1.result)
            this.pathLenConstraint = asn1.result["pathLenConstraint"].value_block.value_dec;
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.BasicConstraints.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        if("cA" in this)
            output_array.push(new in_window.org.pkijs.asn1.BOOLEAN({ value: this.cA }));

        if("pathLenConstraint" in this)
            output_array.push(new in_window.org.pkijs.asn1.INTEGER({ value: this.pathLenConstraint }));
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.BasicConstraints.prototype.toJSON =
    function()
    {
        var _object = {};

        if("cA" in this)
            _object.cA = this.cA;

        if("pathLenConstraint" in this)
            _object.pathLenConstraint = this.pathLenConstraint;

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "PolicyQualifierInfo" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyQualifierInfo =
    function()
    {
        // #region Internal properties of the object 
        this.policyQualifierId = "";
        this.qualifier = new in_window.org.pkijs.asn1.ANY();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.PolicyQualifierInfo.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.policyQualifierId = arguments[0].policyQualifierId || "";
                this.qualifier = arguments[0].qualifier || new in_window.org.pkijs.asn1.ANY();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyQualifierInfo.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.PolicyQualifierInfo({
                names: {
                    policyQualifierId: "policyQualifierId",
                    qualifier: "qualifier"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for PolicyQualifierInfo");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.policyQualifierId = asn1.result["policyQualifierId"].value_block.toString();
        this.qualifier = asn1.result["qualifier"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyQualifierInfo.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                new in_window.org.pkijs.asn1.OID({ value: this.policyQualifierId }),
                this.qualifier
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyQualifierInfo.prototype.toJSON =
    function()
    {
        return {
            policyQualifierId: this.policyQualifierId,
            qualifier: this.qualifier.toJSON()
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "PolicyInformation" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyInformation =
    function()
    {
        // #region Internal properties of the object 
        this.policyIdentifier = "";
        // OPTIONAL this.policyQualifiers = new Array(); // Array of "simpl.x509.PolicyQualifierInfo"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.PolicyInformation.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.policyIdentifier = arguments[0].policyIdentifier || "";

                if("policyQualifiers" in arguments[0])
                    this.policyQualifiers = arguments[0].policyQualifiers;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyInformation.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.PolicyInformation({
                names: {
                    policyIdentifier: "policyIdentifier",
                    policyQualifiers: "policyQualifiers"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for PolicyInformation");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.policyIdentifier = asn1.result["policyIdentifier"].value_block.toString();

        if("policyQualifiers" in asn1.result)
        {
            this.policyQualifiers = new Array();
            var qualifiers = asn1.result["policyQualifiers"];

            for(var i = 0; i < qualifiers.length; i++)
                this.policyQualifiers.push(new in_window.org.pkijs.simpl.x509.PolicyQualifierInfo({ schema: qualifiers[i] }));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyInformation.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.OID({ value: this.policyIdentifier }));

        if("policyQualifiers" in this)
        {
            var qualifiers = new Array();

            for(var i = 0; i < this.policyQualifiers.length; i++)
                qualifiers.push(this.policyQualifiers[i].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.SEQUENCE({
                value: qualifiers
            }));
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyInformation.prototype.toJSON =
    function()
    {
        var _object = {
            policyIdentifier: this.policyIdentifier
        };

        if("policyQualifiers" in this)
        {
            _object.policyQualifiers = new Array();

            for(var i = 0; i < this.policyQualifiers.length; i++)
                _object.policyQualifiers.push(this.policyQualifiers[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "CertificatePolicies" type of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.CertificatePolicies =
    function()
    {
        // #region Internal properties of the object 
        this.certificatePolicies = new Array(); // Array of "simpl.x509.PolicyInformation"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.CertificatePolicies.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.certificatePolicies = arguments[0].certificatePolicies || new Array(); // Array of "simpl.x509.PolicyInformation"
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.CertificatePolicies.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.CertificatePolicies({
                names: {
                    certificatePolicies: "certificatePolicies"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for CertificatePolicies");
        // #endregion 

        // #region Get internal properties from parsed schema
        var policies = asn1.result["certificatePolicies"];

        for(var i = 0; i < policies.length; i++)
            this.certificatePolicies.push(new in_window.org.pkijs.simpl.x509.PolicyInformation({ schema: policies[i] }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.CertificatePolicies.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        for(var i = 0; i < this.certificatePolicies.length; i++)
            output_array.push(this.certificatePolicies[i].toSchema());
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.CertificatePolicies.prototype.toJSON =
    function()
    {
        var _object = {
            certificatePolicies: new Array()
        };

        for(var i = 0; i < this.certificatePolicies.length; i++)
            _object.certificatePolicies.push(this.certificatePolicies[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "PolicyConstraints" type of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyConstraints =
    function()
    {
        // #region Internal properties of the object 
        // OPTIONAL this.requireExplicitPolicy = 0;
        // OPTIONAL this.inhibitPolicyMapping = 0;
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.PolicyConstraints.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.requireExplicitPolicy = arguments[0].requireExplicitPolicy || 0;
                this.inhibitPolicyMapping = arguments[0].inhibitPolicyMapping || 0;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyConstraints.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.PolicyConstraints({
                names: {
                    requireExplicitPolicy: "requireExplicitPolicy",
                    inhibitPolicyMapping: "inhibitPolicyMapping"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for PolicyConstraints");
        // #endregion 

        // #region Get internal properties from parsed schema
        if("requireExplicitPolicy" in asn1.result)
        {
            var field1 = asn1.result["requireExplicitPolicy"];

            field1.id_block.tag_class = 1; // UNIVERSAL
            field1.id_block.tag_number = 2; // INTEGER

            var ber1 = field1.toBER(false);
            var int1 = in_window.org.pkijs.fromBER(ber1);

            this.requireExplicitPolicy = int1.result.value_block.value_dec;
        }

        if("inhibitPolicyMapping" in asn1.result)
        {
            var field2 = asn1.result["inhibitPolicyMapping"];

            field2.id_block.tag_class = 1; // UNIVERSAL
            field2.id_block.tag_number = 2; // INTEGER

            var ber2 = field2.toBER(false);
            var int2 = in_window.org.pkijs.fromBER(ber2);

            this.inhibitPolicyMapping = int2.result.value_block.value_dec;
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyConstraints.prototype.toSchema =
    function()
    {
        // #region Create correct values for output sequence 
        var output_array = new Array();

        if("requireExplicitPolicy" in this)
        {
            var int1 = new in_window.org.pkijs.asn1.INTEGER({ value: this.requireExplicitPolicy });

            int1.id_block.tag_class = 3; // CONTEXT-SPECIFIC
            int1.id_block.tag_number = 0; // [0]

            output_array.push(int1);
        }

        if("inhibitPolicyMapping" in this)
        {
            var int2 = new in_window.org.pkijs.asn1.INTEGER({ value: this.inhibitPolicyMapping });

            int1.id_block.tag_class = 3; // CONTEXT-SPECIFIC
            int1.id_block.tag_number = 1; // [1]

            output_array.push(int2);
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.PolicyConstraints.prototype.toJSON =
    function()
    {
        var _object = {};

        if("requireExplicitPolicy" in this)
            _object.requireExplicitPolicy = this.requireExplicitPolicy;

        if("inhibitPolicyMapping" in this)
            _object.inhibitPolicyMapping = this.inhibitPolicyMapping;

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "ExtKeyUsage" type of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.ExtKeyUsage =
    function()
    {
        // #region Internal properties of the object 
        this.keyPurposes = new Array(); // Array of strings (OIDs value for key purposes)
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.ExtKeyUsage.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.keyPurposes = arguments[0].keyPurposes || new Array(); // Array of strings (OIDs value for key purposes)
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.ExtKeyUsage.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.ExtKeyUsage({
                names: {
                    keyPurposes: "keyPurposes"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for ExtKeyUsage");
        // #endregion 

        // #region Get internal properties from parsed schema 
        var purposes = asn1.result["keyPurposes"];

        for(var i = 0; i < purposes.length; i++)
            this.keyPurposes.push(purposes[i].value_block.toString());
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.ExtKeyUsage.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        for(var i = 0; i < this.keyPurposes.length; i++)
            output_array.push(new in_window.org.pkijs.asn1.OID({ value: this.keyPurposes[i] }));
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.ExtKeyUsage.prototype.toJSON =
    function()
    {
        var _object = {
            keyPurposes: new Array()
        };

        for(var i = 0; i < this.keyPurposes.length; i++)
            _object.keyPurposes.push(this.keyPurposes[i]);

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "DistributionPoint" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.DistributionPoint =
    function()
    {
        // #region Internal properties of the object 
        // OPTIONAL this.distributionPoint // Array of "simpl.GENERAL_NAME" or a value of "simpl.RDN" type
        // OPTIONAL this.reasons // BITSTRING value
        // OPTIONAL this.cRLIssuer // Array of "simpl.GENERAL_NAME"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.DistributionPoint.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                if("distributionPoint" in arguments[0])
                    this.distributionPoint = arguments[0].distributionPoint;

                if("reasons" in arguments[0])
                    this.reasons = arguments[0].reasons;

                if("cRLIssuer" in arguments[0])
                    this.cRLIssuer = arguments[0].cRLIssuer;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.DistributionPoint.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.DistributionPoint({
                names: {
                    distributionPoint: "distributionPoint",
                    distributionPoint_names: "distributionPoint_names",
                    reasons: "reasons",
                    cRLIssuer: "cRLIssuer",
                    cRLIssuer_names: "cRLIssuer_names"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for DistributionPoint");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if("distributionPoint" in asn1.result)
        {
            if(asn1.result["distributionPoint"].id_block.tag_number == 0) // GENERAL_NAMES variant
            {
                this.distributionPoint = new Array();
                var names = asn1.result["distributionPoint_names"];

                for(var i = 0; i < names.length; i++)
                    this.distributionPoint.push(new in_window.org.pkijs.simpl.GENERAL_NAME({ schema: names[i] }));
            }

            if(asn1.result["distributionPoint"].id_block.tag_number == 1) // RDN variant
            {
                asn1.result["distributionPoint"].id_block.tag_class = 1; // UNIVERSAL
                asn1.result["distributionPoint"].id_block.tag_number = 16; // SEQUENCE

                this.distributionPoint = new in_window.org.pkijs.simpl.RDN({ schema: asn1.result["distributionPoint"] });
            }
        }

        if("reasons" in asn1.result)
            this.reasons = new in_window.org.pkijs.asn1.BITSTRING({ value_hex: asn1.result["reasons"].value_block.value_hex });

        if("cRLIssuer" in asn1.result)
        {
            this.cRLIssuer = new Array();
            var crl_names = asn1.result["cRLIssuer_names"];

            for(var i = 0; i < crl_names; i++)
                this.cRLIssuer.push(new in_window.org.pkijs.simpl.GENERAL_NAME({ schema: crl_names[i] }));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.DistributionPoint.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        if("distributionPoint" in this)
        {
            var internalValue;

            if(this.distributionPoint instanceof Array)
            {
                var namesArray = new Array();

                for(var i = 0; i < this.distributionPoint.length; i++)
                    namesArray.push(this.distributionPoint[i].toSchema());

                internalValue = new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: namesArray
                });
            }
            else
            {
                internalValue = new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    value: [this.distributionPoint.toSchema()]
                });
            }

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: [internalValue]
            }));
        }

        if("reasons" in this)
        {
            output_array.push(new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 1 // [1]
                },
                value_hex: this.reasons.value_block.value_hex
            }));
        }

        if("cRLIssuer" in this)
        {
            var value = new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                name: (names.cRLIssuer || ""),
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 2 // [2]
                }
            });

            for(var i = 0; i < this.cRLIssuer.length; i++)
                value.value_block.value.push(this.cRLIssuer[i].toSchema());

            output_array.push(value);
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.DistributionPoint.prototype.toJSON =
    function()
    {
        var _object = {};

        if("distributionPoint" in this)
        {
            if(this.distributionPoint instanceof Array)
            {
                _object.distributionPoint = new Array();

                for(var i = 0; i < this.distributionPoint.length; i++)
                    _object.distributionPoint.push(this.distributionPoint[i].toJSON());
            }
            else
                _object.distributionPoint = this.distributionPoint.toJSON();
        }

        if("reasons" in this)
            _object.reasons = this.reasons.toJSON();

        if("cRLIssuer" in this)
        {
            _object.cRLIssuer = new Array();

            for(var i = 0; i < this.cRLIssuer.length; i++)
                _object.cRLIssuer.push(this.cRLIssuer[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "CRLDistributionPoints" type of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.CRLDistributionPoints =
    function()
    {
        // #region Internal properties of the object 
        this.distributionPoints = new Array(); // Array of "simpl.x509.DistributionPoint"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.CRLDistributionPoints.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.distributionPoints = arguments[0].distributionPoints || new Array(); // Array of "simpl.x509.DistributionPoint"
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.CRLDistributionPoints.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.CRLDistributionPoints({
                names: {
                    distributionPoints: "distributionPoints"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for CRLDistributionPoints");
        // #endregion 

        // #region Get internal properties from parsed schema 
        var points = asn1.result["distributionPoints"];

        for(var i = 0; i < points.length; i++)
            this.distributionPoints.push(new in_window.org.pkijs.simpl.x509.DistributionPoint({ schema: points[i] }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.CRLDistributionPoints.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        for(var i = 0; i < this.distributionPoints.length; i++)
            output_array.push(this.distributionPoints[i].toSchema());
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.CRLDistributionPoints.prototype.toJSON =
    function()
    {
        var _object = {
            distributionPoints: new Array()
        };

        for(var i = 0; i < this.distributionPoints.length; i++)
            _object.distributionPoints.push(this.distributionPoints[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "AccessDescription" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AccessDescription =
    function()
    {
        // #region Internal properties of the object 
        this.accessMethod = "";
        this.accessLocation = new in_window.org.pkijs.simpl.GENERAL_NAME();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.AccessDescription.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.accessMethod = arguments[0].accessMethod || "";
                this.accessLocation = arguments[0].accessLocation || new in_window.org.pkijs.simpl.GENERAL_NAME();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AccessDescription.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.AccessDescription({
                names: {
                    accessMethod: "accessMethod",
                    accessLocation: {
                        names: {
                            block_name: "accessLocation"
                        }
                    }
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for AccessDescription");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.accessMethod = asn1.result["accessMethod"].value_block.toString();
        this.accessLocation = new in_window.org.pkijs.simpl.GENERAL_NAME({ schema: asn1.result["accessLocation"] });
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AccessDescription.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                new in_window.org.pkijs.asn1.OID({ value: this.accessMethod }),
                this.accessLocation.toSchema()
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.AccessDescription.prototype.toJSON =
    function()
    {
        return {
            accessMethod: this.accessMethod,
            accessLocation: this.accessLocation.toJSON()
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "AuthorityInfoAccess" and "SubjectInfoAccess" types of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.InfoAccess =
    function()
    {
        // #region Internal properties of the object 
        this.accessDescriptions = new Array(); // Array of "simpl.x509.AccessDescription"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.InfoAccess.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.accessDescriptions = arguments[0].accessDescriptions || new Array(); // Array of "simpl.x509.DistributionPoint"
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.InfoAccess.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.InfoAccess({
                names: {
                    accessDescriptions: "accessDescriptions"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for InfoAccess");
        // #endregion 

        // #region Get internal properties from parsed schema 
        var descriptions = asn1.result["accessDescriptions"];

        for(var i = 0; i < descriptions.length; i++)
            this.accessDescriptions.push(new in_window.org.pkijs.simpl.x509.AccessDescription({ schema: descriptions[i] }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.InfoAccess.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        for(var i = 0; i < this.accessDescriptions.length; i++)
            output_array.push(this.accessDescriptions[i].toSchema());
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.InfoAccess.prototype.toJSON =
    function()
    {
        var _object = {
            accessDescriptions: new Array()
        };

        for(var i = 0; i < this.accessDescriptions.length; i++)
            _object.accessDescriptions.push(this.accessDescriptions[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "IssuingDistributionPoint" type of extension
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.IssuingDistributionPoint =
    function()
    {
        // #region Internal properties of the object 
        // OPTIONAL this.distributionPoint // Array of "simpl.GENERAL_NAME" or a value of "simpl.RDN" type
        // OPTIONAL this.onlyContainsUserCerts // BOOLEAN flag
        // OPTIONAL this.onlyContainsCACerts // BOOLEAN flag
        // OPTIONAL this.onlySomeReasons // BITSTRING
        // OPTIONAL this.indirectCRL // BOOLEAN flag
        // OPTIONAL this.onlyContainsAttributeCerts // BOOLEAN flag
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.IssuingDistributionPoint.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                if("distributionPoint" in arguments[0])
                    this.distributionPoint = arguments[0].distributionPoint;

                if("onlyContainsUserCerts" in arguments[0])
                    this.onlyContainsUserCerts = arguments[0].onlyContainsUserCerts;

                if("onlyContainsCACerts" in arguments[0])
                    this.onlyContainsCACerts = arguments[0].onlyContainsCACerts;

                if("onlySomeReasons" in arguments[0])
                    this.onlySomeReasons = arguments[0].onlySomeReasons;

                if("indirectCRL" in arguments[0])
                    this.indirectCRL = arguments[0].indirectCRL;

                if("onlyContainsAttributeCerts" in arguments[0])
                    this.onlyContainsAttributeCerts = arguments[0].onlyContainsAttributeCerts;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.IssuingDistributionPoint.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.IssuingDistributionPoint({
                names: {
                    distributionPoint: "distributionPoint",
                    onlyContainsUserCerts: "onlyContainsUserCerts",
                    onlyContainsCACerts: "onlyContainsCACerts",
                    onlySomeReasons: "onlySomeReasons",
                    indirectCRL: "indirectCRL",
                    onlyContainsAttributeCerts: "onlyContainsAttributeCerts"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for IssuingDistributionPoint");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if("distributionPoint" in asn1.result)
        {
            if(asn1.result["distributionPoint"].id_block.tag_number == 0) // GENERAL_NAMES variant
            {
                this.distributionPoint = new Array();
                var names = asn1.result["distributionPoint_names"];

                for(var i = 0; i < names.length; i++)
                    this.distributionPoint.push(new in_window.org.pkijs.simpl.GENERAL_NAME({ schema: names[i] }));
            }

            if(asn1.result["distributionPoint"].id_block.tag_number == 1) // RDN variant
            {
                asn1.result["distributionPoint"].id_block.tag_class = 1; // UNIVERSAL
                asn1.result["distributionPoint"].id_block.tag_number = 16; // SEQUENCE

                this.distributionPoint = new in_window.org.pkijs.simpl.RDN({ schema: asn1.result["distributionPoint"] });
            }
        }

        if("onlyContainsUserCerts" in asn1.result)
        {
            var view = new Uint8Array(asn1.result["onlyContainsUserCerts"].value_block.value_hex);
            this.onlyContainsUserCerts = (view[0] === 0x00) ? false : true;
        }

        if("onlyContainsCACerts" in asn1.result)
        {
            var view = new Uint8Array(asn1.result["onlyContainsCACerts"].value_block.value_hex);
            this.onlyContainsCACerts = (view[0] === 0x00) ? false : true;
        }

        if("onlySomeReasons" in asn1.result)
        {
            var view = new Uint8Array(asn1.result["onlySomeReasons"].value_block.value_hex);
            this.onlySomeReasons = view[0];
        }

        if("indirectCRL" in asn1.result)
        {
            var view = new Uint8Array(asn1.result["indirectCRL"].value_block.value_hex);
            this.indirectCRL = (view[0] === 0x00) ? false : true;
        }

        if("onlyContainsAttributeCerts" in asn1.result)
        {
            var view = new Uint8Array(asn1.result["onlyContainsAttributeCerts"].value_block.value_hex);
            this.onlyContainsAttributeCerts = (view[0] === 0x00) ? false : true;
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.IssuingDistributionPoint.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        if("distributionPoint" in this)
        {
            var value;

            if(this.distributionPoint instanceof Array)
            {
                value = new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    }
                });

                for(var i = 0; i < this.distributionPoint.length; i++)
                    value.value_block.value.push(this.distributionPoint[i].toSchema());
            }
            else
            {
                value = this.distributionPoint.toSchema();

                value.id_block.tag_class = 3; // CONTEXT - SPECIFIC
                value.id_block.tag_number = 1; // [1]
            }

            output_array.push(value);
        }

        if("onlyContainsUserCerts" in this)
        {
            var buffer = new ArrayBuffer(1);
            var view = new Uint8Array(buffer);

            view[0] = (this.onlyContainsUserCerts === false) ? 0x00 : 0xFF;

            output_array.push(new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                name: (names.onlyContainsUserCerts || ""),
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 1 // [1]
                },
                value_hex: buffer
            }));
        }

        if("onlyContainsCACerts" in this)
        {
            var buffer = new ArrayBuffer(1);
            var view = new Uint8Array(buffer);

            view[0] = (this.onlyContainsCACerts === false) ? 0x00 : 0xFF;

            output_array.push(new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                name: (names.onlyContainsUserCerts || ""),
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 2 // [2]
                },
                value_hex: buffer
            }));
        }

        if("onlySomeReasons" in this)
        {
            var buffer = new ArrayBuffer(1);
            var view = new Uint8Array(buffer);

            view[0] = this.onlySomeReasons;

            output_array.push(new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                name: (names.onlyContainsUserCerts || ""),
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 3 // [3]
                },
                value_hex: buffer
            }));
        }

        if("indirectCRL" in this)
        {
            var buffer = new ArrayBuffer(1);
            var view = new Uint8Array(buffer);

            view[0] = (this.indirectCRL === false) ? 0x00 : 0xFF;

            output_array.push(new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                name: (names.onlyContainsUserCerts || ""),
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 4 // [4]
                },
                value_hex: buffer
            }));
        }

        if("onlyContainsAttributeCerts" in this)
        {
            var buffer = new ArrayBuffer(1);
            var view = new Uint8Array(buffer);

            view[0] = (this.onlyContainsAttributeCerts === false) ? 0x00 : 0xFF;

            output_array.push(new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                name: (names.onlyContainsUserCerts || ""),
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 5 // [5]
                },
                value_hex: buffer
            }));
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.IssuingDistributionPoint.prototype.toJSON =
    function()
    {
        var _object = {};

        if("distributionPoint" in this)
        {
            if(this.distributionPoint instanceof Array)
            {
                _object.distributionPoint = new Array();

                for(var i = 0; i < this.distributionPoint.length; i++)
                    _object.distributionPoint.push(this.distributionPoint[i].toJSON());
            }
            else
                _object.distributionPoint = this.distributionPoint.toJSON();
        }

        if("onlyContainsUserCerts" in this)
            _object.onlyContainsUserCerts = this.onlyContainsUserCerts;

        if("onlyContainsCACerts" in this)
            _object.onlyContainsCACerts = this.onlyContainsCACerts;

        if("onlySomeReasons" in this)
            _object.onlySomeReasons = this.onlySomeReasons.toJSON();

        if("indirectCRL" in this)
            _object.indirectCRL = this.indirectCRL;

        if("onlyContainsAttributeCerts" in this)
            _object.onlyContainsAttributeCerts = this.onlyContainsAttributeCerts;

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "Extension" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.EXTENSION =
    function()
    {
        // #region Internal properties of the object 
        this.extnID = "";
        this.critical = false;
        this.extnValue = new in_window.org.pkijs.asn1.OCTETSTRING();

        // OPTIONAL this.parsedValue - Parsed "extnValue" in case of well-known "extnID"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.EXTENSION.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.extnID = (arguments[0].extnID || "");
                this.critical = (arguments[0].critical || false);
                if("extnValue" in arguments[0])
                    this.extnValue = new in_window.org.pkijs.asn1.OCTETSTRING({ value_hex: arguments[0].extnValue });
                else
                    this.extnValue = new in_window.org.pkijs.asn1.OCTETSTRING();

                if("parsedValue" in arguments[0])
                    this.parsedValue = arguments[0].parsedValue;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.EXTENSION.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.EXTENSION({
                names: {
                    extnID: "extnID",
                    critical: "critical",
                    extnValue: "extnValue"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for EXTENSION");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.extnID = asn1.result.extnID.value_block.toString();
        if("critical" in asn1.result)
            this.critical = asn1.result.critical.value_block.value;
        this.extnValue = asn1.result.extnValue;

        // #region Get "parsedValue" for well-known extensions 
        var asn1 = in_window.org.pkijs.fromBER(this.extnValue.value_block.value_hex);
        if(asn1.offset === (-1))
            return;

        switch(this.extnID)
        {
            case "2.5.29.9": // SubjectDirectoryAttributes
                this.parsedValue = new in_window.org.pkijs.simpl.x509.SubjectDirectoryAttributes({ schema: asn1.result });
                break;
            case "2.5.29.14": // SubjectKeyIdentifier
                this.parsedValue = asn1.result; // Should be just a simple OCTETSTRING
                break;
            case "2.5.29.15": // KeyUsage
                this.parsedValue = asn1.result; // Should be just a simple BITSTRING
                break;
            case "2.5.29.16": // PrivateKeyUsagePeriod
                this.parsedValue = new in_window.org.pkijs.simpl.x509.PrivateKeyUsagePeriod({ schema: asn1.result });
                break;
            case "2.5.29.17": // SubjectAltName
            case "2.5.29.18": // IssuerAltName
                this.parsedValue = new in_window.org.pkijs.simpl.x509.AltName({ schema: asn1.result });
                break;
            case "2.5.29.19": // BasicConstraints
                this.parsedValue = new in_window.org.pkijs.simpl.x509.BasicConstraints({ schema: asn1.result });
                break;
            case "2.5.29.20": // CRLNumber
            case "2.5.29.27": // BaseCRLNumber (delta CRL indicator)
                this.parsedValue = asn1.result; // Should be just a simple INTEGER
                break;
            case "2.5.29.21": // CRLReason
                this.parsedValue = asn1.result; // Should be just a simple ENUMERATED
                break;
            case "2.5.29.24": // InvalidityDate
                this.parsedValue = asn1.result; // Should be just a simple GeneralizedTime
                break;
            case "2.5.29.28": // IssuingDistributionPoint
                this.parsedValue = new in_window.org.pkijs.simpl.x509.IssuingDistributionPoint({ schema: asn1.result });
                break;
            case "2.5.29.29": // CertificateIssuer
                this.parsedValue = new in_window.org.pkijs.simpl.GENERAL_NAMES({ schema: asn1.result }); // Should be just a simple 
                break;
            case "2.5.29.30": // NameConstraints
                this.parsedValue = new in_window.org.pkijs.simpl.x509.NameConstraints({ schema: asn1.result });
                break;
            case "2.5.29.31": // CRLDistributionPoints
            case "2.5.29.46": // FreshestCRL
                this.parsedValue = new in_window.org.pkijs.simpl.x509.CRLDistributionPoints({ schema: asn1.result });
                break;
            case "2.5.29.32": // CertificatePolicies
                this.parsedValue = new in_window.org.pkijs.simpl.x509.CertificatePolicies({ schema: asn1.result });
                break;
            case "2.5.29.33": // PolicyMappings
                this.parsedValue = new in_window.org.pkijs.simpl.x509.PolicyMappings({ schema: asn1.result });
                break;
            case "2.5.29.35": // AuthorityKeyIdentifier
                this.parsedValue = new in_window.org.pkijs.simpl.x509.AuthorityKeyIdentifier({ schema: asn1.result });
                break;
            case "2.5.29.36": // PolicyConstraints
                this.parsedValue = new in_window.org.pkijs.simpl.x509.PolicyConstraints({ schema: asn1.result });
                break;
            case "2.5.29.37": // ExtKeyUsage
                this.parsedValue = new in_window.org.pkijs.simpl.x509.ExtKeyUsage({ schema: asn1.result });
                break;
            case "2.5.29.54": // InhibitAnyPolicy
                this.parsedValue = asn1.result; // Should be just a simple INTEGER
                break;
            case "1.3.6.1.5.5.7.1.1": // AuthorityInfoAccess
            case "1.3.6.1.5.5.7.1.11": // SubjectInfoAccess
                this.parsedValue = new in_window.org.pkijs.simpl.x509.InfoAccess({ schema: asn1.result });
                break;
            default:;
        }
        // #endregion 
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.EXTENSION.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.OID({ value: this.extnID }));

        if(this.critical)
            output_array.push(new in_window.org.pkijs.asn1.BOOLEAN({ value: this.critical }));

        output_array.push(this.extnValue);
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.EXTENSION.prototype.toJSON =
    function()
    {
        var _object = {
            extnID: this.extnID,
            critical: this.critical,
            extnValue: this.extnValue.toJSON()
        };

        if("parsedValue" in this)
            _object.parsedValue = this.parsedValue.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "Extensions" type (sequence of many Extension)
    //**************************************************************************************
    in_window.org.pkijs.simpl.EXTENSIONS =
    function()
    {
        // #region Internal properties of the object 
        this.extensions_array = new Array();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.EXTENSIONS.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
                this.extensions_array = (arguments[0].extensions_array || (new Array()));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.EXTENSIONS.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.EXTENSIONS({
                names: {
                    extensions: "extensions"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for EXTENSIONS");
        // #endregion 

        // #region Get internal properties from parsed schema 
        for(var i = 0; i < asn1.result.extensions.length; i++)
            this.extensions_array.push(new in_window.org.pkijs.simpl.EXTENSION({ schema: asn1.result.extensions[i] }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.EXTENSIONS.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        var extension_schemas = new Array();

        for(var i = 0; i < this.extensions_array.length; i++)
            extension_schemas.push(this.extensions_array[i].toSchema());

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: extension_schemas
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.EXTENSIONS.prototype.toJSON =
    function()
    {
        var _object = {
            extensions_array: new Array()
        };

        for(var i = 0; i < this.extensions_array.length; i++)
            _object.extensions_array.push(this.extensions_array[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for X.509 v3 certificate (RFC5280)
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT =
    function()
    {
        // #region Internal properties of the object 
        // #region Properties from certificate TBS part 
        this.tbs = new ArrayBuffer(0); // Encoded value of certificate TBS (need to have it for certificate validation)

        // OPTIONAL this.version = 0;
        this.serialNumber = new in_window.org.pkijs.asn1.INTEGER(); // Might be a very long integer value
        this.signature = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER(); // Signature algorithm from certificate TBS part
        this.issuer = new in_window.org.pkijs.simpl.RDN();
        this.notBefore = new in_window.org.pkijs.simpl.TIME();
        this.notAfter = new in_window.org.pkijs.simpl.TIME();
        this.subject = new in_window.org.pkijs.simpl.RDN();
        this.subjectPublicKeyInfo = new in_window.org.pkijs.simpl.PUBLIC_KEY_INFO();
        // OPTIONAL this.issuerUniqueID = new ArrayBuffer(0); // IMPLICIT bistring value
        // OPTIONAL this.subjectUniqueID = new ArrayBuffer(0); // IMPLICIT bistring value
        // OPTIONAL this.extensions = new Array(); // Array of "simpl.EXTENSION"
        // #endregion 

        // #region Properties from certificate major part 
        this.signatureAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER(); // Signature algorithm from certificate major part
        this.signatureValue = new in_window.org.pkijs.asn1.BITSTRING();
        // #endregion 
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.CERT.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                // #region Properties from certificate TBS part 
                this.tbs = arguments[0].tbs || new ArrayBuffer(0);

                if("version" in arguments[0])
                    this.version = arguments[0].version;
                this.serialNumber = arguments[0].serialNumber || new in_window.org.pkijs.asn1.INTEGER(); // Might be a very long integer value
                this.signature = arguments[0].signature || new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER(); // Signature algorithm from certificate TBS part
                this.issuer = arguments[0].issuer || new in_window.org.pkijs.simpl.RDN();
                this.notBefore = arguments[0].not_before || new in_window.org.pkijs.simpl.TIME();
                this.notAfter = arguments[0].not_after || new in_window.org.pkijs.simpl.TIME();
                this.subject = arguments[0].subject || new in_window.org.pkijs.simpl.RDN();
                this.subjectPublicKeyInfo = arguments[0].subjectPublicKeyInfo || new in_window.org.pkijs.simpl.PUBLIC_KEY_INFO();
                if("issuerUniqueID" in arguments[0])
                    this.issuerUniqueID = arguments[0].issuerUniqueID;
                if("subjectUniqueID" in arguments[0])
                    this.subjectUniqueID = arguments[0].subjectUniqueID;
                if("extensions" in arguments[0])
                    this.extensions = arguments[0].extensions;
                // #endregion 

                // #region Properties from certificate major part 
                this.signatureAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER(); // Signature algorithm from certificate major part
                this.signatureValue = new in_window.org.pkijs.asn1.BITSTRING();
                // #endregion 
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.CERT({
                names: {
                    tbsCertificate: {
                        names: {
                            extensions: {
                                names: {
                                    extensions: "tbsCertificate.extensions"
                                }
                            }
                        }
                    }
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for CERT");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.tbs = asn1.result["tbsCertificate"].value_before_decode;

        if("tbsCertificate.version" in asn1.result)
            this.version = asn1.result["tbsCertificate.version"].value_block.value_dec;
        this.serialNumber = asn1.result["tbsCertificate.serialNumber"];
        this.signature = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["tbsCertificate.signature"] });
        this.issuer = new in_window.org.pkijs.simpl.RDN({ schema: asn1.result["tbsCertificate.issuer"] });
        this.notBefore = new in_window.org.pkijs.simpl.TIME({ schema: asn1.result["tbsCertificate.notBefore"] });
        this.notAfter = new in_window.org.pkijs.simpl.TIME({ schema: asn1.result["tbsCertificate.notAfter"] });
        this.subject = new in_window.org.pkijs.simpl.RDN({ schema: asn1.result["tbsCertificate.subject"] });
        this.subjectPublicKeyInfo = new in_window.org.pkijs.simpl.PUBLIC_KEY_INFO({ schema: asn1.result["tbsCertificate.subjectPublicKeyInfo"] });
        if("tbsCertificate.issuerUniqueID" in asn1.result)
            this.issuerUniqueID = asn1.result["tbsCertificate.issuerUniqueID"].value_block.value_hex;
        if("tbsCertificate.subjectUniqueID" in asn1.result)
            this.issuerUniqueID = asn1.result["tbsCertificate.subjectUniqueID"].value_block.value_hex;
        if("tbsCertificate.extensions" in asn1.result)
        {
            this.extensions = new Array();

            var extensions = asn1.result["tbsCertificate.extensions"];

            for(var i = 0; i < extensions.length; i++)
                this.extensions.push(new in_window.org.pkijs.simpl.EXTENSION({ schema: extensions[i] }));
        }

        this.signatureAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["signatureAlgorithm"] });
        this.signatureValue = asn1.result["signatureValue"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT.prototype.encodeTBS =
    function()
    {
        /// <summary>Create ASN.1 schema for existing values of TBS part for the certificate</summary>

        // #region Create array for output sequence 
        var output_array = new Array();

        if("version" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: [
                    new in_window.org.pkijs.asn1.INTEGER({ value: this.version }) // EXPLICIT integer value
                ]
            }));

        output_array.push(this.serialNumber);
        output_array.push(this.signature.toSchema());
        output_array.push(this.issuer.toSchema());

        output_array.push(new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                this.notBefore.toSchema(),
                this.notAfter.toSchema()
            ]
        }));

        output_array.push(this.subject.toSchema());
        output_array.push(this.subjectPublicKeyInfo.toSchema());

        if("issuerUniqueID" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 1 // [1]
                },
                value_hex: this.issuerUniqueID
            }));
        if("subjectUniqueID" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 2 // [2]
                },
                value_hex: this.subjectUniqueID
            }));

        if("subjectUniqueID" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 3 // [3]
                },
                value: [this.extensions.toSchema()]
            }));

        if("extensions" in this)
        {
            var extensions = new Array();

            for(var i = 0; i < this.extensions.length; i++)
                extensions.push(this.extensions[i].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 3 // [3]
                },
                value: [new in_window.org.pkijs.asn1.SEQUENCE({
                    value: extensions
                })]
            }));
        }
        // #endregion 

        // #region Create and return output sequence 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT.prototype.toSchema =
    function(encodeFlag)
    {
        /// <param name="encodeFlag" type="Boolean">If param equal to false then create TBS schema via decoding stored value. In othe case create TBS schema via assembling from TBS parts.</param>

        if(typeof encodeFlag === "undefined")
            encodeFlag = false;

        var tbs_schema = {};

        // #region Decode stored TBS value 
        if(encodeFlag === false)
        {
            if(this.tbs.length === 0) // No stored certificate TBS part
                return in_window.org.pkijs.schema.CERT().value[0];

            var tbs_asn1 = in_window.org.pkijs.fromBER(this.tbs);

            tbs_schema = tbs_asn1.result;
        }
        // #endregion 
        // #region Create TBS schema via assembling from TBS parts 
        else
            tbs_schema = in_window.org.pkijs.simpl.CERT.prototype.encodeTBS.call(this);
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                tbs_schema,
                this.signatureAlgorithm.toSchema(),
                this.signatureValue
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT.prototype.verify =
    function()
    {
        /// <summary>!!! Works well in Chrome dev versions only (April 2014th) !!!</summary>
        /// <returns type="Promise">Returns a new Promise object (in case of error), or a result of "crypto.subtle.veryfy" function</returns>

        // #region Global variables 
        var sequence = Promise.resolve();

        var subjectPublicKeyInfo = {};

        var signature = this.signatureValue;
        var tbs = this.tbs;

        var _this = this;
        // #endregion 

        // #region Set correct "subjectPublicKeyInfo" value 
        if(this.issuer.isEqual(this.subject)) // Self-signed certificate
            subjectPublicKeyInfo = this.subjectPublicKeyInfo;
        else
        {
            if(arguments[0] instanceof Object)
            {
                if("issuerCertificate" in arguments[0]) // Must be of type "simpl.CERT"
                    subjectPublicKeyInfo = arguments[0].issuerCertificate.subjectPublicKeyInfo;
            }

            if((subjectPublicKeyInfo instanceof in_window.org.pkijs.simpl.PUBLIC_KEY_INFO) === false)
                return new Promise(function(resolve, reject) { reject("Please provide issuer certificate as a parameter"); });
        }
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Find signer's hashing algorithm 
        var sha_algorithm = in_window.org.pkijs.getHashAlgorithm(this.signatureAlgorithm);
        if(sha_algorithm === "")
            return new Promise(function(resolve, reject) { reject("Unsupported signature algorithm: " + _this.signatureAlgorithm.algorithm_id); });
        // #endregion 

        // #region Importing public key 
        sequence = sequence.then(
            function()
            {
                // #region Get information about public key algorithm and default parameters for import
                var algorithmObject = in_window.org.pkijs.getAlgorithmByOID(_this.signatureAlgorithm.algorithm_id);
                if(("name" in algorithmObject) === false)
                    return new Promise(function(resolve, reject) { reject("Unsupported public key algorithm: " + _this.signatureAlgorithm.algorithm_id); });

                var algorithm_name = algorithmObject.name;

                var algorithm = in_window.org.pkijs.getAlgorithmParameters(algorithm_name, "importkey");
                if("hash" in algorithm.algorithm)
                    algorithm.algorithm.hash.name = sha_algorithm;
                // #endregion 

                var publicKeyInfo_schema = subjectPublicKeyInfo.toSchema();
                var publicKeyInfo_buffer = publicKeyInfo_schema.toBER(false);
                var publicKeyInfo_view = new Uint8Array(publicKeyInfo_buffer);

                return crypto.importKey("spki", publicKeyInfo_view, algorithm.algorithm, true, algorithm.usages);
            }
            );
        // #endregion 

        // #region Verify signature for the certificate 
        sequence = sequence.then(
            function(publicKey)
            {
                // #region Get default algorithm parameters for verification 
                var algorithm = in_window.org.pkijs.getAlgorithmParameters(publicKey.algorithm.name, "verify");
                if("hash" in algorithm.algorithm)
                    algorithm.algorithm.hash.name = sha_algorithm;
                // #endregion 

                // #region Special case for ECDSA signatures 
                var signature_value = signature.value_block.value_hex;

                if(publicKey.algorithm.name === "ECDSA")
                {
                    var asn1 = in_window.org.pkijs.fromBER(signature_value);
                    signature_value = in_window.org.pkijs.createECDSASignatureFromCMS(asn1.result);
                }
                // #endregion 

                // #region Special case for RSA-PSS 
                if(publicKey.algorithm.name === "RSA-PSS")
                {
                    var pssParameters;

                    try
                    {
                        pssParameters = new in_window.org.pkijs.simpl.x509.RSASSA_PSS_params({ schema: _this.signatureAlgorithm.algorithm_params });
                    }
                    catch(ex)
                    {
                        return new Promise(function(resolve, reject) { reject(ex); });
                    }

                    if("saltLength" in pssParameters)
                        algorithm.algorithm.saltLength = pssParameters.saltLength;
                    else
                        algorithm.algorithm.saltLength = 20;

                    var hash_algo = "SHA-1";

                    if("hashAlgorithm" in pssParameters)
                    {
                        var hashAlgorithm = in_window.org.pkijs.getAlgorithmByOID(pssParameters.hashAlgorithm.algorithm_id);
                        if(("name" in hashAlgorithm) === false)
                            return new Promise(function(resolve, reject) { reject("Unrecognized hash algorithm: " + pssParameters.hashAlgorithm.algorithm_id); });

                        hash_algo = hashAlgorithm.name;
                    }

                    algorithm.algorithm.hash.name = hash_algo;
                }
                // #endregion 

                return crypto.verify(algorithm.algorithm,
                    publicKey,
                    new Uint8Array(signature_value),
                    new Uint8Array(tbs));
            }
            );
        // #endregion 

        return sequence;
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT.prototype.sign =
    function(privateKey, hashAlgorithm)
    {
        /// <param name="privateKey" type="CryptoKey">Private key for "subjectPublicKeyInfo" structure</param>
        /// <param name="hashAlgorithm" type="String" optional="true">Hashing algorithm. Default SHA-1</param>

        // #region Initial variables 
        var _this = this;
        // #endregion 

        // #region Get a private key from function parameter 
        if(typeof privateKey === "undefined")
            return new Promise(function(resolve, reject) { reject("Need to provide a private key for signing"); });
        // #endregion 

        // #region Get hashing algorithm 
        if(typeof hashAlgorithm === "undefined")
            hashAlgorithm = "SHA-1";
        else
        {
            // #region Simple check for supported algorithm 
            var oid = in_window.org.pkijs.getOIDByAlgorithm({ name: hashAlgorithm });
            if(oid === "")
                return new Promise(function(resolve, reject) { reject("Unsupported hash algorithm: " + hashAlgorithm); });
            // #endregion 
        }
        // #endregion 

        // #region Get a "default parameters" for current algorithm 
        var defParams = in_window.org.pkijs.getAlgorithmParameters(privateKey.algorithm.name, "sign");
        defParams.algorithm.hash.name = hashAlgorithm;
        // #endregion 

        // #region Fill internal structures base on "privateKey" and "hashAlgorithm" 
        switch(privateKey.algorithm.name.toUpperCase())
        {
            case "RSASSA-PKCS1-V1_5":
            case "ECDSA":
                _this.signature.algorithm_id = in_window.org.pkijs.getOIDByAlgorithm(defParams.algorithm);
                _this.signatureAlgorithm.algorithm_id = _this.signature.algorithm_id;
                break;
            case "RSA-PSS":
                {
                    // #region Set "saltLength" as a length (in octets) of hash function result 
                    switch(hashAlgorithm.toUpperCase())
                    {
                        case "SHA-256":
                            defParams.algorithm.saltLength = 32;
                            break;
                        case "SHA-384":
                            defParams.algorithm.saltLength = 48;
                            break;
                        case "SHA-512":
                            defParams.algorithm.saltLength = 64;
                            break;
                        default:;
                    }
                    // #endregion 

                    // #region Fill "RSASSA_PSS_params" object 
                    var paramsObject = {};

                    if(hashAlgorithm.toUpperCase() !== "SHA-1")
                    {
                        var hashAlgorithmOID = in_window.org.pkijs.getOIDByAlgorithm({ name: hashAlgorithm });
                        if(hashAlgorithmOID === "")
                            return new Promise(function(resolve, reject) { reject("Unsupported hash algorithm: " + hashAlgorithm); });

                        paramsObject.hashAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: hashAlgorithmOID,
                            algorithm_params: new org.pkijs.asn1.NULL()
                        });

                        paramsObject.maskGenAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: "1.2.840.113549.1.1.8", // MGF1
                            algorithm_params: paramsObject.hashAlgorithm.toSchema()
                        })
                    }

                    if(defParams.algorithm.saltLength !== 20)
                        paramsObject.saltLength = defParams.algorithm.saltLength;

                    var pssParameters = new in_window.org.pkijs.simpl.x509.RSASSA_PSS_params(paramsObject);
                    // #endregion   

                    // #region Automatically set signature algorithm 
                    _this.signature = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                        algorithm_id: "1.2.840.113549.1.1.10",
                        algorithm_params: pssParameters.toSchema()
                    });
                    _this.signatureAlgorithm = _this.signature; // Must be the same
                    // #endregion 
                }
                break;
            default:
                return new Promise(function(resolve, reject) { reject("Unsupported signature algorithm: " + privateKey.algorithm.name); });
        }
        // #endregion 

        // #region Create TBS data for signing 
        _this.tbs = in_window.org.pkijs.simpl.CERT.prototype.encodeTBS.call(this).toBER(false);
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Signing TBS data on provided private key 
        return crypto.sign(defParams.algorithm,
            privateKey,
            new Uint8Array(_this.tbs)).then(
            function(result)
            {
                // #region Special case for ECDSA algorithm 
                if(defParams.algorithm.name === "ECDSA")
                    result = in_window.org.pkijs.createCMSECDSASignature(result);
                // #endregion 

                _this.signatureValue = new in_window.org.pkijs.asn1.BITSTRING({ value_hex: result });
            },
            function(error)
            {
                return new Promise(function(resolve, reject) { reject("Signing error: " + error); });
            }
            );
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT.prototype.getPublicKey =
    function()
    {
        /// <summary>Importing public key for current certificate</summary>

        // #region Initial variables 
        var algorithm;
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Find correct algorithm for imported public key 
        if(arguments[0] instanceof Object)
        {
            if("algorithm" in arguments[0])
                algorithm = arguments[0].algorithm;
            else
                return new Promise(function(resolve, reject) { reject("Absent mandatory parameter \"algorithm\""); });
        }
        else
        {
            // #region Find signer's hashing algorithm 
            var sha_algorithm = in_window.org.pkijs.getHashAlgorithm(this.signatureAlgorithm);
            if(sha_algorithm === "")
                return new Promise(function(resolve, reject) { reject("Unsupported signature algorithm: " + this.signatureAlgorithm.algorithm_id); });
            // #endregion   

            // #region Get information about public key algorithm and default parameters for import
            var algorithmObject = in_window.org.pkijs.getAlgorithmByOID(this.signatureAlgorithm.algorithm_id);
            if(("name" in algorithmObject) === false)
                return new Promise(function(resolve, reject) { reject("Unsupported public key algorithm: " + this.signatureAlgorithm.algorithm_id); });

            var algorithm_name = algorithmObject.name;

            algorithm = in_window.org.pkijs.getAlgorithmParameters(algorithm_name, "importkey");
            if("hash" in algorithm.algorithm)
                algorithm.algorithm.hash.name = sha_algorithm;
            // #endregion 
        }
        // #endregion 

        // #region Get neccessary values from internal fields for current certificate 
        var publicKeyInfo_schema = this.subjectPublicKeyInfo.toSchema();
        var publicKeyInfo_buffer = publicKeyInfo_schema.toBER(false);
        var publicKeyInfo_view = new Uint8Array(publicKeyInfo_buffer);
        // #endregion 

        return crypto.importKey("spki", publicKeyInfo_view, algorithm.algorithm, true, algorithm.usages);
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT.prototype.getKeyHash =
    function()
    {
        /// <summary>Get SHA-1 hash value for subject public key</summary>

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        return crypto.digest({ name: "sha-1" }, new Uint8Array(this.subjectPublicKeyInfo.subjectPublicKey.value_block.value_hex));
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT.prototype.toJSON =
    function()
    {
        var _object = {
            tbs: in_window.org.pkijs.bufferToHexCodes(this.tbs, 0, this.tbs.byteLength),
            serialNumber: this.serialNumber.toJSON(),
            signature: this.signature.toJSON(),
            issuer: this.issuer.toJSON(),
            notBefore: this.notBefore.toJSON(),
            notAfter: this.notAfter.toJSON(),
            subject: this.subject.toJSON(),
            subjectPublicKeyInfo: this.subjectPublicKeyInfo.toJSON(),
            signatureAlgorithm: this.signatureAlgorithm.toJSON(),
            signatureValue: this.signatureValue.toJSON()
        };

        if("version" in this)
            _object.version = this.version;

        if("issuerUniqueID" in this)
            _object.issuerUniqueID = in_window.org.pkijs.bufferToHexCodes(this.issuerUniqueID, 0, this.issuerUniqueID.byteLength);

        if("subjectUniqueID" in this)
            _object.subjectUniqueID = in_window.org.pkijs.bufferToHexCodes(this.subjectUniqueID, 0, this.subjectUniqueID.byteLength);

        if("extensions" in this)
        {
            _object.extensions = new Array();

            for(var i = 0; i < this.extensions.length; i++)
                _object.extensions.push(this.extensions[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "revoked certificate" type (to use in CRL)
    //**************************************************************************************
    in_window.org.pkijs.simpl.REV_CERT =
    function()
    {
        // #region Internal properties of the object 
        this.userCertificate = new in_window.org.pkijs.asn1.INTEGER();
        this.revocationDate = new in_window.org.pkijs.simpl.TIME();
        // OPTIONAL this.crlEntryExtensions = new Array(); // Array of "in_window.org.pkijs.simpl.EXTENSION");
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.REV_CERT.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.userCertificate = arguments[0].userCertificate || new in_window.org.pkijs.asn1.INTEGER();
                this.revocationDate = arguments[0].revocationDate || new in_window.org.pkijs.simpl.TIME();
                if("crlEntryExtensions" in arguments[0])
                    this.crlEntryExtensions = arguments[0].crlEntryExtensions;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.REV_CERT.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            new in_window.org.pkijs.asn1.SEQUENCE({
                value: [
                    new in_window.org.pkijs.asn1.INTEGER({ name: "userCertificate" }),
                    in_window.org.pkijs.schema.TIME({
                        names: {
                            utcTimeName: "revocationDate",
                            generalTimeName: "revocationDate"
                    }
                    }),
                    in_window.org.pkijs.schema.EXTENSIONS({
                        names: {
                            block_name: "crlEntryExtensions"
                        }
                    }, true)
                ]
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for REV_CERT");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.userCertificate = asn1.result["userCertificate"];
        this.revocationDate = new in_window.org.pkijs.simpl.TIME({ schema: asn1.result["revocationDate"] });

        if("crlEntryExtensions" in asn1.result)
        {
            this.crlEntryExtensions = new Array();
            var exts = asn1.result["crlEntryExtensions"].value_block.value;

            for(var i = 0; i < exts.length; i++)
                this.crlEntryExtensions.push(new in_window.org.pkijs.simpl.EXTENSION({ schema: exts[i] }));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.REV_CERT.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var sequence_array = new Array();
        sequence_array.push(this.userCertificate);
        sequence_array.push(this.revocationDate.toSchema());

        if("crlEntryExtensions" in this)
        {
            var exts = new Array();

            for(var i = 0; i < this.crlEntryExtensions.length; i++)
                exts.push(this.crlEntryExtensions[i].toSchema());

            sequence_array.push(new in_window.org.pkijs.asn1.SEQUENCE({ value: exts }));
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: sequence_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.REV_CERT.prototype.toJSON =
    function()
    {
        var _object = {
            userCertificate: this.userCertificate.toJSON(),
            revocationDate: this.revocationDate.toJSON
        };

        if("crlEntryExtensions" in this)
        {
            _object.crlEntryExtensions = new Array();

            for(var i = 0; i < this.crlEntryExtensions.length; i++)
                _object.crlEntryExtensions.push(this.crlEntryExtensions[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for X.509 CRL (Certificate Revocation List)(RFC5280)  
    //**************************************************************************************
    in_window.org.pkijs.simpl.CRL =
    function()
    {
        // #region Internal properties of the object 
        // #region Properties from CRL TBS part 
        this.tbs = new ArrayBuffer(0);

        // OPTIONAL this.version = 1;
        this.signature = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        this.issuer = new in_window.org.pkijs.simpl.RDN();
        this.thisUpdate = new in_window.org.pkijs.simpl.TIME();
        // OPTIONAL this.nextUpdate = new in_window.org.pkijs.simpl.TIME();
        // OPTIONAL this.revokedCertificates = new Array(); // Array of REV_CERT objects
        // OPTIONAL this.crlExtensions = new Array(); // Array of in_window.org.pkijs.simpl.EXTENSION();
        // #endregion 

        // #region Properties from CRL major part 
        this.signatureAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        this.signatureValue = new in_window.org.pkijs.asn1.BITSTRING();
        // #endregion 
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.CRL.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                // #region Properties from CRL TBS part 
                this.tbs = arguments[0].tbs || new ArrayBuffer(0);

                if("version" in arguments[0])
                    this.version = arguments[0].version;
                this.signature = arguments[0].signature || new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
                this.issuer = arguments[0].issuer || new in_window.org.pkijs.simpl.RDN();
                this.thisUpdate = arguments[0].thisUpdate || new in_window.org.pkijs.simpl.TIME();
                if("nextUpdate" in arguments[0])
                    this.nextUpdate = arguments[0].nextUpdate;
                if("revokedCertificates" in arguments[0])
                    this.revokedCertificates = arguments[0].revokedCertificates;
                if("crlExtensions" in arguments[0])
                    this.crlExtensions = arguments[0].crlExtensions;
                // #endregion 

                // #region Properties from CRL major part 
                this.signatureAlgorithm = arguments[0].signatureAlgorithm || new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
                this.signatureValue = arguments[0].signatureValue || new in_window.org.pkijs.asn1.BITSTRING();
                // #endregion 
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CRL.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.CRL()
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for CRL");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.tbs = asn1.result["tbsCertList"].value_before_decode;

        if("tbsCertList.version" in asn1.result)
            this.version = asn1.result["tbsCertList.version"].value_block.value_dec;
        this.signature = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["tbsCertList.signature"] });
        this.issuer = new in_window.org.pkijs.simpl.RDN({ schema: asn1.result["tbsCertList.issuer"] });
        this.thisUpdate = new in_window.org.pkijs.simpl.TIME({ schema: asn1.result["tbsCertList.thisUpdate"] });
        if("tbsCertList.nextUpdate" in asn1.result)
            this.nextUpdate = new in_window.org.pkijs.simpl.TIME({ schema: asn1.result["tbsCertList.nextUpdate"] });
        if("tbsCertList.revokedCertificates" in asn1.result)
        {
            this.revokedCertificates = new Array();

            var rev_certs = asn1.result["tbsCertList.revokedCertificates"];
            for(var i = 0; i < rev_certs.length; i++)
                this.revokedCertificates.push(new in_window.org.pkijs.simpl.REV_CERT({ schema: rev_certs[i] }));
        }
        if("tbsCertList.extensions" in asn1.result)
        {
            this.crlExtensions = new Array();
            var exts = asn1.result["tbsCertList.extensions"].value_block.value;

            for(var i = 0; i < exts.length; i++)
                this.crlExtensions.push(new in_window.org.pkijs.simpl.EXTENSION({ schema: exts[i] }));
        }

        this.signatureAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["signatureAlgorithm"] });
        this.signatureValue = asn1.result["signatureValue"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CRL.prototype.encodeTBS =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        if("version" in this)
            output_array.push(new in_window.org.pkijs.asn1.INTEGER({ value: this.version }));

        output_array.push(this.signature.toSchema());
        output_array.push(this.issuer.toSchema());
        output_array.push(this.thisUpdate.toSchema())

        if("nextUpdate" in this)
            output_array.push(this.nextUpdate.toSchema());

        if("revokedCertificates" in this)
        {
            var rev_certificates = new Array();

            for(var i = 0; i < this.revokedCertificates.length; i++)
                rev_certificates.push(this.revokedCertificates[i].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.SEQUENCE({
                value: rev_certificates
            }));
        }

        if("crlExtensions" in this)
        {
            var extensions = new Array();

            for(var j = 0; j < this.crlExtensions.length; j++)
                extensions.push(this.crlExtensions[j].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: [
                    new in_window.org.pkijs.asn1.SEQUENCE({
                        value: extensions
                    })
                ]
            }));
        }
        // #endregion 

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CRL.prototype.toSchema =
    function(encodeFlag)
    {
        /// <param name="encodeFlag" type="Boolean">If param equal to false then create TBS schema via decoding stored value. In othe case create TBS schema via assembling from TBS parts.</param>

        // #region Check "encodeFlag" 
        if(typeof encodeFlag === "undefined")
            encodeFlag = false;
        // #endregion 

        // #region Decode stored TBS value 
        var tbs_schema;

        if(encodeFlag === false)
        {
            if(this.tbs.length === 0) // No stored TBS part
                return in_window.org.pkijs.schema.CRL();

            tbs_schema = in_window.org.pkijs.fromBER(this.tbs).result;
        }
        // #endregion 
        // #region Create TBS schema via assembling from TBS parts 
        else
            tbs_schema = in_window.org.pkijs.simpl.CRL.prototype.encodeTBS.call(this);
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                tbs_schema,
                this.signatureAlgorithm.toSchema(),
                this.signatureValue
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CRL.prototype.verify =
    function()
    {
        /// <summary>!!! Works well in Chrome dev versions only (April 2014th) !!!</summary>
        /// <returns type="Promise">Returns a new Promise object (in case of error), or a result of "crypto.subtle.veryfy" function</returns>

        // #region Global variables 
        var sequence = Promise.resolve();

        var signature = this.signatureValue;
        var tbs = this.tbs;

        var subjectPublicKeyInfo = -1;

        var _this = this;
        // #endregion 

        // #region Get information about CRL issuer certificate 
        if(arguments[0] instanceof Object)
        {
            if("issuerCertificate" in arguments[0]) // "issuerCertificate" must be of type "simpl.CERT"
                subjectPublicKeyInfo = arguments[0].issuerCertificate.subjectPublicKeyInfo;

            // #region In case if there is only public key during verification 
            if("publicKeyInfo" in arguments[0])
                subjectPublicKeyInfo = arguments[0].publicKeyInfo; // Must be of type "org.pkijs.simpl.PUBLIC_KEY_INFO"
            // #endregion 
        }

        if((subjectPublicKeyInfo instanceof in_window.org.pkijs.simpl.PUBLIC_KEY_INFO) === false)
            return new Promise(function(resolve, reject) { reject("Issuer's certificate must be provided as an input parameter"); });
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Find signer's hashing algorithm 
        var sha_algorithm = in_window.org.pkijs.getHashAlgorithm(this.signatureAlgorithm);
        if(sha_algorithm === "")
            return new Promise(function(resolve, reject) { reject("Unsupported signature algorithm: " + _this.signatureAlgorithm.algorithm_id); });
        // #endregion 

        // #region Import public key 
        sequence = sequence.then(
            function()
            {
                // #region Get information about public key algorithm and default parameters for import
                var algorithmObject = in_window.org.pkijs.getAlgorithmByOID(_this.signature.algorithm_id);
                if(("name" in algorithmObject) === "")
                    return new Promise(function(resolve, reject) { reject("Unsupported public key algorithm: " + _this.signature.algorithm_id); });

                var algorithm_name = algorithmObject.name;

                var algorithm = in_window.org.pkijs.getAlgorithmParameters(algorithm_name, "importkey");
                if("hash" in algorithm.algorithm)
                    algorithm.algorithm.hash.name = sha_algorithm;
                // #endregion 

                var publicKeyInfo_schema = subjectPublicKeyInfo.toSchema();
                var publicKeyInfo_buffer = publicKeyInfo_schema.toBER(false);
                var publicKeyInfo_view = new Uint8Array(publicKeyInfo_buffer);

                return crypto.importKey("spki",
                    publicKeyInfo_view,
                    algorithm.algorithm,
                    true,
                    algorithm.usages);
            }
            );
        // #endregion 

        // #region Verify signature for the certificate 
        sequence = sequence.then(
            function(publicKey)
            {
                // #region Get default algorithm parameters for verification 
                var algorithm = in_window.org.pkijs.getAlgorithmParameters(publicKey.algorithm.name, "verify");
                if("hash" in algorithm.algorithm)
                    algorithm.algorithm.hash.name = sha_algorithm;
                // #endregion 

                // #region Special case for ECDSA signatures 
                var signature_value = signature.value_block.value_hex;

                if(publicKey.algorithm.name === "ECDSA")
                {
                    var asn1 = in_window.org.pkijs.fromBER(signature_value);
                    signature_value = in_window.org.pkijs.createECDSASignatureFromCMS(asn1.result);
                }
                // #endregion 

                // #region Special case for RSA-PSS 
                if(publicKey.algorithm.name === "RSA-PSS")
                {
                    var pssParameters;

                    try
                    {
                        pssParameters = new in_window.org.pkijs.simpl.x509.RSASSA_PSS_params({ schema: _this.signatureAlgorithm.algorithm_params });
                    }
                    catch(ex)
                    {
                        return new Promise(function(resolve, reject) { reject(ex); });
                    }

                    if("saltLength" in pssParameters)
                        algorithm.algorithm.saltLength = pssParameters.saltLength;
                    else
                        algorithm.algorithm.saltLength = 20;

                    var hash_algo = "SHA-1";

                    if("hashAlgorithm" in pssParameters)
                    {
                        var hashAlgorithm = in_window.org.pkijs.getAlgorithmByOID(pssParameters.hashAlgorithm.algorithm_id);
                        if(("name" in hashAlgorithm) === false)
                            return new Promise(function(resolve, reject) { reject("Unrecognized hash algorithm: " + pssParameters.hashAlgorithm.algorithm_id); });

                        hash_algo = hashAlgorithm.name;
                    }

                    algorithm.algorithm.hash.name = hash_algo;
                }
                // #endregion 

                return crypto.verify(algorithm.algorithm,
                    publicKey,
                    new Uint8Array(signature_value),
                    new Uint8Array(tbs));
            }
            );
        // #endregion 

        return sequence;
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CRL.prototype.sign =
    function(privateKey, hashAlgorithm)
    {
        /// <param name="privateKey" type="Key">Private key for "subjectPublicKeyInfo" structure</param>
        /// <param name="hashAlgorithm" type="String" optional="true">Hashing algorithm. Default SHA-1</param>

        // #region Initial variables 
        var _this = this;
        // #endregion 

        // #region Get a private key from function parameter 
        if(typeof privateKey === "undefined")
            return new Promise(function(resolve, reject) { reject("Need to provide a private key for signing"); });
        // #endregion 

        // #region Get hashing algorithm 
        if(typeof hashAlgorithm === "undefined")
            hashAlgorithm = "SHA-1";
        else
        {
            // #region Simple check for supported algorithm 
            var oid = in_window.org.pkijs.getOIDByAlgorithm({ name: hashAlgorithm });
            if(oid === "")
                return new Promise(function(resolve, reject) { reject("Unsupported hash algorithm: " + hashAlgorithm); });
            // #endregion 
        }
        // #endregion 

        // #region Get a "default parameters" for current algorithm 
        var defParams = in_window.org.pkijs.getAlgorithmParameters(privateKey.algorithm.name, "sign");
        defParams.algorithm.hash.name = hashAlgorithm;
        // #endregion 

        // #region Fill internal structures base on "privateKey" and "hashAlgorithm" 
        switch(privateKey.algorithm.name.toUpperCase())
        {
            case "RSASSA-PKCS1-V1_5":
            case "ECDSA":
                _this.signature.algorithm_id = in_window.org.pkijs.getOIDByAlgorithm(defParams.algorithm);
                _this.signatureAlgorithm.algorithm_id = _this.signature.algorithm_id;
                break;
            case "RSA-PSS":
                {
                    // #region Set "saltLength" as a length (in octets) of hash function result 
                    switch(hashAlgorithm.toUpperCase())
                    {
                        case "SHA-256":
                            defParams.algorithm.saltLength = 32;
                            break;
                        case "SHA-384":
                            defParams.algorithm.saltLength = 48;
                            break;
                        case "SHA-512":
                            defParams.algorithm.saltLength = 64;
                            break;
                        default:;
                    }
                    // #endregion 

                    // #region Fill "RSASSA_PSS_params" object 
                    var paramsObject = {};

                    if(hashAlgorithm.toUpperCase() !== "SHA-1")
                    {
                        var hashAlgorithmOID = in_window.org.pkijs.getOIDByAlgorithm({ name: hashAlgorithm });
                        if(hashAlgorithmOID === "")
                            return new Promise(function(resolve, reject) { reject("Unsupported hash algorithm: " + hashAlgorithm); });

                        paramsObject.hashAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: hashAlgorithmOID,
                            algorithm_params: new org.pkijs.asn1.NULL()
                        });

                        paramsObject.maskGenAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: "1.2.840.113549.1.1.8", // MGF1
                            algorithm_params: paramsObject.hashAlgorithm.toSchema()
                        })
                    }

                    if(defParams.algorithm.saltLength !== 20)
                        paramsObject.saltLength = defParams.algorithm.saltLength;

                    var pssParameters = new in_window.org.pkijs.simpl.x509.RSASSA_PSS_params(paramsObject);
                    // #endregion   

                    // #region Automatically set signature algorithm 
                    _this.signature = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                        algorithm_id: "1.2.840.113549.1.1.10",
                        algorithm_params: pssParameters.toSchema()
                    });
                    _this.signatureAlgorithm = _this.signature; // Must be the same
                    // #endregion 
                }
                break;
            default:
                return new Promise(function(resolve, reject) { reject("Unsupported signature algorithm: " + privateKey.algorithm.name); });
        }
        // #endregion 

        // #region Create TBS data for signing 
        _this.tbs = in_window.org.pkijs.simpl.CRL.prototype.encodeTBS.call(this).toBER(false);
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Signing TBS data on provided private key 
        return crypto.sign(
            defParams.algorithm,
            privateKey,
            new Uint8Array(_this.tbs)).
            then(
            function(result)
            {
                // #region Special case for ECDSA algorithm 
                if(defParams.algorithm.name === "ECDSA")
                    result = in_window.org.pkijs.createCMSECDSASignature(result);
                // #endregion 

                _this.signatureValue = new in_window.org.pkijs.asn1.BITSTRING({ value_hex: result });
            },
            function(error)
            {
                return new Promise(function(resolve, reject) { reject("Signing error: " + error); });
            }
            );
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CRL.prototype.isCertificateRevoked =
    function()
    {
        // #region Get input certificate 
        var certificate = {};

        if(arguments[0] instanceof Object)
        {
            if("certificate" in arguments[0])
                certificate = arguments[0].certificate;
        }

        if((certificate instanceof in_window.org.pkijs.simpl.CERT) === false)
            return false;
        // #endregion 

        // #region Check that issuer of the input certificate is the same with issuer of this CRL 
        if(this.issuer.isEqual(certificate.issuer) === false)
            return false;
        // #endregion 

        // #region Check that there are revoked certificates in this CRL 
        if(("revokedCertificates" in this) === false)
            return false;
        // #endregion 

        // #region Search for input certificate in revoked certificates array 
        for(var i = 0; i < this.revokedCertificates.length; i++)
        {
            if(this.revokedCertificates[i].userCertificate.isEqual(certificate.serialNumber))
                return true;
        }
        // #endregion 

        return false;
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CRL.prototype.toJSON =
    function()
    {
        var _object = {
            tbs: in_window.org.pkijs.bufferToHexCodes(this.tbs, 0, this.tbs.byteLength),
            signature: this.signature.toJSON(),
            issuer: this.issuer.toJSON(),
            thisUpdate: this.thisUpdate.toJSON(),
            signatureAlgorithm: this.signatureAlgorithm.toJSON(),
            signatureValue: this.signatureValue.toJSON()
        };

        if("version" in this)
            _object.version = this.version;

        if("nextUpdate" in this)
            _object.nextUpdate = this.nextUpdate.toJSON();

        if("revokedCertificates" in this)
        {
            _object.revokedCertificates = new Array();

            for(var i = 0; i < this.revokedCertificates.length; i++)
                _object.revokedCertificates.push(this.revokedCertificates[i].toJSON());
        }

        if("crlExtensions" in this)
        {
            _object.crlExtensions = new Array();

            for(var i = 0; i < this.crlExtensions.length; i++)
                _object.crlExtensions.push(this.crlExtensions[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "Attribute" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.ATTRIBUTE =
    function()
    {
        // #region Internal properties of the object 
        this.type = "";
        this.values = new Array();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.ATTRIBUTE.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.type = arguments[0].type || "";
                this.values = arguments[0].values || new Array();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ATTRIBUTE.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.ATTRIBUTE({
                names: {
                    type: "type",
                    values: "values"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for ATTRIBUTE");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.type = asn1.result["type"].value_block.toString();
        this.values = asn1.result["values"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ATTRIBUTE.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                new in_window.org.pkijs.asn1.OID({ value: this.type }),
                new in_window.org.pkijs.asn1.SET({
                    value: this.values
                })
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.ATTRIBUTE.prototype.toJSON =
    function()
    {
        var _object = {
            type: this.type,
            values: new Array()
        };

        for(var i = 0; i < this.values.length; i++)
            _object.values.push(this.values[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for PKCS#10 certificate request
    //**************************************************************************************
    in_window.org.pkijs.simpl.PKCS10 =
    function()
    {
        // #region Internal properties of the object 
        this.tbs = new ArrayBuffer(0);

        this.version = 0;
        this.subject = new in_window.org.pkijs.simpl.RDN();
        this.subjectPublicKeyInfo = new in_window.org.pkijs.simpl.PUBLIC_KEY_INFO();
        // OPTIONAL this.attributes = new Array(); // Array of simpl.ATTRIBUTE objects

        this.signatureAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER(); // Signature algorithm from certificate major part
        this.signatureValue = new in_window.org.pkijs.asn1.BITSTRING();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.PKCS10.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.tbs = arguments[0].tbs || new ArrayBuffer(0);

                this.version = arguments[0].version || 0;
                this.subject = arguments[0].subject || new in_window.org.pkijs.simpl.RDN();
                this.subjectPublicKeyInfo = arguments[0].subjectPublicKeyInfo || new in_window.org.pkijs.simpl.PUBLIC_KEY_INFO();

                if("attributes" in arguments[0])
                    this.attributes = arguments[0].attributes;

                this.signatureAlgorithm = arguments[0].signatureAlgorithm || new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER(); // Signature algorithm from certificate major part
                this.signatureValue = arguments[0].signatureValue || new in_window.org.pkijs.asn1.BITSTRING();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PKCS10.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.PKCS10()
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for PKCS10");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.tbs = asn1.result["CertificationRequestInfo"].value_before_decode;

        this.version = asn1.result["CertificationRequestInfo.version"].value_block.value_dec;
        this.subject = new in_window.org.pkijs.simpl.RDN({ schema: asn1.result["CertificationRequestInfo.subject"] });
        this.subjectPublicKeyInfo = new in_window.org.pkijs.simpl.PUBLIC_KEY_INFO({ schema: asn1.result["CertificationRequestInfo.subjectPublicKeyInfo"] });
        if("CertificationRequestInfo.attributes" in asn1.result)
        {
            this.attributes = new Array();

            var attrs = asn1.result["CertificationRequestInfo.attributes"];
            for(var i = 0; i < attrs.length; i++)
                this.attributes.push(new in_window.org.pkijs.simpl.ATTRIBUTE({ schema: attrs[i] }));
        }

        this.signatureAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["signatureAlgorithm"] });
        this.signatureValue = asn1.result["signatureValue"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PKCS10.prototype.encodeTBS =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.INTEGER({ value: this.version }));
        output_array.push(this.subject.toSchema());
        output_array.push(this.subjectPublicKeyInfo.toSchema());

        if("attributes" in this)
        {
            var attributes = new Array();

            for(var i = 0; i < this.attributes.length; i++)
                attributes.push(this.attributes[i].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: attributes
            }));
        }
        // #endregion 

        return (new in_window.org.pkijs.asn1.SEQUENCE({ value: output_array }));
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PKCS10.prototype.toSchema =
    function(encodeFlag)
    {
        /// <param name="encodeFlag" type="Boolean">If param equal to false then create TBS schema via decoding stored value. In othe case create TBS schema via assembling from TBS parts.</param>

        // #region Check "encodeFlag" 
        if(typeof encodeFlag === "undefined")
            encodeFlag = false;
        // #endregion 

        // #region Decode stored TBS value 
        var tbs_schema;

        if(encodeFlag === false)
        {
            if(this.tbs.length === 0) // No stored TBS part
                return in_window.org.pkijs.schema.PKCS10();

            tbs_schema = in_window.org.pkijs.fromBER(this.tbs).result;
        }
        // #endregion 
        // #region Create TBS schema via assembling from TBS parts 
        else
            tbs_schema = in_window.org.pkijs.simpl.PKCS10.prototype.encodeTBS.call(this);
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                tbs_schema,
                this.signatureAlgorithm.toSchema(),
                this.signatureValue
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PKCS10.prototype.verify =
    function()
    {
        /// <summary>!!! Works well in Chrome dev versions only (April 2014th) !!!</summary>
        /// <returns type="Promise">Returns a new Promise object (in case of error), or a result of "crypto.subtle.veryfy" function</returns>

        // #region Global variables 
        var _this = this;
        var sha_algorithm = "";

        var sequence = Promise.resolve();

        var subjectPublicKeyInfo = this.subjectPublicKeyInfo;
        var signature = this.signatureValue;
        var tbs = this.tbs;
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Find a correct hashing algorithm 
        sha_algorithm = in_window.org.pkijs.getHashAlgorithm(this.signatureAlgorithm);
        if(sha_algorithm === "")
            return new Promise(function(resolve, reject) { reject("Unsupported signature algorithm: " + _this.signatureAlgorithm.algorithm_id); });
        // #endregion 

        // #region Importing public key 
        sequence = sequence.then(
            function()
            {
                // #region Get information about public key algorithm and default parameters for import
                var algorithmObject = in_window.org.pkijs.getAlgorithmByOID(_this.signatureAlgorithm.algorithm_id);
                if(("name" in algorithmObject) === false)
                    return new Promise(function(resolve, reject) { reject("Unsupported public key algorithm: " + _this.signatureAlgorithm.algorithm_id); });

                var algorithm_name = algorithmObject.name;

                var algorithm = in_window.org.pkijs.getAlgorithmParameters(algorithm_name, "importkey");
                if("hash" in algorithm.algorithm)
                    algorithm.algorithm.hash.name = sha_algorithm;
                // #endregion 

                var publicKeyInfo_schema = subjectPublicKeyInfo.toSchema();
                var publicKeyInfo_buffer = publicKeyInfo_schema.toBER(false);
                var publicKeyInfo_view = new Uint8Array(publicKeyInfo_buffer);

                return crypto.importKey("spki", publicKeyInfo_view, algorithm.algorithm, true, algorithm.usages);
            }
            );
        // #endregion 

        // #region Verify signature  
        sequence = sequence.then(
            function(publicKey)
            {
                // #region Get default algorithm parameters for verification 
                var algorithm = in_window.org.pkijs.getAlgorithmParameters(publicKey.algorithm.name, "verify");
                if("hash" in algorithm.algorithm)
                    algorithm.algorithm.hash.name = sha_algorithm;
                // #endregion 

                // #region Special case for ECDSA signatures 
                var signature_value = signature.value_block.value_hex;

                if(publicKey.algorithm.name === "ECDSA")
                {
                    var asn1 = in_window.org.pkijs.fromBER(signature_value);
                    signature_value = in_window.org.pkijs.createECDSASignatureFromCMS(asn1.result);
                }
                // #endregion 

                // #region Special case for RSA-PSS 
                if(publicKey.algorithm.name === "RSA-PSS")
                {
                    var pssParameters;

                    try
                    {
                        pssParameters = new in_window.org.pkijs.simpl.x509.RSASSA_PSS_params({ schema: _this.signatureAlgorithm.algorithm_params });
                    }
                    catch(ex)
                    {
                        return new Promise(function(resolve, reject) { reject(ex); });
                    }

                    if("saltLength" in pssParameters)
                        algorithm.algorithm.saltLength = pssParameters.saltLength;
                    else
                        algorithm.algorithm.saltLength = 20;

                    var hash_algo = "SHA-1";

                    if("hashAlgorithm" in pssParameters)
                    {
                        var hashAlgorithm = in_window.org.pkijs.getAlgorithmByOID(pssParameters.hashAlgorithm.algorithm_id);
                        if(("name" in hashAlgorithm) === false)
                            return new Promise(function(resolve, reject) { reject("Unrecognized hash algorithm: " + pssParameters.hashAlgorithm.algorithm_id); });

                        hash_algo = hashAlgorithm.name;
                    }

                    algorithm.algorithm.hash.name = hash_algo;
                }
                // #endregion 

                return crypto.verify(algorithm.algorithm,
                    publicKey,
                    new Uint8Array(signature_value),
                    new Uint8Array(tbs));
            }
            );
        // #endregion   

        return sequence;
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PKCS10.prototype.sign =
    function(privateKey, hashAlgorithm)
    {
        /// <param name="privateKey" type="Key">Private key for "subjectPublicKeyInfo" structure</param>
        /// <param name="hashAlgorithm" type="String" optional="true">Hashing algorithm. Default SHA-1</param>

        // #region Initial variables 
        var _this = this;
        // #endregion 

        // #region Get a private key from function parameter 
        if(typeof privateKey === "undefined")
            return new Promise(function(resolve, reject) { reject("Need to provide a private key for signing"); });
        // #endregion 

        // #region Get hashing algorithm 
        if(typeof hashAlgorithm === "undefined")
            hashAlgorithm = "SHA-1";
        else
        {
            // #region Simple check for supported algorithm 
            var oid = in_window.org.pkijs.getOIDByAlgorithm({ name: hashAlgorithm });
            if(oid === "")
                return new Promise(function(resolve, reject) { reject("Unsupported hash algorithm: " + hashAlgorithm); });
            // #endregion 
        }
        // #endregion 

        // #region Get a "default parameters" for current algorithm 
        var defParams = in_window.org.pkijs.getAlgorithmParameters(privateKey.algorithm.name, "sign");
        defParams.algorithm.hash.name = hashAlgorithm;
        // #endregion 

        // #region Fill internal structures base on "privateKey" and "hashAlgorithm" 
        switch(privateKey.algorithm.name.toUpperCase())
        {
            case "RSASSA-PKCS1-V1_5":
            case "ECDSA":
                _this.signatureAlgorithm.algorithm_id = in_window.org.pkijs.getOIDByAlgorithm(defParams.algorithm);
                break;
            case "RSA-PSS":
                {
                    // #region Set "saltLength" as a length (in octets) of hash function result 
                    switch(hashAlgorithm.toUpperCase())
                    {
                        case "SHA-256":
                            defParams.algorithm.saltLength = 32;
                            break;
                        case "SHA-384":
                            defParams.algorithm.saltLength = 48;
                            break;
                        case "SHA-512":
                            defParams.algorithm.saltLength = 64;
                            break;
                        default:;
                    }
                    // #endregion 

                    // #region Fill "RSASSA_PSS_params" object 
                    var paramsObject = {};

                    if(hashAlgorithm.toUpperCase() !== "SHA-1")
                    {
                        var hashAlgorithmOID = in_window.org.pkijs.getOIDByAlgorithm({ name: hashAlgorithm });
                        if(hashAlgorithmOID === "")
                            return new Promise(function(resolve, reject) { reject("Unsupported hash algorithm: " + hashAlgorithm); });

                        paramsObject.hashAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: hashAlgorithmOID,
                            algorithm_params: new org.pkijs.asn1.NULL()
                        });

                        paramsObject.maskGenAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: "1.2.840.113549.1.1.8", // MGF1
                            algorithm_params: paramsObject.hashAlgorithm.toSchema()
                        })
                    }

                    if(defParams.algorithm.saltLength !== 20)
                        paramsObject.saltLength = defParams.algorithm.saltLength;

                    var pssParameters = new in_window.org.pkijs.simpl.x509.RSASSA_PSS_params(paramsObject);
                    // #endregion   

                    // #region Automatically set signature algorithm 
                    _this.signatureAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                        algorithm_id: "1.2.840.113549.1.1.10",
                        algorithm_params: pssParameters.toSchema()
                    });
                    // #endregion 
                }
                break;
            default:
                return new Promise(function(resolve, reject) { reject("Unsupported signature algorithm: " + privateKey.algorithm.name); });
        }
        // #endregion 

        // #region Create TBS data for signing 
        _this.tbs = in_window.org.pkijs.simpl.PKCS10.prototype.encodeTBS.call(this).toBER(false);
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Signing TBS data on provided private key 
        return crypto.sign(defParams.algorithm,
            privateKey,
            new Uint8Array(_this.tbs)).then(
            function(result)
            {
                // #region Special case for ECDSA algorithm 
                if(defParams.algorithm.name === "ECDSA")
                    result = in_window.org.pkijs.createCMSECDSASignature(result);
                // #endregion 

                _this.signatureValue = new in_window.org.pkijs.asn1.BITSTRING({ value_hex: result });
            },
            function(error)
            {
                return new Promise(function(resolve, reject) { reject("Signing error: " + error); });
            }
            );
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PKCS10.prototype.toJSON =
    function()
    {
        var _object = {
            tbs: in_window.org.pkijs.bufferToHexCodes(this.tbs, 0, this.tbs.byteLength),
            version: this.version,
            subject: this.subject.toJSON(),
            subjectPublicKeyInfo: this.subjectPublicKeyInfo.toJSON(),
            signatureAlgorithm: this.signatureAlgorithm.toJSON(),
            signatureValue: this.signatureValue.toJSON()
        };

        if("attributes" in this)
        {
            _object.attributes = new Array();

            for(var i = 0; i < this.attributes.length; i++)
                _object.attributes.push(this.attributes[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for PKCS#8 private key bag
    //**************************************************************************************
    in_window.org.pkijs.simpl.PKCS8 =
    function()
    {
        // #region Internal properties of the object 
        this.version = 0;
        this.privateKeyAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        this.privateKey = new in_window.org.pkijs.asn1.OCTETSTRING();
        // OPTIONAL this.attributes // Array of "in_window.org.pkijs.simpl.ATTRIBUTE"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.PKCS8.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.version = arguments[0].version || 0;
                this.privateKeyAlgorithm = arguments[0].privateKeyAlgorithm || new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
                this.privateKey = arguments[0].privateKey || new in_window.org.pkijs.asn1.OCTETSTRING();

                if("attributes" in arguments[0])
                    this.attributes = arguments[0].attributes;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PKCS8.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.PKCS8({
                names: {
                    version: "version",
                    privateKeyAlgorithm: {
                        names: {
                            block_name: "privateKeyAlgorithm"
                        }
                    },
                    privateKey: "privateKey",
                    attributes: "attributes"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for PKCS8");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.version = asn1.result["version"].value_block.value_dec;
        this.privateKeyAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["privateKeyAlgorithm"] });
        this.privateKey = asn1.result["privateKey"];

        if("attributes" in asn1.result)
        {
            this.attributes = new Array();
            var attrs = asn1.result["attributes"];

            for(var i = 0; i < attrs.length; i++)
                this.attributes.push(new in_window.org.pkijs.simpl.ATTRIBUTE({ schema: attrs[i] }));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PKCS8.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.INTEGER({ value: this.version }));
        output_array.push(this.privateKeyAlgorithm.toSchema());
        output_array.push(this.privateKey);

        if("attributes" in this)
        {
            var attrs = new Array();

            for(var i = 0; i < this.attributes.length; i++)
                attrs.push(this.attributes[i].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: attrs
            }));
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.PKCS8.prototype.toJSON =
    function()
    {
        var _object = {
            version: this.version,
            privateKeyAlgorithm: this.privateKeyAlgorithm.toJSON(),
            privateKey: this.privateKey.toJSON()
        };

        if("attributes" in this)
        {
            _object.attributes = new Array();

            for(var i = 0; i < this.attributes.length; i++)
                _object.attributes.push(this.attributes[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for working with X.509 certificate chains 
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT_CHAIN =
    function()
    {
        // #region Internal properties of the object 
        /// <field name="trusted_certs" type="Array" elementType="in_window.org.pkijs.simpl.CERT">Array of pre-defined trusted (by user) certificates</field>
        this.trusted_certs = new Array();
        /// <field name="certs" type="Array" elementType="in_window.org.pkijs.simpl.CERT">Array with certificate chain. Could be only one end-user certificate in there!</field>
        this.certs = new Array(); 
        /// <field name="crls" type="Array" elementType="in_window.org.pkijs.simpl.CRL">Array of all CRLs for all certificates from certificate chain</field>
        this.crls = new Array(); 
        // #endregion 

        // #region Initialize internal properties by input values
        if(arguments[0] instanceof Object)
        {
            this.trusted_certs = arguments[0].trusted_certs || new Array();
            this.certs = arguments[0].certs || new Array();
            this.crls = arguments[0].crls || new Array();
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT_CHAIN.prototype.sort =
    function()
    {
        // #region Initial variables 
        /// <var type="Array" elementType="in_window.org.pkijs.simpl.CERT">Array of sorted certificates</var>
        var sorted_certs = new Array();

        /// <var type="Array" elementType="in_window.org.pkijs.simpl.CERT">Initial array of certificates</var>
        var certs = this.certs.slice(0); // Explicity copy "this.certs"

        /// <var type="Date">Date for checking certificate validity period</var>
        var check_date = new Date();

        var _this = this;
        // #endregion 

        // #region Initial checks 
        if(certs.length === 0)
            return new Promise(function(resolve, reject)
            {
                reject({
                    result: false,
                    result_code: 2,
                    result_message: "Certificate's array can not be empty"
                });
            });
        // #endregion 

        // #region Find end-user certificate 
        var end_user_index = -1;

        for(var i = 0; i < certs.length; i++)
        {
            var isCA = false;

            if("extensions" in certs[i])
            {
                var mustBeCA = false;
                var keyUsagePresent = false;
                var cRLSign = false;

                for(var j = 0; j < certs[i].extensions.length; j++)
                {
                    if((certs[i].extensions[j].critical === true) &&
                       (("parsedValue" in certs[i].extensions[j]) === false))
                    {
                        return new Promise(function(resolve, reject)
                        {
                            reject({
                                result: false,
                                result_code: 6,
                                result_message: "Unable to parse critical certificate extension: " + certs[i].extensions[j].extnID
                            });
                        });
                    }

                    if(certs[i].extensions[j].extnID === "2.5.29.15") // KeyUsage
                    {
                        keyUsagePresent = true;

                        var view = new Uint8Array(certs[i].extensions[j].parsedValue.value_block.value_hex);

                        if((view[0] & 0x04) === 0x04) // Set flag "keyCertSign"
                            mustBeCA = true;

                        if((view[0] & 0x02) === 0x02) // Set flag "cRLSign"
                            cRLSign = true;
                    }

                    if(certs[i].extensions[j].extnID === "2.5.29.19") // BasicConstraints
                    {
                        if("cA" in certs[i].extensions[j].parsedValue)
                        {
                            if(certs[i].extensions[j].parsedValue.cA === true)
                                isCA = true;
                        }
                    }
                }

                if((mustBeCA === true) && (isCA === false))
                    return new Promise(function(resolve, reject)
                    {
                        reject({
                            result: false,
                            result_code: 3,
                            result_message: "Unable to build certificate chain - using \"keyCertSign\" flag set without BasicConstaints"
                        });
                    });

                if((keyUsagePresent === true) && (isCA === true) && (mustBeCA === false))
                    return new Promise(function(resolve, reject)
                    {
                        reject({
                            result: false,
                            result_code: 4,
                            result_message: "Unable to build certificate chain - \"keyCertSign\" flag was not set"
                        });
                    });

                if((isCA === true) && (keyUsagePresent === true) && (cRLSign === false))
                    return new Promise(function(resolve, reject)
                    {
                        reject({
                            result: false,
                            result_code: 5,
                            result_message: "Unable to build certificate chain - intermediate certificate must have \"cRLSign\" key usage flag"
                        });
                    });
            }

            if(isCA === false)
            {
                if(sorted_certs.length !== 0)
                    return new Promise(function(resolve, reject)
                    {
                        reject({
                            result: false,
                            result_code: 7,
                            result_message: "Unable to build certificate chain - more than one possible end-user certificate"
                        });
                    });

                sorted_certs.push(certs[i]);
                end_user_index = i;
            }
        }

        certs.splice(end_user_index, 1);
        // #endregion 

        // #region Check that end-user certificate was found 
        if(sorted_certs.length === 0)
            return new Promise(function(resolve, reject)
            {
                reject({
                    result: false,
                    result_code: 1,
                    result_message: "Can't find end-user certificate"
                });
            });
        // #endregion 

        // #region Return if there is only one certificate in certificate's array 
        if(certs.length === 0)
        {
            if(sorted_certs[0].issuer.isEqual(sorted_certs[0].subject) === true)
                return new Promise(function(resolve, reject) { resolve(sorted_certs); });
            else
            {
                if(this.trusted_certs.length === 0)
                {
                    return new Promise(function(resolve, reject)
                    {
                        reject({
                            result: false,
                            result_code: 70,
                            result_message: "Can't find root certificate"
                        });
                    });
                }
                else
                {
                    certs = _this.trusted_certs.splice(0);
                }
            }

        }
        // #endregion 

        /// <var type="in_window.org.pkijs.simpl.CERT">Current certificate (to find issuer for)</var>
        var current_certificate = sorted_certs[0];

        // #region Auxiliary functions working with Promises
        function basic(subject_certificate, issuer_certificate)
        {
            /// <summary>Basic certificate checks</summary>
            /// <param name="subject_certificate" type="in_window.org.pkijs.simpl.CERT">Certificate for testing (subject)</param>
            /// <param name="issuer_certificate" type="in_window.org.pkijs.simpl.CERT">Certificate for issuer of subject certificate</param>

            // #region Initial variables 
            var sequence = Promise.resolve()
            // #endregion 

            // #region Check validity period for subject certificate 
            sequence = sequence.then(
                function()
                {
                    if((subject_certificate.notBefore.value > check_date) ||
                       (subject_certificate.notAfter.value < check_date))
                    {
                        return new Promise(function(resolve, reject)
                        {
                            reject({
                                result: false,
                                result_code: 8,
                                result_message: "Certificate validity period is out of checking date"
                            });
                        });
                    }
                }
                );
            // #endregion 

            // #region Give ability to not provide CRLs (all certificates assume to be valid) 
            if(_this.crls.length === 0)
                return sequence.then(
                    function()
                    {
                        return new Promise(function(resolve, reject) { resolve(); });
                    }
                    );
            // #endregion 

            // #region Find correct CRL for "issuer_certificate" 
            function find_crl(index)
            {
                return _this.crls[index].verify({ issuerCertificate: issuer_certificate }).then(
                    function(result)
                    {
                        if(result === true)
                            return new Promise(function(resolve, reject) { resolve(_this.crls[index]); });
                        else
                        {
                            index++;

                            if(index < _this.crls.length)
                                return find_crl(index);
                            else
                                return new Promise(function(resolve, reject)
                                {
                                    reject({
                                        result: false,
                                        result_code: 9,
                                        result_message: "Unable to find CRL for issuer's certificate"
                                    });
                                });
                        }
                    },
                    function(error)
                    {
                        return new Promise(function(resolve, reject)
                        {
                            reject({
                                result: false,
                                result_code: 10,
                                result_message: "Unable to find CRL for issuer's certificate"
                            });
                        });
                    }
                    );
            }

            sequence = sequence.then(
                function()
                {
                    return find_crl(0);
                }
                );
            // #endregion 

            // #region Check that subject certificate is not in the CRL 
            sequence = sequence.then(
                function(crl)
                {
                    /// <param name="crl" type="in_window.org.pkijs.simpl.CRL">CRL for issuer's certificate</param>                

                    if(crl.isCertificateRevoked({ certificate: subject_certificate }) === true)
                        return new Promise(function(resolve, reject)
                        {
                            reject({
                                result: false,
                                result_code: 11,
                                result_message: "Subject certificate was revoked"
                            });
                        });
                    else
                        return new Promise(function(resolve, reject) { resolve(); });
                },
                function(error)
                {
                    /// <summary>Not for all certificates we have a CRL. So, this "stub" is for handling such situation - assiming we have a valid, non-revoked certificate</summary>
                    return new Promise(function(resolve, reject) { resolve(); });
                }
                );
            // #endregion 

            return sequence;
        }

        function outer()
        {
            return inner(current_certificate, 0).then(
                function(index)
                {
                    sorted_certs.push(certs[index]);
                    current_certificate = certs[index];

                    certs.splice(index, 1);

                    if(current_certificate.issuer.isEqual(current_certificate.subject) === true)
                    {
                        // #region Check that the "self-signed" certificate there is in "trusted_certs" array 
                        var found = (_this.trusted_certs.length === 0) ? true : false; // If user did not set "trusted_certs" then we have an option to trust any self-signed certificate as root

                        for(var i = 0; i < _this.trusted_certs.length; i++)
                        {
                            if((current_certificate.issuer.isEqual(_this.trusted_certs[i].issuer) === true) &&
                               (current_certificate.subject.isEqual(_this.trusted_certs[i].subject) === true) &&
                               (current_certificate.serialNumber.isEqual(_this.trusted_certs[i].serialNumber) === true))
                            {
                                found = true;
                                break;
                            }
                        }

                        if(found === false)
                            return new Promise(function(resolve, reject)
                            {
                                reject({
                                    result: false,
                                    result_code: 22,
                                    result_message: "Self-signed root certificate not in \"trusted certificates\" array"
                                });
                            });
                        // #endregion 

                        return (current_certificate.verify()).then( // Verifing last, self-signed certificate
                            function(result)
                            {
                                if(result === true)
                                    return basic(current_certificate, current_certificate).then(
                                        function()
                                        {
                                            return new Promise(function(resolve, reject) { resolve(sorted_certs); });
                                        },
                                        function(error)
                                        {
                                            return new Promise(function(resolve, reject)
                                            {
                                                reject({
                                                    result: false,
                                                    result_code: 12,
                                                    result_message: error
                                                });
                                            });
                                        }
                                        );
                                else
                                    return new Promise(function(resolve, reject)
                                    {
                                        reject({
                                            result: false,
                                            result_code: 13,
                                            result_message: "Unable to build certificate chain - signature of root certificate is invalid"
                                        });
                                    });
                            },
                            function(error)
                            {
                                return new Promise(function(resolve, reject)
                                {
                                    reject({
                                        result: false,
                                        result_code: 14,
                                        result_message: error
                                    });
                                });
                            }
                            );
                    }
                    else // In case if self-signed cert for the chain in the "trusted_certs" array
                    {
                        if(certs.length > 0)
                            return outer();
                        else
                        {
                            if(_this.trusted_certs.length !== 0)
                            {
                                certs = _this.trusted_certs.splice(0);
                                return outer();
                            }
                            else
                                return new Promise(function(resolve, reject)
                                {
                                    reject({
                                        result: false,
                                        result_code: 23,
                                        result_message: "Root certificate not found"
                                    });
                                });
                        }
                    }
                },
                function(error)
                {
                    return new Promise(function(resolve, reject)
                    {
                        reject(error);
                    });
                }
                );
        }

        function inner(current_certificate, index)
        {
            if(certs[index].subject.isEqual(current_certificate.issuer) === true)
            {
                return current_certificate.verify({ issuerCertificate: certs[index] }).then(
                    function(result)
                    {
                        if(result === true)
                        {
                            return basic(current_certificate, certs[index]).then(
                                function()
                                {
                                    return new Promise(function(resolve, reject) { resolve(index); });
                                },
                                function(error)
                                {
                                    return new Promise(function(resolve, reject)
                                    {
                                        reject({
                                            result: false,
                                            result_code: 16,
                                            result_message: error
                                        });
                                    });
                                }
                                );
                        }
                        else
                        {
                            if(index < (certs.length - 1))
                                return inner(current_certificate, index + 1);
                            else
                                return new Promise(function(resolve, reject)
                                {
                                    reject({
                                        result: false,
                                        result_code: 17,
                                        result_message: "Unable to build certificate chain - incomplete certificate chain or signature of some certificate is invalid"
                                    });
                                });
                        }
                    },
                    function(error)
                    {
                        return new Promise(function(resolve, reject)
                        {
                            reject({
                                result: false,
                                result_code: 18,
                                result_message: "Unable to build certificate chain - error during certificate signature verification"
                            });
                        });
                    }
                    );
            }
            else
            {
                if(index < (certs.length - 1))
                    return inner(current_certificate, index + 1);
                else
                    return new Promise(function(resolve, reject)
                    {
                        reject({
                            result: false,
                            result_code: 19,
                            result_message: "Unable to build certificate chain - incomplete certificate chain"
                        });
                    });
            }
        }
        // #endregion   

        // #region Find certificates for all issuers 
        return outer();
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CERT_CHAIN.prototype.verify =
    function()
    {
        // #region Initial checks 
        if(this.certs.length === 0)
            return new Promise(function(resolve, reject) { reject("Empty certificate array"); });
        // #endregion 

        // #region Initial variables 
        var sequence = Promise.resolve();

        var _this = this;
        // #endregion 

        // #region Get input variables 
        var initial_policy_set = new Array();
        initial_policy_set.push("2.5.29.32.0"); // "anyPolicy"

        var initial_explicit_policy = false;
        var initial_policy_mapping_inhibit = false;
        var initial_inhibit_policy = false;

        var initial_permitted_subtrees_set = new Array(); // Array of "simpl.x509.GeneralSubtree"
        var initial_excluded_subtrees_set = new Array();  // Array of "simpl.x509.GeneralSubtree"
        var initial_required_name_forms = new Array();    // Array of "simpl.x509.GeneralSubtree"

        var verification_time = new Date();

        if(arguments[0] instanceof Object)
        {
            if("initial_policy_set" in arguments[0])
                initial_policy_set = arguments[0].initial_policy_set;

            if("initial_explicit_policy" in arguments[0])
                initial_explicit_policy = arguments[0].initial_explicit_policy;

            if("initial_policy_mapping_inhibit" in arguments[0])
                initial_policy_mapping_inhibit = arguments[0].initial_policy_mapping_inhibit;

            if("initial_inhibit_policy" in arguments[0])
                initial_inhibit_policy = arguments[0].initial_inhibit_policy;

            if("initial_permitted_subtrees_set" in arguments[0])
                initial_permitted_subtrees_set = arguments[0].initial_permitted_subtrees_set;

            if("initial_excluded_subtrees_set" in arguments[0])
                initial_excluded_subtrees_set = arguments[0].initial_excluded_subtrees_set;

            if("initial_required_name_forms" in arguments[0])
                initial_required_name_forms = arguments[0].initial_required_name_forms;
        }

        var explicit_policy_indicator = initial_explicit_policy;
        var policy_mapping_inhibit_indicator = initial_policy_mapping_inhibit;
        var inhibit_any_policy_indicator = initial_inhibit_policy;

        var pending_constraints = new Array(3);
        pending_constraints[0] = false; // For "explicit_policy_pending"
        pending_constraints[1] = false; // For "policy_mapping_inhibit_pending"
        pending_constraints[2] = false; // For "inhibit_any_policy_pending"

        var explicit_policy_pending = 0;
        var policy_mapping_inhibit_pending = 0;
        var inhibit_any_policy_pending = 0;

        var permitted_subtrees = initial_permitted_subtrees_set;
        var excluded_subtrees = initial_excluded_subtrees_set;
        var required_name_forms = initial_required_name_forms;

        var path_depth = 1;
        // #endregion 

        // #region Sorting certificates in the chain array 
        sequence = (in_window.org.pkijs.simpl.CERT_CHAIN.prototype.sort.call(this)).then(
            function(sorted_certs)
            {
                _this.certs = sorted_certs;
            }
            );
        // #endregion 

        // #region Work with policies
        sequence = sequence.then(
            function()
            {
                // #region Support variables 
                var all_policies = new Array(); // Array of all policies (string values)
                all_policies.push("2.5.29.32.0"); // Put "anyPolicy" at first place

                var policies_and_certs = new Array(); // In fact "array of array" where rows are for each specific policy, column for each certificate and value is "true/false"

                var any_policy_array = new Array(_this.certs.length - 1); // Minus "trusted anchor"
                for(var ii = 0; ii < (_this.certs.length - 1); ii++)
                    any_policy_array[ii] = true;

                policies_and_certs.push(any_policy_array);

                var policy_mappings = new Array(_this.certs.length - 1); // Array of "PolicyMappings" for each certificate
                var cert_policies = new Array(_this.certs.length - 1); // Array of "CertificatePolicies" for each certificate
                // #endregion 

                for(var i = (_this.certs.length - 2) ; i >= 0 ; i--, path_depth++)
                {
                    if("extensions" in _this.certs[i])
                    {
                        for(var j = 0; j < _this.certs[i].extensions.length; j++)
                        {
                            // #region CertificatePolicies 
                            if(_this.certs[i].extensions[j].extnID === "2.5.29.32")
                            {
                                cert_policies[i] = _this.certs[i].extensions[j].parsedValue;

                                for(var k = 0; k < _this.certs[i].extensions[j].parsedValue.certificatePolicies.length; k++)
                                {
                                    var policy_index = (-1);

                                    // #region Try to find extension in "all_policies" array 
                                    for(var s = 0; s < all_policies.length; s++)
                                    {
                                        if(_this.certs[i].extensions[j].parsedValue.certificatePolicies[k].policyIdentifier === all_policies[s])
                                        {
                                            policy_index = s;
                                            break;
                                        }
                                    }
                                    // #endregion 

                                    if(policy_index === (-1))
                                    {
                                        all_policies.push(_this.certs[i].extensions[j].parsedValue.certificatePolicies[k].policyIdentifier);

                                        var cert_array = new Array(_this.certs.length - 1);
                                        cert_array[i] = true;

                                        policies_and_certs.push(cert_array);
                                    }
                                    else
                                        (policies_and_certs[policy_index])[i] = true;
                                }
                            }
                            // #endregion 

                            // #region PolicyMappings 
                            if(_this.certs[i].extensions[j].extnID === "2.5.29.33")
                                policy_mappings[i] = _this.certs[i].extensions[j].parsedValue;
                            // #endregion 

                            // #region PolicyConstraints 
                            if(_this.certs[i].extensions[j].extnID === "2.5.29.36")
                            {
                                if(explicit_policy_indicator == false)
                                {
                                    // #region requireExplicitPolicy 
                                    if(_this.certs[i].extensions[j].parsedValue.requireExplicitPolicy === 0)
                                        explicit_policy_indicator = true;
                                    else
                                    {
                                        if(pending_constraints[0] === false)
                                        {
                                            pending_constraints[0] = true;
                                            explicit_policy_pending = _this.certs[i].extensions[j].parsedValue.requireExplicitPolicy;
                                        }
                                        else
                                        {
                                            explicit_policy_pending = (explicit_policy_pending > _this.certs[i].extensions[j].parsedValue.requireExplicitPolicy) ? _this.certs[i].extensions[j].parsedValue.requireExplicitPolicy : explicit_policy_pending;
                                        }
                                    }
                                    // #endregion 

                                    // #region inhibitPolicyMapping 
                                    if(_this.certs[i].extensions[j].parsedValue.inhibitPolicyMapping === 0)
                                        policy_mapping_inhibit_indicator = true;
                                    else
                                    {
                                        if(pending_constraints[1] === false)
                                        {
                                            pending_constraints[1] = true;
                                            policy_mapping_inhibit_pending = _this.certs[i].extensions[j].parsedValue.requireExplicitPolicy;
                                        }
                                        else
                                        {
                                            policy_mapping_inhibit_pending = (policy_mapping_inhibit_pending > _this.certs[i].extensions[j].parsedValue.requireExplicitPolicy) ? _this.certs[i].extensions[j].parsedValue.requireExplicitPolicy : policy_mapping_inhibit_pending;
                                        }
                                    }
                                    // #endregion   
                                }
                            }
                            // #endregion 

                            // #region InhibitAnyPolicy
                            if(_this.certs[i].extensions[j].extnID === "2.5.29.54")
                            {
                                if(inhibit_any_policy_indicator === false)
                                {
                                    if(_this.certs[i].extensions[j].parsedValue.value_block.value_dec === 0)
                                        inhibit_any_policy_indicator = true;
                                    else
                                    {
                                        if(pending_constraints[2] === false)
                                        {
                                            pending_constraints[2] = true;
                                            inhibit_any_policy_pending = _this.certs[i].extensions[j].parsedValue.value_block.value_dec;
                                        }
                                        else
                                        {
                                            inhibit_any_policy_pending = (inhibit_any_policy_pending > _this.certs[i].extensions[j].parsedValue.value_block.value_dec) ? _this.certs[i].extensions[j].parsedValue.value_block.value_dec : inhibit_any_policy_pending;
                                        }
                                    }
                                }
                            }
                            // #endregion 
                        }

                        // #region Check "inhibit_any_policy_indicator" 
                        if(inhibit_any_policy_indicator === true)
                            delete (policies_and_certs[0])[i]; // Unset value to "undefined" for "anyPolicies" value for current certificate
                        // #endregion 

                        // #region Combine information from certificate policies and policy mappings 
                        if((typeof cert_policies[i] !== "undefined") &&
                           (typeof policy_mappings[i] !== "undefined") &&
                           (policy_mapping_inhibit_indicator === false))
                        {
                            for(var m = 0; m < cert_policies[i].certificatePolicies.length; m++)
                            {
                                var domainPolicy = "";

                                // #region Find if current policy is in "mappings" array 
                                for(var n = 0; n < policy_mappings[i].mappings.length; n++)
                                {
                                    if(policy_mappings[i].mappings[n].subjectDomainPolicy === cert_policies[i].certificatePolicies[m].policyIdentifier)
                                    {
                                        domainPolicy = policy_mappings[i].mappings[n].issuerDomainPolicy;
                                        break;
                                    }

                                    // #region Could be the case for some reasons 
                                    if(policy_mappings[i].mappings[n].issuerDomainPolicy === cert_policies[i].certificatePolicies[m].policyIdentifier)
                                    {
                                        domainPolicy = policy_mappings[i].mappings[n].subjectDomainPolicy;
                                        break;
                                    }
                                    // #endregion 
                                }

                                if(domainPolicy === "")
                                    continue;
                                // #endregion

                                // #region Find the index of "domainPolicy"  
                                var domainPolicy_index = (-1);

                                for(var p = 0; p < all_policies.length; p++)
                                {
                                    if(all_policies[p] === domainPolicy)
                                    {
                                        domainPolicy_index = p;
                                        break;
                                    }
                                }
                                // #endregion 

                                // #region Change array value for "domainPolicy" 
                                if(domainPolicy_index !== (-1))
                                    (policies_and_certs[domainPolicy_index])[i] = true; // Put "set" in "domainPolicy" cell for specific certificate
                                // #endregion 
                            }
                        }
                        // #endregion 

                        // #region Process with "pending constraints" 
                        if(explicit_policy_indicator === false)
                        {
                            if(pending_constraints[0] === true)
                            {
                                explicit_policy_pending--;
                                if(explicit_policy_pending === 0)
                                {
                                    explicit_policy_indicator = true;
                                    pending_constraints[0] = false;
                                }
                            }
                        }

                        if(policy_mapping_inhibit_indicator === false)
                        {
                            if(pending_constraints[1] === true)
                            {
                                policy_mapping_inhibit_pending--;
                                if(policy_mapping_inhibit_pending === 0)
                                {
                                    policy_mapping_inhibit_indicator = true;
                                    pending_constraints[1] = false;
                                }
                            }
                        }

                        if(inhibit_any_policy_indicator === false)
                        {
                            if(pending_constraints[2] === true)
                            {
                                inhibit_any_policy_pending--;
                                if(inhibit_any_policy_pending === 0)
                                {
                                    inhibit_any_policy_indicator = true;
                                    pending_constraints[2] = false;
                                }
                            }
                        }
                        // #endregion 
                    }
                }

                // #region Create "set of authorities-constrained policies"
                var auth_constr_policies = new Array();

                for(var i = 0; i < policies_and_certs.length; i++)
                {
                    var found = true;

                    for(var j = 0; j < (_this.certs.length - 1) ; j++)
                    {
                        if(typeof (policies_and_certs[i])[j] === "undefined")
                        {
                            found = false;
                            break;
                        }
                    }

                    if(found === true)
                        auth_constr_policies.push(all_policies[i]);
                }
                // #endregion 

                // #region Create "set of user-constrained policies"
                var user_constr_policies = new Array();

                for(var i = 0; i < auth_constr_policies.length; i++)
                {
                    for(var j = 0; j < initial_policy_set.length; j++)
                    {
                        if(initial_policy_set[j] === auth_constr_policies[i])
                        {
                            user_constr_policies.push(initial_policy_set[j]);
                            break;
                        }
                    }
                }
                // #endregion 

                // #region Combine output object 
                return {
                    result: (user_constr_policies.length > 0) ? true : false,
                    result_code: 0,
                    result_message: (user_constr_policies.length > 0) ? "" : "Zero \"user_constr_policies\" array, no intersections with \"auth_constr_policies\"",
                    auth_constr_policies: auth_constr_policies,
                    user_constr_policies: user_constr_policies,
                    explicit_policy_indicator: explicit_policy_indicator,
                    policy_mappings: policy_mappings
                };
                // #endregion 
            }
            );
        // #endregion 

        // #region Work with name constraints
        sequence = sequence.then(
            function(policy_result)
            {
                // #region Auxiliary functions for name constraints checking
                function compare_dNSName(name, constraint)
                {
                    /// <summary>Compare two dNSName values</summary>
                    /// <param name="name" type="String">DNS from name</param>
                    /// <param name="constraint" type="String">Constraint for DNS from name</param>
                    /// <returns type="Boolean">Boolean result - valid or invalid the "name" against the "constraint"</returns>

                    // #region Make a "string preparation" for both name and constrain 
                    var name_prepared = in_window.org.pkijs.stringPrep(name);
                    var constraint_prepared = in_window.org.pkijs.stringPrep(constraint);
                    // #endregion 

                    // #region Make a "splitted" versions of "constraint" and "name" 
                    var name_splitted = name_prepared.split(".");
                    var constraint_splitted = constraint_prepared.split(".");
                    // #endregion 

                    // #region Length calculation and additional check 
                    var name_len = name_splitted.length;
                    var constr_len = constraint_splitted.length;

                    if((name_len === 0) || (constr_len === 0) || (name_len < constr_len))
                        return false;
                    // #endregion 

                    // #region Check that no part of "name" has zero length 
                    for(var i = 0; i < name_len; i++)
                    {
                        if(name_splitted[i].length === 0)
                            return false;
                    }
                    // #endregion 

                    // #region Check that no part of "constraint" has zero length
                    for(var i = 0; i < constr_len; i++)
                    {
                        if(constraint_splitted[i].length === 0)
                        {
                            if(i === 0)
                            {
                                if(constr_len === 1)
                                    return false;
                                else
                                    continue;
                            }

                            return false;
                        }
                    }
                    // #endregion 

                    // #region Check that "name" has a tail as "constraint" 

                    for(var i = 0; i < constr_len; i++)
                    {
                        if(constraint_splitted[constr_len - 1 - i].length === 0)
                            continue;

                        if(name_splitted[name_len - 1 - i].localeCompare(constraint_splitted[constr_len - 1 - i]) !== 0)
                            return false;
                    }
                    // #endregion 

                    return true;
                }

                function compare_rfc822Name(name, constraint)
                {
                    /// <summary>Compare two rfc822Name values</summary>
                    /// <param name="name" type="String">E-mail address from name</param>
                    /// <param name="constraint" type="String">Constraint for e-mail address from name</param>
                    /// <returns type="Boolean">Boolean result - valid or invalid the "name" against the "constraint"</returns>

                    // #region Make a "string preparation" for both name and constrain 
                    var name_prepared = in_window.org.pkijs.stringPrep(name);
                    var constraint_prepared = in_window.org.pkijs.stringPrep(constraint);
                    // #endregion 

                    // #region Make a "splitted" versions of "constraint" and "name" 
                    var name_splitted = name_prepared.split("@");
                    var constraint_splitted = constraint_prepared.split("@");
                    // #endregion 

                    // #region Splitted array length checking 
                    if((name_splitted.length === 0) || (constraint_splitted.length === 0) || (name_splitted.length < constraint_splitted.length))
                        return false;
                    // #endregion 

                    if(constraint_splitted.length === 1)
                    {
                        var result = compare_dNSName(name_splitted[1], constraint_splitted[0]);

                        if(result)
                        {
                            // #region Make a "splitted" versions of domain name from "constraint" and "name" 
                            var ns = name_splitted[1].split(".");
                            var cs = constraint_splitted[0].split(".");
                            // #endregion 

                            if(cs[0].length === 0)
                                return true;

                            if(ns.length !== cs.length)
                                return false;
                            else
                                return true;
                        }
                        else
                            return false;
                    }
                    else
                        return (name_prepared.localeCompare(constraint_prepared) === 0) ? true : false;

                    return false;
                }

                function compare_uniformResourceIdentifier(name, constraint)
                {
                    /// <summary>Compare two uniformResourceIdentifier values</summary>
                    /// <param name="name" type="String">uniformResourceIdentifier from name</param>
                    /// <param name="constraint" type="String">Constraint for uniformResourceIdentifier from name</param>
                    /// <returns type="Boolean">Boolean result - valid or invalid the "name" against the "constraint"</returns>

                    // #region Make a "string preparation" for both name and constrain 
                    var name_prepared = in_window.org.pkijs.stringPrep(name);
                    var constraint_prepared = in_window.org.pkijs.stringPrep(constraint);
                    // #endregion 

                    // #region Find out a major URI part to compare with
                    var ns = name_prepared.split("/");
                    var cs = constraint_prepared.split("/");

                    if(cs.length > 1) // Malformed constraint
                        return false;

                    if(ns.length > 1) // Full URI string
                    {
                        for(var i = 0; i < ns.length; i++)
                        {
                            if((ns[i].length > 0) && (ns[i].charAt(ns[i].length - 1) !== ':'))
                            {
                                var ns_port = ns[i].split(":");
                                name_prepared = ns_port[0];
                                break;
                            }
                        }
                    }
                    // #endregion 

                    var result = compare_dNSName(name_prepared, constraint_prepared);

                    if(result)
                    {
                        // #region Make a "splitted" versions of "constraint" and "name" 
                        var name_splitted = name_prepared.split(".");
                        var constraint_splitted = constraint_prepared.split(".");
                        // #endregion 

                        if(constraint_splitted[0].length === 0)
                            return true;

                        if(name_splitted.length !== constraint_splitted.length)
                            return false;
                        else
                            return true;
                    }
                    else
                        return false;

                    return false;
                }

                function compare_iPAddress(name, constraint)
                {
                    /// <summary>Compare two iPAddress values</summary>
                    /// <param name="name" type="in_window.org.pkijs.asn1.OCTETSTRING">iPAddress from name</param>
                    /// <param name="constraint" type="in_window.org.pkijs.asn1.OCTETSTRING">Constraint for iPAddress from name</param>
                    /// <returns type="Boolean">Boolean result - valid or invalid the "name" against the "constraint"</returns>

                    // #region Common variables 
                    var name_view = new Uint8Array(name.value_block.value_hex);
                    var constraint_view = new Uint8Array(constraint.value_block.value_hex);
                    // #endregion 

                    // #region Work with IPv4 addresses 
                    if((name_view.length === 4) && (constraint_view.length === 8))
                    {
                        for(var i = 0; i < 4; i++)
                        {
                            if((name_view[i] ^ constraint_view[i]) & constraint_view[i + 4])
                                return false;
                        }

                        return true;
                    }
                    // #endregion 

                    // #region Work with IPv6 addresses 
                    if((name_view.length === 16) && (constraint_view.length === 32))
                    {
                        for(var i = 0; i < 16; i++)
                        {
                            if((name_view[i] ^ constraint_view[i]) & constraint_view[i + 16])
                                return false;
                        }

                        return true;
                    }
                    // #endregion 

                    return false;
                }

                function compare_directoryName(name, constraint)
                {
                    /// <summary>Compare two directoryName values</summary>
                    /// <param name="name" type="in_window.org.pkijs.simpl.RDN">directoryName from name</param>
                    /// <param name="constraint" type="in_window.org.pkijs.simpl.RDN">Constraint for directoryName from name</param>
                    /// <param name="any" type="Boolean">Boolean flag - should be comparision interrupted after first match or we need to match all "constraints" parts</param>
                    /// <returns type="Boolean">Boolean result - valid or invalid the "name" against the "constraint"</returns>

                    // #region Initial check 
                    if((name.types_and_values.length === 0) || (constraint.types_and_values.length === 0))
                        return true;

                    if(name.types_and_values.length < constraint.types_and_values.length)
                        return false;
                    // #endregion 

                    // #region Initial variables 
                    var result = true;
                    var name_start = 0;
                    // #endregion 

                    for(var i = 0; i < constraint.types_and_values.length; i++)
                    {
                        var local_result = false;

                        for(var j = name_start; j < name.types_and_values.length; j++)
                        {
                            local_result = name.types_and_values[j].isEqual(constraint.types_and_values[i]);

                            if(name.types_and_values[j].type === constraint.types_and_values[i].type)
                                result = result && local_result;

                            if(local_result === true)
                            {
                                if((name_start === 0) || (name_start === j))
                                {
                                    name_start = j + 1;
                                    break;
                                }
                                else // Structure of "name" must be the same with "constraint"
                                    return false;
                            }
                        }

                        if(local_result === false)
                            return false;
                    }

                    return (name_start === 0) ? false : result;
                }
                // #endregion 

                // #region Check a result from "policy checking" part  
                if(policy_result.result === false)
                    return policy_result;
                // #endregion 

                // #region Check all certificates, excluding "trust anchor" 
                path_depth = 1;

                for(var i = (_this.certs.length - 2) ; i >= 0 ; i--, path_depth++)
                {
                    // #region Support variables 
                    var subject_alt_names = new Array();

                    var cert_permitted_subtrees = new Array();
                    var cert_excluded_subtrees = new Array();
                    // #endregion 

                    if("extensions" in _this.certs[i])
                    {
                        for(var j = 0; j < _this.certs[i].extensions.length; j++)
                        {
                            // #region NameConstraints 
                            if(_this.certs[i].extensions[j].extnID === "2.5.29.30")
                            {
                                if("permittedSubtrees" in _this.certs[i].extensions[j].parsedValue)
                                    cert_permitted_subtrees = cert_permitted_subtrees.concat(_this.certs[i].extensions[j].parsedValue.permittedSubtrees);

                                if("excludedSubtrees" in _this.certs[i].extensions[j].parsedValue)
                                    cert_excluded_subtrees = cert_excluded_subtrees.concat(_this.certs[i].extensions[j].parsedValue.excludedSubtrees);
                            }
                            // #endregion   

                            // #region SubjectAltName 
                            if(_this.certs[i].extensions[j].extnID === "2.5.29.17")
                                subject_alt_names = subject_alt_names.concat(_this.certs[i].extensions[j].parsedValue.altNames);
                            // #endregion 

                            // #region PKCS#9 e-mail address 
                            if(_this.certs[i].extensions[j].extnID === "1.2.840.113549.1.9.1")
                                email_addresses.push(_this.certs[i].extensions[j].parsedValue.value);
                            // #endregion 
                        }
                    }

                    // #region Checking for "required name forms" 
                    var form_found = (required_name_forms.length > 0) ? false : true;

                    for(var j = 0; j < required_name_forms.length; j++)
                    {
                        switch(required_name_forms[j].base.NameType)
                        {
                            case 4: // directoryName
                                {
                                    if(required_name_forms[j].base.Name.types_and_values.length !== _this.certs[i].subject.types_and_values.length)
                                        continue;

                                    form_found = true;

                                    for(var k = 0; k < _this.certs[i].subject.types_and_values.length; k++)
                                    {
                                        if(_this.certs[i].subject.types_and_values[k].type !== required_name_forms[j].base.Name.types_and_values[k].type)
                                        {
                                            form_found = false;
                                            break;
                                        }
                                    }

                                    if(form_found === true)
                                        break;
                                }
                                break;
                            default:; // ??? Probably here we should reject the certificate ???
                        }
                    }

                    if(form_found === false)
                    {
                        policy_result.result = false;
                        policy_result.result_code = 21;
                        policy_result.result_message = "No neccessary name form found";

                        return new Promise(function(resolve, reject)
                        {
                            reject(policy_result);
                        });
                    }
                    // #endregion 

                    // #region Checking for "permited sub-trees" 
                    // #region Make groups for all types of constraints 
                    var constr_groups = new Array(); // Array of array for groupped constraints
                    constr_groups[0] = new Array(); // rfc822Name
                    constr_groups[1] = new Array(); // dNSName
                    constr_groups[2] = new Array(); // directoryName
                    constr_groups[3] = new Array(); // uniformResourceIdentifier
                    constr_groups[4] = new Array(); // iPAddress

                    for(var j = 0; j < permitted_subtrees.length; j++)
                    {
                        switch(permitted_subtrees[j].base.NameType)
                        {
                            // #region rfc822Name 
                            case 1:
                                constr_groups[0].push(permitted_subtrees[j]);
                                break;
                            // #endregion 
                            // #region dNSName 
                            case 2:
                                constr_groups[1].push(permitted_subtrees[j]);
                                break;
                            // #endregion 
                            // #region directoryName 
                            case 4:
                                constr_groups[2].push(permitted_subtrees[j]);
                                break;
                            // #endregion 
                            // #region uniformResourceIdentifier 
                            case 6:
                                constr_groups[3].push(permitted_subtrees[j]);
                                break;
                            // #endregion 
                            // #region iPAddress 
                            case 7:
                                constr_groups[4].push(permitted_subtrees[j]);
                                break;
                            // #endregion 
                            // #region default 
                            default:;
                            // #endregion 
                        }
                    }
                    // #endregion   

                    // #region Check name constraints groupped by type, one-by-one 
                    for(var p = 0; p < 5; p++)
                    {
                        var group_permitted = false;
                        var group = constr_groups[p];

                        for(var j = 0; j < group.length; j++)
                        {
                            switch(p)
                            {
                                // #region rfc822Name 
                                case 0:
                                    if(subject_alt_names.length >= 0)
                                    {
                                        for(var k = 0; k < subject_alt_names.length; k++)
                                        {
                                            if(subject_alt_names[k].NameType === 1) // rfc822Name
                                                group_permitted = group_permitted || compare_rfc822Name(subject_alt_names[k].Name, group[j].base.Name);
                                        }
                                    }
                                    else // Try to find out "emailAddress" inside "subject"
                                    {
                                        for(var k = 0; k < _this.certs[i].subject.types_and_values.length; k++)
                                        {
                                            if((_this.certs[i].subject.types_and_values[k].type === "1.2.840.113549.1.9.1") ||    // PKCS#9 e-mail address
                                               (_this.certs[i].subject.types_and_values[k].type === "0.9.2342.19200300.100.1.3")) // RFC1274 "rfc822Mailbox" e-mail address
                                            {
                                                group_permitted = group_permitted || compare_rfc822Name(_this.certs[i].subject.types_and_values[k].value.value_block.value, group[j].base.Name);
                                            }
                                        }
                                    }
                                    break;
                                // #endregion 
                                // #region dNSName 
                                case 1:
                                    if(subject_alt_names.length > 0)
                                    {
                                        for(var k = 0; k < subject_alt_names.length; k++)
                                        {
                                            if(subject_alt_names[k].NameType === 2) // dNSName
                                                group_permitted = group_permitted || compare_dNSName(subject_alt_names[k].Name, group[j].base.Name);
                                        }
                                    }
                                    break;
                                // #endregion 
                                // #region directoryName 
                                case 2:
                                    group_permitted = compare_directoryName(_this.certs[i].subject, group[j].base.Name);
                                    break;
                                // #endregion 
                                // #region uniformResourceIdentifier 
                                case 3:
                                    if(subject_alt_names.length > 0)
                                    {
                                        for(var k = 0; k < subject_alt_names.length; k++)
                                        {
                                            if(subject_alt_names[k].NameType === 6) // uniformResourceIdentifier
                                                group_permitted = group_permitted || compare_uniformResourceIdentifier(subject_alt_names[k].Name, group[j].base.Name);
                                        }
                                    }
                                    break;
                                // #endregion 
                                // #region iPAddress 
                                case 4:
                                    if(subject_alt_names.length > 0)
                                    {
                                        for(var k = 0; k < subject_alt_names.length; k++)
                                        {
                                            if(subject_alt_names[k].NameType === 7) // iPAddress
                                                group_permitted = group_permitted || compare_iPAddress(subject_alt_names[k].Name, group[j].base.Name);
                                        }
                                    }
                                    break;
                                // #endregion 
                                // #region default 
                                default:;
                                // #endregion 
                            }

                            if(group_permitted)
                                break;
                        }

                        if((group_permitted === false) && (group.length > 0))
                        {
                            policy_result.result = false;
                            policy_result.result_code = 41;
                            policy_result.result_message = "Failed to meet \"permitted sub-trees\" name constraint";

                            return new Promise(function(resolve, reject)
                            {
                                reject(policy_result);
                            });
                        }
                    }
                    // #endregion 
                    // #endregion 

                    // #region Checking for "excluded sub-trees" 
                    var excluded = false;

                    for(var j = 0; j < excluded_subtrees.length; j++)
                    {
                        switch(excluded_subtrees[j].base.NameType)
                        {
                            // #region rfc822Name 
                            case 1:
                                if(subject_alt_names.length >= 0)
                                {
                                    for(var k = 0; k < subject_alt_names.length; k++)
                                    {
                                        if(subject_alt_names[k].NameType === 1) // rfc822Name
                                            excluded = excluded || compare_rfc822Name(subject_alt_names[k].Name, excluded_subtrees[j].base.Name);
                                    }
                                }
                                else // Try to find out "emailAddress" inside "subject"
                                {
                                    for(var k = 0; k < _this.subject.types_and_values.length; k++)
                                    {
                                        if((_this.subject.types_and_values[k].type === "1.2.840.113549.1.9.1") ||    // PKCS#9 e-mail address
                                           (_this.subject.types_and_values[k].type === "0.9.2342.19200300.100.1.3")) // RFC1274 "rfc822Mailbox" e-mail address
                                        {
                                            excluded = excluded || compare_rfc822Name(_this.subject.types_and_values[k].value.value_block.value, excluded_subtrees[j].base.Name);
                                        }
                                    }
                                }
                                break;
                            // #endregion 
                            // #region dNSName 
                            case 2:
                                if(subject_alt_names.length > 0)
                                {
                                    for(var k = 0; k < subject_alt_names.length; k++)
                                    {
                                        if(subject_alt_names[k].NameType === 2) // dNSName
                                            excluded = excluded || compare_dNSName(subject_alt_names[k].Name, excluded_subtrees[j].base.Name);
                                    }
                                }
                                break;
                            // #endregion 
                            // #region directoryName 
                            case 4:
                                excluded = excluded || compare_directoryName(_this.certs[i].subject, excluded_subtrees[j].base.Name);
                                break;
                            // #endregion 
                            // #region uniformResourceIdentifier 
                            case 6:
                                if(subject_alt_names.length > 0)
                                {
                                    for(var k = 0; k < subject_alt_names.length; k++)
                                    {
                                        if(subject_alt_names[k].NameType === 6) // uniformResourceIdentifier
                                            excluded = excluded || compare_uniformResourceIdentifier(subject_alt_names[k].Name, excluded_subtrees[j].base.Name);
                                    }
                                }
                                break;
                            // #endregion 
                            // #region iPAddress 
                            case 7:
                                if(subject_alt_names.length > 0)
                                {
                                    for(var k = 0; k < subject_alt_names.length; k++)
                                    {
                                        if(subject_alt_names[k].NameType === 7) // iPAddress
                                            excluded = excluded || compare_iPAddress(subject_alt_names[k].Name, excluded_subtrees[j].base.Name);
                                    }
                                }
                                break;
                            // #endregion 
                            // #region default 
                            default:; // No action, but probably here we need to create a warning for "malformed constraint"
                            // #endregion 
                        }

                        if(excluded)
                            break;
                    }

                    if(excluded === true)
                    {
                        policy_result.result = false;
                        policy_result.result_code = 42;
                        policy_result.result_message = "Failed to meet \"excluded sub-trees\" name constraint";

                        return new Promise(function(resolve, reject)
                        {
                            reject(policy_result);
                        });
                    }
                    // #endregion 

                    // #region Append "cert_..._subtrees" to "..._subtrees" 
                    permitted_subtrees = permitted_subtrees.concat(cert_permitted_subtrees);
                    excluded_subtrees = excluded_subtrees.concat(cert_excluded_subtrees);
                    // #endregion   
                }
                // #endregion 

                return policy_result;
            }
            );
        // #endregion   

        return sequence;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
}
)(typeof exports !== "undefined" ? exports : window);

//third_party/javascript/pkijs/v1/cms_schema.js
/**
 * @license
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015, Peculiar Ventures
 * 2014-2015, Authored by Yury Strozhevsky <www.strozhevsky.com>
 * SPDX-License-Identifier: BSD-3-Clause
 */

/*
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015, Peculiar Ventures
 * All rights reserved.
 *
 * Author 2014-2015, Yury Strozhevsky <www.strozhevsky.com>.
 *
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, 
 *    this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice, 
 *    this list of conditions and the following disclaimer in the documentation 
 *    and/or other materials provided with the distribution.
 *
 * 3. Neither the name of the copyright holder nor the names of its contributors 
 *    may be used to endorse or promote products derived from this software without 
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY 
 * OF SUCH DAMAGE. 
 *
 */
(
function(in_window)
{
    //**************************************************************************************
    // #region Declaration of global variables 
    //**************************************************************************************
    // #region "org" namespace 
    if(typeof in_window.org === "undefined")
        in_window.org = {};
    else
    {
        if(typeof in_window.org !== "object")
            throw new Error("Name org already exists and it's not an object");
    }
    // #endregion 

    // #region "org.pkijs" namespace 
    if(typeof in_window.org.pkijs === "undefined")
        in_window.org.pkijs = {};
    else
    {
        if(typeof in_window.org.pkijs !== "object")
            throw new Error("Name org.pkijs already exists and it's not an object" + " but " + (typeof in_window.org.pkijs));
    }
    // #endregion 

    // #region "org.pkijs.schema" namespace 
    if(typeof in_window.org.pkijs.schema === "undefined")
        in_window.org.pkijs.schema = {};
    else
    {
        if(typeof in_window.org.pkijs.schema !== "object")
            throw new Error("Name org.pkijs.schema already exists and it's not an object" + " but " + (typeof in_window.org.pkijs.schema));
    }
    // #endregion 

    // #region "org.pkijs.schema.cms" namespace 
    if(typeof in_window.org.pkijs.schema.cms === "undefined")
        in_window.org.pkijs.schema.cms = {};
    else
    {
        if(typeof in_window.org.pkijs.schema.cms !== "object")
            throw new Error("Name org.pkijs.schema.cms already exists and it's not an object" + " but " + (typeof in_window.org.pkijs.schema.cms));
    }
    // #endregion 

    // #region "local" namespace 
    var local = {};
    // #endregion   
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "ContentInfo" type (RFC5652) 
    //**************************************************************************************
    in_window.org.pkijs.schema.CMS_CONTENT_INFO =
    function()
    {
        //ContentInfo ::= SEQUENCE {
        //    contentType ContentType,
        //    content [0] EXPLICIT ANY DEFINED BY contentType }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || "ContentInfo"),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.contentType || "contentType") }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [new in_window.org.pkijs.asn1.ANY({ name: (names.content || "content") })] // EXPLICIT ANY value
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema for CMS "CertificateSet" type 
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.OtherCertificateFormat =
    function()
    {
        //OtherCertificateFormat ::= SEQUENCE {
        //    otherCertFormat OBJECT IDENTIFIER,
        //    otherCert ANY DEFINED BY otherCertFormat }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.otherCertFormat || "otherCertFormat") }),
                new in_window.org.pkijs.asn1.ANY({ name: (names.otherCert || "otherCert") })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.CMS_CERTIFICATE_SET =
    function()
    {
        //CertificateSet ::= SET OF CertificateChoices
        //
        //CertificateChoices ::= CHOICE {
        //    certificate Certificate,
        //    extendedCertificate [0] IMPLICIT ExtendedCertificate,  -- Obsolete
        //    v1AttrCert [1] IMPLICIT AttributeCertificateV1,        -- Obsolete
        //    v2AttrCert [2] IMPLICIT AttributeCertificateV2,
        //    other [3] IMPLICIT OtherCertificateFormat }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (
            new in_window.org.pkijs.asn1.SET({
                name: (names.block_name || ""),
                value: [
                    new in_window.org.pkijs.asn1.REPEATED({
                        name: (names.certificates || ""),
                        value: new in_window.org.pkijs.asn1.CHOICE({
                            value: [
                                in_window.org.pkijs.schema.CERT(),
                                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                                    id_block: {
                                        tag_class: 3, // CONTEXT-SPECIFIC
                                        tag_number: 3 // [3]
                                    },
                                    value: [
                                        new in_window.org.pkijs.asn1.OID(),
                                        new in_window.org.pkijs.asn1.ANY()
                                    ]
                                })
                            ]
                        })
                    })
                ]
            })
            ); // __!!!__ Removed definition for "AttributeCertificateV2" __!!!__
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema for CMS "RevocationInfoChoices" type  
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.OtherRevocationInfoFormat =
    function()
    {
        //OtherCertificateFormat ::= SEQUENCE {
        //    otherRevInfoFormat OBJECT IDENTIFIER,
        //    otherRevInfo ANY DEFINED BY otherCertFormat }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.otherRevInfoFormat || "otherRevInfoFormat") }),
                new in_window.org.pkijs.asn1.ANY({ name: (names.otherRevInfo || "otherRevInfo") })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.CSM_REVOCATION_INFO_CHOICES =
    function()
    {
        //RevocationInfoChoices ::= SET OF RevocationInfoChoice

        //RevocationInfoChoice ::= CHOICE {
        //    crl CertificateList,
        //    other [1] IMPLICIT OtherRevocationInfoFormat }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SET({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.REPEATED({
                    name: (names.crls || ""),
                    value: new in_window.org.pkijs.asn1.CHOICE({
                        value: [
                            in_window.org.pkijs.schema.CRL(),
                            new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                                id_block: {
                                    tag_class: 3, // CONTEXT-SPECIFIC
                                    tag_number: 1 // [1]
                                },
                                value: [
                                    new in_window.org.pkijs.asn1.OID(),
                                    new in_window.org.pkijs.asn1.ANY()
                                ]
                            })
                        ]
                    })
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema for CMS "IssuerAndSerialNumber" type 
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.IssuerAndSerialNumber =
    function()
    {
        //IssuerAndSerialNumber ::= SEQUENCE {
        //    issuer Name,
        //    serialNumber CertificateSerialNumber }
        //
        //CertificateSerialNumber ::= INTEGER

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                in_window.org.pkijs.schema.RDN(names.issuer || {}),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.serialNumber || "") })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema for CMS "Attribute" type
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.Attribute =
    function()
    {
        //Attribute ::= SEQUENCE {
        //    attrType OBJECT IDENTIFIER,
        //    attrValues SET OF AttributeValue }

        //AttributeValue ::= ANY

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.attrType || "") }),
                new in_window.org.pkijs.asn1.SET({
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            name: (names.attrValues || ""),
                            value: new in_window.org.pkijs.asn1.ANY()
                        })
                    ]
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "RSAES-OAEP-params" type (RFC3447)
    //**************************************************************************************
    in_window.org.pkijs.schema.x509.RSAES_OAEP_params =
    function()
    {
        //RSAES-OAEP-params ::= SEQUENCE {
        //    hashAlgorithm     [0] HashAlgorithm    DEFAULT sha1,
        //    maskGenAlgorithm  [1] MaskGenAlgorithm DEFAULT mgf1SHA1,
        //    pSourceAlgorithm  [2] PSourceAlgorithm DEFAULT pSpecifiedEmpty
        //}

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    optional: true,
                    value: [in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.hashAlgorithm || {})]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    optional: true,
                    value: [in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.maskGenAlgorithm || {})]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 2 // [2]
                    },
                    optional: true,
                    value: [in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.pSourceAlgorithm || {})]
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema for CMS "SignedAttributes" and "UnsignedAttributes" types
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.SignedUnsignedAttributes =
    function(input_args, input_tag_number)
    {
        //    signedAttrs [0] IMPLICIT SignedAttributes OPTIONAL,
        //    unsignedAttrs [1] IMPLICIT UnsignedAttributes OPTIONAL }

        //SignedAttributes ::= SET SIZE (1..MAX) OF Attribute

        //UnsignedAttributes ::= SET SIZE (1..MAX) OF Attribute

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
            name: (names.block_name || ""),
            optional: true,
            id_block: {
                tag_class: 3, // CONTEXT-SPECIFIC
                tag_number: input_tag_number // "SignedAttributes" = 0, "UnsignedAttributes" = 1
            },
            value: [
                new in_window.org.pkijs.asn1.REPEATED({
                    name: (names.attributes || ""),
                    value: in_window.org.pkijs.schema.cms.Attribute()
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for CMS "SignerInfo" type 
    //**************************************************************************************
    in_window.org.pkijs.schema.CMS_SIGNER_INFO =
    function()
    {
        //SignerInfo ::= SEQUENCE {
        //    version CMSVersion,
        //    sid SignerIdentifier,
        //    digestAlgorithm DigestAlgorithmIdentifier,
        //    signedAttrs [0] IMPLICIT SignedAttributes OPTIONAL,
        //    signatureAlgorithm SignatureAlgorithmIdentifier,
        //    signature SignatureValue,
        //    unsignedAttrs [1] IMPLICIT UnsignedAttributes OPTIONAL }
        //
        //SignerIdentifier ::= CHOICE {
        //    issuerAndSerialNumber IssuerAndSerialNumber,
        //    subjectKeyIdentifier [0] SubjectKeyIdentifier }
        //
        //SubjectKeyIdentifier ::= OCTET STRING

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (
            new in_window.org.pkijs.asn1.SEQUENCE({
                name: "SignerInfo",
                value: [
                    new in_window.org.pkijs.asn1.INTEGER({ name: (names.version || "SignerInfo.version") }),
                    new in_window.org.pkijs.asn1.CHOICE({ 
                        value: [
                            in_window.org.pkijs.schema.cms.IssuerAndSerialNumber(names.sid || {
                                names: {
                                    block_name: "SignerInfo.sid"
                                }
                            }),
                            new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                                optional: true,
                                name: (names.sid || "SignerInfo.sid"),
                                id_block: {
                                    tag_class: 3, // CONTEXT-SPECIFIC
                                    tag_number: 0 // [0]
                                },
                                value: [new in_window.org.pkijs.asn1.OCTETSTRING()]
                            })
                        ]
                    }),
                    in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.digestAlgorithm || {
                        names: {
                            block_name: "SignerInfo.digestAlgorithm"
                        }
                    }),
                    in_window.org.pkijs.schema.cms.SignedUnsignedAttributes(names.signedAttrs || {
                        names: {
                            block_name: "SignerInfo.signedAttrs"
                        }
                    }, 0),
                    in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.signatureAlgorithm || {
                        names: {
                            block_name: "SignerInfo.signatureAlgorithm"
                        }
                    }),
                    new in_window.org.pkijs.asn1.OCTETSTRING({ name: (names.signature || "SignerInfo.signature") }),
                    in_window.org.pkijs.schema.cms.SignedUnsignedAttributes(names.unsignedAttrs || {
                        names: {
                            block_name: "SignerInfo.unsignedAttrs"
                        }
                    }, 1)
                ]
            })
            );
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema for CMS "EncapsulatedContentInfo" type
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.EncapsulatedContentInfo =
    function()
    {
        //EncapsulatedContentInfo ::= SEQUENCE {
        //    eContentType ContentType,
        //    eContent [0] EXPLICIT OCTET STRING OPTIONAL } // Changed it to ANY, as in PKCS#7

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.eContentType || "") }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.ANY({ name: (names.eContent || "") }) // In order to aling this with PKCS#7 and CMS as well
                    ]
                })
            ]
        }));

        //new in_window.org.pkijs.asn1.OCTETSTRING({ name: (names.eContent || "") })
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "SignedData" type (RFC5652) 
    //**************************************************************************************
    in_window.org.pkijs.schema.CMS_SIGNED_DATA =
    function(names, optional_flag)
    {
        //SignedData ::= SEQUENCE {
        //    version CMSVersion,
        //    digestAlgorithms DigestAlgorithmIdentifiers,
        //    encapContentInfo EncapsulatedContentInfo,
        //    certificates [0] IMPLICIT CertificateSet OPTIONAL,
        //    crls [1] IMPLICIT RevocationInfoChoices OPTIONAL,
        //    signerInfos SignerInfos }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        if(typeof optional_flag === "undefined")
            optional_flag = false;

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || "SignedData"),
            value: [
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.version || "SignedData.version") }),
                new in_window.org.pkijs.asn1.SET({
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            name: (names.digestAlgorithms || "SignedData.digestAlgorithms"),
                            value: in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER()
                        })
                    ]
                }),
                in_window.org.pkijs.schema.cms.EncapsulatedContentInfo(names.encapContentInfo || {
                    names: {
                        block_name: "SignedData.encapContentInfo"
                    }
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: in_window.org.pkijs.schema.CMS_CERTIFICATE_SET(names.certificates || {
                        names: {
                            certificates: "SignedData.certificates"
                        }
                    }).value_block.value
                }), // IMPLICIT CertificateSet
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    value: in_window.org.pkijs.schema.CSM_REVOCATION_INFO_CHOICES(names.crls || {
                        names: {
                            crls: "SignedData.crls"
                        }
                    }).value_block.value
                }), // IMPLICIT RevocationInfoChoices
                new in_window.org.pkijs.asn1.SET({
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            name: (names.signerInfos || "SignedData.signerInfos"),
                            value: in_window.org.pkijs.schema.CMS_SIGNER_INFO()
                        })
                    ]
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema for CMS "ECC-CMS-SharedInfo" type (RFC5753)
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.ECC_CMS_SharedInfo =
    function()
    {
        //ECC-CMS-SharedInfo  ::=  SEQUENCE {
        //    keyInfo      AlgorithmIdentifier,
        //    entityUInfo  [0] EXPLICIT OCTET STRING OPTIONAL,
        //    suppPubInfo  [2] EXPLICIT OCTET STRING }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.keyInfo || {}),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    name: (names.entityUInfo || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    optional: true,
                    value: [new in_window.org.pkijs.asn1.OCTETSTRING()]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    name: (names.suppPubInfo || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 2 // [2]
                    },
                    value: [new in_window.org.pkijs.asn1.OCTETSTRING()]
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema for CMS "PBKDF2-params" type (RFC2898)
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.PBKDF2_params =
    function()
    {
        //PBKDF2-params ::= SEQUENCE {
        //    salt CHOICE {
        //        specified OCTET STRING,
        //        otherSource AlgorithmIdentifier },
        //  iterationCount INTEGER (1..MAX),
        //  keyLength INTEGER (1..MAX) OPTIONAL,
        //  prf AlgorithmIdentifier
        //    DEFAULT { algorithm hMAC-SHA1, parameters NULL } }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.CHOICE({
                    value: [
                        new in_window.org.pkijs.asn1.OCTETSTRING({ name: (names.salt_primitive || "") }),
                        in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.salt_constructed || {})
                    ]
                }),
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.iterationCount || "") }),
                new in_window.org.pkijs.asn1.INTEGER({
                    name: (names.keyLength || ""),
                    optional: true
                }),
                in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.prf || {
                    names: {
                        optional: true
                    }
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "RecipientInfo" type (RFC5652) 
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.RecipientIdentifier =
    function()
    {
        //RecipientIdentifier ::= CHOICE {
        //    issuerAndSerialNumber IssuerAndSerialNumber,
        //    subjectKeyIdentifier [0] SubjectKeyIdentifier }
        //
        //SubjectKeyIdentifier ::= OCTET STRING

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.CHOICE({
            value: [
                in_window.org.pkijs.schema.cms.IssuerAndSerialNumber({
                    names: {
                        block_name: (names.block_name || "")
                    }
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    name: (names.block_name || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [new in_window.org.pkijs.asn1.OCTETSTRING()]
                })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.KeyTransRecipientInfo =
    function()
    {
        //KeyTransRecipientInfo ::= SEQUENCE {
        //    version CMSVersion,  -- always set to 0 or 2
        //    rid RecipientIdentifier,
        //    keyEncryptionAlgorithm KeyEncryptionAlgorithmIdentifier,
        //    encryptedKey EncryptedKey }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.version || "") }),
                in_window.org.pkijs.schema.cms.RecipientIdentifier(names.rid || {}),
                in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.keyEncryptionAlgorithm || {}),
                new in_window.org.pkijs.asn1.OCTETSTRING({ name: (names.encryptedKey || "") })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.OriginatorPublicKey =
    function()
    {
        //OriginatorPublicKey ::= SEQUENCE {
        //    algorithm AlgorithmIdentifier,
        //    publicKey BIT STRING }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.algorithm || {}),
                new in_window.org.pkijs.asn1.BITSTRING({ name: (names.publicKey || "") })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.OriginatorIdentifierOrKey =
    function()
    {
        //OriginatorIdentifierOrKey ::= CHOICE {
        //    issuerAndSerialNumber IssuerAndSerialNumber,
        //    subjectKeyIdentifier [0] SubjectKeyIdentifier,
        //    originatorKey [1] OriginatorPublicKey }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.CHOICE({
            value: [
                in_window.org.pkijs.schema.cms.IssuerAndSerialNumber({
                    names: {
                        block_name: (names.block_name || "")
                    }
                }),
                new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    name: (names.block_name || "")
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    name: (names.block_name || ""),
                    value: in_window.org.pkijs.schema.cms.OriginatorPublicKey().value_block.value
                })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.OtherKeyAttribute =
    function()
    {
        //OtherKeyAttribute ::= SEQUENCE {
        //    keyAttrId OBJECT IDENTIFIER,
        //    keyAttr ANY DEFINED BY keyAttrId OPTIONAL }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            optional: (names.optional || true),
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.keyAttrId || "") }),
                new in_window.org.pkijs.asn1.ANY({
                    optional: true,
                    name: (names.keyAttr || "")
                })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.RecipientKeyIdentifier =
    function()
    {
        //RecipientKeyIdentifier ::= SEQUENCE {
        //    subjectKeyIdentifier SubjectKeyIdentifier,
        //    date GeneralizedTime OPTIONAL,
        //    other OtherKeyAttribute OPTIONAL }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OCTETSTRING({ name: (names.subjectKeyIdentifier || "") }),
                new in_window.org.pkijs.asn1.GENERALIZEDTIME({
                    optional: true,
                    name: (names.date || "")
                }),
                in_window.org.pkijs.schema.cms.OtherKeyAttribute(names.other || {})
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.KeyAgreeRecipientIdentifier =
    function()
    {
        //KeyAgreeRecipientIdentifier ::= CHOICE {
        //    issuerAndSerialNumber IssuerAndSerialNumber,
        //    rKeyId [0] IMPLICIT RecipientKeyIdentifier }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.CHOICE({
            value: [
                in_window.org.pkijs.schema.cms.IssuerAndSerialNumber(names.issuerAndSerialNumber || {
                    names: {
                        block_name: (names.block_name || "")
                    }
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    name: (names.block_name || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: in_window.org.pkijs.schema.cms.RecipientKeyIdentifier(names.rKeyId || {
                        names: {
                            block_name: (names.block_name || "")
                        }
                    }).value_block.value
                })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.RecipientEncryptedKey =
    function()
    {
        //RecipientEncryptedKey ::= SEQUENCE {
        //    rid KeyAgreeRecipientIdentifier,
        //    encryptedKey EncryptedKey }
        //
        //EncryptedKey ::= OCTET STRING

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                in_window.org.pkijs.schema.cms.KeyAgreeRecipientIdentifier(names.rid || {}),
                new in_window.org.pkijs.asn1.OCTETSTRING({ name: (names.encryptedKey || "") })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.RecipientEncryptedKeys =
    function()
    {
        //RecipientEncryptedKeys ::= SEQUENCE OF RecipientEncryptedKey

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.REPEATED({
                    name: (names.RecipientEncryptedKeys || ""),
                    value: in_window.org.pkijs.schema.cms.RecipientEncryptedKey()
                })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.KeyAgreeRecipientInfo =
    function()
    {
        //KeyAgreeRecipientInfo ::= SEQUENCE {
        //    version CMSVersion,  -- always set to 3
        //    originator [0] EXPLICIT OriginatorIdentifierOrKey,
        //    ukm [1] EXPLICIT UserKeyingMaterial OPTIONAL,
        //    keyEncryptionAlgorithm KeyEncryptionAlgorithmIdentifier,
        //    recipientEncryptedKeys RecipientEncryptedKeys }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: names.block_name || "",
            value: [
                new in_window.org.pkijs.asn1.INTEGER({ name: names.version || "" }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [
                        in_window.org.pkijs.schema.cms.OriginatorIdentifierOrKey(names.originator || {})
                    ]
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    value: [new in_window.org.pkijs.asn1.OCTETSTRING({ name: names.ukm || "" })]
                }),
                in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.keyEncryptionAlgorithm || {}),
                in_window.org.pkijs.schema.cms.RecipientEncryptedKeys(names.recipientEncryptedKeys || {})
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.KEKIdentifier =
    function()
    {
        //KEKIdentifier ::= SEQUENCE {
        //    keyIdentifier OCTET STRING,
        //    date GeneralizedTime OPTIONAL,
        //    other OtherKeyAttribute OPTIONAL }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OCTETSTRING({ name: (names.keyIdentifier || "") }),
                new in_window.org.pkijs.asn1.GENERALIZEDTIME({
                    optional: true,
                    name: (names.date || "")
                }),
                in_window.org.pkijs.schema.cms.OtherKeyAttribute(names.other || {})
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.KEKRecipientInfo =
    function()
    {
        //KEKRecipientInfo ::= SEQUENCE {
        //    version CMSVersion,  -- always set to 4
        //    kekid KEKIdentifier,
        //    keyEncryptionAlgorithm KeyEncryptionAlgorithmIdentifier,
        //    encryptedKey EncryptedKey }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.version || "") }),
                in_window.org.pkijs.schema.cms.KEKIdentifier(names.kekid || {}),
                in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.keyEncryptionAlgorithm || {}),
                new in_window.org.pkijs.asn1.OCTETSTRING({ name: (names.encryptedKey || "") })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.PasswordRecipientinfo =
    function()
    {
        //PasswordRecipientInfo ::= SEQUENCE {
        //    version CMSVersion,   -- Always set to 0
        //    keyDerivationAlgorithm [0] KeyDerivationAlgorithmIdentifier OPTIONAL,
        //    keyEncryptionAlgorithm KeyEncryptionAlgorithmIdentifier,
        //    encryptedKey EncryptedKey }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.version || "") }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    name: (names.keyDerivationAlgorithm || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER().value_block.value
                }),
                in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.keyEncryptionAlgorithm || {}),
                new in_window.org.pkijs.asn1.OCTETSTRING({ name: (names.encryptedKey || "") })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.OtherRecipientInfo =
    function()
    {
        //OtherRecipientInfo ::= SEQUENCE {
        //    oriType OBJECT IDENTIFIER,
        //    oriValue ANY DEFINED BY oriType }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.oriType || "") }),
                new in_window.org.pkijs.asn1.ANY({ name: (names.oriValue || "") })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.CMS_RECIPIENT_INFO =
    function()
    {
        //RecipientInfo ::= CHOICE {
        //    ktri KeyTransRecipientInfo,
        //    kari [1] KeyAgreeRecipientInfo,
        //    kekri [2] KEKRecipientInfo,
        //    pwri [3] PasswordRecipientinfo,
        //    ori [4] OtherRecipientInfo }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.CHOICE({
            value: [
                in_window.org.pkijs.schema.cms.KeyTransRecipientInfo({
                    names: {
                        block_name: (names.block_name || "")
                    }
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    name: (names.block_name || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    value: in_window.org.pkijs.schema.cms.KeyAgreeRecipientInfo().value_block.value
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    name: (names.block_name || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 2 // [2]
                    },
                    value: in_window.org.pkijs.schema.cms.KEKRecipientInfo().value_block.value
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    name: (names.block_name || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 3 // [3]
                    },
                    value: in_window.org.pkijs.schema.cms.PasswordRecipientinfo().value_block.value
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    name: (names.block_name || ""),
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 4 // [4]
                    },
                    value: in_window.org.pkijs.schema.cms.OtherRecipientInfo().value_block.value
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region ASN.1 schema definition for "EnvelopedData" type (RFC5652) 
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.OriginatorInfo =
    function()
    {
        //OriginatorInfo ::= SEQUENCE {
        //    certs [0] IMPLICIT CertificateSet OPTIONAL,
        //    crls [1] IMPLICIT RevocationInfoChoices OPTIONAL }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    name: (names.certs || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: in_window.org.pkijs.schema.CMS_CERTIFICATE_SET().value_block.value
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    name: (names.crls || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    value: in_window.org.pkijs.schema.CSM_REVOCATION_INFO_CHOICES().value_block.value
                })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.cms.EncryptedContentInfo =
    function()
    {
        //EncryptedContentInfo ::= SEQUENCE {
        //    contentType ContentType,
        //    contentEncryptionAlgorithm ContentEncryptionAlgorithmIdentifier,
        //    encryptedContent [0] IMPLICIT EncryptedContent OPTIONAL }
        //
        // Comment: Strange, but modern crypto engines create "encryptedContent" as "[0] EXPLICIT EncryptedContent"
        //
        //EncryptedContent ::= OCTET STRING

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.OID({ name: (names.contentType || "") }),
                in_window.org.pkijs.schema.ALGORITHM_IDENTIFIER(names.contentEncryptionAlgorithm || {}),
                // The CHOICE we need because "EncryptedContent" could have either "constructive"
                // or "primitive" form of encoding and we need to handle both variants
                new in_window.org.pkijs.asn1.CHOICE({
                    value: [
                        new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                            name: (names.encryptedContent || ""),
                            id_block: {
                                tag_class: 3, // CONTEXT-SPECIFIC
                                tag_number: 0 // [0]
                            },
                            value: [
                                new in_window.org.pkijs.asn1.REPEATED({
                                    value: new in_window.org.pkijs.asn1.OCTETSTRING()
                                })
                            ]
                        }),
                        new in_window.org.pkijs.asn1.ASN1_PRIMITIVE({
                            name: (names.encryptedContent || ""),
                            id_block: {
                                tag_class: 3, // CONTEXT-SPECIFIC
                                tag_number: 0 // [0]
                            }
                        })
                    ]
                })
            ]
        }));
    }
    //**************************************************************************************
    in_window.org.pkijs.schema.CMS_ENVELOPED_DATA =
    function()
    {
        //EnvelopedData ::= SEQUENCE {
        //    version CMSVersion,
        //    originatorInfo [0] IMPLICIT OriginatorInfo OPTIONAL,
        //    recipientInfos RecipientInfos,
        //    encryptedContentInfo EncryptedContentInfo,
        //    unprotectedAttrs [1] IMPLICIT UnprotectedAttributes OPTIONAL }

        var names = in_window.org.pkijs.getNames(arguments[0]);

        return (new in_window.org.pkijs.asn1.SEQUENCE({
            name: (names.block_name || ""),
            value: [
                new in_window.org.pkijs.asn1.INTEGER({ name: (names.version || "") }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    name: (names.originatorInfo || ""),
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: in_window.org.pkijs.schema.cms.OriginatorInfo().value_block.value
                }),
                new in_window.org.pkijs.asn1.SET({
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            name: (names.recipientInfos || ""),
                            value: in_window.org.pkijs.schema.CMS_RECIPIENT_INFO()
                        })
                    ]
                }),
                in_window.org.pkijs.schema.cms.EncryptedContentInfo(names.encryptedContentInfo || {}),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    value: [
                        new in_window.org.pkijs.asn1.REPEATED({
                            name: (names.unprotectedAttrs || ""),
                            value: in_window.org.pkijs.schema.ATTRIBUTE()
                        })
                    ]
                })
            ]
        }));
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
}
)(typeof exports !== "undefined" ? exports : window);
//third_party/javascript/pkijs/v1/cms_simpl.js
/**
 * @license
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015, Peculiar Ventures
 * 2014-2015, Authored by Yury Strozhevsky <www.strozhevsky.com>
 * SPDX-License-Identifier: BSD-3-Clause
 */

/*
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015, Peculiar Ventures
 * All rights reserved.
 *
 * Author 2014-2015, Yury Strozhevsky <www.strozhevsky.com>.
 *
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, 
 *    this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice, 
 *    this list of conditions and the following disclaimer in the documentation 
 *    and/or other materials provided with the distribution.
 *
 * 3. Neither the name of the copyright holder nor the names of its contributors 
 *    may be used to endorse or promote products derived from this software without 
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY 
 * OF SUCH DAMAGE. 
 *
 */
(
function(in_window)
{
    //**************************************************************************************
    // #region Declaration of global variables 
    //**************************************************************************************
    // #region "org" namespace 
    if(typeof in_window.org === "undefined")
        in_window.org = {};
    else
    {
        if(typeof in_window.org !== "object")
            throw new Error("Name org already exists and it's not an object");
    }
    // #endregion 

    // #region "org.pkijs" namespace 
    if(typeof in_window.org.pkijs === "undefined")
        in_window.org.pkijs = {};
    else
    {
        if(typeof in_window.org.pkijs !== "object")
            throw new Error("Name org.pkijs already exists and it's not an object" + " but " + (typeof in_window.org.pkijs));
    }
    // #endregion 

    // #region "org.pkijs.simpl" namespace 
    if(typeof in_window.org.pkijs.simpl === "undefined")
        in_window.org.pkijs.simpl = {};
    else
    {
        if(typeof in_window.org.pkijs.simpl !== "object")
            throw new Error("Name org.pkijs.simpl already exists and it's not an object" + " but " + (typeof in_window.org.pkijs.simpl));
    }
    // #endregion 

    // #region "org.pkijs.simpl.cms" namespace 
    if(typeof in_window.org.pkijs.simpl.cms === "undefined")
        in_window.org.pkijs.simpl.cms = {};
    else
    {
        if(typeof in_window.org.pkijs.simpl.cms !== "object")
            throw new Error("Name org.pkijs.simpl.cms already exists and it's not an object" + " but " + (typeof in_window.org.pkijs.simpl.cms));
    }
    // #endregion 

    // #region "local" namespace 
    var local = {};
    // #endregion   
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Functions, common for CMS module 
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.kdfWithCounter =
    function(hashFunction, Zbuffer, Counter, SharedInfo)
    {
        /// <summary>ANS X9.63 Key Derivation Function having a "Counter" as a parameter</summary>
        /// <param name="hashFunction" type="String">Used hash function</param>
        /// <param name="Zbuffer" type="ArrayBuffer">ArrayBuffer containing ECDH shared secret to derive from</param>
        /// <param name="keydatalen" type="Int">Length of used kew derivation function</param>
        /// <param name="SharedInfo" type="ArrayBuffer">Usually DER encoded "ECC_CMS_SharedInfo" structure</param>

        // #region Check of input parameters 
        switch(hashFunction.toUpperCase())
        {
            case "SHA-1":
            case "SHA-256":
            case "SHA-384":
            case "SHA-512":
                break;
            default:
                return new Promise(function(resolve, reject) { reject("Unknown hash function: " + hashFunction); });
        }

        if((Zbuffer instanceof ArrayBuffer) === false)
            return new Promise(function(resolve, reject) { reject("Please set \"Zbuffer\" as \"ArrayBuffer\""); });

        if(Zbuffer.byteLength === 0)
            return new Promise(function(resolve, reject) { reject("\"Zbuffer\" has zero length, error"); });

        if((SharedInfo instanceof ArrayBuffer) === false)
            return new Promise(function(resolve, reject) { reject("Please set \"SharedInfo\" as \"ArrayBuffer\""); });

        if(Counter > 255)
            return new Promise(function(resolve, reject) { reject("Please set \"Counter\" variable to value less or equal to 255"); });
        // #endregion   

        // #region Initial variables 
        var counterBuffer = new ArrayBuffer(4);
        var counterView = new Uint8Array(counterBuffer);
        counterView[0] = 0x00;
        counterView[1] = 0x00;
        counterView[2] = 0x00;
        counterView[3] = Counter;

        var combinedBuffer = new ArrayBuffer(0);
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Create a combined ArrayBuffer for digesting 
        combinedBuffer = in_window.org.pkijs.concat_buffers(combinedBuffer, Zbuffer);
        combinedBuffer = in_window.org.pkijs.concat_buffers(combinedBuffer, counterBuffer);
        combinedBuffer = in_window.org.pkijs.concat_buffers(combinedBuffer, SharedInfo);
        // #endregion 

        // #region Return digest of combined ArrayBuffer and information about current counter 
        return crypto.digest({ 
            name: hashFunction 
        }, 
        combinedBuffer).
        then(
        function(result)
        {
            return {
                counter: Counter,
                result: result
            };
        }
        );
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.kdf =
    function(hashFunction, Zbuffer, keydatalen, SharedInfo)
    {
        /// <summary>ANS X9.63 Key Derivation Function</summary>
        /// <param name="hashFunction" type="String">Used hash function</param>
        /// <param name="Zbuffer" type="ArrayBuffer">ArrayBuffer containing ECDH shared secret to derive from</param>
        /// <param name="keydatalen" type="Number">Length (!!! in BITS !!!) of used kew derivation function</param>
        /// <param name="SharedInfo" type="ArrayBuffer">Usually DER encoded "ECC_CMS_SharedInfo" structure</param>

        // #region Initial variables 
        var hashLength = 0;
        var maxCounter = 1;

        var kdfArray = new Array();
        // #endregion 

        // #region Check of input parameters 
        switch(hashFunction.toUpperCase())
        {
            case "SHA-1":
                hashLength = 160; // In bits
                break;
            case "SHA-256":
                hashLength = 256; // In bits
                break;
            case "SHA-384":
                hashLength = 384; // In bits
                break;
            case "SHA-512":
                hashLength = 512; // In bits
                break;
            default:
                return new Promise(function(resolve, reject) { reject("Unknown hash function: " + hashFunction); });
        }

        if((Zbuffer instanceof ArrayBuffer) === false)
            return new Promise(function(resolve, reject) { reject("Please set \"Zbuffer\" as \"ArrayBuffer\""); });

        if(Zbuffer.byteLength === 0)
            return new Promise(function(resolve, reject) { reject("\"Zbuffer\" has zero length, error"); });

        if((SharedInfo instanceof ArrayBuffer) === false)
            return new Promise(function(resolve, reject) { reject("Please set \"SharedInfo\" as \"ArrayBuffer\""); });
        // #endregion   

        // #region Calculated maximum value of "Counter" variable 
        var quotient = keydatalen / hashLength;

        if(Math.floor(quotient) > 0)
        {
            maxCounter = Math.floor(quotient);

            if((quotient - maxCounter) > 0)
                maxCounter++;
        }
        // #endregion 

        // #region Create an array of "kdfWithCounter" 
        for(var i = 1; i <= maxCounter; i++)
            kdfArray.push(in_window.org.pkijs.simpl.cms.kdfWithCounter(hashFunction, Zbuffer, i, SharedInfo));
        // #endregion   

        // #region Return combined digest with specified length 
        return Promise.all(kdfArray).
        then(
        function(incomingResult)
        {
            // #region Initial variables 
            var combinedBuffer = new ArrayBuffer(0);
            var currentCounter = 1;
            var found = true;
            // #endregion 

            // #region Combine all buffer together 
            while(found)
            {
                found = false;

                for(var i = 0; i < incomingResult.length; i++)
                {
                    if(incomingResult[i].counter === currentCounter)
                    {
                        combinedBuffer = org.pkijs.concat_buffers(combinedBuffer, incomingResult[i].result);
                        found = true;
                        break;
                    }
                }

                currentCounter++;
            }
            // #endregion 

            // #region Create output buffer with specified length 
            keydatalen >>= 3; // Divide by 8 since "keydatalen" is in bits

            if(combinedBuffer.byteLength > keydatalen)
            {
                var newBuffer = new ArrayBuffer(keydatalen);
                var newView = new Uint8Array(newBuffer);
                var combinedView = new Uint8Array(combinedBuffer);

                for(var i = 0; i < keydatalen; i++)
                    newView[i] = combinedView[i];

                return newBuffer;
            }
            else
                return combinedBuffer; // Since the situation when "combinedBuffer.byteLength < keydatalen" here we have only "combinedBuffer.byteLength === keydatalen"
            // #endregion 
        },
        function(error)
        {
            return new Promise(function(resolve, reject) { reject(error); });
        }
        );
        // #endregion 
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "CMS_CONTENT_INFO" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_CONTENT_INFO =
    function()
    {
        // #region Internal properties of the object 
        this.contentType = "";
        this.content = new in_window.org.pkijs.asn1.ANY(); // Just to make a stub
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.CMS_CONTENT_INFO.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.contentType = arguments[0].contentType || "";
                this.content = arguments[0].content || new in_window.org.pkijs.asn1.ANY(); // Just to make a stub
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_CONTENT_INFO.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.CMS_CONTENT_INFO()
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for CMS_CONTENT_INFO");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.contentType = asn1.result["contentType"].value_block.toString();
        this.content = asn1.result["content"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_CONTENT_INFO.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                new in_window.org.pkijs.asn1.OID({ value: this.contentType }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [this.content] // EXPLICIT ANY value
                })
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_CONTENT_INFO.prototype.toJSON =
    function()
    {
        var _object = {
            contentType: this.contentType
        };

        if(!(this.content instanceof in_window.org.pkijs.asn1.ANY))
            _object.content = this.content.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "OtherCertificateFormat" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OtherCertificateFormat =
    function()
    {
        // #region Internal properties of the object 
        this.otherCertFormat = "";
        this.otherCert = new in_window.org.pkijs.asn1.ANY(); // Just to make a stub
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.OtherCertificateFormat.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.otherCertFormat = arguments[0].contentType || "";
                this.otherCert = arguments[0].content || new in_window.org.pkijs.asn1.ANY(); // Just to make a stub
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OtherCertificateFormat.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.OtherCertificateFormat()
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for OtherCertificateFormat");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.otherCertFormat = asn1.result["otherCertFormat"].value_block.toString();
        this.otherCert = asn1.result["otherCert"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OtherCertificateFormat.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                new in_window.org.pkijs.asn1.OID({ value: this.otherCertFormat }),
                this.otherCert
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OtherCertificateFormat.prototype.toJSON =
    function()
    {
        var _object = {
            otherCertFormat: this.otherCertFormat
        };

        if(!(this.otherCert instanceof in_window.org.pkijs.asn1.ANY))
            _object.otherCert = this.otherCert.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "OtherRevocationInfoFormat" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OtherRevocationInfoFormat =
    function()
    {
        // #region Internal properties of the object 
        this.otherRevInfoFormat = "";
        this.otherRevInfo = new in_window.org.pkijs.asn1.ANY(); // Just to make a stub
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.OtherRevocationInfoFormat.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.otherRevInfoFormat = arguments[0].otherRevInfoFormat || "";
                this.otherRevInfo = arguments[0].otherRevInfo || new in_window.org.pkijs.asn1.ANY(); // Just to make a stub
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OtherRevocationInfoFormat.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.OtherRevocationInfoFormat()
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for OtherRevocationInfoFormat");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.otherRevInfoFormat = asn1.result["otherRevInfoFormat"].value_block.toString();
        this.otherRevInfo = asn1.result["otherRevInfo"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OtherRevocationInfoFormat.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                new in_window.org.pkijs.asn1.OID({ value: this.otherRevInfoFormat }),
                this.otherRevInfo
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OtherRevocationInfoFormat.prototype.toJSON =
    function()
    {
        var _object = {
            otherRevInfoFormat: this.otherRevInfoFormat
        };

        if(!(this.otherRevInfo instanceof in_window.org.pkijs.asn1.ANY))
            _object.otherRevInfo = this.otherRevInfo.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "CMS_CERTIFICATE_SET" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_CERTIFICATE_SET =
    function()
    {
        // #region Internal properties of the object 
        this.certificates = new Array(); // Array of "CertificateChoices"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.CMS_CERTIFICATE_SET.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.certificates = arguments[0].certificates || new Array(); // Array of "CertificateChoices"
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_CERTIFICATE_SET.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.CMS_CERTIFICATE_SET()
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for CMS_CERTIFICATE_SET");
        // #endregion 

        // #region Get internal properties from parsed schema 
        var certificates_array = asn1.result["certificates"];

        for(var i = 0; i < certificates_array; i++)
        {
            if(certificates_array.id_block.tag_class === 1)
                this.certificates.push(new in_window.org.pkijs.simpl.CERT({ schema: certificates_array[i] }));
            else
                this.certificates.push(certificates_array[i]);
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_CERTIFICATE_SET.prototype.toSchema =
    function()
    {
        // #region Create array for output set
        var output_array = new Array();

        for(var i = 0; i < this.certificates.length; i++)
        {
            if(this.certificates[i] instanceof in_window.org.pkijs.simpl.CERT)
                output_array.push(this.certificates[i].toSchema());
            else
                output_array.push(this.certificates[i]);
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SET({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_CERTIFICATE_SET.prototype.toJSON =
    function()
    {
        var _object = {};

        _object.certificates = new Array();
        for(var i = 0; i < this.certificates.length; i++)
            _object.certificates.push(this.certificates[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "CSM_REVOCATION_INFO_CHOICES" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.CSM_REVOCATION_INFO_CHOICES =
    function()
    {
        // #region Internal properties of the object 
        this.crls = new Array(); // Array of "RevocationInfoChoices"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.CSM_REVOCATION_INFO_CHOICES.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.crls = arguments[0].crls || new Array(); // Array of "RevocationInfoChoices"
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CSM_REVOCATION_INFO_CHOICES.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.CSM_REVOCATION_INFO_CHOICES()
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for CSM_REVOCATION_INFO_CHOICES");
        // #endregion 

        // #region Get internal properties from parsed schema 
        var crls_array = asn1.result["crls"];

        for(var i = 0; i < crls_array; i++)
        {
            if(crls_array.id_block.tag_class === 1)
                this.crls.push(new in_window.org.pkijs.simpl.CRL({ schema: crls_array[i] }));
            else
                this.crls.push(crls_array[i]);
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CSM_REVOCATION_INFO_CHOICES.prototype.toSchema =
    function()
    {
        // #region Create array for output set
        var output_array = new Array();

        for(var i = 0; i < this.crls.length; i++)
        {
            if(this.crls[i] instanceof in_window.org.pkijs.simpl.CRL)
                output_array.push(this.crls[i].toSchema());
            else
                output_array.push(this.crls[i]);
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SET({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CSM_REVOCATION_INFO_CHOICES.prototype.toJSON =
    function()
    {
        var _object = {};

        _object.crls = new Array();
        for(var i = 0; i < this.crls.length; i++)
            _object.crls.push(this.crls[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "IssuerAndSerialNumber" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.IssuerAndSerialNumber =
    function()
    {
        // #region Internal properties of the object 
        this.issuer = new in_window.org.pkijs.simpl.RDN();
        this.serialNumber = new in_window.org.pkijs.asn1.INTEGER(); // Might be a very long integer value
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.IssuerAndSerialNumber.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.issuer = arguments[0].issuer || new in_window.org.pkijs.simpl.RDN();
                this.serialNumber = arguments[0].serialNumber || new in_window.org.pkijs.asn1.INTEGER(); // Might be a very long integer value
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.IssuerAndSerialNumber.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.IssuerAndSerialNumber({
                names: {
                    issuer: {
                        names: {
                            block_name: "issuer"
                        }
                    },
                    serialNumber: "serialNumber"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for IssuerAndSerialNumber");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.issuer = new in_window.org.pkijs.simpl.RDN({ schema: asn1.result["issuer"] });
        this.serialNumber = asn1.result["serialNumber"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.IssuerAndSerialNumber.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                this.issuer.toSchema(),
                this.serialNumber
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.IssuerAndSerialNumber.prototype.toJSON =
    function()
    {
        return {
            issuer: this.issuer.toJSON(),
            serialNumber: this.serialNumber.toJSON()
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "Attribute" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.Attribute =
    function()
    {
        // #region Internal properties of the object 
        this.attrType = "";
        this.attrValues = new Array(); // Array of any attribute values

        // OPTIONAL this.parsedValue - Parsed "attrValues" in case of well-known "attrType"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.Attribute.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.attrType = arguments[0].attrType || "";
                this.attrValues = arguments[0].attrValues || new Array(); // Array of any attribute values
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.Attribute.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.Attribute({
                names: {
                    attrType: "attrType",
                    attrValues: "attrValues"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for Attribute");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.attrType = asn1.result["attrType"].value_block.toString();
        this.attrValues = asn1.result["attrValues"];

        // #region Get "parsedValue" for well-known attributes
        switch(this.attrType)
        {
            case "0.4.0.1733.2.5": // ATSHashIndex
                this.parsedValue = new in_window.org.pkijs.simpl.cades.ATSHashIndex({ schema: this.attrValues[0] });
                break;
            case "0.4.0.1733.2.4": // archive-time-stamp-v3
                this.parsedValue = new in_window.org.pkijs.simpl.cades.archive_time_stamp_v3({ schema: this.attrValues[0] });
                break;
            case "1.2.840.113549.1.9.16.2.14": // signature-time-stamp
                this.parsedValue = new in_window.org.pkijs.simpl.cades.signature_time_stamp({ schema: this.attrValues[0] });
                break;
            case "1.2.840.113549.1.9.16.2.21": // complete-certificate-references
                this.parsedValue = new in_window.org.pkijs.simpl.cades.complete_certificate_references({ schema: this.attrValues[0] });
                break;
            case "1.2.840.113549.1.9.16.2.22": // complete-revocation-references
                this.parsedValue = new in_window.org.pkijs.simpl.cades.complete_revocation_references({ schema: this.attrValues[0] });
                break;
            case "1.2.840.113549.1.9.16.2.25": // CAdES-C-Timestamp
                this.parsedValue = new in_window.org.pkijs.simpl.cades.CAdES_C_Timestamp({ schema: this.attrValues[0] });
                break;
            case "1.2.840.113549.1.9.16.2.23": // certificate-values
                this.parsedValue = new in_window.org.pkijs.simpl.cades.certificate_values({ schema: this.attrValues[0] });
                break;
            case "1.2.840.113549.1.9.16.2.24": // revocation-values
                this.parsedValue = new in_window.org.pkijs.simpl.cades.revocation_values({ schema: this.attrValues[0] });
                break;
            default:;
        }
        // #endregion   
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.Attribute.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                new in_window.org.pkijs.asn1.OID({ value: this.attrType }),
                new in_window.org.pkijs.asn1.SET({
                    value: this.attrValues
                })
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.Attribute.prototype.toJSON =
    function()
    {
        var _object = {
            attrType: this.attrType
        };

        _object.attrValues = new Array();
        for(var i = 0; i < this.attrValues.length; i++)
            _object.attrValues.push(this.attrValues[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "RSAES_OAEP_params" type (RFC3447)
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSAES_OAEP_params =
    function()
    {
        // #region Internal properties of the object 
        // OPTIONAL this.hashAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        // OPTIONAL this.maskGenAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        // OPTIONAL this.pSourceAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.x509.RSAES_OAEP_params.prototype.fromSchema.call(this, arguments[0].schema);
            // #endregion 
            // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                if("hashAlgorithm" in arguments[0])
                    this.hashAlgorithm = arguments[0].hashAlgorithm;

                if("maskGenAlgorithm" in arguments[0])
                    this.maskGenAlgorithm = arguments[0].maskGenAlgorithm;

                if("pSourceAlgorithm" in arguments[0])
                    this.pSourceAlgorithm = arguments[0].pSourceAlgorithm;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSAES_OAEP_params.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.x509.RSAES_OAEP_params({
                names: {
                    hashAlgorithm: {
                        names: {
                            block_name: "hashAlgorithm"
                        }
                    },
                    maskGenAlgorithm: {
                        names: {
                            block_name: "maskGenAlgorithm"
                        }
                    },
                    pSourceAlgorithm: {
                        names: {
                            block_name: "pSourceAlgorithm"
                        }
                    }
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for RSAES_OAEP_params");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if("hashAlgorithm" in asn1.result)
            this.hashAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["hashAlgorithm"] });

        if("maskGenAlgorithm" in asn1.result)
            this.maskGenAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["maskGenAlgorithm"] });

        if("pSourceAlgorithm" in asn1.result)
            this.pSourceAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["pSourceAlgorithm"] });
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSAES_OAEP_params.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        if("hashAlgorithm" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: [this.hashAlgorithm.toSchema()]
            }));

        if("maskGenAlgorithm" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 1 // [1]
                },
                value: [this.maskGenAlgorithm.toSchema()]
            }));

        if("pSourceAlgorithm" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 2 // [2]
                },
                value: [this.pSourceAlgorithm.toSchema()]
            }));
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.x509.RSAES_OAEP_params.prototype.toJSON =
    function()
    {
        var _object = {};

        if("hashAlgorithm" in this)
            _object.hashAlgorithm = this.hashAlgorithm.toJSON();

        if("maskGenAlgorithm" in this)
            _object.maskGenAlgorithm = this.maskGenAlgorithm.toJSON();

        if("pSourceAlgorithm" in this)
            _object.pSourceAlgorithm = this.pSourceAlgorithm.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "PBKDF2_params" type (RFC2898)
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.PBKDF2_params =
    function()
    {
        // #region Internal properties of the object 
        this.salt = new in_window.org.pkijs.emptyObject();
        this.iterationCount = 0;
        // OPTIONAL this.keyLength = 0;
        // OPTIONAL this.prf = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.PBKDF2_params.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.salt = arguments[0].salt || new in_window.org.pkijs.emptyObject();
                this.iterationCount = arguments[0].iterationCount || 0;
                
                if("keyLength" in arguments[0])
                    this.keyLength = arguments[0].keyLength;

                if("prf" in arguments[0])
                    this.prf = arguments[0].prf;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.PBKDF2_params.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.PBKDF2_params({
                names: {
                    salt_primitive: "salt",
                    salt_constructed: {
                        names: {
                            block_name: "salt"
                        }
                    },
                    iterationCount: "iterationCount",
                    keyLength: "keyLength",
                    prf: {
                        names: {
                            block_name: "prf",
                            optional: true
                        }
                    }
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for PBKDF2_params");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.salt = asn1.result["salt"];
        this.iterationCount = asn1.result["iterationCount"].value_block.value_dec;

        if("keyLength" in asn1.result)
            this.keyLength = asn1.result["keyLength"].value_block.value_dec;

        if("prf" in asn1.result)
            this.prf = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["prf"] });
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.PBKDF2_params.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(this.salt);
        output_array.push(new in_window.org.pkijs.asn1.INTEGER({ value: this.iterationCount }));

        if("keyLength" in this)
            output_array.push(new in_window.org.pkijs.asn1.INTEGER({ value: this.keyLength }));

        if("prf" in this)
            output_array.push(this.prf.toSchema());
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.PBKDF2_params.prototype.toJSON =
    function()
    {
        var _object = {
            salt: this.salt.toJSON(),
            iterationCount: this.iterationCount
        };

        if("keyLength" in this)
            _object.keyLength = this.keyLength;

        if("prf" in this)
            _object.prf = this.prf.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "SignedUnsignedAttributes" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.SignedUnsignedAttributes =
    function()
    {
        // #region Internal properties of the object 
        this.type = 0; // "SignedAttributes" = 0, "UnsignedAttributes" = 1
        this.attributes = new Array(); // Array of Attribute objects
        this.encoded_value = new ArrayBuffer(0); // Need to have it in order to successfully process with signature verification
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.SignedUnsignedAttributes.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.type = arguments[0].type || 0; // "SignedAttributes" = 0, "UnsignedAttributes" = 1
                this.attributes = arguments[0].attributes || new Array(); // Array of Attribute objects
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.SignedUnsignedAttributes.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.SignedUnsignedAttributes({
                names: {
                    attributes: "attributes"
                }
            }, this.type)
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for SignedUnsignedAttributes");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.type = asn1.result.id_block.tag_number;
        this.encoded_value = asn1.result.value_before_decode;

        // #region Change type from "[0]" to "SET" accordingly to standard 
        var encoded_view = new Uint8Array(this.encoded_value);
        encoded_view[0] = 0x31;
        // #endregion 

        if(("attributes" in asn1.result) === false)
        {
            if(this.type === 0)
                throw new Error("Wrong structure of SignedUnsignedAttributes");
            else
                return; // Not so important in case of "UnsignedAttributes"
        }

        var attributes_array = asn1.result["attributes"];

        for(var i = 0; i < attributes_array.length; i++)
            this.attributes.push(new in_window.org.pkijs.simpl.cms.Attribute({ schema: attributes_array[i] }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.SignedUnsignedAttributes.prototype.toSchema =
    function()
    {
        // #region Create array of attributes 
        var attributes_array = new Array();

        for(var i = 0; i < this.attributes.length; i++)
            attributes_array.push(this.attributes[i].toSchema());
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
            optional: true,
            id_block: {
                tag_class: 3, // CONTEXT-SPECIFIC
                tag_number: this.type // "SignedAttributes" = 0, "UnsignedAttributes" = 1
            },
            value: attributes_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.SignedUnsignedAttributes.prototype.toJSON =
    function()
    {
        var _object = {
            type: this.type
        };

        _object.attributes = new Array();
        for(var i = 0; i < this.attributes.length; i++)
            _object.attributes.push(this.attributes[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "CMS_SIGNER_INFO" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_SIGNER_INFO =
    function()
    {
        // #region Internal properties of the object 
        this.version = 0;
        this.sid = new in_window.org.pkijs.asn1.ANY(); // Just for making stub
        this.digestAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        // OPTIONAL this.signedAttrs = new in_window.org.pkijs.simpl.cms.SignedUnsignedAttributes();
        this.signatureAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        this.signature = new in_window.org.pkijs.asn1.OCTETSTRING();
        // OPTIONAL this.unsignedAttrs = new in_window.org.pkijs.simpl.cms.SignedUnsignedAttributes();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.CMS_SIGNER_INFO.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.version = arguments[0].version || 0;
                this.sid = arguments[0].sid || new in_window.org.pkijs.asn1.ANY(); // Just for making stub
                this.digestAlgorithm = arguments[0].digestAlgorithm || new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
                if("signedAttrs" in arguments[0])
                    this.signedAttrs = arguments[0].signedAttrs;
                this.signatureAlgorithm = arguments[0].signatureAlgorithm || new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
                this.signature = arguments[0].signature || new in_window.org.pkijs.asn1.OCTETSTRING();
                if("unsignedAttrs" in arguments[0])
                    this.unsignedAttrs = arguments[0].unsignedAttrs;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_SIGNER_INFO.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.CMS_SIGNER_INFO()
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for CMS_SIGNER_INFO");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.version = asn1.result["SignerInfo.version"].value_block.value_dec;

        var current_sid = asn1.result["SignerInfo.sid"];
        if(current_sid.id_block.tag_class === 1)
            this.sid = new in_window.org.pkijs.simpl.cms.IssuerAndSerialNumber({ schema: current_sid });
        else
            this.sid = current_sid;

        this.digestAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["SignerInfo.digestAlgorithm"] });
        if("SignerInfo.signedAttrs" in asn1.result)
            this.signedAttrs = new in_window.org.pkijs.simpl.cms.SignedUnsignedAttributes({ schema: asn1.result["SignerInfo.signedAttrs"] });
        this.signatureAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["SignerInfo.signatureAlgorithm"] });
        this.signature = asn1.result["SignerInfo.signature"];
        if("SignerInfo.unsignedAttrs" in asn1.result)
        {
            this.unsignedAttrs = new in_window.org.pkijs.simpl.cms.SignedUnsignedAttributes();
            this.unsignedAttrs.type = 1; // Unsigned attributes
            this.unsignedAttrs.fromSchema(asn1.result["SignerInfo.unsignedAttrs"]);
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_SIGNER_INFO.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.INTEGER({ value: this.version }));

        if(this.sid instanceof in_window.org.pkijs.simpl.cms.IssuerAndSerialNumber)
            output_array.push(this.sid.toSchema());
        else
            output_array.push(this.sid);

        output_array.push(this.digestAlgorithm.toSchema());
        if("signedAttrs" in this)
            output_array.push(this.signedAttrs.toSchema());
        output_array.push(this.signatureAlgorithm.toSchema());
        output_array.push(this.signature);
        if("unsignedAttrs" in this)
            output_array.push(this.unsignedAttrs.toSchema());
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_SIGNER_INFO.prototype.toJSON =
    function()
    {
        var _object = {
            version: this.version
        };

        if(!(this.sid instanceof in_window.org.pkijs.asn1.ANY))
            _object.sid = this.sid.toJSON();

        _object.digestAlgorithm = this.digestAlgorithm.toJSON();

        if("signedAttrs" in this)
            _object.signedAttrs = this.signedAttrs.toJSON();

        _object.signatureAlgorithm = this.signatureAlgorithm.toJSON();
        _object.signature = this.signature.toJSON();

        if("unsignedAttrs" in this)
            _object.unsignedAttrs = this.unsignedAttrs.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "EncapsulatedContentInfo" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.EncapsulatedContentInfo =
    function()
    {
        // #region Internal properties of the object 
        this.eContentType = "";
        // OPTIONAL this.eContent = new in_window.org.pkijs.asn1.OCTETSTRING();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.EncapsulatedContentInfo.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.eContentType = arguments[0].eContentType || "";
                if("eContent" in arguments[0])
                {
                    this.eContent = arguments[0].eContent;

                    if((this.eContent.id_block.tag_class === 1) &&
                       (this.eContent.id_block.tag_number === 4))
                    {
                        // #region Divide OCTETSTRING value down to small pieces 
                        if(this.eContent.id_block.is_constructed === false)
                        {
                            var constr_string = new in_window.org.pkijs.asn1.OCTETSTRING({
                                id_block: { is_constructed: true },
                                is_constructed: true
                            });

                            var offset = 0;
                            var length = this.eContent.value_block.value_hex.byteLength;

                            while(length > 0)
                            {
                                var piece_view = new Uint8Array(this.eContent.value_block.value_hex, offset, ((offset + 65536) > this.eContent.value_block.value_hex.byteLength) ? (this.eContent.value_block.value_hex.byteLength - offset) : 65536);
                                var _array = new ArrayBuffer(piece_view.length);
                                var _view = new Uint8Array(_array);

                                for(var i = 0; i < _view.length; i++)
                                    _view[i] = piece_view[i];

                                constr_string.value_block.value.push(new in_window.org.pkijs.asn1.OCTETSTRING({ value_hex: _array }));

                                length -= piece_view.length;
                                offset += piece_view.length;
                            }

                            this.eContent = constr_string;
                        }
                        // #endregion   
                    }
                }
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.EncapsulatedContentInfo.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.EncapsulatedContentInfo({
                names: {
                    eContentType: "eContentType",
                    eContent: "eContent"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for EncapsulatedContentInfo");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.eContentType = asn1.result["eContentType"].value_block.toString();
        if("eContent" in asn1.result)
            this.eContent = asn1.result["eContent"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.EncapsulatedContentInfo.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.OID({ value: this.eContentType }));
        if("eContent" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: [this.eContent]
            }));
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.EncapsulatedContentInfo.prototype.toJSON =
    function()
    {
        var _object = {
            eContentType: this.eContentType
        };

        if("eContent" in this)
            _object.eContent = this.eContent.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "CMS_SIGNED_DATA" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_SIGNED_DATA =
    function()
    {
        // #region Internal properties of the object 
        this.version = 0;
        this.digestAlgorithms = new Array(); // Array of AlgorithmIdentifier
        this.encapContentInfo = new in_window.org.pkijs.simpl.cms.EncapsulatedContentInfo();
        //this.certificates - OPTIONAL
        //this.crls - OPTIONAL
        this.signerInfos = new Array(); // Array of CMS_SIGNER_INFO
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.CMS_SIGNED_DATA.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.version = arguments[0].version || 0;
                this.digestAlgorithms = arguments[0].digestAlgorithms || new Array(); // Array of AlgorithmIdentifier
                this.encapContentInfo = arguments[0].encapContentInfo || new in_window.org.pkijs.simpl.cms.EncapsulatedContentInfo();
                if("certificates" in arguments[0])
                    this.certificates = arguments[0].certificates;
                if("crls" in arguments[0])
                    this.crls = arguments[0].crls;
                this.signerInfos = arguments[0].signerInfos || new Array(); // Array of CMS_SIGNER_INFO
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_SIGNED_DATA.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.CMS_SIGNED_DATA()
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for CMS_SIGNED_DATA");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.version = asn1.result["SignedData.version"].value_block.value_dec;

        var algorithms_array = asn1.result["SignedData.digestAlgorithms"];
        for(var i = 0; i < algorithms_array.length; i++)
            this.digestAlgorithms.push(new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: algorithms_array[i] }));

        this.encapContentInfo = new in_window.org.pkijs.simpl.cms.EncapsulatedContentInfo({ schema: asn1.result["SignedData.encapContentInfo"] });

        if("SignedData.certificates" in asn1.result)
        {
            this.certificates = new Array();

            var current_certificates = asn1.result["SignedData.certificates"];
            for(var k = 0; k < current_certificates.length; k++)
            {
                if(current_certificates[k].id_block.tag_class === 1)
                    this.certificates.push(new in_window.org.pkijs.simpl.CERT({ schema: current_certificates[k] }));
                else
                {
                    // #region Create SEQUENCE from [3] 
                    current_certificates[k].id_block.tag_class = 1; // UNIVERSAL
                    current_certificates[k].id_block.tag_number = 16; // SEQUENCE
                    // #endregion 

                    this.certificates.push(new in_window.org.pkijs.simpl.cms.OtherCertificateFormat({ schema: current_certificates[k] }));
                }
            }
        }

        if("SignedData.crls" in asn1.result)
        {
            this.crls = new Array();

            var current_crls = asn1.result["SignedData.crls"];
            for(var l = 0; l < current_crls.length; l++)
            {
                if(current_crls[l].id_block.tag_class === 1)
                    this.crls.push(new in_window.org.pkijs.simpl.CRL({ schema: current_crls[l] }));
                else
                {
                    // #region Create SEQUENCE from [1] 
                    current_crls[l].id_block.tag_class = 1; // UNIVERSAL
                    current_crls[l].id_block.tag_number = 16; // SEQUENCE
                    // #endregion 

                    this.crls.push(new in_window.org.pkijs.simpl.cms.OtherRevocationInfoFormat({ schema: current_crls[l] }));
                }
            }
        }

        var signer_infos = asn1.result["SignedData.signerInfos"];
        for(var j = 0; j < signer_infos.length; j++)
            this.signerInfos.push(new in_window.org.pkijs.simpl.CMS_SIGNER_INFO({ schema: signer_infos[j] }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_SIGNED_DATA.prototype.toSchema =
    function(encodeFlag)
    {
        /// <param name="encodeFlag" type="Boolean">If param equal to false then create TBS schema via decoding stored value. In othe case create TBS schema via assembling from TBS parts.</param>

        if(typeof encodeFlag === "undefined")
            encodeFlag = false;

        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.INTEGER({ value: this.version }));

        // #region Create array of digest algorithms 
        var digest_algorithms = new Array();
        for(var i = 0; i < this.digestAlgorithms.length; i++)
            digest_algorithms.push(this.digestAlgorithms[i].toSchema(encodeFlag));

        output_array.push(new in_window.org.pkijs.asn1.SET({
            value: digest_algorithms
        }));
        // #endregion 

        output_array.push(this.encapContentInfo.toSchema());

        if("certificates" in this)
        {
            var current_certificates = new Array();

            for(var j = 0; j < this.certificates.length; j++)
            {
                if(this.certificates[j] instanceof in_window.org.pkijs.simpl.cms.OtherCertificateFormat)
                {
                    var certificateSchema = this.certificates[j].toSchema(encodeFlag);

                    certificateSchema.id_block.tag_class = 3;
                    certificateSchema.id_block.tag_number = 3;

                    current_certificates.push(certificateSchema);
                }
                else
                    current_certificates.push(this.certificates[j].toSchema(encodeFlag));
            }

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: current_certificates
            }));
        }

        if("crls" in this)
        {
            var current_crls = new Array();

            for(var k = 0; k < this.crls.length; k++)
            {
                if(this.crls[k] instanceof in_window.org.pkijs.simpl.cms.OtherRevocationInfoFormat)
                {
                    var crlSchema = this.crls[k].toSchema(encodeFlag);

                    crlSchema.id_block.tag_class = 3;
                    crlSchema.id_block.tag_number = 1;

                    current_crls.push(crlSchema);
                }
                else
                    current_crls.push(this.crls[k].toSchema(encodeFlag));
            }

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 1 // [1]
                },
                value: current_crls
            }));
        }

        // #region Create array of signer infos 
        var signer_infos = new Array();

        for(var l = 0; l < this.signerInfos.length; l++)
            signer_infos.push(this.signerInfos[l].toSchema(encodeFlag));

        output_array.push(new in_window.org.pkijs.asn1.SET({
            value: signer_infos
        }));
        // #endregion 
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_SIGNED_DATA.prototype.verify =
    function()
    {
        // #region Global variables 
        var sequence = Promise.resolve();

        var certificates = this.certificates;
        var signerInfos = this.signerInfos;
        var encapContentInfo = this.encapContentInfo;

        var data = new ArrayBuffer(0);

        var sha_algorithm = "";

        var signerIndex = -1;
        var cert_index = -1;
        var signer_cert = {};

        var trusted_certs = new Array();

        var _this = this;
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Get a signer number
        if(arguments[0] instanceof Object)
        {
            if("signer" in arguments[0])
                signerIndex = arguments[0].signer;

            if("data" in arguments[0]) // Detached data
                data = arguments[0].data;

            if("trusted_certs" in arguments[0])
                trusted_certs = arguments[0].trusted_certs;
        }

        if(signerIndex === (-1))
            return new Promise(function(resolve, reject) { reject("Unable to get signer index from input parameters"); });
        // #endregion 

        // #region Check that certificates field was included in signed data 
        if(("certificates" in this) === false)
            return new Promise(function(resolve, reject) { reject("No certificates attached to this signed data"); });
        // #endregion 

        // #region Find a certificate for specified signer 
        if(this.signerInfos[signerIndex].sid instanceof in_window.org.pkijs.simpl.cms.IssuerAndSerialNumber)
        {
            sequence = sequence.then(
                function()
                {
                    for(var i = 0; certificates.length; i++)
                    {
                        if((certificates[i].issuer.isEqual(signerInfos[signerIndex].sid.issuer)) &&
                           (certificates[i].serialNumber.isEqual(signerInfos[signerIndex].sid.serialNumber)))
                        {
                            signer_cert = certificates[i];
                            return new Promise(function(resolve, reject) { resolve(); });
                        }
                    }

                    return new Promise(function(resolve, reject) { reject("Unable to find signer certificate"); });
                }
                );
        }
        else // Find by SubjectKeyIdentifier
        {
            sequence = sequence.then(
                function()
                {
                    var digest_promises = new Array();

                    for(var i = 0; i < certificates.length; i++)
                        digest_promises.push(crypto.digest({ name: "sha-1" }, new Uint8Array(certificates[i].subjectPublicKeyInfo.subjectPublicKey.value_block.value_hex)));

                    return Promise.all(digest_promises).then(
                        function(results)
                        {
                            for(var i = 0; i < certificates.length; i++)
                            {
                                if(in_window.org.pkijs.isEqual_buffer(results[i], signerInfos[signerIndex].sid.value_block.value_hex))
                                {
                                    signer_cert = certificates[i];
                                    return new Promise(function(resolve, reject) { resolve(); });
                                }
                            }

                            return new Promise(function(resolve, reject) { reject("Unable to find signer certificate"); });
                        },
                        function(error)
                        {
                            return new Promise(function(resolve, reject) { reject("Unable to find signer certificate"); });
                        }
                        );
                }
                );
        }
        // #endregion 

        // #region Make additional verification for signer's certificate 
        function checkCA(cert)
        {
            /// <param name="cert" type="in_window.org.pkijs.simpl.CERT">Certificate to find CA flag for</param>

            // #region Do not include signer's certificate 
            if((cert.issuer.isEqual(signer_cert.issuer) === true) && (cert.serialNumber.isEqual(signer_cert.serialNumber) === true))
                return null;
            // #endregion 

            var isCA = false;

            for(var i = 0; i < cert.extensions.length; i++)
            {
                if(cert.extensions[i].extnID === "2.5.29.19") // BasicConstraints
                {
                    if("cA" in cert.extensions[i].parsedValue)
                    {
                        if(cert.extensions[i].parsedValue.cA === true)
                            isCA = true;
                    }
                }
            }

            if(isCA)
                return cert;
            else
                return null;
        }

        var checkCA_promises = new Array();

        for(var i = 0; i < this.certificates.length; i++)
            checkCA_promises.push(checkCA(this.certificates[i]));

        sequence = sequence.then(
            function(result)
            {
                return Promise.all(checkCA_promises).then(
                    function(promiseResults)
                    {
                        var additional_certs = new Array();
                        additional_certs.push(signer_cert);

                        for(var i = 0; i < promiseResults.length; i++)
                        {
                            if(promiseResults[i] !== null)
                                additional_certs.push(promiseResults[i]);
                        }

                        var cert_chain_simpl = new org.pkijs.simpl.CERT_CHAIN({
                            certs: additional_certs,
                            trusted_certs: trusted_certs
                        });
                        if("crls" in _this)
                            cert_chain_simpl.crls = _this.crls;

                        return cert_chain_simpl.verify().then(
                            function(result)
                            {
                                if(result.result === true)
                                    return new Promise(function(resolve, reject) { resolve(); });
                                else
                                    return new Promise(function(resolve, reject) { reject("Validation of signer's certificate failed"); });
                            },
                            function(error)
                            {
                                return new Promise(function(resolve, reject) { reject("Validation of signer's certificate failed with error: " + ((error instanceof Object) ? error.result_message : error)); });
                            }
                            );
                    },
                    function(promiseError)
                    {
                        return new Promise(function(resolve, reject) { reject("Error during checking certificates for CA flag: " + promiseError); });
                    }
                    );
            }
            );
        // #endregion 

        // #region Find signer's hashing algorithm 
        sequence = sequence.then(
            function()
            {
                var shaAlgorithm= in_window.org.pkijs.getAlgorithmByOID(signerInfos[signerIndex].digestAlgorithm.algorithm_id);
                if(("name" in shaAlgorithm) === false)
                    return new Promise(function(resolve, reject) { reject("Unsupported signature algorithm: " + _this.signerInfos[signerIndex].digestAlgorithm.algorithm_id); });

                sha_algorithm = shaAlgorithm.name;

                return new Promise(function(resolve, reject) { resolve(); });
            }
            );
        // #endregion 

        // #region Create correct data block for verification 
        sequence = sequence.then(
            function()
            {
                if("signedAttrs" in signerInfos[signerIndex])
                    data = signerInfos[signerIndex].signedAttrs.encoded_value;
                else
                {
                    if("eContent" in encapContentInfo) // Attached data
                    {
                        if((encapContentInfo.eContent.id_block.tag_class === 1) &&
                           (encapContentInfo.eContent.id_block.tag_number === 4))
                        {
                            if(encapContentInfo.eContent.id_block.is_constructed === false)
                                data = encapContentInfo.eContent.value_block.value_hex;
                            else
                            {
                                for(var i = 0; i < encapContentInfo.eContent.value_block.value.length; i++)
                                    data = in_window.org.pkijs.concat_buffers(data, encapContentInfo.eContent.value_block.value[i].value_block.value_hex);
                            }
                        }
                        else
                            data = encapContentInfo.eContent.value_block.value_hex;
                    }
                    else // Detached data
                    {
                        if(data.byteLength === 0) // Check that "data" already provided by function parameter
                            return new Promise(function(resolve, reject) { reject("Missed detached data input array"); });
                    }
                }
            }
            );
        // #endregion 

        // #region Import public key from signer's certificate 
        sequence = sequence.then(
            function()
            {
                // #region Get information about public key algorithm and default parameters for import
                var algorithmObject = in_window.org.pkijs.getAlgorithmByOID(signer_cert.signatureAlgorithm.algorithm_id);
                if(("name" in algorithmObject) === false)
                    return new Promise(function(resolve, reject) { reject("Unsupported public key algorithm: " + signer_cert.signatureAlgorithm.algorithm_id); });

                var algorithm_name = algorithmObject.name;

                var algorithm = in_window.org.pkijs.getAlgorithmParameters(algorithm_name, "importkey");
                if("hash" in algorithm.algorithm)
                    algorithm.algorithm.hash.name = sha_algorithm;
                // #endregion 

                var publicKeyInfo_schema = signer_cert.subjectPublicKeyInfo.toSchema();
                var publicKeyInfo_buffer = publicKeyInfo_schema.toBER(false);
                var publicKeyInfo_view = new Uint8Array(publicKeyInfo_buffer);

                return crypto.importKey("spki", publicKeyInfo_view, algorithm.algorithm, true, algorithm.usages);
            }
            );
        // #endregion 

        // #region Verify signer's signature 
        sequence = sequence.then(
            function(publicKey)
            {
                // #region Get default algorithm parameters for verification 
                var algorithm = in_window.org.pkijs.getAlgorithmParameters(publicKey.algorithm.name, "verify");
                if("hash" in algorithm.algorithm)
                    algorithm.algorithm.hash.name = sha_algorithm;
                // #endregion 

                // #region Special case for ECDSA signatures 
                var signature_value = signerInfos[signerIndex].signature.value_block.value_hex;

                if(publicKey.algorithm.name === "ECDSA")
                {
                    var asn1 = in_window.org.pkijs.fromBER(signature_value);
                    signature_value = in_window.org.pkijs.createECDSASignatureFromCMS(asn1.result);
                }
                // #endregion 

                // #region Special case for RSA-PSS 
                if(publicKey.algorithm.name === "RSA-PSS")
                {
                    var pssParameters;

                    try
                    {
                        pssParameters = new in_window.org.pkijs.simpl.x509.RSASSA_PSS_params({ schema: signerInfos[signerIndex].signatureAlgorithm.algorithm_params });
                    }
                    catch(ex)
                    {
                        return new Promise(function(resolve, reject) { reject(ex); });
                    }

                    if("saltLength" in pssParameters)
                        algorithm.algorithm.saltLength = pssParameters.saltLength;
                    else
                        algorithm.algorithm.saltLength = 20;

                    var hash_algo = "SHA-1";

                    if("hashAlgorithm" in pssParameters)
                    {
                        var hashAlgorithm = in_window.org.pkijs.getAlgorithmByOID(pssParameters.hashAlgorithm.algorithm_id);
                        if(("name" in hashAlgorithm) === false)
                            return new Promise(function(resolve, reject) { reject("Unrecognized hash algorithm: " + pssParameters.hashAlgorithm.algorithm_id); });

                        hash_algo = hashAlgorithm.name;
                    }

                    algorithm.algorithm.hash.name = hash_algo;
                }
                // #endregion 

                return crypto.verify(algorithm.algorithm,
                    publicKey,
                    new Uint8Array(signature_value),
                    new Uint8Array(data));
            },
            function(error)
            {
                return new Promise(function(resolve, reject) { reject(error); });
            }
            );
        // #endregion 

        return sequence;
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_SIGNED_DATA.prototype.sign =
    function(privateKey, signerIndex, hashAlgorithm, data)
    {
        /// <param name="privateKey" type="Key">Private key for "subjectPublicKeyInfo" structure</param>
        /// <param name="signerIndex" type="Number">Index number (starting from 0) of signer index to make signature for</param>
        /// <param name="hashAlgorithm" type="String" optional="true">Hashing algorithm. Default SHA-1</param>
        /// <param name="data" type="ArrayBuffer" optional="true">Detached data</param>

        // #region Initial variables 
        var _this = this;
        data = data || new ArrayBuffer(0);
        var hashAlgorithmOID = "";
        // #endregion 

        // #region Get a private key from function parameter 
        if(typeof privateKey === "undefined")
            return new Promise(function(resolve, reject) { reject("Need to provide a private key for signing"); });
        // #endregion 

        // #region Get hashing algorithm 
        if(typeof hashAlgorithm === "undefined")
            hashAlgorithm = "SHA-1";

        // #region Simple check for supported algorithm 
        hashAlgorithmOID = in_window.org.pkijs.getOIDByAlgorithm({ name: hashAlgorithm });
        if(hashAlgorithmOID === "")
            return new Promise(function(resolve, reject) { reject("Unsupported hash algorithm: " + hashAlgorithm); });
        // #endregion 
        // #endregion 

        // #region Append information about hash algorithm  
        var found = false;

        for(var i = 0; i < _this.digestAlgorithms.length; i++)
        {
            if(_this.digestAlgorithms[i].algorithm_id === hashAlgorithmOID)
            {
                found = true;
                break;
            }
        }

        if(found === false)
        {
            _this.digestAlgorithms.push(new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                algorithm_id: hashAlgorithmOID,
                algorithm_params: new org.pkijs.asn1.NULL()
            }));
        }

        _this.signerInfos[signerIndex].digestAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
            algorithm_id: hashAlgorithmOID,
            algorithm_params: new org.pkijs.asn1.NULL()
        });
        // #endregion 

        // #region Get a "default parameters" for current algorithm 
        var defParams = in_window.org.pkijs.getAlgorithmParameters(privateKey.algorithm.name, "sign");
        defParams.algorithm.hash.name = hashAlgorithm;
        // #endregion 

        // #region Fill internal structures base on "privateKey" and "hashAlgorithm" 
        switch(privateKey.algorithm.name.toUpperCase())
        {
            case "RSASSA-PKCS1-V1_5":
            case "ECDSA":
                _this.signerInfos[signerIndex].signatureAlgorithm.algorithm_id = in_window.org.pkijs.getOIDByAlgorithm(defParams.algorithm);
                break;
            case "RSA-PSS":
                {
                    // #region Set "saltLength" as a length (in octets) of hash function result 
                    switch(hashAlgorithm.toUpperCase())
                    {
                        case "SHA-256":
                            defParams.algorithm.saltLength = 32;
                            break;
                        case "SHA-384":
                            defParams.algorithm.saltLength = 48;
                            break;
                        case "SHA-512":
                            defParams.algorithm.saltLength = 64;
                            break;
                        default:;
                    }
                    // #endregion 

                    // #region Fill "RSASSA_PSS_params" object 
                    var paramsObject = {};

                    if(hashAlgorithm.toUpperCase() !== "SHA-1")
                    {
                        hashAlgorithmOID = in_window.org.pkijs.getOIDByAlgorithm({ name: hashAlgorithm });
                        if(hashAlgorithmOID === "")
                            return new Promise(function(resolve, reject) { reject("Unsupported hash algorithm: " + hashAlgorithm); });

                        paramsObject.hashAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: hashAlgorithmOID,
                            algorithm_params: new org.pkijs.asn1.NULL()
                        });

                        paramsObject.maskGenAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: "1.2.840.113549.1.1.8", // MGF1
                            algorithm_params: paramsObject.hashAlgorithm.toSchema()
                        })
                    }

                    if(defParams.algorithm.saltLength !== 20)
                        paramsObject.saltLength = defParams.algorithm.saltLength;

                    var pssParameters = new in_window.org.pkijs.simpl.x509.RSASSA_PSS_params(paramsObject);
                    // #endregion   

                    // #region Automatically set signature algorithm 
                    _this.signerInfos[signerIndex].signatureAlgorithm = new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                        algorithm_id: "1.2.840.113549.1.1.10",
                        algorithm_params: pssParameters.toSchema()
                    });
                    // #endregion 
                }
                break;
            default:
                return new Promise(function(resolve, reject) { reject("Unsupported signature algorithm: " + privateKey.algorithm.name); });
        }
        // #endregion 

        // #region Create TBS data for signing 
        if("signedAttrs" in _this.signerInfos[signerIndex])
        {
            if(_this.signerInfos[signerIndex].signedAttrs.encoded_value.byteLength !== 0)
                data = _this.signerInfos[signerIndex].signedAttrs.encoded_value;
            else
            {
                data = _this.signerInfos[signerIndex].signedAttrs.toSchema(true).toBER(false);

                // #region Change type from "[0]" to "SET" acordingly to standard 
                var view = new Uint8Array(data);
                view[0] = 0x31;
                // #endregion 
            }
        }
        else
        {
            if("eContent" in _this.encapContentInfo) // Attached data
            {
                if((_this.encapContentInfo.eContent.id_block.tag_class === 1) &&
                   (_this.encapContentInfo.eContent.id_block.tag_number === 4))
                {
                    if(_this.encapContentInfo.eContent.id_block.is_constructed === false)
                        data = _this.encapContentInfo.eContent.value_block.value_hex;
                    else
                    {
                        for(var i = 0; i < _this.encapContentInfo.eContent.value_block.value.length; i++)
                            data = in_window.org.pkijs.concat_buffers(data, _this.encapContentInfo.eContent.value_block.value[i].value_block.value_hex);
                    }
                }
                else
                    data = _this.encapContentInfo.eContent.value_block.value_hex;
            }
            else // Detached data
            {
                if(data.byteLength === 0) // Check that "data" already provided by function parameter
                    return new Promise(function(resolve, reject) { reject("Missed detached data input array"); });
            }
        }
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Signing TBS data on provided private key 
        return crypto.sign(defParams.algorithm,
            privateKey,
            new Uint8Array(data)).then(
            function(result)
            {
                // #region Special case for ECDSA algorithm 
                if(defParams.algorithm.name === "ECDSA")
                    result = in_window.org.pkijs.createCMSECDSASignature(result);
                // #endregion 

                _this.signerInfos[signerIndex].signature = new in_window.org.pkijs.asn1.OCTETSTRING({ value_hex: result });
                return new Promise(function(resolve, reject) { resolve(result); });
            },
            function(error)
            {
                return new Promise(function(resolve, reject) { reject("Signing error: " + error); });
            }
            );
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_SIGNED_DATA.prototype.toJSON =
    function()
    {
        var _object = {
            version: this.version
        };

        _object.digestAlgorithms = new Array();

        for(var i = 0; i < this.digestAlgorithms.length; i++)
            _object.digestAlgorithms.push(this.digestAlgorithms[i].toJSON());

        _object.encapContentInfo = this.encapContentInfo.toJSON();

        if("certificates" in this)
        {
            _object.certificates = new Array();

            for(var i = 0; i < this.certificates.length; i++)
                _object.certificates.push(this.certificates[i].toJSON());
        }

        if("crls" in this)
        {
            _object.crls = new Array();

            for(var i = 0; i < this.crls.length; i++)
                _object.crls.push(this.crls[i].toJSON());
        }

        _object.signerInfos = new Array();

        for(var i = 0; i < this.signerInfos.length; i++)
            _object.signerInfos.push(this.signerInfos[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "ECC_CMS_SharedInfo" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.ECC_CMS_SharedInfo =
    function()
    {
        // #region Internal properties of the object 
        this.keyInfo = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        // OPTIONAL this.entityUInfo = new in_window.org.pkijs.asn1.OCTETSTRING();
        this.suppPubInfo = new in_window.org.pkijs.asn1.OCTETSTRING();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.ECC_CMS_SharedInfo.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.keyInfo = arguments[0].keyInfo || (new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER());

                if("entityUInfo" in arguments[0])
                    this.entityUInfo = arguments[0].entityUInfo;

                this.suppPubInfo = arguments[0].suppPubInfo || (new in_window.org.pkijs.asn1.OCTETSTRING());
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.ECC_CMS_SharedInfo.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.ECC_CMS_SharedInfo({
                names: {
                    keyInfo: {
                        names: {
                            block_name: "keyInfo"
                        }
                    },
                    entityUInfo: "entityUInfo",
                    suppPubInfo: "suppPubInfo"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for ECC_CMS_SharedInfo");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.keyInfo = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["keyInfo"] });

        if("entityUInfo" in asn1.result)
            this.entityUInfo = asn1.result["entityUInfo"].value_block.value[0];

        this.suppPubInfo = asn1.result["suppPubInfo"].value_block.value[0];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.ECC_CMS_SharedInfo.prototype.toSchema =
    function()
    {
        // #region Create output array for sequence 
        var output_array = new Array();

        output_array.push(this.keyInfo.toSchema());

        if("entityUInfo" in this)
        {
            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: [this.entityUInfo]
            }));
        }

        output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
            id_block: {
                tag_class: 3, // CONTEXT-SPECIFIC
                tag_number: 2 // [2]
            },
            value: [this.suppPubInfo]
        }));
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        });
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.ECC_CMS_SharedInfo.prototype.toJSON =
    function()
    {
        var _object = {
            keyInfo: this.keyInfo.toJSON()
        };

        if("entityUInfo" in this)
            _object.entityUInfo = this.entityUInfo.toJSON();

        _object.suppPubInfo = this.suppPubInfo.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "RecipientIdentifier" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.RecipientIdentifier =
    function()
    {
        // #region Internal properties of the object 
        this.variant = -1; // CHOICE variant
        // VALUE OF CHOICE this.value
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.RecipientIdentifier.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.variant = arguments[0].variant || (-1);

                if("value" in arguments[0])
                    this.value = arguments[0].value;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.RecipientIdentifier.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.RecipientIdentifier({
                names: {
                    block_name: "block_name"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for RecipientIdentifier");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if(asn1.result["block_name"].id_block.tag_class === 1)
        {
            this.variant = 1;
            this.value = new in_window.org.pkijs.simpl.cms.IssuerAndSerialNumber({ schema: asn1.result["block_name"] });
        }
        else
        {
            this.variant = 2;
            this.value = asn1.result["block_name"].value_block.value[0];
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.RecipientIdentifier.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        switch(this.variant)
        {
            case 1:
                return this.value.toSchema();
                break;
            case 2:
                return new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: [this.value]
                });
                break;
            default:
                return new in_window.org.pkijs.asn1.ANY();
        }
        // #endregion 

        return new in_window.org.pkijs.asn1.ANY();
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.RecipientIdentifier.prototype.toJSON =
    function()
    {
        var _object = {
            variant: this.variant
        };

        if((this.variant == 1) || (this.variant === 2))
            _object.value = this.value.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "KeyTransRecipientInfo" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.KeyTransRecipientInfo =
    function()
    {
        // #region Internal properties of the object 
        this.version = -1;
        this.rid = new in_window.org.pkijs.emptyObject();
        this.keyEncryptionAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        this.encryptedKey = new in_window.org.pkijs.asn1.OCTETSTRING();

        this.recipientCertificate = new in_window.org.pkijs.simpl.CERT(); // For some reasons we need to store recipient's certificate here
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.KeyTransRecipientInfo.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.version = arguments[0].version || -1;
                this.rid = arguments[0].rid || new in_window.org.pkijs.emptyObject();
                this.keyEncryptionAlgorithm = arguments[0].keyEncryptionAlgorithm || new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
                this.encryptedKey = arguments[0].encryptedKey || new in_window.org.pkijs.asn1.OCTETSTRING();

                this.recipientCertificate = arguments[0].recipientCertificate || new in_window.org.pkijs.simpl.CERT();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.KeyTransRecipientInfo.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.KeyTransRecipientInfo({
                names: {
                    version: "version",
                    rid: {
                        names: {
                            block_name: "rid"
                        }
                    },
                    keyEncryptionAlgorithm: {
                        names: {
                            block_name: "keyEncryptionAlgorithm"
                        }
                    },
                    encryptedKey: "encryptedKey"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for KeyTransRecipientInfo");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.version = asn1.result["version"].value_block.value_dec;

        if(asn1.result["rid"].id_block.tag_class === 3)
            this.rid = asn1.result["rid"].value_block.value[0]; // SubjectKeyIdentifier
        else
            this.rid = new in_window.org.pkijs.simpl.cms.IssuerAndSerialNumber({ schema: asn1.result["rid"] });

        this.keyEncryptionAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["keyEncryptionAlgorithm"] });
        this.encryptedKey = asn1.result["encryptedKey"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.KeyTransRecipientInfo.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.INTEGER({ value: this.version }));

        if(this.rid instanceof in_window.org.pkijs.simpl.cms.IssuerAndSerialNumber)
            output_array.push(this.rid.toSchema());
        else
            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: [this.rid]
            }));

        output_array.push(this.keyEncryptionAlgorithm.toSchema());
        output_array.push(this.encryptedKey);
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.KeyTransRecipientInfo.prototype.toJSON =
    function()
    {
        return {
            version: this.version,
            rid: this.rid.toJSON(),
            keyEncryptionAlgorithm: this.keyEncryptionAlgorithm.toJSON(),
            encryptedKey: this.encryptedKey.toJSON()
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "OriginatorPublicKey" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OriginatorPublicKey =
    function()
    {
        // #region Internal properties of the object 
        this.algorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        this.publicKey = new in_window.org.pkijs.asn1.BITSTRING();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.OriginatorPublicKey.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.algorithm = arguments[0].algorithm || new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
                this.publicKey = arguments[0].publicKey || new in_window.org.pkijs.asn1.BITSTRING();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OriginatorPublicKey.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.OriginatorPublicKey({
                names: {
                    algorithm: {
                        names: {
                            block_name: "algorithm"
                        }
                    },
                    publicKey: "publicKey"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for OriginatorPublicKey");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.algorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["algorithm"] });
        this.publicKey = asn1.result["publicKey"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OriginatorPublicKey.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                this.algorithm.toSchema(),
                this.publicKey
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OriginatorPublicKey.prototype.toJSON =
    function()
    {
        return {
            algorithm: this.algorithm.toJSON(),
            publicKey: this.publicKey.toJSON()
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "OriginatorIdentifierOrKey" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OriginatorIdentifierOrKey =
    function()
    {
        // #region Internal properties of the object 
        this.variant = -1; // CHOICE variant
        // VALUE OF CHOICE this.value
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.OriginatorIdentifierOrKey.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.variant = arguments[0].variant || (-1);

                if("value" in arguments[0])
                    this.value = arguments[0].value;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OriginatorIdentifierOrKey.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.OriginatorIdentifierOrKey({
                names: {
                    block_name: "block_name"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for OriginatorIdentifierOrKey");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if(asn1.result["block_name"].id_block.tag_class === 1)
        {
            this.variant = 1;
            this.value = new in_window.org.pkijs.simpl.cms.IssuerAndSerialNumber({ schema: asn1.result["block_name"] });
        }
        else
        {
            if(asn1.result["block_name"].id_block.tag_number === 0)
            {
                // #region Create "OCTETSTRING" from "ASN1_PRIMITIVE" 
                asn1.result["block_name"].id_block.tag_class = 1; // UNIVERSAL
                asn1.result["block_name"].id_block.tag_number = 4; // OCTETSTRING
                // #endregion 

                this.variant = 2;
                this.value = asn1.result["block_name"];
            }
            else
            {
                // #region Create "SEQUENCE" from "ASN1_CONSTRUCTED" 
                asn1.result["block_name"].id_block.tag_class = 1; // UNIVERSAL
                asn1.result["block_name"].id_block.tag_number = 16; // SEQUENCE
                // #endregion 

                this.variant = 3;
                this.value = new in_window.org.pkijs.simpl.cms.OriginatorPublicKey({ schema: asn1.result["block_name"] });
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OriginatorIdentifierOrKey.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        switch(this.variant)
        {
            case 1:
                return this.value.toSchema();
                break;
            case 2:
                {
                    this.value.id_block.tag_class = 3; // CONTEXT-SPECIFIC
                    this.value.id_block.tag_number = 0; // [0]

                    return this.value;
                }
                break;
            case 3:
                {
                    var _schema = this.value.toSchema();

                    _schema.id_block.tag_class = 3; // CONTEXT-SPECIFIC
                    _schema.id_block.tag_number = 1; // [1]

                    return _schema;
                }
                break;
            default:
                return new in_window.org.pkijs.asn1.ANY();
        }
        // #endregion 

        return new in_window.org.pkijs.asn1.ANY();
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OriginatorIdentifierOrKey.prototype.toJSON =
    function()
    {
        var _object = {
            variant: this.variant
        };

        if((this.variant == 1) || (this.variant === 2) || (this.variant === 3))
            _object.value = this.value.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "OtherKeyAttribute" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OtherKeyAttribute =
    function()
    {
        // #region Internal properties of the object 
        this.keyAttrId = "";
        // OPTIONAL this.keyAttr
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.OtherKeyAttribute.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.keyAttrId = arguments[0].keyAttrId || new in_window.org.pkijs.asn1.OID();

                if("keyAttr" in arguments[0])
                    this.keyAttr = arguments[0].keyAttr;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OtherKeyAttribute.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.OtherKeyAttribute({
                names: {
                    keyAttrId: "keyAttrId",
                    keyAttr: "keyAttr"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for OtherKeyAttribute");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.keyAttrId = asn1.result["keyAttrId"].value_block.toString();

        if("keyAttr" in asn1.result)
            this.keyAttr = asn1.result["keyAttr"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OtherKeyAttribute.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.OID({ value: this.keyAttrId }));

        if("keyAttr" in this)
            output_array.push(this.keyAttr.toSchema());
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OtherKeyAttribute.prototype.toJSON =
    function()
    {
        var _object = {
            keyAttrId: this.keyAttrId
        };

        if("keyAttr" in this)
            _object.keyAttr = this.keyAttr.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "RecipientKeyIdentifier" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.RecipientKeyIdentifier =
    function()
    {
        // #region Internal properties of the object 
        this.subjectKeyIdentifier = new in_window.org.pkijs.asn1.OCTETSTRING();
        // OPTIONAL this.date
        // OPTIONAL this.other
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.RecipientKeyIdentifier.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.subjectKeyIdentifier = arguments[0].subjectKeyIdentifier || new in_window.org.pkijs.asn1.OCTETSTRING();

                if("date" in arguments[0])
                    this.date = arguments[0].date;

                if("other" in arguments[0])
                    this.other = arguments[0].other;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.RecipientKeyIdentifier.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.RecipientKeyIdentifier({
                names: {
                    subjectKeyIdentifier: "subjectKeyIdentifier",
                    date: "date",
                    other: {
                        names: {
                            block_name: "other"
                        }
                    }
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for RecipientKeyIdentifier");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.subjectKeyIdentifier = asn1.result["subjectKeyIdentifier"];

        if("date" in asn1.result)
            this.date = asn1.result["date"];

        if("other" in asn1.result)
            this.other = new in_window.org.pkijs.simpl.cms.OtherKeyAttribute({ schema: asn1.result["other"] });
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.RecipientKeyIdentifier.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(this.subjectKeyIdentifier);

        if("date" in this)
            output_array.push(this.date);

        if("other" in this)
            output_array.push(this.other.toSchema());
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.RecipientKeyIdentifier.prototype.toJSON =
    function()
    {
        var _object = {
            subjectKeyIdentifier: this.subjectKeyIdentifier.toJSON()
        };

        if("date" in this)
            _object.date = this.date;

        if("other" in this)
            _object.other = this.other.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "KeyAgreeRecipientIdentifier" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.KeyAgreeRecipientIdentifier =
    function()
    {
        // #region Internal properties of the object 
        this.variant = -1; // CHOICE variant
        // VALUE OF CHOICE this.value
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.KeyAgreeRecipientIdentifier.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.variant = arguments[0].variant || (-1);

                if("value" in arguments[0])
                    this.value = arguments[0].value;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.KeyAgreeRecipientIdentifier.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.KeyAgreeRecipientIdentifier({
                names: {
                    block_name: "block_name"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for KeyAgreeRecipientIdentifier");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if(asn1.result["block_name"].id_block.tag_class === 1)
        {
            this.variant = 1;
            this.value = new in_window.org.pkijs.simpl.cms.IssuerAndSerialNumber({ schema: asn1.result["block_name"] });
        }
        else
        {
            this.variant = 2;

            asn1.result["block_name"].id_block.tag_class = 1; // UNIVERSAL
            asn1.result["block_name"].id_block.tag_number = 16; // SEQUENCE

            this.value = new in_window.org.pkijs.simpl.cms.RecipientKeyIdentifier({ schema: asn1.result["block_name"] });
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.KeyAgreeRecipientIdentifier.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        switch(this.variant)
        {
            case 1:
                return this.value.toSchema();
                break;
            case 2:
                return new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: this.value.toSchema().value_block.value
                });
                break;
            default:
                return new in_window.org.pkijs.asn1.ANY();
        }
        // #endregion 

        return new in_window.org.pkijs.asn1.ANY();
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.KeyAgreeRecipientIdentifier.prototype.toJSON =
    function()
    {
        var _object = {
            variant: this.variant
        };

        if((this.variant == 1) || (this.variant === 2))
            _object.value = this.value.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "RecipientEncryptedKey" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.RecipientEncryptedKey =
    function()
    {
        // #region Internal properties of the object 
        this.rid = new in_window.org.pkijs.simpl.cms.KeyAgreeRecipientIdentifier();
        this.encryptedKey = new in_window.org.pkijs.asn1.OCTETSTRING();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.RecipientEncryptedKey.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.rid = arguments[0].rid || new in_window.org.pkijs.simpl.cms.KeyAgreeRecipientIdentifier();
                this.encryptedKey = arguments[0].encryptedKey || new in_window.org.pkijs.asn1.OCTETSTRING();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.RecipientEncryptedKey.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.RecipientEncryptedKey({
                names: {
                    rid: {
                        names: {
                            block_name: "rid"
                        }
                    },
                    encryptedKey: "encryptedKey"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for RecipientEncryptedKey");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.rid = new in_window.org.pkijs.simpl.cms.KeyAgreeRecipientIdentifier({ schema: asn1.result["rid"] });
        this.encryptedKey = asn1.result["encryptedKey"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.RecipientEncryptedKey.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                this.rid.toSchema(),
                this.encryptedKey
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.RecipientEncryptedKey.prototype.toJSON =
    function()
    {
        return {
            rid: this.rid.toJSON(),
            encryptedKey: this.encryptedKey.toJSON()
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "RecipientEncryptedKeys" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.RecipientEncryptedKeys =
    function()
    {
        // #region Internal properties of the object 
        this.encryptedKeys = new Array(); // Array of "in_window.org.pkijs.simpl.cms.RecipientEncryptedKey"
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.RecipientEncryptedKeys.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.encryptedKeys = arguments[0].encryptedKeys || new Array();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.RecipientEncryptedKeys.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.RecipientEncryptedKeys({
                names: {
                    RecipientEncryptedKeys: "RecipientEncryptedKeys"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for RecipientEncryptedKeys");
        // #endregion 

        // #region Get internal properties from parsed schema 
        var array = asn1.result["RecipientEncryptedKeys"];

        for(var i = 0; i < array.length; i++)
            this.encryptedKeys.push(new in_window.org.pkijs.simpl.cms.RecipientEncryptedKey({ schema: array[i] }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.RecipientEncryptedKeys.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        for(var i = 0; i < this.encryptedKeys.length; i++)
            output_array.push(this.encryptedKeys[i].toSchema());
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.RecipientEncryptedKeys.prototype.toJSON =
    function()
    {
        var _object = {};

        _object.encryptedKeys = new Array();

        for(var i = 0; i < this.encryptedKeys.length; i++)
            _object.encryptedKeys.push(this.encryptedKeys[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "KeyAgreeRecipientInfo" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.KeyAgreeRecipientInfo =
    function()
    {
        // #region Internal properties of the object 
        this.version = 0;
        this.originator = new in_window.org.pkijs.simpl.cms.OriginatorIdentifierOrKey();
        // OPTIONAL this.ukm = new in_window.org.pkijs.asn1.OCTETSTRING();
        this.keyEncryptionAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        this.recipientEncryptedKeys = new in_window.org.pkijs.simpl.cms.RecipientEncryptedKeys();

        this.recipientCertificate = new in_window.org.pkijs.simpl.CERT(); // For some reasons we need to store recipient's certificate here
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.KeyAgreeRecipientInfo.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.version = arguments[0].version || 0;
                this.originator = arguments[0].originator || new in_window.org.pkijs.simpl.cms.OriginatorIdentifierOrKey();

                if("ukm" in arguments[0])
                    this.ukm = arguments[0].ukm;

                this.keyEncryptionAlgorithm = arguments[0].keyEncryptionAlgorithm || new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
                this.recipientEncryptedKeys = arguments[0].recipientEncryptedKeys || new in_window.org.pkijs.simpl.cms.RecipientEncryptedKeys();

                this.recipientCertificate = arguments[0].recipientCertificate || new in_window.org.pkijs.simpl.CERT();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.KeyAgreeRecipientInfo.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.KeyAgreeRecipientInfo({
                names: {
                    version: "version",
                    originator: {
                        names: {
                            block_name: "originator"
                        }
                    },
                    ukm: "ukm",
                    keyEncryptionAlgorithm: {
                        names: {
                            block_name: "keyEncryptionAlgorithm"
                        }
                    },
                    recipientEncryptedKeys: {
                        names: {
                            block_name: "recipientEncryptedKeys"
                        }
                    }
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for KeyAgreeRecipientInfo");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.version = asn1.result["version"].value_block.value_dec;
        this.originator = new in_window.org.pkijs.simpl.cms.OriginatorIdentifierOrKey({ schema: asn1.result["originator"] });

        if("ukm" in asn1.result)
            this.ukm = asn1.result["ukm"];

        this.keyEncryptionAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["keyEncryptionAlgorithm"] });
        this.recipientEncryptedKeys = new in_window.org.pkijs.simpl.cms.RecipientEncryptedKeys({ schema: asn1.result["recipientEncryptedKeys"] });
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.KeyAgreeRecipientInfo.prototype.toSchema =
    function()
    {
        // #region Create array for final sequence 
        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.INTEGER({ value: this.version }));
        output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
            id_block: {
                tag_class: 3, // CONTEXT-SPECIFIC
                tag_number: 0 // [0]
            },
            value: [this.originator.toSchema()]
        }));

        if("ukm" in this)
        {
            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 1 // [1]
                },
                value: [this.ukm]
            }));
        }

        output_array.push(this.keyEncryptionAlgorithm.toSchema());
        output_array.push(this.recipientEncryptedKeys.toSchema());
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.KeyAgreeRecipientInfo.prototype.toJSON =
    function()
    {
        return {
            version: this.version,
            originator: this.originator.toJSON(),
            ukm: this.ukm.toJSON(),
            keyEncryptionAlgorithm: this.keyEncryptionAlgorithm.toJSON(),
            recipientEncryptedKeys: this.recipientEncryptedKeys.toJSON()
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "KEKIdentifier" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.KEKIdentifier =
    function()
    {
        // #region Internal properties of the object 
        this.keyIdentifier = new in_window.org.pkijs.asn1.OCTETSTRING();
        // OPTIONAL this.date
        // OPTIONAL this.other
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.KEKIdentifier.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.keyIdentifier = arguments[0].keyIdentifier || new in_window.org.pkijs.asn1.OCTETSTRING();

                if("date" in arguments[0])
                    this.date = arguments[0].date;

                if("other" in arguments[0])
                    this.other = arguments[0].other;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.KEKIdentifier.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.KEKIdentifier({
                names: {
                    keyIdentifier: "keyIdentifier",
                    date: "date",
                    other: {
                        names: {
                            block_name: "other"
                        }
                    }
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for KEKIdentifier");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.keyIdentifier = asn1.result["keyIdentifier"];

        if("date" in asn1.result)
            this.date = asn1.result["date"];

        if("other" in asn1.result)
            this.other = new in_window.org.pkijs.simpl.cms.OtherKeyAttribute({ schema: asn1.result["other"] })
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.KEKIdentifier.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(this.keyIdentifier);

        if("date" in this)
            output_array.push(this.date);

        if("other" in this)
            output_array.push(this.other.toSchema());
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.KEKIdentifier.prototype.toJSON =
    function()
    {
        var _object = {
            keyIdentifier: this.keyIdentifier.toJSON()
        };

        if("date" in this)
            _object.date = this.date;

        if("other" in this)
            _object.other = this.other.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "KEKRecipientInfo" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.KEKRecipientInfo =
    function()
    {
        // #region Internal properties of the object 
        this.version = 0;
        this.kekid = new in_window.org.pkijs.simpl.cms.KEKIdentifier();
        this.keyEncryptionAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        this.encryptedKey = new in_window.org.pkijs.asn1.OCTETSTRING();

        this.preDefinedKEK = new ArrayBuffer(0); // KEK using to encrypt CEK
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.KEKRecipientInfo.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.version = arguments[0].version || 0;
                this.kekid = arguments[0].kekid || new in_window.org.pkijs.simpl.cms.KEKIdentifier();
                this.keyEncryptionAlgorithm = arguments[0].keyEncryptionAlgorithm || new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
                this.encryptedKey = arguments[0].encryptedKey || new in_window.org.pkijs.asn1.OCTETSTRING();

                this.preDefinedKEK = arguments[0].preDefinedKEK || new ArrayBuffer(0);
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.KEKRecipientInfo.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.KEKRecipientInfo({
                names: {
                    version: "version",
                    kekid: {
                        names: {
                            block_name: "kekid"
                        }
                    },
                    keyEncryptionAlgorithm: {
                        names: {
                            block_name: "keyEncryptionAlgorithm"
                        }
                    },
                    encryptedKey: "encryptedKey"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for KEKRecipientInfo");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.version = asn1.result["version"].value_block.value_dec;
        this.kekid = new in_window.org.pkijs.simpl.cms.KEKIdentifier({ schema: asn1.result["kekid"] });
        this.keyEncryptionAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["keyEncryptionAlgorithm"] });
        this.encryptedKey = asn1.result["encryptedKey"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.KEKRecipientInfo.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                new in_window.org.pkijs.asn1.INTEGER({ value: this.version }),
                this.kekid.toSchema(),
                this.keyEncryptionAlgorithm.toSchema(),
                this.encryptedKey
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.KEKRecipientInfo.prototype.toJSON =
    function()
    {
        return {
            version: this.version,
            kekid: this.originator.toJSON(),
            keyEncryptionAlgorithm: this.keyEncryptionAlgorithm.toJSON(),
            encryptedKey: this.encryptedKey.toJSON()
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "PasswordRecipientinfo" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.PasswordRecipientinfo =
    function()
    {
        // #region Internal properties of the object 
        this.version = -1;
        // OPTIONAL this.keyDerivationAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        this.keyEncryptionAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        this.encryptedKey = new in_window.org.pkijs.asn1.OCTETSTRING();

        this.password = new ArrayBuffer(0); // Password to derive key from
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.PasswordRecipientinfo.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                if("version" in arguments[0])
                    this.version = arguments[0].version;
                else
                    this.version = -1;

                if("keyDerivationAlgorithm" in arguments[0])
                    this.keyDerivationAlgorithm = arguments[0].keyDerivationAlgorithm;

                this.keyEncryptionAlgorithm = arguments[0].keyEncryptionAlgorithm || new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
                this.encryptedKey = arguments[0].encryptedKey || new in_window.org.pkijs.asn1.OCTETSTRING();

                this.password = arguments[0].password || new ArrayBuffer(0);
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.PasswordRecipientinfo.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.PasswordRecipientinfo({
                names: {
                    version: "version",
                    keyDerivationAlgorithm: "keyDerivationAlgorithm",
                    keyEncryptionAlgorithm: {
                        names: {
                            block_name: "keyEncryptionAlgorithm"
                        }
                    },
                    encryptedKey: "encryptedKey"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for PasswordRecipientinfo");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.version = asn1.result["version"].value_block.value_dec;

        if("keyDerivationAlgorithm" in asn1.result)
        {
            asn1.result["keyDerivationAlgorithm"].id_block.tag_class = 1; // UNIVERSAL
            asn1.result["keyDerivationAlgorithm"].id_block.tag_number = 16; // SEQUENCE

            this.keyDerivationAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["keyDerivationAlgorithm"] });
        }

        this.keyEncryptionAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["keyEncryptionAlgorithm"] });
        this.encryptedKey = asn1.result["encryptedKey"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.PasswordRecipientinfo.prototype.toSchema =
    function()
    {
        // #region Create output array for sequence 
        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.INTEGER({ value: this.version }));

        if("keyDerivationAlgorithm" in this)
        {
            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: this.keyDerivationAlgorithm.toSchema().value_block.value
            }));
        }

        output_array.push(this.keyEncryptionAlgorithm.toSchema());
        output_array.push(this.encryptedKey);
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.PasswordRecipientinfo.prototype.toJSON =
    function()
    {
        return {
            version: this.version,
            keyDerivationAlgorithm: this.keyDerivationAlgorithm.toJSON(),
            keyEncryptionAlgorithm: this.keyEncryptionAlgorithm.toJSON(),
            encryptedKey: this.encryptedKey.toJSON()
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "OtherRecipientInfo" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OtherRecipientInfo =
    function()
    {
        // #region Internal properties of the object 
        this.oriType = "";
        this.oriValue = new in_window.org.pkijs.asn1.ANY();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.OtherRecipientInfo.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.oriType = arguments[0].oriType || "";
                this.oriValue = arguments[0].oriValue || new in_window.org.pkijs.asn1.ANY();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OtherRecipientInfo.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.OtherRecipientInfo({
                names: {
                    oriType: "oriType",
                    oriValue: "oriValue"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for OtherRecipientInfo");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.oriType = asn1.result["oriType"].value_block.toString();
        this.oriValue = asn1.result["oriValue"];
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OtherRecipientInfo.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                new in_window.org.pkijs.asn1.OID({ value: this.oriType }),
                this.oriValue
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OtherRecipientInfo.prototype.toJSON =
    function()
    {
        var _object = {
            oriType: this.oriType
        };

        if(!(this.oriValue instanceof in_window.org.pkijs.asn1.ANY))
            _object.oriValue = this.oriValue.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "CMS_RECIPIENT_INFO" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_RECIPIENT_INFO =
    function()
    {
        // #region Internal properties of the object 
        this.variant = -1; // CHOICE variant
        // VALUE OF CHOICE this.value
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.CMS_RECIPIENT_INFO.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.variant = arguments[0].variant || (-1);

                if("value" in arguments[0])
                    this.value = arguments[0].value;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_RECIPIENT_INFO.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.CMS_RECIPIENT_INFO({
                names: {
                    block_name: "block_name"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for CMS_RECIPIENT_INFO");
        // #endregion 

        // #region Get internal properties from parsed schema 
        if(asn1.result["block_name"].id_block.tag_class === 1)
        {
            this.variant = 1;
            this.value = new in_window.org.pkijs.simpl.cms.KeyTransRecipientInfo({ schema: asn1.result["block_name"] });
        }
        else
        {
            // #region Create "SEQUENCE" from "ASN1_CONSTRUCTED" 
            var _tag_number = asn1.result["block_name"].id_block.tag_number;

            asn1.result["block_name"].id_block.tag_class = 1; // UNIVERSAL
            asn1.result["block_name"].id_block.tag_number = 16; // SEQUENCE
            // #endregion 

            switch(_tag_number)
            {
                case 1:
                    this.variant = 2;
                    this.value = new in_window.org.pkijs.simpl.cms.KeyAgreeRecipientInfo({ schema: asn1.result["block_name"] });
                    break;
                case 2:
                    this.variant = 3;
                    this.value = new in_window.org.pkijs.simpl.cms.KEKRecipientInfo({ schema: asn1.result["block_name"] });
                    break;
                case 3:
                    this.variant = 4;
                    this.value = new in_window.org.pkijs.simpl.cms.PasswordRecipientinfo({ schema: asn1.result["block_name"] });
                    break;
                case 4:
                    this.variant = 5;
                    this.value = new in_window.org.pkijs.simpl.cms.OtherRecipientInfo({ schema: asn1.result["block_name"] });
                    break;
                default:;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_RECIPIENT_INFO.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        var _schema = this.value.toSchema();

        switch(this.variant)
        {
            case 1:
                return _schema;
                break;
            case 2:
            case 3:
            case 4:
                {
                    // #region Create "ASN1_CONSTRUCTED" from "SEQUENCE" 
                    _schema.id_block.tag_class = 3; // CONTEXT-SPECIFIC
                    _schema.id_block.tag_number = (this.variant - 1);
                    // #endregion 

                    return _schema;
                }
                break;
            default:
                return new in_window.org.pkijs.asn1.ANY();
        }
        // #endregion 

        return new in_window.org.pkijs.asn1.ANY();
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_RECIPIENT_INFO.prototype.toJSON =
    function()
    {
        var _object = {
            variant: this.variant
        };

        if((this.variant == 1) || (this.variant === 2))
            _object.value = this.value.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "OriginatorInfo" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OriginatorInfo =
    function()
    {
        // #region Internal properties of the object 
        this.certs = new in_window.org.pkijs.simpl.CMS_CERTIFICATE_SET();
        this.crls = new in_window.org.pkijs.simpl.CSM_REVOCATION_INFO_CHOICES();
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.OriginatorInfo.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.certs = arguments[0].certs || new in_window.org.pkijs.simpl.CMS_CERTIFICATE_SET();
                this.crls = arguments[0].crls || new in_window.org.pkijs.simpl.CSM_REVOCATION_INFO_CHOICES();
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OriginatorInfo.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.OriginatorInfo({
                names: {
                    certs: "certs",
                    crls: "crls"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for OriginatorInfo");
        // #endregion 

        // #region Get internal properties from parsed schema 
        asn1.result["certs"].id_block.tag_class = 1; // UNIVERSAL
        asn1.result["certs"].id_block.tag_number = 17; // SET

        this.certs = new in_window.org.pkijs.simpl.CMS_CERTIFICATE_SET({ schema: asn1.result["certs"] });

        asn1.result["crls"].id_block.tag_class = 1; // UNIVERSAL
        asn1.result["crls"].id_block.tag_number = 17; // SET

        this.crls = new in_window.org.pkijs.simpl.CSM_REVOCATION_INFO_CHOICES({ schema: asn1.result["crls"] });
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OriginatorInfo.prototype.toSchema =
    function()
    {
        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 0 // [0]
                    },
                    value: this.certs.toSchema().value_block.value
                }),
                new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                    optional: true,
                    id_block: {
                        tag_class: 3, // CONTEXT-SPECIFIC
                        tag_number: 1 // [1]
                    },
                    value: this.crls.toSchema().value_block.value
                })
            ]
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.OriginatorInfo.prototype.toJSON =
    function()
    {
        return {
            certs: this.certs.toJSON(),
            crls: this.crls.toJSON()
        };
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "EncryptedContentInfo" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.EncryptedContentInfo =
    function()
    {
        // #region Internal properties of the object 
        this.contentType = "";
        this.contentEncryptionAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();
        // OPTIONAL this.encryptedContent // new in_window.org.pkijs.asn1.OCTETSTRING - (!!!) could be contructive or primitive value (!!!)
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.cms.EncryptedContentInfo.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.contentType = arguments[0].contentType || "";
                this.contentEncryptionAlgorithm = arguments[0].contentEncryptionAlgorithm || new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER();

                if("encryptedContent" in arguments[0])
                {
                    this.encryptedContent = arguments[0].encryptedContent;

                    if((this.encryptedContent.id_block.tag_class === 1) &&
                       (this.encryptedContent.id_block.tag_number === 4))
                    {
                        // #region Divide OCTETSTRING value down to small pieces 
                        if(this.encryptedContent.id_block.is_constructed === false)
                        {
                            var constr_string = new in_window.org.pkijs.asn1.OCTETSTRING({
                                id_block: { is_constructed: true },
                                is_constructed: true
                            });

                            var offset = 0;
                            var length = this.encryptedContent.value_block.value_hex.byteLength;

                            while(length > 0)
                            {
                                var piece_view = new Uint8Array(this.encryptedContent.value_block.value_hex, offset, ((offset + 1024) > this.encryptedContent.value_block.value_hex.byteLength) ? (this.encryptedContent.value_block.value_hex.byteLength - offset) : 1024);
                                var _array = new ArrayBuffer(piece_view.length);
                                var _view = new Uint8Array(_array);

                                for(var i = 0; i < _view.length; i++)
                                    _view[i] = piece_view[i];

                                constr_string.value_block.value.push(new in_window.org.pkijs.asn1.OCTETSTRING({ value_hex: _array }));

                                length -= piece_view.length;
                                offset += piece_view.length;
                            }

                            this.encryptedContent = constr_string;
                        }
                        // #endregion   
                    }
                }
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.EncryptedContentInfo.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.cms.EncryptedContentInfo({
                names: {
                    contentType: "contentType",
                    contentEncryptionAlgorithm: {
                        names: {
                            block_name: "contentEncryptionAlgorithm"
                        }
                    },
                    encryptedContent: "encryptedContent"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for EncryptedContentInfo");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.contentType = asn1.result["contentType"].value_block.toString();
        this.contentEncryptionAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: asn1.result["contentEncryptionAlgorithm"] });

        if("encryptedContent" in asn1.result)
        {
            this.encryptedContent = asn1.result["encryptedContent"];

            this.encryptedContent.id_block.tag_class = 1; // UNIVERSAL
            this.encryptedContent.id_block.tag_number = 4; // OCTETSTRING (!!!) The value still has instance of "in_window.org.pkijs.asn1.ASN1_CONSTRUCTED / ASN1_PRIMITIVE"
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.EncryptedContentInfo.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var sequenceLengthBlock = {
            is_indefinite_form: false
        };

        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.OID({ value: this.contentType }));
        output_array.push(this.contentEncryptionAlgorithm.toSchema());

        if("encryptedContent" in this)
        {
            sequenceLengthBlock.is_indefinite_form = this.encryptedContent.id_block.is_constructed;

            var encryptedValue = this.encryptedContent;

            encryptedValue.id_block.tag_class = 3; // CONTEXT-SPECIFIC
            encryptedValue.id_block.tag_number = 0; // [0]

            encryptedValue.len_block.is_indefinite_form = this.encryptedContent.id_block.is_constructed;

            output_array.push(encryptedValue);
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            len_block: sequenceLengthBlock,
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.cms.EncryptedContentInfo.prototype.toJSON =
    function()
    {
        var _object = {
            contentType: this.contentType,
            contentEncryptionAlgorithm: this.contentEncryptionAlgorithm.toJSON()
        };

        if("encryptedContent" in this)
            _object.encryptedContent = this.encryptedContent.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
    // #region Simplified structure for "CMS_ENVELOPED_DATA" type
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_ENVELOPED_DATA =
    function()
    {
        // #region Internal properties of the object 
        this.version = 0;
        // OPTIONAL this.originatorInfo
        this.recipientInfos = new Array(); // Array of "simpl.CMS_RECIPIENT_INFO"
        this.encryptedContentInfo = new in_window.org.pkijs.simpl.cms.EncryptedContentInfo();
        // OPTIONAL this.unprotectedAttrs
        // #endregion 

        // #region If input argument array contains "schema" for this object 
        if((arguments[0] instanceof Object) && ("schema" in arguments[0]))
            in_window.org.pkijs.simpl.CMS_ENVELOPED_DATA.prototype.fromSchema.call(this, arguments[0].schema);
        // #endregion 
        // #region If input argument array contains "native" values for internal properties 
        else
        {
            if(arguments[0] instanceof Object)
            {
                this.version = arguments[0].version || 0;

                if("originatorInfo" in arguments[0])
                    this.originatorInfo = arguments[0].originatorInfo;

                this.recipientInfos = arguments[0].recipientInfos || new Array(); // Array of "simpl.CMS_RECIPIENT_INFO"
                this.encryptedContentInfo = arguments[0].encryptedContentInfo || new in_window.org.pkijs.simpl.cms.EncryptedContentInfo();

                if("unprotectedAttrs" in arguments[0])
                    this.unprotectedAttrs = arguments[0].unprotectedAttrs;
            }
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_ENVELOPED_DATA.prototype.fromSchema =
    function(schema)
    {
        // #region Check the schema is valid 
        var asn1 = in_window.org.pkijs.compareSchema(schema,
            schema,
            in_window.org.pkijs.schema.CMS_ENVELOPED_DATA({
                names: {
                    version: "version",
                    originatorInfo: "originatorInfo",
                    recipientInfos: "recipientInfos",
                    encryptedContentInfo: {
                        names: {
                            block_name: "encryptedContentInfo"
                        }
                    },
                    unprotectedAttrs: "unprotectedAttrs"
                }
            })
            );

        if(asn1.verified === false)
            throw new Error("Object's schema was not verified against input data for CMS_ENVELOPED_DATA");
        // #endregion 

        // #region Get internal properties from parsed schema 
        this.version = asn1.result["version"].value_block.value_dec;

        if("originatorInfo" in asn1.result)
        {
            asn1.result["originatorInfo"].id_block.tag_class = 1; // UNIVERSAL
            asn1.result["originatorInfo"].id_block.tag_number = 16; // SEQUENCE

            this.originatorInfo = new in_window.org.pkijs.simpl.cms.OriginatorInfo({ schema: asn1.result["originatorInfo"] });
        }

        var recipient_array = asn1.result["recipientInfos"];

        for(var i = 0; i < recipient_array.length; i++)
            this.recipientInfos.push(new in_window.org.pkijs.simpl.CMS_RECIPIENT_INFO({ schema: recipient_array[i] }));

        this.encryptedContentInfo = new in_window.org.pkijs.simpl.cms.EncryptedContentInfo({ schema: asn1.result["encryptedContentInfo"] });

        if("unprotectedAttrs" in asn1.result)
        {
            this.unprotectedAttrs = new Array();
            var attributes_array = asn1.result["unprotectedAttrs"];

            for(var j = 0; j < attributes_array.length; j++)
                this.unprotectedAttrs.push(new in_window.org.pkijs.simpl.ATTRIBUTE({ schema: attributes_array[j] }));
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_ENVELOPED_DATA.prototype.toSchema =
    function()
    {
        // #region Create array for output sequence 
        var output_array = new Array();

        output_array.push(new in_window.org.pkijs.asn1.INTEGER({ value: this.version }));

        if("originatorInfo" in this)
            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 0 // [0]
                },
                value: this.originatorInfo.toSchema().value_block.value
            }));

        var recipients = new Array();

        for(var i = 0; i < this.recipientInfos.length; i++)
            recipients.push(this.recipientInfos[i].toSchema());

        output_array.push(new in_window.org.pkijs.asn1.SET({
            value: recipients
        }));

        output_array.push(this.encryptedContentInfo.toSchema());

        if("unprotectedAttrs" in this)
        {
            var attributes = new Array();

            for(var j = 0; j < this.unprotectedAttrs.length; j++)
                attributes.push(this.unprotectedAttrs[j].toSchema());

            output_array.push(new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED({
                optional: true,
                id_block: {
                    tag_class: 3, // CONTEXT-SPECIFIC
                    tag_number: 1 // [1]
                },
                value: attributes
            }));
        }
        // #endregion 

        // #region Construct and return new ASN.1 schema for this object 
        return (new in_window.org.pkijs.asn1.SEQUENCE({
            value: output_array
        }));
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_ENVELOPED_DATA.prototype.toJSON =
    function()
    {
        var _object = {
            version: this.version
        };

        if("originatorInfo" in this)
            _object.originatorInfo = this.originatorInfo.toJSON();

        _object.recipientInfos = new Array();

        for(var i = 0; i < this.recipientInfos.length; i++)
            _object.recipientInfos.push(this.recipientInfos[i].toJSON());

        _object.encryptedContentInfo = this.encryptedContentInfo.toJSON();

        if("unprotectedAttrs" in this)
        {
            _object.unprotectedAttrs = new Array();

            for(var i = 0; i < this.unprotectedAttrs.length; i++)
                _object.unprotectedAttrs.push(this.unprotectedAttrs[i].toJSON());
        }

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_ENVELOPED_DATA.prototype.addRecipientByCertificate =
    function(certificate, parameters, variant)
    {
        /// <summary>
        /// Helpers function for filling "RecipientInfo" based on recipient's certificate.
        /// Problem with WebCrypto is that for RSA certificates we have only one option - "key transport" and
        /// for ECC certificates we also have one option - "key agreement". As soon as Google will implement
        /// DH algorithm it would be possible to use "key agreement" also for RSA certificates.
        /// </summary>
        /// <param name="certificate" type="in_window.org.pkijs.simpl.CERT">Recipient's certificate</param>
        /// <param name="parameters" type="Object" optional="true">Additional parameters neccessary for "fine tunning" of encryption process</param>
        /// <param name="variant" type="Number" optional="true">
        /// Variant = 1 is for "key transport", variant = 2 is for "key agreement".
        /// In fact the "variant" is unneccessary now because Google has no DH algorithm implementation.
        /// Thus key encryption scheme would be choosen by certificate type only: "key transport" for RSA and "key agreement" for ECC certificates.
        /// </param>

        // #region Initial variables 
        var certificateType = 0;
        var encryptionParameters = parameters || {};
        // #endregion 

        // #region Check type of certificate
        if(certificate.subjectPublicKeyInfo.algorithm.algorithm_id.indexOf("1.2.840.113549") !== (-1))
        {
            certificateType = 1; // RSA-based certificate
            variant = 1; // For the moment it is the only variant for RSA-based certificates
        }
        else
        {
            if(certificate.subjectPublicKeyInfo.algorithm.algorithm_id.indexOf("1.2.840.10045") !== (-1))
            {
                certificateType = 2; // ECC-based certificate
                variant = 2; // For the moment it is the only variant for ECC-based certificates
            }
            else
                throw new Error("Unknown type of certificate's public key: " + certificate.subjectPublicKeyInfo.algorithm.algorithm_id);
        }
        // #endregion 

        // #region Initialize encryption parameters 
        if(("oaepHashAlgorithm" in encryptionParameters) === false)
            encryptionParameters.oaepHashAlgorithm = "SHA-512";

        if(("kdfAlgorithm" in encryptionParameters) === false)
            encryptionParameters.kdfAlgorithm = "SHA-512";

        if(("kekEncryptionLength" in encryptionParameters) === false)
            encryptionParameters.kekEncryptionLength = 256;
        // #endregion 

        // #region Add new "recipient" depends on "variant" and certificate type 
        switch(variant)
        {
            case 1: // Key transport scheme
                {
                    // #region keyEncryptionAlgorithm 
                    var oaepOID = in_window.org.pkijs.getOIDByAlgorithm({
                        name: "RSA-OAEP"
                    });
                    if(oaepOID === "")
                        throw new Error("Can not find OID for OAEP");
                    // #endregion 

                    // #region RSAES-OAEP-params 
                    var hashOID = in_window.org.pkijs.getOIDByAlgorithm({
                        name: encryptionParameters.oaepHashAlgorithm
                    });
                    if(hashOID === "")
                        throw new Error("Unknown OAEP hash algorithm: " + encryptionParameters.oaepHashAlgorithm);

                    var hashAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                        algorithm_id: hashOID,
                        algorithm_params: new in_window.org.pkijs.asn1.NULL()
                    });

                    var rsaOAEPParams = new in_window.org.pkijs.simpl.x509.RSAES_OAEP_params({
                        hashAlgorithm: hashAlgorithm,
                        maskGenAlgorithm: new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: "1.2.840.113549.1.1.8", // id-mgf1
                            algorithm_params: hashAlgorithm.toSchema()
                        })
                    });
                    // #endregion 

                    // #region KeyTransRecipientInfo 
                    var keyInfo = new in_window.org.pkijs.simpl.cms.KeyTransRecipientInfo({
                        version: 0,
                        rid: new in_window.org.pkijs.simpl.cms.IssuerAndSerialNumber({
                            issuer: certificate.issuer,
                            serialNumber: certificate.serialNumber
                        }),
                        keyEncryptionAlgorithm: new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: oaepOID,
                            algorithm_params: rsaOAEPParams.toSchema()
                        }),
                        recipientCertificate: certificate
                        // "encryptedKey" will be calculated in "encrypt" function
                    });
                    // #endregion 

                    // #region Final values for "CMS_ENVELOPED_DATA" 
                    this.recipientInfos.push(new in_window.org.pkijs.simpl.CMS_RECIPIENT_INFO({
                        variant: 1,
                        value: keyInfo
                    }));
                    // #endregion 
                }
                break;
            case 2: // Key agreement scheme
                {
                    // #region RecipientEncryptedKey 
                    var encryptedKey = new in_window.org.pkijs.simpl.cms.RecipientEncryptedKey({
                        rid: new in_window.org.pkijs.simpl.cms.KeyAgreeRecipientIdentifier({
                                variant: 1,
                                value: new in_window.org.pkijs.simpl.cms.IssuerAndSerialNumber({
                                    issuer: certificate.issuer,
                                    serialNumber: certificate.serialNumber
                                })
                        })
                        // "encryptedKey" will be calculated in "encrypt" function
                    });
                    // #endregion 

                    // #region keyEncryptionAlgorithm 
                    var aesKWoid = in_window.org.pkijs.getOIDByAlgorithm({
                        name: "AES-KW",
                        length: encryptionParameters.kekEncryptionLength
                    });
                    if(aesKWoid === "")
                        throw new Error("Unknown length for key encryption algorithm: " + encryptionParameters.kekEncryptionLength);

                    var aesKW = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                        algorithm_id: aesKWoid,
                        algorithm_params: new in_window.org.pkijs.asn1.NULL()
                    });
                    // #endregion 

                    // #region KeyAgreeRecipientInfo 
                    var ecdhOID = in_window.org.pkijs.getOIDByAlgorithm({
                        name: "ECDH",
                        kdf: encryptionParameters.kdfAlgorithm
                    });
                    if(ecdhOID === "")
                        throw new Error("Unknown KDF algorithm: " + encryptionParameters.kdfAlgorithm);

                    // In fact there is no need in so long UKM, but RFC2631
                    // has requirement that "UserKeyMaterial" must be 512 bits long
                    var ukmBuffer = new ArrayBuffer(64);
                    var ukmView = new Uint8Array(ukmBuffer);
                    in_window.org.pkijs.getRandomValues(ukmView); // Generate random values in 64 bytes long buffer

                    var keyInfo = new org.pkijs.simpl.cms.KeyAgreeRecipientInfo({
                        version: 3,
                        // "originator" will be calculated in "encrypt" function because ephemeral key would be generated there
                        ukm: new org.pkijs.asn1.OCTETSTRING({ value_hex: ukmBuffer }),
                        keyEncryptionAlgorithm: new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: ecdhOID, 
                            algorithm_params: aesKW.toSchema()
                        }),
                        recipientEncryptedKeys: new org.pkijs.simpl.cms.RecipientEncryptedKeys({
                            encryptedKeys: [encryptedKey]
                        }),
                        recipientCertificate: certificate
                    });
                    // #endregion 

                    // #region Final values for "CMS_ENVELOPED_DATA" 
                    this.recipientInfos.push(new in_window.org.pkijs.simpl.CMS_RECIPIENT_INFO({
                        variant: 2,
                        value: keyInfo
                    }));
                    // #endregion 
                }
                break;
            default:
                throw new Error("Unknown \"variant\" value: " + variant);
        }
        // #endregion 

        return true;
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_ENVELOPED_DATA.prototype.addRecipientByPreDefinedData =
    function(preDefinedData, parameters, variant)
    {
        /// <summary>Add recipient based on pre-defined data like password or KEK</summary>
        /// <param name="preDefinedData" type="ArrayBuffer">ArrayBuffer with pre-defined data</param>
        /// <param name="parameters" type="Object">Additional parameters neccessary for "fine tunning" of encryption process</param>
        /// <param name="variant" type="Number">
        /// Variant = 1 for pre-defined "key encryption key" (KEK).
        /// Variant = 2 for password-based encryption.
        /// </param>

        // #region Initial variables 
        var encryptionParameters = parameters || {};
        // #endregion 

        // #region Check initial parameters 
        if((preDefinedData instanceof ArrayBuffer) === false)
            throw new Error("Please pass \"preDefinedData\" in ArrayBuffer type");

        if(preDefinedData.byteLength === 0)
            throw new Error("Pre-defined data could have zero length");
        // #endregion 

        // #region Initialize encryption parameters 
        if(("keyIdentifier" in encryptionParameters) === false)
        {
            var keyIdentifierBuffer = new ArrayBuffer(16);
            var keyIdentifierView = new Uint8Array(keyIdentifierBuffer);
            in_window.org.pkijs.getRandomValues(keyIdentifierView);

            encryptionParameters.keyIdentifier = keyIdentifierBuffer;
        }

        if(("hmacHashAlgorithm" in encryptionParameters) === false)
            encryptionParameters.hmacHashAlgorithm = "SHA-512";

        if(("iterationCount" in encryptionParameters) === false)
            encryptionParameters.iterationCount = 2048;

        if(("keyEncryptionAlgorithm" in encryptionParameters) === false)
        {
            encryptionParameters.keyEncryptionAlgorithm = {
                name: "AES-KW",
                length: 256
            };
        }

        if(("keyEncryptionAlgorithmParams" in encryptionParameters) === false)
            encryptionParameters.keyEncryptionAlgorithmParams = new in_window.org.pkijs.asn1.NULL();
        // #endregion 

        // #region Add new recipient based on passed variant 
        switch(variant)
        {
            case 1: // KEKRecipientInfo
                {
                    // #region keyEncryptionAlgorithm 
                    var kekOID = in_window.org.pkijs.getOIDByAlgorithm(encryptionParameters.keyEncryptionAlgorithm);
                    if(kekOID === "")
                        throw new Error("Incorrect value for \"keyEncryptionAlgorithm\"");
                    // #endregion 

                    // #region KEKRecipientInfo 
                    var keyInfo = new in_window.org.pkijs.simpl.cms.KEKRecipientInfo({
                        version: 4,
                        kekid: new in_window.org.pkijs.simpl.cms.KEKIdentifier({
                            keyIdentifier: new in_window.org.pkijs.asn1.OCTETSTRING({ value_hex: encryptionParameters.keyIdentifier })
                        }),
                        keyEncryptionAlgorithm: new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: kekOID,
                            /*
                             For AES-KW params are NULL, but for other algorithm could another situation.
                            */
                            algorithm_params: encryptionParameters.keyEncryptionAlgorithmParams
                        }),
                        preDefinedKEK: preDefinedData
                        // "encryptedKey" would be set in "ecrypt" function
                    });
                    // #endregion 

                    // #region Final values for "CMS_ENVELOPED_DATA" 
                    this.recipientInfos.push(new in_window.org.pkijs.simpl.CMS_RECIPIENT_INFO({
                        variant: 3,
                        value: keyInfo
                    }));
                    // #endregion 
                }
                break;
            case 2: // PasswordRecipientinfo
                {
                    // #region keyDerivationAlgorithm 
                    var pbkdf2OID = in_window.org.pkijs.getOIDByAlgorithm({
                        name: "PBKDF2"
                    });
                    if(pbkdf2OID === "")
                        throw new Error("Can not find OID for PBKDF2");
                    // #endregion 

                    // #region Salt 
                    var saltBuffer = new ArrayBuffer(64);
                    var saltView = new Uint8Array(saltBuffer);
                    in_window.org.pkijs.getRandomValues(saltView);
                    // #endregion 

                    // #region HMAC-based algorithm 
                    var hmacOID = in_window.org.pkijs.getOIDByAlgorithm({
                        name: "HMAC",
                        hash: {
                            name: encryptionParameters.hmacHashAlgorithm
                        }
                    });
                    if(hmacOID === "")
                        throw new Error("Incorrect value for \"hmacHashAlgorithm\": " + encryptionParameters.hmacHashAlgorithm);
                    // #endregion 

                    // #region PBKDF2-params 
                    var pbkdf2Params = new in_window.org.pkijs.simpl.cms.PBKDF2_params({
                        salt: new in_window.org.pkijs.asn1.OCTETSTRING({ value_hex: saltBuffer }),
                        iterationCount: encryptionParameters.iterationCount,
                        prf: new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: hmacOID,
                            algorithm_params: new in_window.org.pkijs.asn1.NULL()
                        })
                    });
                    // #endregion 

                    // #region keyEncryptionAlgorithm 
                    var kekOID = in_window.org.pkijs.getOIDByAlgorithm(encryptionParameters.keyEncryptionAlgorithm);
                    if(kekOID === "")
                        throw new Error("Incorrect value for \"keyEncryptionAlgorithm\"");
                    // #endregion 

                    // #region PasswordRecipientinfo 
                    var keyInfo = new in_window.org.pkijs.simpl.cms.PasswordRecipientinfo({
                        version: 0,
                        keyDerivationAlgorithm: new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: pbkdf2OID,
                            algorithm_params: pbkdf2Params.toSchema()
                        }),
                        keyEncryptionAlgorithm: new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: kekOID,
                            /*
                             For AES-KW params are NULL, but for other algorithm could another situation.
                            */
                            algorithm_params: encryptionParameters.keyEncryptionAlgorithmParams
                        }),
                        password: preDefinedData
                        // "encryptedKey" would be set in "ecrypt" function
                    });
                    // #endregion 

                    // #region Final values for "CMS_ENVELOPED_DATA" 
                    this.recipientInfos.push(new in_window.org.pkijs.simpl.CMS_RECIPIENT_INFO({
                        variant: 4,
                        value: keyInfo
                    }));
                    // #endregion 
                }
                break;
            default:
                throw new Error("Unknown value for \"variant\": " + variant);
        }
        // #endregion 
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_ENVELOPED_DATA.prototype.encrypt =
    function(contentEncryptionAlgorithm, contentToEncrypt)
    {
        /// <summary>Create a new CMS Enveloped Data content with encrypted data</summary>
        /// <param name="contentEncryptionAlgorithm" type="Object">
        /// WebCrypto algorithm. For the moment here could be only "AES-CBC" or "AES-GCM" algorithms.
        /// </param>
        /// <param name="contentToEncrypt" type="ArrayBuffer">Content to encrypt</param>

        // #region Initial variables 
        var _this = this;
        var sequence = Promise.resolve();

        var ivBuffer = new ArrayBuffer(16); // For AES we need IV 16 bytes long
        var ivView = new Uint8Array(ivBuffer);
        in_window.org.pkijs.getRandomValues(ivView);

        var contentView = new Uint8Array(contentToEncrypt);

        var sessionKey;
        var encryptedContent; 
        var exportedSessionKey;

        var recipientsPromises = new Array();
        // #endregion 

        // #region Check for input parameters 
        var contentEncryptionOID = in_window.org.pkijs.getOIDByAlgorithm(contentEncryptionAlgorithm);
        if(contentEncryptionOID === "")
            return new Promise(function(resolve, reject) { reject("Wrong \"contentEncryptionAlgorithm\" value"); });
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Generate new content encryption key 
        sequence = sequence.then(
            function(result)
            {
                return crypto.generateKey(contentEncryptionAlgorithm, true, ["encrypt"]);
            }
            );
        // #endregion 
        // #region Encrypt content
        sequence = sequence.then(
            function(result)
            {
                sessionKey = result;

                return crypto.encrypt({
                    name: contentEncryptionAlgorithm.name,
                    iv: ivView
                },
                sessionKey,
                contentView);
            },
            function(error)
            {
                return new Promise(function(resolve, reject) { reject(error); });
            }
            );
        // #endregion 
        // #region Export raw content of content encryption key 
        sequence = sequence.then(
            function(result)
            {
                // #region Create output OCTETSTRING with encrypted content 
                encryptedContent = result;
                // #endregion 

                return crypto.exportKey("raw", sessionKey);
            },
            function(error)
            {
                return new Promise(function(resolve, reject) { reject(error); });
            }
            ).then(
            function(result)
            {
                exportedSessionKey = result;

                return true;
            },
            function(error)
            {
                return new Promise(function(resolve, reject) { reject(error); });
            }
            );
        // #endregion 
        // #region Append common information to CMS_ENVELOPED_DATA 
        sequence = sequence.then(
            function(result)
            {
                _this.version = 2;
                _this.encryptedContentInfo = new in_window.org.pkijs.simpl.cms.EncryptedContentInfo({
                    contentType: "1.2.840.113549.1.7.1", // "data"
                    contentEncryptionAlgorithm: new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                        algorithm_id: contentEncryptionOID,
                        algorithm_params: new org.pkijs.asn1.OCTETSTRING({ value_hex: ivBuffer })
                    }),
                    encryptedContent: new org.pkijs.asn1.OCTETSTRING({ value_hex: encryptedContent })
                });
            },
            function(error)
            {
                return new Promise(function(resolve, reject) { reject(error); });
            }
            );
        // #endregion 

        // #region Special sub-functions to work with each recipient's type 
        function KeyAgreeRecipientInfo(index)
        {
            // #region Initial variables 
            var currentSequence = Promise.resolve();

            var ecdhPublicKey;
            var ecdhPrivateKey;

            var recipientCurve;
            var recipientCurveLength;

            var exportedECDHPublicKey;
            // #endregion 

            // #region Get "namedCurve" parameter from recipient's certificate 
            currentSequence = currentSequence.then(
                function(result)
                {
                    var curveObject = _this.recipientInfos[index].value.recipientCertificate.subjectPublicKeyInfo.algorithm.algorithm_params;

                    if((curveObject instanceof in_window.org.pkijs.asn1.OID) === false)
                        return new Promise(function(resolve, reject) { reject("Incorrect \"recipientCertificate\" for index " + index); });

                    var curveOID = curveObject.value_block.toString();

                    switch(curveOID)
                    {
                        case "1.2.840.10045.3.1.7":
                            recipientCurve = "P-256";
                            recipientCurveLength = 256;
                            break;
                        case "1.3.132.0.34":
                            recipientCurve = "P-384";
                            recipientCurveLength = 384;
                            break;
                        case "1.3.132.0.35":
                            recipientCurve = "P-521";
                            recipientCurveLength = 528;
                            break;
                        default:
                            return new Promise(function(resolve, reject) { reject("Incorrect curve OID for index " + index); });
                    }

                    return recipientCurve;
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Generate ephemeral ECDH key 
            currentSequence = currentSequence.then(
                function(result)
                {
                    return crypto.generateKey({
                        name: "ECDH",
                        namedCurve: result
                    },
                    true,
                    ["deriveBits"]);
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Export public key of ephemeral ECDH key pair 
            currentSequence = currentSequence.then(
                function(result)
                {
                    ecdhPublicKey = result.publicKey;
                    ecdhPrivateKey = result.privateKey;

                    return crypto.exportKey("spki", ecdhPublicKey);
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Import recipient's public key 
            currentSequence = currentSequence.then(
                function(result)
                {
                    exportedECDHPublicKey = result;

                    return _this.recipientInfos[index].value.recipientCertificate.getPublicKey({
                        algorithm: {
                            algorithm: {
                                name: "ECDH",
                                namedCurve: recipientCurve
                            },
                            usages: []
                        }
                    });
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Create shared secret 
            currentSequence = currentSequence.then(
                function(result)
                {
                    return crypto.deriveBits({
                        name: "ECDH",
                        public: result
                    },
                    ecdhPrivateKey,
                    recipientCurveLength);
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Apply KDF function to shared secret 
            currentSequence = currentSequence.then(
                function(result)
                {
                    // #region Get length of used AES-KW algorithm 
                    var aesKWAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: _this.recipientInfos[index].value.keyEncryptionAlgorithm.algorithm_params });

                    var KWalgorithm = in_window.org.pkijs.getAlgorithmByOID(aesKWAlgorithm.algorithm_id);
                    if(("name" in KWalgorithm) === false)
                        return new Promise(function(resolve, reject) { reject("Incorrect OID for key encryption algorithm: " + aesKWAlgorithm.algorithm_id); });
                    // #endregion 

                    // #region Translate AES-KW length to ArrayBuffer 
                    var kwLength = KWalgorithm.length;

                    var kwLengthBuffer = new ArrayBuffer(4);
                    var kwLengthView = new Uint8Array(kwLengthBuffer);

                    for(var j = 3; j >= 0; j--)
                    {
                        kwLengthView[j] = kwLength;
                        kwLength >>= 8;
                    }
                    // #endregion 

                    // #region Create and encode "ECC-CMS-SharedInfo" structure 
                    var eccInfo = new org.pkijs.simpl.cms.ECC_CMS_SharedInfo({
                        keyInfo: new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: aesKWAlgorithm.algorithm_id,
                            /*
                             Initially RFC5753 says that AES algorithms have absent parameters.
                             But since early implementations all put NULL here. Thus, in order to be
                             "backward compatible", index also put NULL here.
                            */
                            algorithm_params: new org.pkijs.asn1.NULL()
                        }),
                        entityUInfo: _this.recipientInfos[index].value.ukm,
                        suppPubInfo: new org.pkijs.asn1.OCTETSTRING({ value_hex: kwLengthBuffer })
                    });

                    var encodedInfo = eccInfo.toSchema().toBER(false);
                    // #endregion 

                    // #region Get SHA algorithm used together with ECDH 
                    var ecdhAlgorithm = in_window.org.pkijs.getAlgorithmByOID(_this.recipientInfos[index].value.keyEncryptionAlgorithm.algorithm_id);
                    if(("name" in ecdhAlgorithm) === false)
                        return new Promise(function(resolve, reject) { reject("Incorrect OID for key encryption algorithm: " + _this.recipientInfos[index].value.keyEncryptionAlgorithm.algorithm_id); });
                    // #endregion 

                    return in_window.org.pkijs.simpl.cms.kdf(ecdhAlgorithm.kdf, result, KWalgorithm.length, encodedInfo);
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Import AES-KW key from result of KDF function 
            currentSequence = currentSequence.then(
                function(result)
                {
                    return crypto.importKey("raw", result, { name: "AES-KW" }, true, ["wrapKey"]);
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Finally wrap session key by using AES-KW algorithm 
            currentSequence = currentSequence.then(
                function(result)
                {
                    return crypto.wrapKey("raw", sessionKey, result, { name: "AES-KW" });
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Append all neccessary data to current CMS_RECIPIENT_INFO object 
            currentSequence = currentSequence.then(
                function(result)
                {
                    // #region OriginatorIdentifierOrKey 
                    var asn1 = org.pkijs.fromBER(exportedECDHPublicKey);

                    var originator = new org.pkijs.simpl.cms.OriginatorIdentifierOrKey();
                    originator.variant = 3;
                    originator.value = new org.pkijs.simpl.cms.OriginatorPublicKey({ schema: asn1.result });
                    // There is option when we can stay with ECParameters, but here index prefer to avoid the params 
                    if("algorithm_params" in originator.value.algorithm)
                        delete originator.value.algorithm.algorithm_params;

                    _this.recipientInfos[index].value.originator = originator;
                    // #endregion 

                    // #region RecipientEncryptedKey 
                    /*
                     We will not support using of same ephemeral key for many recipients
                    */
                    _this.recipientInfos[index].value.recipientEncryptedKeys.encryptedKeys[0].encryptedKey = new in_window.org.pkijs.asn1.OCTETSTRING({ value_hex: result });
                    // #endregion  
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 

            return currentSequence;
        }

        function KeyTransRecipientInfo(index)
        {
            // #region Initial variables 
            var currentSequence = Promise.resolve();
            // #endregion 

            // #region Get recipient's public key 
            currentSequence = currentSequence.then(
                function(result)
                {
                    // #region Get current used SHA algorithm 
                    var schema = _this.recipientInfos[index].value.keyEncryptionAlgorithm.algorithm_params;
                    var rsaOAEPParams = new in_window.org.pkijs.simpl.x509.RSAES_OAEP_params({ schema: schema });

                    var hashAlgorithm = in_window.org.pkijs.getAlgorithmByOID(rsaOAEPParams.hashAlgorithm.algorithm_id);
                    if(("name" in hashAlgorithm) === false)
                        return new Promise(function(resolve, reject) { reject("Incorrect OID for hash algorithm: " + rsaOAEPParams.hashAlgorithm.algorithm_id); });
                    // #endregion 

                    return _this.recipientInfos[index].value.recipientCertificate.getPublicKey({
                        algorithm: {
                            algorithm: {
                                name: "RSA-OAEP",
                                hash: {
                                    name: hashAlgorithm.name
                                }
                            },
                            usages: ["encrypt", "wrapKey"]
                        }
                    });
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Encrypt early exported session key on recipient's public key 
            currentSequence = currentSequence.then(
                function(result)
                {
                    return crypto.encrypt({ name: "RSA-OAEP" }, result, exportedSessionKey);
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Append all neccessary data to current CMS_RECIPIENT_INFO object 
            currentSequence = currentSequence.then(
                function(result)
                {
                    // #region RecipientEncryptedKey 
                    _this.recipientInfos[index].value.encryptedKey = new in_window.org.pkijs.asn1.OCTETSTRING({ value_hex: result });
                    // #endregion  
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 

            return currentSequence;
        }

        function KEKRecipientInfo(index)
        {
            // #region Initial variables 
            var currentSequence = Promise.resolve();
            var kekAlgorithm;
            // #endregion 

            // #region Import KEK from pre-defined data 
            currentSequence = currentSequence.then(
                function(result)
                {
                    // #region Get WebCrypto form of "keyEncryptionAlgorithm" 
                    kekAlgorithm = in_window.org.pkijs.getAlgorithmByOID(_this.recipientInfos[index].value.keyEncryptionAlgorithm.algorithm_id);
                    if(("name" in kekAlgorithm) === false)
                        return new Promise(function(resolve, reject) { reject("Incorrect OID for \"keyEncryptionAlgorithm\": " + _this.recipientInfos[index].value.keyEncryptionAlgorithm.algorithm_id); });
                    // #endregion 

                    return crypto.importKey("raw", 
                        new Uint8Array(_this.recipientInfos[index].value.preDefinedKEK),
                        kekAlgorithm,
                        true,
                        ['wrapKey']); // Too specific for AES-KW
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Wrap previously exported session key 
            currentSequence = currentSequence.then(
                function(result)
                {

                    return crypto.wrapKey("raw", sessionKey, result, kekAlgorithm);
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Append all neccessary data to current CMS_RECIPIENT_INFO object 
            currentSequence = currentSequence.then(
                function(result)
                {
                    // #region RecipientEncryptedKey 
                    _this.recipientInfos[index].value.encryptedKey = new in_window.org.pkijs.asn1.OCTETSTRING({ value_hex: result });
                    // #endregion  
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 

            return currentSequence;
        }

        function PasswordRecipientinfo(index)
        {
            // #region Initial variables 
            var currentSequence = Promise.resolve();
            var pbkdf2Params;
            var kekAlgorithm;
            // #endregion 

            // #region Check that we have encoded "keyDerivationAlgorithm" plus "PBKDF2_params" inthere 
            currentSequence = currentSequence.then(
                function(result)
                {
                    if(("keyDerivationAlgorithm" in _this.recipientInfos[index].value) === false)
                        return new Promise(function(resolve, reject) { reject("Please append encoded \"keyDerivationAlgorithm\""); });

                    if(("algorithm_params" in _this.recipientInfos[index].value.keyDerivationAlgorithm) === false)
                        return new Promise(function(resolve, reject) { reject("Incorrectly encoded \"keyDerivationAlgorithm\""); });

                    try
                    {
                        pbkdf2Params = new in_window.org.pkijs.simpl.cms.PBKDF2_params({ schema: _this.recipientInfos[index].value.keyDerivationAlgorithm.algorithm_params });
                    }
                    catch(ex)
                    {
                        return new Promise(function(resolve, reject) { reject("Incorrectly encoded \"keyDerivationAlgorithm\""); });
                    }
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Derive PBKDF2 key from "password" buffer 
            currentSequence = currentSequence.then(
                function(result)
                {
                    var passwordView = new Uint8Array(_this.recipientInfos[index].value.password);

                    return crypto.importKey("raw",
                        passwordView,
                        "PBKDF2",
                        true,
                        ['deriveKey']);
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Derive key for "keyEncryptionAlgorithm" 
            currentSequence = currentSequence.then(
                function(result)
                {
                    // #region Get WebCrypto form of "keyEncryptionAlgorithm" 
                    kekAlgorithm = in_window.org.pkijs.getAlgorithmByOID(_this.recipientInfos[index].value.keyEncryptionAlgorithm.algorithm_id);
                    if(("name" in kekAlgorithm) === false)
                        return new Promise(function(resolve, reject) { reject("Incorrect OID for \"keyEncryptionAlgorithm\": " + _this.recipientInfos[index].value.keyEncryptionAlgorithm.algorithm_id); });
                    // #endregion 

                    // #region Get HMAC hash algorithm 
                    var hmacHashAlgorithm = "SHA-1";

                    if("prf" in pbkdf2Params)
                    {
                        var algorithm = in_window.org.pkijs.getAlgorithmByOID(pbkdf2Params.prf.algorithm_id);
                        if(("name" in algorithm) === false)
                            return new Promise(function(resolve, reject) { reject("Incorrect OID for HMAC hash algorithm"); });

                        hmacHashAlgorithm = algorithm.hash.name;
                    }
                    // #endregion 

                    // #region Get PBKDF2 "salt" value 
                    var saltView = new Uint8Array(pbkdf2Params.salt.value_block.value_hex);
                    // #endregion 

                    // #region Get PBKDF2 iterations count 
                    var iterations = pbkdf2Params.iterationCount;
                    // #endregion 

                    return crypto.deriveKey({
                        name: "PBKDF2",
                        hash: {
                            name: hmacHashAlgorithm
                        },
                        salt: saltView,
                        iterations: iterations
                    },
                    result,
                    kekAlgorithm,
                    true,
                    ['wrapKey']); // Usages are too specific for KEK algorithm
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Wrap previously exported session key 
            currentSequence = currentSequence.then(
                function(result)
                {
                    /*
                     Also too specific for KEK algorithm.
                    */
                    return crypto.wrapKey("raw", sessionKey, result, kekAlgorithm);
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Append all neccessary data to current CMS_RECIPIENT_INFO object 
            currentSequence = currentSequence.then(
                function(result)
                {
                    // #region RecipientEncryptedKey 
                    _this.recipientInfos[index].value.encryptedKey = new in_window.org.pkijs.asn1.OCTETSTRING({ value_hex: result });
                    // #endregion  
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 

            return currentSequence;
        }
        // #endregion 

        // #region Create special routines for each "recipient" 
        sequence = sequence.then(
            function(result)
            {
                for(var i = 0; i < _this.recipientInfos.length; i++)
                {
                    // #region Initial variables 
                    var currentSequence = Promise.resolve();
                    // #endregion 

                    switch(_this.recipientInfos[i].variant)
                    {
                        case 1: // KeyTransRecipientInfo
                            currentSequence = KeyTransRecipientInfo(i);
                            break;
                        case 2: // KeyAgreeRecipientInfo
                            currentSequence = KeyAgreeRecipientInfo(i);
                            break;
                        case 3: // KEKRecipientInfo
                            currentSequence = KEKRecipientInfo(i);
                            break;
                        case 4: // PasswordRecipientinfo
                            currentSequence = PasswordRecipientinfo(i);
                            break;
                        default:
                            return new Promise(function(resolve, reject) { reject("Uknown recipient type in array with index " + i); });
                    }

                    recipientsPromises.push(currentSequence);
                }
            },
            function(error)
            {
                return new Promise(function(resolve, reject) { reject(error); });
            }
            );
        // #endregion 

        // #region Run separate thread for each recipient 
        sequence = sequence.then(
            function(result)
            {
                return Promise.all(recipientsPromises);
            },
            function(error)
            {
                return new Promise(function(resolve, reject) { reject(error); });
            }
            );
        // #endregion 

        return sequence;
    }
    //**************************************************************************************
    in_window.org.pkijs.simpl.CMS_ENVELOPED_DATA.prototype.decrypt =
    function(recipientIndex, parameters)
    {
        /// <summary>Decrypt existing CMS Enveloped Data content</summary>
        /// <param name="recipientIndex" type="Number">Index of recipient</param>
        /// <param name="parameters" type="Object" optional="true">Additional parameters</param>

        // #region Initial variables 
        var _this = this;
        var sequence = Promise.resolve();

        var decryptionParameters = parameters || {};
        // #endregion 

        // #region Check for input parameters
        if((recipientIndex + 1) > this.recipientInfos.length)
            return new Promise(function(resolve, reject) { reject("Maximum value for \"index\" is: " + (this.recipientInfos.length - 1)); });
        // #endregion 

        // #region Get a "crypto" extension 
        var crypto = in_window.org.pkijs.getCrypto();
        if(typeof crypto == "undefined")
            return new Promise(function(resolve, reject) { reject("Unable to create WebCrypto object"); });
        // #endregion 

        // #region Special sub-functions to work with each recipient's type 
        function KeyAgreeRecipientInfo(index)
        {
            // #region Initial variables 
            var currentSequence = Promise.resolve();

            var recipientCurve;
            var recipientCurveLength;

            var curveOID;

            var ecdhPrivateKey;
            // #endregion 

            // #region Get "namedCurve" parameter from recipient's certificate 
            currentSequence = currentSequence.then(
                function(result)
                {
                    if(("recipientCertificate" in decryptionParameters) === false)
                        return new Promise(function(resolve, reject) { reject("Parameter \"recipientCertificate\" is mandatory for \"KeyAgreeRecipientInfo\""); });

                    if(("recipientPrivateKey" in decryptionParameters) === false)
                        return new Promise(function(resolve, reject) { reject("Parameter \"recipientPrivateKey\" is mandatory for \"KeyAgreeRecipientInfo\""); });

                    var curveObject = decryptionParameters.recipientCertificate.subjectPublicKeyInfo.algorithm.algorithm_params;

                    if((curveObject instanceof in_window.org.pkijs.asn1.OID) === false)
                        return new Promise(function(resolve, reject) { reject("Incorrect \"recipientCertificate\" for index " + index); });

                    curveOID = curveObject.value_block.toString();

                    switch(curveOID)
                    {
                        case "1.2.840.10045.3.1.7":
                            recipientCurve = "P-256";
                            recipientCurveLength = 256;
                            break;
                        case "1.3.132.0.34":
                            recipientCurve = "P-384";
                            recipientCurveLength = 384;
                            break;
                        case "1.3.132.0.35":
                            recipientCurve = "P-521";
                            recipientCurveLength = 528;
                            break;
                        default:
                            return new Promise(function(resolve, reject) { reject("Incorrect curve OID for index " + index); });
                    }

                    return crypto.importKey("pkcs8",
                        decryptionParameters.recipientPrivateKey,
                        {
                            name: "ECDH",
                            namedCurve: recipientCurve
                        },
                        true,
                        ["deriveBits"]
                        );
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Import sender's ephemeral public key 
            currentSequence = currentSequence.then(
                function(result)
                {
                    ecdhPrivateKey = result;

                    // #region Change "OriginatorPublicKey" if "curve" parameter absent
                    if(("algorithm_params" in _this.recipientInfos[index].value.originator.value.algorithm) === false)
                        _this.recipientInfos[index].value.originator.value.algorithm.algorithm_params = new in_window.org.pkijs.asn1.OID({ value: curveOID });
                    // #endregion 

                    // #region Create ArrayBuffer with sender's public key 
                    var buffer = _this.recipientInfos[index].value.originator.value.toSchema().toBER(false);
                    // #endregion 

                    return crypto.importKey("spki", 
                        buffer,
                        {
                            name: "ECDH",
                            namedCurve: recipientCurve
                        },
                        true,
                        []);
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Create shared secret 
            currentSequence = currentSequence.then(
                function(result)
                {
                    return crypto.deriveBits({
                        name: "ECDH",
                        public: result
                    },
                    ecdhPrivateKey,
                    recipientCurveLength);
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Apply KDF function to shared secret 
            currentSequence = currentSequence.then(
                function(result)
                {
                    // #region Get length of used AES-KW algorithm 
                    var aesKWAlgorithm = new in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER({ schema: _this.recipientInfos[index].value.keyEncryptionAlgorithm.algorithm_params });

                    var KWalgorithm = in_window.org.pkijs.getAlgorithmByOID(aesKWAlgorithm.algorithm_id);
                    if(("name" in KWalgorithm) === false)
                        return new Promise(function(resolve, reject) { reject("Incorrect OID for key encryption algorithm: " + aesKWAlgorithm.algorithm_id); });
                    // #endregion 

                    // #region Translate AES-KW length to ArrayBuffer 
                    var kwLength = KWalgorithm.length;

                    var kwLengthBuffer = new ArrayBuffer(4);
                    var kwLengthView = new Uint8Array(kwLengthBuffer);

                    for(var j = 3; j >= 0; j--)
                    {
                        kwLengthView[j] = kwLength;
                        kwLength >>= 8;
                    }
                    // #endregion 

                    // #region Create and encode "ECC-CMS-SharedInfo" structure 
                    var eccInfo = new org.pkijs.simpl.cms.ECC_CMS_SharedInfo({
                        keyInfo: new org.pkijs.simpl.ALGORITHM_IDENTIFIER({
                            algorithm_id: aesKWAlgorithm.algorithm_id,
                            /*
                             Initially RFC5753 says that AES algorithms have absent parameters.
                             But since early implementations all put NULL here. Thus, in order to be
                             "backward compatible", index also put NULL here.
                            */
                            algorithm_params: new org.pkijs.asn1.NULL()
                        }),
                        entityUInfo: _this.recipientInfos[index].value.ukm,
                        suppPubInfo: new org.pkijs.asn1.OCTETSTRING({ value_hex: kwLengthBuffer })
                    });

                    var encodedInfo = eccInfo.toSchema().toBER(false);
                    // #endregion 

                    // #region Get SHA algorithm used together with ECDH 
                    var ecdhAlgorithm = in_window.org.pkijs.getAlgorithmByOID(_this.recipientInfos[index].value.keyEncryptionAlgorithm.algorithm_id);
                    if(("name" in ecdhAlgorithm) === false)
                        return new Promise(function(resolve, reject) { reject("Incorrect OID for key encryption algorithm: " + _this.recipientInfos[index].value.keyEncryptionAlgorithm.algorithm_id); });
                    // #endregion 

                    return in_window.org.pkijs.simpl.cms.kdf(ecdhAlgorithm.kdf, result, KWalgorithm.length, encodedInfo);
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Import AES-KW key from result of KDF function 
            currentSequence = currentSequence.then(
                function(result)
                {
                    return crypto.importKey("raw",
                        result,
                        { name: "AES-KW" },
                        true,
                        ["unwrapKey"]);
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Finally unwrap session key 
            currentSequence = currentSequence.then(
                function(result)
                {
                    // #region Get WebCrypto form of content encryption algorithm 
                    var contentEncryptionAlgorithm = in_window.org.pkijs.getAlgorithmByOID(_this.encryptedContentInfo.contentEncryptionAlgorithm.algorithm_id);
                    if(("name" in contentEncryptionAlgorithm) === false)
                        return new Promise(function(resolve, reject) { reject("Incorrect \"contentEncryptionAlgorithm\": " + _this.encryptedContentInfo.contentEncryptionAlgorithm.algorithm_id); });
                    // #endregion 

                    return crypto.unwrapKey("raw",
                        _this.recipientInfos[index].value.recipientEncryptedKeys.encryptedKeys[0].encryptedKey.value_block.value_hex,
                        result,
                        { name: "AES-KW" },
                        contentEncryptionAlgorithm,
                        true,
                        ["decrypt"]);
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 

            return currentSequence;
        }

        function KeyTransRecipientInfo(index)
        {
            // #region Initial variables 
            var currentSequence = Promise.resolve();
            // #endregion 

            // #region Import recipient's private key 
            currentSequence = currentSequence.then(
                function(result)
                {
                    if(("recipientPrivateKey" in decryptionParameters) === false)
                        return new Promise(function(resolve, reject) { reject("Parameter \"recipientPrivateKey\" is mandatory for \"KeyTransRecipientInfo\""); });

                    // #region Get current used SHA algorithm 
                    var schema = _this.recipientInfos[index].value.keyEncryptionAlgorithm.algorithm_params;
                    var rsaOAEPParams = new in_window.org.pkijs.simpl.x509.RSAES_OAEP_params({ schema: schema });

                    var hashAlgorithm = in_window.org.pkijs.getAlgorithmByOID(rsaOAEPParams.hashAlgorithm.algorithm_id);
                    if(("name" in hashAlgorithm) === false)
                        return new Promise(function(resolve, reject) { reject("Incorrect OID for hash algorithm: " + rsaOAEPParams.hashAlgorithm.algorithm_id); });
                    // #endregion 

                    return crypto.importKey("pkcs8",
                        decryptionParameters.recipientPrivateKey,
                        {
                            name: "RSA-OAEP",
                            hash: {
                                name: hashAlgorithm.name
                            }
                        },
                        true,
                        ["decrypt"]);
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Decrypt encrypted session key 
            currentSequence = currentSequence.then(
                function(result)
                {
                    return crypto.decrypt({
                        name: "RSA-OAEP"
                    },
                    result,
                    _this.recipientInfos[index].value.encryptedKey.value_block.value_hex
                    );
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Import decrypted session key 
            currentSequence = currentSequence.then(
                function(result)
                {
                    // #region Get WebCrypto form of content encryption algorithm 
                    var contentEncryptionAlgorithm = in_window.org.pkijs.getAlgorithmByOID(_this.encryptedContentInfo.contentEncryptionAlgorithm.algorithm_id);
                    if(("name" in contentEncryptionAlgorithm) === false)
                        return new Promise(function(resolve, reject) { reject("Incorrect \"contentEncryptionAlgorithm\": " + _this.encryptedContentInfo.contentEncryptionAlgorithm.algorithm_id); });
                    // #endregion 

                    return crypto.importKey("raw",
                        result,
                        contentEncryptionAlgorithm,
                        true,
                        ["decrypt"]
                        );
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 

            return currentSequence;
        }

        function KEKRecipientInfo(index)
        {
            // #region Initial variables 
            var currentSequence = Promise.resolve();
            var kekAlgorithm;
            // #endregion 

            // #region Import KEK from pre-defined data 
            currentSequence = currentSequence.then(
                function(result)
                {
                    if(("preDefinedData" in decryptionParameters) === false)
                        return new Promise(function(resolve, reject) { reject("Parameter \"preDefinedData\" is mandatory for \"KEKRecipientInfo\""); });

                    // #region Get WebCrypto form of "keyEncryptionAlgorithm" 
                    kekAlgorithm = in_window.org.pkijs.getAlgorithmByOID(_this.recipientInfos[index].value.keyEncryptionAlgorithm.algorithm_id);
                    if(("name" in kekAlgorithm) === false)
                        return new Promise(function(resolve, reject) { reject("Incorrect OID for \"keyEncryptionAlgorithm\": " + _this.recipientInfos[index].value.keyEncryptionAlgorithm.algorithm_id); });
                    // #endregion 

                    return crypto.importKey("raw",
                        decryptionParameters.preDefinedData,
                        kekAlgorithm,
                        true,
                        ["unwrapKey"]); // Too specific for AES-KW
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Unwrap previously exported session key 
            currentSequence = currentSequence.then(
                function(result)
                {
                    // #region Get WebCrypto form of content encryption algorithm 
                    var contentEncryptionAlgorithm = in_window.org.pkijs.getAlgorithmByOID(_this.encryptedContentInfo.contentEncryptionAlgorithm.algorithm_id);
                    if(("name" in contentEncryptionAlgorithm) === false)
                        return new Promise(function(resolve, reject) { reject("Incorrect \"contentEncryptionAlgorithm\": " + _this.encryptedContentInfo.contentEncryptionAlgorithm.algorithm_id); });
                    // #endregion 

                    return crypto.unwrapKey("raw",
                        _this.recipientInfos[index].value.encryptedKey.value_block.value_hex,
                        result,
                        kekAlgorithm,
                        contentEncryptionAlgorithm,
                        true,
                        ["decrypt"]);
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 

            return currentSequence;
        }

        function PasswordRecipientinfo(index)
        {
            // #region Initial variables 
            var currentSequence = Promise.resolve();
            var pbkdf2Params;
            var kekAlgorithm;
            // #endregion 

            // #region Derive PBKDF2 key from "password" buffer 
            currentSequence = currentSequence.then(
                function(result)
                {
                    if(("preDefinedData" in decryptionParameters) === false)
                        return new Promise(function(resolve, reject) { reject("Parameter \"preDefinedData\" is mandatory for \"KEKRecipientInfo\""); });

                    if(("keyDerivationAlgorithm" in _this.recipientInfos[index].value) === false)
                        return new Promise(function(resolve, reject) { reject("Please append encoded \"keyDerivationAlgorithm\""); });

                    if(("algorithm_params" in _this.recipientInfos[index].value.keyDerivationAlgorithm) === false)
                        return new Promise(function(resolve, reject) { reject("Incorrectly encoded \"keyDerivationAlgorithm\""); });

                    try
                    {
                        pbkdf2Params = new in_window.org.pkijs.simpl.cms.PBKDF2_params({ schema: _this.recipientInfos[index].value.keyDerivationAlgorithm.algorithm_params });
                    }
                    catch(ex)
                    {
                        return new Promise(function(resolve, reject) { reject("Incorrectly encoded \"keyDerivationAlgorithm\""); });
                    }

                    return crypto.importKey("raw",
                        decryptionParameters.preDefinedData,
                        "PBKDF2",
                        true,
                        ["deriveKey"]);
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Derive key for "keyEncryptionAlgorithm" 
            currentSequence = currentSequence.then(
                function(result)
                {
                    // #region Get WebCrypto form of "keyEncryptionAlgorithm" 
                    kekAlgorithm = in_window.org.pkijs.getAlgorithmByOID(_this.recipientInfos[index].value.keyEncryptionAlgorithm.algorithm_id);
                    if(("name" in kekAlgorithm) === false)
                        return new Promise(function(resolve, reject) { reject("Incorrect OID for \"keyEncryptionAlgorithm\": " + _this.recipientInfos[index].value.keyEncryptionAlgorithm.algorithm_id); });
                    // #endregion 

                    // #region Get HMAC hash algorithm 
                    var hmacHashAlgorithm = "SHA-1";

                    if("prf" in pbkdf2Params)
                    {
                        var algorithm = in_window.org.pkijs.getAlgorithmByOID(pbkdf2Params.prf.algorithm_id);
                        if(("name" in algorithm) === false)
                            return new Promise(function(resolve, reject) { reject("Incorrect OID for HMAC hash algorithm"); });

                        hmacHashAlgorithm = algorithm.hash.name;
                    }
                    // #endregion 

                    // #region Get PBKDF2 "salt" value 
                    var saltView = new Uint8Array(pbkdf2Params.salt.value_block.value_hex);
                    // #endregion 

                    // #region Get PBKDF2 iterations count 
                    var iterations = pbkdf2Params.iterationCount;
                    // #endregion 

                    return crypto.deriveKey({
                        name: "PBKDF2",
                        hash: {
                            name: hmacHashAlgorithm
                        },
                        salt: saltView,
                        iterations: iterations
                    },
                    result,
                    kekAlgorithm,
                    true,
                    ['unwrapKey']); // Usages are too specific for KEK algorithm
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 
            // #region Unwrap previously exported session key 
            currentSequence = currentSequence.then(
                function(result)
                {
                    // #region Get WebCrypto form of content encryption algorithm 
                    var contentEncryptionAlgorithm = in_window.org.pkijs.getAlgorithmByOID(_this.encryptedContentInfo.contentEncryptionAlgorithm.algorithm_id);
                    if(("name" in contentEncryptionAlgorithm) === false)
                        return new Promise(function(resolve, reject) { reject("Incorrect \"contentEncryptionAlgorithm\": " + _this.encryptedContentInfo.contentEncryptionAlgorithm.algorithm_id); });
                    // #endregion 

                    return crypto.unwrapKey("raw",
                        _this.recipientInfos[index].value.encryptedKey.value_block.value_hex,
                        result,
                        kekAlgorithm,
                        contentEncryptionAlgorithm,
                        true,
                        ["decrypt"]);
                },
                function(error)
                {
                    return new Promise(function(resolve, reject) { reject(error); });
                }
                );
            // #endregion 

            return currentSequence;
        }
        // #endregion 

        // #region Perform steps, specific to each type of session key encryption 
        sequence = sequence.then(
            function(result)
            {
                // #region Initial variables 
                var currentSequence = Promise.resolve();
                // #endregion 

                switch(_this.recipientInfos[recipientIndex].variant)
                {
                    case 1: // KeyTransRecipientInfo
                        currentSequence = KeyTransRecipientInfo(recipientIndex);
                        break;
                    case 2: // KeyAgreeRecipientInfo
                        currentSequence = KeyAgreeRecipientInfo(recipientIndex);
                        break;
                    case 3: // KEKRecipientInfo
                        currentSequence = KEKRecipientInfo(recipientIndex);
                        break;
                    case 4: // PasswordRecipientinfo
                        currentSequence = PasswordRecipientinfo(recipientIndex);
                        break;
                    default:
                        return new Promise(function(resolve, reject) { reject("Uknown recipient type in array with index " + i); });
                }

                return currentSequence;
            },
            function(error)
            {
                return new Promise(function(resolve, reject) { reject(error); });
            }
            );
        // #endregion 

        // #region Finally decrypt data by session key 
        sequence = sequence.then(
            function(result)
            {
                // #region Get WebCrypto form of content encryption algorithm 
                var contentEncryptionAlgorithm = in_window.org.pkijs.getAlgorithmByOID(_this.encryptedContentInfo.contentEncryptionAlgorithm.algorithm_id);
                if(("name" in contentEncryptionAlgorithm) === false)
                    return new Promise(function(resolve, reject) { reject("Incorrect \"contentEncryptionAlgorithm\": " + _this.encryptedContentInfo.contentEncryptionAlgorithm.algorithm_id); });
                // #endregion 

                // #region Get "intialization vector" for content encryption algorithm 
                var ivBuffer = _this.encryptedContentInfo.contentEncryptionAlgorithm.algorithm_params.value_block.value_hex;
                var ivView = new Uint8Array(ivBuffer);
                // #endregion 

                // #region Create correct data block for decryption
                var dataBuffer = new ArrayBuffer(0);

                if(_this.encryptedContentInfo.encryptedContent.id_block.is_constructed === false)
                    dataBuffer = _this.encryptedContentInfo.encryptedContent.value_block.value_hex;
                else
                {
                    for(var i = 0; i < _this.encryptedContentInfo.encryptedContent.value_block.value.length; i++)
                        dataBuffer = in_window.org.pkijs.concat_buffers(dataBuffer, _this.encryptedContentInfo.encryptedContent.value_block.value[i].value_block.value_hex);
                }
                // #endregion 

                return crypto.decrypt({
                    name: contentEncryptionAlgorithm.name,
                    iv: ivView
                },
                result,
                dataBuffer);
            },
            function(error)
            {
                return new Promise(function(resolve, reject) { reject(error); });
            }
            );
        // #endregion 

        return sequence;
    }
    //**************************************************************************************
    // #endregion 
    //**************************************************************************************
}
)(typeof exports !== "undefined" ? exports : window);
//third_party/javascript/asn1js/v1/asn1.js
/*
 * @license
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015, Peculiar Ventures
 * All rights reserved.
 *
 * Author 2014-2015, Yury Strozhevsky <www.strozhevsky.com>.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
 * OF SUCH DAMAGE.
 *
 */
(
function(in_window)
{
    //**************************************************************************************
    // #region Declaration of global variables
    //**************************************************************************************
    // #region "org" namespace
    if(typeof in_window.org === "undefined")
        in_window.org = {};
    else
    {
        if(typeof in_window.org !== "object")
            throw new Error("Name org already exists and it's not an object");
    }
    // #endregion

    // #region "org.pkijs" namespace
    if(typeof in_window.org.pkijs === "undefined")
        in_window.org.pkijs = {};
    else
    {
        if(typeof in_window.org.pkijs !== "object")
            throw new Error("Name org.pkijs already exists and it's not an object" + " but " + (typeof in_window.org.pkijs));
    }
    // #endregion

    // #region "org.pkijs.asn1" namespace
    if(typeof in_window.org.pkijs.asn1 === "undefined")
        in_window.org.pkijs.asn1 = {};
    else
    {
        if(typeof in_window.org.pkijs.asn1 !== "object")
            throw new Error("Name org.pkijs.asn1 already exists and it's not an object" + " but " + (typeof in_window.org.pkijs.asn1));
    }
    // #endregion

    // #region "local" namespace
    var local = {};
    // #endregion
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Aux-functions
    //**************************************************************************************
    function util_frombase(input_buffer, input_base)
    {
        /// <summary>Convert number from 2^base to 2^10</summary>
        /// <param name="input_buffer" type="Uint8Array">Array of bytes representing the number to convert</param>
        /// <param name="input_base" type="Number">The base of initial number</param>

        var result = 0;

        for(var i = (input_buffer.length - 1); i >= 0; i-- )
            result += input_buffer[(input_buffer.length - 1) - i] * Math.pow(2, input_base * i);

        return result;
    }
    //**************************************************************************************
    function util_tobase(value, base, reserved)
    {
        /// <summary>Convert number from 2^10 to 2^base</summary>
        /// <param name="value" type="Number">The number to convert</param>
        /// <param name="base" type="Number">The base for 2^base</param>
        /// <param name="reserved" type="Number">Pre-defined number of bytes in output array (-1 = limited by function itself)</param>

        reserved = reserved || (-1);

        var result = 0;
        var biggest = Math.pow(2, base);

        for(var i = 1; i < 8; i++)
        {
            if(value < biggest)
            {
                var ret_buf;

                if( reserved < 0 )
                {
                    ret_buf = new ArrayBuffer(i);
                    result = i;
                }
                else
                {
                    if(reserved < i)
                        return (new ArrayBuffer(0));

                    ret_buf = new ArrayBuffer(reserved);

                    result = reserved;
                }

                var ret_view = new Uint8Array(ret_buf);

                for(var j = ( i - 1 ); j >= 0; j-- )
                {
                    var basis = Math.pow(2, j * base);

                    ret_view[ result - j - 1 ] = Math.floor( value / basis );
                    value -= ( ret_view[ result - j - 1 ] ) * basis;
                }

                return ret_buf;
            }

            biggest *= Math.pow(2, base);
        }
    }
    //**************************************************************************************
    function util_encode_tc(value)
    {
        /// <summary>Encode integer value to "two complement" format</summary>
        /// <param name="value" type="Number">Value to encode</param>

        var mod_value = (value < 0) ? (value * (-1)) : value;
        var big_int = 128;

        for(var i = 1; i < 8; i++)
        {
            if( mod_value <= big_int )
            {
                if( value < 0 )
                {
                    var small_int = big_int - mod_value;

                    var ret_buf = util_tobase( small_int, 8, i );
                    var ret_view = new Uint8Array(ret_buf);

                    ret_view[ 0 ] |= 0x80;

                    return ret_buf;
                }
                else
                {
                    var ret_buf = util_tobase( mod_value, 8, i );
                    var ret_view = new Uint8Array(ret_buf);

                    if( ret_view[ 0 ] & 0x80 )
                    {
                        var temp_buf = util_copybuf(ret_buf);
                        var temp_view = new Uint8Array(temp_buf);

                        ret_buf = new ArrayBuffer( ret_buf.byteLength + 1 );
                        ret_view = new Uint8Array(ret_buf);

                        for(var k = 0; k < temp_buf.byteLength; k++)
                            ret_view[k + 1] = temp_view[k];

                        ret_view[0] = 0x00;
                    }

                    return ret_buf;
                }
            }

            big_int *= Math.pow(2, 8);
        }

        return (new ArrayBuffer(0));
    }
    //**************************************************************************************
    function util_decode_tc()
    {
        /// <summary>Decoding of "two complement" values</summary>
        /// <remarks>The function must be called in scope of instance of "hex_block" class ("value_hex" and "warnings" properties must be present)</remarks>

        var buf = new Uint8Array(this.value_hex);

        if(this.value_hex.byteLength >= 2)
        {
            var condition_1 = (buf[0] == 0xFF) && (buf[1] & 0x80);
            var condition_2 = (buf[0] == 0x00) && ((buf[1] & 0x80) == 0x00);

            if(condition_1 || condition_2)
                this.warnings.push("Needlessly long format");
        }

        // #region Create big part of the integer
        var big_int_buffer = new ArrayBuffer(this.value_hex.byteLength);
        var big_int_view = new Uint8Array(big_int_buffer);
        for(var i = 0; i < this.value_hex.byteLength; i++)
            big_int_view[i] = 0;

        big_int_view[0] = (buf[0] & 0x80); // mask only the biggest bit

        var big_int = util_frombase(big_int_view, 8);
        // #endregion

        // #region Create small part of the integer
        var small_int_buffer = new ArrayBuffer(this.value_hex.byteLength);
        var small_int_view = new Uint8Array(small_int_buffer);
        for(var j = 0; j < this.value_hex.byteLength; j++)
            small_int_view[j] = buf[j];

        small_int_view[0] &= 0x7F; // mask biggest bit

        var small_int = util_frombase(small_int_view, 8);
        // #endregion

        return (small_int - big_int);
    }
    //**************************************************************************************
    function util_copybuf(input_buffer)
    {
        /// <summary>Creating a copy of input ArrayBuffer</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ArrayBuffer for coping</param>

        if(check_buffer_params(input_buffer, 0, input_buffer.byteLength) === false)
            return (new ArrayBuffer(0));

        var input_view = new Uint8Array(input_buffer);

        var ret_buf = new ArrayBuffer(input_buffer.byteLength);
        var ret_view = new Uint8Array(ret_buf);

        for(var i = 0; i < input_buffer.byteLength; i++)
            ret_view[i] = input_view[i];

        return ret_buf;
    }
    //**************************************************************************************
    function util_copybuf_offset(input_buffer, input_offset, input_length)
    {
        /// <summary>Creating a copy of input ArrayBuffer</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ArrayBuffer for coping</param>

        if(check_buffer_params(input_buffer, input_offset, input_length) === false)
            return (new ArrayBuffer(0));

        var input_view = new Uint8Array(input_buffer, input_offset, input_length);

        var ret_buf = new ArrayBuffer(input_length);
        var ret_view = new Uint8Array(ret_buf);

        for(var i = 0; i < input_length; i++)
            ret_view[i] = input_view[i];

        return ret_buf;
    }
    //**************************************************************************************
    function util_concatbuf(input_buf1, input_buf2)
    {
        /// <summary>Concatenate two ArrayBuffers</summary>
        /// <param name="input_buf1" type="ArrayBuffer">First ArrayBuffer (first part of concatenated array)</param>
        /// <param name="input_buf2" type="ArrayBuffer">Second ArrayBuffer (second part of concatenated array)</param>

        var input_view1 = new Uint8Array(input_buf1);
        var input_view2 = new Uint8Array(input_buf2);

        var ret_buf = new ArrayBuffer(input_buf1.byteLength + input_buf2.byteLength);
        var ret_view = new Uint8Array(ret_buf);

        for(var i = 0; i < input_buf1.byteLength; i++)
            ret_view[i] = input_view1[i];

        for(var j = 0; j < input_buf2.byteLength; j++)
            ret_view[input_buf1.byteLength + j] = input_view2[j];

        return ret_buf;
    }
    //**************************************************************************************
    function check_buffer_params(input_buffer, input_offset, input_length)
    {
        if((input_buffer instanceof ArrayBuffer) === false)
        {
            this.error = "Wrong parameter: input_buffer must be \"ArrayBuffer\"";
            return false;
        }

        if(input_buffer.byteLength === 0)
        {
            this.error = "Wrong parameter: input_buffer has zero length";
            return false;
        }

        if(input_offset < 0)
        {
            this.error = "Wrong parameter: input_offset less than zero";
            return false;
        }

        if(input_length < 0)
        {
            this.error = "Wrong parameter: input_length less than zero";
            return false;
        }

        if((input_buffer.byteLength - input_offset - input_length) < 0)
        {
            this.error = "End of input reached before message was fully decoded (inconsistent offset and length values)";
            return false;
        }

        return true;
    }
    //**************************************************************************************
    function to_hex_codes(input_buffer, input_offset, input_lenght)
    {
        if(check_buffer_params(input_buffer, input_offset, input_lenght) === false)
            return "";

        var result = "";

        var int_buffer = new Uint8Array(input_buffer, input_offset, input_lenght);

        for(var i = 0; i < int_buffer.length; i++)
        {
            var str = int_buffer[i].toString(16).toUpperCase();
            result = result + ((str.length === 1) ? " 0" : " ") + str;
        }

        return result;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of base block class
    //**************************************************************************************
    local.base_block =
    function()
    {
        /// <summary>General class of all ASN.1 blocks</summary>

        if(arguments[0] instanceof Object)
        {
            this.block_length = in_window.org.pkijs.getValue(arguments[0], "block_length", 0);
            this.error = in_window.org.pkijs.getValue(arguments[0], "error", new String());
            this.warnings = in_window.org.pkijs.getValue(arguments[0], "warnings", new Array());
            if("value_before_decode" in arguments[0])
                this.value_before_decode = util_copybuf(arguments[0].value_before_decode);
            else
                this.value_before_decode = new ArrayBuffer(0);
        }
        else
        {
            this.block_length = 0;
            this.error = new String();
            this.warnings = new Array();
            /// <field>Copy of the value of incoming ArrayBuffer done before decoding</field>
            this.value_before_decode = new ArrayBuffer(0);
        }
    }
    //**************************************************************************************
    local.base_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "base_block";
    }
    //**************************************************************************************
    local.base_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        return {
            block_name: local.base_block.prototype.block_name.call(this),
            block_length: this.block_length,
            error: this.error,
            warnings: this.warnings,
            value_before_decode: in_window.org.pkijs.bufferToHexCodes(this.value_before_decode, 0, this.value_before_decode.byteLength)
        };
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of hex block class
    //**************************************************************************************
    local.hex_block =
    function()
    {
        /// <summary>Descendant of "base_block" with internal ArrayBuffer. Need to have it in case it is not possible to store ASN.1 value in native formats</summary>

        local.base_block.call(this, arguments[0]);

        if(arguments[0] instanceof Object)
        {
            this.is_hex_only = in_window.org.pkijs.getValue(arguments[0], "is_hex_only", false);
            if("value_hex" in arguments[0])
                this.value_hex = util_copybuf(arguments[0].value_hex);
            else
                this.value_hex = new ArrayBuffer(0);
        }
        else
        {
            this.is_hex_only = false;
            this.value_hex = new ArrayBuffer(0);
        }
    }
    //**************************************************************************************
    local.hex_block.prototype = new local.base_block();
    local.hex_block.constructor = local.hex_block;
    //**************************************************************************************
    local.hex_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "hex_block";
    }
    //**************************************************************************************
    local.hex_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        // #region Basic check for parameters
        if(check_buffer_params.call(this, input_buffer, input_offset, input_length) === false)
            return (-1);
        // #endregion

        // #region Getting Uint8Array from ArrayBuffer
        var int_buffer = new Uint8Array(input_buffer, input_offset, input_length);
        // #endregion

        // #region Initial checks
        if(int_buffer.length == 0)
        {
            this.warnings.push("Zero buffer length");
            return input_offset;
        }
        // #endregion

        // #region Copy input buffer to internal buffer
        this.value_hex = new ArrayBuffer(input_length);
        var view = new Uint8Array(this.value_hex);

        for(var i = 0; i < int_buffer.length; i++)
            view[i] = int_buffer[i];
        // #endregion

        this.block_length = input_length;

        return (input_offset + input_length);
    }
    //**************************************************************************************
    local.hex_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        if(this.is_hex_only !== true)
        {
            this.error = "Flag \"is_hex_only\" is not set, abort";
            return (new ArrayBuffer(0));
        }

        var ret_buf = new ArrayBuffer(this.value_hex.byteLength);

        if(size_only === true)
            return ret_buf;

        var ret_view = new Uint8Array(ret_buf);
        var cur_view = new Uint8Array(this.value_hex);

        for(var i = 0; i < cur_view.length; i++)
            ret_view[i] = cur_view[i];

        return ret_buf;
    }
    //**************************************************************************************
    local.hex_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.base_block.prototype.toJSON.call(this);

        _object.block_name = local.hex_block.prototype.block_name.call(this);
        _object.is_hex_only = this.is_hex_only;
        _object.value_hex = in_window.org.pkijs.bufferToHexCodes(this.value_hex, 0, this.value_hex.byteLength)

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of identification block class
    //**************************************************************************************
    local.identification_block =
    function()
    {
        /// <summary>Base class of ASN.1 "identification block"</summary>

        local.hex_block.call(this, arguments[0]);

        this.tag_class = (-1);
        this.tag_number = (-1);
        this.is_constructed = false;

        if(arguments[0] instanceof Object)
        {
            if("id_block" in arguments[0])
            {
                // #region Properties from hex_block class
                this.is_hex_only = in_window.org.pkijs.getValue(arguments[0].id_block, "is_hex_only", false);
                this.value_hex = in_window.org.pkijs.getValue(arguments[0].id_block, "value_hex", new ArrayBuffer(0));
                // #endregion

                this.tag_class = in_window.org.pkijs.getValue(arguments[0].id_block, "tag_class", (-1));
                this.tag_number = in_window.org.pkijs.getValue(arguments[0].id_block, "tag_number", (-1));
                this.is_constructed = in_window.org.pkijs.getValue(arguments[0].id_block, "is_constructed", false);
            }
        }
    }
    //**************************************************************************************
    local.identification_block.prototype = new local.hex_block();
    local.identification_block.constructor = local.identification_block;
    //**************************************************************************************
    local.identification_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "identification_block";
    }
    //**************************************************************************************
    local.identification_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        var first_octet = 0;

        switch(this.tag_class)
        {
            case 1:
                first_octet |= 0x00; // UNIVERSAL
                break;
            case 2:
                first_octet |= 0x40; // APPLICATION
                break;
            case 3:
                first_octet |= 0x80; // CONTEXT-SPECIFIC
                break;
            case 4:
                first_octet |= 0xC0; // PRIVATE
                break;
            default:
                this.error = "Unknown tag class";
                return (new ArrayBuffer(0));
        }

        if(this.is_constructed)
            first_octet |= 0x20;

        if((this.tag_number < 31) && (!this.is_hex_only))
        {
            var ret_buf = new ArrayBuffer(1);
            var ret_view = new Uint8Array(ret_buf);

            if(!size_only)
            {
                var number = this.tag_number;
                number &= 0x1F;
                first_octet |= number;

                ret_view[0] = first_octet;
            }

            return ret_buf;
        }
        else
        {
            if(this.is_hex_only === false)
            {
                var encoded_buf = util_tobase(this.tag_number, 7);
                var encoded_view = new Uint8Array(encoded_buf);
                var size = encoded_buf.byteLength;

                var ret_buf = new ArrayBuffer(size + 1);
                var ret_view = new Uint8Array(ret_buf);

                ret_view[0] = (first_octet | 0x1F);

                if(!size_only)
                {
                    for(var i = 0; i < (size - 1) ; i++)
                        ret_view[i + 1] = encoded_view[i] | 0x80;

                    ret_view[size] = encoded_view[size - 1];
                }

                return ret_buf;
            }
            else
            {
                var ret_buf = new ArrayBuffer(this.value_hex.byteLength + 1);
                var ret_view = new Uint8Array(ret_buf);

                ret_view[0] = (first_octet | 0x1F);

                if(size_only === false)
                {
                    var cur_view = new Uint8Array(this.value_hex);

                    for(var i = 0; i < (cur_view.length - 1); i++)
                        ret_view[i + 1] = cur_view[i] | 0x80;

                    ret_view[this.value_hex.byteLength] = cur_view[cur_view.length - 1];
                }

                return ret_buf;
            }
        }
    }
    //**************************************************************************************
    local.identification_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        // #region Basic check for parameters
        if(check_buffer_params.call(this, input_buffer, input_offset, input_length) === false)
            return (-1);
        // #endregion

        // #region Getting Uint8Array from ArrayBuffer
        var int_buffer = new Uint8Array(input_buffer, input_offset, input_length);
        // #endregion

        // #region Initial checks
        if(int_buffer.length == 0)
        {
            this.error = "Zero buffer length";
            return (-1);
        }
        // #endregion

        // #region Find tag class
        var tag_class_mask = int_buffer[0] & 0xC0;

        switch(tag_class_mask)
        {
            case 0x00:
                this.tag_class = (1); // UNIVERSAL
                break;
            case 0x40:
                this.tag_class = (2); // APPLICATION
                break;
            case 0x80:
                this.tag_class = (3); // CONTEXT-SPECIFIC
                break;
            case 0xC0:
                this.tag_class = (4); // PRIVATE
                break;
            default:
                this.error = "Unknown tag class";
                return ( -1 );
        }
        // #endregion

        // #region Find it's constructed or not
        if((int_buffer[0] & 0x20) == 0x20)
            this.is_constructed = true;
        else
            this.is_constructed = false;
        // #endregion

        // #region Find tag number
        this.is_hex_only = false;

        var tag_number_mask = int_buffer[0] & 0x1F;

        // #region Simple case (tag number < 31)
        if(tag_number_mask != 0x1F)
        {
            this.tag_number = (tag_number_mask);
            this.block_length = 1;
        }
            // #endregion
        // #region Tag number bigger or equal to 31
        else
        {
            var count = 1;

            this.value_hex = new ArrayBuffer(255);
            var tag_number_buffer_max_length = 255;
            var int_tag_number_buffer = new Uint8Array(this.value_hex);

            while(int_buffer[count] & 0x80)
            {
                int_tag_number_buffer[count - 1] = int_buffer[count] & 0x7F;
                count++;

                if(count >= int_buffer.length)
                {
                    this.error = "End of input reached before message was fully decoded";
                    return (-1);
                }

                // #region In case if tag number length is greater than 255 bytes (rare but possible case)
                if(count == tag_number_buffer_max_length)
                {
                    tag_number_buffer_max_length += 255;

                    var temp_buffer = new ArrayBuffer(tag_number_buffer_max_length);
                    var temp_buffer_view = new Uint8Array(temp_buffer);

                    for(var i = 0; i < int_tag_number_buffer.length; i++)
                        temp_buffer_view[i] = int_tag_number_buffer[i];

                    this.value_hex = new ArrayBuffer(tag_number_buffer_max_length);
                    int_tag_number_buffer = new Uint8Array(this.value_hex);
                }
                // #endregion
            }

            this.block_length = (count + 1);
            int_tag_number_buffer[count - 1] = int_buffer[count] & 0x7F; // Write last byte to buffer

            // #region Cut buffer
            var temp_buffer = new ArrayBuffer(count);
            var temp_buffer_view = new Uint8Array(temp_buffer);
            for(var i = 0; i < count; i++)
                temp_buffer_view[i] = int_tag_number_buffer[i];

            this.value_hex = new ArrayBuffer(count);
            int_tag_number_buffer = new Uint8Array(this.value_hex);
            int_tag_number_buffer.set(temp_buffer_view);
            // #endregion

            // #region Try to convert long tag number to short form
            if(this.block_length <= 9)
                this.tag_number = util_frombase(int_tag_number_buffer, 7);
            else
            {
                this.is_hex_only = true;
                this.warnings.push("Tag too long, represented as hex-coded");
            }
            // #endregion
        }
        // #endregion
        // #endregion

        // #region Check if constructed encoding was using for primitive type
        if(((this.tag_class == 1)) &&
            (this.is_constructed))
        {
            switch(this.tag_number)
            {
                case 1:  // BOOLEAN
                case 2:  // REAL
                case 5:  // NULL
                case 6:  // OBJECT IDENTIFIER
                case 9:  // REAL
                case 14: // TIME
                case 23:
                case 24:
                case 31:
                case 32:
                case 33:
                case 34:
                    this.error = "Constructed encoding used for primitive type";
                    return (-1);
                default:
                    ;
            }
        }
        // #endregion

        return ( input_offset + this.block_length ); // Return current offset in input buffer
    }
    //**************************************************************************************
    local.identification_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.hex_block.prototype.toJSON.call(this);

        _object.block_name = local.identification_block.prototype.block_name.call(this);
        _object.tag_class = this.tag_class;
        _object.tag_number = this.tag_number;
        _object.is_constructed = this.is_constructed;

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of length block class
    //**************************************************************************************
    local.length_block =
    function()
    {
        /// <summary>Base class of ASN.1 "length block"</summary>

        local.base_block.call(this, arguments[0]);

        this.is_indefinite_form = false;
        this.long_form_used = false;
        this.length = (0);

        if(arguments[0] instanceof Object)
        {
            if("len_block" in arguments[0])
            {
                this.is_indefinite_form = in_window.org.pkijs.getValue(arguments[0].len_block, "is_indefinite_form", false);
                this.long_form_used = in_window.org.pkijs.getValue(arguments[0].len_block, "long_form_used", false);
                this.length = in_window.org.pkijs.getValue(arguments[0].len_block, "length", 0);
            }
        }
    }
    //**************************************************************************************
    local.length_block.prototype = new local.base_block();
    local.length_block.constructor = local.length_block;
    //**************************************************************************************
    local.length_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "length_block";
    }
    //**************************************************************************************
    local.length_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        // #region Basic check for parameters
        if(check_buffer_params.call(this, input_buffer, input_offset, input_length) === false)
            return (-1);
        // #endregion

        // #region Getting Uint8Array from ArrayBuffer
        var int_buffer = new Uint8Array(input_buffer, input_offset, input_length);
        // #endregion

        // #region Initial checks
        if(int_buffer.length == 0)
        {
            this.error = "Zero buffer length";
            return (-1);
        }

        if(int_buffer[0] == 0xFF)
        {
            this.error = "Length block 0xFF is reserved by standard";
            return (-1);
        }
        // #endregion

        // #region Check for length form type
        if(int_buffer[0] == 0x80)
            this.is_indefinite_form = true;
        else
            this.is_indefinite_form = false;
        // #endregion

        // #region Stop working in case of indefinite length form
        if(this.is_indefinite_form == true)
        {
            this.block_length = 1;
            return (input_offset + this.block_length);
        }
        // #endregion

        // #region Check is long form of length encoding using
        if(int_buffer[0] & 0x80)
            this.long_form_used = true;
        else
            this.long_form_used = false;
        // #endregion

        // #region Stop working in case of short form of length value
        if(this.long_form_used == false)
        {
            this.length = (int_buffer[0]);
            this.block_length = 1;
            return (input_offset + this.block_length);
        }
        // #endregion

        // #region Calculate length value in case of long form
        var count = int_buffer[0] & 0x7F;

        if(count > 8) // Too big length value
        {
            this.error = "Too big integer";
            return (-1);
        }

        if((count + 1) > int_buffer.length)
        {
            this.error = "End of input reached before message was fully decoded";
            return (-1);
        }

        var length_buffer_view = new Uint8Array(count);

        for(var i = 0; i < count; i++)
            length_buffer_view[i] = int_buffer[i + 1];

        if(length_buffer_view[count - 1] == 0x00)
            this.warnings.push("Needlessly long encoded length");

        this.length = util_frombase(length_buffer_view, 8);

        if(this.long_form_used && (this.length <= 127))
            this.warnings.push("Unneccesary usage of long length form");

        this.block_length = count + 1;
        // #endregion

        return (input_offset + this.block_length); // Return current offset in input buffer
    }
    //**************************************************************************************
    local.length_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        if(this.length > 127)
            this.long_form_used = true;

        if(this.is_indefinite_form)
        {
            var ret_buf = new ArrayBuffer(1);

            if(size_only === false)
            {
                var ret_view = new Uint8Array(ret_buf);
                ret_view[0] = 0x80;
            }

            return ret_buf;
        }

        if(this.long_form_used === true)
        {
            var encoded_buf = util_tobase(this.length, 8);

            if(encoded_buf.byteLength > 127)
            {
                this.error = "Too big length";
                return (new ArrayBuffer(0));
            }

            var ret_buf = new ArrayBuffer(encoded_buf.byteLength + 1);

            if(size_only === true)
                return ret_buf;

            var encoded_view = new Uint8Array(encoded_buf);
            var ret_view = new Uint8Array(ret_buf);

            ret_view[0] = encoded_buf.byteLength | 0x80;

            for(var i = 0; i < encoded_buf.byteLength; i++)
                ret_view[i + 1] = encoded_view[i];

            return ret_buf;
        }
        else
        {
            var ret_buf = new ArrayBuffer(1);

            if(size_only === false)
            {
                var ret_view = new Uint8Array(ret_buf);

                ret_view[0] = this.length;
            }

            return ret_buf;
        }

        return (new ArrayBuffer(0));
    }
    //**************************************************************************************
    local.length_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.base_block.prototype.toJSON.call(this);

        _object.block_name = local.length_block.prototype.block_name.call(this);
        _object.is_indefinite_form = this.is_indefinite_form;
        _object.long_form_used = this.long_form_used;
        _object.length = this.length;

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of value block class
    //**************************************************************************************
    local.value_block =
    function()
    {
        /// <summary>Generic class of ASN.1 "value block"</summary>
        local.base_block.call(this, arguments[0]);
    }
    //**************************************************************************************
    local.value_block.prototype = new local.base_block();
    local.value_block.constructor = local.value_block;
    //**************************************************************************************
    local.value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "value_block";
    }
    //**************************************************************************************
    local.value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.base_block.prototype.toJSON.call(this);

        _object.block_name = local.value_block.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of basic ASN.1 block class
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_block =
    function()
    {
        /// <summary>Base class of ASN.1 block (identification block + length block + value block)</summary>

        local.base_block.call(this, arguments[0]);

        if(arguments[0] instanceof Object)
        {
            this.name = in_window.org.pkijs.getValue(arguments[0], "name", "");
            this.optional = in_window.org.pkijs.getValue(arguments[0], "optional", false);

            if("primitive_schema" in arguments[0])
                this.primitive_schema = arguments[0].primitive_schema;
        }

        this.id_block = new local.identification_block(arguments[0]);
        this.len_block = new local.length_block(arguments[0]);
        this.value_block = new local.value_block(arguments[0]);
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_block.prototype = new local.base_block();
    in_window.org.pkijs.asn1.ASN1_block.constructor = in_window.org.pkijs.asn1.ASN1_block;
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "ASN1_block";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        var result_offset = this.value_block.fromBER(input_buffer, input_offset, (this.len_block.is_indefinite_form == true) ? input_length : this.len_block.length);
        if(result_offset == (-1))
        {
            this.error = this.value_block.error;
            return result_offset;
        }

        if(this.id_block.error.length == 0)
            this.block_length += this.id_block.block_length;

        if(this.len_block.error.length == 0)
            this.block_length += this.len_block.block_length;

        if(this.value_block.error.length == 0)
            this.block_length += this.value_block.block_length;

        return result_offset;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        var ret_buf;

        var id_block_buf = this.id_block.toBER(size_only);
        var value_block_size_buf = this.value_block.toBER(true);

        this.len_block.length = value_block_size_buf.byteLength;
        var len_block_buf = this.len_block.toBER(size_only);

        ret_buf = util_concatbuf(id_block_buf, len_block_buf);

        var value_block_buf;

        if(size_only === false)
            value_block_buf = this.value_block.toBER(size_only);
        else
            value_block_buf = new ArrayBuffer(this.len_block.length);

        ret_buf = util_concatbuf(ret_buf, value_block_buf);

        if(this.len_block.is_indefinite_form === true)
        {
            var indef_buf = new ArrayBuffer(2);

            if(size_only === false)
            {
                var indef_view = new Uint8Array(indef_buf);

                indef_view[0] = 0x00;
                indef_view[1] = 0x00;
            }

            ret_buf = util_concatbuf(ret_buf, indef_buf);
        }

        return ret_buf;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.base_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.ASN1_block.prototype.block_name.call(this);
        _object.id_block = this.id_block.toJSON();
        _object.len_block = this.len_block.toJSON();
        _object.value_block = this.value_block.toJSON();

        if("name" in this)
            _object.name = this.name;
        if("optional" in this)
            _object.optional = this.optional;
        if("primitive_schema" in this)
            _object.primitive_schema = this.primitive_schema.toJSON();

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of basic block for all PRIMITIVE types
    //**************************************************************************************
    local.ASN1_PRIMITIVE_value_block =
    function()
    {
        /// <summary>Base class of ASN.1 value block for primitive values (non-constructive encoding)</summary>

        local.value_block.call(this, arguments[0]);

        if(arguments[0] instanceof Object)
        {
            // #region Variables from "hex_block" class
            if("value_hex" in arguments[0])
                this.value_hex = util_copybuf(arguments[0].value_hex);
            else
                this.value_hex = new ArrayBuffer(0);

            this.is_hex_only = in_window.org.pkijs.getValue(arguments[0], "is_hex_only", true);
            // #endregion
        }
        else
        {
            // #region Variables from "hex_block" class
            this.value_hex = new ArrayBuffer(0);
            this.is_hex_only = true;
            // #endregion
        }
    }
    //**************************************************************************************
    local.ASN1_PRIMITIVE_value_block.prototype = new local.value_block();
    local.ASN1_PRIMITIVE_value_block.constructor = local.ASN1_PRIMITIVE_value_block;
    //**************************************************************************************
    local.ASN1_PRIMITIVE_value_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        // #region Basic check for parameters
        if(check_buffer_params.call(this, input_buffer, input_offset, input_length) === false)
            return (-1);
        // #endregion

        // #region Getting Uint8Array from ArrayBuffer
        var int_buffer = new Uint8Array(input_buffer, input_offset, input_length);
        // #endregion

        // #region Initial checks
        if(int_buffer.length == 0)
        {
            this.warnings.push("Zero buffer length");
            return input_offset;
        }
        // #endregion

        // #region Copy input buffer into internal buffer
        this.value_hex = new ArrayBuffer(int_buffer.length);
        var value_hex_view = new Uint8Array(this.value_hex);

        for(var i = 0; i < int_buffer.length; i++)
            value_hex_view[i] = int_buffer[i];
        // #endregion

        this.block_length = input_length;

        return (input_offset + input_length);
    }
    //**************************************************************************************
    local.ASN1_PRIMITIVE_value_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        return util_copybuf(this.value_hex);
    }
    //**************************************************************************************
    local.ASN1_PRIMITIVE_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "ASN1_PRIMITIVE_value_block";
    }
    //**************************************************************************************
    local.ASN1_PRIMITIVE_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.value_block.prototype.toJSON.call(this);

        _object.block_name = local.ASN1_PRIMITIVE_value_block.prototype.block_name.call(this);
        _object.value_hex = in_window.org.pkijs.bufferToHexCodes(this.value_hex, 0, this.value_hex.byteLength);
        _object.is_hex_only = this.is_hex_only;

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_PRIMITIVE =
    function()
    {
        /// <summary>Base class of ASN.1 block for primitive values (non-constructive encoding)</summary>

        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.id_block.is_constructed = false;
        this.value_block = new local.ASN1_PRIMITIVE_value_block(arguments[0]);
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_PRIMITIVE.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.ASN1_PRIMITIVE.constructor = in_window.org.pkijs.asn1.ASN1_PRIMITIVE;
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_PRIMITIVE.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "PRIMITIVE";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_PRIMITIVE.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.ASN1_PRIMITIVE.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of basic block for all CONSTRUCTED types
    //**************************************************************************************
    local.ASN1_CONSTRUCTED_value_block =
    function()
    {
        /// <summary>Base class of ASN.1 value block for constructive values (constructive encoding)</summary>

        local.value_block.call(this, arguments[0]);

        if(arguments[0] instanceof Object)
        {
            this.value = in_window.org.pkijs.getValue(arguments[0], "value", new Array());
            this.is_indefinite_form = in_window.org.pkijs.getValue(arguments[0], "is_indefinite_form", false);
        }
        else
        {
            this.value = new Array();
            this.is_indefinite_form = false;
        }
    }
    //**************************************************************************************
    local.ASN1_CONSTRUCTED_value_block.prototype = new local.value_block();
    local.ASN1_CONSTRUCTED_value_block.constructor = local.ASN1_CONSTRUCTED_value_block;
    //**************************************************************************************
    local.ASN1_CONSTRUCTED_value_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        // #region Store initial offset and length
        var initial_offset = input_offset;
        var initial_length = input_length;
        // #endregion

        // #region Basic check for parameters
        if(check_buffer_params.call(this, input_buffer, input_offset, input_length) === false)
            return (-1);
        // #endregion

        // #region Getting Uint8Array from ArrayBuffer
        var int_buffer = new Uint8Array(input_buffer, input_offset, input_length);
        // #endregion

        // #region Initial checks
        if(int_buffer.length == 0)
        {
            this.warnings.push("Zero buffer length");
            return input_offset;
        }
        // #endregion

        // #region Aux function
        function check_len(_indefinite_length, _length)
        {
            if(_indefinite_length == true)
                return 1;

            return _length;
        }
        // #endregion

        var current_offset = input_offset;

        while(check_len(this.is_indefinite_form, input_length) > 0)
        {
            var return_object = fromBER_raw(input_buffer, current_offset, input_length);
            if(return_object.offset == (-1))
            {
                this.error = return_object.result.error;
                this.warnings.concat(return_object.result.warnings);
                return (-1);
            }

            current_offset = return_object.offset;

            this.block_length += return_object.result.block_length;
            input_length -= return_object.result.block_length;

            this.value.push(return_object.result);

            if((this.is_indefinite_form == true) && (return_object.result.block_name() == in_window.org.pkijs.asn1.EOC.prototype.block_name()))
                break;
        }

        if(this.is_indefinite_form == true)
        {
            if(this.value[this.value.length - 1].block_name() == in_window.org.pkijs.asn1.EOC.prototype.block_name())
                this.value.pop();
            else
                this.warnings.push("No EOC block encoded");
        }

        // #region Copy "input_buffer" to "value_before_decode"
        this.value_before_decode = util_copybuf_offset(input_buffer, initial_offset, initial_length);
        // #endregion

        return current_offset;
    }
    //**************************************************************************************
    local.ASN1_CONSTRUCTED_value_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        var ret_buf = new ArrayBuffer(0);

        for(var i = 0; i < this.value.length; i++)
        {
            var value_buf = this.value[i].toBER(size_only);
            ret_buf = util_concatbuf(ret_buf, value_buf);
        }

        return ret_buf;
    }
    //**************************************************************************************
    local.ASN1_CONSTRUCTED_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "ASN1_CONSTRUCTED_value_block";
    }
    //**************************************************************************************
    local.ASN1_CONSTRUCTED_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.value_block.prototype.toJSON.call(this);

        _object.block_name = local.ASN1_CONSTRUCTED_value_block.prototype.block_name.call(this);
        _object.is_indefinite_form = this.is_indefinite_form;
        _object.value = new Array();
        for(var i = 0; i < this.value.length; i++)
            _object.value.push(this.value[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_CONSTRUCTED =
    function()
    {
        /// <summary>Base class of ASN.1 block for constructive values (constructive encoding)</summary>

        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.id_block.is_constructed = true;
        this.value_block = new local.ASN1_CONSTRUCTED_value_block(arguments[0]);
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_CONSTRUCTED.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.ASN1_CONSTRUCTED.constructor = in_window.org.pkijs.asn1.ASN1_CONSTRUCTED;
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_CONSTRUCTED.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "CONSTRUCTED";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_CONSTRUCTED.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        this.value_block.is_indefinite_form = this.len_block.is_indefinite_form;

        var result_offset = this.value_block.fromBER(input_buffer, input_offset, (this.len_block.is_indefinite_form == true) ? input_length : this.len_block.length);
        if(result_offset == (-1))
        {
            this.error = this.value_block.error;
            return result_offset;
        }

        if(this.id_block.error.length == 0)
            this.block_length += this.id_block.block_length;

        if(this.len_block.error.length == 0)
            this.block_length += this.len_block.block_length;

        if(this.value_block.error.length == 0)
            this.block_length += this.value_block.block_length;

        return result_offset;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ASN1_CONSTRUCTED.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.ASN1_CONSTRUCTED.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of ASN.1 EOC type class
    //**************************************************************************************
    local.EOC_value_block =
    function()
    {
        local.value_block.call(this, arguments[0]);
    }
    //**************************************************************************************
    local.EOC_value_block.prototype = new local.value_block();
    local.EOC_value_block.constructor = local.EOC_value_block;
    //**************************************************************************************
    local.EOC_value_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        // #region There is no "value block" for EOC type and we need to return the same offset
        return input_offset;
        // #endregion
    }
    //**************************************************************************************
    local.EOC_value_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        return (new ArrayBuffer(0));
    }
    //**************************************************************************************
    local.EOC_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "EOC_value_block";
    }
    //**************************************************************************************
    local.EOC_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.value_block.prototype.toJSON.call(this);

        _object.block_name = local.EOC_value_block.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.EOC =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.value_block = new local.EOC_value_block();

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 0; // EOC
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.EOC.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.EOC.constructor = local.EOC_value_block;
    //**************************************************************************************
    in_window.org.pkijs.asn1.EOC.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "END_OF_CONTENT";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.EOC.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.EOC.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of ASN.1 BOOLEAN type class
    //**************************************************************************************
    local.BOOLEAN_value_block =
    function()
    {
        local.value_block.call(this, arguments[0]);

        if(arguments[0] instanceof Object)
        {
            this.value = in_window.org.pkijs.getValue(arguments[0], "value", false);

            // #region Variables from hex_block class
            this.is_hex_only = in_window.org.pkijs.getValue(arguments[0], "is_hex_only", false);
            if("value_hex" in arguments[0])
                this.value_hex = util_copybuf(arguments[0].value_hex);
            else
            {
                this.value_hex = new ArrayBuffer(1);
                if(this.value === true)
                {
                    var view = new Uint8Array(this.value_hex);
                    view[0] = 0xFF;
                }
            }
            // #endregion
        }
        else
        {
            this.value = false;

            // #region Variables from hex_block class
            this.is_hex_only = false;
            this.value_hex = new ArrayBuffer(1);
            // #endregion
        }
    }
    //**************************************************************************************
    local.BOOLEAN_value_block.prototype = new local.value_block();
    local.BOOLEAN_value_block.constructor = local.BOOLEAN_value_block;
    //**************************************************************************************
    local.BOOLEAN_value_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        // #region Basic check for parameters
        if(check_buffer_params.call(this, input_buffer, input_offset, input_length) === false)
            return (-1);
        // #endregion

        // #region Getting Uint8Array from ArrayBuffer
        var int_buffer = new Uint8Array(input_buffer, input_offset, input_length);
        // #endregion

        if(input_length > 1)
            this.warnings.push("BOOLEAN value encoded in more then 1 octet");

        if(int_buffer[0] == 0x00)
            this.value = false;
        else
            this.value = true;

        this.is_hex_only = true;

        // #region Copy input buffer to internal array
        this.value_hex = new ArrayBuffer(int_buffer.length);
        var view = new Uint8Array(this.value_hex);

        for(var i = 0; i < int_buffer.length; i++)
            view[i] = int_buffer[i];
        // #endregion

        this.block_length = input_length;

        return (input_offset + input_length);
    }
    //**************************************************************************************
    local.BOOLEAN_value_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        return this.value_hex;
    }
    //**************************************************************************************
    local.BOOLEAN_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "BOOLEAN_value_block";
    }
    //**************************************************************************************
    local.BOOLEAN_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.value_block.prototype.toJSON.call(this);

        _object.block_name = local.BOOLEAN_value_block.prototype.block_name.call(this);
        _object.value = this.value;
        _object.is_hex_only = this.is_hex_only;
        _object.value_hex = in_window.org.pkijs.bufferToHexCodes(this.value_hex, 0, this.value_hex.byteLength)

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BOOLEAN =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.value_block = new local.BOOLEAN_value_block(arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 1; // BOOLEAN
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BOOLEAN.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.BOOLEAN.constructor = local.BOOLEAN_value_block;
    //**************************************************************************************
    in_window.org.pkijs.asn1.BOOLEAN.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "BOOLEAN";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BOOLEAN.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.BOOLEAN.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of ASN.1 SEQUENCE and SET type classes
    //**************************************************************************************
    in_window.org.pkijs.asn1.SEQUENCE =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_CONSTRUCTED.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 16; // SEQUENCE
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.SEQUENCE.prototype = new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED();
    in_window.org.pkijs.asn1.SEQUENCE.constructor = in_window.org.pkijs.asn1.SEQUENCE;
    //**************************************************************************************
    in_window.org.pkijs.asn1.SEQUENCE.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "SEQUENCE";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.SEQUENCE.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_CONSTRUCTED.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.SEQUENCE.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.SET =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_CONSTRUCTED.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 17; // SET
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.SET.prototype = new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED();
    in_window.org.pkijs.asn1.SET.constructor = in_window.org.pkijs.asn1.SET;
    //**************************************************************************************
    in_window.org.pkijs.asn1.SET.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "SET";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.SET.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_CONSTRUCTED.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.SET.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of ASN.1 NULL type class
    //**************************************************************************************
    in_window.org.pkijs.asn1.NULL =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 5; // NULL
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.NULL.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.NULL.constructor = in_window.org.pkijs.asn1.NULL;
    //**************************************************************************************
    in_window.org.pkijs.asn1.NULL.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "NULL";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.NULL.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        if(this.len_block.length > 0)
            this.warnings.push("Non-zero length of value block for NULL type");

        if(this.id_block.error.length === 0)
            this.block_length += this.id_block.block_length;

        if(this.len_block.error.length === 0)
            this.block_length += this.len_block.block_length;

        this.block_length += input_length;

        return (input_offset + input_length);
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.NULL.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        var ret_buf = new ArrayBuffer(2);

        if(size_only === true)
            return ret_buf;

        var ret_view = new Uint8Array(ret_buf);
        ret_view[0] = 0x05;
        ret_view[1] = 0x00;

        return ret_buf;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.NULL.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.NULL.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of ASN.1 OCTETSTRING type class
    //**************************************************************************************
    local.OCTETSTRING_value_block =
    function()
    {
        /// <param name="input_value_hex" type="ArrayBuffer"></param>
        /// <param name="input_value" type="Array"></param>
        /// <param name="input_constructed" type="Boolean"></param>
        /// <remarks>Value for the OCTETSTRING may be as hex, as well as a constructed value.</remarks>
        /// <remarks>Constructed values consists of other OCTETSTRINGs</remarks>

        local.ASN1_CONSTRUCTED_value_block.call(this, arguments[0]);

        if(arguments[0] instanceof Object)
        {
            this.is_constructed = in_window.org.pkijs.getValue(arguments[0], "is_constructed", false);

            // #region Variables from hex_block type
            this.is_hex_only = in_window.org.pkijs.getValue(arguments[0], "is_hex_only", false);
            if("value_hex" in arguments[0])
                this.value_hex = util_copybuf(arguments[0].value_hex);
            else
                this.value_hex = new ArrayBuffer(0);
            // #endregion
        }
        else
        {
            this.is_constructed = false;

            // #region Variables from hex_block type
            this.is_hex_only = false;
            this.value_hex = new ArrayBuffer(0);
            // #endregion
        }
    }
    //**************************************************************************************
    local.OCTETSTRING_value_block.prototype = new local.ASN1_CONSTRUCTED_value_block();
    local.OCTETSTRING_value_block.constructor = local.OCTETSTRING_value_block;
    //**************************************************************************************
    local.OCTETSTRING_value_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        var result_offset = 0;

        if(this.is_constructed == true)
        {
            this.is_hex_only = false;

            result_offset = local.ASN1_CONSTRUCTED_value_block.prototype.fromBER.call(this, input_buffer, input_offset, input_length);
            if(result_offset == (-1))
                return result_offset;

            for(var i = 0; i < this.value.length; i++)
            {
                var current_block_name = this.value[i].block_name();

                if(current_block_name == in_window.org.pkijs.asn1.EOC.prototype.block_name())
                {
                    if(this.is_indefinite_form == true)
                        break;
                    else
                    {
                        this.error = "EOC is unexpected, OCTET STRING may consists of OCTET STRINGs only";
                        return (-1);
                    }
                }

                if(current_block_name != in_window.org.pkijs.asn1.OCTETSTRING.prototype.block_name())
                {
                    this.error = "OCTET STRING may consists of OCTET STRINGs only";
                    return (-1);
                }
            }
        }
        else
        {
            this.is_hex_only = true;

            result_offset = local.hex_block.prototype.fromBER.call(this, input_buffer, input_offset, input_length);
            this.block_length = input_length;
        }

        return result_offset;
    }
    //**************************************************************************************
    local.OCTETSTRING_value_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        if(this.is_constructed === true)
            return local.ASN1_CONSTRUCTED_value_block.prototype.toBER.call(this, size_only);
        else
        {
            var ret_buf = new ArrayBuffer(this.value_hex.byteLength);

            if(size_only === true)
                return ret_buf;

            if(this.value_hex.byteLength == 0)
                return ret_buf;

            ret_buf = util_copybuf(this.value_hex);

            return ret_buf;
        }

        return (new ArrayBuffer(0));
    }
    //**************************************************************************************
    local.OCTETSTRING_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "OCTETSTRING_value_block";
    }
    //**************************************************************************************
    local.OCTETSTRING_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.ASN1_CONSTRUCTED_value_block.prototype.toJSON.call(this);

        _object.block_name = local.OCTETSTRING_value_block.prototype.block_name.call(this);
        _object.is_constructed = this.is_constructed;
        _object.is_hex_only = this.is_hex_only;
        _object.value_hex = in_window.org.pkijs.bufferToHexCodes(this.value_hex, 0, this.value_hex.byteLength)

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.OCTETSTRING =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.value_block = new local.OCTETSTRING_value_block(arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 4; // OCTETSTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.OCTETSTRING.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.OCTETSTRING.constructor = in_window.org.pkijs.asn1.OCTETSTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.OCTETSTRING.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        this.value_block.is_constructed = this.id_block.is_constructed;
        this.value_block.is_indefinite_form = this.len_block.is_indefinite_form;

        // #region Ability to encode empty OCTET STRING
        if(input_length == 0)
        {
            if(this.id_block.error.length == 0)
                this.block_length += this.id_block.block_length;

            if(this.len_block.error.length == 0)
                this.block_length += this.len_block.block_length;

            return input_offset;
        }
        // #endregion

        return in_window.org.pkijs.asn1.ASN1_block.prototype.fromBER.call(this, input_buffer, input_offset, input_length);
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.OCTETSTRING.prototype.block_name =
    function()
    {
        return "OCTETSTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.OCTETSTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.OCTETSTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of ASN.1 BITSTRING type class
    //**************************************************************************************
    local.BITSTRING_value_block =
    function()
    {
        local.ASN1_CONSTRUCTED_value_block.call(this, arguments[0]);

        if(arguments[0] instanceof Object)
        {
            this.unused_bits = in_window.org.pkijs.getValue(arguments[0], "unused_bits", 0);
            this.is_constructed = in_window.org.pkijs.getValue(arguments[0], "is_constructed", false);

            // #region Variables from hex_block type
            this.is_hex_only = in_window.org.pkijs.getValue(arguments[0], "is_hex_only", false);

            if("value_hex" in arguments[0])
                this.value_hex = util_copybuf(arguments[0].value_hex);
            else
                this.value_hex = new ArrayBuffer(0);

            this.block_length = this.value_hex.byteLength;
            // #endregion
        }
        else
        {
            this.unused_bits = 0;
            this.is_constructed = false;

            // #region Variables from hex_block type
            this.is_hex_only = false;
            this.value_hex = new ArrayBuffer(0);
            // #endregion
        }
    }
    //**************************************************************************************
    local.BITSTRING_value_block.prototype = new local.ASN1_CONSTRUCTED_value_block();
    local.BITSTRING_value_block.constructor = local.BITSTRING_value_block;
    //**************************************************************************************
    local.BITSTRING_value_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        // #region Ability to decode zero-length BITSTRING value
        if(input_length == 0)
            return input_offset;
        // #endregion

        var result_offset = (-1);

        // #region If the BISTRING supposed to be a constructed value
        if(this.is_constructed == true)
        {
            result_offset = local.ASN1_CONSTRUCTED_value_block.prototype.fromBER.call(this, input_buffer, input_offset, input_length);
            if(result_offset == (-1))
                return result_offset;

            for(var i = 0; i < this.value.length; i++)
            {
                var current_block_name = this.value[i].block_name();

                if(current_block_name == in_window.org.pkijs.asn1.EOC.prototype.block_name())
                {
                    if(this.is_indefinite_form == true)
                        break;
                    else
                    {
                        this.error = "EOC is unexpected, BIT STRING may consists of BIT STRINGs only";
                        return (-1);
                    }
                }

                if(current_block_name != in_window.org.pkijs.asn1.BITSTRING.prototype.block_name())
                {
                    this.error = "BIT STRING may consists of BIT STRINGs only";
                    return (-1);
                }

                if((this.unused_bits > 0) && (this.value[i].unused_bits > 0))
                {
                    this.error = "Usign of \"unused bits\" inside constructive BIT STRING allowed for least one only";
                    return (-1);
                }
                else
                {
                    this.unused_bits = this.value[i].unused_bits;
                    if(this.unused_bits > 7)
                    {
                        this.error = "Unused bits for BITSTRING must be in range 0-7";
                        return (-1);
                    }
                }
            }

            return result_offset;
        }
            // #endregion
        // #region If the BITSTRING supposed to be a primitive value
        else
        {
            // #region Basic check for parameters
            if(check_buffer_params.call(this, input_buffer, input_offset, input_length) === false)
                return (-1);
            // #endregion

            var int_buffer = new Uint8Array(input_buffer, input_offset, input_length);

            this.unused_bits = int_buffer[0];
            if(this.unused_bits > 7)
            {
                this.error = "Unused bits for BITSTRING must be in range 0-7";
                return (-1);
            }

            // #region Copy input buffer to internal buffer
            this.value_hex = new ArrayBuffer(int_buffer.length - 1);
            var view = new Uint8Array(this.value_hex);
            for(var i = 0; i < (input_length - 1) ; i++)
                view[i] = int_buffer[i + 1];
            // #endregion

            this.block_length = int_buffer.length;

            return (input_offset + input_length);
        }
        // #endregion
    }
    //**************************************************************************************
    local.BITSTRING_value_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        if(this.is_constructed === true)
            return local.ASN1_CONSTRUCTED_value_block.prototype.toBER.call(this, size_only);
        else
        {
            if(size_only === true)
                return (new ArrayBuffer(this.value_hex.byteLength + 1));

            if(this.value_hex.byteLength == 0)
                return (new ArrayBuffer(0));

            var cur_view = new Uint8Array(this.value_hex);

            var ret_buf = new ArrayBuffer(this.value_hex.byteLength + 1);
            var ret_view = new Uint8Array(ret_buf);

            ret_view[0] = this.unused_bits;

            for(var i = 0; i < this.value_hex.byteLength; i++)
                ret_view[i + 1] = cur_view[i];

            return ret_buf;
        }

        return (new ArrayBuffer(0));
    }
    //**************************************************************************************
    local.BITSTRING_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "BITSTRING_value_block";
    }
    //**************************************************************************************
    local.BITSTRING_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.ASN1_CONSTRUCTED_value_block.prototype.toJSON.call(this);

        _object.block_name = local.BITSTRING_value_block.prototype.block_name.call(this);
        _object.unused_bits = this.unused_bits;
        _object.is_constructed = this.is_constructed;
        _object.is_hex_only = this.is_hex_only;
        _object.value_hex = in_window.org.pkijs.bufferToHexCodes(this.value_hex, 0, this.value_hex.byteLength)

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BITSTRING =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.value_block = new local.BITSTRING_value_block(arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 3; // BITSTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BITSTRING.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.BITSTRING.constructor = in_window.org.pkijs.asn1.BITSTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.BITSTRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "BITSTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BITSTRING.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        // #region Ability to encode empty BITSTRING
        if(input_length == 0)
            return input_offset;
        // #endregion

        this.value_block.is_constructed = this.id_block.is_constructed;
        this.value_block.is_indefinite_form = this.len_block.is_indefinite_form;

        return in_window.org.pkijs.asn1.ASN1_block.prototype.fromBER.call(this, input_buffer, input_offset, input_length);
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BITSTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.BITSTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of ASN.1 INTEGER type class
    //**************************************************************************************
    local.INTEGER_value_block =
    function()
    {
        local.value_block.call(this, arguments[0]);

        if(arguments[0] instanceof Object)
        {
            this.value_dec = in_window.org.pkijs.getValue(arguments[0], "value", 0);

            // #region Variables from hex_block type
            this.is_hex_only = in_window.org.pkijs.getValue(arguments[0], "is_hex_only", false);
            if("value_hex" in arguments[0])
            {
                this.value_hex = util_copybuf(arguments[0].value_hex);

                if(this.value_hex.byteLength >= 4) // Dummy's protection
                    this.is_hex_only = true;
                else
                    this.value_dec = util_decode_tc.call(this);
            }
            else
                this.value_hex = util_encode_tc(this.value_dec);
            // #endregion
        }
        else
        {
            this.value_dec = 0;

            // #region Variables from hex_block type
            this.is_hex_only = false;
            this.value_hex = new ArrayBuffer(0);
            // #endregion
        }
    }
    //**************************************************************************************
    local.INTEGER_value_block.prototype = new local.value_block();
    local.INTEGER_value_block.constructor = local.INTEGER_value_block;
    //**************************************************************************************
    local.INTEGER_value_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        var result_offset = local.hex_block.prototype.fromBER.call(this, input_buffer, input_offset, input_length);
        if(result_offset == (-1))
            return result_offset;

        if(this.value_hex.byteLength > 4) // In JavaScript we can effectively work with 32-bit integers only
        {
            this.warnings.push("Too big INTEGER for decoding, hex only");
            this.is_hex_only = true;
        }
        else
            this.value_dec = util_decode_tc.call(this);

        this.block_length = input_length;

        return (input_offset + input_length);
    }
    //**************************************************************************************
    local.INTEGER_value_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        if(this.is_hex_only === false)
        {
            var encoded_buf = util_encode_tc(this.value_dec);
            if(encoded_buf.byteLength == 0)
            {
                this.error = "Error during encoding INTEGER value";
                return (new ArrayBuffer(0));
            }

            return util_copybuf(encoded_buf);
        }
        else
            return util_copybuf(this.value_hex);

        return (new ArrayBuffer(0));
    }
    //**************************************************************************************
    local.INTEGER_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "INTEGER_value_block";
    }
    //**************************************************************************************
    local.INTEGER_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.value_block.prototype.toJSON.call(this);

        _object.block_name = local.INTEGER_value_block.prototype.block_name.call(this);
        _object.value_dec = this.value_dec;
        _object.is_hex_only = this.is_hex_only;
        _object.value_hex = in_window.org.pkijs.bufferToHexCodes(this.value_hex, 0, this.value_hex.byteLength)

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.INTEGER =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.value_block = new local.INTEGER_value_block(arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 2; // INTEGER
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.INTEGER.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.INTEGER.constructor = in_window.org.pkijs.asn1.INTEGER;
    //**************************************************************************************
    in_window.org.pkijs.asn1.INTEGER.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "INTEGER";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.INTEGER.prototype.isEqual =
    function()
    {
        /// <summary>Compare two INTEGER object, or INTEGER and ArrayBuffer objects</summary>
        /// <returns type="Boolean"></returns>

        if(arguments[0] instanceof in_window.org.pkijs.asn1.INTEGER)
        {
            if(this.value_block.is_hex_only && arguments[0].value_block.is_hex_only) // Compare two ArrayBuffers
                return in_window.org.pkijs.isEqual_buffer(this.value_block.value_hex, arguments[0].value_block.value_hex);
            else
            {
                if(this.value_block.is_hex_only === arguments[0].value_block.is_hex_only)
                    return (this.value_block.value_dec == arguments[0].value_block.value_dec);
                else
                    return false;
            }
        }
        else
        {
            if(arguments[0] instanceof ArrayBuffer)
                return in_window.org.pkijs.isEqual_buffer(this.value_block.value_hex, arguments[0].value_block.value_hex);
            else
                return false;
        }

        return false;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.INTEGER.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.INTEGER.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of ASN.1 ENUMERATED type class
    //**************************************************************************************
    in_window.org.pkijs.asn1.ENUMERATED =
    function()
    {
        in_window.org.pkijs.asn1.INTEGER.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 10; // ENUMERATED
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ENUMERATED.prototype = new in_window.org.pkijs.asn1.INTEGER();
    in_window.org.pkijs.asn1.ENUMERATED.constructor = in_window.org.pkijs.asn1.ENUMERATED;
    //**************************************************************************************
    in_window.org.pkijs.asn1.ENUMERATED.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "ENUMERATED";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.ENUMERATED.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.INTEGER.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.ENUMERATED.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of ASN.1 OBJECT IDENTIFIER type class
    //**************************************************************************************
    local.SID_value_block =
    function()
    {
        local.hex_block.call(this, arguments[0]);

        if(arguments[0] instanceof Object)
        {
            this.value_dec = in_window.org.pkijs.getValue(arguments[0], "value_dec", -1);
            this.is_first_sid = in_window.org.pkijs.getValue(arguments[0], "is_first_sid", false);
        }
        else
        {
            this.value_dec = (-1);
            this.is_first_sid = false;
        }
    }
    //**************************************************************************************
    local.SID_value_block.prototype = new local.hex_block();
    local.SID_value_block.constructor = local.SID_value_block;
    //**************************************************************************************
    local.SID_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "sid_block";
    }
    //**************************************************************************************
    local.SID_value_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        if(input_length == 0)
            return input_offset;

        // #region Basic check for parameters
        if(check_buffer_params.call(this, input_buffer, input_offset, input_length) === false)
            return (-1);
        // #endregion

        var int_buffer = new Uint8Array(input_buffer, input_offset, input_length);

        this.value_hex = new ArrayBuffer(input_length);
        var view = new Uint8Array(this.value_hex);

        for(var i = 0; i < input_length; i++)
        {
            view[i] = int_buffer[i] & 0x7F;

            this.block_length++;

            if((int_buffer[i] & 0x80) == 0x00)
                break;
        }

        // #region Ajust size of value_hex buffer
        var temp_value_hex = new ArrayBuffer(this.block_length);
        var temp_view = new Uint8Array(temp_value_hex);

        for(var i = 0; i < this.block_length; i++)
            temp_view[i] = view[i];

        this.value_hex = util_copybuf(temp_value_hex);
        view = new Uint8Array(this.value_hex);
        // #endregion

        if((int_buffer[this.block_length - 1] & 0x80) != 0x00)
        {
            this.error = "End of input reached before message was fully decoded";
            return (-1);
        }

        if(view[0] == 0x00)
            this.warnings.push("Needlessly long format of SID encoding");

        if(this.block_length <= 8)
            this.value_dec = util_frombase(view, 7);
        else
        {
            this.is_hex_only = true;
            this.warnings.push("Too big SID for decoding, hex only");
        }

        return (input_offset + this.block_length);
    }
    //**************************************************************************************
    local.SID_value_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        if(this.is_hex_only)
        {
            if(size_only === true)
                return (new ArrayBuffer(this.value_hex.byteLength));

            var cur_view = new Uint8Array(this.value_hex);

            var ret_buf = new ArrayBuffer(this.block_length);
            var ret_view = new Uint8Array(ret_buf);

            for(var i = 0; i < ( this.block_length - 1 ); i++ )
                ret_view[i] = cur_view[i] | 0x80;

            ret_view[this.block_length - 1] = cur_view[this.block_length - 1];
        }

        var encoded_buf = util_tobase(this.value_dec, 7);
        if(encoded_buf.byteLength === 0)
        {
            this.error = "Error during encoding SID value";
            return (new ArrayBuffer(0));
        }

        var ret_buf = new ArrayBuffer(encoded_buf.byteLength);

        if(size_only === false)
        {
            var encoded_view = new Uint8Array(encoded_buf);
            var ret_view = new Uint8Array(ret_buf);

            for(var i = 0; i < (encoded_buf.byteLength - 1) ; i++)
                ret_view[i] = encoded_view[i] | 0x80;

            ret_view[encoded_buf.byteLength - 1] = encoded_view[encoded_buf.byteLength - 1];
        }

        return ret_buf;
    }
    //**************************************************************************************
    local.SID_value_block.prototype.toString =
    function()
    {
        var result = "";

        if(this.is_hex_only === true)
            result = to_hex_codes(this.value_hex);
        else
        {
            if(this.is_first_sid)
            {
                var sid_value = this.value_dec;

                if(this.value_dec <= 39)
                    result = "0.";
                else
                {
                    if(this.value_dec <= 79)
                    {
                        result = "1.";
                        sid_value -= 40;
                    }
                    else
                    {
                        result = "2.";
                        sid_value -= 80;
                    }
                }

                result = result + sid_value.toString();
            }
            else
                result = this.value_dec.toString();
        }

        return result;
    }
    //**************************************************************************************
    local.SID_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.hex_block.prototype.toJSON.call(this);

        _object.block_name = local.SID_value_block.prototype.block_name.call(this);
        _object.value_dec = this.value_dec;
        _object.is_first_sid = this.is_first_sid;

        return _object;
    }
    //**************************************************************************************
    local.OID_value_block =
    function()
    {
        local.value_block.call(this, arguments[0]);

        this.value = new Array();

        if(arguments[0] instanceof Object)
            this.fromString(in_window.org.pkijs.getValue(arguments[0], "value", ""));
    }
    //**************************************************************************************
    local.OID_value_block.prototype = new local.value_block();
    local.OID_value_block.constructor = local.OID_value_block;
    //**************************************************************************************
    local.OID_value_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        var result_offset = input_offset;

        while(input_length > 0)
        {
            var sid_block = new local.SID_value_block();
            result_offset = sid_block.fromBER(input_buffer, result_offset, input_length);
            if(result_offset == (-1))
            {
                this.block_length = 0;
                this.error = sid_block.error;
                return result_offset;
            }

            if(this.value.length == 0)
                sid_block.is_first_sid = true;

            this.block_length += sid_block.block_length;
            input_length -= sid_block.block_length;

            this.value.push(sid_block);
        }

        return result_offset;
    }
    //**************************************************************************************
    local.OID_value_block.prototype.toBER =
    function(size_only)
    {
        /// <summary>Encoding of current ASN.1 block into ASN.1 encoded array (BER rules)</summary>
        /// <param name="size_only" type="Boolean">Flag that we need only a size of encoding, not a real array of bytes</param>

        if(typeof size_only === "undefined")
            size_only = false;

        var ret_buf = new ArrayBuffer(0);

        for(var i = 0; i < this.value.length; i++)
        {
            var value_buf = this.value[i].toBER(size_only);
            if(value_buf.byteLength === 0)
            {
                this.error = this.value[i].error;
                return (new ArrayBuffer(0));
            }

            ret_buf = util_concatbuf(ret_buf, value_buf);
        }

        return ret_buf;
    }
    //**************************************************************************************
    local.OID_value_block.prototype.fromString =
    function(str)
    {
        this.value = new Array(); // Clear existing SID values

        var pos1 = 0;
        var pos2 = 0;

        var sid = "";

        var flag = false;

        do
        {
            pos2 = str.indexOf('.', pos1);
            if(pos2 === (-1))
                sid = str.substr(pos1);
            else
                sid = str.substr(pos1, pos2 - pos1);

            pos1 = pos2 + 1;

            if(flag)
            {
                var sid_block = this.value[0];

                var plus = 0;

                switch(sid_block.value_dec)
                {
                    case 0:
                        break;
                    case 1:
                        plus = 40;
                        break;
                    case 2:
                        plus = 80;
                        break;
                    default:
                        this.value = new Array(); // clear SID array
                        return false; // ???
                }

                var parsedSID = parseInt(sid, 10);
                if(Number.isNaN(parsedSID))
                    return true;

                sid_block.value_dec = parsedSID + plus;

                flag = false;
            }
            else
            {
                var sid_block = new local.SID_value_block();
                sid_block.value_dec = parseInt(sid, 10);
                if(Number.isNaN(sid_block.value_dec))
                    return true;

                if(this.value.length === 0)
                {
                    sid_block.is_first_sid = true;
                    flag = true;
                }

                this.value.push(sid_block);
            }

        } while(pos2 !== (-1));

        return true;
    }
    //**************************************************************************************
    local.OID_value_block.prototype.toString =
    function()
    {
        var result = "";
        var is_hex_only = false;

        for(var i = 0; i < this.value.length; i++)
        {
            is_hex_only = this.value[i].is_hex_only;

            var sid_str = this.value[i].toString();

            if(i !== 0)
                result = result + ".";

            if(is_hex_only)
            {
                sid_str = "{" + sid_str + "}";

                if(this.value[i].is_first_sid)
                    result = "2.{" + sid_str + " - 80}";
                else
                    result = result + sid_str;
            }
            else
                result = result + sid_str;
        }

        return result;
    }
    //**************************************************************************************
    local.OID_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "OID_value_block";
    }
    //**************************************************************************************
    local.OID_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.value_block.prototype.toJSON.call(this);

        _object.block_name = local.OID_value_block.prototype.block_name.call(this);
        _object.value = local.OID_value_block.prototype.toString.call(this);
        _object.sid_array = new Array();
        for(var i = 0; i < this.value.length; i++)
            _object.sid_array.push(this.value[i].toJSON());

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.OID =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.value_block = new local.OID_value_block(arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 6; // OBJECT IDENTIFIER
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.OID.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.OID.constructor = in_window.org.pkijs.asn1.OID;
    //**************************************************************************************
    in_window.org.pkijs.asn1.OID.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "OID";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.OID.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.OID.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of all string's classes
    //**************************************************************************************
    local.UTF8STRING_value_block =
    function()
    {
        local.hex_block.call(this, arguments[0]);

        this.is_hex_only = true;
        this.value = ""; // String representation of decoded ArrayBuffer
    }
    //**************************************************************************************
    local.UTF8STRING_value_block.prototype = new local.hex_block();
    local.UTF8STRING_value_block.constructor = local.UTF8STRING_value_block;
    //**************************************************************************************
    local.UTF8STRING_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "UTF8STRING_value_block";
    }
    //**************************************************************************************
    local.UTF8STRING_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.hex_block.prototype.toJSON.call(this);

        _object.block_name = local.UTF8STRING_value_block.prototype.block_name.call(this);
        _object.value = this.value;

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTF8STRING =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.value_block = new local.UTF8STRING_value_block();

        if(arguments[0] instanceof Object)
        {
            if("value" in arguments[0])
                in_window.org.pkijs.asn1.UTF8STRING.prototype.fromString.call(this,arguments[0].value);
        }

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 12; // UTF8STRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTF8STRING.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.UTF8STRING.constructor = in_window.org.pkijs.asn1.UTF8STRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTF8STRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "UTF8STRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTF8STRING.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        var result_offset = this.value_block.fromBER(input_buffer, input_offset, (this.len_block.is_indefinite_form == true) ? input_length : this.len_block.length);
        if(result_offset == (-1))
        {
            this.error = this.value_block.error;
            return result_offset;
        }

        in_window.org.pkijs.asn1.UTF8STRING.prototype.fromBuffer.call(this, this.value_block.value_hex);

        if(this.id_block.error.length == 0)
            this.block_length += this.id_block.block_length;

        if(this.len_block.error.length == 0)
            this.block_length += this.len_block.block_length;

        if(this.value_block.error.length == 0)
            this.block_length += this.value_block.block_length;

        return result_offset;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTF8STRING.prototype.fromBuffer =
    function(input_buffer)
    {
        /// <param name="input_buffer" type="ArrayBuffer">Array with encoded string</param>
        this.value_block.value = String.fromCharCode.apply(null, new Uint8Array(input_buffer));

        try
        {
            this.value_block.value = decodeURIComponent(escape(this.value_block.value));
        }
        catch(ex)
        {
            this.warnings.push("Error during \"decodeURIComponent\": " + ex + ", using raw string");
        }
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTF8STRING.prototype.fromString =
    function(input_string)
    {
        /// <param name="input_string" type="String">String with UNIVERSALSTRING value</param>

        var str = unescape(encodeURIComponent(input_string));
        var str_len = str.length;

        this.value_block.value_hex = new ArrayBuffer(str_len);
        var view = new Uint8Array(this.value_block.value_hex);

        for(var i = 0; i < str_len; i++)
            view[i] = str.charCodeAt(i);

        this.value_block.value = input_string;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTF8STRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.UTF8STRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    local.BMPSTRING_value_block =
    function()
    {
        local.hex_block.call(this, arguments[0]);

        this.is_hex_only = true;
        this.value = "";
    }
    //**************************************************************************************
    local.BMPSTRING_value_block.prototype = new local.hex_block();
    local.BMPSTRING_value_block.constructor = local.BMPSTRING_value_block;
    //**************************************************************************************
    local.BMPSTRING_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "BMPSTRING_value_block";
    }
    //**************************************************************************************
    local.BMPSTRING_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.hex_block.prototype.toJSON.call(this);

        _object.block_name = local.BMPSTRING_value_block.prototype.block_name.call(this);
        _object.value = this.value;

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BMPSTRING =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.value_block = new local.BMPSTRING_value_block();

        if(arguments[0] instanceof Object)
        {
            if("value" in arguments[0])
                in_window.org.pkijs.asn1.BMPSTRING.prototype.fromString.call(this, arguments[0].value);
        }

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 30; // BMPSTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BMPSTRING.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.BMPSTRING.constructor = in_window.org.pkijs.asn1.BMPSTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.BMPSTRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "BMPSTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BMPSTRING.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        var result_offset = this.value_block.fromBER(input_buffer, input_offset, (this.len_block.is_indefinite_form == true) ? input_length : this.len_block.length);
        if(result_offset == (-1))
        {
            this.error = this.value_block.error;
            return result_offset;
        }

        in_window.org.pkijs.asn1.BMPSTRING.prototype.fromBuffer.call(this, this.value_block.value_hex);

        if(this.id_block.error.length == 0)
            this.block_length += this.id_block.block_length;

        if(this.len_block.error.length == 0)
            this.block_length += this.len_block.block_length;

        if(this.value_block.error.length == 0)
            this.block_length += this.value_block.block_length;

        return result_offset;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BMPSTRING.prototype.fromBuffer =
    function(input_buffer)
    {
        /// <param name="input_buffer" type="ArrayBuffer">Array with encoded string</param>

        var copy_buffer = in_window.org.pkijs.copyBuffer(input_buffer);

        var value_view = new Uint8Array(copy_buffer);

        for(var i = 0; i < value_view.length; i = i + 2)
        {
            var temp = value_view[i];

            value_view[i] = value_view[i + 1];
            value_view[i + 1] = temp;
        }

        this.value_block.value = String.fromCharCode.apply(null, new Uint16Array(copy_buffer));
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BMPSTRING.prototype.fromString =
    function(input_string)
    {
        /// <param name="input_string" type="String">String with UNIVERSALSTRING value</param>

        var str_length = input_string.length;

        this.value_block.value_hex = new ArrayBuffer(str_length * 2);
        var value_hex_view = new Uint8Array(this.value_block.value_hex);

        for(var i = 0; i < str_length; i++)
        {
            var code_buf = util_tobase(input_string.charCodeAt(i), 8);
            var code_view = new Uint8Array(code_buf);
            if(code_view.length > 2)
                continue;

            var dif = 2 - code_view.length;

            for(var j = (code_view.length - 1) ; j >= 0; j--)
                value_hex_view[i * 2 + j + dif] = code_view[j];
        }

        this.value_block.value = input_string;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.BMPSTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.BMPSTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    local.UNIVERSALSTRING_value_block =
    function()
    {
        local.hex_block.call(this, arguments[0]);

        this.is_hex_only = true;
        this.value = "";
    }
    //**************************************************************************************
    local.UNIVERSALSTRING_value_block.prototype = new local.hex_block();
    local.UNIVERSALSTRING_value_block.constructor = local.UNIVERSALSTRING_value_block;
    //**************************************************************************************
    local.UNIVERSALSTRING_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "UNIVERSALSTRING_value_block";
    }
    //**************************************************************************************
    local.UNIVERSALSTRING_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.hex_block.prototype.toJSON.call(this);

        _object.block_name = local.UNIVERSALSTRING_value_block.prototype.block_name.call(this);
        _object.value = this.value;

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UNIVERSALSTRING =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.value_block = new local.UNIVERSALSTRING_value_block();

        if(arguments[0] instanceof Object)
        {
            if("value" in arguments[0])
                in_window.org.pkijs.asn1.UNIVERSALSTRING.prototype.fromString.call(this, arguments[0].value);
        }

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 28; // UNIVERSALSTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UNIVERSALSTRING.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    in_window.org.pkijs.asn1.UNIVERSALSTRING.constructor = in_window.org.pkijs.asn1.UNIVERSALSTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.UNIVERSALSTRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "UNIVERSALSTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UNIVERSALSTRING.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        var result_offset = this.value_block.fromBER(input_buffer, input_offset, (this.len_block.is_indefinite_form == true) ? input_length : this.len_block.length);
        if(result_offset == (-1))
        {
            this.error = this.value_block.error;
            return result_offset;
        }

        in_window.org.pkijs.asn1.UNIVERSALSTRING.prototype.fromBuffer.call(this, this.value_block.value_hex);

        if(this.id_block.error.length == 0)
            this.block_length += this.id_block.block_length;

        if(this.len_block.error.length == 0)
            this.block_length += this.len_block.block_length;

        if(this.value_block.error.length == 0)
            this.block_length += this.value_block.block_length;

        return result_offset;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UNIVERSALSTRING.prototype.fromBuffer =
    function(input_buffer)
    {
        /// <param name="input_buffer" type="ArrayBuffer">Array with encoded string</param>

        var copy_buffer = in_window.org.pkijs.copyBuffer(input_buffer);

        var value_view = new Uint8Array(copy_buffer);

        for(var i = 0; i < value_view.length; i = i + 4)
        {
            value_view[i] = value_view[i + 3];
            value_view[i + 1] = value_view[i + 2];
            value_view[i + 2] = 0x00;
            value_view[i + 3] = 0x00;
        }

        this.value_block.value = String.fromCharCode.apply(null, new Uint32Array(copy_buffer));
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UNIVERSALSTRING.prototype.fromString =
    function(input_string)
    {
        /// <param name="input_string" type="String">String with UNIVERSALSTRING value</param>

        var str_length = input_string.length;

        this.value_block.value_hex = new ArrayBuffer(str_length * 4);
        var value_hex_view = new Uint8Array(this.value_block.value_hex);

        for(var i = 0; i < str_length; i++)
        {
            var code_buf = util_tobase(input_string.charCodeAt(i), 8);
            var code_view = new Uint8Array(code_buf);
            if(code_view.length > 4)
                continue;

            var dif = 4 - code_view.length;

            for(var j = (code_view.length - 1) ; j >= 0; j--)
                value_hex_view[i*4 + j + dif] = code_view[j];
        }

        this.value_block.value = input_string;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UNIVERSALSTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.UNIVERSALSTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    local.SIMPLESTRING_value_block =
    function()
    {
        local.hex_block.call(this, arguments[0]);

        /// <field type="String">Native string representation</field>
        this.value = "";
        this.is_hex_only = true;
    }
    //**************************************************************************************
    local.SIMPLESTRING_value_block.prototype = new local.hex_block();
    local.SIMPLESTRING_value_block.constructor = local.SIMPLESTRING_value_block;
    //**************************************************************************************
    local.SIMPLESTRING_value_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "SIMPLESTRING_value_block";
    }
    //**************************************************************************************
    local.SIMPLESTRING_value_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.hex_block.prototype.toJSON.call(this);

        _object.block_name = local.SIMPLESTRING_value_block.prototype.block_name.call(this);
        _object.value = this.value;

        return _object;
    }
    //**************************************************************************************
    local.SIMPLESTRING_block =
    function()
    {
        in_window.org.pkijs.asn1.ASN1_block.call(this, arguments[0]);

        this.value_block = new local.SIMPLESTRING_value_block();

        if(arguments[0] instanceof Object)
        {
            if("value" in arguments[0])
                local.SIMPLESTRING_block.prototype.fromString.call(this, arguments[0].value);
        }
    }
    //**************************************************************************************
    local.SIMPLESTRING_block.prototype = new in_window.org.pkijs.asn1.ASN1_block();
    local.SIMPLESTRING_block.constructor = local.SIMPLESTRING_block;
    //**************************************************************************************
    local.SIMPLESTRING_block.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "SIMPLESTRING";
    }
    //**************************************************************************************
    local.SIMPLESTRING_block.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        var result_offset = this.value_block.fromBER(input_buffer, input_offset, (this.len_block.is_indefinite_form == true) ? input_length : this.len_block.length);
        if(result_offset == (-1))
        {
            this.error = this.value_block.error;
            return result_offset;
        }

        local.SIMPLESTRING_block.prototype.fromBuffer.call(this, this.value_block.value_hex);

        if(this.id_block.error.length == 0)
            this.block_length += this.id_block.block_length;

        if(this.len_block.error.length == 0)
            this.block_length += this.len_block.block_length;

        if(this.value_block.error.length == 0)
            this.block_length += this.value_block.block_length;

        return result_offset;
    }
    //**************************************************************************************
    local.SIMPLESTRING_block.prototype.fromBuffer =
    function(input_buffer)
    {
        /// <param name="input_buffer" type="ArrayBuffer">Array with encoded string</param>

        this.value_block.value = String.fromCharCode.apply(null, new Uint8Array(input_buffer));
    }
    //**************************************************************************************
    local.SIMPLESTRING_block.prototype.fromString =
    function(input_string)
    {
        /// <param name="input_string" type="String">String with UNIVERSALSTRING value</param>
        var str_len = input_string.length;

        this.value_block.value_hex = new ArrayBuffer(str_len);
        var view = new Uint8Array(this.value_block.value_hex);

        for(var i = 0; i < str_len; i++)
            view[i] = input_string.charCodeAt(i);

        this.value_block.value = input_string;
    }
    //**************************************************************************************
    local.SIMPLESTRING_block.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.ASN1_block.prototype.toJSON.call(this);

        _object.block_name = local.SIMPLESTRING_block.prototype.block_name.call(this);
        _object.block_name = local.value_block.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.NUMERICSTRING =
    function()
    {
        local.SIMPLESTRING_block.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 18; // NUMERICSTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.NUMERICSTRING.prototype = new local.SIMPLESTRING_block();
    in_window.org.pkijs.asn1.NUMERICSTRING.constructor = in_window.org.pkijs.asn1.NUMERICSTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.NUMERICSTRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "NUMERICSTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.NUMERICSTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.SIMPLESTRING_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.NUMERICSTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.PRINTABLESTRING =
    function()
    {
        local.SIMPLESTRING_block.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 19; // PRINTABLESTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.PRINTABLESTRING.prototype = new local.SIMPLESTRING_block();
    in_window.org.pkijs.asn1.PRINTABLESTRING.constructor = in_window.org.pkijs.asn1.PRINTABLESTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.PRINTABLESTRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "PRINTABLESTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.PRINTABLESTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.SIMPLESTRING_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.PRINTABLESTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.TELETEXSTRING =
    function()
    {
        local.SIMPLESTRING_block.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 20; // TELETEXSTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.TELETEXSTRING.prototype = new local.SIMPLESTRING_block();
    in_window.org.pkijs.asn1.TELETEXSTRING.constructor = in_window.org.pkijs.asn1.TELETEXSTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.TELETEXSTRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "TELETEXSTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.TELETEXSTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.SIMPLESTRING_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.TELETEXSTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.VIDEOTEXSTRING =
    function()
    {
        local.SIMPLESTRING_block.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 21; // VIDEOTEXSTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.VIDEOTEXSTRING.prototype = new local.SIMPLESTRING_block();
    in_window.org.pkijs.asn1.VIDEOTEXSTRING.constructor = in_window.org.pkijs.asn1.VIDEOTEXSTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.VIDEOTEXSTRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "VIDEOTEXSTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.VIDEOTEXSTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.SIMPLESTRING_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.VIDEOTEXSTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.IA5STRING =
    function()
    {
        local.SIMPLESTRING_block.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 22; // IA5STRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.IA5STRING.prototype = new local.SIMPLESTRING_block();
    in_window.org.pkijs.asn1.IA5STRING.constructor = in_window.org.pkijs.asn1.IA5STRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.IA5STRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "IA5STRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.IA5STRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.SIMPLESTRING_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.IA5STRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GRAPHICSTRING =
    function()
    {
        local.SIMPLESTRING_block.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 25; // GRAPHICSTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GRAPHICSTRING.prototype = new local.SIMPLESTRING_block();
    in_window.org.pkijs.asn1.GRAPHICSTRING.constructor = in_window.org.pkijs.asn1.GRAPHICSTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.GRAPHICSTRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "GRAPHICSTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GRAPHICSTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.SIMPLESTRING_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.GRAPHICSTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.VISIBLESTRING =
    function()
    {
        local.SIMPLESTRING_block.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 26; // VISIBLESTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.VISIBLESTRING.prototype = new local.SIMPLESTRING_block();
    in_window.org.pkijs.asn1.VISIBLESTRING.constructor = in_window.org.pkijs.asn1.VISIBLESTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.VISIBLESTRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "VISIBLESTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.VISIBLESTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.SIMPLESTRING_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.VISIBLESTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALSTRING =
    function()
    {
        local.SIMPLESTRING_block.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 27; // GENERALSTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALSTRING.prototype = new local.SIMPLESTRING_block();
    in_window.org.pkijs.asn1.GENERALSTRING.constructor = in_window.org.pkijs.asn1.GENERALSTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALSTRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "GENERALSTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALSTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.SIMPLESTRING_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.GENERALSTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.CHARACTERSTRING =
    function()
    {
        local.SIMPLESTRING_block.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 29; // CHARACTERSTRING
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.CHARACTERSTRING.prototype = new local.SIMPLESTRING_block();
    in_window.org.pkijs.asn1.CHARACTERSTRING.constructor = in_window.org.pkijs.asn1.CHARACTERSTRING;
    //**************************************************************************************
    in_window.org.pkijs.asn1.CHARACTERSTRING.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "CHARACTERSTRING";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.CHARACTERSTRING.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = local.SIMPLESTRING_block.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.CHARACTERSTRING.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of all date and time classes
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTCTIME =
    function()
    {
        in_window.org.pkijs.asn1.VISIBLESTRING.call(this, arguments[0]);

        this.year = 0;
        this.month = 0;
        this.day = 0;
        this.hour = 0;
        this.minute = 0;
        this.second = 0;

        // #region Create UTCTIME from ASN.1 UTC string value
        if((arguments[0] instanceof Object) && ("value" in arguments[0]))
        {
            in_window.org.pkijs.asn1.UTCTIME.prototype.fromString.call(this, arguments[0].value);

            this.value_block.value_hex = new ArrayBuffer(arguments[0].value.length);
            var view = new Uint8Array(this.value_block.value_hex);

            for(var i = 0; i < str.length; i++)
                view[i] = arguments[0].value.charCodeAt(i);
        }
        // #endregion
        // #region Create UTCTIME from JavaScript Date type
        if((arguments[0] instanceof Object) && ("value_date" in arguments[0]))
        {
            in_window.org.pkijs.asn1.UTCTIME.prototype.fromDate.call(this, arguments[0].value_date);
            this.value_block.value_hex = in_window.org.pkijs.asn1.UTCTIME.prototype.toBuffer.call(this);
        }
        // #endregion

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 23; // UTCTIME
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTCTIME.prototype = new in_window.org.pkijs.asn1.VISIBLESTRING();
    in_window.org.pkijs.asn1.UTCTIME.constructor = in_window.org.pkijs.asn1.UTCTIME;
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTCTIME.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        var result_offset = this.value_block.fromBER(input_buffer, input_offset, (this.len_block.is_indefinite_form == true) ? input_length : this.len_block.length);
        if(result_offset == (-1))
        {
            this.error = this.value_block.error;
            return result_offset;
        }

        in_window.org.pkijs.asn1.UTCTIME.prototype.fromBuffer.call(this, this.value_block.value_hex);

        if(this.id_block.error.length == 0)
            this.block_length += this.id_block.block_length;

        if(this.len_block.error.length == 0)
            this.block_length += this.len_block.block_length;

        if(this.value_block.error.length == 0)
            this.block_length += this.value_block.block_length;

        return result_offset;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTCTIME.prototype.fromBuffer =
    function(input_buffer)
    {
        in_window.org.pkijs.asn1.UTCTIME.prototype.fromString.call(this, String.fromCharCode.apply(null, new Uint8Array(input_buffer)));
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTCTIME.prototype.toBuffer =
    function()
    {
        var str = in_window.org.pkijs.asn1.UTCTIME.prototype.toString.call(this);

        var buffer = new ArrayBuffer(str.length);
        var view = new Uint8Array(buffer);

        for(var i = 0; i < str.length; i++)
            view[i] = str.charCodeAt(i);

        return buffer;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTCTIME.prototype.fromDate =
    function(input_date)
    {
        /// <summary>Create "UTCTime" ASN.1 type from JavaScript "Date" type</summary>

        this.year = input_date.getFullYear();
        this.month = input_date.getMonth() + 1;
        this.day = input_date.getDate();
        this.hour = input_date.getHours();
        this.minute = input_date.getMinutes();
        this.second = input_date.getSeconds();
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTCTIME.prototype.toDate =
    function()
    {
        return (new Date(this.year, this.month - 1, this.day, this.hour, this.minute, this.second));
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTCTIME.prototype.fromString =
    function(input_string)
    {
        /// <summary>Create "UTCTime" ASN.1 type from JavaScript "String" type</summary>

        // #region Parse input string
        var parser = /(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig;
        var parser_array = parser.exec(input_string);
        if(parser_array === null)
        {
            this.error = "Wrong input string for convertion";
            return;
        }
        // #endregion

        // #region Store parsed values
        var year = parseInt(parser_array[1], 10);
        if(year >= 50)
            this.year = 1900 + year;
        else
            this.year = 2000 + year;

        this.month = parseInt(parser_array[2], 10);
        this.day = parseInt(parser_array[3], 10);
        this.hour = parseInt(parser_array[4], 10);
        this.minute = parseInt(parser_array[5], 10);
        this.second = parseInt(parser_array[6], 10);
        // #endregion
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTCTIME.prototype.toString =
    function()
    {
        var output_array = new Array(7);

        output_array[0] = in_window.org.pkijs.padNumber(((this.year < 2000) ? (this.year - 1900) : (this.year - 2000)), 2);
        output_array[1] = in_window.org.pkijs.padNumber(this.month, 2);
        output_array[2] = in_window.org.pkijs.padNumber(this.day, 2);
        output_array[3] = in_window.org.pkijs.padNumber(this.hour, 2);
        output_array[4] = in_window.org.pkijs.padNumber(this.minute, 2);
        output_array[5] = in_window.org.pkijs.padNumber(this.second, 2);
        output_array[6] = "Z";

        return output_array.join('');
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTCTIME.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "UTCTIME";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.UTCTIME.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.VISIBLESTRING.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.UTCTIME.prototype.block_name.call(this);
        _object.year = this.year;
        _object.month = this.month;
        _object.day = this.day;
        _object.hour = this.hour;
        _object.minute = this.minute;
        _object.second = this.second;

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALIZEDTIME =
    function()
    {
        in_window.org.pkijs.asn1.VISIBLESTRING.call(this, arguments[0]);

        this.year = 0;
        this.month = 0;
        this.day = 0;
        this.hour = 0;
        this.minute = 0;
        this.second = 0;

        // #region Create GeneralizedTime from ASN.1 string value
        if((arguments[0] instanceof Object) && ("value" in arguments[0]))
        {
            in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.fromString.call(this, arguments[0].value);

            this.value_block.value_hex = new ArrayBuffer(arguments[0].value.length);
            var view = new Uint8Array(this.value_block.value_hex);

            for(var i = 0; i < str.length; i++)
                view[i] = arguments[0].value.charCodeAt(i);
        }
        // #endregion
        // #region Create GeneralizedTime from JavaScript Date type
        if((arguments[0] instanceof Object) && ("value_date" in arguments[0]))
        {
            in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.fromDate.call(this, arguments[0].value_date);
            this.value_block.value_hex = in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.toBuffer.call(this);
        }
        // #endregion

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 24; // GENERALIZEDTIME
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype = new in_window.org.pkijs.asn1.VISIBLESTRING();
    in_window.org.pkijs.asn1.GENERALIZEDTIME.constructor = in_window.org.pkijs.asn1.GENERALIZEDTIME;
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.fromBER =
    function(input_buffer, input_offset, input_length)
    {
        /// <summary>Base function for converting block from BER encoded array of bytes</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array</param>
        /// <param name="input_offset" type="Number">Offset in ASN.1 BER encoded array where decoding should be started</param>
        /// <param name="input_length" type="Number">Maximum length of array of bytes which can be using in this function</param>

        var result_offset = this.value_block.fromBER(input_buffer, input_offset, (this.len_block.is_indefinite_form == true) ? input_length : this.len_block.length);
        if(result_offset == (-1))
        {
            this.error = this.value_block.error;
            return result_offset;
        }

        in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.fromBuffer.call(this, this.value_block.value_hex);

        if(this.id_block.error.length == 0)
            this.block_length += this.id_block.block_length;

        if(this.len_block.error.length == 0)
            this.block_length += this.len_block.block_length;

        if(this.value_block.error.length == 0)
            this.block_length += this.value_block.block_length;

        return result_offset;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.fromBuffer =
    function(input_buffer)
    {
        in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.fromString.call(this, String.fromCharCode.apply(null, new Uint8Array(input_buffer)));
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.toBuffer =
    function()
    {
        var str = in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.toString.call(this);

        var buffer = new ArrayBuffer(str.length);
        var view = new Uint8Array(buffer);

        for(var i = 0; i < str.length; i++)
            view[i] = str.charCodeAt(i);

        return buffer;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.fromDate =
    function(input_date)
    {
        /// <summary>Create "GeneralizedTime" ASN.1 type from JavaScript "Date" type</summary>

        this.year = input_date.getFullYear();
        this.month = input_date.getMonth() + 1;
        this.day = input_date.getDate();
        this.hour = input_date.getHours();
        this.minute = input_date.getMinutes();
        this.second = input_date.getSeconds();
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.toDate =
    function()
    {
        return (new Date(this.year, this.month - 1, this.day, this.hour, this.minute, this.second));
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.fromString =
    function(input_string)
    {
        /// <summary>Create "GeneralizedTime" ASN.1 type from JavaScript "String" type</summary>

        var parser = /(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig;
        var parser_array = parser.exec(input_string);
        if(parser_array === null)
        {
            this.error = "Wrong input string for convertion";
            return;
        }

        this.year = parseInt(parser_array[1], 10);
        this.month = parseInt(parser_array[2], 10);
        this.day = parseInt(parser_array[3], 10);
        this.hour = parseInt(parser_array[4], 10);
        this.minute = parseInt(parser_array[5], 10);
        this.second = parseInt(parser_array[6], 10);
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.toString =
    function()
    {
        var output_array = new Array(7);

        output_array[0] = in_window.org.pkijs.padNumber(this.year, 4);
        output_array[1] = in_window.org.pkijs.padNumber(this.month, 2);
        output_array[2] = in_window.org.pkijs.padNumber(this.day, 2);
        output_array[3] = in_window.org.pkijs.padNumber(this.hour, 2);
        output_array[4] = in_window.org.pkijs.padNumber(this.minute, 2);
        output_array[5] = in_window.org.pkijs.padNumber(this.second, 2);
        output_array[6] = "Z";

        return output_array.join('');
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "GENERALIZEDTIME";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.VISIBLESTRING.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.GENERALIZEDTIME.prototype.block_name.call(this);
        _object.year = this.year;
        _object.month = this.month;
        _object.day = this.day;
        _object.hour = this.hour;
        _object.minute = this.minute;
        _object.second = this.second;

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.DATE =
    function()
    {
        in_window.org.pkijs.asn1.UTF8STRING.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 31; // DATE
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.DATE.prototype = new in_window.org.pkijs.asn1.UTF8STRING();
    in_window.org.pkijs.asn1.DATE.constructor = in_window.org.pkijs.asn1.DATE;
    //**************************************************************************************
    in_window.org.pkijs.asn1.DATE.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "DATE";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.DATE.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.UTF8STRING.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.DATE.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.TIMEOFDAY =
    function()
    {
        in_window.org.pkijs.asn1.UTF8STRING.call(this, arguments[0]);
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.TIMEOFDAY.prototype = new in_window.org.pkijs.asn1.UTF8STRING();
    in_window.org.pkijs.asn1.TIMEOFDAY.constructor = in_window.org.pkijs.asn1.TIMEOFDAY;
    //**************************************************************************************
    in_window.org.pkijs.asn1.TIMEOFDAY.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "TIMEOFDAY";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.DATE.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.UTF8STRING.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.TIMEOFDAY.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.DATETIME =
    function()
    {
        in_window.org.pkijs.asn1.UTF8STRING.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 33; // DATETIME
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.DATETIME.prototype = new in_window.org.pkijs.asn1.UTF8STRING();
    in_window.org.pkijs.asn1.DATETIME.constructor = in_window.org.pkijs.asn1.DATETIME;
    //**************************************************************************************
    in_window.org.pkijs.asn1.DATETIME.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "DATETIME";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.DATETIME.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.UTF8STRING.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.DATETIME.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.DURATION =
    function()
    {
        in_window.org.pkijs.asn1.UTF8STRING.call(this, arguments[0]);
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.DURATION.prototype = new in_window.org.pkijs.asn1.UTF8STRING();
    in_window.org.pkijs.asn1.DURATION.constructor = in_window.org.pkijs.asn1.DURATION;
    //**************************************************************************************
    in_window.org.pkijs.asn1.DURATION.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "DURATION";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.DURATION.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.UTF8STRING.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.DURATION.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.TIME =
    function()
    {
        in_window.org.pkijs.asn1.UTF8STRING.call(this, arguments[0]);

        this.id_block.tag_class = 1; // UNIVERSAL
        this.id_block.tag_number = 14; // TIME
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.TIME.prototype = new in_window.org.pkijs.asn1.UTF8STRING();
    in_window.org.pkijs.asn1.TIME.constructor = in_window.org.pkijs.asn1.TIME;
    //**************************************************************************************
    in_window.org.pkijs.asn1.TIME.prototype.block_name =
    function()
    {
        /// <summary>Aux function, need to get a block name. Need to have it here for inhiritence</summary>

        return "TIME";
    }
    //**************************************************************************************
    in_window.org.pkijs.asn1.TIME.prototype.toJSON =
    function()
    {
        /// <summary>Convertion for the block to JSON object</summary>

        var _object = in_window.org.pkijs.asn1.UTF8STRING.prototype.toJSON.call(this);

        _object.block_name = in_window.org.pkijs.asn1.TIME.prototype.block_name.call(this);

        return _object;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of special ASN.1 schema type CHOICE
    //**************************************************************************************
    in_window.org.pkijs.asn1.CHOICE =
    function()
    {
        if(arguments[0] instanceof Object)
        {
            this.value = in_window.org.pkijs.getValue(arguments[0], "value", new Array()); // Array of ASN.1 types for make a choice from
            this.optional = in_window.org.pkijs.getValue(arguments[0], "optional", false);
        }
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of special ASN.1 schema type ANY
    //**************************************************************************************
    in_window.org.pkijs.asn1.ANY =
    function()
    {
        if(arguments[0] instanceof Object)
        {
            this.name = in_window.org.pkijs.getValue(arguments[0], "name", "");
            this.optional = in_window.org.pkijs.getValue(arguments[0], "optional", false);
        }
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of special ASN.1 schema type REPEATED
    //**************************************************************************************
    in_window.org.pkijs.asn1.REPEATED =
    function()
    {
        if(arguments[0] instanceof Object)
        {
            this.name = in_window.org.pkijs.getValue(arguments[0], "name", "");
            this.optional = in_window.org.pkijs.getValue(arguments[0], "optional", false);
            this.value = in_window.org.pkijs.getValue(arguments[0], "value", new in_window.org.pkijs.asn1.ANY());
            this.local = in_window.org.pkijs.getValue(arguments[0], "local", false); // Could local or global array to store elements
        }
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Major ASN.1 BER decoding function
    //**************************************************************************************
    function fromBER_raw(input_buffer, input_offset, input_length)
    {
        var incoming_offset = input_offset; // Need to store initial offset since "input_offset" is changing in the function

        // #region Local function changing a type for ASN.1 classes
        function local_change_type(input_object, new_type)
        {
            if(input_object instanceof new_type)
                return input_object;

            var new_object = new new_type();
            new_object.id_block = input_object.id_block;
            new_object.len_block = input_object.len_block;
            new_object.warnings = input_object.warnings;
            new_object.value_before_decode = util_copybuf(input_object.value_before_decode);

            return new_object;
        }
        // #endregion

        // #region Create a basic ASN.1 type since we need to return errors and warnings from the function
        var return_object = new in_window.org.pkijs.asn1.ASN1_block();
        // #endregion

        // #region Basic check for parameters
        if(check_buffer_params(input_buffer, input_offset, input_length) === false)
        {
            return_object.error = "Wrong input parameters";
            return {
                offset: (-1),
                result: return_object
            };
        }
        // #endregion

        // #region Getting Uint8Array from ArrayBuffer
        var int_buffer = new Uint8Array(input_buffer, input_offset, input_length);
        // #endregion

        // #region Initial checks
        if(int_buffer.length == 0)
        {
            this.error = "Zero buffer length";
            return {
                offset: (-1),
                result: return_object
            };
        }
        // #endregion

        // #region Decode indentifcation block of ASN.1 BER structure
        var result_offset = return_object.id_block.fromBER(input_buffer, input_offset, input_length);
        return_object.warnings.concat(return_object.id_block.warnings);
        if(result_offset == (-1))
        {
            return_object.error = return_object.id_block.error;
            return {
                offset: (-1),
                result: return_object
            };
        }

        input_offset = result_offset;
        input_length -= return_object.id_block.block_length;
        // #endregion

        // #region Decode length block of ASN.1 BER structure
        result_offset = return_object.len_block.fromBER(input_buffer, input_offset, input_length);
        return_object.warnings.concat(return_object.len_block.warnings);
        if(result_offset == (-1))
        {
            return_object.error = return_object.len_block.error;
            return {
                offset: (-1),
                result: return_object
            };
        }

        input_offset = result_offset;
        input_length -= return_object.len_block.block_length;
        // #endregion

        // #region Check for usign indefinite length form in encoding for primitive types
        if((return_object.id_block.is_constructed == false) &&
           (return_object.len_block.is_indefinite_form == true))
        {
            return_object.error = new String("Indefinite length form used for primitive encoding form");
            return {
                offset: (-1),
                result: return_object
            };
        }
        // #endregion

        // #region Switch ASN.1 block type
        var new_asn1_type = in_window.org.pkijs.asn1.ASN1_block;

        switch(return_object.id_block.tag_class)
        {
            // #region UNIVERSAL
            case 1:
                // #region Check for reserved tag numbers
                if((return_object.id_block.tag_number >= 37) &&
                   (return_object.id_block.is_hex_only == false))
                {
                    return_object.error = "UNIVERSAL 37 and upper tags are reserved by ASN.1 standard";
                    return {
                        offset: (-1),
                        result: return_object
                    };
                }
                // #endregion

                switch(return_object.id_block.tag_number)
                {
                    // #region EOC type
                    case 0:
                        // #region Check for EOC type
                        if((return_object.id_block.is_constructed == true) &&
                           (return_object.len_block.length > 0))
                        {
                            return_object.error = "Type [UNIVERSAL 0] is reserved";
                            return {
                                offset: (-1),
                                result: return_object
                            };
                        }
                        // #endregion

                        new_asn1_type = in_window.org.pkijs.asn1.EOC;

                        break;
                        // #endregion
                    // #region BOOLEAN type
                    case 1:
                        new_asn1_type = in_window.org.pkijs.asn1.BOOLEAN;
                        break;
                    // #endregion
                    // #region INTEGER type
                    case 2:
                        new_asn1_type = in_window.org.pkijs.asn1.INTEGER;
                        break;
                    // #endregion
                    // #region BITSTRING type
                    case 3:
                        new_asn1_type = in_window.org.pkijs.asn1.BITSTRING;
                        break;
                    // #endregion
                    // #region OCTETSTRING type
                    case 4:
                        new_asn1_type = in_window.org.pkijs.asn1.OCTETSTRING;
                        break;
                    // #endregion
                    // #region NULL type
                    case 5:
                        new_asn1_type = in_window.org.pkijs.asn1.NULL;
                        break;
                    // #endregion
                    // #region OBJECT IDENTIFIER type
                    case 6:
                        new_asn1_type = in_window.org.pkijs.asn1.OID;
                        break;
                    // #endregion
                    // #region ENUMERATED type
                    case 10:
                        new_asn1_type = in_window.org.pkijs.asn1.ENUMERATED;
                        break;
                    // #endregion
                    // #region UTF8STRING type
                    case 12:
                        new_asn1_type = in_window.org.pkijs.asn1.UTF8STRING;
                        break;
                    // #endregion
                    // #region TIME type
                    case 14:
                        new_asn1_type = in_window.org.pkijs.asn1.TIME;
                        break;
                    // #endregion
                    // #region ASN.1 reserved type
                    case 15:
                        return_object.error = "[UNIVERSAL 15] is reserved by ASN.1 standard";
                        return {
                            offset: (-1),
                            result: return_object
                        };
                        break;
                    // #endregion
                    // #region SEQUENCE type
                    case 16:
                        new_asn1_type = in_window.org.pkijs.asn1.SEQUENCE;
                        break;
                    // #endregion
                    // #region SET type
                    case 17:
                        new_asn1_type = in_window.org.pkijs.asn1.SET;
                        break;
                    // #endregion
                    // #region NUMERICSTRING type
                    case 18:
                        new_asn1_type = in_window.org.pkijs.asn1.NUMERICSTRING;
                        break;
                    // #endregion
                    // #region PRINTABLESTRING type
                    case 19:
                        new_asn1_type = in_window.org.pkijs.asn1.PRINTABLESTRING;
                        break;
                    // #endregion
                    // #region TELETEXSTRING type
                    case 20:
                        new_asn1_type = in_window.org.pkijs.asn1.TELETEXSTRING;
                        break;
                    // #endregion
                    // #region VIDEOTEXSTRING type
                    case 21:
                        new_asn1_type = in_window.org.pkijs.asn1.VIDEOTEXSTRING;
                        break;
                    // #endregion
                    // #region IA5STRING type
                    case 22:
                        new_asn1_type = in_window.org.pkijs.asn1.IA5STRING;
                        break;
                    // #endregion
                    // #region UTCTIME type
                    case 23:
                        new_asn1_type = in_window.org.pkijs.asn1.UTCTIME;
                        break;
                    // #endregion
                    // #region GENERALIZEDTIME type
                    case 24:
                        new_asn1_type = in_window.org.pkijs.asn1.GENERALIZEDTIME;
                        break;
                    // #endregion
                    // #region GRAPHICSTRING type
                    case 25:
                        new_asn1_type = in_window.org.pkijs.asn1.GRAPHICSTRING;
                        break;
                    // #endregion
                    // #region VISIBLESTRING type
                    case 26:
                        new_asn1_type = in_window.org.pkijs.asn1.VISIBLESTRING;
                        break;
                    // #endregion
                    // #region GENERALSTRING type
                    case 27:
                        new_asn1_type = in_window.org.pkijs.asn1.GENERALSTRING;
                        break;
                    // #endregion
                    // #region UNIVERSALSTRING type
                    case 28:
                        new_asn1_type = in_window.org.pkijs.asn1.UNIVERSALSTRING;
                        break;
                    // #endregion
                    // #region CHARACTERSTRING type
                    case 29:
                        new_asn1_type = in_window.org.pkijs.asn1.CHARACTERSTRING;
                        break;
                    // #endregion
                    // #region BMPSTRING type
                    case 30:
                        new_asn1_type = in_window.org.pkijs.asn1.BMPSTRING;
                        break;
                    // #endregion
                    // #region DATE type
                    case 31:
                        new_asn1_type = in_window.org.pkijs.asn1.DATE;
                        break;
                    // #endregion
                    // #region DATE-TIME type
                    case 33:
                        new_asn1_type = in_window.org.pkijs.asn1.DATETIME;
                        break;
                    // #endregion
                    // #region default
                    default:
                        {
                            var new_object;

                            if(return_object.id_block.is_constructed == true)
                                new_object = new in_window.org.pkijs.asn1.ASN1_CONSTRUCTED();
                            else
                                new_object = new in_window.org.pkijs.asn1.ASN1_PRIMITIVE();

                            new_object.id_block = return_object.id_block;
                            new_object.len_block = return_object.len_block;
                            new_object.warnings = return_object.warnings;

                            return_object = new_object;

                            result_offset = return_object.fromBER(input_buffer, input_offset, input_length);
                        }
                    // #endregion
                }
                break;
            // #endregion
            // #region All other tag classes
            case 2: // APPLICATION
            case 3: // CONTEXT-SPECIFIC
            case 4: // PRIVATE
            default:
                {
                    if(return_object.id_block.is_constructed == true)
                        new_asn1_type = in_window.org.pkijs.asn1.ASN1_CONSTRUCTED;
                    else
                        new_asn1_type = in_window.org.pkijs.asn1.ASN1_PRIMITIVE;
                }
            // #endregion
        }
        // #endregion

        // #region Change type and perform BER decoding
        return_object = local_change_type(return_object, new_asn1_type);
        result_offset = return_object.fromBER(input_buffer, input_offset, (return_object.len_block.is_indefinite_form == true) ? input_length : return_object.len_block.length);
        // #endregion

        // #region Coping incoming buffer for entire ASN.1 block
        return_object.value_before_decode = util_copybuf_offset(input_buffer, incoming_offset, return_object.block_length);
        // #endregion

        return {
            offset: result_offset,
            result: return_object
        };
    }
    //**************************************************************************************
    in_window.org.pkijs.fromBER =
    function(input_buffer)
    {
        /// <summary>Major function for decoding ASN.1 BER array into internal library structuries</summary>
        /// <param name="input_buffer" type="ArrayBuffer">ASN.1 BER encoded array of bytes</param>

        if(input_buffer.byteLength == 0)
        {
            var result = new in_window.org.pkijs.asn1.ASN1_block();
            result.error = "Input buffer has zero length";

            return result;
        }

        return fromBER_raw(input_buffer, 0, input_buffer.byteLength);
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Major scheme verification function
    //**************************************************************************************
    in_window.org.pkijs.compareSchema =
    function(root, input_asn1_data, input_asn1_schema)
    {
        // #region Special case for CHOICE schema element type
        if(input_asn1_schema instanceof in_window.org.pkijs.asn1.CHOICE)
        {
            var choice_result = false;

            for(var j = 0; j < input_asn1_schema.value.length; j++)
            {
                var result = in_window.org.pkijs.compareSchema(root, input_asn1_data, input_asn1_schema.value[j]);
                if(result.verified === true)
                    return {
                        verified: true,
                        result: root
                    };
            }

            if(choice_result === false)
            {
                var _result = {
                    verified: false,
                    result: {
                        error: "Wrong values for CHOICE type"
                    }
                };

                if(input_asn1_schema.hasOwnProperty('name'))
                    _result.name = input_asn1_schema.name;

                return _result;
            }
        }
        // #endregion

        // #region Special case for ANY schema element type
        if(input_asn1_schema instanceof in_window.org.pkijs.asn1.ANY)
        {
            // #region Add named component of ASN.1 schema
            if(input_asn1_schema.hasOwnProperty('name'))
                root[input_asn1_schema.name] = input_asn1_data;
            // #endregion

            return {
                verified: true,
                result: root
            };
        }
        // #endregion

        // #region Initial check
        if((root instanceof Object) === false)
            return {
                verified: false,
                result: { error: "Wrong root object" }
            };

        if((input_asn1_data instanceof Object) === false)
            return {
                verified: false,
                result: { error: "Wrong ASN.1 data" }
            };

        if((input_asn1_schema instanceof Object) === false)
            return {
                verified: false,
                result: { error: "Wrong ASN.1 schema" }
            };

        if(('id_block' in input_asn1_schema) === false)
            return {
                verified: false,
                result: { error: "Wrong ASN.1 schema" }
            };
        // #endregion

        // #region Comparing id_block properties in ASN.1 data and ASN.1 schema
        // #region Encode and decode ASN.1 schema id_block
        /// <remarks>This encoding/decoding is neccessary because could be an errors in schema definition</remarks>
        if(('fromBER' in input_asn1_schema.id_block) === false)
            return {
                verified: false,
                result: { error: "Wrong ASN.1 schema" }
            };

        if(('toBER' in input_asn1_schema.id_block) === false)
            return {
                verified: false,
                result: { error: "Wrong ASN.1 schema" }
            };

        var encoded_id = input_asn1_schema.id_block.toBER(false);
        if(encoded_id.byteLength === 0)
            return {
                verified: false,
                result: { error: "Error encoding id_block for ASN.1 schema" }
            };

        var decoded_offset = input_asn1_schema.id_block.fromBER(encoded_id, 0, encoded_id.byteLength);
        if(decoded_offset === (-1))
            return {
                verified: false,
                result: { error: "Error decoding id_block for ASN.1 schema" }
            };
        // #endregion

        // #region tag_class
        if(input_asn1_schema.id_block.hasOwnProperty('tag_class') === false)
            return {
                verified: false,
                result: { error: "Wrong ASN.1 schema" }
            };

        if(input_asn1_schema.id_block.tag_class !== input_asn1_data.id_block.tag_class)
            return {
                verified: false,
                result: root
            };
        // #endregion
        // #region tag_number
        if(input_asn1_schema.id_block.hasOwnProperty('tag_number') === false)
            return {
                verified: false,
                result: { error: "Wrong ASN.1 schema" }
            };

        if(input_asn1_schema.id_block.tag_number !== input_asn1_data.id_block.tag_number)
            return {
                verified: false,
                result: root
            };
        // #endregion
        // #region is_constructed
        if(input_asn1_schema.id_block.hasOwnProperty('is_constructed') === false)
            return {
                verified: false,
                result: { error: "Wrong ASN.1 schema" }
            };

        if(input_asn1_schema.id_block.is_constructed !== input_asn1_data.id_block.is_constructed)
            return {
                verified: false,
                result: root
            };
        // #endregion
        // #region is_hex_only
        if(('is_hex_only' in input_asn1_schema.id_block) === false) // Since 'is_hex_only' is an inhirited property
            return {
                verified: false,
                result: { error: "Wrong ASN.1 schema" }
            };

        if(input_asn1_schema.id_block.is_hex_only !== input_asn1_data.id_block.is_hex_only)
            return {
                verified: false,
                result: root
            };
        // #endregion
        // #region value_hex
        if(input_asn1_schema.id_block.is_hex_only === true)
        {
            if(('value_hex' in input_asn1_schema.id_block) === false) // Since 'value_hex' is an inhirited property
                return {
                    verified: false,
                    result: { error: "Wrong ASN.1 schema" }
                };

            var schema_view = new Uint8Array(input_asn1_schema.id_block.value_hex);
            var asn1_view = new Uint8Array(input_asn1_data.id_block.value_hex);

            if(schema_view.length !== asn1_view.length)
                return {
                    verified: false,
                    result: root
                };

            for(var i = 0; i < schema_view.length; i++)
            {
                if(schema_view[i] !== asn1_view[1])
                    return {
                        verified: false,
                        result: root
                    };
            }
        }
        // #endregion
        // #endregion

        // #region Add named component of ASN.1 schema
        if(input_asn1_schema.hasOwnProperty('name'))
        {
            input_asn1_schema.name = input_asn1_schema.name.replace(/^\s+|\s+$/g, '');
            if(input_asn1_schema.name !== "")
                root[input_asn1_schema.name] = input_asn1_data;
        }
        // #endregion

        // #region Getting next ASN.1 block for comparition
        if(input_asn1_schema.id_block.is_constructed === true)
        {
            var admission = 0;
            var result = { verified: false };

            var max_length = input_asn1_schema.value_block.value.length;

            if(max_length > 0)
            {
                if(input_asn1_schema.value_block.value[0] instanceof in_window.org.pkijs.asn1.REPEATED)
                    max_length = input_asn1_data.value_block.value.length;
            }

            // #region Special case when constructive value has no elements
            if(max_length === 0)
                return {
                    verified: true,
                    result: root
                };
            // #endregion

            // #region Special case when "input_asn1_data" has no values and "input_asn1_schema" has all optional values
            if((input_asn1_data.value_block.value.length === 0) &&
               (input_asn1_schema.value_block.value.length !== 0))
            {
                var _optional = true;

                for(var i = 0; i < input_asn1_schema.value_block.value.length; i++)
                    _optional = _optional && (input_asn1_schema.value_block.value[i].optional || false);

                if(_optional === true)
                {
                    return {
                        verified: true,
                        result: root
                    };
                }
                else
                {
                    // #region Delete early added name of block
                    if(input_asn1_schema.hasOwnProperty('name'))
                    {
                        input_asn1_schema.name = input_asn1_schema.name.replace(/^\s+|\s+$/g, '');
                        if(input_asn1_schema.name !== "")
                            delete root[input_asn1_schema.name];
                    }
                    // #endregion

                    root.error = "Inconsistent object length";

                    return {
                        verified: false,
                        result: root
                    };
                }
            }
            // #endregion

            for(var i = 0; i < max_length; i++)
            {
                // #region Special case when there is an "optional" element of ASN.1 schema at the end
                if((i - admission) >= input_asn1_data.value_block.value.length)
                {
                    if(input_asn1_schema.value_block.value[i].optional === false)
                    {
                        var _result = {
                            verified: false,
                            result: root
                        };

                        root.error = "Inconsistent length between ASN.1 data and schema";

                        // #region Delete early added name of block
                        if(input_asn1_schema.hasOwnProperty('name'))
                        {
                            input_asn1_schema.name = input_asn1_schema.name.replace(/^\s+|\s+$/g, '');
                            if(input_asn1_schema.name !== "")
                            {
                                delete root[input_asn1_schema.name];
                                _result.name = input_asn1_schema.name;
                            }
                        }
                        // #endregion

                        return _result;
                    }
                }
                    // #endregion
                else
                {
                    // #region Special case for REPEATED type of ASN.1 schema element
                    if(input_asn1_schema.value_block.value[0] instanceof in_window.org.pkijs.asn1.REPEATED)
                    {
                        result = in_window.org.pkijs.compareSchema(root, input_asn1_data.value_block.value[i], input_asn1_schema.value_block.value[0].value);
                        if(result.verified === false)
                        {
                            if(input_asn1_schema.value_block.value[0].optional === true)
                                admission++;
                            else
                            {
                                // #region Delete early added name of block
                                if(input_asn1_schema.hasOwnProperty('name'))
                                {
                                    input_asn1_schema.name = input_asn1_schema.name.replace(/^\s+|\s+$/g, '');
                                    if(input_asn1_schema.name !== "")
                                        delete root[input_asn1_schema.name];
                                }
                                // #endregion

                                return result;
                            }
                        }

                        if(("name" in input_asn1_schema.value_block.value[0]) && (input_asn1_schema.value_block.value[0].name.length > 0))
                        {
                            var array_root = {};

                            if(("local" in input_asn1_schema.value_block.value[0]) && (input_asn1_schema.value_block.value[0].local === true))
                                array_root = input_asn1_data;
                            else
                                array_root = root;

                            if(typeof array_root[input_asn1_schema.value_block.value[0].name] === "undefined")
                                array_root[input_asn1_schema.value_block.value[0].name] = new Array();

                            array_root[input_asn1_schema.value_block.value[0].name].push(input_asn1_data.value_block.value[i]);
                        }
                    }
                        // #endregion
                    else
                    {
                        result = in_window.org.pkijs.compareSchema(root, input_asn1_data.value_block.value[i - admission], input_asn1_schema.value_block.value[i]);
                        if(result.verified === false)
                        {
                            if(input_asn1_schema.value_block.value[i].optional === true)
                                admission++;
                            else
                            {
                                // #region Delete early added name of block
                                if(input_asn1_schema.hasOwnProperty('name'))
                                {
                                    input_asn1_schema.name = input_asn1_schema.name.replace(/^\s+|\s+$/g, '');
                                    if(input_asn1_schema.name !== "")
                                        delete root[input_asn1_schema.name];
                                }
                                // #endregion

                                return result;
                            }
                        }
                    }
                }
            }

            if(result.verified === false) // The situation may take place if last element is "optional" and verification failed
            {
                var _result = {
                    verified: false,
                    result: root
                };

                // #region Delete early added name of block
                if(input_asn1_schema.hasOwnProperty('name'))
                {
                    input_asn1_schema.name = input_asn1_schema.name.replace(/^\s+|\s+$/g, '');
                    if(input_asn1_schema.name !== "")
                    {
                        delete root[input_asn1_schema.name];
                        _result.name = input_asn1_schema.name;
                    }
                }
                // #endregion

                return _result;
            }

            return {
                verified: true,
                result: root
            };
        }
        // #endregion
        // #region Ability to parse internal value for primitive-encoded value (value of OCTETSTRING, for example)
        else
        {
            if( ("primitive_schema" in input_asn1_schema) &&
                ("value_hex" in input_asn1_data.value_block) )
            {
                // #region Decoding of raw ASN.1 data
                var asn1 = in_window.org.pkijs.fromBER(input_asn1_data.value_block.value_hex);
                if(asn1.offset === (-1))
                {
                    var _result = {
                        verified: false,
                        result: asn1.result
                    };

                    // #region Delete early added name of block
                    if(input_asn1_schema.hasOwnProperty('name'))
                    {
                        input_asn1_schema.name = input_asn1_schema.name.replace(/^\s+|\s+$/g, '');
                        if(input_asn1_schema.name !== "")
                        {
                            delete root[input_asn1_schema.name];
                            _result.name = input_asn1_schema.name;
                        }
                    }
                    // #endregion

                    return _result;
                }
                // #endregion

                return in_window.org.pkijs.compareSchema(root, asn1.result, input_asn1_schema.primitive_schema);
            }
            else
                return {
                    verified: true,
                    result: root
                };
        }
        // #endregion
    }
    //**************************************************************************************
    in_window.org.pkijs.verifySchema =
    function(input_buffer, input_schema)
    {
        // #region Initial check
        if((input_schema instanceof Object) === false)
            return {
                varified: false,
                result: { error: "Wrong ASN.1 schema type" }
            };
        // #endregion

        // #region Decoding of raw ASN.1 data
        var asn1 = in_window.org.pkijs.fromBER(input_buffer);
        if(asn1.offset === (-1))
            return {
                verified: false,
                result: asn1.result
            };
        // #endregion

        // #region Compare ASN.1 struct with input schema
        return in_window.org.pkijs.compareSchema(asn1.result, asn1.result, input_schema);
        // #endregion
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Major function converting JSON to ASN.1 objects
    //**************************************************************************************
    in_window.org.pkijs.fromJSON =
    function(json)
    {
        /// <summary>Converting from JSON to ASN.1 objects</summary>
        /// <param name="json" type="String|Object">JSON string or object to convert to ASN.1 objects</param>
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
}
)(typeof exports !== "undefined" ? exports : window);

//third_party/javascript/asn1js/v1/common.js
/*
 * @license
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015, Peculiar Ventures
 * All rights reserved.
 *
 * Author 2014-2015, Yury Strozhevsky <www.strozhevsky.com>.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
 * OF SUCH DAMAGE.
 *
 */
(
function(in_window)
{
    //**************************************************************************************
    // #region Declaration of global variables
    //**************************************************************************************
    // #region "org" namespace
    if(typeof in_window.org === "undefined")
        in_window.org = {};
    else
    {
        if(typeof in_window.org !== "object")
            throw new Error("Name org already exists and it's not an object");
    }
    // #endregion

    // #region "org.pkijs" namespace
    if(typeof in_window.org.pkijs === "undefined")
        in_window.org.pkijs = {};
    else
    {
        if(typeof in_window.org.pkijs !== "object")
            throw new Error("Name org.pkijs already exists and it's not an object" + " but " + (typeof in_window.org.pkijs));
    }
    // #endregion

    // #region "local" namespace
    var local = {};
    // #endregion
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
    // #region Declaration of common functions
    //**************************************************************************************
    in_window.org.pkijs.emptyObject =
    function()
    {
        this.toJSON = function()
        {
            return {};
        };
        this.toSchema = function()
        {
            return {};
        };
    }
    //**************************************************************************************
    in_window.org.pkijs.getNames =
    function(arg)
    {
        /// <summary>Get correct "names" array for all "schema" objects</summary>

        var names = {};

        if(arg instanceof Object)
            names = (arg.names || {});

        return names;
    }
    //**************************************************************************************
    in_window.org.pkijs.inheriteObjectFields =
    function(from)
    {
        for(i in from.prototype)
        {
            if(typeof from.prototype[i] === "function")
                continue;

            this[i] = from.prototype[i];
        }
    }
    //**************************************************************************************
    in_window.org.pkijs.getUTCDate =
    function(date)
    {
        /// <summary>Making UTC date from local date</summary>
        /// <param name="date" type="Date">Date to convert from</param>

        var current_date = date;
        return new Date(current_date.getTime() + (current_date.getTimezoneOffset() * 60000));
    }
    //**************************************************************************************
    in_window.org.pkijs.padNumber =
    function(input_number, full_length)
    {
        var str = input_number.toString(10);
        var dif = full_length - str.length;

        var padding = new Array(dif);
        for(var i = 0; i < dif; i++)
            padding[i] = '0';

        var padding_string = padding.join('');

        return padding_string.concat(str);
    }
    //**************************************************************************************
    in_window.org.pkijs.getValue =
    function(args, item, default_value)
    {
        if(item in args)
            return args[item];
        else
            return default_value;
    }
    //**************************************************************************************
    in_window.org.pkijs.isEqual_view =
    function(input_view1, input_view2)
    {
        /// <summary>Compare two Uint8Arrays</summary>
        /// <param name="input_view1" type="Uint8Array">First Uint8Array for comparision</param>
        /// <param name="input_view2" type="Uint8Array">Second Uint8Array for comparision</param>

        if(input_view1.length !== input_view2.length)
            return false;

        for(var i = 0; i < input_view1.length; i++)
        {
            if(input_view1[i] != input_view2[i])
                return false;
        }

        return true;
    }
    //**************************************************************************************
    in_window.org.pkijs.isEqual_buffer =
    function(input_buffer1, input_buffer2)
    {
        /// <summary>Compare two array buffers</summary>
        /// <param name="input_buffer1" type="ArrayBuffer">First ArrayBuffer for comparision</param>
        /// <param name="input_buffer2" type="ArrayBuffer">Second ArrayBuffer for comparision</param>

        if(input_buffer1.byteLength != input_buffer2.byteLength)
            return false;

        var view1 = new Uint8Array(input_buffer1);
        var view2 = new Uint8Array(input_buffer2);

        return in_window.org.pkijs.isEqual_view(view1, view2);
    }
    //**************************************************************************************
    in_window.org.pkijs.concat_buffers =
    function(input_buf1, input_buf2)
    {
        /// <summary>Concatenate two ArrayBuffers</summary>
        /// <param name="input_buf1" type="ArrayBuffer">First ArrayBuffer (first part of concatenated array)</param>
        /// <param name="input_buf2" type="ArrayBuffer">Second ArrayBuffer (second part of concatenated array)</param>

        var input_view1 = new Uint8Array(input_buf1);
        var input_view2 = new Uint8Array(input_buf2);

        var ret_buf = new ArrayBuffer(input_buf1.byteLength + input_buf2.byteLength);
        var ret_view = new Uint8Array(ret_buf);

        for(var i = 0; i < input_buf1.byteLength; i++)
            ret_view[i] = input_view1[i];

        for(var j = 0; j < input_buf2.byteLength; j++)
            ret_view[input_buf1.byteLength + j] = input_view2[j];

        return ret_buf;
    }
    //**************************************************************************************
    in_window.org.pkijs.copyBuffer =
    function(input_buffer)
    {
        var result = new ArrayBuffer(input_buffer.byteLength);

        var resultView = new Uint8Array(result);
        var inputView = new Uint8Array(input_buffer);

        for(var i = 0; i < inputView.length; i++)
            resultView[i] = inputView[i];

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getCrypto =
    function()
    {
        var crypto_temp;

        if("crypto" in in_window)
        {
            // Apple Safari support
            if("webkitSubtle" in in_window.crypto)
                crypto_temp = in_window.crypto.webkitSubtle;

            if("subtle" in in_window.crypto)
                crypto_temp = in_window.crypto.subtle;
        }

        return crypto_temp;
    }
    //**************************************************************************************
    in_window.org.pkijs.stringPrep =
    function(input_string)
    {
        /// <summary>String preparation function. In a future here will be realization of algorithm from RFC4518.</summary>
        /// <param name="input_string" type="String">JavaScript string. As soon as for each ASN.1 string type we have a specific transformation function here we will work with pure JavaScript string</param>
        /// <returns type="String">Formated string</returns>

        var result = input_string.replace(/^\s+|\s+$/g, ""); // Trim input string
        result = result.replace(/\s+/g, " "); // Change all sequence of SPACE down to SPACE char
        result = result.toLowerCase();

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.bufferToHexCodes =
    function(input_buffer, input_offset, input_lenght)
    {
        var result = "";

        var int_buffer = new Uint8Array(input_buffer, input_offset, input_lenght);

        for(var i = 0; i < int_buffer.length; i++)
        {
            var str = int_buffer[i].toString(16).toUpperCase();
            result = result + ((str.length === 1) ? "0" : "") + str;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.bufferFromHexCodes =
    function(hexString)
    {
        /// <summary>Create an ArrayBuffer from string having hexdecimal codes</summary>
        /// <param name="hexString" type="String">String to create ArrayBuffer from</param>

        // #region Initial variables
        var stringLength = hexString.length;

        var resultBuffer = new ArrayBuffer(stringLength >> 1);
        var resultView = new Uint8Array(resultBuffer);

        var hex_map = {};

        hex_map['0'] = 0x00;
        hex_map['1'] = 0x01;
        hex_map['2'] = 0x02;
        hex_map['3'] = 0x03;
        hex_map['4'] = 0x04;
        hex_map['5'] = 0x05;
        hex_map['6'] = 0x06;
        hex_map['7'] = 0x07;
        hex_map['8'] = 0x08;
        hex_map['9'] = 0x09;
        hex_map['A'] = 0x0A;
        hex_map['a'] = 0x0A;
        hex_map['B'] = 0x0B;
        hex_map['b'] = 0x0B;
        hex_map['C'] = 0x0C;
        hex_map['c'] = 0x0C;
        hex_map['D'] = 0x0D;
        hex_map['d'] = 0x0D;
        hex_map['E'] = 0x0E;
        hex_map['e'] = 0x0E;
        hex_map['F'] = 0x0F;
        hex_map['f'] = 0x0F;

        var j = 0;
        var temp = 0x00;
        // #endregion

        // #region Convert char-by-char
        for(var i = 0; i < stringLength; i++)
        {
            if(!(i % 2))
                temp = hex_map[hexString.charAt(i)] << 4;
            else
            {
                temp |= hex_map[hexString.charAt(i)];

                resultView[j] = temp;
                j++;
            }
        }
        // #endregion

        return resultBuffer;
    }
    //**************************************************************************************
    in_window.org.pkijs.getRandomValues =
    function(view)
    {
        /// <param name="view" type="Uint8Array">New array which gives a length for random value</param>

        if("crypto" in in_window)
            return in_window.crypto.getRandomValues(view);
        else
            throw new Error("No support for Web Cryptography API");
    }
    //**************************************************************************************
    in_window.org.pkijs.getAlgorithmParameters =
    function(algorithmName, operation)
    {
        /// <param name="algorithmName" type="String">Algorithm name to get common parameters for</param>
        /// <param name="operation" type="String">Kind of operation: "sign", "encrypt", "generatekey", "importkey", "exportkey", "verify"</param>

        var result = {
            algorithm: {},
            usages: []
        };

        switch(algorithmName.toUpperCase())
        {
            case "RSASSA-PKCS1-V1_5":
                switch(operation.toLowerCase())
                {
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "RSASSA-PKCS1-v1_5",
                                modulusLength: 2048,
                                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),
                                hash: {
                                    name: "SHA-256"
                                },
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    case "verify":
                    case "sign":
                    case "importkey":
                        result = {
                            algorithm: {
                                name: "RSASSA-PKCS1-v1_5",
                                hash: {
                                    name: "SHA-256"
                                },
                            },
                            usages: ["verify"] // For importKey("pkcs8") usage must be "sign" only
                        };
                        break;
                    case "exportkey":
                    default:
                        return {
                            algorithm: {
                                name: "RSASSA-PKCS1-v1_5"
                            },
                            usages: []
                        };
                }
                break;
            case "RSA-PSS":
                switch(operation.toLowerCase())
                {
                    case "sign":
                    case "verify":
                        result = {
                            algorithm: {
                                name: "RSA-PSS",
                                hash: {
                                    name: "SHA-1"
                                },
                                saltLength: 20
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "RSA-PSS",
                                modulusLength: 2048,
                                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),
                                hash: {
                                    name: "SHA-1"
                                }
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    case "importkey":
                        result = {
                            algorithm: {
                                name: "RSA-PSS",
                                hash: {
                                    name: "SHA-1"
                                },
                            },
                            usages: ["verify"] // For importKey("pkcs8") usage must be "sign" only
                        };
                        break;
                    case "exportkey":
                    default:
                        return {
                            algorithm: {
                                name: "RSA-PSS"
                            },
                            usages: []
                        };
                }
                break;
            case "RSA-OAEP":
                switch(operation.toLowerCase())
                {
                    case "encrypt":
                    case "decrypt":
                        result = {
                            algorithm: {
                                name: "RSA-OAEP",
                            },
                            usages: ["encrypt", "decrypt"]
                        };
                        break;
                        break;
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "RSA-OAEP",
                                modulusLength: 2048,
                                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),
                                hash: {
                                    name: "SHA-256"
                                }
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                        break;
                    case "importkey":
                        result = {
                            algorithm: {
                                name: "RSA-OAEP",
                                hash: {
                                    name: "SHA-256"
                                }
                            },
                            usages: ["encrypt"] // encrypt for "spki" and decrypt for "pkcs8"
                        };
                        break;
                    case "exportkey":
                    default:
                        return {
                            algorithm: {
                                name: "RSA-OAEP"
                            },
                            usages: []
                        };
                }
                break;
            case "ECDSA":
                switch(operation.toLowerCase())
                {
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "ECDSA",
                                namedCurve: "P-256"
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    case "importkey":
                        result = {
                            algorithm: {
                                name: "ECDSA",
                                namedCurve: "P-256"
                            },
                            usages: ["verify"] // "sign" for "pkcs8"
                        };
                        break;
                    case "verify":
                    case "sign":
                        result = {
                            algorithm: {
                                name: "ECDSA",
                                hash: {
                                    name: "SHA-256"
                                }
                            },
                            usages: ["sign"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "ECDSA"
                            },
                            usages: []
                        };
                }
                break;
            case "ECDH":
                switch(operation.toLowerCase())
                {
                    case "exportkey":
                    case "importkey":
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "ECDH",
                                namedCurve: "P-256"
                            },
                            usages: ["deriveKey", "deriveBits"]
                        };
                        break;
                    case "derivekey":
                    case "derivebits":
                        result = {
                            algorithm: {
                                name: "ECDH",
                                namedCurve: "P-256",
                                public: [] // Must be a "publicKey"
                            },
                            usages: ["encrypt", "decrypt"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "ECDH"
                            },
                            usages: []
                        };
                }
                break;
            case "AES-CTR":
                switch(operation.toLowerCase())
                {
                    case "importkey":
                    case "exportkey":
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "AES-CTR",
                                length: 256
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                        break;
                    case "decrypt":
                    case "encrypt":
                        result = {
                            algorithm: {
                                name: "AES-CTR",
                                counter: new Uint8Array(16),
                                length: 10
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                    default:
                        return {
                            algorithm: {
                                name: "AES-CTR"
                            },
                            usages: []
                        };
                }
                break;
            case "AES-CBC":
                switch(operation.toLowerCase())
                {
                    case "importkey":
                    case "exportkey":
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "AES-CBC",
                                length: 256
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                        break;
                    case "decrypt":
                    case "encrypt":
                        result = {
                            algorithm: {
                                name: "AES-CBC",
                                iv: in_window.org.pkijs.getRandomValues(new Uint8Array(16)) // For "decrypt" the value should be replaced with value got on "encrypt" step
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                    default:
                        return {
                            algorithm: {
                                name: "AES-CBC"
                            },
                            usages: []
                        };
                }
                break;
            case "AES-GCM":
                switch(operation.toLowerCase())
                {
                    case "importkey":
                    case "exportkey":
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "AES-GCM",
                                length: 256
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                        break;
                    case "decrypt":
                    case "encrypt":
                        result = {
                            algorithm: {
                                name: "AES-GCM",
                                iv: in_window.org.pkijs.getRandomValues(new Uint8Array(16)) // For "decrypt" the value should be replaced with value got on "encrypt" step
                            },
                            usages: ["encrypt", "decrypt", "wrapKey", "unwrapKey"]
                        };
                    default:
                        return {
                            algorithm: {
                                name: "AES-GCM"
                            },
                            usages: []
                        };
                }
                break;
            case "AES-KW":
                switch(operation.toLowerCase())
                {
                    case "importkey":
                    case "exportkey":
                    case "generatekey":
                    case "wrapkey":
                    case "unwrapkey":
                        result = {
                            algorithm: {
                                name: "AES-KW",
                                length: 256
                            },
                            usages: ["wrapKey", "unwrapKey"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "AES-KW"
                            },
                            usages: []
                        };
                }
                break;
            case "HMAC":
                switch(operation.toLowerCase())
                {
                    case "sign":
                    case "verify":
                        result = {
                            algorithm: {
                                name: "HMAC",
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    case "importkey":
                    case "exportkey":
                    case "generatekey":
                        result = {
                            algorithm: {
                                name: "HMAC",
                                length: 10,
                                hash: {
                                    name: "SHA-256"
                                }
                            },
                            usages: ["sign", "verify"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "HMAC"
                            },
                            usages: []
                        };
                }
                break;
            case "HKDF":
                switch(operation.toLowerCase())
                {
                    case "derivekey":
                        result = {
                            algorithm: {
                                name: "HKDF",
                                hash: "SHA-256",
                                salt: new Uint8Array(),
                                info: new Uint8Array()
                            },
                            usages: ["encrypt", "decrypt"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "HKDF"
                            },
                            usages: []
                        };
                }
                break;
            case "PBKDF2":
                switch(operation.toLowerCase())
                {
                    case "derivekey":
                        result = {
                            algorithm: {
                                name: "PBKDF2",
                                hash: { name: "SHA-256" },
                                salt: new Uint8Array(),
                                iterations: 1000
                            },
                            usages: ["encrypt", "decrypt"]
                        };
                        break;
                    default:
                        return {
                            algorithm: {
                                name: "PBKDF2"
                            },
                            usages: []
                        };
                }
                break;
            default:
                ;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getOIDByAlgorithm =
    function(algorithm)
    {
        /// <summary>Get OID for each specific WebCrypto algorithm</summary>
        /// <param name="algorithm" type="Object">WebCrypto algorithm</param>

        var result = "";

        switch(algorithm.name.toUpperCase())
        {
            case "RSASSA-PKCS1-V1_5":
                switch(algorithm.hash.name.toUpperCase())
                {
                    case "SHA-1":
                        result = "1.2.840.113549.1.1.5";
                        break;
                    case "SHA-256":
                        result = "1.2.840.113549.1.1.11";
                        break;
                    case "SHA-384":
                        result = "1.2.840.113549.1.1.12";
                        break;
                    case "SHA-512":
                        result = "1.2.840.113549.1.1.13";
                        break;
                    default:;
                }
                break;
            case "RSA-PSS":
                result = "1.2.840.113549.1.1.10";
                break;
            case "RSA-OAEP":
                result = "1.2.840.113549.1.1.7";
                break;
            case "ECDSA":
                switch(algorithm.hash.name.toUpperCase())
                {
                    case "SHA-1":
                        result = "1.2.840.10045.4.1";
                        break;
                    case "SHA-256":
                        result = "1.2.840.10045.4.3.2";
                        break;
                    case "SHA-384":
                        result = "1.2.840.10045.4.3.3";
                        break;
                    case "SHA-512":
                        result = "1.2.840.10045.4.3.4";
                        break;
                    default:;
                }
                break;
            case "ECDH":
                switch(algorithm.kdf.toUpperCase()) // Non-standard addition - hash algorithm of KDF function
                {
                    case "SHA-1":
                        result = "1.3.133.16.840.63.0.2"; // dhSinglePass-stdDH-sha1kdf-scheme
                        break;
                    case "SHA-256":
                        result = "1.3.132.1.11.1"; // dhSinglePass-stdDH-sha256kdf-scheme
                        break;
                    case "SHA-384":
                        result = "1.3.132.1.11.2"; // dhSinglePass-stdDH-sha384kdf-scheme
                        break;
                    case "SHA-512":
                        result = "1.3.132.1.11.3"; // dhSinglePass-stdDH-sha512kdf-scheme
                        break;
                    default:;
                }
                break;
            case "AES-CTR":
                break;
            case "AES-CBC":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.2";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.22";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.42";
                        break;
                    default:;
                }
                break;
            case "AES-CMAC":
                break;
            case "AES-GCM":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.6";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.26";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.46";
                        break;
                    default:;
                }
                break;
            case "AES-CFB":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.4";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.24";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.44";
                        break;
                    default:;
                }
                break;
            case "AES-KW":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.5";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.25";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.45";
                        break;
                    default:;
                }
                break;
            case "HMAC":
                switch(algorithm.hash.name.toUpperCase())
                {
                    case "SHA-1":
                        result = "1.2.840.113549.2.7";
                        break;
                    case "SHA-256":
                        result = "1.2.840.113549.2.9";
                        break;
                    case "SHA-384":
                        result = "1.2.840.113549.2.10";
                        break;
                    case "SHA-512":
                        result = "1.2.840.113549.2.11";
                        break;
                    default:;
                }
                break;
            case "DH":
                result = "1.2.840.113549.1.9.16.3.5";
                break;
            case "SHA-1":
                result = "1.3.14.3.2.26";
                break;
            case "SHA-256":
                result = "2.16.840.1.101.3.4.2.1";
                break;
            case "SHA-384":
                result = "2.16.840.1.101.3.4.2.2";
                break;
            case "SHA-512":
                result = "2.16.840.1.101.3.4.2.3";
                break;
            case "CONCAT":
                break;
            case "HKDF":
                break;
            case "PBKDF2":
                result = "1.2.840.113549.1.5.12";
                break;
            // #region Special case - OIDs for ECC curves
            case "P-256":
                result = "1.2.840.10045.3.1.7";
                break;
            case "P-384":
                result = "1.3.132.0.34";
                break;
            case "P-521":
                result = "1.3.132.0.35";
                break;
            // #endregion
            default:;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getAlgorithmByOID =
    function(oid)
    {
        /// <summary>Get WebCrypto algorithm by wel-known OID</summary>
        /// <param name="oid" type="String">Wel-known OID to search for</param>

        var result = {};

        switch(oid)
        {
            case "1.2.840.113549.1.1.5":
                result = {
                    name: "RSASSA-PKCS1-v1_5",
                    hash: {
                        name: "SHA-1"
                    }
                };
                break;
            case "1.2.840.113549.1.1.11":
                result = {
                    name: "RSASSA-PKCS1-v1_5",
                    hash: {
                        name: "SHA-256"
                    }
                };
                break;
            case "1.2.840.113549.1.1.12":
                result = {
                    name: "RSASSA-PKCS1-v1_5",
                    hash: {
                        name: "SHA-384"
                    }
                };
                break;
            case "1.2.840.113549.1.1.13":
                result = {
                    name: "RSASSA-PKCS1-v1_5",
                    hash: {
                        name: "SHA-512"
                    }
                };
                break;
            case "1.2.840.113549.1.1.10":
                result = {
                    name: "RSA-PSS"
                };
                break;
            case "1.2.840.113549.1.1.7":
                result = {
                    name: "RSA-OAEP"
                };
                break;
            case "1.2.840.10045.4.1":
                result = {
                    name: "ECDSA",
                    hash: {
                        name: "SHA-1"
                    }
                };
                break;
            case "1.2.840.10045.4.3.2":
                result = {
                    name: "ECDSA",
                    hash: {
                        name: "SHA-256"
                    }
                };
                break;
            case "1.2.840.10045.4.3.3":
                result = {
                    name: "ECDSA",
                    hash: {
                        name: "SHA-384"
                    }
                };
                break;
            case "1.2.840.10045.4.3.4":
                result = {
                    name: "ECDSA",
                    hash: {
                        name: "SHA-512"
                    }
                };
                break;
            case "1.3.133.16.840.63.0.2":
                result = {
                    name: "ECDH",
                    kdf: "SHA-1"
                };
                break;
            case "1.3.132.1.11.1":
                result = {
                    name: "ECDH",
                    kdf: "SHA-256"
                };
                break;
            case "1.3.132.1.11.2":
                result = {
                    name: "ECDH",
                    kdf: "SHA-384"
                };
                break;
            case "1.3.132.1.11.3":
                result = {
                    name: "ECDH",
                    kdf: "SHA-512"
                };
                break;
            case "2.16.840.1.101.3.4.1.2":
                result = {
                    name: "AES-CBC",
                    length: 128
                };
                break;
            case "2.16.840.1.101.3.4.1.22":
                result = {
                    name: "AES-CBC",
                    length: 192
                };
                break;
            case "2.16.840.1.101.3.4.1.42":
                result = {
                    name: "AES-CBC",
                    length: 256
                };
                break;
            case "2.16.840.1.101.3.4.1.6":
                result = {
                    name: "AES-GCM",
                    length: 128
                };
                break;
            case "2.16.840.1.101.3.4.1.26":
                result = {
                    name: "AES-GCM",
                    length: 192
                };
                break;
            case "2.16.840.1.101.3.4.1.46":
                result = {
                    name: "AES-GCM",
                    length: 256
                };
                break;
            case "2.16.840.1.101.3.4.1.4":
                result = {
                    name: "AES-CFB",
                    length: 128
                };
                break;
            case "2.16.840.1.101.3.4.1.24":
                result = {
                    name: "AES-CFB",
                    length: 192
                };
                break;
            case "2.16.840.1.101.3.4.1.44":
                result = {
                    name: "AES-CFB",
                    length: 256
                };
                break;
            case "2.16.840.1.101.3.4.1.5":
                result = {
                    name: "AES-KW",
                    length: 128
                };
                break;
            case "2.16.840.1.101.3.4.1.25":
                result = {
                    name: "AES-KW",
                    length: 192
                };
                break;
            case "2.16.840.1.101.3.4.1.45":
                result = {
                    name: "AES-KW",
                    length: 256
                };
                break;
            case "1.2.840.113549.2.7":
                result = {
                    name: "HMAC",
                    hash: {
                        name: "SHA-1"
                    }
                };
                break;
            case "1.2.840.113549.2.9":
                result = {
                    name: "HMAC",
                    hash: {
                        name: "SHA-256"
                    }
                };
                break;
            case "1.2.840.113549.2.10":
                result = {
                    name: "HMAC",
                    hash: {
                        name: "SHA-384"
                    }
                };
                break;
            case "1.2.840.113549.2.11":
                result = {
                    name: "HMAC",
                    hash: {
                        name: "SHA-512"
                    }
                };
                break;
            case "1.2.840.113549.1.9.16.3.5":
                result = {
                    name: "DH"
                };
                break;
            case "1.3.14.3.2.26":
                result = {
                    name: "SHA-1"
                };
                break;
            case "2.16.840.1.101.3.4.2.1":
                result = {
                    name: "SHA-256"
                };
                break;
            case "2.16.840.1.101.3.4.2.2":
                result = {
                    name: "SHA-384"
                };
                break;
            case "2.16.840.1.101.3.4.2.3":
                result = {
                    name: "SHA-512"
                };
                break;
            case "1.2.840.113549.1.5.12":
                result = {
                    name: "PBKDF2"
                };
                break;
            // #region Special case - OIDs for ECC curves
            case "1.2.840.10045.3.1.7":
                result = {
                    name: "P-256"
                };
                break;
            case "1.3.132.0.34":
                result = {
                    name: "P-384"
                };
                break;
            case "1.3.132.0.35":
                result = {
                    name: "P-521"
                };
                break;
            // #endregion
            default:;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getHashAlgorithm =
    function(signatureAlgorithm)
    {
        /// <summary>Getting hash algorithm by signature algorithm</summary>
        /// <param name="signatureAlgorithm" type="in_window.org.pkijs.simpl.ALGORITHM_IDENTIFIER">Signature algorithm</param>

        var result = "";

        switch(signatureAlgorithm.algorithm_id)
        {
            case "1.2.840.10045.4.1": // ecdsa-with-SHA1
            case "1.2.840.113549.1.1.5":
                result = "SHA-1";
                break;
            case "1.2.840.10045.4.3.2": // ecdsa-with-SHA256
            case "1.2.840.113549.1.1.11":
                result = "SHA-256";
                break;
            case "1.2.840.10045.4.3.3": // ecdsa-with-SHA384
            case "1.2.840.113549.1.1.12":
                result = "SHA-384";
                break;
            case "1.2.840.10045.4.3.4": // ecdsa-with-SHA512
            case "1.2.840.113549.1.1.13":
                result = "SHA-512";
                break;
            case "1.2.840.113549.1.1.10": // RSA-PSS
                {
                    var params;

                    try
                    {
                        params = new in_window.org.pkijs.simpl.x509.RSASSA_PSS_params({ schema: signatureAlgorithm.algorithm_params });
                        if("hashAlgorithm" in params)
                        {
                            var algorithm = in_window.org.pkijs.getAlgorithmByOID(params.hashAlgorithm.algorithm_id);
                            if(("name" in algorithm) === false)
                                return "";

                            result = algorithm.name;
                        }
                        else
                            result = "SHA-1";
                    }
                    catch(ex)
                    {
                    }
                }
                break;
            default:;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.createCMSECDSASignature =
    function(signatureBuffer)
    {
        /// <summary>Create CMS ECDSA signature from WebCrypto ECDSA signature</summary>
        /// <param name="signatureBuffer" type="ArrayBuffer">WebCrypto result of "sign" function</param>

        // #region Initial check for correct length
        if((signatureBuffer.byteLength % 2) != 0)
            return new ArrayBuffer(0);
        // #endregion

        // #region Initial variables
        var i = 0;
        var length = signatureBuffer.byteLength / 2; // There are two equal parts inside incoming ArrayBuffer

        var signatureView = new Uint8Array(signatureBuffer);

        var r_buffer = new ArrayBuffer(length);
        var r_view = new Uint8Array(r_buffer);
        var r_corrected_buffer;
        var r_corrected_view;

        var s_buffer = new ArrayBuffer(length);
        var s_view = new Uint8Array(s_buffer);
        var s_corrected_buffer;
        var s_corrected_view;
        // #endregion

        // #region Get "r" part of ECDSA signature
        for(; i < length; i++)
            r_view[i] = signatureView[i];

        if(r_view[0] & 0x80)
        {
            r_corrected_buffer = new ArrayBuffer(length + 1);
            r_corrected_view = new Uint8Array(r_corrected_buffer);

            r_corrected_view[0] = 0x00;

            for(var j = 0; j < length; j++)
                r_corrected_view[j + 1] = r_view[j];
        }
        else
        {
            r_corrected_buffer = r_buffer;
            r_corrected_view = r_view;
        }
        // #endregion

        // #region Get "s" part of ECDSA signature
        for(; i < signatureBuffer.byteLength; i++)
            s_view[i - length] = signatureView[i];


        if(s_view[0] & 0x80)
        {
            s_corrected_buffer = new ArrayBuffer(length + 1);
            s_corrected_view = new Uint8Array(s_corrected_buffer);

            s_corrected_view[0] = 0x00;

            for(var j = 0; j < length; j++)
                s_corrected_view[j + 1] = s_view[j];
        }
        else
        {
            s_corrected_buffer = s_buffer;
            s_corrected_view = s_view;
        }
        // #endregion

        // #region Create ASN.1 structure of CMS ECDSA signature
        var r_integer = new in_window.org.pkijs.asn1.INTEGER();
        r_integer.value_block.is_hex_only = true;
        r_integer.value_block.value_hex = in_window.org.pkijs.copyBuffer(r_corrected_buffer);

        var s_integer = new in_window.org.pkijs.asn1.INTEGER();
        s_integer.value_block.is_hex_only = true;
        s_integer.value_block.value_hex = in_window.org.pkijs.copyBuffer(s_corrected_buffer);

        var asn1 = new in_window.org.pkijs.asn1.SEQUENCE({
            value: [
                r_integer,
                s_integer
            ]
        });
        // #endregion

        return asn1.toBER(false);
    }
    //**************************************************************************************
    in_window.org.pkijs.createECDSASignatureFromCMS =
    function(cmsSignature)
    {
        /// <summary>Create a single ArrayBuffer from CMS ECDSA signature</summary>
        /// <param name="cmsSignature" type="in_window.org.pkijs.asn1.SEQUENCE">ASN.1 SEQUENCE contains CMS ECDSA signature</param>

        // #region Initial variables
        var length = 0;

        var r_start = 0;
        var s_start = 0;

        var r_length = cmsSignature.value_block.value[0].value_block.value_hex.byteLength;
        var s_length = cmsSignature.value_block.value[1].value_block.value_hex.byteLength;
        // #endregion

        // #region Get length of final "ArrayBuffer"
        var r_view = new Uint8Array(cmsSignature.value_block.value[0].value_block.value_hex);
        if((r_view[0] === 0x00) && (r_view[1] & 0x80))
        {
            length = r_length - 1;
            r_start = 1;
        }
        else
            length = r_length;

        var s_view = new Uint8Array(cmsSignature.value_block.value[1].value_block.value_hex);
        if((s_view[0] === 0x00) && (s_view[1] & 0x80))
        {
            length += s_length - 1;
            s_start = 1;
        }
        else
            length += s_length;
        // #endregion

        // #region Copy values from CMS ECDSA signature
        var result = new ArrayBuffer(length);
        var result_view = new Uint8Array(result);

        for(var i = r_start; i < r_length; i++)
            result_view[i - r_start] = r_view[i];

        for(var i = s_start; i < s_length; i++)
            result_view[i - s_start + r_length - r_start] = s_view[i];
        // #endregion

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getEncryptionAlgorithm =
    function(algorithm)
    {
        /// <summary>Get encryption algorithm OID by WebCrypto algorithm's object</summary>
        /// <param name="algorithm" type="WebCryptoAlgorithm">WebCrypto algorithm object</param>

        var result = "";

        switch(algorithm.name.toUpperCase())
        {
            case "AES-CBC":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.2";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.22";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.42";
                        break;
                    default:;
                }
                break;
            case "AES-GCM":
                switch(algorithm.length)
                {
                    case 128:
                        result = "2.16.840.1.101.3.4.1.6";
                        break;
                    case 192:
                        result = "2.16.840.1.101.3.4.1.26";
                        break;
                    case 256:
                        result = "2.16.840.1.101.3.4.1.46";
                        break;
                    default:;
                }
                break;
            default:;
        }

        return result;
    }
    //**************************************************************************************
    in_window.org.pkijs.getAlgorithmByEncryptionOID =
    function(oid)
    {
        /// <summary>Get encryption algorithm name by OID</summary>
        /// <param name="oid" type="String">OID of encryption algorithm</param>

        var result = "";

        switch(oid)
        {
            case "2.16.840.1.101.3.4.1.2":
            case "2.16.840.1.101.3.4.1.22":
            case "2.16.840.1.101.3.4.1.42":
                result = "AES-CBC";
                break;
            case "2.16.840.1.101.3.4.1.6":
            case "2.16.840.1.101.3.4.1.26":
            case "2.16.840.1.101.3.4.1.46":
                result = "AES-GCM";
                break;
            default:;
        }

        return result;
    }
    //**************************************************************************************
    // #endregion
    //**************************************************************************************
}
)(typeof exports !== "undefined" ? exports : window);

//third_party/javascript/angular/v1_6/angular.min.js
/*
 AngularJS v1.6.4-local+sha.617b36117
 (c) 2010-2018 Google, Inc. http://angularjs.org
 License: MIT

 Copyright 2010-2020 Google, Inc. http://angularjs.org
 SPDX-License-Identifier: MIT

 Copyright 2013 Google, Inc. http://angularjs.org
 SPDX-License-Identifier: MIT
*/
(function(ea){'use strict';function Sf(a){if(ha(a))S(a.objectMaxDepth)&&(ie.objectMaxDepth=jd(a.objectMaxDepth)?a.objectMaxDepth:NaN);else return ie}function jd(a){return Qa(a)&&a>0}function wa(a){return function(){var b=arguments[0];var d="["+(a?a+":":"")+b+"] http://errors.angularjs.org/1.6.4-local+sha.617b36117/"+(a?a+"/":"")+b;for(b=1;b<arguments.length;b++){d=d+(b==1?"?":"&")+"p"+(b-1)+"=";var c=encodeURIComponent;var e=arguments[b];e=typeof e=="function"?e.toString().replace(/ \{[\s\S]*$/,""):typeof e==
"undefined"?"undefined":typeof e!="string"?JSON.stringify(e):e;d+=c(e)}return Error(d)}}function vb(a){if(a==null||ac(a))return!1;if(ma(a)||na(a)||fa&&a instanceof fa)return!0;var b="length"in Object(a)&&a.length;return Qa(b)&&(b>=0&&(b-1 in a||a instanceof Array)||typeof a.item==="function")}function J(a,b,d){var c;if(a)if(da(a))for(f in a)f!=="prototype"&&f!=="length"&&f!=="name"&&a.hasOwnProperty(f)&&b.call(d,a[f],f,a);else if(ma(a)||vb(a)){var e=typeof a!=="object";var f=0;for(c=a.length;f<c;f++)(e||
f in a)&&b.call(d,a[f],f,a)}else if(a.forEach&&a.forEach!==J)a.forEach(b,d,a);else if(je(a))for(f in a)b.call(d,a[f],f,a);else if(typeof a.hasOwnProperty==="function")for(f in a)a.hasOwnProperty(f)&&b.call(d,a[f],f,a);else for(f in a)bb.call(a,f)&&b.call(d,a[f],f,a);return a}function ke(a,b,d){for(var c=Object.keys(a).sort(),e=0;e<c.length;e++)b.call(d,a[c[e]],c[e]);return c}function kd(a){return function(b,d){a(d,b)}}function Tf(){return++uc}function ld(a,b,d){for(var c=a.$$hashKey,e=0,f=b.length;e<
f;++e){var g=b[e];if(ha(g)||da(g))for(var k=Object.keys(g),h=0,l=k.length;h<l;h++){var n=k[h],p=g[n];d&&ha(p)?Xa(p)?a[n]=new Date(p.valueOf()):vc(p)?a[n]=new RegExp(p):p.nodeName?a[n]=p.cloneNode(!0):md(p)?a[n]=p.clone():n!=="__proto__"&&(ha(a[n])||(a[n]=ma(p)?[]:{}),ld(a[n],[p],!0)):a[n]=p}}c?a.$$hashKey=c:delete a.$$hashKey;return a}function Ba(a){return ld(a,ib.call(arguments,1),!1)}function Uf(a){return ld(a,ib.call(arguments,1),!0)}function nd(a,b){return Ba(Object.create(a),b)}function ka(){}
function Mb(a){return a}function cb(a){return function(){return a}}function od(a){return da(a.toString)&&a.toString!==Sa}function V(a){return typeof a==="undefined"}function S(a){return typeof a!=="undefined"}function ha(a){return a!==null&&typeof a==="object"}function je(a){return a!==null&&typeof a==="object"&&!le(a)}function na(a){return typeof a==="string"}function Qa(a){return typeof a==="number"}function Xa(a){return Sa.call(a)==="[object Date]"}function pd(a){switch(Sa.call(a)){case "[object Error]":return!0;
case "[object Exception]":return!0;case "[object DOMException]":return!0;default:return a instanceof Error}}function da(a){return typeof a==="function"}function vc(a){return Sa.call(a)==="[object RegExp]"}function ac(a){return a&&a.window===a}function bc(a){return a&&a.$evalAsync&&a.$watch}function wb(a){return typeof a==="boolean"}function Vf(a){return a&&Qa(a.length)&&Wf.test(Sa.call(a))}function md(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function Xf(a){var b={};a=a.split(",");var d;
for(d=0;d<a.length;d++)b[a[d]]=!0;return b}function jb(a){return za(a.nodeName||a[0]&&a[0].nodeName)}function cc(a,b){b=a.indexOf(b);b>=0&&a.splice(b,1);return b}function Bb(a,b,d){function c(h,l,n){n--;if(n<0)return"...";var p=l.$$hashKey;if(ma(h)){var v=0;for(var w=h.length;v<w;v++)l.push(e(h[v],n))}else if(je(h))for(v in h)l[v]=e(h[v],n);else if(h&&typeof h.hasOwnProperty==="function")for(v in h)h.hasOwnProperty(v)&&(l[v]=e(h[v],n));else for(v in h)bb.call(h,v)&&(l[v]=e(h[v],n));p?l.$$hashKey=
p:delete l.$$hashKey;return l}function e(h,l){if(!ha(h))return h;var n=g.indexOf(h);if(n!==-1)return k[n];if(ac(h)||bc(h))throw Cb("cpws");n=!1;var p=f(h);p===void 0&&(p=ma(h)?[]:Object.create(le(h)),n=!0);g.push(h);k.push(p);return n?c(h,p,l):p}function f(h){switch(Sa.call(h)){case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Float32Array]":case "[object Float64Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return new h.constructor(e(h.buffer),
h.byteOffset,h.length);case "[object ArrayBuffer]":if(!h.slice){var l=new ArrayBuffer(h.byteLength);(new Uint8Array(l)).set(new Uint8Array(h));return l}return h.slice(0);case "[object Boolean]":case "[object Number]":case "[object String]":case "[object Date]":return new h.constructor(h.valueOf());case "[object RegExp]":return l=new RegExp(h.source,h.toString().match(/[^/]*$/)[0]),l.lastIndex=h.lastIndex,l;case "[object Blob]":return new h.constructor([h],{type:h.type})}if(da(h.cloneNode))return h.cloneNode(!0)}
var g=[],k=[];d=jd(d)?d:NaN;if(b){if(Vf(b)||Sa.call(b)==="[object ArrayBuffer]")throw Cb("cpta");if(a===b)throw Cb("cpi");ma(b)?b.length=0:J(b,function(h,l){l!=="$$hashKey"&&delete b[l]});g.push(a);k.push(b);return c(a,b,d)}return e(a,d)}function qd(a,b){return a===b||a!==a&&b!==b}function db(a,b){if(a===b)return!0;if(a===null||b===null)return!1;if(a!==a&&b!==b)return!0;var d=typeof a,c;if(d===typeof b&&d==="object")if(ma(a)){if(!ma(b))return!1;if((d=a.length)===b.length){for(c=0;c<d;c++)if(!db(a[c],
b[c]))return!1;return!0}}else{if(Xa(a))return Xa(b)?qd(a.getTime(),b.getTime()):!1;if(vc(a))return vc(b)?a.toString()===b.toString():!1;if(bc(a)||bc(b)||ac(a)||ac(b)||ma(b)||Xa(b)||vc(b))return!1;d=Ea();for(c in a)if(c.charAt(0)!=="$"&&!da(a[c])){if(!db(a[c],b[c]))return!1;d[c]=!0}for(c in b)if(!(c in d)&&c.charAt(0)!=="$"&&S(b[c])&&!da(b[c]))return!1;return!0}return!1}function dc(a,b,d){return a.concat(ib.call(b,d))}function Nb(a,b){var d=arguments.length>2?ib.call(arguments,2):[];return!da(b)||
b instanceof RegExp?b:d.length?function(){return arguments.length?b.apply(a,dc(d,arguments,0)):b.apply(a,d)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function me(a,b){var d=b;typeof a==="string"&&a.charAt(0)==="$"&&a.charAt(1)==="$"?d=void 0:ac(b)?d="$WINDOW":b&&ea.document===b?d="$DOCUMENT":bc(b)&&(d="$SCOPE");return d}function ec(a,b){if(!V(a))return Qa(b)||(b=b?2:null),JSON.stringify(a,me,b)}function ne(a){return na(a)?JSON.parse(a):a}function rd(a,b){a=a.replace(Yf,"");
a=Date.parse("Jan 01, 1970 00:00:00 "+a)/6E4;return Ta(a)?b:a}function oe(a,b){a=new Date(a.getTime());a.setMinutes(a.getMinutes()+b);return a}function sd(a,b,d){d=d?-1:1;var c=a.getTimezoneOffset();b=rd(b,c);return oe(a,d*(b-c))}function eb(a){a=fa(a).clone().empty();var b=fa("<div></div>").append(a).html();try{return a[0].nodeType===xb?za(b):b.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(d,c){return"<"+za(c)})}catch(d){return za(b)}}function pe(a){try{return decodeURIComponent(a)}catch(b){}}
function td(a){var b={};J((a||"").split("&"),function(d){if(d){var c=d=d.replace(/\+/g,"%20");var e=d.indexOf("=");if(e!==-1){c=d.substring(0,e);var f=d.substring(e+1)}c=pe(c);S(c)&&(f=S(f)?pe(f):!0,bb.call(b,c)?ma(b[c])?b[c].push(f):b[c]=[b[c],f]:b[c]=f)}});return b}function ud(a){var b=[];J(a,function(d,c){ma(d)?J(d,function(e){b.push(Za(c,!0)+(e===!0?"":"="+Za(e,!0)))}):b.push(Za(c,!0)+(d===!0?"":"="+Za(d,!0)))});return b.length?b.join("&"):""}function fc(a){return Za(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,
"=").replace(/%2B/gi,"+")}function Za(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function Zf(a,b){var d,c=Ob.length;for(d=0;d<c;++d){var e=Ob[d]+b;if(na(e=a.getAttribute(e)))return e}return null}function $f(a,b){var d,c,e={};J(Ob,function(f){f+="app";!d&&a.hasAttribute&&a.hasAttribute(f)&&(d=a,c=a.getAttribute(f))});J(Ob,function(f){f+="app";var g;!d&&(g=a.querySelector("["+f.replace(":",
"\\:")+"]"))&&(d=g,c=g.getAttribute(f))});d&&(ag?(e.strictDi=Zf(d,"strict-di")!==null,b(d,c?[c]:[],e)):ea.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}function qe(a,b,d){ha(d)||(d={});d=Ba({strictDi:!1},d);var c=function(){a=fa(a);if(a.injector()){var g=a[0]===ea.document?"document":eb(a);throw Cb("btstrpd",g.replace(/</,"&lt;").replace(/>/,"&gt;"));}b=b||[];b.unshift(["$provide",function(k){k.value("$rootElement",
a)}]);d.debugInfoEnabled&&b.push(["$compileProvider",function(k){k.debugInfoEnabled(!0)}]);b.unshift("ng");g=gc(b,d.strictDi);g.invoke(["$rootScope","$rootElement","$compile","$injector",function(k,h,l,n){k.$apply(function(){h.data("$injector",n);l(h)(k)})}]);return g},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;ea&&e.test(ea.name)&&(d.debugInfoEnabled=!0,ea.name=ea.name.replace(e,""));if(ea&&!f.test(ea.name))return c();ea.name=ea.name.replace(f,"");Ua.resumeBootstrap=function(g){J(g,function(k){b.push(k)});
return c()};da(Ua.resumeDeferredBootstrap)&&Ua.resumeDeferredBootstrap()}function bg(){ea.name="NG_ENABLE_DEBUG_INFO!"+ea.name;ea.location.reload()}function cg(a){a=Ua.element(a).injector();if(!a)throw Cb("test");return a.get("$$testability")}function re(a,b){b=b||"_";return a.replace(dg,function(d,c){return(c?b:"")+d.toLowerCase()})}function hc(a,b,d){if(!a)throw Cb("areq",b||"?",d||"required");return a}function wc(a,b,d){d&&ma(a)&&(a=a[a.length-1]);hc(da(a),b,"not a function, got "+(a&&typeof a===
"object"?a.constructor.name||"Object":typeof a));return a}function Pb(a,b){if(a==="hasOwnProperty")throw Cb("badname",b);}function se(a,b,d){if(!b)return a;b=b.split(".");for(var c,e=a,f=b.length,g=0;g<f;g++)c=b[g],a&&(a=(e=a)[c]);return!d&&da(a)?Nb(e,a):a}function xc(a){for(var b=a[0],d=a[a.length-1],c,e=1;b!==d&&(b=b.nextSibling);e++)if(c||a[e]!==b)c||(c=fa(ib.call(a,0,e))),c.push(b);return c||a}function Ea(){return Object.create(null)}function vd(a){if(a==null)return"";switch(typeof a){case "string":break;
case "number":a=""+a;break;default:a=!od(a)||ma(a)||Xa(a)?ec(a):a.toString()}return a}function eg(a){function b(e,f,g){return e[f]||(e[f]=g())}var d=wa("$injector"),c=wa("ng");a=b(a,"angular",Object);a.$$minErr=a.$$minErr||wa;return b(a,"module",function(){var e={};return function(f,g,k){var h={};if(f==="hasOwnProperty")throw c("badname","module");g&&e.hasOwnProperty(f)&&(e[f]=null);return b(e,f,function(){function l(C,D,A,z){z||(z=p);return function(){z[A||"push"]([C,D,arguments]);return F}}function n(C,
D,A){A||(A=p);return function(z,r){r&&da(r)&&(r.$$moduleName=f);A.push([C,D,arguments]);return F}}if(!g)throw d("nomod",f);var p=[],v=[],w=[],H=l("$injector","invoke","push",v),F={_invokeQueue:p,_configBlocks:v,_runBlocks:w,info:function(C){if(S(C)){if(!ha(C))throw c("aobj","value");h=C;return this}return h},requires:g,name:f,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:l("$provide","value"),constant:l("$provide","constant","unshift"),decorator:n("$provide",
"decorator",v),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:H,run:function(C){w.push(C);return this}};k&&H(k);return F})}})}function kb(a,b){if(ma(a)){b=b||[];for(var d=0,c=a.length;d<c;d++)b[d]=a[d]}else if(ha(a))for(d in b=b||{},a)if(d.charAt(0)!=="$"||d.charAt(1)!=="$")b[d]=a[d];return b||a}function fg(a,b){var d=[];jd(b)&&
(a=Ua.copy(a,null,b));return JSON.stringify(a,function(c,e){e=me(c,e);if(ha(e)){if(d.indexOf(e)>=0)return"...";d.push(e)}return e})}function Db(a,b){return b.toUpperCase()}function wd(a){a=a.nodeType;return a===1||!a||a===9}function te(a,b){var d=b.createDocumentFragment(),c=[],e=yc&&a instanceof TrustedHTML;if(xd.test(a)){a=String(a);b=d.appendChild(b.createElement("div"));var f=(gg.exec(a)||["",""])[1].toLowerCase();f=fb[f]||fb._default;a=f[1]+a.replace(hg,"<$1></$2>")+f[2];e&&(a=ig(a));b.innerHTML=
a;for(a=f[0];a--;)b=b.lastChild;c=dc(c,b.childNodes);b=d.firstChild;b.textContent=""}else c.push(b.createTextNode(a));d.textContent="";d.innerHTML=yc&&trustedTypes.emptyHTML||"";J(c,function(g){d.appendChild(g)});return d}function Fa(a){if(a instanceof Fa)return a;if(na(a)){a=Ca(a);var b=!0}if(!(this instanceof Fa)){if(b&&a&&a.charAt(0)!=="<")throw yd("nosel");return new Fa(a)}if(b||yc&&a instanceof TrustedHTML){b=a;var d=ea.document;var c;a=(c=jg.exec(b))?[d.createElement(c[1])]:(c=te(b,d))?c.childNodes:
[];zd(this,a)}else da(a)?ue(a):zd(this,a)}function Ad(a){return a.cloneNode(!0)}function zc(a,b){!b&&wd(a)&&fa.cleanData([a]);a.querySelectorAll&&fa.cleanData(a.querySelectorAll("*"))}function ve(a,b,d,c){if(S(c))throw yd("offargs");var e=(c=Ac(a))&&c.events,f=c&&c.handle;if(f)if(b){var g=function(k){var h=e[k];S(d)&&cc(h||[],d);S(d)&&h&&h.length>0||(a.removeEventListener(k,f),delete e[k])};J(b.split(" "),function(k){g(k);Bc[k]&&g(Bc[k])})}else for(b in e)b!=="$destroy"&&a.removeEventListener(b,f),
delete e[b]}function Bd(a,b){var d=a.ng339,c=d&&ic[d];c&&(b?delete c.data[b]:(c.handle&&(c.events.$destroy&&c.handle({},"$destroy"),ve(a)),delete ic[d],a.ng339=void 0))}function Ac(a,b){var d=a.ng339;d=d&&ic[d];b&&!d&&(a.ng339=d=++kg,d=ic[d]={events:{},data:{},handle:void 0});return d}function Cd(a,b,d){if(wd(a)){var c,e=S(d),f=!e&&b&&!ha(b),g=!b;a=(a=Ac(a,!f))&&a.data;if(e)a[b.replace(Cc,Db)]=d;else{if(g)return a;if(f)return a&&a[b.replace(Cc,Db)];for(c in b)a[c.replace(Cc,Db)]=b[c]}}}function Dc(a,
b){return a.getAttribute?(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1:!1}function Ec(a,b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),c=d;J(b.split(" "),function(e){e=Ca(e);c=c.replace(" "+e+" "," ")});c!==d&&a.setAttribute("class",Ca(c))}}function Fc(a,b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),c=d;J(b.split(" "),function(e){e=Ca(e);c.indexOf(" "+e+" ")===-1&&
(c+=e+" ")});c!==d&&a.setAttribute("class",Ca(c))}}function zd(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var d=b.length;if(typeof d==="number"&&b.window!==b){if(d)for(var c=0;c<d;c++)a[a.length++]=b[c]}else a[a.length++]=b}}function we(a,b){return Gc(a,"$"+(b||"ngController")+"Controller")}function Gc(a,b,d){a.nodeType===9&&(a=a.documentElement);for(b=ma(b)?b:[b];a;){for(var c=0,e=b.length;c<e;c++)if(S(d=fa.data(a,b[c])))return d;a=a.parentNode||a.nodeType===11&&a.host}}function xe(a){for(zc(a,
!0);a.firstChild;)a.removeChild(a.firstChild)}function Hc(a,b){b||zc(a);(b=a.parentNode)&&b.removeChild(a)}function lg(a,b){b=b||ea;if(b.document.readyState==="complete")b.setTimeout(a);else fa(b).on("load",a)}function ue(a){function b(){ea.document.removeEventListener("DOMContentLoaded",b);ea.removeEventListener("load",b);a()}ea.document.readyState==="complete"?ea.setTimeout(a):(ea.document.addEventListener("DOMContentLoaded",b),ea.addEventListener("load",b))}function ye(a,b){return(b=Ic[b.toLowerCase()])&&
ze[jb(a)]&&b}function mg(a,b){var d=function(c,e){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=(e=b[e||c.type])?e.length:0;if(f){if(V(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0;c.stopPropagation&&c.stopPropagation();g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return c.immediatePropagationStopped===!0};var k=e.specialHandlerWrapper||og;f>1&&(e=kb(e));for(var h=0;h<f;h++)c.isImmediatePropagationStopped()||
k(a,c,e[h])}};d.elem=a;return d}function og(a,b,d){d.call(a,b)}function pg(a,b,d){var c=b.relatedTarget;c&&(c===a||qg.call(a,c))||d.call(a,b)}function rg(){this.$get=function(){return Ba(Fa,{hasClass:function(a,b){a.attr&&(a=a[0]);return Dc(a,b)},addClass:function(a,b){a.attr&&(a=a[0]);return Fc(a,b)},removeClass:function(a,b){a.attr&&(a=a[0]);return Ec(a,b)}})}}function Qb(a,b){var d=a&&a.$$hashKey;if(d)return typeof d==="function"&&(d=a.$$hashKey()),d;d=typeof a;return d=d==="function"||d==="object"&&
a!==null?a.$$hashKey=d+":"+(b||Tf)():d+":"+a}function Ae(){this._keys=[];this._values=[];this._lastKey=NaN;this._lastIndex=-1}function Be(a){a=Function.prototype.toString.call(a).replace(sg,"");return a.match(tg)||a.match(ug)}function vg(a){return(a=Be(a))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function gc(a,b){function d(C){return function(D,A){if(ha(D))J(D,kd(C));else return C(D,A)}}function c(C,D){Pb(C,"service");if(da(D)||ma(D))D=v.instantiate(D);if(!D.$get)throw Eb("pget",C);
return p[C+"Provider"]=D}function e(C,D){return function(){var A=F.invoke(D,this);if(V(A))throw Eb("undef",C);return A}}function f(C,D,A){return c(C,{$get:A!==!1?e(C,D):D})}function g(C){hc(V(C)||ma(C),"modulesToLoad","not an array");var D=[],A;J(C,function(z){function r(q){var m;var u=0;for(m=q.length;u<m;u++){var E=q[u],B=v.get(E[0]);B[E[1]].apply(B,E[2])}}if(!n.get(z)){n.set(z,!0);try{na(z)?(A=Dd(z),F.modules[z]=A,D=D.concat(g(A.requires)).concat(A._runBlocks),r(A._invokeQueue),r(A._configBlocks)):
da(z)?D.push(v.invoke(z)):ma(z)?D.push(v.invoke(z)):wc(z,"module")}catch(q){throw ma(z)&&(z=z[z.length-1]),q.message&&q.stack&&q.stack.indexOf(q.message)===-1&&(q=q.message+"\n"+q.stack),Eb("modulerr",z,q.stack||q.message||q);}}});return D}function k(C,D){function A(r,q){if(C.hasOwnProperty(r)){if(C[r]===h)throw Eb("cdep",r+" <- "+l.join(" <- "));return C[r]}try{return l.unshift(r),C[r]=h,C[r]=D(r,q),C[r]}catch(m){throw C[r]===h&&delete C[r],m;}finally{l.shift()}}function z(r,q,m){var u=[];r=gc.$$annotate(r,
b,m);for(var E=0,B=r.length;E<B;E++){var x=r[E];if(typeof x!=="string")throw Eb("itkn",x);u.push(q&&q.hasOwnProperty(x)?q[x]:A(x,m))}return u}return{invoke:function(r,q,m,u){typeof m==="string"&&(u=m,m=null);m=z(r,m,u);ma(r)&&(r=r[r.length-1]);u=r;if(rb||typeof u!=="function")u=!1;else{var E=u.$$ngIsClass;wb(E)||(E=u.$$ngIsClass=/^(?:class\b|constructor\()/.test(Function.prototype.toString.call(u)));u=E}return u?(m.unshift(null),new (Function.prototype.bind.apply(r,m))):r.apply(q,m)},instantiate:function(r,
q,m){var u=ma(r)?r[r.length-1]:r;r=z(r,q,m);r.unshift(null);return new (Function.prototype.bind.apply(u,r))},get:A,annotate:gc.$$annotate,has:function(r){return p.hasOwnProperty(r+"Provider")||C.hasOwnProperty(r)}}}b=b===!0;var h={},l=[],n=new Jc,p={$provide:{provider:d(c),factory:d(f),service:d(function(C,D){return f(C,["$injector",function(A){return A.instantiate(D)}])}),value:d(function(C,D){return f(C,cb(D),!1)}),constant:d(function(C,D){Pb(C,"constant");p[C]=D;w[C]=D}),decorator:function(C,D){var A=
v.get(C+"Provider"),z=A.$get;A.$get=function(){var r=F.invoke(z,A);return F.invoke(D,null,{$delegate:r})}}}},v=p.$injector=k(p,function(C,D){Ua.isString(D)&&l.push(D);throw Eb("unpr",l.join(" <- "));}),w={},H=k(w,function(C,D){D=v.get(C+"Provider",D);return F.invoke(D.$get,D,void 0,C)}),F=H;p.$injectorProvider={$get:cb(H)};F.modules=v.modules=Ea();a=g(a);F=H.get("$injector");F.strictDi=b;J(a,function(C){C&&F.invoke(C)});F.loadNewModules=function(C){J(g(C),function(D){D&&F.invoke(D)})};return F}function wg(){var a=
!0;this.disableAutoScrolling=function(){a=!1};this.$get=["$window","$location","$rootScope",function(b,d,c){function e(h){var l=null;Array.prototype.some.call(h,function(n){if(jb(n)==="a")return l=n,!0});return l}function f(h){if(h){h.scrollIntoView();var l=g.yOffset;da(l)?l=l():md(l)?(l=l[0],l=b.getComputedStyle(l).position!=="fixed"?0:l.getBoundingClientRect().bottom):Qa(l)||(l=0);l&&(h=h.getBoundingClientRect().top,b.scrollBy(0,h-l))}else b.scrollTo(0,0)}function g(h){h=na(h)?h:Qa(h)?h.toString():
d.hash();var l;h?(l=k.getElementById(h))?f(l):(l=e(k.getElementsByName(h)))?f(l):h==="top"&&f(null):f(null)}var k=b.document;a&&c.$watch(function(){return d.hash()},function(h,l){h===l&&h===""||lg(function(){c.$evalAsync(g)})});return g}]}function jc(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;ma(a)&&(a=a.join(" "));ma(b)&&(b=b.join(" "));return a+" "+b}function xg(a){na(a)&&(a=a.split(" "));var b=Ea();J(a,function(d){d.length&&(b[d]=!0)});return b}function Fb(a){return ha(a)?a:{}}function yg(a,
b,d,c){function e(B){try{B.apply(null,ib.call(arguments,1))}finally{if(H--,H===0)for(;F.length;)try{F.pop()()}catch(x){d.error(x)}}}function f(){r=null;k()}function g(){C=q();C=V(C)?null:C;db(C,E)&&(C=E);D=E=C}function k(){var B=D;g();if(A!==h.url()||B!==C)A=h.url(),D=C,J(m,function(x){x(h.url(),C)})}var h=this,l=a.location,n=a.history,p=a.setTimeout,v=a.clearTimeout,w={};h.isMock=!1;var H=0,F=[];h.$$completeOutstandingRequest=e;h.$$incOutstandingRequestCount=function(){H++};h.notifyWhenNoOutstandingRequests=
function(B){H===0?B():F.push(B)};var C,D,A=l.href,z=b.find("base"),r=null,q=c.history?function(){try{return n.state}catch(B){}}:ka;g();h.url=function(B,x,G){V(G)&&(G=null);l!==a.location&&(l=a.location);n!==a.history&&(n=a.history);if(B){var K=D===G;if(A===B&&(!c.history||K))return h;var P=A&&Gb(A)===Gb(B);A=B;D=G;!c.history||P&&K?(P||(r=B),x?l.replace(B):P?(x=l,G=B.indexOf("#"),G=G===-1?"":B.substr(G),x.hash=G):l.href=B,l.href!==B&&(r=B)):(n[x?"replaceState":"pushState"](G,"",B),g());r&&(r=B);return h}return r||
l.href.replace(/%27/g,"'")};h.state=function(){return C};var m=[],u=!1,E=null;h.onUrlChange=function(B){if(!u){if(c.history)fa(a).on("popstate",f);fa(a).on("hashchange",f);u=!0}m.push(B);return B};h.$$applicationDestroyed=function(){fa(a).off("hashchange popstate",f)};h.$$checkUrlChange=k;h.baseHref=function(){var B=z.attr("href");return B?B.replace(/^(https?:)?\/\/[^/]*/,""):""};h.defer=function(B,x){H++;var G=p(function(){delete w[G];e(B)},x||0);w[G]=!0;return G};h.defer.cancel=function(B){return w[B]?
(delete w[B],v(B),e(ka),!0):!1}}function zg(){this.$get=["$window","$log","$sniffer","$document",function(a,b,d,c){return new yg(a,c,b,d)}]}function Ag(){this.$get=function(){function a(d,c){function e(w){w!==p&&(v?v===w&&(v=w.n):v=w,f(w.n,w.p),f(w,p),p=w,p.n=null)}function f(w,H){w!==H&&(w&&(w.p=H),H&&(H.n=w))}if(d in b)throw wa("$cacheFactory")("iid",d);var g=0,k=Ba({},c,{id:d}),h=Ea(),l=c&&c.capacity||Number.MAX_VALUE,n=Ea(),p=null,v=null;return b[d]={put:function(w,H){if(!V(H)){if(l<Number.MAX_VALUE){var F=
n[w]||(n[w]={key:w});e(F)}w in h||g++;h[w]=H;g>l&&this.remove(v.key);return H}},get:function(w){if(l<Number.MAX_VALUE){var H=n[w];if(!H)return;e(H)}return h[w]},remove:function(w){if(l<Number.MAX_VALUE){var H=n[w];if(!H)return;H===p&&(p=H.p);H===v&&(v=H.n);f(H.n,H.p);delete n[w]}w in h&&(delete h[w],g--)},removeAll:function(){h=Ea();g=0;n=Ea();p=v=null},destroy:function(){n=k=h=null;delete b[d]},info:function(){return Ba({},k,{size:g})}}}var b={};a.info=function(){var d={};J(b,function(c,e){d[e]=
c.info()});return d};a.get=function(d){return b[d]};return a}}function Bg(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Ce(a,b){function d(q,m,u){var E=/^([@&<]|=(\*?))(\??)\s*([\w$]*)$/,B=Ea();J(q,function(x,G){x=x.trim();if(x in H)B[G]=H[x];else{var K=x.match(E);if(!K)throw Ia("iscp",m,G,x,u?"controller bindings definition":"isolate scope definition");B[G]={mode:K[1][0],collection:K[2]==="*",optional:K[3]==="?",attrName:K[4]||G};K[4]&&(H[x]=B[G])}});return B}function c(q){var m=
q.charAt(0);if(!m||m!==za(m))throw Ia("baddir",q);if(q!==q.trim())throw Ia("baddir",q);}function e(q){var m=q.require||q.controller&&q.name;!ma(m)&&ha(m)&&J(m,function(u,E){var B=u.match(l);u.substring(B[0].length)||(m[E]=B[0]+E)});return m}var f={},g=/^\s*directive:\s*([\w-]+)\s+(.*)$/,k=/(([\w-]+)(?::([^;]+))?;?)/,h=Xf("ngSrc,ngSrcset,src,srcset"),l=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,n=ea.trustedTypes&&ea.trustedTypes.createPolicy,p;try{n&&(p=ea.trustedTypes.createPolicy("angularjs@compile",{createHTML:function(q){return q}}))}catch(q){}var v=
p?p.createHTML.bind(p):Mb,w=/^(on[a-z]+|formaction)$/,H=Ea();this.directive=function E(m,u){hc(m,"name");Pb(m,"directive");na(m)?(c(m),hc(u,"directiveFactory"),f.hasOwnProperty(m)||(f[m]=[],a.factory(m+"Directive",["$injector","$exceptionHandler",function(B,x){var G=[];J(f[m],function(K,P){try{var Q=B.invoke(K);da(Q)?Q={compile:cb(Q)}:!Q.compile&&Q.link&&(Q.compile=cb(Q.link));Q.priority=Q.priority||0;Q.index=P;Q.name=Q.name||m;Q.require=e(Q);P=Q;var T=Q.restrict;if(T&&(!na(T)||!/[EACM]/.test(T)))throw Ia("badrestrict",
T,m);P.restrict=T||"EA";Q.$$moduleName=K.$$moduleName;G.push(Q)}catch(ba){x(ba)}});return G}])),f[m].push(u)):J(m,kd(E));return this};this.component=function B(u,E){function x(K){function P(ba){return da(ba)||ma(ba)?function(ia,oa){return K.invoke(ba,this,{$element:ia,$attrs:oa})}:ba}var Q=E.template||E.templateUrl?E.template:"",T={controller:G,controllerAs:Cg(E.controller)||E.controllerAs||"$ctrl",template:P(Q),templateUrl:P(E.templateUrl),transclude:E.transclude,scope:{},bindToController:E.bindings||
{},restrict:"E",require:E.require};J(E,function(ba,ia){ia.charAt(0)==="$"&&(T[ia]=ba)});return T}if(!na(u))return J(u,kd(Nb(this,B))),this;var G=E.controller||function(){};J(E,function(K,P){P.charAt(0)==="$"&&(x[P]=K,da(G)&&(G[P]=K))});x.$inject=["$injector"];return this.directive(u,x)};this.aHrefSanitizationWhitelist=function(u){return S(u)?(b.aHrefSanitizationWhitelist(u),this):b.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(u){return S(u)?(b.imgSrcSanitizationWhitelist(u),
this):b.imgSrcSanitizationWhitelist()};var F=!0;this.debugInfoEnabled=function(u){return S(u)?(F=u,this):F};var C=!1;this.preAssignBindingsEnabled=function(u){return S(u)?(C=u,this):C};var D=!1;this.strictComponentBindingsEnabled=function(u){return S(u)?(D=u,this):D};var A=10;this.onChangesTtl=function(u){return arguments.length?(A=u,this):A};var z=!0;this.commentDirectivesEnabled=function(u){return arguments.length?(z=u,this):z};var r=!0;this.cssClassDirectivesEnabled=function(u){return arguments.length?
(r=u,this):r};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(u,E,B,x,G,K,P,Q,T,ba){function ia(){try{if(!--De)throw Hb=void 0,Ia("infchng",A);P.$apply(function(){for(var t=0,y=Hb.length;t<y;++t)try{Hb[t]()}catch(I){B(I)}Hb=void 0})}finally{De++}}function oa(t,y){if(y){var I=Object.keys(y),M;var N=0;for(M=I.length;N<M;N++){var L=I[N];this[L]=y[L]}}else this.$attr={};this.$$element=t}function pa(t,
y,I){Ee.innerHTML=v("<span "+y+">");y=Ee.firstChild.attributes;var M=y[0];y.removeNamedItem(M.name);M.value=I;t.attributes.setNamedItem(M)}function ja(t,y){try{t.addClass(y)}catch(I){}}function ra(t,y,I,M,N){t instanceof fa||(typeof t==="string"&&(t=Fa(v(Ca(t)))),t=fa(t));var L=va(t,y,t,I,M,N);ra.$$addScopeClass(t);var aa=null;return function(O,Y,W){if(!t)throw Ia("multilink");hc(O,"scope");N&&N.needsNewScope&&(O=O.$parent.$new());W=W||{};var X=W.parentBoundTranscludeFn,ca=W.transcludeControllers;
W=W.futureParentElement;X&&X.$$boundTransclude&&(X=X.$$boundTransclude);aa||(aa=(W=W&&W[0])?jb(W)!=="foreignobject"&&Sa.call(W).match(/SVG/)?"svg":"html":"html");W=aa!=="html"?fa(Ed(aa,fa("<div></div>").append(t).html())):Y?Rb.clone.call(t):t;if(ca)for(var U in ca)W.data("$"+U+"Controller",ca[U].instance);ra.$$addScopeInfo(W,O);Y&&Y(W,O);L&&L(O,W,W,X);Y||(t=L=null);return W}}function va(t,y,I,M,N,L){function aa(ta,sa,Ga,Ha){var xa,la;if(ua){var Z=Array(sa.length);for(xa=0;xa<O.length;xa+=3){var Ja=
O[xa];Z[Ja]=sa[Ja]}}else Z=sa;xa=0;for(la=O.length;xa<la;){var Ka=Z[O[xa++]];sa=O[xa++];Ja=O[xa++];if(sa){if(sa.scope){var Va=ta.$new();ra.$$addScopeInfo(fa(Ka),Va)}else Va=ta;var lb=sa.transcludeOnThisElement?kc(ta,sa.transclude,Ha):!sa.templateOnThisElement&&Ha?Ha:!Ha&&y?kc(ta,y):null;sa(Ja,Va,Ka,Ga,lb)}else Ja&&Ja(ta,Ka.childNodes,void 0,Ha)}}for(var O=[],Y=ma(t)||t instanceof fa,W,X,ca,U,ua,qa=0;qa<t.length;qa++){W=new oa;rb===11&&mb(t,qa,Y);X=Fd(t[qa],[],W,qa===0?M:void 0,N);(L=X.length?Fe(X,
t[qa],W,y,I,null,[],[],L):null)&&L.scope&&ra.$$addScopeClass(W.$$element);W=L&&L.terminal||!(ca=t[qa].childNodes)||!ca.length?null:va(ca,L?(L.transcludeOnThisElement||!L.templateOnThisElement)&&L.transclude:y);if(L||W)O.push(qa,L,W),U=!0,ua=ua||L;L=null}return U?aa:null}function mb(t,y,I){var M=t[y],N=M.parentNode;if(M.nodeType===xb)for(;;){var L=N?M.nextSibling:t[y+1];if(!L||L.nodeType!==xb)break;M.nodeValue+=L.nodeValue;L.parentNode&&L.parentNode.removeChild(L);I&&L===t[y+1]&&t.splice(y+1,1)}}function kc(t,
y,I){function M(aa,O,Y,W,X){aa||(aa=t.$new(!1,X),aa.$$transcluded=!0);return y(aa,O,{parentBoundTranscludeFn:I,transcludeControllers:Y,futureParentElement:W})}var N=M.$$slots=Ea(),L;for(L in y.$$slots)N[L]=y.$$slots[L]?kc(t,y.$$slots[L],I):null;return M}function Fd(t,y,I,M,N){var L=I.$attr;switch(t.nodeType){case 1:var aa=jb(t);Kc(y,nb(aa),"E",M,N);for(var O,Y,W,X,ca=t.attributes,U=0,ua=ca&&ca.length;U<ua;U++){var qa=!1,ta=!1;O=ca[U];Y=O.name;W=O.value;O=nb(Y);(X=Dg.test(O))&&(Y=Y.replace(Ge,"").substr(8).replace(/_(.)/g,
function(sa,Ga){return Ga.toUpperCase()}));(O=O.match(Eg))&&Fg(O[1])&&(qa=Y,ta=Y.substr(0,Y.length-5)+"end",Y=Y.substr(0,Y.length-6));O=nb(Y.toLowerCase());L[O]=Y;if(X||!I.hasOwnProperty(O))I[O]=W,ye(t,O)&&(I[O]=!0);Gg(t,y,W,O,X);Kc(y,O,"A",M,N,qa,ta)}aa==="input"&&t.getAttribute("type")==="hidden"&&t.setAttribute("autocomplete","off");if(!Hg)break;L=t.className;ha(L)&&(L=L.animVal);if(na(L)&&L!=="")for(;t=k.exec(L);)O=nb(t[2]),Kc(y,O,"C",M,N)&&(I[O]=Ca(t[3])),L=L.substr(t.index+t[0].length);break;
case xb:Ig(y,t.nodeValue);break;case 8:Jg&&Kg(t,y,I,M,N)}y.sort(Lg);return y}function Kg(t,y,I,M,N){try{var L=g.exec(t.nodeValue);if(L){var aa=nb(L[1]);Kc(y,aa,"M",M,N)&&(I[aa]=Ca(L[2]))}}catch(O){}}function He(t,y,I){var M=[],N=0;if(y&&t.hasAttribute&&t.hasAttribute(y)){do{if(!t)throw Ia("uterdir",y,I);t.nodeType===1&&(t.hasAttribute(y)&&N++,t.hasAttribute(I)&&N--);M.push(t);t=t.nextSibling}while(N>0)}else M.push(t);return fa(M)}function Ie(t,y,I){return function(M,N,L,aa,O){N=He(N[0],y,I);return t(M,
N,L,aa,O)}}function Gd(t,y,I,M,N,L){var aa;return t?ra(y,I,M,N,L):function(){aa||(aa=ra(y,I,M,N,L),y=I=L=null);return aa.apply(this,arguments)}}function Fe(t,y,I,M,N,L,aa,O,Y){function W(Aa,ya,gb,$a){if(Aa){gb&&(Aa=Ie(Aa,gb,$a));Aa.require=Z.require;Aa.directiveName=Ja;if(qa===Z||Z.$$isolateScope)Aa=Je(Aa,{isolateScope:!0});aa.push(Aa)}if(ya){gb&&(ya=Ie(ya,gb,$a));ya.require=Z.require;ya.directiveName=Ja;if(qa===Z||Z.$$isolateScope)ya=Je(ya,{isolateScope:!0});O.push(ya)}}function X(Aa,ya,gb,$a,Sb){function Mg(La,
Na,Wa,Lc){var Hd;bc(La)||(Lc=Wa,Wa=Na,Na=La,La=void 0);xa&&(Hd=ob);Wa||(Wa=xa?Ra.parent():Ra);if(Lc){var Id=Sb.$$slots[Lc];if(Id)return Id(La,Na,Hd,Wa,Mc);if(V(Id))throw Ia("noslot",Lc,eb(Ra));}else return Sb(La,Na,Hd,Wa,Mc)}var ob;if(y===gb){$a=I;var Ra=I.$$element}else Ra=fa(gb),$a=new oa(Ra,I);var Tb=ya;if(qa)var sb=ya.$new(!0);else U&&(Tb=ya.$parent);if(Sb){var lc=Mg;lc.$$boundTransclude=Sb;lc.isSlotFilled=function(La){return!!Sb.$$slots[La]}}ua&&(ob=Ng(Ra,$a,lc,ua,sb,ya,qa));if(qa){ra.$$addScopeInfo(Ra,
sb,!0,!(ta&&(ta===qa||ta===qa.$$originalDirective)));ra.$$addScopeClass(Ra,!0);sb.$$isolateBindings=qa.$$isolateBindings;var hb=Nc(ya,$a,sb,sb.$$isolateBindings,qa);hb.removeWatches&&sb.$on("$destroy",hb.removeWatches)}for(pb in ob){hb=ua[pb];var Da=ob[pb];var Oc=hb.$$bindings.bindToController;if(C){Da.bindingInfo=Oc?Nc(Tb,$a,Da.instance,Oc,hb):{};var Jd=Da();Jd!==Da.instance&&(Da.instance=Jd,Ra.data("$"+hb.name+"Controller",Jd),Da.bindingInfo.removeWatches&&Da.bindingInfo.removeWatches(),Da.bindingInfo=
Nc(Tb,$a,Da.instance,Oc,hb))}else Da.instance=Da(),Ra.data("$"+hb.name+"Controller",Da.instance),Da.bindingInfo=Nc(Tb,$a,Da.instance,Oc,hb)}J(ua,function(La,Na){var Wa=La.require;La.bindToController&&!ma(Wa)&&ha(Wa)&&Ba(ob[Na].instance,mc(Na,Wa,Ra,ob))});J(ob,function(La){var Na=La.instance;if(da(Na.$onChanges))try{Na.$onChanges(La.bindingInfo.initialChanges)}catch(Wa){B(Wa)}if(da(Na.$onInit))try{Na.$onInit()}catch(Wa){B(Wa)}da(Na.$doCheck)&&(Tb.$watch(function(){Na.$doCheck()}),Na.$doCheck());da(Na.$onDestroy)&&
Tb.$on("$destroy",function(){Na.$onDestroy()})});var pb=0;for(hb=aa.length;pb<hb;pb++)Da=aa[pb],Ke(Da,Da.isolateScope?sb:ya,Ra,$a,Da.require&&mc(Da.directiveName,Da.require,Ra,ob),lc);var Mc=ya;qa&&(qa.template||qa.templateUrl===null)&&(Mc=sb);Aa&&Aa(Mc,gb.childNodes,void 0,Sb);for(pb=O.length-1;pb>=0;pb--)Da=O[pb],Ke(Da,Da.isolateScope?sb:ya,Ra,$a,Da.require&&mc(Da.directiveName,Da.require,Ra,ob),lc);J(ob,function(La){La=La.instance;da(La.$postLink)&&La.$postLink()})}Y=Y||{};for(var ca=-Number.MAX_VALUE,
U=Y.newScopeDirective,ua=Y.controllerDirectives,qa=Y.newIsolateScopeDirective,ta=Y.templateDirective,sa=Y.nonTlbTranscludeDirective,Ga=!1,Ha=!1,xa=Y.hasElementTranscludeDirective,la=I.$$element=fa(y),Z,Ja,Ka,Va=M,lb,yb=!1,Pc=!1,ab,zb=0,Ub=t.length;zb<Ub;zb++){Z=t[zb];var Qc=Z.$$start,Kd=Z.$$end;Qc&&(la=He(y,Qc,Kd));Ka=void 0;if(ca>Z.priority)break;if(ab=Z.scope)Z.templateUrl||(ha(ab)?(Vb("new/isolated scope",qa||U,Z,la),qa=Z):Vb("new/isolated scope",qa,Z,la)),U=U||Z;Ja=Z.name;if(!yb&&(Z.replace&&
(Z.templateUrl||Z.template)||Z.transclude&&!Z.$$tlb)){for(var Rc=zb+1;yb=t[Rc++];)if(yb.transclude&&!yb.$$tlb||yb.replace&&(yb.templateUrl||yb.template)){Pc=!0;break}yb=!0}!Z.templateUrl&&Z.controller&&(ua=ua||Ea(),Vb("'"+Ja+"' controller",ua[Ja],Z,la),ua[Ja]=Z);if(ab=Z.transclude)if(Ga=!0,Z.$$tlb||(Vb("transclusion",sa,Z,la),sa=Z),ab==="element")xa=!0,ca=Z.priority,Ka=la,la=I.$$element=fa(ra.$$createComment(Ja,I[Ja])),y=la[0],Sc(N,ib.call(Ka,0),y),Ka[0].$$parentNode=Ka[0].parentNode,Va=Gd(Pc,Ka,
M,ca,L&&L.name,{nonTlbTranscludeDirective:sa});else{var tb=Ea();if(ha(ab)){Ka=[];var Le=Ea(),Ld=Ea();J(ab,function(Aa,ya){var gb=Aa.charAt(0)==="?";Aa=gb?Aa.substring(1):Aa;Le[Aa]=ya;tb[ya]=null;Ld[ya]=gb});J(la.contents(),function(Aa){var ya=Le[nb(jb(Aa))];ya?(Ld[ya]=!0,tb[ya]=tb[ya]||[],tb[ya].push(Aa)):Ka.push(Aa)});J(Ld,function(Aa,ya){if(!Aa)throw Ia("reqslot",ya);});for(var Md in tb)tb[Md]&&(tb[Md]=Gd(Pc,tb[Md],M))}else Ka=fa(Ad(y)).contents();la.empty();Va=Gd(Pc,Ka,M,void 0,void 0,{needsNewScope:Z.$$isolateScope||
Z.$$newScope});Va.$$slots=tb}if(Z.template)if(Ha=!0,Vb("template",ta,Z,la),ta=Z,ab=da(Z.template)?Z.template(la,I):Z.template,ab=Me(ab),Z.replace){L=Z;Ka=xd.test(ab)?Ne(Fa(v(Ed(Z.templateNamespace,Ca(ab))))):[];y=Ka[0];if(Ka.length!==1||y.nodeType!==1)throw Ia("tplrt",Ja,"");Sc(N,la,y);Ub={$attr:{}};Rc=Fd(y,[],Ub);var Og=t.splice(zb+1,t.length-(zb+1));(qa||U)&&Oe(Rc,qa,U);t=t.concat(Rc).concat(Og);Pe(I,Ub);Ub=t.length}else J(la,function(Aa){Aa.innerHTML=v(ab)});if(Z.templateUrl)Ha=!0,Vb("template",
ta,Z,la),ta=Z,Z.replace&&(L=Z),X=Pg(t.splice(zb,t.length-zb),la,I,N,Ga&&Va,aa,O,{controllerDirectives:ua,newScopeDirective:U!==Z&&U,newIsolateScopeDirective:qa,templateDirective:ta,nonTlbTranscludeDirective:sa}),Ub=t.length;else if(Z.compile)try{lb=Z.compile(la,I,Va);var Nd=Z.$$originalDirective||Z;da(lb)?W(null,Nb(Nd,lb),Qc,Kd):lb&&W(Nb(Nd,lb.pre),Nb(Nd,lb.post),Qc,Kd)}catch(Aa){B(Aa,eb(la))}Z.terminal&&(X.terminal=!0,ca=Math.max(ca,Z.priority))}X.scope=U&&U.scope===!0;X.transcludeOnThisElement=
Ga;X.templateOnThisElement=Ha;X.transclude=Va;Y.hasElementTranscludeDirective=xa;return X}function mc(t,y,I,M){if(na(y)){var N=y.match(l);y=y.substring(N[0].length);var L=N[1]||N[3];N=N[2]==="?";if(L==="^^")I=I.parent();else var aa=(aa=M&&M[y])&&aa.instance;if(!aa){var O="$"+y+"Controller";aa=L?I.inheritedData(O):I.data(O)}if(!aa&&!N)throw Ia("ctreq",y,t);}else if(ma(y))for(aa=[],L=0,N=y.length;L<N;L++)aa[L]=mc(t,y[L],I,M);else ha(y)&&(aa={},J(y,function(Y,W){aa[W]=mc(t,Y,I,M)}));return aa||null}
function Ng(t,y,I,M,N,L,aa){var O=Ea(),Y;for(Y in M){var W=M[Y],X={$scope:W===aa||W.$$isolateScope?N:L,$element:t,$attrs:y,$transclude:I},ca=W.controller;ca==="@"&&(ca=y[W.name]);X=K(ca,X,!0,W.controllerAs);O[W.name]=X;t.data("$"+W.name+"Controller",X.instance)}return O}function Oe(t,y,I){for(var M=0,N=t.length;M<N;M++)t[M]=nd(t[M],{$$isolateScope:y,$$newScope:I})}function Kc(t,y,I,M,N,L,aa){if(y===N)return null;var O=null;if(f.hasOwnProperty(y)){N=u.get(y+"Directive");for(var Y=0,W=N.length;Y<W;Y++)if(y=
N[Y],(V(M)||M>y.priority)&&y.restrict.indexOf(I)!==-1){L&&(y=nd(y,{$$start:L,$$end:aa}));if(!y.$$bindings){var X=O=y,ca=y.name,U={isolateScope:null,bindToController:null};ha(X.scope)&&(X.bindToController===!0?(U.bindToController=d(X.scope,ca,!0),U.isolateScope={}):U.isolateScope=d(X.scope,ca,!1));ha(X.bindToController)&&(U.bindToController=d(X.bindToController,ca,!0));if(U.bindToController&&!X.controller)throw Ia("noctrl",ca);O=O.$$bindings=U;ha(O.isolateScope)&&(y.$$isolateBindings=O.isolateScope)}t.push(y);
O=y}}return O}function Fg(t){if(f.hasOwnProperty(t))for(var y=u.get(t+"Directive"),I=0,M=y.length;I<M;I++)if(t=y[I],t.multiElement)return!0;return!1}function Pe(t,y){var I=y.$attr,M=t.$attr;J(t,function(N,L){L.charAt(0)!=="$"&&(y[L]&&y[L]!==N&&(N=N.length?N+((L==="style"?";":" ")+y[L]):y[L]),t.$set(L,N,!0,I[L]))});J(y,function(N,L){t.hasOwnProperty(L)||L.charAt(0)==="$"||(t[L]=N,L!=="class"&&L!=="style"&&(M[L]=I[L]))})}function Pg(t,y,I,M,N,L,aa,O){var Y=[],W,X,ca=y[0],U=t.shift(),ua=nd(U,{templateUrl:null,
transclude:null,replace:null,$$originalDirective:U}),qa=da(U.templateUrl)?U.templateUrl(y,I):U.templateUrl,ta=U.templateNamespace;y.empty();x(qa).then(function(sa){sa=Me(sa);if(U.replace){var Ga=xd.test(sa)?Ne(Fa(v(Ed(ta,Ca(sa))))):[];var Ha=Ga[0];if(Ga.length!==1||Ha.nodeType!==1)throw Ia("tplrt",U.name,qa);Ga={$attr:{}};Sc(M,y,Ha);var xa=Fd(Ha,[],Ga);ha(U.scope)&&Oe(xa,!0);t=xa.concat(t);Pe(I,Ga)}else Ha=ca,J(y,function(Va){Va.innerHTML=v(sa)});t.unshift(ua);W=Fe(t,Ha,I,N,y,U,L,aa,O);J(M,function(Va,
lb){Va===Ha&&(M[lb]=y[0])});for(X=va(y[0].childNodes,N);Y.length;){Ga=Y.shift();var la=Y.shift();var Z=Y.shift(),Ja=Y.shift();xa=y[0];if(!Ga.$$destroyed){if(la!==ca){var Ka=la.className;O.hasElementTranscludeDirective&&U.replace||(xa=Ad(Ha));Sc(Z,fa(la),xa);ja(fa(xa),Ka)}la=W.transcludeOnThisElement?kc(Ga,W.transclude,Ja):Ja;W(X,Ga,xa,M,la)}}Y=null}).catch(function(sa){pd(sa)&&B(sa)});return function(sa,Ga,Ha,xa,la){sa=la;Ga.$$destroyed||(Y?Y.push(Ga,Ha,xa,sa):(W.transcludeOnThisElement&&(sa=kc(Ga,
W.transclude,la)),W(X,Ga,Ha,xa,sa)))}}function Lg(t,y){var I=y.priority-t.priority;return I!==0?I:t.name!==y.name?t.name<y.name?-1:1:t.index-y.index}function Vb(t,y,I,M){function N(L){return L?" (module: "+L+")":""}if(y)throw Ia("multidir",y.name,N(y.$$moduleName),I.name,N(I.$$moduleName),t,eb(M));}function Ig(t,y){var I=E(y,!0);I&&t.push({priority:0,compile:function(M){M=M.parent();var N=!!M.length;N&&ra.$$addBindingClass(M);return function(L,aa){var O=aa.parent();N||ra.$$addBindingClass(O);ra.$$addBindingInfo(O,
I.expressions);L.$watch(I,function(Y){aa[0].nodeValue=Y})}}})}function Ed(t,y){t=za(t||"html");switch(t){case "svg":case "math":var I=ea.document.createElement("div");I.innerHTML=v("<"+t+">"+y+"</"+t+">");return I.childNodes[0].childNodes;default:return y}}function Qg(t,y){if(y==="srcdoc")return Q.HTML;t=jb(t);if(y==="src"||y==="ngSrc"){if(["img","video","audio","source","track"].indexOf(t)===-1)return Q.RESOURCE_URL}else if(y==="xlinkHref"||t==="form"&&y==="action"||t==="link"&&y==="href")return Q.RESOURCE_URL}
function Gg(t,y,I,M,N){var L=Qg(t,M),aa=h[M]||N,O=E(I,!N,L,aa);if(O){if(M==="multiple"&&jb(t)==="select")throw Ia("selmulti",eb(t));if(M==="ngInit")throw Ia("nonginitinterpolations",eb(t));if(w.test(M))throw Ia("nodomevents");y.push({priority:100,compile:function(){return{pre:function(Y,W,X){W=X.$$observers||(X.$$observers=Ea());var ca=X[M];ca!==I&&(O=ca&&E(ca,!0,L,aa),I=ca);O&&(X[M]=O(Y),(W[M]||(W[M]=[])).$$inter=!0,(X.$$observers&&X.$$observers[M].$$scope||Y).$watch(O,function(U,ua){M==="class"&&
U!==ua?X.$updateClass(U,ua):X.$set(M,U)}))}}}})}}function Sc(t,y,I){var M=y[0],N=y.length,L=M.parentNode,aa;if(t){var O=0;for(aa=t.length;O<aa;O++)if(t[O]===M){t[O++]=I;aa=O+N-1;for(var Y=t.length;O<Y;O++,aa++)aa<Y?t[O]=t[aa]:delete t[O];t.length-=N-1;t.context===M&&(t.context=I);break}}L&&L.replaceChild(I,M);t=ea.document.createDocumentFragment();for(O=0;O<N;O++)t.appendChild(y[O]);fa.hasData(M)&&(fa.data(I,fa.data(M)),fa(M).off("$destroy"));fa.cleanData(t.querySelectorAll("*"));for(O=1;O<N;O++)delete y[O];
y[0]=I;y.length=1}function Je(t,y){return Ba(function(){return t.apply(null,arguments)},t,y)}function Ke(t,y,I,M,N,L){try{t(y,I,M,N,L)}catch(aa){B(aa,eb(I))}}function Tc(t,y){if(D)throw Ia("missingattr",t,y);}function Nc(t,y,I,M,N){function L(X,ca,U){da(I.$onChanges)&&!qd(ca,U)&&(Hb||(t.$$postDigest(ia),Hb=[]),W||(W={},Hb.push(aa)),W[X]&&(U=W[X].previousValue),W[X]=new Uc(U,ca))}function aa(){I.$onChanges(W);W=void 0}var O=[],Y={},W;J(M,function(X,ca){var U=X.attrName,ua=X.optional;switch(X.mode){case "@":ua||
bb.call(y,U)||(Tc(U,N.name),I[ca]=y[U]=void 0);X=y.$observe(U,function(la){if(na(la)||wb(la))L(ca,la,I[ca]),I[ca]=la});y.$$observers[U].$$scope=t;var qa=y[U];na(qa)?I[ca]=E(qa)(t):wb(qa)&&(I[ca]=qa);Y[ca]=new Uc(Od,I[ca]);O.push(X);break;case "=":if(!bb.call(y,U)){if(ua)break;Tc(U,N.name);y[U]=void 0}if(ua&&!y[U])break;var ta=G(y[U]);var sa=ta.literal?db:qd;var Ga=ta.assign||function(){qa=I[ca]=ta(t);throw Ia("nonassign",y[U],U,N.name);};qa=I[ca]=ta(t);ua=function(la){sa(la,I[ca])||(sa(la,qa)?Ga(t,
la=I[ca]):I[ca]=la);return qa=la};ua.$stateful=!0;X=X.collection?t.$watchCollection(y[U],ua):t.$watch(G(y[U],ua),null,ta.literal);O.push(X);break;case "<":if(!bb.call(y,U)){if(ua)break;Tc(U,N.name);y[U]=void 0}if(ua&&!y[U])break;ta=G(y[U]);var Ha=ta.literal,xa=I[ca]=ta(t);Y[ca]=new Uc(Od,I[ca]);X=t.$watch(ta,function(la,Z){if(Z===la){if(Z===xa||Ha&&db(Z,xa))return;Z=xa}L(ca,la,Z);I[ca]=la},Ha);O.push(X);break;case "&":ua||bb.call(y,U)||Tc(U,N.name),ta=y.hasOwnProperty(U)?G(y[U]):ka,ta===ka&&ua||(I[ca]=
function(la){return ta(t,la)})}});return{initialChanges:Y,removeWatches:O.length&&function(){for(var X=0,ca=O.length;X<ca;++X)O[X]()}}}var Rg=/^\w/,Ee=ea.document.createElement("div"),Jg=z,Hg=r,De=A,Hb;oa.prototype={$normalize:nb,$addClass:function(t){t&&t.length>0&&T.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&T.removeClass(this.$$element,t)},$updateClass:function(t,y){var I=Qe(t,y);I&&I.length&&T.addClass(this.$$element,I);(t=Qe(y,t))&&t.length&&T.removeClass(this.$$element,
t)},$set:function(t,y,I,M){var N=ye(this.$$element[0],t),L=Re[t],aa=t;N?(this.$$element.prop(t,y),M=N):L&&(this[L]=y,aa=L);this[t]=y;M?this.$attr[t]=M:(M=this.$attr[t])||(this.$attr[t]=M=re(t,"-"));N=jb(this.$$element);if(N==="a"&&(t==="href"||t==="xlinkHref")||N==="img"&&t==="src")this[t]=y=y==null?y:ba(y,t==="src");else if(N==="img"&&t==="srcset"&&S(y)){N="";L=Ca(y);var O=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/;O=/\s/.test(L)?O:/(,)/;L=L.split(O);O=Math.floor(L.length/2);for(var Y=0;Y<O;Y++){var W=
Y*2;N+=ba(Ca(L[W]),!0);N+=" "+Ca(L[W+1])}L=Ca(L[Y*2]).split(/\s/);N+=ba(Ca(L[0]),!0);L.length===2&&(N+=" "+Ca(L[1]));this[t]=y=N}I!==!1&&(y==null?this.$$element.removeAttr(M):Rg.test(M)?this.$$element.attr(M,y):pa(this.$$element[0],M,y));(t=this.$$observers)&&J(t[aa],function(X){try{X(y)}catch(ca){B(ca)}})},$observe:function(t,y){var I=this,M=I.$$observers||(I.$$observers=Ea()),N=M[t]||(M[t]=[]);N.push(y);P.$evalAsync(function(){N.$$inter||!I.hasOwnProperty(t)||V(I[t])||y(I[t])});return function(){cc(N,
y)}}};var Se=E.startSymbol(),Te=E.endSymbol(),Me=Se==="{{"&&Te==="}}"?Mb:function(t){return t.replace(/\{\{/g,Se).replace(/}}/g,Te)},Dg=/^ngAttr[A-Z]/,Eg=/^(.+)Start$/;ra.$$addBindingInfo=F?function(t,y){var I=t.data("$binding")||[];ma(y)?I=I.concat(y):I.push(y);t.data("$binding",I)}:ka;ra.$$addBindingClass=F?function(t){ja(t,"ng-binding")}:ka;ra.$$addScopeInfo=F?function(t,y,I,M){t.data(I?M?"$isolateScopeNoTemplate":"$isolateScope":"$scope",y)}:ka;ra.$$addScopeClass=F?function(t,y){ja(t,y?"ng-isolate-scope":
"ng-scope")}:ka;ra.$$createComment=function(t,y){var I="";F&&(I=" "+(t||"")+": ",y&&(I+=y+" "));return ea.document.createComment(I)};return ra}]}function Uc(a,b){this.previousValue=a;this.currentValue=b}function nb(a){return a.replace(Ge,"").replace(Sg,function(b,d,c){return c?d.toUpperCase():d})}function Qe(a,b){var d="";a=a.split(/\s+/);b=b.split(/\s+/);var c=0;a:for(;c<a.length;c++){for(var e=a[c],f=0;f<b.length;f++)if(e===b[f])continue a;d+=(d.length>0?" ":"")+e}return d}function Ne(a){a=fa(a);
var b=a.length;if(b<=1)return a;for(;b--;){var d=a[b];(d.nodeType===8||d.nodeType===xb&&d.nodeValue.trim()==="")&&Tg.call(a,b,1)}return a}function Cg(a,b){if(b&&na(b))return b;if(na(a)&&(a=Ue.exec(a)))return a[3]}function Ug(){var a={},b=!1;this.has=function(d){return a.hasOwnProperty(d)};this.register=function(d,c){Pb(d,"controller");ha(d)?Ba(a,d):a[d]=c};this.allowGlobals=function(){b=!0};this.$get=["$injector","$window",function(d,c){function e(f,g,k,h){if(!f||!ha(f.$scope))throw wa("$controller")("noscp",
h,g);f.$scope[g]=k}return function(f,g,k,h){var l;k=k===!0;h&&na(h)&&(l=h);if(na(f)){h=f.match(Ue);if(!h)throw Ve("ctrlfmt",f);var n=h[1];l=l||h[3];f=a.hasOwnProperty(n)?a[n]:se(g.$scope,n,!0)||(b?se(c,n,!0):void 0);if(!f)throw Ve("ctrlreg",n);wc(f,n,!0)}if(k){k=(ma(f)?f[f.length-1]:f).prototype;var p=Object.create(k||null);l&&e(g,l,p,n||f.name);return Ba(function(){var v=d.invoke(f,p,g,n);v!==p&&(ha(v)||da(v))&&(p=v,l&&e(g,l,p,n||f.name));return p},{instance:p,identifier:l})}p=d.instantiate(f,g,
n);l&&e(g,l,p,n||f.name);return p}}]}function Vg(){this.$get=["$window",function(a){return fa(a.document)}]}function Wg(){this.$get=["$document","$rootScope",function(a,b){function d(){e=c.hidden}var c=a[0],e=c&&c.hidden;a.on("visibilitychange",d);b.$on("$destroy",function(){a.off("visibilitychange",d)});return function(){return e}}]}function Xg(){this.$get=["$log",function(a){return function(b,d){a.error.apply(a,arguments)}}]}function Pd(a){return ha(a)?Xa(a)?a.toISOString():ec(a):a}function Yg(){this.$get=
function(){return function(a){if(!a)return"";var b=[];ke(a,function(d,c){d===null||V(d)||da(d)||(ma(d)?J(d,function(e){b.push(Za(c)+"="+Za(Pd(e)))}):b.push(Za(c)+"="+Za(Pd(d))))});return b.join("&")}}}function Zg(){this.$get=function(){return function(a){function b(c,e,f){c===null||V(c)||(ma(c)?J(c,function(g,k){b(g,e+"["+(ha(g)?k:"")+"]")}):ha(c)&&!Xa(c)?ke(c,function(g,k){b(g,e+(f?"":"[")+k+(f?"":"]"))}):d.push(Za(e)+"="+Za(Pd(c))))}if(!a)return"";var d=[];b(a,"",!0);return d.join("&")}}}function Qd(a,
b){if(na(a)){var d=a.replace($g,"").trim();if(d){b=(b=b("Content-Type"))&&b.indexOf(We)===0;var c;(c=b)||(c=(c=d.match(ah))&&bh[c[0]].test(d));if(c)try{a=ne(d)}catch(e){if(!b)return a;throw Vc("baddata",a,e);}}}return a}function Xe(a){var b=Ea(),d;na(a)?J(a.split("\n"),function(c){d=c.indexOf(":");var e=za(Ca(c.substr(0,d)));c=Ca(c.substr(d+1));e&&(b[e]=b[e]?b[e]+", "+c:c)}):ha(a)&&J(a,function(c,e){e=za(e);c=Ca(c);e&&(b[e]=b[e]?b[e]+", "+c:c)});return b}function Ye(a){var b;return function(d){b||
(b=Xe(a));return d?(d=b[za(d)],d===void 0&&(d=null),d):b}}function Ze(a,b,d,c){if(da(c))return c(a,b,d);J(c,function(e){a=e(a,b,d)});return a}function ch(){var a=this.defaults={transformResponse:[Qd],transformRequest:[function(e){return ha(e)&&Sa.call(e)!=="[object File]"&&Sa.call(e)!=="[object Blob]"&&Sa.call(e)!=="[object FormData]"?ec(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:kb(Rd),put:kb(Rd),patch:kb(Rd)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",
paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},b=!1;this.useApplyAsync=function(e){return S(e)?(b=!!e,this):b};var d=this.interceptors=[],c=this.xsrfWhitelistedOrigins=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(e,f,g,k,h,l,n,p){function v(z){function r(x,G){for(var K=0,P=G.length;K<P;){var Q=G[K++],T=G[K++];x=x.then(Q,T)}G.length=0;return x}function q(x,G){var K,P={};J(x,function(Q,T){da(Q)?(K=Q(G),
K!=null&&(P[T]=K)):P[T]=Q});return P}function m(x){var G=Ba({},x);G.data=Ze(x.data,x.headers,x.status,u.transformResponse);x=x.status;return 200<=x&&x<300?G:l.reject(G)}if(!ha(z))throw wa("$http")("badreq",z);if(!na(p.valueOf(z.url)))throw wa("$http")("badreq",z.url);var u=Ba({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer,jsonpCallbackParam:a.jsonpCallbackParam},z);u.headers=function(x){var G=a.headers,K=Ba({},x.headers),P,
Q;G=Ba({},G.common,G[za(x.method)]);a:for(P in G){var T=za(P);for(Q in K)if(za(Q)===T)continue a;K[P]=G[P]}return q(K,kb(x))}(z);u.method=Wc(u.method);u.paramSerializer=na(u.paramSerializer)?n.get(u.paramSerializer):u.paramSerializer;e.$$incOutstandingRequestCount();var E=[],B=[];z=l.resolve(u);J(D,function(x){(x.request||x.requestError)&&E.unshift(x.request,x.requestError);(x.response||x.responseError)&&B.push(x.response,x.responseError)});z=r(z,E);z=z.then(function(x){var G=x.headers,K=Ze(x.data,
Ye(G),void 0,x.transformRequest);V(K)&&J(G,function(P,Q){za(Q)==="content-type"&&delete G[Q]});V(x.withCredentials)&&!V(a.withCredentials)&&(x.withCredentials=a.withCredentials);return w(x,K).then(m,m)});z=r(z,B);return z=z.finally(function(){e.$$completeOutstandingRequest(ka)})}function w(z,r){function q(ia){if(ia){var oa={};J(ia,function(pa,ja){oa[ja]=function(ra){function va(){pa(ra)}b?h.$applyAsync(va):h.$$phase?va():h.$apply(va)}});return oa}}function m(ia,oa,pa,ja,ra){function va(){u(oa,ia,
pa,ja,ra)}K&&(200<=ia&&ia<300?K.put(T,[ia,oa,Xe(pa),ja,ra]):K.remove(T));b?h.$applyAsync(va):(va(),h.$$phase||h.$apply())}function u(ia,oa,pa,ja,ra){oa=oa>=-1?oa:0;(200<=oa&&oa<300?x.resolve:x.reject)({data:ia,status:oa,headers:Ye(pa),config:z,statusText:ja,xhrStatus:ra})}function E(ia){u(ia.data,ia.status,kb(ia.headers()),ia.statusText,ia.xhrStatus)}function B(){var ia=v.pendingRequests.indexOf(z);ia!==-1&&v.pendingRequests.splice(ia,1)}var x=l.defer(),G=x.promise,K,P=z.headers,Q=za(z.method)===
"jsonp",T=z.url;Q?T=p.getTrustedResourceUrl(T):na(T)||(T=p.valueOf(T));T=H(T,z.paramSerializer(z.params));Q&&(T=F(T,z.jsonpCallbackParam));v.pendingRequests.push(z);G.then(B,B);!z.cache&&!a.cache||z.cache===!1||z.method!=="GET"&&z.method!=="JSONP"||(K=ha(z.cache)?z.cache:ha(a.cache)?a.cache:C);if(K){var ba=K.get(T);S(ba)?ba&&da(ba.then)?ba.then(E,E):ma(ba)?u(ba[1],ba[0],kb(ba[2]),ba[3],ba[4]):u(ba,200,{},"OK","complete"):K.put(T,G)}V(ba)&&((ba=A(z.url)?g()[z.xsrfCookieName||a.xsrfCookieName]:void 0)&&
(P[z.xsrfHeaderName||a.xsrfHeaderName]=ba),f(z.method,T,r,m,P,z.timeout,z.withCredentials,z.responseType,q(z.eventHandlers),q(z.uploadEventHandlers)));return G}function H(z,r){r.length>0&&(z+=(z.indexOf("?")===-1?"?":"&")+r);return z}function F(z,r){var q=z.split("?");if(q.length>2)throw Vc("badjsonp",z);q=td(q[1]);J(q,function(m,u){if(m==="JSON_CALLBACK")throw Vc("badjsonp",z);if(u===r)throw Vc("badjsonp",r,z);});return z+=(z.indexOf("?")===-1?"?":"&")+r+"=JSON_CALLBACK"}var C=k("$http");a.paramSerializer=
na(a.paramSerializer)?n.get(a.paramSerializer):a.paramSerializer;var D=[];J(d,function(z){D.unshift(na(z)?n.get(z):n.invoke(z))});var A=dh(c);v.pendingRequests=[];(function(z){J(arguments,function(r){v[r]=function(q,m){return v(Ba({},m||{},{method:r,url:q}))}})})("get","delete","head","jsonp");(function(z){J(arguments,function(r){v[r]=function(q,m,u){return v(Ba({},u||{},{method:r,url:q,data:m}))}})})("post","put","patch");v.defaults=a;return v}]}function eh(){this.$get=function(){return function(){return new ea.XMLHttpRequest}}}
function fh(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(a,b,d,c){return gh(a,c,a.defer,b,d[0])}]}function gh(a,b,d,c,e){function f(g,k,h){g=g.replace("JSON_CALLBACK",k);var l=e.createElement("script"),n=null;l.type="text/javascript";l.src=g;l.async=!0;n=function(p){l.removeEventListener("load",n);l.removeEventListener("error",n);e.body.removeChild(l);l=null;var v=-1,w="unknown";p&&(p.type!=="load"||c.wasCalled(k)||(p={type:"error"}),w=p.type,v=p.type==="error"?404:
200);h&&h(v,w)};l.addEventListener("load",n);l.addEventListener("error",n);e.body.appendChild(l);return n}return function(g,k,h,l,n,p,v,w,H,F){function C(u){q=u==="timeout";z&&z();r&&r.abort()}function D(u,E,B,x,G,K){S(m)&&d.cancel(m);z=r=null;u(E,B,x,G,K)}k=k||a.url();if(za(g)==="jsonp")var A=c.createCallback(k),z=f(k,A,function(u,E){var B=u===200&&c.getResponse(A);D(l,u,B,"",E,"complete");c.removeCallback(A)});else{var r=b(g,k),q=!1;r.open(g,k,!0);J(n,function(u,E){S(u)&&r.setRequestHeader(E,u)});
r.onload=function(){var u=r.statusText||"",E="response"in r?r.response:r.responseText,B=r.status===1223?204:r.status;B===0&&(B=E?200:qb(k).protocol==="file"?404:0);D(l,B,E,r.getAllResponseHeaders(),u,"complete")};r.onerror=function(){D(l,-1,null,null,"","error")};r.ontimeout=function(){D(l,-1,null,null,"","timeout")};r.onabort=function(){D(l,-1,null,null,"",q?"timeout":"abort")};J(H,function(u,E){r.addEventListener(E,u)});J(F,function(u,E){r.upload.addEventListener(E,u)});v&&(r.withCredentials=!0);
if(w)try{r.responseType=w}catch(u){if(w!=="json")throw u;}r.send(V(h)?null:h)}if(p>0)var m=d(function(){C("timeout")},p);else p&&da(p.then)&&p.then(function(){C(S(p.$$timeoutId)?"timeout":"abort")})}}function hh(){var a="{{",b="}}";this.startSymbol=function(d){return d?(a=d,this):a};this.endSymbol=function(d){return d?(b=d,this):b};this.$get=["$parse","$exceptionHandler","$sce",function(d,c,e){function f(w){return"\\\\\\"+w}function g(w){return w.replace(p,a).replace(v,b)}function k(w,H,F,C){var D=
w.$watch(function(A){D();return C(A)},H,F);return D}function h(w,H,F,C){function D(G){try{var K=G;G=F?e.getTrusted(F,K):e.valueOf(K);return C&&!S(G)?G:vd(G)}catch(P){c(Ib.interr(w,P))}}if(!w.length||w.indexOf(a)===-1){if(!H){H=g(w);var A=cb(H);A.exp=w;A.expressions=[];A.$$watchDelegate=k}return A}C=!!C;var z,r,q=0,m=[],u=[];A=w.length;for(var E=[],B=[];q<A;)if((z=w.indexOf(a,q))!==-1&&(r=w.indexOf(b,z+l))!==-1)q!==z&&E.push(g(w.substring(q,z))),q=w.substring(z+l,r),m.push(q),u.push(d(q,D)),q=r+n,
B.push(E.length),E.push("");else{q!==A&&E.push(g(w.substring(q)));break}F&&E.length>1&&Ib.throwNoconcat(w);if(!H||m.length){var x=function(G){for(var K=0,P=m.length;K<P;K++){if(C&&V(G[K]))return;E[B[K]]=G[K]}return E.join("")};return Ba(function(G){var K=0,P=m.length,Q=Array(P);try{for(;K<P;K++)Q[K]=u[K](G);return x(Q)}catch(T){c(Ib.interr(w,T))}},{exp:w,expressions:m,$$watchDelegate:function(G,K){var P;return G.$watchGroup(u,function(Q,T){var ba=x(Q);K.call(this,ba,Q!==T?P:ba,G);P=ba})}})}}var l=
a.length,n=b.length,p=new RegExp(a.replace(/./g,f),"g"),v=new RegExp(b.replace(/./g,f),"g");h.startSymbol=function(){return a};h.endSymbol=function(){return b};return h}]}function ih(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(a,b,d,c,e){function f(k,h,l,n){function p(){v?k.apply(null,w):k(C)}var v=arguments.length>4,w=v?ib.call(arguments,4):[],H=b.setInterval,F=b.clearInterval,C=0,D=S(n)&&!n,A=(D?c:d).defer(),z=A.promise;l=S(l)?l:0;z.$$intervalId=H(function(){D?e.defer(p):
a.$evalAsync(p);A.notify(C++);l>0&&C>=l&&(A.resolve(C),F(z.$$intervalId),delete g[z.$$intervalId]);D||a.$apply()},h);g[z.$$intervalId]=A;return z}var g={};f.cancel=function(k){return k&&k.$$intervalId in g?(g[k.$$intervalId].promise.$$state.pur=!0,g[k.$$intervalId].reject("canceled"),b.clearInterval(k.$$intervalId),delete g[k.$$intervalId],!0):!1};return f}]}function Sd(a){a=a.split("/");for(var b=a.length;b--;)a[b]=fc(a[b].replace(/%2F/g,"/"));return a.join("/")}function $e(a,b){a=qb(a);b.$$protocol=
a.protocol;b.$$host=a.hostname;b.$$port=parseInt(a.port,10)||jh[a.protocol]||null}function af(a,b,d){if(kh.test(a))throw nc("badpath",a);var c=a.charAt(0)!=="/";c&&(a="/"+a);a=qb(a);c=(c&&a.pathname.charAt(0)==="/"?a.pathname.substring(1):a.pathname).split("/");for(var e=c.length;e--;)c[e]=decodeURIComponent(c[e]),d&&(c[e]=c[e].replace(/\//g,"%2F"));d=c.join("/");b.$$path=d;b.$$search=td(a.search);b.$$hash=decodeURIComponent(a.hash);b.$$path&&b.$$path.charAt(0)!=="/"&&(b.$$path="/"+b.$$path)}function Td(a,
b){return a.slice(0,b.length)===b}function ub(a,b){if(Td(b,a))return b.substr(a.length)}function Gb(a){var b=a.indexOf("#");return b===-1?a:a.substr(0,b)}function oc(a){return a.replace(/(#.+)|#$/,"$1")}function Ud(a,b,d){this.$$html5=!0;d=d||"";$e(a,this);this.$$parse=function(c){var e=ub(b,c);if(!na(e))throw nc("ipthprfx",c,b);af(e,this,!0);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var c=ud(this.$$search),e=this.$$hash?"#"+fc(this.$$hash):"";this.$$url=Sd(this.$$path)+
(c?"?"+c:"")+e;this.$$absUrl=b+this.$$url.substr(1);this.$$urlUpdatedByLocation=!0};this.$$parseLinkUrl=function(c,e){if(e&&e[0]==="#")return this.hash(e.slice(1)),!0;if(S(e=ub(a,c))){c=e;var f=d&&S(e=ub(d,e))?b+(ub("/",e)||e):a+c}else S(e=ub(b,c))?f=b+e:b===c+"/"&&(f=b);f&&this.$$parse(f);return!!f}}function Vd(a,b,d){$e(a,this);this.$$parse=function(c){var e=ub(a,c)||ub(b,c);if(V(e)||e.charAt(0)!=="#")if(this.$$html5)var f=e;else f="",V(e)&&(a=c,this.replace());else f=ub(d,e),V(f)&&(f=e);af(f,this,
!1);c=this.$$path;e=a;var g=/^\/[A-Z]:(\/.*)/;Td(f,e)&&(f=f.replace(e,""));g.exec(f)||(c=(f=g.exec(c))?f[1]:c);this.$$path=c;this.$$compose()};this.$$compose=function(){var c=ud(this.$$search),e=this.$$hash?"#"+fc(this.$$hash):"";this.$$url=Sd(this.$$path)+(c?"?"+c:"")+e;this.$$absUrl=a+(this.$$url?d+this.$$url:"");this.$$urlUpdatedByLocation=!0};this.$$parseLinkUrl=function(c,e){return Gb(a)===Gb(c)?(this.$$parse(c),!0):!1}}function bf(a,b,d){this.$$html5=!0;Vd.apply(this,arguments);this.$$parseLinkUrl=
function(c,e){if(e&&e[0]==="#")return this.hash(e.slice(1)),!0;var f,g;a===Gb(c)?f=c:(g=ub(b,c))?f=a+d+g:b===c+"/"&&(f=b);f&&this.$$parse(f);return!!f};this.$$compose=function(){var c=ud(this.$$search),e=this.$$hash?"#"+fc(this.$$hash):"";this.$$url=Sd(this.$$path)+(c?"?"+c:"")+e;this.$$absUrl=a+d+this.$$url;this.$$urlUpdatedByLocation=!0}}function Xc(a){return function(){return this[a]}}function cf(a,b){return function(d){if(V(d))return this[a];this[a]=b(d);this.$$compose();return this}}function lh(){var a=
"!",b={enabled:!1,requireBase:!0,rewriteLinks:!0},d=function(c,e,f){return c!==e};this.hashPrefix=function(c){return S(c)?(a=c,this):a};this.html5Mode=function(c){if(wb(c))return b.enabled=c,this;if(ha(c)){wb(c.enabled)&&(b.enabled=c.enabled);wb(c.requireBase)&&(b.requireBase=c.requireBase);if(wb(c.rewriteLinks)||na(c.rewriteLinks))b.rewriteLinks=c.rewriteLinks;return this}return b};this.compareUrls=function(c){return S(c)?(d=c,this):d};this.$get=["$rootScope","$browser","$sniffer","$rootElement",
"$window",function(c,e,f,g,k){function h(A,z,r){var q=F.url(),m=F.$$state;try{e.url(A,z,r),F.$$state=e.state()}catch(u){throw F.url(q),F.$$state=m,u;}}function l(A,z){c.$broadcast("$locationChangeSuccess",F.absUrl(),A,F.$$state,z)}var n=e.baseHref(),p=e.url();if(b.enabled){if(!n&&b.requireBase)throw nc("nobase");var v=p.substring(0,p.indexOf("/",p.indexOf("//")+2))+(n||"/");var w=f.history?Ud:bf}else v=Gb(p),w=Vd;var H=v.substr(0,Gb(v).lastIndexOf("/")+1);var F=new w(v,H,"#"+a);F.$$parseLinkUrl(p,
p);F.$$state=e.state();var C=/^\s*(javascript|mailto):/i;g.on("click",function(A){var z=b.rewriteLinks;if(z&&!A.ctrlKey&&!A.metaKey&&!A.shiftKey&&A.which!==2&&A.button!==2){for(var r=fa(A.target);jb(r[0])!=="a";)if(r[0]===g[0]||!(r=r.parent())[0])return;if(!na(z)||!V(r.attr(z))){z=r.prop("href");var q=r.attr("href")||r.attr("xlink:href");ha(z)&&z.toString()==="[object SVGAnimatedString]"&&(z=qb(z.animVal).href);C.test(z)||!z||r.attr("target")||A.isDefaultPrevented()||!F.$$parseLinkUrl(z,q)||(A.preventDefault(),
F.absUrl()!==e.url()&&(c.$apply(),k.angular["ff-684208-preventDefault"]=!0))}}});oc(F.absUrl())!==oc(p)&&e.url(F.absUrl(),!0);var D=!0;e.onUrlChange(function(A,z){Td(A,H)?(c.$evalAsync(function(){var r=F.absUrl(),q=F.$$state;A=oc(A);F.$$parse(A);F.$$state=z;var m=c.$broadcast("$locationChangeStart",A,r,z,q).defaultPrevented;F.absUrl()===A&&(m?(F.$$parse(r),F.$$state=q,h(r,!1,q)):(D=!1,l(r,q)))}),c.$$phase||c.$digest()):k.location.href=A});c.$watch(function(){if(D||F.$$urlUpdatedByLocation){F.$$urlUpdatedByLocation=
!1;var A=oc(e.url()),z=oc(F.absUrl()),r=e.state(),q=F.$$replace,m=d(A,z,function(){return new w(v,H,"#"+a)}),u=F.$$html5&&f.history&&r!==F.$$state,E=A!==z||u;if(D||E)D=!1,c.$evalAsync(function(){var B=F.absUrl(),x=c.$broadcast("$locationChangeStart",B,A,F.$$state,r).defaultPrevented;F.absUrl()===B&&(x?(F.$$parse(A),F.$$state=r):((D||E&&m)&&h(B,q,r===F.$$state?null:F.$$state),l(A,r)))})}F.$$replace=!1});return F}]}function mh(){var a=!0,b=this;this.debugEnabled=function(d){return S(d)?(a=d,this):a};
this.$get=["$window",function(d){function c(f){var g=d.console||{},k=g[f]||g.log||ka;return function(){var h=[];J(arguments,function(l){var n=h.push;pd(l)&&(l.stack&&e?l=l.message&&l.stack.indexOf(l.message)===-1?"Error: "+l.message+"\n"+l.stack:l.stack:l.sourceURL&&(l=l.message+"\n"+l.sourceURL+":"+l.line));n.call(h,l)});return Function.prototype.apply.call(k,g,h)}}var e=rb||/\bEdge\//.test(d.navigator&&d.navigator.userAgent);return{log:c("log"),info:c("info"),warn:c("warn"),error:c("error"),debug:function(){var f=
c("debug");return function(){a&&f.apply(b,arguments)}}()}}]}function nh(a,b){switch(a.type){case R.MemberExpression:if(a.computed)return!1;break;case R.UnaryExpression:return 1;case R.BinaryExpression:return a.operator!=="+"?1:!1;case R.CallExpression:return!1}return void 0===b?df:b}function Ma(a,b,d){var c=a.isPure=nh(a,d);switch(a.type){case R.Program:var e=!0;J(a.body,function(g){Ma(g.expression,b,c);e=e&&g.expression.constant});a.constant=e;break;case R.Literal:a.constant=!0;a.toWatch=[];break;
case R.UnaryExpression:Ma(a.argument,b,c);a.constant=a.argument.constant;a.toWatch=a.argument.toWatch;break;case R.BinaryExpression:Ma(a.left,b,c);Ma(a.right,b,c);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case R.LogicalExpression:Ma(a.left,b,c);Ma(a.right,b,c);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.constant?[]:[a];break;case R.ConditionalExpression:Ma(a.test,b,c);Ma(a.alternate,b,c);Ma(a.consequent,b,c);a.constant=a.test.constant&&
a.alternate.constant&&a.consequent.constant;a.toWatch=a.constant?[]:[a];break;case R.Identifier:a.constant=!1;a.toWatch=[a];break;case R.MemberExpression:Ma(a.object,b,c);a.computed&&Ma(a.property,b,c);a.constant=a.object.constant&&(!a.computed||a.property.constant);a.toWatch=a.constant?[]:[a];break;case R.CallExpression:e=d=a.filter?!b(a.callee.name).$stateful:!1;var f=[];J(a.arguments,function(g){Ma(g,b,c);e=e&&g.constant;f.push.apply(f,g.toWatch)});a.constant=e;a.toWatch=d?f:[a];break;case R.AssignmentExpression:Ma(a.left,
b,c);Ma(a.right,b,c);a.constant=a.left.constant&&a.right.constant;a.toWatch=[a];break;case R.ArrayExpression:e=!0;f=[];J(a.elements,function(g){Ma(g,b,c);e=e&&g.constant;f.push.apply(f,g.toWatch)});a.constant=e;a.toWatch=f;break;case R.ObjectExpression:e=!0;f=[];J(a.properties,function(g){Ma(g.value,b,c);e=e&&g.value.constant;f.push.apply(f,g.value.toWatch);g.computed&&(Ma(g.key,b,!1),e=e&&g.key.constant,f.push.apply(f,g.key.toWatch))});a.constant=e;a.toWatch=f;break;case R.ThisExpression:a.constant=
!1;a.toWatch=[];break;case R.LocalsExpression:a.constant=!1,a.toWatch=[]}}function oh(a){if(a.length===1){a=a[0].expression;var b=a.toWatch;return b.length!==1?b:b[0]!==a?b:void 0}}function ef(a){return a.type===R.Identifier||a.type===R.MemberExpression}function ph(a){if(a.body.length===1&&ef(a.body[0].expression))return{type:R.AssignmentExpression,left:a.body[0].expression,right:{type:R.NGValueParameter},operator:"="}}function ff(a){this.$filter=a}function Yc(a,b,d){this.ast=new R(a,d);this.astCompiler=
new ff(b)}function Wd(a){return da(a.valueOf)?a.valueOf():qh.call(a)}function rh(){var a=Ea(),b={"true":!0,"false":!1,"null":null,undefined:void 0},d,c;this.addLiteral=function(e,f){b[e]=f};this.setIdentifierFns=function(e,f){d=e;c=f;return this};this.$get=["$filter",function(e){function f(w,H){switch(typeof w){case "string":var F=w=w.trim();var C=a[F];C||(C=new Zc(v),C=(new Yc(C,e,v)).parse(w),C.constant?C.$$watchDelegate=n:C.oneTime?C.$$watchDelegate=C.literal?l:h:C.inputs&&(C.$$watchDelegate=k),
a[F]=C);return p(C,H);case "function":return p(w,H);default:return p(ka,H)}}function g(w,H,F){return w==null||H==null?w===H:typeof w!=="object"||(w=Wd(w),typeof w!=="object"||F)?w===H||w!==w&&H!==H:!1}function k(w,H,F,C,D){var A=C.inputs,z;if(A.length===1){var r=g;A=A[0];return w.$watch(function(B){var x=A(B);g(x,r,A.isPure)||(z=C(B,void 0,void 0,[x]),r=x&&Wd(x));return z},H,F,D)}for(var q=[],m=[],u=0,E=A.length;u<E;u++)q[u]=g,m[u]=null;return w.$watch(function(B){for(var x=!1,G=0,K=A.length;G<K;G++){var P=
A[G](B);if(x||(x=!g(P,q[G],A[G].isPure)))m[G]=P,q[G]=P&&Wd(P)}x&&(z=C(B,void 0,void 0,m));return z},H,F,D)}function h(w,H,F,C,D){function A(m){return C(m)}function z(m,u,E){q=m;da(H)&&H(m,u,E);S(m)&&E.$$postDigest(function(){S(q)&&r()})}var r,q;return r=C.inputs?k(w,z,F,C,D):w.$watch(A,z,F)}function l(w,H,F,C){function D(r){var q=!0;J(r,function(m){S(m)||(q=!1)});return q}var A,z;return A=w.$watch(function(r){return C(r)},function(r,q,m){z=r;da(H)&&H(r,q,m);D(r)&&m.$$postDigest(function(){D(z)&&A()})},
F)}function n(w,H,F,C){var D=w.$watch(function(A){D();return C(A)},H,F);return D}function p(w,H){if(!H)return w;var F=w.$$watchDelegate,C=!1,D=F!==l&&F!==h?function(A,z,r,q){r=C&&q?q[0]:w(A,z,r,q);return H(r,A,z)}:function(A,z,r,q){r=w(A,z,r,q);A=H(r,A,z);return S(r)?A:r};C=!w.inputs;F&&F!==k?(D.$$watchDelegate=F,D.inputs=w.inputs):H.$stateful||(D.$$watchDelegate=k,D.inputs=w.inputs?w.inputs:[w]);D.inputs&&(D.inputs=D.inputs.map(function(A){return A.isPure===df?function(z){return A(z)}:A}));return D}
var v={csp:Jb().noUnsafeEval,literals:Bb(b),isIdentifierStart:da(d)&&d,isIdentifierContinue:da(c)&&c};f.$$getAst=function(w){var H=new Zc(v);return(new Yc(H,e,v)).getAst(w).ast};return f}]}function sh(){var a=!0;this.$get=["$rootScope","$exceptionHandler",function(b,d){return gf(function(c){b.$evalAsync(c)},d,a)}];this.errorOnUnhandledRejections=function(b){return S(b)?(a=b,this):a}}function th(){var a=!0;this.$get=["$browser","$exceptionHandler",function(b,d){return gf(function(c){b.defer(c)},d,
a)}];this.errorOnUnhandledRejections=function(b){return S(b)?(a=b,this):a}}function gf(a,b,d){function c(){return new e}function e(){var q=this.promise=new f;this.resolve=function(m){h(q,m)};this.reject=function(m){n(q,m)};this.notify=function(m){v(q,m)}}function f(){this.$$state={status:0}}function g(){for(;!A&&z.length;){var q=z.shift();if(!q.pur){q.pur=!0;var m=q.value;m="Possibly unhandled rejection: "+(typeof m==="function"?m.toString().replace(/ \{[\s\S]*$/,""):V(m)?"undefined":typeof m!=="string"?
fg(m,void 0):m);pd(q.value)?b(q.value,m):b(m)}}}function k(q){!d||q.pending||q.status!==2||q.pur||(A===0&&z.length===0&&a(g),z.push(q));!q.processScheduled&&q.pending&&(q.processScheduled=!0,++A,a(function(){var m=q.pending;q.processScheduled=!1;q.pending=void 0;try{for(var u=0,E=m.length;u<E;++u){q.pur=!0;var B=m[u][0];var x=m[u][q.status];try{da(x)?h(B,x(q.value)):q.status===1?h(B,q.value):n(B,q.value)}catch(G){n(B,G),G&&G.$$passToExceptionHandler===!0&&b(G)}}}finally{--A,d&&A===0&&a(g)}}))}function h(q,
m){q.$$state.status||(m===q?p(q,D("qcycle",m)):l(q,m))}function l(q,m){function u(K){x||(x=!0,l(q,K))}function E(K){x||(x=!0,p(q,K))}function B(K){v(q,K)}var x=!1;try{if(ha(m)||da(m))var G=m.then;da(G)?(q.$$state.status=-1,G.call(m,u,E,B)):(q.$$state.value=m,q.$$state.status=1,k(q.$$state))}catch(K){E(K)}}function n(q,m){q.$$state.status||p(q,m)}function p(q,m){q.$$state.value=m;q.$$state.status=2;k(q.$$state)}function v(q,m){var u=q.$$state.pending;q.$$state.status<=0&&u&&u.length&&a(function(){for(var E,
B,x=0,G=u.length;x<G;x++){B=u[x][0];E=u[x][3];try{v(B,da(E)?E(m):m)}catch(K){b(K)}}})}function w(q){var m=new f;n(m,q);return m}function H(q,m,u){var E=null;try{da(u)&&(E=u())}catch(B){return w(B)}return E&&da(E.then)?E.then(function(){return m(q)},w):m(q)}function F(q,m,u,E){var B=new f;h(B,q);return B.then(m,u,E)}function C(q){if(!da(q))throw D("norslvr",q);var m=new f;q(function(u){h(m,u)},function(u){n(m,u)});return m}var D=wa("$q",TypeError),A=0,z=[];Ba(f.prototype,{then:function(q,m,u){if(V(q)&&
V(m)&&V(u))return this;var E=new f;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([E,q,m,u]);this.$$state.status>0&&k(this.$$state);return E},"catch":function(q){return this.then(null,q)},"finally":function(q,m){return this.then(function(u){return H(u,r,q)},function(u){return H(u,w,q)},m)}});var r=F;C.prototype=f.prototype;C.defer=c;C.reject=w;C.when=F;C.resolve=r;C.all=function(q){var m=new f,u=0,E=ma(q)?[]:{};J(q,function(B,x){u++;F(B).then(function(G){E[x]=G;--u||h(m,E)},
function(G){n(m,G)})});u===0&&h(m,E);return m};C.race=function(q){var m=c();J(q,function(u){F(u).then(m.resolve,m.reject)});return m.promise};return C}function uh(){this.$get=["$window","$timeout",function(a,b){var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame,c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=(a=!!d)?function(f){var g=d(f);return function(){c(g)}}:function(f){var g=b(f,16.66,!1);return function(){b.cancel(g)}};e.supported=a;return e}]}
function vh(){function a(f){function g(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++uc;this.$$ChildScope=null;this.$$suspended=!1}g.prototype=f;return g}var b=10,d=wa("$rootScope"),c=null,e=null;this.digestTtl=function(f){arguments.length&&(b=f);return b};this.$get=["$exceptionHandler","$parse","$browser",function(f,g,k){function h(m){m.currentScope.$$destroyed=!0}function l(m){rb===9&&(m.$$childHead&&
l(m.$$childHead),m.$$nextSibling&&l(m.$$nextSibling));m.$parent=m.$$nextSibling=m.$$prevSibling=m.$$childHead=m.$$childTail=m.$root=m.$$watchers=null}function n(){this.$id=++uc;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$suspended=this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}function p(m){if(D.$$phase)throw d("inprog",D.$$phase);D.$$phase=
m}function v(m,u){do m.$$watchersCount+=u;while(m=m.$parent)}function w(m,u,E){do m.$$listenerCount[E]-=u,m.$$listenerCount[E]===0&&delete m.$$listenerCount[E];while(m=m.$parent)}function H(){}function F(){for(;r.length;)try{r.shift()()}catch(m){f(m)}e=null}function C(){e===null&&(e=k.defer(function(){D.$apply(F)}))}n.prototype={constructor:n,$new:function(m,u){u=u||this;if(m){var E=new n;E.$root=this.$root}else this.$$ChildScope||(this.$$ChildScope=a(this)),E=new this.$$ChildScope;E.$parent=u;E.$$prevSibling=
u.$$childTail;u.$$childHead?(u.$$childTail.$$nextSibling=E,u.$$childTail=E):u.$$childHead=u.$$childTail=E;(m||u!==this)&&E.$on("$destroy",h);return E},$watch:function(m,u,E,B){var x=g(m);u=da(u)?u:ka;if(x.$$watchDelegate)return x.$$watchDelegate(this,u,E,x,m);var G=this,K=G.$$watchers,P={fn:u,last:H,get:x,exp:B||m,eq:!!E};c=null;K||(K=G.$$watchers=[],K.$$digestWatchIndex=-1);K.unshift(P);K.$$digestWatchIndex++;v(this,1);return function(){var Q=cc(K,P);Q>=0&&(v(G,-1),Q<K.$$digestWatchIndex&&K.$$digestWatchIndex--);
c=null}},$watchGroup:function(m,u){function E(){P=!1;Q?(Q=!1,u(x,x,K)):u(x,B,K)}var B=Array(m.length),x=Array(m.length),G=[],K=this,P=!1,Q=!0;if(!m.length){var T=!0;K.$evalAsync(function(){T&&u(x,x,K)});return function(){T=!1}}if(m.length===1)return this.$watch(m[0],function(ba,ia,oa){x[0]=ba;B[0]=ia;u(x,ba===ia?x:B,oa)});J(m,function(ba,ia){ba=K.$watch(ba,function(oa,pa){x[ia]=oa;B[ia]=pa;P||(P=!0,K.$evalAsync(E))});G.push(ba)});return function(){for(;G.length;)G.shift()()}},$watchCollection:function(m,
u){function E(pa){x=pa;var ja;if(!V(x)){if(ha(x))if(vb(x))for(G!==T&&(G=T,oa=G.length=0,Q++),pa=x.length,oa!==pa&&(Q++,G.length=oa=pa),ja=0;ja<pa;ja++){var ra=G[ja];var va=x[ja];var mb=ra!==ra&&va!==va;mb||ra===va||(Q++,G[ja]=va)}else{G!==ba&&(G=ba={},oa=0,Q++);pa=0;for(ja in x)bb.call(x,ja)&&(pa++,va=x[ja],ra=G[ja],ja in G?(mb=ra!==ra&&va!==va,mb||ra===va||(Q++,G[ja]=va)):(oa++,G[ja]=va,Q++));if(oa>pa)for(ja in Q++,G)bb.call(x,ja)||(oa--,delete G[ja])}else G!==x&&(G=x,Q++);return Q}}E.$stateful=
!0;var B=this,x,G,K,P=u.length>1,Q=0;m=g(m,E);var T=[],ba={},ia=!0,oa=0;return this.$watch(m,function(){ia?(ia=!1,u(x,x,B)):u(x,K,B);if(P)if(ha(x))if(vb(x)){K=Array(x.length);for(var pa=0;pa<x.length;pa++)K[pa]=x[pa]}else for(pa in K={},x)bb.call(x,pa)&&(K[pa]=x[pa]);else K=x})},$digest:function(){var m,u,E,B,x=b,G=[];p("$digest");k.$$checkUrlChange();this===D&&e!==null&&(k.defer.cancel(e),F());c=null;do{var K=!1;var P=this;for(B=0;B<A.length;B++){try{var Q=A[B];var T=Q.fn;T(Q.scope,Q.locals)}catch(oa){f(oa)}c=
null}A.length=0;a:do{if(B=!P.$$suspended&&P.$$watchers)for(B.$$digestWatchIndex=B.length;B.$$digestWatchIndex--;)try{if(m=B[B.$$digestWatchIndex]){var ba=m.get;if((u=ba(P))!==(E=m.last)&&!(m.eq?db(u,E):Ta(u)&&Ta(E))){if(K=!0,c=m,m.last=m.eq?Bb(u,null):u,T=m.fn,T(u,E===H?u:E,P),x<5){var ia=4-x;G[ia]||(G[ia]=[]);G[ia].push({msg:da(m.exp)?"fn: "+(m.exp.name||m.exp.toString()):m.exp,newVal:u,oldVal:E})}}else if(m===c){K=!1;break a}}}catch(oa){f(oa)}if(!(B=!P.$$suspended&&P.$$watchersCount&&P.$$childHead||
P!==this&&P.$$nextSibling))for(;P!==this&&!(B=P.$$nextSibling);)P=P.$parent}while(P=B);if((K||A.length)&&!x--)throw D.$$phase=null,d("infdig",b,G);}while(K||A.length);for(D.$$phase=null;q<z.length;)try{z[q++]()}catch(oa){f(oa)}z.length=q=0;k.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var m=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;
this===D&&k.$$applicationDestroyed();v(this,-this.$$watchersCount);for(var u in this.$$listenerCount)w(this,this.$$listenerCount[u],u);m&&m.$$childHead===this&&(m.$$childHead=this.$$nextSibling);m&&m.$$childTail===this&&(m.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=ka;this.$on=this.$watch=this.$watchGroup=
function(){return ka};this.$$listeners={};this.$$nextSibling=null;l(this)}},$eval:function(m,u){return g(m)(this,u)},$evalAsync:function(m,u){D.$$phase||A.length||k.defer(function(){A.length&&D.$digest()});A.push({scope:this,fn:g(m),locals:u})},$$postDigest:function(m){z.push(m)},$apply:function(m){try{p("$apply");try{return this.$eval(m)}finally{D.$$phase=null}}catch(u){f(u)}finally{try{D.$digest()}catch(u){throw f(u),u;}}},$applyAsync:function(m){function u(){E.$eval(m)}var E=this;m&&r.push(u);
m=g(m);C()},$on:function(m,u){var E=this.$$listeners[m];E||(this.$$listeners[m]=E=[]);E.push(u);var B=this;do B.$$listenerCount[m]||(B.$$listenerCount[m]=0),B.$$listenerCount[m]++;while(B=B.$parent);var x=this;return function(){var G=E.indexOf(u);G!==-1&&(delete E[G],w(x,1,m))}},$emit:function(m,u){var E=[],B=this,x=!1,G={name:m,targetScope:B,stopPropagation:function(){x=!0},preventDefault:function(){G.defaultPrevented=!0},defaultPrevented:!1},K=dc([G],arguments,1),P;do{var Q=B.$$listeners[m]||E;
G.currentScope=B;var T=0;for(P=Q.length;T<P;T++)if(Q[T])try{Q[T].apply(null,K)}catch(ba){f(ba)}else Q.splice(T,1),T--,P--;if(x)break;B=B.$parent}while(B);G.currentScope=null;return G},$broadcast:function(m,u){var E=this,B=this,x={name:m,targetScope:this,preventDefault:function(){x.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[m])return x;for(var G=dc([x],arguments,1),K,P;E=B;){x.currentScope=E;B=E.$$listeners[m]||[];K=0;for(P=B.length;K<P;K++)if(B[K])try{B[K].apply(null,G)}catch(Q){f(Q)}else B.splice(K,
1),K--,P--;if(!(B=E.$$listenerCount[m]&&E.$$childHead||E!==this&&E.$$nextSibling))for(;E!==this&&!(B=E.$$nextSibling);)E=E.$parent}x.currentScope=null;return x}};var D=new n,A=D.$$asyncQueue=[],z=D.$$postDigestQueue=[],r=D.$$applyAsyncQueue=[],q=0;return D}]}function wh(){var a=/^\s*(https?|s?ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(d){return S(d)?(a=d,this):a};this.imgSrcSanitizationWhitelist=function(d){return S(d)?(b=d,this):
b};this.$get=function(){return function(d,c){c=c?b:a;var e=qb(d&&d.trim()).href;return e===""||e.match(c)?d:"unsafe:"+e}}}function xh(){this.$get=["$window","$document",function(a,b){var d={},c=!((!a.nw||!a.nw.process)&&a.chrome&&(a.chrome.app&&a.chrome.app.runtime||!a.chrome.app&&a.chrome.runtime&&a.chrome.runtime.id))&&a.history&&a.history.pushState,e=parseInt((/android (\d+)/.exec(za((a.navigator||{}).userAgent))||[])[1],10);a=/Boxee/i.test((a.navigator||{}).userAgent);var f=b[0]||{};b=f.body&&
f.body.style;var g=!1,k=!1;b&&(g=!!("transition"in b||"webkitTransition"in b),k=!!("animation"in b||"webkitAnimation"in b));return{history:!(!c||e<4||a),hasEvent:function(h){if(h==="input"&&rb)return!1;if(V(d[h])){var l=f.createElement("div");d[h]="on"+h in l}return d[h]},csp:Jb(),transitions:g,animations:k,android:e}}]}function yh(){this.$get=["$rootScope","$browser","$location",function(a,b,d){return{findBindings:function(c,e,f){c=c.getElementsByClassName("ng-binding");var g=[];J(c,function(k){var h=
Ua.element(k).data("$binding");h&&J(h,function(l){f?(new RegExp("(^|\\s)"+e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")+"(\\s|\\||$)")).test(l)&&g.push(k):l.indexOf(e)!==-1&&g.push(k)})});return g},findModels:function(c,e,f){for(var g=["ng-","data-ng-","ng\\:"],k=0;k<g.length;++k){var h=c.querySelectorAll("["+g[k]+"model"+(f?"=":"*=")+'"'+e+'"]');if(h.length)return h}},getLocation:function(){return d.url()},setLocation:function(c){c!==d.url()&&(d.url(c),a.$digest())},whenStable:function(c){b.notifyWhenNoOutstandingRequests(c)}}}]}
function zh(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,d,c,e){function f(k,h,l){da(k)||(l=h,h=k,k=ka);var n=ib.call(arguments,3),p=S(l)&&!l,v=(p?c:d).defer(),w=v.promise;var H=b.defer(function(){try{v.resolve(k.apply(null,n))}catch(F){v.reject(F),e(F)}finally{delete g[w.$$timeoutId]}p||a.$apply()},h);w.$$timeoutId=H;g[H]=v;return w}var g={};f.cancel=function(k){return k&&k.$$timeoutId in g?(g[k.$$timeoutId].promise.$$state.pur=!0,g[k.$$timeoutId].reject("canceled"),
delete g[k.$$timeoutId],b.defer.cancel(k.$$timeoutId)):!1};return f}]}function qb(a){if(!na(a))return a;rb&&(Oa.setAttribute("href",a),a=Oa.href);Oa.setAttribute("href",a);return{href:Oa.href,protocol:Oa.protocol?Oa.protocol.replace(/:$/,""):"",host:Oa.host,search:Oa.search?Oa.search.replace(/^\?/,""):"",hash:Oa.hash?Oa.hash.replace(/^#/,""):"",hostname:Oa.hostname,port:Oa.port,pathname:Oa.pathname.charAt(0)==="/"?Oa.pathname:"/"+Oa.pathname}}function dh(a){var b=[hf].concat(a.map(qb));return function(d){d=
qb(d);return b.some(jf.bind(null,d))}}function jf(a,b){a=qb(a);b=qb(b);return a.protocol===b.protocol&&a.host===b.host}function Ah(){this.$get=cb(ea)}function kf(a){function b(f){try{return decodeURIComponent(f)}catch(g){return f}}var d=a[0]||{},c={},e="";return function(){var f;try{var g=d.cookie||""}catch(n){g=""}if(g!==e)for(e=g,g=e.split("; "),c={},f=0;f<g.length;f++){var k=g[f];var h=k.indexOf("=");if(h>0){var l=b(k.substring(0,h));V(c[l])&&(c[l]=b(k.substring(h+1)))}}return c}}function Bh(){this.$get=
kf}function lf(a){function b(d,c){if(ha(d)){var e={};J(d,function(f,g){e[g]=b(g,f)});return e}return a.factory(d+"Filter",c)}this.register=b;this.$get=["$injector",function(d){return function(c){return d.get(c+"Filter")}}];b("currency",mf);b("date",nf);b("filter",Ch);b("json",Dh);b("limitTo",Eh);b("lowercase",Fh);b("number",of);b("orderBy",pf);b("uppercase",Gh)}function Ch(){return function(a,b,d,c){if(!vb(a)){if(a==null)return a;throw wa("filter")("notarray",a);}c=c||"$";switch(Xd(b)){case "function":break;
case "boolean":case "null":case "number":case "string":var e=!0;case "object":b=Hh(b,d,c,e);break;default:return a}return Array.prototype.filter.call(a,b)}}function Hh(a,b,d,c){var e=ha(a)&&d in a;b===!0?b=db:da(b)||(b=function(f,g){if(V(f))return!1;if(f===null||g===null)return f===g;if(ha(g)||ha(f)&&!od(f))return!1;f=za(""+f);g=za(""+g);return f.indexOf(g)!==-1});return function(f){return e&&!ha(f)?Kb(f,a[d],b,d,!1):Kb(f,a,b,d,c)}}function Kb(a,b,d,c,e,f){var g=Xd(a),k=Xd(b);if(k==="string"&&b.charAt(0)===
"!")return!Kb(a,b.substring(1),d,c,e);if(ma(a))return a.some(function(l){return Kb(l,b,d,c,e)});switch(g){case "object":var h;if(e){for(h in a)if(h.charAt&&h.charAt(0)!=="$"&&Kb(a[h],b,d,c,!0))return!0;return f?!1:Kb(a,b,d,c,!1)}if(k==="object"){for(h in b)if(f=b[h],!da(f)&&!V(f)&&(g=h===c,!Kb(g?a:a[h],f,d,c,g,g)))return!1;return!0}return d(a,b);case "function":return!1;default:return d(a,b)}}function Xd(a){return a===null?"null":typeof a}function mf(a){var b=a.NUMBER_FORMATS;return function(d,c,
e){V(c)&&(c=b.CURRENCY_SYM);V(e)&&(e=b.PATTERNS[1].maxFrac);var f=c?/\u00A4/g:/\s*\u00A4\s*/g;return d==null?d:qf(d,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,e).replace(f,c)}}function of(a){var b=a.NUMBER_FORMATS;return function(d,c){return d==null?d:qf(d,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Ih(a){var b=0,d,c,e,f;(d=a.indexOf(rf))>-1&&(a=a.replace(rf,""));(c=a.search(/e/i))>0?(d<0&&(d=c),d+=+a.slice(c+1),a=a.substring(0,c)):d<0&&(d=a.length);for(c=0;a.charAt(c)===Yd;c++);if(c===(f=a.length)){var g=
[0];d=1}else{for(f--;a.charAt(f)===Yd;)f--;d-=c;g=[];for(e=0;c<=f;c++,e++)g[e]=+a.charAt(c)}d>sf&&(g=g.splice(0,sf-1),b=d-1,d=1);return{d:g,e:b,i:d}}function Jh(a,b,d,c){var e=a.d,f=e.length-a.i;b=V(b)?Math.min(Math.max(d,f),c):+b;d=b+a.i;c=e[d];if(d>0){e.splice(Math.max(a.i,d));for(var g=d;g<e.length;g++)e[g]=0}else for(f=Math.max(0,f),a.i=1,e.length=Math.max(1,d=b+1),e[0]=0,g=1;g<d;g++)e[g]=0;if(c>=5)if(d-1<0){for(c=0;c>d;c--)e.unshift(0),a.i++;e.unshift(1);a.i++}else e[d-1]++;for(;f<Math.max(0,
b);f++)e.push(0);if(b=e.reduceRight(function(k,h,l,n){h+=k;n[l]=h%10;return Math.floor(h/10)},0))e.unshift(b),a.i++}function qf(a,b,d,c,e){if(!na(a)&&!Qa(a)||isNaN(a))return"";var f=!isFinite(a),g=!1,k=Math.abs(a)+"",h="";if(f)h="\u221e";else{g=Ih(k);Jh(g,e,b.minFrac,b.maxFrac);h=g.d;k=g.i;e=g.e;f=[];for(g=h.reduce(function(l,n){return l&&!n},!0);k<0;)h.unshift(0),k++;k>0?f=h.splice(k,h.length):(f=h,h=[0]);k=[];for(h.length>=b.lgSize&&k.unshift(h.splice(-b.lgSize,h.length).join(""));h.length>b.gSize;)k.unshift(h.splice(-b.gSize,
h.length).join(""));h.length&&k.unshift(h.join(""));h=k.join(d);f.length&&(h+=c+f.join(""));e&&(h+="e+"+e)}return a<0&&!g?b.negPre+h+b.negSuf:b.posPre+h+b.posSuf}function $c(a,b,d,c){var e="";if(a<0||c&&a<=0)c?a=-a+1:(a=-a,e="-");for(a=""+a;a.length<b;)a=Yd+a;d&&(a=a.substr(a.length-b));return e+a}function Pa(a,b,d,c,e){d=d||0;return function(f){f=f["get"+a]();if(d>0||f>-d)f+=d;f===0&&d===-12&&(f=12);return $c(f,b,c,e)}}function pc(a,b,d){return function(c,e){c=c["get"+a]();var f=Wc((d?"STANDALONE":
"")+(b?"SHORT":"")+a);return e[f][c]}}function tf(a){var b=(new Date(a,0,1)).getDay();return new Date(a,0,(b<=4?5:12)-b)}function uf(a){return function(b){var d=tf(b.getFullYear());b=new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()));return $c(1+Math.round((+b-+d)/6048E5),a)}}function Zd(a,b){return a.getFullYear()<=0?b.ERAS[0]:b.ERAS[1]}function nf(a){function b(c){var e;if(e=c.match(d)){c=new Date(0);var f=0,g=0,k=e[8]?c.setUTCFullYear:c.setFullYear,h=e[8]?c.setUTCHours:c.setHours;
e[9]&&(f=parseInt(e[9]+e[10],10),g=parseInt(e[9]+e[11],10));k.call(c,parseInt(e[1],10),parseInt(e[2],10)-1,parseInt(e[3],10));f=parseInt(e[4]||0,10)-f;g=parseInt(e[5]||0,10)-g;k=parseInt(e[6]||0,10);e=Math.round(parseFloat("0."+(e[7]||0))*1E3);h.call(c,f,g,k,e);return c}return c}var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,e,f){var g="",k=[],h,l;e=e||"mediumDate";e=a.DATETIME_FORMATS[e]||e;na(c)&&(c=Kh.test(c)?parseInt(c,
10):b(c));Qa(c)&&(c=new Date(c));if(!Xa(c)||!isFinite(c.getTime()))return c;for(;e;)(l=Lh.exec(e))?(k=dc(k,l,1),e=k.pop()):(k.push(e),e=null);var n=c.getTimezoneOffset();f&&(n=rd(f,n),c=sd(c,f,!0));J(k,function(p){h=Mh[p];g+=h?h(c,a.DATETIME_FORMATS,n):p==="''"?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return g}}function Dh(){return function(a,b){V(b)&&(b=2);return ec(a,b)}}function Eh(){return function(a,b,d){b=Math.abs(Number(b))===Infinity?Number(b):parseInt(b,10);if(Ta(b))return a;Qa(a)&&
(a=a.toString());if(!vb(a))return a;d=!d||isNaN(d)?0:parseInt(d,10);d=d<0?Math.max(0,a.length+d):d;return b>=0?$d(a,d,d+b):d===0?$d(a,b,a.length):$d(a,Math.max(0,d+b),d)}}function $d(a,b,d){return na(a)?a.slice(b,d):ib.call(a,b,d)}function pf(a){function b(e){return e.map(function(f){var g=1,k=Mb;if(da(f))k=f;else if(na(f)){if(f.charAt(0)==="+"||f.charAt(0)==="-")g=f.charAt(0)==="-"?-1:1,f=f.substring(1);if(f!==""&&(k=a(f),k.constant)){var h=k();k=function(l){return l[h]}}}return{get:k,descending:g}})}
function d(e){switch(typeof e){case "number":case "boolean":case "string":return!0;default:return!1}}function c(e,f){var g=0,k=e.type,h=f.type;if(k===h){h=e.value;var l=f.value;k==="string"?(h=h.toLowerCase(),l=l.toLowerCase()):k==="object"&&(ha(h)&&(h=e.index),ha(l)&&(l=f.index));h!==l&&(g=h<l?-1:1)}else g=k<h?-1:1;return g}return function(e,f,g,k){if(e==null)return e;if(!vb(e))throw wa("orderBy")("notarray",e);ma(f)||(f=[f]);f.length===0&&(f=["+"]);var h=b(f),l=g?-1:1,n=da(k)?k:c;e=Array.prototype.map.call(e,
function(p,v){return{value:p,tieBreaker:{value:v,type:"number",index:v},predicateValues:h.map(function(w){var H=w.get(p);w=typeof H;if(H===null)w="string",H="null";else if(w==="object")a:{if(da(H.valueOf)&&(H=H.valueOf(),d(H)))break a;od(H)&&(H=H.toString(),d(H))}return{value:H,type:w,index:v}})}});e.sort(function(p,v){for(var w=0,H=h.length;w<H;w++){var F=n(p.predicateValues[w],v.predicateValues[w]);if(F)return F*h[w].descending*l}return(n(p.tieBreaker,v.tieBreaker)||c(p.tieBreaker,v.tieBreaker))*
l});return e=e.map(function(p){return p.value})}}function Wb(a){da(a)&&(a={link:a});a.restrict=a.restrict||"AC";return cb(a)}function ad(a,b,d,c,e){this.$$controls=[];this.$error={};this.$$success={};this.$pending=void 0;this.$name=e(b.name||b.ngForm||"")(d);this.$dirty=!1;this.$valid=this.$pristine=!0;this.$submitted=this.$invalid=!1;this.$$parentForm=bd;this.$$element=a;this.$$animate=c;vf(this)}function vf(a){a.$$classCache={};a.$$classCache[wf]=!(a.$$classCache[qc]=a.$$element.hasClass(qc))}function xf(a){function b(f,
g,k){k&&!f.$$classCache[g]?(f.$$animate.addClass(f.$$element,g),f.$$classCache[g]=!0):!k&&f.$$classCache[g]&&(f.$$animate.removeClass(f.$$element,g),f.$$classCache[g]=!1)}function d(f,g,k){g=g?"-"+re(g,"-"):"";b(f,qc+g,k===!0);b(f,wf+g,k===!1)}var c=a.set,e=a.unset;a.clazz.prototype.$setValidity=function(f,g,k){V(g)?(this.$pending||(this.$pending={}),c(this.$pending,f,k)):(this.$pending&&e(this.$pending,f,k),yf(this.$pending)&&(this.$pending=void 0));wb(g)?g?(e(this.$error,f,k),c(this.$$success,f,
k)):(c(this.$error,f,k),e(this.$$success,f,k)):(e(this.$error,f,k),e(this.$$success,f,k));this.$pending?(b(this,"ng-pending",!0),this.$valid=this.$invalid=void 0,d(this,"",null)):(b(this,"ng-pending",!1),this.$valid=yf(this.$error),this.$invalid=!this.$valid,d(this,"",this.$valid));g=this.$pending&&this.$pending[f]?void 0:this.$error[f]?!1:this.$$success[f]?!0:null;d(this,f,g);this.$$parentForm.$setValidity(f,g,this)}}function yf(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function ae(a){a.$formatters.push(function(b){return a.$isEmpty(b)?
b:b.toString()})}function Xb(a,b,d,c,e,f){var g=za(b[0].type);if(!e.android){var k=!1;b.on("compositionstart",function(){k=!0});b.on("compositionupdate",function(p){if(V(p.data)||p.data==="")k=!1});b.on("compositionend",function(){k=!1;l()})}var h,l=function(p){h&&(f.defer.cancel(h),h=null);if(!k){var v=b.val();p=p&&p.type;g==="password"||d.ngTrim&&d.ngTrim==="false"||(v=Ca(v));(c.$viewValue!==v||v===""&&c.$$hasNativeValidators)&&c.$setViewValue(v,p)}};if(e.hasEvent("input"))b.on("input",l);else{var n=
function(p,v,w){h||(h=f.defer(function(){h=null;v&&v.value===w||l(p)}))};b.on("keydown",function(p){var v=p.keyCode;v===91||15<v&&v<19||37<=v&&v<=40||n(p,this,this.value)});if(e.hasEvent("paste"))b.on("paste cut drop",n)}b.on("change",l);if(zf[g]&&c.$$hasNativeValidators&&g===d.type)b.on("keydown wheel mousedown",function(p){if(!h){var v=this.validity,w=v.badInput,H=v.typeMismatch;h=f.defer(function(){h=null;v.badInput===w&&v.typeMismatch===H||l(p)})}});c.$render=function(){var p=c.$isEmpty(c.$viewValue)?
"":c.$viewValue;b.val()!==p&&b.val(p)}}function cd(a,b){return function(d,c){if(Xa(d))return d;if(na(d)){d.charAt(0)==='"'&&d.charAt(d.length-1)==='"'&&(d=d.substring(1,d.length-1));if(Nh.test(d))return new Date(d);a.lastIndex=0;if(d=a.exec(d)){d.shift();var e=c?{yyyy:c.getFullYear(),MM:c.getMonth()+1,dd:c.getDate(),HH:c.getHours(),mm:c.getMinutes(),ss:c.getSeconds(),sss:c.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0};J(d,function(f,g){g<b.length&&(e[b[g]]=+f)});c=new Date(e.yyyy,
e.MM-1,e.dd,e.HH,e.mm,e.ss||0,e.sss*1E3||0);e.yyyy<100&&c.setFullYear(e.yyyy);return c}}return NaN}}function rc(a,b,d,c){return function(e,f,g,k,h,l,n){function p(A){return A&&!(A.getTime&&A.getTime()!==A.getTime())}function v(A){return S(A)&&!Xa(A)?w(A)||void 0:A}function w(A,z){var r=k.$options.getOption("timezone");F&&F!==r&&(z=oe(z,rd(F)));A=d(A,z);!isNaN(A)&&r&&(A=sd(A,r));return A}be(e,f,g,k);Xb(e,f,g,k,h,l);var H,F;k.$$parserName=a;k.$parsers.push(function(A){if(k.$isEmpty(A))return null;if(b.test(A))return w(A,
H)});k.$formatters.push(function(A){if(A&&!Xa(A))throw sc("datefmt",A);if(p(A)){H=A;var z=k.$options.getOption("timezone");z&&(F=z,H=sd(H,z,!0));return n("date")(A,c,z)}F=H=null;return""});if(S(g.min)||g.ngMin){var C;k.$validators.min=function(A){return!p(A)||V(C)||d(A)>=C};g.$observe("min",function(A){C=v(A);k.$validate()})}if(S(g.max)||g.ngMax){var D;k.$validators.max=function(A){return!p(A)||V(D)||d(A)<=D};g.$observe("max",function(A){D=v(A);k.$validate()})}}}function be(a,b,d,c){(c.$$hasNativeValidators=
ha(b[0].validity))&&c.$parsers.push(function(e){var f=b.prop("validity")||{};return f.badInput||f.typeMismatch?void 0:e})}function Af(a){a.$$parserName="number";a.$parsers.push(function(b){if(a.$isEmpty(b))return null;if(Oh.test(b))return parseFloat(b)});a.$formatters.push(function(b){if(!a.$isEmpty(b)){if(!Qa(b))throw sc("numfmt",b);b=b.toString()}return b})}function Yb(a){S(a)&&!Qa(a)&&(a=parseFloat(a));return Ta(a)?void 0:a}function ce(a){var b=a.toString(),d=b.indexOf(".");return d===-1?-1<a&&
a<1&&(a=/e-(\d+)$/.exec(b))?Number(a[1]):0:b.length-d-1}function Bf(a,b,d){a=Number(a);var c=(a|0)!==a,e=(b|0)!==b,f=(d|0)!==d;if(c||e||f){var g=c?ce(a):0,k=e?ce(b):0,h=f?ce(d):0;g=Math.pow(10,Math.max(g,k,h));a*=g;b*=g;d*=g;c&&(a=Math.round(a));e&&(b=Math.round(b));f&&(d=Math.round(d))}return(a-b)%d===0}function Cf(a,b,d,c,e){if(S(c)){a=a(c);if(!a.constant)throw sc("constexpr",d,c);return a(b)}return e}function de(a,b){function d(g,k){if(!g||!g.length)return[];if(!k||!k.length)return g;var h=[],
l=0;a:for(;l<g.length;l++){for(var n=g[l],p=0;p<k.length;p++)if(n===k[p])continue a;h.push(n)}return h}function c(g){var k=g;ma(g)?k=g.map(c).join(" "):ha(g)&&(k=Object.keys(g).filter(function(h){return g[h]}).join(" "));return k}function e(g){var k=g;if(ma(g))k=g.map(e);else if(ha(g)){var h=!1;k=Object.keys(g).filter(function(l){l=g[l];!h&&V(l)&&(h=!0);return l});h&&k.push(void 0)}return k}a="ngClass"+a;var f;return["$parse",function(g){return{restrict:"AC",link:function(k,h,l){function n(r,q){var m=
[];J(r,function(u){if(q>0||D[u])D[u]=(D[u]||0)+q,D[u]===+(q>0)&&m.push(u)});return m.join(" ")}function p(r){if(r===b){var q=z;q=n(q&&q.split(" "),1);l.$addClass(q)}else q=z,q=n(q&&q.split(" "),-1),l.$removeClass(q);A=r}function v(r){r=c(r);r!==z&&w(r)}function w(r){if(A===b){var q=z&&z.split(" "),m=r&&r.split(" "),u=d(q,m);q=d(m,q);u=n(u,-1);q=n(q,1);l.$addClass(q);l.$removeClass(u)}z=r}var H=l[a].trim(),F=H.charAt(0)===":"&&H.charAt(1)===":";H=g(H,F?e:c);var C=F?v:w,D=h.data("$classCounts"),A=!0,
z;D||(D=Ea(),h.data("$classCounts",D));a!=="ngClass"&&(f||(f=g("$index",function(r){return r&1})),k.$watch(f,p));k.$watch(H,C,F)}}}]}function dd(a,b,d,c,e,f,g,k,h){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=void 0;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=void 0;
this.$name=h(d.name||"",!1)(a);this.$$parentForm=bd;this.$options=ee;this.$$updateEvents="";this.$$updateEventHandler=this.$$updateEventHandler.bind(this);this.$$parsedNgModel=e(d.ngModel);this.$$parsedNgModelAssign=this.$$parsedNgModel.assign;this.$$ngModelGet=this.$$parsedNgModel;this.$$ngModelSet=this.$$parsedNgModelAssign;this.$$pendingDebounce=null;this.$$parserValid=void 0;this.$$currentValidationRunId=0;Object.defineProperty(this,"$$scope",{value:a});this.$$attr=d;this.$$element=c;this.$$animate=
f;this.$$timeout=g;this.$$parse=e;this.$$q=k;this.$$exceptionHandler=b;vf(this);Ph(this)}function Ph(a){a.$$scope.$watch(function(b){b=a.$$ngModelGet(b);b===a.$modelValue||a.$modelValue!==a.$modelValue&&b!==b||a.$$setModelValue(b);return b})}function fe(a){this.$$options=a}function Df(a,b){J(b,function(d,c){S(a[c])||(a[c]=d)})}function Lb(a,b){a.prop("selected",b);a.attr("selected",b)}function Qh(){this.SCE_CONTEXTS=Zb;this.resourceUrlWhitelist=function(a){throw Ya("noresourceurlwhitelist");};this.resourceUrlBlacklist=
function(a){throw Ya("noresourceurlblacklist");};this.$get=["$injector",function(a){var b=function(d){throw Ya("unsafe");};a.has("$sanitize")&&(b=a.get("$sanitize"));return{trustAs:function(d,c){throw Ya("notrustas");},getTrusted:function(d,c){if(c===null||V(c)||c==="")return c;if(typeof c=="string"){if(d==Zb.TEMPLATE_URL){d=a.has("html2JsTemplatesCached")?!a.get("html2JsTemplatesCached")():!ng.safehtml.googSceHelper.isCOMPILED();if(d&&jf(c,hf))return c;throw Ya("insecurl",c);}if(d==Zb.RESOURCE_URL)throw Ya("insecurl",
c);if(d==Zb.HTML)return b(c);throw Ya("unsafe",d);}if(ng.safehtml.googSceHelper.isGoogHtmlType(c))try{return ng.safehtml.googSceHelper.unwrapGivenContext(d,c)}catch(e){throw Ya("googhtml",c.toString(),d);}else throw Ya("unsafe",d);},valueOf:function(d){if(ng.safehtml.googSceHelper.isGoogHtmlType(d))try{return ng.safehtml.googSceHelper.unwrapAny(d)}catch(c){throw Ya("googhtml",d.toString());}else return d}}}]}function Rh(){this.enabled=function(a){if(arguments.length)throw Ya("nodisabling");return!0};
this.$get=["$parse","$sceDelegate",function(a,b){if(rb<8)throw Ya("iequirks");if(typeof ng=="undefined"||!ng.safehtml||!ng.safehtml.googSceHelper)throw Ya("nodep");var d=kb(Zb);d.isEnabled=function(){return!0};d.trustAs=b.trustAs;d.getTrusted=b.getTrusted;d.valueOf=b.valueOf;d.parseAs=function(g,k){var h=a(k);return h.literal&&h.constant?h:a(k,function(l){return d.getTrusted(g,l)})};var c=d.parseAs,e=d.getTrusted,f=d.trustAs;J(Zb,function(g,k){k=za(k);d[("parse_as_"+k).replace(ge,Db)]=function(h){return c(g,
h)};d[("get_trusted_"+k).replace(ge,Db)]=function(h){return e(g,h)};d[("trust_as_"+k).replace(ge,Db)]=function(h){return f(g,h)}});return d}]}function Sh(){var a;this.httpOptions=function(b){return b?(a=b,this):a};this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(b,d,c,e,f){function g(k,h){g.totalPendingRequests++;if(!na(k)||V(d.get(k)))k=f.getTrustedTemplateUrl(k);var l=c.defaults&&c.defaults.transformResponse;ma(l)?l=l.filter(function(n){return n!==Qd}):l===Qd&&(l=null);
return c.get(k,Ba({cache:d,transformResponse:l},a)).finally(function(){g.totalPendingRequests--}).then(function(n){d.put(k,n.data);return n.data},function(n){h||(n=Th("tpload",k,n.status,n.statusText),b(n));return e.reject(n)})}g.totalPendingRequests=0;return g}]}var ie={objectMaxDepth:5},Uh=/^\/(.+)\/([a-z]*)$/,bb=Object.prototype.hasOwnProperty,za=function(a){return na(a)?a.toLowerCase():a},Wc=function(a){return na(a)?a.toUpperCase():a},fa,Ab,ib=[].slice,Tg=[].splice,Vh=[].push,Sa=Object.prototype.toString,
le=Object.getPrototypeOf,Cb=wa("ng"),Ua=ea.angular||(ea.angular={}),Dd,uc=0;var rb=ea.document.documentMode;var Ta=Number.isNaN||function(a){return a!==a};ka.$inject=[];Mb.$inject=[];var ma=Array.isArray,Wf=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,Ca=function(a){return na(a)?a.trim():a},Jb=function(){if(!S(Jb.rules)){var a=ea.document.querySelector("[ng-csp]")||ea.document.querySelector("[data-ng-csp]");a?(a=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp"),
Jb.rules={noUnsafeEval:!0,noInlineStyle:!a||a.indexOf("no-inline-style")!==-1}):Jb.rules={noUnsafeEval:!0,noInlineStyle:!1}}return Jb.rules},ed=function(){if(S(ed.name_))return ed.name_;var a,b,d=Ob.length;for(b=0;b<d;++b){var c=Ob[b];if(a=ea.document.querySelector("["+c.replace(":","\\:")+"jq]")){var e=a.getAttribute(c+"jq");break}}return ed.name_=e},Yf=/:/g,Ob=["ng-","data-ng-","ng:","x-ng-"],ag=function(a){var b=a.currentScript;if(!b)return!0;if(!(b instanceof ea.HTMLScriptElement||b instanceof
ea.SVGScriptElement))return!1;b=b.attributes;return[b.getNamedItem("src"),b.getNamedItem("href"),b.getNamedItem("xlink:href")].every(function(d){if(!d)return!0;if(!d.value)return!1;var c=a.createElement("a");c.href=d.value;if(a.location.origin===c.origin)return!0;switch(c.protocol){case "http:":case "https:":case "ftp:":case "blob:":case "file:":case "data:":return!0;default:return!1}})}(ea.document),dg=/[A-Z]/g,Ef=!1,xb=3,Wh={full:"1.6.4-local+sha.617b36117",major:1,minor:6,dot:void 0,codeName:"undefined"};
Fa.expando="ng339";var ic=Fa.cache={},kg=1;Fa._data=function(a){return this.cache[a[this.expando]]||{}};var Cc=/-([a-z])/g,Xh=/^-ms-/,Bc={mouseleave:"mouseout",mouseenter:"mouseover"},yd=wa("jqLite"),yc=ea.trustedTypes&&ea.trustedTypes.createPolicy,fd;try{yc&&(fd=ea.trustedTypes.createPolicy("angularjs@jqlite",{createHTML:function(a){return a}}))}catch(a){}var ig=fd?fd.createHTML.bind(fd):Mb,jg=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,xd=/<|&#?\w+;/,gg=/<([\w:-]+)/,hg=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,
fb={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};fb.optgroup=fb.option;fb.tbody=fb.tfoot=fb.colgroup=fb.caption=fb.thead;fb.th=fb.td;var qg=ea.Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&16)},Rb=Fa.prototype={ready:ue,toString:function(){var a=[];J(this,function(b){a.push(""+
b)});return"["+a.join(", ")+"]"},eq:function(a){return a>=0?fa(this[a]):fa(this[this.length+a])},length:0,push:Vh,sort:[].sort,splice:[].splice},Ic={};J("multiple selected checked disabled readOnly required open".split(" "),function(a){Ic[za(a)]=a});var ze={};J("input select option textarea button form details".split(" "),function(a){ze[a]=!0});var Re={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};J({data:Cd,removeData:Bd,hasData:function(a){for(var b in ic[a.ng339])return!0;
return!1},cleanData:function(a){for(var b=0,d=a.length;b<d;b++)Bd(a[b])}},function(a,b){Fa[b]=a});J({data:Cd,inheritedData:Gc,scope:function(a){return fa.data(a,"$scope")||Gc(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return fa.data(a,"$isolateScope")||fa.data(a,"$isolateScopeNoTemplate")},controller:we,injector:function(a){return Gc(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Dc,css:function(a,b,d){b=b.replace(Xh,"ms-").replace(Cc,Db);if(S(d))a.style[b]=
d;else return a.style[b]},attr:function(a,b,d){var c=a.nodeType;if(c!==xb&&c!==2&&c!==8&&a.getAttribute){c=za(b);var e=Ic[c];if(S(d))d===null||d===!1&&e?a.removeAttribute(b):a.setAttribute(b,e?c:d);else return a=a.getAttribute(b),e&&a!==null&&(a=c),a===null?void 0:a}},prop:function(a,b,d){if(S(d))a[b]=d;else return a[b]},text:function(){function a(b,d){if(V(d))return d=b.nodeType,d===1||d===xb?b.textContent:"";b.textContent=d}a.$dv="";return a}(),val:function(a,b){if(V(b)){if(a.multiple&&jb(a)===
"select"){var d=[];J(a.options,function(c){c.selected&&d.push(c.value||c.text)});return d}return a.value}a.value=b},html:function(a,b){if(V(b))return a.innerHTML;zc(a,!0);a.innerHTML=b},empty:xe},function(a,b){Fa.prototype[b]=function(d,c){var e,f,g=this.length;if(a!==xe&&V(a.length===2&&a!==Dc&&a!==we?d:c)){if(ha(d)){for(e=0;e<g;e++)if(a===Cd)a(this[e],d);else for(f in d)a(this[e],f,d[f]);return this}e=a.$dv;g=V(e)?Math.min(g,1):g;for(f=0;f<g;f++){var k=a(this[f],d,c);e=e?e+k:k}return e}for(e=0;e<
g;e++)a(this[e],d,c);return this}});J({removeData:Bd,on:function(a,b,d,c){if(S(c))throw yd("onargs");if(wd(a)){c=Ac(a,!0);var e=c.events,f=c.handle;f||(f=c.handle=mg(a,e));c=b.indexOf(" ")>=0?b.split(" "):[b];for(var g=c.length,k=function(h,l,n){var p=e[h];p||(p=e[h]=[],p.specialHandlerWrapper=l,h==="$destroy"||n||a.addEventListener(h,f));p.push(d)};g--;)b=c[g],Bc[b]?(k(Bc[b],pg),k(b,void 0,!0)):k(b)}},off:ve,one:function(a,b,d){a=fa(a);a.on(b,function e(){a.off(b,d);a.off(b,e)});a.on(b,d)},replaceWith:function(a,
b){var d,c=a.parentNode;zc(a);J(new Fa(b),function(e){d?c.insertBefore(e,d.nextSibling):c.replaceChild(e,a);d=e})},children:function(a){var b=[];J(a.childNodes,function(d){d.nodeType===1&&b.push(d)});return b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var d=a.nodeType;if(d===1||d===11){b=new Fa(b);d=0;for(var c=b.length;d<c;d++)a.appendChild(b[d])}},prepend:function(a,b){if(a.nodeType===1){var d=a.firstChild;J(new Fa(b),function(c){a.insertBefore(c,d)})}},
wrap:function(a,b){b=fa(b).eq(0).clone()[0];var d=a.parentNode;d&&d.replaceChild(b,a);b.appendChild(a)},remove:Hc,detach:function(a){Hc(a,!0)},after:function(a,b){var d=a;if(a=a.parentNode){b=new Fa(b);for(var c=0,e=b.length;c<e;c++){var f=b[c];a.insertBefore(f,d.nextSibling);d=f}}},addClass:Fc,removeClass:Ec,toggleClass:function(a,b,d){b&&J(b.split(" "),function(c){var e=d;V(e)&&(e=!Dc(a,c));(e?Fc:Ec)(a,c)})},parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},next:function(a){return a.nextElementSibling},
find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:Ad,triggerHandler:function(a,b,d){var c=b.type||b,e=Ac(a);if(e=(e=e&&e.events)&&e[c]){var f={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:ka,type:c,target:a};b.type&&(f=
Ba(f,b));b=kb(e);var g=d?[f].concat(d):[f];J(b,function(k){f.isImmediatePropagationStopped()||k.apply(a,g)})}}},function(a,b){Fa.prototype[b]=function(d,c,e){for(var f,g=0,k=this.length;g<k;g++)V(f)?(f=a(this[g],d,c,e),S(f)&&(f=fa(f))):zd(f,a(this[g],d,c,e));return S(f)?f:this}});Fa.prototype.bind=Fa.prototype.on;Fa.prototype.unbind=Fa.prototype.off;var Yh=Object.create(null);Ae.prototype={_idx:function(a){if(a===this._lastKey)return this._lastIndex;this._lastKey=a;return this._lastIndex=this._keys.indexOf(a)},
_transformKey:function(a){return Ta(a)?Yh:a},get:function(a){a=this._transformKey(a);a=this._idx(a);if(a!==-1)return this._values[a]},set:function(a,b){a=this._transformKey(a);var d=this._idx(a);d===-1&&(d=this._lastIndex=this._keys.length);this._keys[d]=a;this._values[d]=b},delete:function(a){a=this._transformKey(a);a=this._idx(a);if(a===-1)return!1;this._keys.splice(a,1);this._values.splice(a,1);this._lastKey=NaN;this._lastIndex=-1;return!0}};var Jc=Ae,Zh=[function(){this.$get=[function(){return Jc}]}],
tg=/^([^(]+?)=>/,ug=/^[^(]*\(\s*([^)]*)\)/m,$h=/,/,ai=/^\s*(_?)(\S+?)\1\s*$/,sg=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Eb=wa("$injector");gc.$$annotate=function(a,b,d){var c;if(typeof a==="function"){if(!(c=a.$inject)){c=[];if(a.length){if(b)throw na(d)&&d||(d=a.name||vg(a)),Eb("strictdi",d);b=Be(a);J(b[1].split($h),function(e){e.replace(ai,function(f,g,k){c.push(k)})})}a.$inject=c}}else ma(a)?(b=a.length-1,wc(a[b],"fn"),c=a.slice(0,b)):wc(a,"fn",!0);return c};var Ff=wa("$animate"),bi=function(){this.$get=
ka},ci=function(){var a=new Jc,b=[];this.$get=["$$AnimateRunner","$rootScope",function(d,c){function e(g,k,h){var l=!1;k&&(k=na(k)?k.split(" "):ma(k)?k:[],J(k,function(n){n&&(l=!0,g[n]=h)}));return l}function f(){J(b,function(g){var k=a.get(g);if(k){var h=xg(g.attr("class")),l="",n="";J(k,function(p,v){p!==!!h[v]&&(p?l+=(l.length?" ":"")+v:n+=(n.length?" ":"")+v)});J(g,function(p){l&&Fc(p,l);n&&Ec(p,n)});a.delete(g)}});b.length=0}return{enabled:ka,on:ka,off:ka,pin:ka,push:function(g,k,h,l){l&&l();
h=h||{};h.from&&g.css(h.from);h.to&&g.css(h.to);if(h.addClass||h.removeClass)if(k=h.addClass,l=h.removeClass,h=a.get(g)||{},k=e(h,k,!0),l=e(h,l,!1),k||l)a.set(g,h),b.push(g),b.length===1&&c.$$postDigest(f);g=new d;g.complete();return g}}}]},di=["$provide",function(a){var b=this,d=null,c=null;this.$$registeredAnimations=Object.create(null);this.register=function(e,f){if(e&&e.charAt(0)!==".")throw Ff("notcsel",e);var g=e+"-animation";b.$$registeredAnimations[e.substr(1)]=g;a.factory(g,f)};this.customFilter=
function(e){arguments.length===1&&(c=da(e)?e:null);return c};this.classNameFilter=function(e){if(arguments.length===1&&(d=e instanceof RegExp?e:null)&&RegExp("[(\\s|\\/)]ng-animate[(\\s|\\/)]").test(d.toString()))throw d=null,Ff("nongcls","ng-animate");return d};this.$get=["$$animateQueue",function(e){function f(g,k,h){if(h){var l;a:{for(l=0;l<h.length;l++){var n=h[l];if(n.nodeType===1){l=n;break a}}l=void 0}!l||l.parentNode||l.previousElementSibling||(h=null)}h?h.after(g):k.prepend(g)}return{on:e.on,
off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(g){g.end&&g.end()},enter:function(g,k,h,l){k=k&&fa(k);h=h&&fa(h);k=k||h.parent();f(g,k,h);return e.push(g,"enter",Fb(l))},move:function(g,k,h,l){k=k&&fa(k);h=h&&fa(h);k=k||h.parent();f(g,k,h);return e.push(g,"move",Fb(l))},leave:function(g,k){return e.push(g,"leave",Fb(k),function(){g.remove()})},addClass:function(g,k,h){h=Fb(h);h.addClass=jc(h.addclass,k);return e.push(g,"addClass",h)},removeClass:function(g,k,h){h=Fb(h);h.removeClass=jc(h.removeClass,
k);return e.push(g,"removeClass",h)},setClass:function(g,k,h,l){l=Fb(l);l.addClass=jc(l.addClass,k);l.removeClass=jc(l.removeClass,h);return e.push(g,"setClass",l)},animate:function(g,k,h,l,n){n=Fb(n);n.from=n.from?Ba(n.from,k):k;n.to=n.to?Ba(n.to,h):h;n.tempClasses=jc(n.tempClasses,l||"ng-inline-animate");return e.push(g,"animate",n)}}}]}],ei=function(){this.$get=["$$rAF",function(a){function b(c){d.push(c);d.length>1||a(function(){for(var e=0;e<d.length;e++)d[e]();d=[]})}var d=[];return function(){var c=
!1;b(function(){c=!0});return function(e){c?e():b(e)}}}]},fi=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(a,b,d,c,e){function f(g){this.setHost(g);var k=d();this._doneCallbacks=[];this._tick=function(h){c()?e(h,0,!1):k(h)};this._state=0}f.chain=function(g,k){function h(){if(l===g.length)k(!0);else g[l](function(n){n===!1?k(!1):(l++,h())})}var l=0;h()};f.all=function(g,k){function h(p){n=n&&p;++l===g.length&&k(n)}var l=0,n=!0;J(g,function(p){p.done(h)})};
f.prototype={setHost:function(g){this.host=g||{}},done:function(g){this._state===2?g():this._doneCallbacks.push(g)},progress:ka,getPromise:function(){if(!this.promise){var g=this;this.promise=a(function(k,h){g.done(function(l){l===!1?h():k()})})}return this.promise},then:function(g,k){return this.getPromise().then(g,k)},"catch":function(g){return this.getPromise()["catch"](g)},"finally":function(g){return this.getPromise()["finally"](g)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&
this.host.resume()},end:function(){this.host.end&&this.host.end();this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel();this._resolve(!1)},complete:function(g){var k=this;k._state===0&&(k._state=1,k._tick(function(){k._resolve(g)}))},_resolve:function(g){this._state!==2&&(J(this._doneCallbacks,function(k){k(g)}),this._doneCallbacks.length=0,this._state=2)}};return f}]},gi=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,d){return function(c,e){function f(){a(function(){g.addClass&&
(c.addClass(g.addClass),g.addClass=null);g.removeClass&&(c.removeClass(g.removeClass),g.removeClass=null);g.to&&(c.css(g.to),g.to=null);k||h.complete();k=!0});return h}var g=e||{};g.$$prepared||(g=Bb(g));g.cleanupStyles&&(g.from=g.to=null);g.from&&(c.css(g.from),g.from=null);var k,h=new d;return{start:f,end:f}}}]},Ia=wa("$compile"),Od=new function(){};Ce.$inject=["$provide","$$sanitizeUriProvider"];Uc.prototype.isFirstChange=function(){return this.previousValue===Od};var Ge=/^((?:x|data)[:\-_])/i,
Sg=/[:\-_]+(.)/g,Ve=wa("$controller"),Ue=/^(\S+)(\s+as\s+([\w$]+))?$/,hi=function(){this.$get=["$document",function(a){return function(b){b?!b.nodeType&&b instanceof fa&&(b=b[0]):b=a[0].body;return b.offsetWidth+1}}]},We="application/json",Rd={"Content-Type":We+";charset=utf-8"},ah=/^\[|^\{(?!\{)/,bh={"[":/]$/,"{":/}$/},$g=/^\)]\}',?\n/,Vc=wa("$http"),Ib=Ua.$interpolateMinErr=wa("$interpolate");Ib.throwNoconcat=function(a){throw Ib("noconcat",a);};Ib.interr=function(a,b){return Ib("interr",a,b.toString())};
var ii=function(){this.$get=function(){function a(c){var e=function(f){e.data=f;e.called=!0};e.id=c;return e}var b=Ua.callbacks,d={};return{createCallback:function(c){c="_"+(b.$$counter++).toString(36);var e="angular.callbacks."+c,f=a(c);d[e]=b[c]=f;return e},wasCalled:function(c){return d[c].called},getResponse:function(c){return d[c].data},removeCallback:function(c){delete b[d[c].id];delete d[c]}}}},ji=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,jh={http:80,https:443,ftp:21},nc=wa("$location"),kh=/^\s*[\\/]{2,}/,
ki={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Xc("$$absUrl"),url:function(a){if(V(a))return this.$$url;var b=ji.exec(a);(b[1]||a==="")&&this.path(decodeURIComponent(b[1]));(b[2]||b[1]||a==="")&&this.search(b[3]||"");this.hash(b[5]||"");return this},protocol:Xc("$$protocol"),host:Xc("$$host"),port:Xc("$$port"),path:cf("$$path",function(a){a=a!==null?a.toString():"";return a.charAt(0)==="/"?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(na(a)||Qa(a))a=
a.toString(),this.$$search=td(a);else if(ha(a))a=Bb(a,{}),J(a,function(d,c){d==null&&delete a[c]}),this.$$search=a;else throw nc("isrcharg");break;default:V(b)||b===null?delete this.$$search[a]:this.$$search[a]=b}this.$$compose();return this},hash:cf("$$hash",function(a){return a!==null?a.toString():""}),replace:function(){this.$$replace=!0;return this}};J([bf,Vd,Ud],function(a){a.prototype=Object.create(ki);a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==Ud||!this.$$html5)throw nc("nostate");
this.$$state=V(b)?null:b;this.$$urlUpdatedByLocation=!0;return this}});var tc=wa("$parse"),qh={}.constructor.prototype.valueOf,gd=Ea();J("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){gd[a]=!0});var li={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Zc=function(a){this.options=a};Zc.prototype={constructor:Zc,lex:function(a){this.text=a;this.index=0;for(this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),a==='"'||a==="'")this.readString(a);else if(this.isNumber(a)||
a==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),d=b+this.peek(2),c=gd[b],e=gd[d];gd[a]||c||e?(a=e?d:c?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},
is:function(a,b){return b.indexOf(a)!==-1},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return"0"<=a&&a<="9"&&typeof a==="string"},isWhitespace:function(a){return a===" "||a==="\r"||a==="\t"||a==="\n"||a==="\v"||a==="\u00a0"},isIdentifierStart:function(a){return this.options.isIdentifierStart?this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return"a"<=a&&
a<="z"||"A"<=a&&a<="Z"||"_"===a||a==="$"},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},codePointAt:function(a){return a.length===1?a.charCodeAt(0):(a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;
var d=a.charCodeAt(0),c=b.charCodeAt(0);return d>=55296&&d<=56319&&c>=56320&&c<=57343?a+b:a},isExpOperator:function(a){return a==="-"||a==="+"||this.isNumber(a)},throwError:function(a,b,d){d=d||this.index;b=S(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,d)+"]":" "+d;throw tc("lexerr",a,b,this.text);},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var d=za(this.text.charAt(this.index));if(d==="."||this.isNumber(d))a+=d;else{var c=this.peek();if(d==="e"&&this.isExpOperator(c))a+=
d;else if(this.isExpOperator(d)&&c&&this.isNumber(c)&&a.charAt(a.length-1)==="e")a+=d;else if(!this.isExpOperator(d)||c&&this.isNumber(c)||a.charAt(a.length-1)!=="e")break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var b=this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,
text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var d="",c=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);c+=f;if(e)f==="u"?(e=this.text.substring(this.index+1,this.index+5),e.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,d+=String.fromCharCode(parseInt(e,16))):d+=li[f]||f,e=!1;else if(f==="\\")e=!0;else{if(f===a){this.index++;this.tokens.push({index:b,text:c,constant:!0,
value:d});return}d+=f}this.index++}this.throwError("Unterminated quote",b)}};var R=function(a,b){this.lexer=a;this.options=b};R.Program="Program";R.ExpressionStatement="ExpressionStatement";R.AssignmentExpression="AssignmentExpression";R.ConditionalExpression="ConditionalExpression";R.LogicalExpression="LogicalExpression";R.BinaryExpression="BinaryExpression";R.UnaryExpression="UnaryExpression";R.CallExpression="CallExpression";R.MemberExpression="MemberExpression";R.Identifier="Identifier";R.Literal=
"Literal";R.ArrayExpression="ArrayExpression";R.Property="Property";R.ObjectExpression="ObjectExpression";R.ThisExpression="ThisExpression";R.LocalsExpression="LocalsExpression";R.NGValueParameter="NGValueParameter";R.prototype={ast:function(a){this.text=a;this.tokens=this.lexer.lex(a);a=this.program();this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]);return a},program:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),
!this.expect(";"))return{type:R.Program,body:a}},expressionStatement:function(){return{type:R.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();if(this.expect("=")){if(!ef(a))throw tc("lval");a={type:R.AssignmentExpression,left:a,right:this.assignment(),operator:"="}}return a},ternary:function(){var a=this.logicalOR();
if(this.expect("?")){var b=this.expression();if(this.consume(":")){var d=this.expression();return{type:R.ConditionalExpression,test:a,alternate:b,consequent:d}}}return a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:R.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:R.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a=
this.relational(),b;b=this.expect("==","!=","===","!==");)a={type:R.BinaryExpression,operator:b.text,left:a,right:this.relational()};return a},relational:function(){for(var a=this.additive(),b;b=this.expect("<",">","<=",">=");)a={type:R.BinaryExpression,operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var a=this.multiplicative(),b;b=this.expect("+","-");)a={type:R.BinaryExpression,operator:b.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var a=
this.unary(),b;b=this.expect("*","/","%");)a={type:R.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:R.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){if(this.expect("(")){var a=this.filterChain();this.consume(")")}else this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=Bb(this.selfReferential[this.consume().text]):
this.options.literals.hasOwnProperty(this.peek().text)?a={type:R.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)b.text==="("?(a={type:R.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):b.text==="["?(a={type:R.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):
b.text==="."?a={type:R.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=[a];for(var b={type:R.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return b},parseArguments:function(){var a=[];if(this.peekToken().text!==")"){do a.push(this.filterChain());while(this.expect(","))}return a},identifier:function(){var a=this.consume();a.identifier||this.throwError("is not a valid identifier",
a);return{type:R.Identifier,name:a.text}},constant:function(){return{type:R.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if(this.peekToken().text!=="]"){do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","))}this.consume("]");return{type:R.ArrayExpression,elements:a}},object:function(){var a=[];if(this.peekToken().text!=="}"){do{if(this.peek("}"))break;var b={type:R.Property,kind:"init"};this.peek().constant?(b.key=this.constant(),b.computed=!1,this.consume(":"),
b.value=this.expression()):this.peek().identifier?(b.key=this.identifier(),b.computed=!1,this.peek(":")?(this.consume(":"),b.value=this.expression()):b.value=b.key):this.peek("[")?(this.consume("["),b.key=this.expression(),this.consume("]"),b.computed=!0,this.consume(":"),b.value=this.expression()):this.throwError("invalid key",this.peek());a.push(b)}while(this.expect(","))}this.consume("}");return{type:R.ObjectExpression,properties:a}},throwError:function(a,b){throw tc("syntax",b.text,a,b.index+
1,this.text,this.text.substring(b.index));},consume:function(a){if(this.tokens.length===0)throw tc("ueoe",this.text);var b=this.expect(a);b||this.throwError("is unexpected, expecting ["+a+"]",this.peek());return b},peekToken:function(){if(this.tokens.length===0)throw tc("ueoe",this.text);return this.tokens[0]},peek:function(a,b,d,c){return this.peekAhead(0,a,b,d,c)},peekAhead:function(a,b,d,c,e){if(this.tokens.length>a){a=this.tokens[a];var f=a.text;if(f===b||f===d||f===c||f===e||!(b||d||c||e))return a}return!1},
expect:function(a,b,d,c){return(a=this.peek(a,b,d,c))?(this.tokens.shift(),a):!1},selfReferential:{"this":{type:R.ThisExpression},$locals:{type:R.LocalsExpression}}};var df=2;ff.prototype={compile:function(a){var b=this;Ma(a,b.$filter);var d;if(d=ph(a))var c=this.recurse(d);d=oh(a.body);if(d){var e=[];J(d,function(g,k){var h=b.recurse(g);h.isPure=g.isPure;g.input=h;e.push(h);g.watchId=k})}var f=[];J(a.body,function(g){f.push(b.recurse(g.expression))});a=a.body.length===0?ka:a.body.length===1?f[0]:
function(g,k){var h;J(f,function(l){h=l(g,k)});return h};c&&(a.assign=function(g,k,h){return c(g,h,k)});e&&(a.inputs=e);return a},recurse:function(a,b,d){var c=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case R.Literal:return this.value(a.value,b);case R.UnaryExpression:var e=this.recurse(a.argument);return this["unary"+a.operator](e,b);case R.BinaryExpression:var f=this.recurse(a.left);e=this.recurse(a.right);return this["binary"+a.operator](f,e,b);case R.LogicalExpression:return f=
this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](f,e,b);case R.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case R.Identifier:return c.identifier(a.name,b,d);case R.MemberExpression:return f=this.recurse(a.object,!1,!!d),a.computed||(e=a.property.name),a.computed&&(e=this.recurse(a.property)),a.computed?this.computedMember(f,e,b,d):this.nonComputedMember(f,e,b,d);case R.CallExpression:var g=[];J(a.arguments,
function(k){g.push(c.recurse(k))});a.filter&&(e=this.$filter(a.callee.name));a.filter||(e=this.recurse(a.callee,!0));return a.filter?function(k,h,l,n){for(var p=[],v=0;v<g.length;++v)p.push(g[v](k,h,l,n));k=e.apply(void 0,p,n);return b?{context:void 0,name:void 0,value:k}:k}:function(k,h,l,n){var p=e(k,h,l,n);if(p.value!=null){var v=[];for(var w=0;w<g.length;++w)v.push(g[w](k,h,l,n));v=p.value.apply(p.context,v)}return b?{value:v}:v};case R.AssignmentExpression:return f=this.recurse(a.left,!0,1),
e=this.recurse(a.right),function(k,h,l,n){var p=f(k,h,l,n);k=e(k,h,l,n);p.context[p.name]=k;return b?{value:k}:k};case R.ArrayExpression:return g=[],J(a.elements,function(k){g.push(c.recurse(k))}),function(k,h,l,n){for(var p=[],v=0;v<g.length;++v)p.push(g[v](k,h,l,n));return b?{value:p}:p};case R.ObjectExpression:return g=[],J(a.properties,function(k){k.computed?g.push({key:c.recurse(k.key),computed:!0,value:c.recurse(k.value)}):g.push({key:k.key.type===R.Identifier?k.key.name:""+k.key.value,computed:!1,
value:c.recurse(k.value)})}),function(k,h,l,n){for(var p={},v=0;v<g.length;++v)g[v].computed?p[g[v].key(k,h,l,n)]=g[v].value(k,h,l,n):p[g[v].key]=g[v].value(k,h,l,n);return b?{value:p}:p};case R.ThisExpression:return function(k){return b?{value:k}:k};case R.LocalsExpression:return function(k,h){return b?{value:h}:h};case R.NGValueParameter:return function(k,h,l){return b?{value:l}:l}}},"unary+":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=S(d)?+d:0;return b?{value:d}:d}},"unary-":function(a,
b){return function(d,c,e,f){d=a(d,c,e,f);d=S(d)?-d:-0;return b?{value:d}:d}},"unary!":function(a,b){return function(d,c,e,f){d=!a(d,c,e,f);return b?{value:d}:d}},"binary+":function(a,b,d){return function(c,e,f,g){var k=a(c,e,f,g);c=b(c,e,f,g);k=typeof k==="undefined"?c:typeof c==="undefined"?k:k+c;return d?{value:k}:k}},"binary-":function(a,b,d){return function(c,e,f,g){var k=a(c,e,f,g);c=b(c,e,f,g);k=(S(k)?k:0)-(S(c)?c:0);return d?{value:k}:k}},"binary*":function(a,b,d){return function(c,e,f,g){c=
a(c,e,f,g)*b(c,e,f,g);return d?{value:c}:c}},"binary/":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)/b(c,e,f,g);return d?{value:c}:c}},"binary%":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)%b(c,e,f,g);return d?{value:c}:c}},"binary===":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)===b(c,e,f,g);return d?{value:c}:c}},"binary!==":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!==b(c,e,f,g);return d?{value:c}:c}},"binary==":function(a,b,d){return function(c,e,f,g){c=a(c,
e,f,g)==b(c,e,f,g);return d?{value:c}:c}},"binary!=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!=b(c,e,f,g);return d?{value:c}:c}},"binary<":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)<b(c,e,f,g);return d?{value:c}:c}},"binary>":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>b(c,e,f,g);return d?{value:c}:c}},"binary<=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)<=b(c,e,f,g);return d?{value:c}:c}},"binary>=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>=
b(c,e,f,g);return d?{value:c}:c}},"binary&&":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)&&b(c,e,f,g);return d?{value:c}:c}},"binary||":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)||b(c,e,f,g);return d?{value:c}:c}},"ternary?:":function(a,b,d,c){return function(e,f,g,k){e=a(e,f,g,k)?b(e,f,g,k):d(e,f,g,k);return c?{value:e}:e}},value:function(a,b){return function(){return b?{context:void 0,name:void 0,value:a}:a}},identifier:function(a,b,d){return function(c,e,f,g){c=e&&a in e?e:
c;d&&d!==1&&c&&c[a]==null&&(c[a]={});e=c?c[a]:void 0;return b?{context:c,name:a,value:e}:e}},computedMember:function(a,b,d,c){return function(e,f,g,k){var h=a(e,f,g,k);if(h!=null){var l=b(e,f,g,k);l+="";c&&c!==1&&h&&!h[l]&&(h[l]={});var n=h[l]}return d?{context:h,name:l,value:n}:n}},nonComputedMember:function(a,b,d,c){return function(e,f,g,k){e=a(e,f,g,k);c&&c!==1&&e&&e[b]==null&&(e[b]={});f=e!=null?e[b]:void 0;return d?{context:e,name:b,value:f}:f}},inputs:function(a,b){return function(d,c,e,f){return f?
f[b]:a(d,c,e)}}};Yc.prototype={constructor:Yc,parse:function(a){a=this.getAst(a);var b=this.astCompiler.compile(a.ast),d=a.ast;b.literal=d.body.length===0||d.body.length===1&&(d.body[0].expression.type===R.Literal||d.body[0].expression.type===R.ArrayExpression||d.body[0].expression.type===R.ObjectExpression);b.constant=a.ast.constant;b.oneTime=a.oneTime;return b},getAst:function(a){var b=!1;a=a.trim();a.charAt(0)===":"&&a.charAt(1)===":"&&(b=!0,a=a.substring(2));return{ast:this.ast.ast(a),oneTime:b}}};
var Oa=ea.document.createElement("a"),hf=qb(ea.location.href);kf.$inject=["$document"];lf.$inject=["$provide"];var sf=22,rf=".",Yd="0";mf.$inject=["$locale"];of.$inject=["$locale"];var Mh={yyyy:Pa("FullYear",4,0,!1,!0),yy:Pa("FullYear",2,0,!0,!0),y:Pa("FullYear",1,0,!1,!0),MMMM:pc("Month"),MMM:pc("Month",!0),MM:Pa("Month",2,1),M:Pa("Month",1,1),LLLL:pc("Month",!1,!0),dd:Pa("Date",2),d:Pa("Date",1),HH:Pa("Hours",2),H:Pa("Hours",1),hh:Pa("Hours",2,-12),h:Pa("Hours",1,-12),mm:Pa("Minutes",2),m:Pa("Minutes",
1),ss:Pa("Seconds",2),s:Pa("Seconds",1),sss:Pa("Milliseconds",3),EEEE:pc("Day"),EEE:pc("Day",!0),a:function(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,d){a=-1*d;return(a>=0?"+":"")+($c(Math[a>0?"floor":"ceil"](a/60),2)+$c(Math.abs(a%60),2))},ww:uf(2),w:uf(1),G:Zd,GG:Zd,GGG:Zd,GGGG:function(a,b){return a.getFullYear()<=0?b.ERANAMES[0]:b.ERANAMES[1]}},Lh=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Kh=/^-?\d+$/;nf.$inject=["$locale"];
var Fh=cb(za),Gh=cb(Wc);pf.$inject=["$parse"];var mi=cb({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(d,c){if(c[0].nodeName.toLowerCase()==="a"){var e=Sa.call(c.prop("href"))==="[object SVGAnimatedString]"?"xlink:href":"href";c.on("click",function(f){c.attr(e)||f.preventDefault()})}}}}),hd={};J(Ic,function(a,b){function d(f,g,k){f.$watch(k[c],function(h){k.$set(b,!!h)})}if(a!=="multiple"){var c=nb("ng-"+b),e=d;a==="checked"&&(e=function(f,g,k){k.ngModel!==k[c]&&d(f,
g,k)});hd[c]=function(){return{restrict:"A",priority:100,link:e}}}});J(Re,function(a,b){hd[b]=function(){return{priority:100,link:function(d,c,e){if(b==="ngPattern"&&e.ngPattern.charAt(0)==="/"&&(c=e.ngPattern.match(Uh))){e.$set("ngPattern",new RegExp(c[1],c[2]));return}d.$watch(e[b],function(f){e.$set(b,f)})}}}});J(["src","srcset","href"],function(a){var b=nb("ng-"+a);hd[b]=function(){return{priority:99,link:function(d,c,e){var f=a,g=a;a==="href"&&Sa.call(c.prop("href"))==="[object SVGAnimatedString]"&&
(g="xlinkHref",e.$attr[g]="xlink:href",f=null);e.$observe(b,function(k){k?(e.$set(g,k),rb&&f&&c.prop(f,e[g])):a==="href"&&e.$set(g,null)})}}}});var bd={$addControl:ka,$$renameControl:function(a,b){a.$name=b},$removeControl:ka,$setValidity:ka,$setDirty:ka,$setPristine:ka,$setSubmitted:ka};ad.$inject=["$element","$attrs","$scope","$animate","$interpolate"];ad.prototype={$rollbackViewValue:function(){J(this.$$controls,function(a){a.$rollbackViewValue()})},$commitViewValue:function(){J(this.$$controls,
function(a){a.$commitViewValue()})},$addControl:function(a){Pb(a.$name,"input");this.$$controls.push(a);a.$name&&(this[a.$name]=a);a.$$parentForm=this},$$renameControl:function(a,b){var d=a.$name;this[d]===a&&delete this[d];this[b]=a;a.$name=b},$removeControl:function(a){a.$name&&this[a.$name]===a&&delete this[a.$name];J(this.$pending,function(b,d){this.$setValidity(d,null,a)},this);J(this.$error,function(b,d){this.$setValidity(d,null,a)},this);J(this.$$success,function(b,d){this.$setValidity(d,null,
a)},this);cc(this.$$controls,a);a.$$parentForm=bd},$setDirty:function(){this.$$animate.removeClass(this.$$element,$b);this.$$animate.addClass(this.$$element,id);this.$dirty=!0;this.$pristine=!1;this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,$b,id+" ng-submitted");this.$dirty=!1;this.$pristine=!0;this.$submitted=!1;J(this.$$controls,function(a){a.$setPristine()})},$setUntouched:function(){J(this.$$controls,function(a){a.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,
"ng-submitted");this.$submitted=!0;this.$$parentForm.$setSubmitted()}};xf({clazz:ad,set:function(a,b,d){var c=a[b];c?c.indexOf(d)===-1&&c.push(d):a[b]=[d]},unset:function(a,b,d){var c=a[b];c&&(cc(c,d),c.length===0&&delete a[b])}});var Gf=function(a){return["$timeout","$parse",function(b,d){function c(e){return e===""?d('this[""]').assign:d(e).assign||ka}return{name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:ad,compile:function(e,f){e.addClass($b).addClass(qc);var g=f.name?"name":
a&&f.ngForm?"ngForm":!1;return{pre:function(k,h,l,n){var p=n[0];if(!("action"in l)){var v=function(H){k.$apply(function(){p.$commitViewValue();p.$setSubmitted()});H.preventDefault()};h[0].addEventListener("submit",v);h.on("$destroy",function(){b(function(){h[0].removeEventListener("submit",v)},0,!1)})}(n[1]||p.$$parentForm).$addControl(p);var w=g?c(p.$name):ka;g&&(w(k,p),l.$observe(g,function(H){p.$name!==H&&(w(k,void 0),p.$$parentForm.$$renameControl(p,H),w=c(p.$name),w(k,p))}));h.on("$destroy",
function(){p.$$parentForm.$removeControl(p);w(k,void 0);Ba(p,bd)})}}}}}]},ni=Gf(),oi=Gf(!0),Nh=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,pi=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,qi=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Oh=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,
Hf=/^(\d{4,})-(\d{2})-(\d{2})$/,If=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,he=/^(\d{4,})-W(\d\d)$/,Jf=/^(\d{4,})-(\d\d)$/,Kf=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,zf=Ea();J(["date","datetime-local","month","time","week"],function(a){zf[a]=!0});var Lf={text:function(a,b,d,c,e,f){Xb(a,b,d,c,e,f);ae(c)},date:rc("date",Hf,cd(Hf,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":rc("datetimelocal",If,cd(If,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:rc("time",
Kf,cd(Kf,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:rc("week",he,function(a,b){if(Xa(a))return a;if(na(a)){he.lastIndex=0;var d=he.exec(a);if(d){a=+d[1];var c=+d[2],e=d=0,f=0,g=0,k=tf(a);c=(c-1)*7;b&&(d=b.getHours(),e=b.getMinutes(),f=b.getSeconds(),g=b.getMilliseconds());return new Date(a,0,k.getDate()+c,d,e,f,g)}}return NaN},"yyyy-Www"),month:rc("month",Jf,cd(Jf,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,c,e,f){be(a,b,d,c);Af(c);Xb(a,b,d,c,e,f);var g,k;if(S(d.min)||d.ngMin)c.$validators.min=
function(l){return c.$isEmpty(l)||V(g)||l>=g},d.$observe("min",function(l){g=Yb(l);c.$validate()});if(S(d.max)||d.ngMax)c.$validators.max=function(l){return c.$isEmpty(l)||V(k)||l<=k},d.$observe("max",function(l){k=Yb(l);c.$validate()});if(S(d.step)||d.ngStep){var h;c.$validators.step=function(l,n){return c.$isEmpty(n)||V(h)||Bf(n,g||0,h)};d.$observe("step",function(l){h=Yb(l);c.$validate()})}},url:function(a,b,d,c,e,f){Xb(a,b,d,c,e,f);ae(c);c.$$parserName="url";c.$validators.url=function(g,k){g=
g||k;return c.$isEmpty(g)||pi.test(g)}},email:function(a,b,d,c,e,f){Xb(a,b,d,c,e,f);ae(c);c.$$parserName="email";c.$validators.email=function(g,k){g=g||k;return c.$isEmpty(g)||qi.test(g)}},radio:function(a,b,d,c){var e=!d.ngTrim||Ca(d.ngTrim)!=="false";V(d.name)&&b.attr("name",++uc);b.on("click",function(f){if(b[0].checked){var g=d.value;e&&(g=Ca(g));c.$setViewValue(g,f&&f.type)}});c.$render=function(){var f=d.value;e&&(f=Ca(f));b[0].checked=f===c.$viewValue};d.$observe("value",c.$render)},range:function(a,
b,d,c,e,f){function g(C,D){b.attr(C,d[C]);d.$observe(C,D)}function k(C){p=Yb(C);Ta(c.$modelValue)||(n?(C=b.val(),p>C&&(C=p,b.val(C)),c.$setViewValue(C)):c.$validate())}function h(C){v=Yb(C);Ta(c.$modelValue)||(n?(C=b.val(),v<C&&(b.val(v),C=v<p?p:v),c.$setViewValue(C)):c.$validate())}function l(C){w=Yb(C);Ta(c.$modelValue)||(n&&c.$viewValue!==b.val()?c.$setViewValue(b.val()):c.$validate())}be(a,b,d,c);Af(c);Xb(a,b,d,c,e,f);var n=c.$$hasNativeValidators&&b[0].type==="range",p=n?0:void 0,v=n?100:void 0,
w=n?1:void 0,H=b[0].validity;a=S(d.min);e=S(d.max);f=S(d.step);var F=c.$render;c.$render=n&&S(H.rangeUnderflow)&&S(H.rangeOverflow)?function(){F();c.$setViewValue(b.val())}:F;a&&(c.$validators.min=n?function(){return!0}:function(C,D){return c.$isEmpty(D)||V(p)||D>=p},g("min",k));e&&(c.$validators.max=n?function(){return!0}:function(C,D){return c.$isEmpty(D)||V(v)||D<=v},g("max",h));f&&(c.$validators.step=n?function(){return!H.stepMismatch}:function(C,D){return c.$isEmpty(D)||V(w)||Bf(D,p||0,w)},g("step",
l))},checkbox:function(a,b,d,c,e,f,g,k){var h=Cf(k,a,"ngTrueValue",d.ngTrueValue,!0),l=Cf(k,a,"ngFalseValue",d.ngFalseValue,!1);b.on("click",function(n){c.$setViewValue(b[0].checked,n&&n.type)});c.$render=function(){b[0].checked=c.$viewValue};c.$isEmpty=function(n){return n===!1};c.$formatters.push(function(n){return db(n,h)});c.$parsers.push(function(n){return n?h:l})},hidden:ka,button:ka,submit:ka,reset:ka,file:ka},Mf=["$browser","$sniffer","$filter","$parse",function(a,b,d,c){return{restrict:"E",
require:["?ngModel"],link:{pre:function(e,f,g,k){k[0]&&(Lf[za(g.type)]||Lf.text)(e,f,g,k[0],b,a,d,c)}}}}],ri=function(){var a={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(b){this.setAttribute("value",b)}};return{restrict:"E",priority:200,compile:function(b,d){if(za(d.type)==="hidden")return{pre:function(c,e,f,g){c=e[0];c.parentNode&&c.parentNode.insertBefore(c,c.nextSibling);Object.defineProperty&&Object.defineProperty(c,"value",a)}}}}},si=/^(true|false|\d+)$/,
ti=function(){function a(b,d,c){var e=S(c)?c:rb===9?"":null;b.prop("value",e);d.$set("value",c)}return{restrict:"A",priority:100,compile:function(b,d){return si.test(d.ngValue)?function(c,e,f){c=c.$eval(f.ngValue);a(e,f,c)}:function(c,e,f){c.$watch(f.ngValue,function(g){a(e,f,g)})}}}},ui=["$compile",function(a){return{restrict:"AC",compile:function(b){a.$$addBindingClass(b);return function(d,c,e){a.$$addBindingInfo(c,e.ngBind);c=c[0];d.$watch(e.ngBind,function(f){c.textContent=vd(f)})}}}}],vi=["$interpolate",
"$compile",function(a,b){return{compile:function(d){b.$$addBindingClass(d);return function(c,e,f){c=a(e.attr(f.$attr.ngBindTemplate));b.$$addBindingInfo(e,c.expressions);e=e[0];f.$observe("ngBindTemplate",function(g){e.textContent=V(g)?"":g})}}}}],wi=["$sce","$parse","$compile",function(a,b,d){return{restrict:"A",compile:function(c,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(k){return a.valueOf(k)});d.$$addBindingClass(c);return function(k,h,l){d.$$addBindingInfo(h,l.ngBindHtml);k.$watch(g,
function(){var n=f(k);h.html(a.getTrustedHtml(n)||"")})}}}}],xi=cb({restrict:"A",require:"ngModel",link:function(a,b,d,c){c.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),yi=de("",!0),zi=de("Odd",0),Ai=de("Even",1),Bi=Wb({compile:function(a,b){b.$set("ngCloak",void 0);a.removeClass("ng-cloak")}}),Ci=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Nf={},Di={blur:!0,focus:!0};J("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),
function(a){var b=nb("ng-"+a);Nf[b]=["$parse","$rootScope",function(d,c){return{restrict:"A",compile:function(e,f){var g=d(f[b]);return function(k,h){h.on(a,function(l){var n=function(){g(k,{$event:l})};Di[a]&&c.$$phase?k.$evalAsync(n):k.$apply(n)})}}}}]});var Ei=["$animate","$compile",function(a,b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(d,c,e,f,g){var k,h,l;d.$watch(e.ngIf,function(n){n?h||g(function(p,v){h=v;p[p.length++]=b.$$createComment("end ngIf",
e.ngIf);k={clone:p};a.enter(p,c.parent(),c)}):(l&&(l.remove(),l=null),h&&(h.$destroy(),h=null),k&&(l=xc(k.clone),a.leave(l).done(function(p){p!==!1&&(l=null)}),k=null))})}}}],Fi=["$templateRequest","$anchorScroll","$animate",function(a,b,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Ua.noop,compile:function(c,e){var f=e.ngInclude||e.src,g=e.onload||"",k=e.autoscroll;return function(h,l,n,p,v){var w=0,H,F,C,D=function(){F&&(F.remove(),F=null);H&&(H.$destroy(),H=
null);C&&(d.leave(C).done(function(A){A!==!1&&(F=null)}),F=C,C=null)};h.$watch(f,function(A){var z=function(q){q===!1||!S(k)||k&&!h.$eval(k)||b()},r=++w;A?(a(A,!0).then(function(q){if(!h.$$destroyed&&r===w){var m=h.$new();p.template=q;q=v(m,function(u){D();d.enter(u,null,l).done(z)});H=m;C=q;H.$emit("$includeContentLoaded",A);h.$eval(g)}},function(){h.$$destroyed||r!==w||(D(),h.$emit("$includeContentError",A))}),h.$emit("$includeContentRequested",A)):(D(),p.template=null)})}}}}],Gi=["$compile",function(a){return{restrict:"ECA",
priority:-400,require:"ngInclude",link:function(b,d,c,e){Sa.call(d[0]).match(/SVG/)?(d.empty(),a(te(e.template,ea.document).childNodes)(b,function(f){d.append(f)},{futureParentElement:d})):(d.html(e.template),a(d.contents())(b))}}}],Hi=Wb({priority:450,compile:function(){return{pre:function(a,b,d){a.$eval(d.ngInit)}}}}),Ii=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,c){var e=d.ngList||", ",f=d.ngTrim!=="false",g=f?Ca(e):e;c.$parsers.push(function(k){if(!V(k)){var h=
[];k&&J(k.split(g),function(l){l&&h.push(f?Ca(l):l)});return h}});c.$formatters.push(function(k){if(ma(k))return k.join(e)});c.$isEmpty=function(k){return!k||!k.length}}}},qc="ng-valid",wf="ng-invalid",$b="ng-pristine",id="ng-dirty",sc=wa("ngModel");dd.$inject="$scope $exceptionHandler $attrs $element $parse $animate $timeout $q $interpolate".split(" ");dd.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var a=this.$$parse(this.$$attr.ngModel+"()"),b=this.$$parse(this.$$attr.ngModel+
"($$$p)");this.$$ngModelGet=function(d){var c=this.$$parsedNgModel(d);da(c)&&(c=a(d));return c};this.$$ngModelSet=function(d,c){da(this.$$parsedNgModel(d))?b(d,{$$$p:c}):this.$$parsedNgModelAssign(d,c)}}else if(!this.$$parsedNgModel.assign)throw sc("nonassign",this.$$attr.ngModel,eb(this.$$element));},$render:ka,$isEmpty:function(a){return V(a)||a===""||a===null||a!==a},$$updateEmptyClasses:function(a){this.$isEmpty(a)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,
"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1;this.$pristine=!0;this.$$animate.removeClass(this.$$element,id);this.$$animate.addClass(this.$$element,$b)},$setDirty:function(){this.$dirty=!0;this.$pristine=!1;this.$$animate.removeClass(this.$$element,$b);this.$$animate.addClass(this.$$element,id);this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1;this.$untouched=
!0;this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0;this.$untouched=!1;this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce);this.$viewValue=this.$$lastCommittedViewValue;this.$render()},$validate:function(){if(!Ta(this.$modelValue)){var a=this.$$lastCommittedViewValue,b=this.$$rawModelValue,d=this.$valid,c=this.$modelValue,e=this.$options.getOption("allowInvalid"),
f=this;this.$$runValidators(b,a,function(g){e||d===g||(f.$modelValue=g?b:void 0,f.$modelValue!==c&&f.$$writeModelToScope())})}},$$runValidators:function(a,b,d){function c(k,h){f===g.$$currentValidationRunId&&g.$setValidity(k,h)}function e(k){f===g.$$currentValidationRunId&&d(k)}this.$$currentValidationRunId++;var f=this.$$currentValidationRunId,g=this;(function(){var k=g.$$parserName||"parse";if(V(g.$$parserValid))c(k,null);else return g.$$parserValid||(J(g.$validators,function(h,l){c(l,null)}),J(g.$asyncValidators,
function(h,l){c(l,null)})),c(k,g.$$parserValid),g.$$parserValid;return!0})()?function(){var k=!0;J(g.$validators,function(h,l){h=!!h(a,b);k=k&&h;c(l,h)});return k?!0:(J(g.$asyncValidators,function(h,l){c(l,null)}),!1)}()?function(){var k=[],h=!0;J(g.$asyncValidators,function(l,n){l=l(a,b);if(!l||!da(l.then))throw sc("nopromise",l);c(n,void 0);k.push(l.then(function(){c(n,!0)},function(){h=!1;c(n,!1)}))});k.length?g.$$q.all(k).then(function(){e(h)},ka):e(!0)}():e(!1):e(!1)},$commitViewValue:function(){var a=
this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce);if(this.$$lastCommittedViewValue!==a||a===""&&this.$$hasNativeValidators)this.$$updateEmptyClasses(a),this.$$lastCommittedViewValue=a,this.$pristine&&this.$setDirty(),this.$$parseAndValidate()},$$parseAndValidate:function(){var a=this.$$lastCommittedViewValue,b=this;if(this.$$parserValid=V(a)?void 0:!0)for(var d=0;d<this.$parsers.length;d++)if(a=this.$parsers[d](a),V(a)){this.$$parserValid=!1;break}Ta(this.$modelValue)&&(this.$modelValue=
this.$$ngModelGet(this.$$scope));var c=this.$modelValue,e=this.$options.getOption("allowInvalid");this.$$rawModelValue=a;e&&(this.$modelValue=a,b.$modelValue!==c&&b.$$writeModelToScope());this.$$runValidators(a,this.$$lastCommittedViewValue,function(f){e||(b.$modelValue=f?a:void 0,b.$modelValue!==c&&b.$$writeModelToScope())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue);J(this.$viewChangeListeners,function(a){try{a()}catch(b){this.$$exceptionHandler(b)}},this)},
$setViewValue:function(a,b){this.$viewValue=a;this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(b)},$$debounceViewValueCommit:function(a){var b=this.$options.getOption("debounce");Qa(b[a])?b=b[a]:Qa(b["default"])&&(b=b["default"]);this.$$timeout.cancel(this.$$pendingDebounce);var d=this;b>0?this.$$pendingDebounce=this.$$timeout(function(){d.$commitViewValue()},b):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){d.$commitViewValue()})},$overrideModelOptions:function(a){this.$options=
this.$options.createChild(a);this.$$setUpdateOnEvents()},$processModelValue:function(){var a=this.$$format();this.$viewValue!==a&&(this.$$updateEmptyClasses(a),this.$viewValue=this.$$lastCommittedViewValue=a,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,ka))},$$format:function(){for(var a=this.$formatters,b=a.length,d=this.$modelValue;b--;)d=a[b](d);return d},$$setModelValue:function(a){this.$modelValue=this.$$rawModelValue=a;this.$$parserValid=void 0;this.$processModelValue()},
$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler);if(this.$$updateEvents=this.$options.getOption("updateOn"))this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(a){this.$$debounceViewValueCommit(a&&a.type)}};xf({clazz:dd,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]}});var Ji=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:dd,
priority:1,compile:function(b){b.addClass($b).addClass("ng-untouched").addClass(qc);return{pre:function(d,c,e,f){var g=f[0];c=f[1]||g.$$parentForm;if(f=f[2])g.$options=f.$options;g.$$initGetterSetters();c.$addControl(g);e.$observe("name",function(k){g.$name!==k&&g.$$parentForm.$$renameControl(g,k)});d.$on("$destroy",function(){g.$$parentForm.$removeControl(g)})},post:function(d,c,e,f){function g(){k.$setTouched()}var k=f[0];k.$$setUpdateOnEvents();c.on("blur",function(){k.$touched||(a.$$phase?d.$evalAsync(g):
d.$apply(g))})}}}}}],Ki=/(\s+|^)default(\s+|$)/;fe.prototype={getOption:function(a){return this.$$options[a]},createChild:function(a){var b=!1;a=Ba({},a);J(a,function(d,c){d==="$inherit"?c==="*"?b=!0:(a[c]=this.$$options[c],c==="updateOn"&&(a.updateOnDefault=this.$$options.updateOnDefault)):c==="updateOn"&&(a.updateOnDefault=!1,a[c]=Ca(d.replace(Ki,function(){a.updateOnDefault=!0;return" "})))},this);b&&(delete a["*"],Df(a,this.$$options));Df(a,ee.$$options);return new fe(a)}};var ee=new fe({updateOn:"",
updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Li=function(){function a(b,d){this.$$attrs=b;this.$$scope=d}a.$inject=["$attrs","$scope"];a.prototype={$onInit:function(){var b=this.parentCtrl?this.parentCtrl.$options:ee,d=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=b.createChild(d)}};return{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:a}},Mi=Wb({terminal:!0,priority:1E3}),Ni=wa("ngOptions"),Oi=
/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Pi=["$compile","$document","$parse",function(a,b,d){function c(g,k,h){function l(B,x,G,K,P){this.selectValue=B;this.viewValue=x;this.label=G;this.group=K;this.disabled=P}function n(B){if(!w&&vb(B))var x=B;else{x=[];for(var G in B)B.hasOwnProperty(G)&&G.charAt(0)!=="$"&&x.push(G)}return x}
var p=g.match(Oi);if(!p)throw Ni("iexp",g,eb(k));var v=p[5]||p[7],w=p[6];g=/ as /.test(p[0])&&p[1];var H=p[9];k=d(p[2]?p[1]:v);var F=g&&d(g)||k,C=H&&d(H),D=H?function(B,x){return C(h,x)}:function(B){return Qb(B)},A=function(B,x){return D(B,E(B,x))},z=d(p[2]||p[1]),r=d(p[3]||""),q=d(p[4]||""),m=d(p[8]),u={},E=w?function(B,x){u[w]=x;u[v]=B;return u}:function(B){u[v]=B;return u};return{trackBy:H,getTrackByValue:A,getWatchables:d(m,function(B){var x=[];B=B||[];for(var G=n(B),K=G.length,P=0;P<K;P++){var Q=
B===G?P:G[P],T=B[Q];Q=E(T,Q);T=D(T,Q);x.push(T);if(p[2]||p[1])T=z(h,Q),x.push(T);p[4]&&(Q=q(h,Q),x.push(Q))}return x}),getOptions:function(){for(var B=[],x={},G=m(h)||[],K=n(G),P=K.length,Q=0;Q<P;Q++){var T=G===K?Q:K[Q],ba=E(G[T],T),ia=F(h,ba);T=D(ia,ba);var oa=z(h,ba),pa=r(h,ba);ba=q(h,ba);ia=new l(T,ia,oa,pa,ba);B.push(ia);x[T]=ia}return{items:B,selectValueMap:x,getOptionFromViewValue:function(ja){return x[A(ja)]},getViewValueFromOption:function(ja){return H?Bb(ja.viewValue):ja.viewValue}}}}}var e=
ea.document.createElement("option"),f=ea.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(g,k,h,l){l[0].registerOption=ka},post:function(g,k,h,l){function n(r){var q=(r=D.getOptionFromViewValue(r))&&r.element;q&&!q.selected&&(q.selected=!0);return r}function p(r,q){r.element=q;q.disabled=r.disabled;r.label!==q.label&&(q.label=r.label,q.textContent=r.label);q.value=r.selectValue}var v=l[0],w=l[1],H=h.multiple;l=0;for(var F=k.children(),
C=F.length;l<C;l++)if(F[l].value===""){v.hasEmptyOption=!0;v.emptyOption=F.eq(l);break}k.empty();l=!!v.emptyOption;fa(e.cloneNode(!1)).val("?");var D,A=c(h.ngOptions,k,g),z=b[0].createDocumentFragment();v.generateUnknownOptionValue=function(r){return"?"};H?(v.writeValue=function(r){if(D){var q=r&&r.map(n)||[];D.items.forEach(function(m){m.element.selected&&Array.prototype.indexOf.call(q,m)===-1&&(m.element.selected=!1)})}},v.readValue=function(){var r=k.val()||[],q=[];J(r,function(m){(m=D.selectValueMap[m])&&
!m.disabled&&q.push(D.getViewValueFromOption(m))});return q},A.trackBy&&g.$watchCollection(function(){if(ma(w.$viewValue))return w.$viewValue.map(function(r){return A.getTrackByValue(r)})},function(){w.$render()})):(v.writeValue=function(r){if(D){var q=k[0].options[k[0].selectedIndex],m=D.getOptionFromViewValue(r);q&&q.removeAttribute("selected");m?(k[0].value!==m.selectValue&&(v.removeUnknownOption(),k[0].value=m.selectValue,m.element.selected=!0),m.element.setAttribute("selected","selected")):v.selectUnknownOrEmptyOption(r)}},
v.readValue=function(){var r=D.selectValueMap[k.val()];return r&&!r.disabled?(v.unselectEmptyOption(),v.removeUnknownOption(),D.getViewValueFromOption(r)):null},A.trackBy&&g.$watch(function(){return A.getTrackByValue(w.$viewValue)},function(){w.$render()}));l&&(a(v.emptyOption)(g),k.prepend(v.emptyOption),v.emptyOption[0].nodeType===8?(v.hasEmptyOption=!1,v.registerOption=function(r,q){q.val()===""&&(v.hasEmptyOption=!0,v.emptyOption=q,v.emptyOption.removeClass("ng-scope"),w.$render(),q.on("$destroy",
function(){var m=v.$isEmptyOptionSelected();v.hasEmptyOption=!1;v.emptyOption=void 0;m&&w.$render()}))}):v.emptyOption.removeClass("ng-scope"));g.$watchCollection(A.getWatchables,function(){var r=D&&v.readValue();if(D)for(var q=D.items.length-1;q>=0;q--){var m=D.items[q];S(m.group)?Hc(m.element.parentNode):Hc(m.element)}D=A.getOptions();var u={};D.items.forEach(function(E){if(S(E.group)){var B=u[E.group];B||(B=f.cloneNode(!1),z.appendChild(B),B.label=E.group===null?"null":E.group,u[E.group]=B);var x=
e.cloneNode(!1);B.appendChild(x);p(E,x)}else B=e.cloneNode(!1),z.appendChild(B),p(E,B)});k[0].appendChild(z);w.$render();w.$isEmpty(r)||(q=v.readValue(),(A.trackBy||H?db(r,q):r===q)||(w.$setViewValue(q),w.$render()))})}}}}],Qi=["$locale","$interpolate","$log",function(a,b,d){var c=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,g,k){function h(z){g.text(z||"")}var l=k.count,n=k.$attr.when&&g.attr(k.$attr.when),p=k.offset||0,v=f.$eval(n)||{},w={},H=b.startSymbol(),F=b.endSymbol(),C=H+l+"-"+p+F,
D=Ua.noop,A;J(k,function(z,r){if(z=e.exec(r))z=(z[1]?"-":"")+za(z[2]),v[z]=g.attr(k.$attr[r])});J(v,function(z,r){w[r]=b(z.replace(c,C))});f.$watch(l,function(z){var r=parseFloat(z),q=Ta(r);q||r in v||(r=a.pluralCat(r-p));r===A||q&&Ta(A)||(D(),q=w[r],V(q)?(z!=null&&d.debug("ngPluralize: no rule defined for '"+r+"' in "+n),D=ka,h()):D=f.$watch(q,h),A=r)})}}}],Ri=["$parse","$animate","$compile",function(a,b,d){var c=wa("ngRepeat"),e=function(f,g,k,h,l,n,p){f[k]=h;l&&(f[l]=n);f.$index=g;f.$first=g===
0;f.$last=g===p-1;f.$middle=!(f.$first||f.$last);f.$odd=!(f.$even=(g&1)===0)};return{restrict:"A",multiElement:!0,transclude:"element",priority:1E3,terminal:!0,$$tlb:!0,compile:function(f,g){var k=g.ngRepeat,h=d.$$createComment("end ngRepeat",k);f=k.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw c("iexp",k);g=f[1];var l=f[2],n=f[3],p=f[4];f=g.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/);if(!f)throw c("iidexp",g);var v=
f[3]||f[1],w=f[2];if(n&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(n)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(n)))throw c("badident",n);var H,F={$id:Qb};if(p)var C=a(p);else{var D=function(z,r){return Qb(r)};var A=function(z){return z}}return function(z,r,q,m,u){C&&(H=function(B,x,G){w&&(F[w]=B);F[v]=x;F.$index=G;return C(z,F)});var E=Ea();z.$watchCollection(l,function(B){var x,G=r[0],K=Ea();n&&(z[n]=B);if(vb(B)){var P=B;var Q=H||D}else for(ba in Q=
H||A,P=[],B)bb.call(B,ba)&&ba.charAt(0)!=="$"&&P.push(ba);var T=P.length;var ba=Array(T);for(x=0;x<T;x++){var ia=B===P?x:P[x];var oa=B[ia];var pa=Q(ia,oa,x);if(E[pa]){var ja=E[pa];delete E[pa];K[pa]=ja;ba[x]=ja}else{if(K[pa])throw J(ba,function(va){va&&va.scope&&(E[va.id]=va)}),c("dupes",k,pa,oa);ba[x]={id:pa,scope:void 0,clone:void 0};K[pa]=!0}}for(ra in E){ja=E[ra];pa=xc(ja.clone);b.leave(pa);if(pa[0].parentNode)for(x=0,Q=pa.length;x<Q;x++)pa[x].$$NG_REMOVED=!0;ja.scope.$destroy()}for(x=0;x<T;x++)if(ia=
B===P?x:P[x],oa=B[ia],ja=ba[x],ja.scope){var ra=G;do ra=ra.nextSibling;while(ra&&ra.$$NG_REMOVED);ja.clone[0]!==ra&&b.move(xc(ja.clone),null,G);G=ja.clone[ja.clone.length-1];e(ja.scope,x,v,oa,w,ia,T)}else u(function(va,mb){ja.scope=mb;mb=h.cloneNode(!1);va[va.length++]=mb;b.enter(va,null,G);G=mb;ja.clone=va;K[ja.id]=ja;e(ja.scope,x,v,oa,w,ia,T)});E=K})}}}}],Si=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngShow,function(e){a[e?"removeClass":"addClass"](d,
"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Ti=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngHide,function(e){a[e?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Ui=Wb(function(a,b,d){a.$watch(d.ngStyle,function(c,e){e&&c!==e&&J(e,function(f,g){b.css(g,"")});c&&b.css(c)},!0)}),Vi=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(d,c,e,f){var g=
[],k=[],h=[],l=[],n=function(p,v){return function(w){w!==!1&&p.splice(v,1)}};d.$watch(e.ngSwitch||e.on,function(p){for(var v,w;h.length;)a.cancel(h.pop());v=0;for(w=l.length;v<w;++v){var H=xc(k[v].clone);l[v].$destroy();(h[v]=a.leave(H)).done(n(h,v))}k.length=0;l.length=0;(g=f.cases["!"+p]||f.cases["?"])&&J(g,function(F){F.transclude(function(C,D){l.push(D);D=F.element;C[C.length++]=b.$$createComment("end ngSwitchWhen");k.push({clone:C});a.enter(C,D.parent(),D)})})})}}}],Wi=Wb({transclude:"element",
priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){a=d.ngSwitchWhen.split(d.ngSwitchWhenSeparator).sort().filter(function(f,g,k){return k[g-1]!==f});J(a,function(f){c.cases["!"+f]=c.cases["!"+f]||[];c.cases["!"+f].push({transclude:e,element:b})})}}),Xi=Wb({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["?"]=c.cases["?"]||[];c.cases["?"].push({transclude:e,element:b})}}),Yi=wa("ngTransclude"),Zi=["$compile",function(a){return{restrict:"EAC",
compile:function(b){var d=a(b.contents());b.empty();return function(c,e,f,g,k){function h(){d(c,function(l){e.append(l)})}if(!k)throw Yi("orphan",eb(e));f.ngTransclude===f.$attr.ngTransclude&&(f.ngTransclude="");f=f.ngTransclude||f.ngTranscludeSlot;k(function(l,n){var p;if(p=l.length)a:{p=0;for(var v=l.length;p<v;p++){var w=l[p];if(w.nodeType!==xb||w.nodeValue.trim()){p=!0;break a}}p=void 0}p?e.append(l):(h(),n.$destroy())},null,f);f&&!k.isSlotFilled(f)&&h()}}}}],$i=["$templateCache",function(a){return{restrict:"E",
terminal:!0,compile:function(b,d){d.type==="text/ng-template"&&a.put(d.id,b[0].text)}}}],aj={$setViewValue:ka,$render:ka},bj=["$element","$scope",function(a,b){function d(){g||(g=!0,b.$$postDigest(function(){g=!1;e.ngModelCtrl.$render()}))}function c(h){k||(k=!0,b.$$postDigest(function(){b.$$destroyed||(k=!1,e.ngModelCtrl.$setViewValue(e.readValue()),h&&e.ngModelCtrl.$render())}))}var e=this,f=new Jc;e.selectValueMap={};e.ngModelCtrl=aj;e.multiple=!1;e.unknownOption=fa(ea.document.createElement("option"));
e.hasEmptyOption=!1;e.emptyOption=void 0;e.renderUnknownOption=function(h){h=e.generateUnknownOptionValue(h);e.unknownOption.val(h);a.prepend(e.unknownOption);Lb(e.unknownOption,!0);a.val(h)};e.updateUnknownOption=function(h){h=e.generateUnknownOptionValue(h);e.unknownOption.val(h);Lb(e.unknownOption,!0);a.val(h)};e.generateUnknownOptionValue=function(h){return"? "+Qb(h)+" ?"};e.removeUnknownOption=function(){e.unknownOption.parent()&&e.unknownOption.remove()};e.selectEmptyOption=function(){e.emptyOption&&
(a.val(""),Lb(e.emptyOption,!0))};e.unselectEmptyOption=function(){e.hasEmptyOption&&Lb(e.emptyOption,!1)};b.$on("$destroy",function(){e.renderUnknownOption=ka});e.readValue=function(){var h=a.val();h=h in e.selectValueMap?e.selectValueMap[h]:h;return e.hasOption(h)?h:null};e.writeValue=function(h){var l=a[0].options[a[0].selectedIndex];l&&Lb(fa(l),!1);e.hasOption(h)?(e.removeUnknownOption(),l=Qb(h),a.val(l in e.selectValueMap?l:h),Lb(fa(a[0].options[a[0].selectedIndex]),!0)):e.selectUnknownOrEmptyOption(h)};
e.addOption=function(h,l){l[0].nodeType!==8&&(Pb(h,'"option value"'),h===""&&(e.hasEmptyOption=!0,e.emptyOption=l),l=f.get(h)||0,f.set(h,l+1),d())};e.removeOption=function(h){var l=f.get(h);l&&(l===1?(f.delete(h),h===""&&(e.hasEmptyOption=!1,e.emptyOption=void 0)):f.set(h,l-1))};e.hasOption=function(h){return!!f.get(h)};e.$hasEmptyOption=function(){return e.hasEmptyOption};e.$isUnknownOptionSelected=function(){return a[0].options[0]===e.unknownOption[0]};e.$isEmptyOptionSelected=function(){return e.hasEmptyOption&&
a[0].options[a[0].selectedIndex]===e.emptyOption[0]};e.selectUnknownOrEmptyOption=function(h){h==null&&e.emptyOption?(e.removeUnknownOption(),e.selectEmptyOption()):e.unknownOption.parent().length?e.updateUnknownOption(h):e.renderUnknownOption(h)};var g=!1,k=!1;e.registerOption=function(h,l,n,p,v){if(n.$attr.ngValue){var w,H=NaN;n.$observe("value",function(F){var C=l.prop("selected");if(S(H)){e.removeOption(w);delete e.selectValueMap[H];var D=!0}H=Qb(F);w=F;e.selectValueMap[H]=F;e.addOption(F,l);
l.attr("value",H);D&&C&&c()})}else p?n.$observe("value",function(F){e.readValue();var C=l.prop("selected");if(S(w)){e.removeOption(w);var D=!0}w=F;e.addOption(F,l);D&&C&&c()}):v?h.$watch(v,function(F,C){n.$set("value",F);var D=l.prop("selected");C!==F&&e.removeOption(C);e.addOption(F,l);C&&D&&c()}):e.addOption(n.value,l);n.$observe("disabled",function(F){if(F==="true"||F&&l.prop("selected"))e.multiple?c(!0):(e.ngModelCtrl.$setViewValue(null),e.ngModelCtrl.$render())});l.on("$destroy",function(){var F=
e.readValue(),C=n.value;e.removeOption(C);d();(e.multiple&&F&&F.indexOf(C)!==-1||F===C)&&c(!0)})}}],cj=function(){return{restrict:"E",require:["select","?ngModel"],controller:bj,priority:1,link:{pre:function(a,b,d,c){var e=c[0],f=c[1];if(f){if(e.ngModelCtrl=f,b.on("change",function(){e.removeUnknownOption();a.$apply(function(){f.$setViewValue(e.readValue())})}),d.multiple){e.multiple=!0;e.readValue=function(){var h=[];J(b.find("option"),function(l){l.selected&&!l.disabled&&(l=l.value,h.push(l in e.selectValueMap?
e.selectValueMap[l]:l))});return h};e.writeValue=function(h){J(b.find("option"),function(l){var n=!!h&&(Array.prototype.indexOf.call(h,l.value)!==-1||Array.prototype.indexOf.call(h,e.selectValueMap[l.value])!==-1);n!==l.selected&&Lb(fa(l),n)})};var g,k=NaN;a.$watch(function(){k!==f.$viewValue||db(g,f.$viewValue)||(g=kb(f.$viewValue),f.$render());k=f.$viewValue});f.$isEmpty=function(h){return!h||h.length===0}}}else e.registerOption=ka},post:function(a,b,d,c){var e=c[1];if(e){var f=c[0];e.$render=function(){f.writeValue(e.$viewValue)}}}}}},
dj=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,d){var c;if(!S(d.ngValue))if(S(d.value))var e=a(d.value,!0);else(c=a(b.text(),!0))||d.$set("value",b.text());return function(f,g,k){var h=g.parent();(h=h.data("$selectController")||h.parent().data("$selectController"))&&h.registerOption(f,g,k,e,c)}}}}],Of=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){c&&(d.required=!0,c.$validators.required=function(e,f){return!d.required||!c.$isEmpty(f)},
d.$observe("required",function(){c.$validate()}))}}},Pf=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e,f=d.ngPattern||d.pattern;d.$observe("pattern",function(g){na(g)&&g.length>0&&(g=new RegExp("^"+g+"$"));if(g&&!g.test)throw wa("ngPattern")("noregexp",f,g,eb(b));e=g||void 0;c.$validate()});c.$validators.pattern=function(g,k){return c.$isEmpty(k)||V(e)||e.test(k)}}}}},Qf=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=-1;d.$observe("maxlength",
function(f){f=parseInt(f,10);e=Ta(f)?-1:f;c.$validate()});c.$validators.maxlength=function(f,g){return e<0||c.$isEmpty(g)||g.length<=e}}}}},Rf=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=0;d.$observe("minlength",function(f){e=parseInt(f,10)||0;c.$validate()});c.$validators.minlength=function(f,g){return c.$isEmpty(g)||g.length>=e}}}}};if(ea.angular.bootstrap)ea.console&&console.log("WARNING: Tried to load AngularJS more than once.");else{(function(){if(!Ef){var a=
ed();if((Ab=V(a)?ea.jQuery:a?ea[a]:void 0)&&Ab.fn.on){fa=Ab;Ba(Ab.fn,{scope:Rb.scope,isolateScope:Rb.isolateScope,controller:Rb.controller,injector:Rb.injector,inheritedData:Rb.inheritedData});var b=Ab.cleanData;Ab.cleanData=function(d){for(var c,e=0,f;(f=d[e])!=null;e++)(c=Ab._data(f,"events"))&&c.$destroy&&Ab(f).triggerHandler("$destroy");b(d)}}else fa=Fa;Ua.element=fa;Ef=!0}})();ea.JQLite=Fa;(function(a){Ba(a,{errorHandlingConfig:Sf,bootstrap:qe,copy:Bb,extend:Ba,merge:Uf,equals:db,element:fa,
forEach:J,injector:gc,noop:ka,bind:Nb,toJson:ec,fromJson:ne,identity:Mb,isUndefined:V,isDefined:S,isString:na,isFunction:da,isObject:ha,isNumber:Qa,isElement:md,isArray:ma,version:Wh,isDate:Xa,lowercase:za,uppercase:Wc,callbacks:{$$counter:0},getTestability:cg,reloadWithDebugInfo:bg,$$minErr:wa,$$csp:Jb,$$encodeUriSegment:fc,$$encodeUriQuery:Za,$$stringify:vd});Dd=eg(ea);Dd("ng",["ngLocale"],["$provide",function(b){b.provider({$$sanitizeUri:wh});b.provider("$compile",Ce).directive({a:mi,input:Mf,
textarea:Mf,form:ni,script:$i,select:cj,option:dj,ngBind:ui,ngBindHtml:wi,ngBindTemplate:vi,ngClass:yi,ngClassEven:Ai,ngClassOdd:zi,ngCloak:Bi,ngController:Ci,ngForm:oi,ngHide:Ti,ngIf:Ei,ngInclude:Fi,ngInit:Hi,ngNonBindable:Mi,ngPluralize:Qi,ngRepeat:Ri,ngShow:Si,ngStyle:Ui,ngSwitch:Vi,ngSwitchWhen:Wi,ngSwitchDefault:Xi,ngOptions:Pi,ngTransclude:Zi,ngModel:Ji,ngList:Ii,ngChange:xi,pattern:Pf,ngPattern:Pf,required:Of,ngRequired:Of,minlength:Rf,ngMinlength:Rf,maxlength:Qf,ngMaxlength:Qf,ngValue:ti,
ngModelOptions:Li}).directive({ngInclude:Gi,input:ri}).directive(hd).directive(Nf);b.provider({$anchorScroll:wg,$animate:di,$animateCss:gi,$$animateJs:bi,$$animateQueue:ci,$$AnimateRunner:fi,$$animateAsyncRun:ei,$browser:zg,$cacheFactory:Ag,$controller:Ug,$document:Vg,$$isDocumentHidden:Wg,$exceptionHandler:Xg,$filter:lf,$$forceReflow:hi,$interpolate:hh,$interval:ih,$http:ch,$httpParamSerializer:Yg,$httpParamSerializerJQLike:Zg,$httpBackend:fh,$xhrFactory:eh,$jsonpCallbacks:ii,$location:lh,$log:mh,
$parse:rh,$rootScope:vh,$q:sh,$$q:th,$sce:Rh,$sceDelegate:Qh,$sniffer:xh,$templateCache:Bg,$templateRequest:Sh,$$testability:yh,$timeout:zh,$window:Ah,$$rAF:uh,$$jqLite:rg,$$Map:Zh,$$cookieReader:Bh})}]).info({angularVersion:"1.6.4-local+sha.617b36117"})})(Ua);Ua.module("ngLocale",[],["$provide",function(a){a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,
MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",
shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\u00a4",negSuf:"",posPre:"\u00a4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(b,d){var c=b|0;if(void 0===d){d=Math;var e=d.min;b+="";var f=b.indexOf(".");d=e.call(d,f==-1?0:b.length-f-1,3)}return c==1&&d==0?"one":"other"}})}]);var Ya=
wa("$sce"),Zb={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",TEMPLATE_URL:"templateUrl",JS:"js"},ge=/_([a-z])/g,Th=wa("$compile");fa(function(){$f(ea.document,qe)})}})(window);angular.element(document).find("head").append(angular.element("<style>").text('@charset "UTF-8";\n\n[ng\\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak],\n.ng-cloak, .x-ng-cloak,\n.ng-hide:not(.ng-hide-animate) {\n  display: none !important;\n}\n\nng\\:form {\n  display: block;\n}\n\n.ng-animate-shim {\n  visibility:hidden;\n}\n\n.ng-anchor {\n  position:absolute;\n}\n'));

//third_party/javascript/angular/v1_6/angular-route.min.js
/*
 AngularJS v1.6.4-local+sha.617b36117
 (c) 2010-2018 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(B,e){'use strict';function J(r){C&&r.get("$route")}function K(r,y,q){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(c,d,h,k,l){function p(){t&&(q.cancel(t),t=null);m&&(m.$destroy(),m=null);v&&(t=q.leave(v),t.done(function(u){u!==!1&&(t=null)}),v=null)}function z(){var u=r.current&&r.current.locals;if(e.isDefined(u&&u.$template)){u=c.$new();var G=r.current;v=l(u,function(H){q.enter(H,null,v||d).done(function(D){D===!1||!e.isDefined(A)||A&&!c.$eval(A)||y()});p()});m=
G.scope=u;m.$emit("$viewContentLoaded");m.$eval(I)}else p()}var m,v,t,A=h.autoscroll,I=h.onload||"";c.$on("$routeChangeSuccess",z);z()}}}function L(r,y,q){return{restrict:"ECA",priority:-400,link:function(c,d){var h=q.current,k=h.locals;d.html(k.$template);var l=r(d.contents());if(h.controller){k.$scope=c;var p=y(h.controller,k);h.controllerAs&&(c[h.controllerAs]=p);d.data("$ngControllerController",p);d.children().data("$ngControllerController",p)}c[h.resolveAs||"$resolve"]=k;l(c)}}}"use strict";
var M,N,O,P;B=e.module("ngRoute",[]).info({angularVersion:"1.6.4-local+sha.617b36117"}).provider("$route",function(){function r(c,d){return e.extend(Object.create(c),d)}function y(c,d){d=d.caseInsensitiveMatch;var h={originalPath:c,regexp:c},k=h.keys=[];c=c.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(l,p,z,m){l=m==="?"||m==="*?"?"?":null;m=m==="*"||m==="*?"?"*":null;k.push({name:z,optional:!!l});p=p||"";return""+(l?"":p)+"(?:"+(l?p:"")+(m&&"(.+?)"||"([^/]+)")+(l||"")+")"+
(l||"")}).replace(/([/$*])/g,"\\$1");h.regexp=new RegExp("^"+c+"$",d?"i":"");return h}M=e.isArray;N=e.isObject;O=e.isDefined;P=e.noop;var q={};this.when=function(c,d){var h=void 0;if(M(d)){h=h||[];for(var k=0,l=d.length;k<l;k++)h[k]=d[k]}else if(N(d))for(k in h=h||{},d)if(k.charAt(0)!=="$"||k.charAt(1)!=="$")h[k]=d[k];d=h||d;e.isUndefined(d.reloadOnSearch)&&(d.reloadOnSearch=!0);e.isUndefined(d.caseInsensitiveMatch)&&(d.caseInsensitiveMatch=this.caseInsensitiveMatch);q[c]=e.extend(d,c&&y(c,d));c&&
(h=c[c.length-1]==="/"?c.substr(0,c.length-1):c+"/",q[h]=e.extend({redirectTo:c},y(h,d)));return this};this.caseInsensitiveMatch=!1;this.otherwise=function(c){typeof c==="string"&&(c={redirectTo:c});this.when(null,c);return this};C=!0;this.eagerInstantiationEnabled=function(c){return O(c)?(C=c,this):C};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(c,d,h,k,l,p,z,m){function v(a){var b=w.current;(Q=(x=H())&&b&&x.$$route===b.$$route&&
e.equals(x.pathParams,b.pathParams)&&!x.reloadOnSearch&&!E)||!b&&!x||c.$broadcast("$routeChangeStart",x,b).defaultPrevented&&a&&a.preventDefault()}function t(){var a=w.current,b=x;if(Q)a.params=b.params,e.copy(a.params,h),c.$broadcast("$routeUpdate",a);else if(b||a){E=!1;w.current=b;var f=k.resolve(b);m.$$incOutstandingRequestCount();f.then(A).then(I).then(function(g){return g&&f.then(u).then(function(n){b===w.current&&(b&&(b.locals=n,e.copy(b.params,h)),c.$broadcast("$routeChangeSuccess",b,a))})}).catch(function(g){b===
w.current&&c.$broadcast("$routeChangeError",b,a,g)}).finally(function(){m.$$completeOutstandingRequest(P)})}}function A(a){var b={route:a,hasRedirection:!1};if(a)if(a.redirectTo)if(e.isString(a.redirectTo))b.path=D(a.redirectTo,a.params),b.search=a.params,b.hasRedirection=!0;else{var f=d.path(),g=d.search();a=a.redirectTo(a.pathParams,f,g);e.isDefined(a)&&(b.url=a,b.hasRedirection=!0)}else if(a.resolveRedirectTo)return k.resolve(l.invoke(a.resolveRedirectTo)).then(function(n){e.isDefined(n)&&(b.url=
n,b.hasRedirection=!0);return b});return b}function I(a){var b=!0;if(a.route!==w.current)b=!1;else if(a.hasRedirection){var f=d.url(),g=a.url;g?d.url(g).replace():g=d.path(a.path).search(a.search).replace().url();g!==f&&(b=!1)}return b}function u(a){if(a){var b=e.extend({},a.resolve);e.forEach(b,function(f,g){b[g]=e.isString(f)?l.get(f):l.invoke(f,null,null,g)});a=G(a);e.isDefined(a)&&(b.$template=a);return k.all(b)}}function G(a){var b,f;e.isDefined(b=a.template)?e.isFunction(b)&&(b=b(a.params)):
e.isDefined(f=a.templateUrl)&&(e.isFunction(f)&&(f=f(a.params)),e.isDefined(f)&&(a.loadedTemplateUrl=z.valueOf(f),b=p(f)));return b}function H(){var a,b;e.forEach(q,function(f,g){if(g=!b){var n=d.path();g=f.keys;var R={};if(f.regexp)if(n=f.regexp.exec(n)){for(var F=1,U=n.length;F<U;++F){var S=g[F-1],T=n[F];S&&T&&(R[S.name]=T)}g=R}else g=null;else g=null;g=a=g}g&&(b=r(f,{params:e.extend({},d.search(),a),pathParams:a}),b.$$route=f)});return b||q[null]&&r(q[null],{params:{},pathParams:{}})}function D(a,
b){var f=[];e.forEach((a||"").split(":"),function(g,n){n===0?f.push(g):(g=g.match(/(\w+)(?:[?*])?(.*)/),n=g[1],f.push(b[n]),f.push(g[2]||""),delete b[n])});return f.join("")}var E=!1,x,Q,w={routes:q,reload:function(){E=!0;var a={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0;E=!1}};c.$evalAsync(function(){v(a);a.defaultPrevented||t()})},updateParams:function(a){if(this.current&&this.current.$$route)a=e.extend({},this.current.params,a),d.path(D(this.current.$$route.originalPath,
a)),d.search(a);else throw V("norout");}};c.$on("$locationChangeStart",v);c.$on("$locationChangeSuccess",t);return w}]}).run(J);var V=e.$$minErr("ngRoute"),C;J.$inject=["$injector"];"use strict";B.provider("$routeParams",function(){this.$get=function(){return{}}});"use strict";B.directive("ngView",K);B.directive("ngView",L);K.$inject=["$route","$anchorScroll","$animate"];L.$inject=["$compile","$controller","$route"]})(window,window.angular);

//third_party/javascript/angular/v1_6/angular-animate.min.js
/*
 AngularJS v1.6.4-local+sha.617b36117
 (c) 2010-2018 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(Ba,ha){'use strict';function Va(a,b,d){if(!a)throw jb("areq",b||"?",d||"required");return a}function Wa(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;sa(a)&&(a=a.join(" "));sa(b)&&(b=b.join(" "));return a+" "+b}function kb(a){var b={};a&&(a.to||a.from)&&(b.to=a.to,b.from=a.from);return b}function ta(a,b,d){var k="";a=sa(a)?a:a&&pa(a)&&a.length?a.split(/\s+/):[];L(a,function(r,x){r&&r.length>0&&(k+=x>0?" ":"",k+=d?b+r:r+b)});return k}function Xa(a){if(a instanceof ja)switch(a.length){case 0:return a;
case 1:if(a[0].nodeType===1)return a;break;default:return ja(Na(a))}if(a.nodeType===1)return ja(a)}function Na(a){if(!a[0])return a;for(var b=0;b<a.length;b++){var d=a[b];if(d.nodeType===1)return d}}function lb(a,b,d){L(b,function(k){a.addClass(k,d)})}function mb(a,b,d){L(b,function(k){a.removeClass(k,d)})}function Ga(a){return function(b,d){d.addClass&&(lb(a,b,d.addClass),d.addClass=null);d.removeClass&&(mb(a,b,d.removeClass),d.removeClass=null)}}function Ha(a){a=a||{};if(!a.$$prepared){var b=a.domOperation||
ka;a.domOperation=function(){a.$$domOperationFired=!0;b();b=ka};a.$$prepared=!0}return a}function ya(a,b){Ya(a,b);Za(a,b)}function Ya(a,b){b.from&&(a.css(b.from),b.from=null)}function Za(a,b){b.to&&(a.css(b.to),b.to=null)}function Ca(a,b,d){var k=b.options||{};d=d.options||{};var r=(k.addClass||"")+" "+(d.addClass||""),x=(k.removeClass||"")+" "+(d.removeClass||"");a=nb(a.attr("class"),r,x);d.preparationClasses&&(k.preparationClasses=Ia(d.preparationClasses,k.preparationClasses),delete d.preparationClasses);
r=k.domOperation!==ka?k.domOperation:null;Oa(k,d);r&&(k.domOperation=r);k.addClass=a.addClass?a.addClass:null;k.removeClass=a.removeClass?a.removeClass:null;b.addClass=k.addClass;b.removeClass=k.removeClass;return k}function nb(a,b,d){function k(e){pa(e)&&(e=e.split(" "));var g={};L(e,function(y){y.length&&(g[y]=!0)});return g}var r={};a=k(a);b=k(b);L(b,function(e,g){r[g]=1});d=k(d);L(d,function(e,g){r[g]=r[g]===1?null:-1});var x={addClass:"",removeClass:""};L(r,function(e,g){if(e===1){var y="addClass";
var C=!a[g]||a[g+"-remove"]}else e===-1&&(y="removeClass",C=a[g]||a[g+"-add"]);C&&(x[y].length&&(x[y]+=" "),x[y]+=g)});return x}function ma(a){return a instanceof ja?a[0]:a}function ob(a,b,d){var k="";b&&(k=ta(b,"ng-",!0));d.addClass&&(k=Ia(k,ta(d.addClass,"-add")));d.removeClass&&(k=Ia(k,ta(d.removeClass,"-remove")));k.length&&(d.preparationClasses=k,a.addClass(k))}function Ja(a,b){b=b?"-"+b+"s":"";Da(a,[Ea,b]);return[Ea,b]}function Pa(a,b){b=b?"paused":"";var d=va+"PlayState";Da(a,[d,b]);return[d,
b]}function Da(a,b){a.style[b[0]]=b[1]}function Ia(a,b){return a?b?a+" "+b:a:b}function $a(a,b,d){var k=Object.create(null),r=a.getComputedStyle(b)||{};L(d,function(x,e){if(x=r[x]){var g=x.charAt(0);if(g==="-"||g==="+"||g>=0)x=pb(x);x===0&&(x=null);k[e]=x}});return k}function pb(a){var b=0;a=a.split(/\s*,\s*/);L(a,function(d){d.charAt(d.length-1)==="s"&&(d=d.substring(0,d.length-1));d=parseFloat(d)||0;b=b?Math.max(d,b):d});return b}function Qa(a){return a===0||a!=null}function ab(a,b){var d=qa;a+=
"s";b?d+="Duration":a+=" linear all";return[d,a]}function bb(){var a=Object.create(null);return{flush:function(){a=Object.create(null)},count:function(b){return(b=a[b])?b.total:0},get:function(b){return(b=a[b])&&b.value},put:function(b,d){a[b]?a[b].total++:a[b]={total:1,value:d}}}}function cb(a,b,d){L(d,function(k){a[k]=Ra(a[k])?a[k]:b.style.getPropertyValue(k)})}if(Ba.ontransitionend===void 0&&Ba.onwebkittransitionend!==void 0){var qa="WebkitTransition";var db="webkitTransitionEnd transitionend"}else qa=
"transition",db="transitionend";if(Ba.onanimationend===void 0&&Ba.onwebkitanimationend!==void 0){var va="WebkitAnimation";var eb="webkitAnimationEnd animationend"}else va="animation",eb="animationend";var Ka=va+"Delay",Sa=va+"Duration",Ea=qa+"Delay",fb=qa+"Duration",jb=ha.$$minErr("ng");"use strict";"use strict";"use strict";var qb={transitionDuration:fb,transitionDelay:Ea,transitionProperty:qa+"Property",animationDuration:Sa,animationDelay:Ka,animationIterationCount:va+"IterationCount"},rb={transitionDuration:fb,
transitionDelay:Ea,animationDuration:Sa,animationDelay:Ka};"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";var Ta,Oa,L,sa,Ra,La,Ua,Ma,pa,za,ja,ka;ha.module("ngAnimate",[],function(){ka=ha.noop;Ta=ha.copy;Oa=ha.extend;ja=ha.element;L=ha.forEach;sa=ha.isArray;pa=ha.isString;Ma=ha.isObject;za=ha.isUndefined;Ra=ha.isDefined;Ua=ha.isFunction;La=ha.isElement}).info({angularVersion:"1.6.4-local+sha.617b36117"}).directive("ngAnimateSwap",["$animate","$rootScope",
function(a,b){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(d,k,r,x,e){var g,y;d.$watchCollection(r.ngAnimateSwap||r["for"],function(C){g&&a.leave(g);y&&(y.$destroy(),y=null);if(C||C===0)y=d.$new(),e(y,function(T){g=T;a.enter(T,null,k)})})}}}]).directive("ngAnimateChildren",["$interpolate",function(a){return{link:function(b,d,k){function r(e){d.data("$$ngAnimateChildren",e==="on"||e==="true")}var x=k.ngAnimateChildren;pa(x)&&x.length===0?d.data("$$ngAnimateChildren",
!0):(r(a(x)(b)),k.$observe("ngAnimateChildren",r))}}}]).factory("$$rAFScheduler",["$$rAF",function(a){function b(x){r=r.concat(x);d()}function d(){if(r.length){for(var x=r.shift(),e=0;e<x.length;e++)x[e]();k||a(function(){k||d()})}}var k;var r=b.queue=[];b.waitUntilQuiet=function(x){k&&k();k=a(function(){k=null;x();d()})};return b}]).provider("$$animateQueue",["$animateProvider",function(a){function b(e){if(!e)return null;e=e.split(" ");var g=Object.create(null);L(e,function(y){g[y]=!0});return g}
function d(e,g){if(e&&g){var y=b(g);return e.split(" ").some(function(C){return y[C]})}}function k(e,g,y){return x[e].some(function(C){return C(g,y)})}function r(e,g){var y=(e.addClass||"").length>0;e=(e.removeClass||"").length>0;return g?y&&e:y||e}var x=this.rules={skip:[],cancel:[],join:[]};x.join.push(function(e,g){return!e.structural&&r(e)});x.skip.push(function(e,g){return!e.structural&&!r(e)});x.skip.push(function(e,g){return g.event==="leave"&&e.structural});x.skip.push(function(e,g){return g.structural&&
g.state===2&&!e.structural});x.cancel.push(function(e,g){return g.structural&&e.structural});x.cancel.push(function(e,g){return g.state===2&&e.structural});x.cancel.push(function(e,g){if(g.structural)return!1;var y=e.addClass;e=e.removeClass;var C=g.addClass;g=g.removeClass;return za(y)&&za(e)||za(C)&&za(g)?!1:d(y,g)||d(e,C)});this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(e,
g,y,C,T,I,Y,V,z,P,M){function N(){var h=!1;return function(l){h?l():g.$$postDigest(function(){h=!0;l()})}}function n(h,l,q){var G=[],W=f[q];W&&L(W,function(A){X.call(A.node,l)?G.push(A.callback):q==="leave"&&X.call(A.node,h)&&G.push(A.callback)});return G}function t(h,l,q){var G=Na(l);return h.filter(function(W){return!(W.node===G&&(!q||W.callback===q))})}function u(h,l,q){function G(p,ca,ba,ra){wa(function(){var ea=n(na,O,ca);ea.length?e(function(){L(ea,function(la){la(Q,ba,ra)});ba!=="close"||O.parentNode||
aa.off(O)}):ba!=="close"||O.parentNode||aa.off(O)});p.progress(ca,ba,ra)}function W(p){var ca=Q,ba=A;ba.preparationClasses&&(ca.removeClass(ba.preparationClasses),ba.preparationClasses=null);ba.activeClasses&&(ca.removeClass(ba.activeClasses),ba.activeClasses=null);R(Q,A);ya(Q,A);A.domOperation();U.complete(!p)}var A=Ta(q),Q=Xa(h),O=ma(Q),na=O&&O.parentNode;A=Ha(A);var U=new Y,wa=N();sa(A.addClass)&&(A.addClass=A.addClass.join(" "));A.addClass&&!pa(A.addClass)&&(A.addClass=null);sa(A.removeClass)&&
(A.removeClass=A.removeClass.join(" "));A.removeClass&&!pa(A.removeClass)&&(A.removeClass=null);A.from&&!Ma(A.from)&&(A.from=null);A.to&&!Ma(A.to)&&(A.to=null);if(!(c&&O&&J(O,l,q)&&B(O,A)))return W(),U;var ua=["enter","move","leave"].indexOf(l)>=0,F=M(),ia=F||m.get(O);q=!ia&&D.get(O)||{};var oa=!!q.state;ia||oa&&q.state===1||(ia=!H(O,na,l));if(ia)return F&&G(U,l,"start"),W(),F&&G(U,l,"close"),U;ua&&S(O);F={structural:ua,element:Q,event:l,addClass:A.addClass,removeClass:A.removeClass,close:W,options:A,
runner:U};if(oa){if(k("skip",F,q)){if(q.state===2)return W(),U;Ca(Q,q,F);return q.runner}if(k("cancel",F,q))if(q.state===2)q.runner.end();else if(q.structural)q.close();else return Ca(Q,q,F),q.runner;else if(k("join",F,q))if(q.state===2)Ca(Q,F,{});else return ob(Q,ua?l:null,A),l=F.event=q.event,A=Ca(Q,q,F),q.runner}else Ca(Q,F,{});(oa=F.structural)||(oa=F.event==="animate"&&Object.keys(F.options.to||{}).length>0||r(F));if(!oa)return W(),v(O),U;var da=(q.counter||0)+1;F.counter=da;w(O,1,F);g.$$postDigest(function(){Q=
Xa(h);var p=D.get(O),ca=!p;p=p||{};var ba=(Q.parent()||[]).length>0&&(p.event==="animate"||p.structural||r(p));if(ca||p.counter!==da||!ba){ca&&(R(Q,A),ya(Q,A));if(ca||ua&&p.event!==l)A.domOperation(),U.end();ba||v(O)}else l=!p.structural&&r(p,!0)?"setClass":p.event,w(O,2),p=I(Q,l,p.options),U.setHost(p),G(U,l,"start",{}),p.done(function(ra){W(!ra);(ra=D.get(O))&&ra.counter===da&&v(O);G(U,l,"close",{})})});return U}function S(h){h=h.querySelectorAll("[data-ng-animate]");L(h,function(l){var q=parseInt(l.getAttribute("data-ng-animate"),
10),G=D.get(l);if(G)switch(q){case 2:G.runner.end();case 1:D.delete(l)}})}function v(h){h.removeAttribute("data-ng-animate");D.delete(h)}function H(h,l,q){q=C[0].body;var G=ma(y),W=h===q||h.nodeName==="HTML",A=h===G,Q=!1,O=m.get(h),na;for((h=ja.data(h,"$ngAnimatePin"))&&(l=ma(h));l;){A||(A=l===G);if(l.nodeType!==1)break;h=D.get(l)||{};if(!Q){var U=m.get(l);if(U===!0&&O!==!1){O=!0;break}else U===!1&&(O=!1);Q=h.structural}if(za(na)||na===!0)h=ja.data(l,"$$ngAnimateChildren"),Ra(h)&&(na=h);if(Q&&na===
!1)break;W||(W=l===q);if(W&&A)break;if(!A&&(h=ja.data(l,"$ngAnimatePin"))){l=ma(h);continue}l=l.parentNode}return(!Q||na)&&O!==!0&&A&&W}function w(h,l,q){q=q||{};q.state=l;h.setAttribute("data-ng-animate",l);q=(l=D.get(h))?Oa(l,q):q;D.set(h,q)}var D=new T,m=new T,c=null,E=g.$watch(function(){return V.totalPendingRequests===0},function(h){h&&(E(),g.$$postDigest(function(){g.$$postDigest(function(){c===null&&(c=!0)})}))}),f=Object.create(null);T=a.customFilter();var K=a.classNameFilter();P=function(){return!0};
var J=T||P,B=K?function(h,l){h=[h.getAttribute("class"),l.addClass,l.removeClass].join(" ");return K.test(h)}:P,R=Ga(z),X=Ba.Node.prototype.contains||function(h){return this===h||!!(this.compareDocumentPosition(h)&16)},aa={on:function(h,l,q){var G=Na(l);f[h]=f[h]||[];f[h].push({node:G,callback:q});ja(l).on("$destroy",function(){D.get(G)||aa.off(h,l,q)})},off:function(h,l,q){if(arguments.length!==1||pa(arguments[0])){var G=f[h];G&&(f[h]=arguments.length===1?null:t(G,l,q))}else for(G in l=arguments[0],
f)f[G]=t(f[G],l)},pin:function(h,l){Va(La(h),"element","not an element");Va(La(l),"parentElement","not an element");h.data("$ngAnimatePin",l)},push:function(h,l,q,G){q=q||{};q.domOperation=G;return u(h,l,q)},enabled:function(h,l){var q=arguments.length;if(q===0)l=!!c;else if(La(h)){var G=ma(h);q===1?l=!m.get(G):m.set(G,!l)}else l=c=!!h;return l}};return aa}]}]).provider("$$animation",["$animateProvider",function(a){var b=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner",
"$$Map","$$rAFScheduler",function(d,k,r,x,e,g){function y(I){function Y(N){if(N.processed)return N;N.processed=!0;var n=N.domNode,t=n.parentNode;P.set(n,N);for(var u;t;){if(u=P.get(t)){u.processed||(u=Y(u));break}t=t.parentNode}(u||V).children.push(N);return N}var V={children:[]},z,P=new e;for(z=0;z<I.length;z++){var M=I[z];P.set(M.domNode,I[z]={domNode:M.domNode,fn:M.fn,children:[]})}for(z=0;z<I.length;z++)Y(I[z]);return function(N){var n=[],t=[],u;for(u=0;u<N.children.length;u++)t.push(N.children[u]);
N=t.length;var S=0,v=[];for(u=0;u<t.length;u++){var H=t[u];N<=0&&(N=S,S=0,n.push(v),v=[]);v.push(H.fn);H.children.forEach(function(w){S++;t.push(w)});N--}v.length&&n.push(v);return n}(V)}var C=[],T=Ga(d);return function(I,Y,V){function z(m){m=m.hasAttribute("ng-animate-ref")?[m]:m.querySelectorAll("[ng-animate-ref]");var c=[];L(m,function(E){var f=E.getAttribute("ng-animate-ref");f&&f.length&&c.push(E)});return c}function P(m){var c=[],E={};L(m,function(J,B){var R=ma(J.element),X=["enter","move"].indexOf(J.event)>=
0;R=J.structural?z(R):[];if(R.length){var aa=X?"to":"from";L(R,function(h){var l=h.getAttribute("ng-animate-ref");E[l]=E[l]||{};E[l][aa]={animationID:B,element:ja(h)}})}else c.push(J)});var f={},K={};L(E,function(J,B){B=J.from;J=J.to;if(B&&J){var R=m[B.animationID],X=m[J.animationID],aa=B.animationID.toString();if(!K[aa]){var h=K[aa]={structural:!0,beforeStart:function(){R.beforeStart();X.beforeStart()},close:function(){R.close();X.close()},classes:M(R.classes,X.classes),from:R,to:X,anchors:[]};h.classes.length?
c.push(h):(c.push(R),c.push(X))}K[aa].anchors.push({out:B.element,"in":J.element})}else B=B?B.animationID:J.animationID,J=B.toString(),f[J]||(f[J]=!0,c.push(m[B]))});return c}function M(m,c){m=m.split(" ");c=c.split(" ");for(var E=[],f=0;f<m.length;f++){var K=m[f];if(K.substring(0,3)!=="ng-")for(var J=0;J<c.length;J++)if(K===c[J]){E.push(K);break}}return E.join(" ")}function N(m){for(var c=b.length-1;c>=0;c--){var E=r.get(b[c])(m);if(E)return E}}function n(m,c){function E(f){(f=f.data("$$animationRunner"))&&
f.setHost(c)}m.from&&m.to?(E(m.from.element),E(m.to.element)):E(m.element)}function t(){var m=I.data("$$animationRunner");!m||Y==="leave"&&V.$$domOperationFired||m.end()}function u(m){I.off("$destroy",t);I.removeData("$$animationRunner");T(I,V);ya(I,V);V.domOperation();w&&d.removeClass(I,w);I.removeClass("ng-animate");v.complete(!m)}V=Ha(V);var S=["enter","move","leave"].indexOf(Y)>=0,v=new x({end:function(){u()},cancel:function(){u(!0)}});if(!b.length)return u(),v;I.data("$$animationRunner",v);var H=
Wa(I.attr("class"),Wa(V.addClass,V.removeClass)),w=V.tempClasses;w&&(H+=" "+w,V.tempClasses=null);if(S){var D="ng-"+Y+"-prepare";d.addClass(I,D)}C.push({element:I,classes:H,event:Y,structural:S,options:V,beforeStart:function(){I.addClass("ng-animate");w&&d.addClass(I,w);D&&(d.removeClass(I,D),D=null)},close:u});I.on("$destroy",t);if(C.length>1)return v;k.$$postDigest(function(){var m=[];L(C,function(f){f.element.data("$$animationRunner")?m.push(f):f.close()});C.length=0;var c=P(m),E=[];L(c,function(f){E.push({domNode:ma(f.from?
f.from.element:f.element),fn:function(){f.beforeStart();var K=f.close;if((f.anchors?f.from.element||f.to.element:f.element).data("$$animationRunner")){var J=N(f);if(J)var B=J.start}B?(B=B(),B.done(function(R){K(!R)}),n(f,B)):K()}})});g(y(E))});return v}}]}]).provider("$animateCss",["$animateProvider",function(a){var b=bb(),d=bb();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(k,r,x,e,g,y,C,T){function I(n,t){var u=
n.parentNode;return(u.$$ngAnimateParentKey||(u.$$ngAnimateParentKey=++M))+"-"+n.getAttribute("class")+"-"+t}function Y(n,t,u,S){if(b.count(u)>0){var v=d.get(u);v||(t=ta(t,"-stagger"),r.addClass(n,t),v=$a(k,n,S),v.animationDuration=Math.max(v.animationDuration,0),v.transitionDuration=Math.max(v.transitionDuration,0),r.removeClass(n,t),d.put(u,v))}return v||{}}function V(n){N.push(n);C.waitUntilQuiet(function(){b.flush();d.flush();for(var t=g(),u=0;u<N.length;u++)N[u](t);N.length=0})}function z(n,t,
u){t=b.get(u);t||(t=$a(k,n,qb),t.animationIterationCount==="infinite"&&(t.animationIterationCount=1));b.put(u,t);n=t;u=n.animationDelay;t=n.transitionDelay;n.maxDelay=u&&t?Math.max(u,t):u||t;n.maxDuration=Math.max(n.animationDuration*n.animationIterationCount,n.transitionDuration);return n}var P=Ga(r),M=0,N=[];return function(n,t){function u(){v()}function S(){v(!0)}function v(ea){if(!(R||aa&&X)){R=!0;X=!1;c.$$skipPreparationClasses||r.removeClass(n,Q);r.removeClass(n,na);Pa(f,!1);Ja(f,!1);L(K,function(xa){f.style[xa[0]]=
""});P(n,c);ya(n,c);Object.keys(E).length&&L(E,function(xa,Fa){xa?f.style.setProperty(Fa,xa):f.style.removeProperty(Fa)});if(c.onDone)c.onDone();G&&G.length&&n.off(G.join(" "),D);var la=n.data("$$animateCss");la&&(e.cancel(la[0].timer),n.removeData("$$animateCss"));h&&h.complete(!ea)}}function H(ea){p.blockTransition&&Ja(f,ea);p.blockKeyframeAnimation&&Pa(f,!!ea)}function w(){h=new x({end:u,cancel:S});V(ka);v();return{$$willAnimate:!1,start:function(){return h},end:u}}function D(ea){ea.stopPropagation();
var la=ea.originalEvent||ea;la.target===f&&(ea=la.$manualTimeStamp||Date.now(),la=parseFloat(la.elapsedTime.toFixed(3)),Math.max(ea-q,0)>=ba&&la>=da&&(aa=!0,v()))}function m(){function ea(){if(!R){H(!1);L(K,function(gb){f.style[gb[0]]=gb[1]});P(n,c);r.addClass(n,na);if(p.recalculateTimingStyles){O=f.getAttribute("class")+" "+Q;wa=I(f,O);F=z(f,O,wa);ia=F.maxDelay;oa=Math.max(ia,0);da=F.maxDuration;if(da===0){v();return}p.hasTransitions=F.transitionDuration>0;p.hasAnimations=F.animationDuration>0}p.applyAnimationDelay&&
(ia=typeof c.delay!=="boolean"&&Qa(c.delay)?parseFloat(c.delay):ia,oa=Math.max(ia,0),F.animationDelay=ia,ca=[Ka,ia+"s"],K.push(ca),f.style[ca[0]]=ca[1]);ba=oa*1E3;ra=da*1E3;if(c.easing){var Z=c.easing;if(p.hasTransitions){var fa=qa+"TimingFunction";K.push([fa,Z]);f.style[fa]=Z}p.hasAnimations&&(fa=va+"TimingFunction",K.push([fa,Z]),f.style[fa]=Z)}F.transitionDuration&&G.push(db);F.animationDuration&&G.push(eb);q=Date.now();var Aa=ba+1.5*ra;fa=q+Aa;Z=n.data("$$animateCss")||[];var hb=!0;if(Z.length){var ib=
Z[0];(hb=fa>ib.expectedEndTime)?e.cancel(ib.timer):Z.push(v)}hb&&(Aa=e(la,Aa,!1),Z[0]={timer:Aa,expectedEndTime:fa},Z.push(v),n.data("$$animateCss",Z));if(G.length)n.on(G.join(" "),D);c.to&&(c.cleanupStyles&&cb(E,f,Object.keys(c.to)),Za(n,c))}}function la(){var Z=n.data("$$animateCss");if(Z){for(var fa=1;fa<Z.length;fa++)Z[fa]();n.removeData("$$animateCss")}}if(!R)if(f.parentNode){var xa=function(Z){if(aa)X&&Z&&(X=!1,v());else if(X=!Z,F.animationDuration)if(Z=Pa(f,X),X)K.push(Z);else{var fa=K,Aa=
fa.indexOf(Z);Z>=0&&fa.splice(Aa,1)}},Fa=ua>0&&(F.transitionDuration&&U.transitionDuration===0||F.animationDuration&&U.animationDuration===0)&&Math.max(U.animationDelay,U.transitionDelay);Fa?e(ea,Math.floor(Fa*ua*1E3),!1):ea();l.resume=function(){xa(!0)};l.pause=function(){xa(!1)}}else v()}var c=t||{};c.$$prepared||(c=Ha(Ta(c)));var E={},f=ma(n);if(!f||!f.parentNode||!T.enabled())return w();var K=[],J=n.attr("class"),B=kb(c),R,X,aa,h,l,q,G=[];if(c.duration===0||!y.animations&&!y.transitions)return w();
var W=c.event&&sa(c.event)?c.event.join(" "):c.event,A="";t="";W&&c.structural?A=ta(W,"ng-",!0):W&&(A=W);c.addClass&&(t+=ta(c.addClass,"-add"));c.removeClass&&(t.length&&(t+=" "),t+=ta(c.removeClass,"-remove"));c.applyClassesEarly&&t.length&&P(n,c);var Q=[A,t].join(" ").trim(),O=J+" "+Q,na=ta(Q,"-active");J=B.to&&Object.keys(B.to).length>0;if(!((c.keyframeStyle||"").length>0||J||Q))return w();if(c.stagger>0){B=parseFloat(c.stagger);var U={transitionDelay:B,animationDelay:B,transitionDuration:0,animationDuration:0}}else{var wa=
I(f,O);U=Y(f,Q,wa,rb)}c.$$skipPreparationClasses||r.addClass(n,Q);c.transitionStyle&&(B=[qa,c.transitionStyle],Da(f,B),K.push(B));c.duration>=0&&(B=f.style[qa].length>0,B=ab(c.duration,B),Da(f,B),K.push(B));c.keyframeStyle&&(B=[va,c.keyframeStyle],Da(f,B),K.push(B));var ua=U?c.staggerIndex>=0?c.staggerIndex:b.count(wa):0;(W=ua===0)&&!c.skipBlocking&&Ja(f,9999);var F=z(f,O,wa),ia=F.maxDelay;var oa=Math.max(ia,0);var da=F.maxDuration;var p={};p.hasTransitions=F.transitionDuration>0;p.hasAnimations=
F.animationDuration>0;p.hasTransitionAll=p.hasTransitions&&F.transitionProperty==="all";p.applyTransitionDuration=J&&(p.hasTransitions&&!p.hasTransitionAll||p.hasAnimations&&!p.hasTransitions);p.applyAnimationDuration=c.duration&&p.hasAnimations;p.applyTransitionDelay=Qa(c.delay)&&(p.applyTransitionDuration||p.hasTransitions);p.applyAnimationDelay=Qa(c.delay)&&p.hasAnimations;p.recalculateTimingStyles=t.length>0;if(p.applyTransitionDuration||p.applyAnimationDuration)da=c.duration?parseFloat(c.duration):
da,p.applyTransitionDuration&&(p.hasTransitions=!0,F.transitionDuration=da,B=f.style[qa+"Property"].length>0,K.push(ab(da,B))),p.applyAnimationDuration&&(p.hasAnimations=!0,F.animationDuration=da,K.push([Sa,da+"s"]));if(da===0&&!p.recalculateTimingStyles)return w();if(c.delay!=null){if(typeof c.delay!=="boolean"){var ca=parseFloat(c.delay);oa=Math.max(ca,0)}p.applyTransitionDelay&&K.push([Ea,ca+"s"]);p.applyAnimationDelay&&K.push([Ka,ca+"s"])}c.duration==null&&F.transitionDuration>0&&(p.recalculateTimingStyles=
p.recalculateTimingStyles||W);var ba=oa*1E3;var ra=da*1E3;c.skipBlocking||(p.blockTransition=F.transitionDuration>0,p.blockKeyframeAnimation=F.animationDuration>0&&U.animationDelay>0&&U.animationDuration===0);c.from&&(c.cleanupStyles&&cb(E,f,Object.keys(c.from)),Ya(n,c));p.blockTransition||p.blockKeyframeAnimation?H(da):c.skipBlocking||Ja(f,!1);return{$$willAnimate:!0,end:u,start:function(){if(!R)return l={end:u,cancel:S,resume:null,pause:null},h=new x(l),V(m),h}}}}]}]).provider("$$animateCssDriver",
["$$animationProvider",function(a){a.drivers.push("$$animateCssDriver");this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(b,d,k,r,x,e,g){function y(z,P){pa(z)&&(z=z.split(" "));pa(P)&&(P=P.split(" "));return z.filter(function(M){return P.indexOf(M)===-1}).join(" ")}function C(z,P,M){function N(w){var D={},m=ma(w).getBoundingClientRect();L(["width","height","top","left"],function(c){var E=m[c];switch(c){case "top":E+=Y.scrollTop;break;
case "left":E+=Y.scrollLeft}D[c]=Math.floor(E)+"px"});return D}function n(){var w=(M.attr("class")||"").replace(/\bng-\S+\b/g,""),D=y(w,S);w=y(S,w);D=b(u,{to:N(M),addClass:"ng-anchor-in "+D,removeClass:"ng-anchor-out "+w,delay:!0});return D.$$willAnimate?D:null}function t(){u.remove();P.removeClass("ng-animate-shim");M.removeClass("ng-animate-shim")}var u=ja(ma(P).cloneNode(!0)),S=(u.attr("class")||"").replace(/\bng-\S+\b/g,"");P.addClass("ng-animate-shim");M.addClass("ng-animate-shim");u.addClass("ng-anchor");
V.append(u);z=function(){var w=b(u,{addClass:"ng-anchor-out",delay:!0,from:N(P)});return w.$$willAnimate?w:null}();if(!z){var v=n();if(!v)return t()}var H=z||v;return{start:function(){function w(){m&&m.end()}var D,m=H.start();m.done(function(){m=null;if(!v&&(v=n()))return m=v.start(),m.done(function(){m=null;t();D.complete()}),m;t();D.complete()});return D=new k({end:w,cancel:w})}}}function T(z,P,M,N){var n=I(z,ka),t=I(P,ka),u=[];L(N,function(S){(S=C(M,S.out,S["in"]))&&u.push(S)});if(n||t||u.length!==
0)return{start:function(){function S(){L(v,function(w){w.end()})}var v=[];n&&v.push(n.start());t&&v.push(t.start());L(u,function(w){v.push(w.start())});var H=new k({end:S,cancel:S});k.all(v,function(w){H.complete(w)});return H}}}function I(z){var P=z.element,M=z.options||{};z.structural&&(M.event=z.event,M.structural=!0,M.applyClassesEarly=!0,z.event==="leave"&&(M.onDone=M.domOperation));M.preparationClasses&&(M.event=Ia(M.event,M.preparationClasses));z=b(P,M);return z.$$willAnimate?z:null}if(!x.animations&&
!x.transitions)return ka;var Y=g[0].body;d=ma(r);var V=ja(d.parentNode&&d.parentNode.nodeType===11||Y.contains(d)?d:Y);return function(z){return z.from&&z.to?T(z.from,z.to,z.classes,z.anchors):I(z)}}]}]).provider("$$animateJs",["$animateProvider",function(a){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(b,d,k){function r(e){e=sa(e)?e:e.split(" ");for(var g=[],y={},C=0;C<e.length;C++){var T=e[C],I=a.$$registeredAnimations[T];I&&!y[T]&&(g.push(b.get(I)),y[T]=!0)}return g}var x=Ga(k);
return function(e,g,y,C){function T(){C.domOperation();x(e,C)}function I(H,w,D,m,c){switch(D){case "animate":w=[w,m.from,m.to,c];break;case "setClass":w=[w,P,M,c];break;case "addClass":w=[w,P,c];break;case "removeClass":w=[w,M,c];break;default:w=[w,c]}w.push(m);if(H=H.apply(H,w))if(Ua(H.start)&&(H=H.start()),H instanceof d)H.done(c);else if(Ua(H))return H;return ka}function Y(H,w,D,m,c){var E=[];L(m,function(f){var K=f[c];K&&E.push(function(){var J=!1,B=function(aa){J||(J=!0,(X||ka)(aa),R.complete(!aa))};
var R=new d({end:function(){B()},cancel:function(){B(!0)}});var X=I(K,H,w,D,function(aa){B(aa===!1)});return R})});return E}function V(H,w,D,m,c){var E=Y(H,w,D,m,c);if(E.length===0){if(c==="beforeSetClass"){var f=Y(H,"removeClass",D,m,"beforeRemoveClass");var K=Y(H,"addClass",D,m,"beforeAddClass")}else c==="setClass"&&(f=Y(H,"removeClass",D,m,"removeClass"),K=Y(H,"addClass",D,m,"addClass"));f&&(E=E.concat(f));K&&(E=E.concat(K))}if(E.length!==0)return function(J){var B=[];E.length&&L(E,function(R){B.push(R())});
B.length?d.all(B,J):J();return function(R){L(B,function(X){R?X.cancel():X.end()})}}}var z=!1;arguments.length===3&&Ma(y)&&(C=y,y=null);C=Ha(C);y||(y=e.attr("class")||"",C.addClass&&(y+=" "+C.addClass),C.removeClass&&(y+=" "+C.removeClass));var P=C.addClass,M=C.removeClass,N=r(y),n;if(N.length){if(g==="leave"){var t="leave";var u="afterLeave"}else t="before"+g.charAt(0).toUpperCase()+g.substr(1),u=g;g!=="enter"&&g!=="move"&&(n=V(e,g,C,N,t));var S=V(e,g,C,N,u)}if(n||S){var v;return{$$willAnimate:!0,
end:function(){v?v.end():(z=!0,T(),ya(e,C),v=new d,v.complete(!0));return v},start:function(){function H(m){z=!0;T();ya(e,C);v.complete(m)}if(v)return v;v=new d;var w,D=[];n&&D.push(function(m){w=n(m)});D.length?D.push(function(m){T();m(!0)}):T();S&&D.push(function(m){w=S(m)});v.setHost({end:function(){z||((w||ka)(void 0),H(void 0))},cancel:function(){z||((w||ka)(!0),H(!0))}});d.chain(D,H);return v}}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver");
this.$get=["$$animateJs","$$AnimateRunner",function(b,d){function k(r){return b(r.element,r.event,r.classes,r.options)}return function(r){if(r.from&&r.to){var x=k(r.from),e=k(r.to);return x||e?{start:function(){function g(){return function(){L(y,function(T){T.end()})}}var y=[];x&&y.push(x.start());e&&y.push(e.start());d.all(y,function(T){C.complete(T)});var C=new d({end:g(),cancel:g()});return C}}:void 0}return k(r)}}]}])})(window,window.angular);

//third_party/javascript/angular/v1_6/angular-aria.min.js
/*
 AngularJS v1.6.4-local+sha.617b36117
 (c) 2010-2018 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(A,r){'use strict';var m="BUTTON A INPUT TEXTAREA SELECT DETAILS SUMMARY".split(" "),q=function(b,d){if(d.indexOf(b[0].nodeName)!==-1)return!0};r.module("ngAria",["ng"]).info({angularVersion:"1.6.4-local+sha.617b36117"}).provider("$aria",function(){function b(h,n,c,e){return function(f,l,a){var g=a.$normalize(n);!d[g]||q(l,c)||a[g]||f.$watch(a[h],function(k){k=e?!k:!!k;l.attr(n,k)})}}var d={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,
bindKeydown:!0,bindRoleForClick:!0};this.config=function(h){d=r.extend(d,h)};this.$get=function(){return{config:function(h){return d[h]},$$watchExpr:b}}}).directive("ngShow",["$aria",function(b){return b.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(b){return b.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(b){return b.$$watchExpr("ngValue","aria-checked",m,!1)}]).directive("ngChecked",["$aria",function(b){return b.$$watchExpr("ngChecked",
"aria-checked",m,!1)}]).directive("ngReadonly",["$aria",function(b){return b.$$watchExpr("ngReadonly","aria-readonly",m,!1)}]).directive("ngRequired",["$aria",function(b){return b.$$watchExpr("ngRequired","aria-required",m,!1)}]).directive("ngModel",["$aria",function(b){function d(c,e,f,l){return b.config(e)&&!f.attr(c)&&(l||!q(f,m))}function h(c,e){return!e.attr("role")&&e.attr("type")===c&&!q(e,m)}function n(c,e){e=c.type;c=c.role;return(e||c)==="checkbox"||c==="menuitemcheckbox"?"checkbox":(e||
c)==="radio"||c==="menuitemradio"?"radio":e==="range"||c==="progressbar"||c==="slider"?"range":""}return{restrict:"A",require:"ngModel",priority:200,compile:function(c,e){var f=n(e,c);return{post:function(l,a,g,k){function t(){return k.$modelValue}function v(p){a.attr("aria-checked",g.value==k.$viewValue)}function w(){a.attr("aria-checked",!k.$isEmpty(k.$viewValue))}var u=d("tabindex","tabindex",a,!1);switch(f){case "radio":case "checkbox":h(f,a)&&a.attr("role",f);d("aria-checked","ariaChecked",a,
!1)&&l.$watch(t,f==="radio"?v:w);u&&a.attr("tabindex",0);break;case "range":h(f,a)&&a.attr("role","slider");if(b.config("ariaValue")){var x=!a.attr("aria-valuemin")&&(g.hasOwnProperty("min")||g.hasOwnProperty("ngMin")),y=!a.attr("aria-valuemax")&&(g.hasOwnProperty("max")||g.hasOwnProperty("ngMax")),z=!a.attr("aria-valuenow");x&&g.$observe("min",function(p){a.attr("aria-valuemin",p)});y&&g.$observe("max",function(p){a.attr("aria-valuemax",p)});z&&l.$watch(t,function(p){a.attr("aria-valuenow",p)})}u&&
a.attr("tabindex",0)}!g.hasOwnProperty("ngRequired")&&k.$validators.required&&d("aria-required","ariaRequired",a,!1)&&g.$observe("required",function(){a.attr("aria-required",!!g.required)});d("aria-invalid","ariaInvalid",a,!0)&&l.$watch(function(){return k.$invalid},function(p){a.attr("aria-invalid",!!p)})}}}}}]).directive("ngDisabled",["$aria",function(b){return b.$$watchExpr("ngDisabled","aria-disabled",m,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(b,
d,h,n){d.attr("aria-live")||d.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(b,d){return{restrict:"A",compile:function(h,n){var c=d(n.ngClick);return function(e,f,l){if(!q(f,m)&&(b.config("bindRoleForClick")&&!f.attr("role")&&f.attr("role","button"),b.config("tabindex")&&!f.attr("tabindex")&&f.attr("tabindex",0),b.config("bindKeydown")&&!l.ngKeydown&&!l.ngKeypress&&!l.ngKeyup))f.on("keydown",function(a){function g(){c(e,{$event:a})}var k=a.which||a.keyCode;k!==32&&
k!==13||e.$apply(g)})}}}}]).directive("ngDblclick",["$aria",function(b){return function(d,h,n){!b.config("tabindex")||h.attr("tabindex")||q(h,m)||h.attr("tabindex",0)}}])})(window,window.angular);

//third_party/javascript/angular/v1_6/angular-sanitize.min.js
/*
 AngularJS v1.6.4-local+sha.617b36117
 (c) 2010-2018 Google, Inc. http://angularjs.org
 License: MIT

 Copyright 2010-2020 Google, Inc. http://angularjs.org
 SPDX-License-Identifier: MIT
*/
(function(J,h){'use strict';var M=h.$$minErr("$sanitize"),P,u,Q,R,S,F,T,U,V,N;h.module("ngSanitize",[]).provider("$sanitize",function(){function m(a,b){return G(a.split(","),b)}function G(a,b){var d={},c;for(c=0;c<a.length;c++)d[b?F(a[c]):a[c]]=!0;return d}function y(a,b){b&&b.length&&u(a,G(b))}function K(a){return a.replace(/&/g,"&amp;").replace(z,function(b){var d=b.charCodeAt(0);b=b.charCodeAt(1);return"&#"+((d-55296)*1024+(b-56320)+65536)+";"}).replace(H,function(b){return"&#"+b.charCodeAt(0)+";"}).replace(/</g,
"&lt;").replace(/>/g,"&gt;")}function L(a){for(;a;){if(a.nodeType===J.Node.ELEMENT_NODE)for(var b=a.attributes,d=0,c=b.length;d<c;d++){var e=b[d],k=e.name.toLowerCase();if(k==="xmlns:ns1"||k.lastIndexOf("ns1:",0)===0)a.removeAttributeNode(e),d--,c--}(b=a.firstChild)&&L(b);a=A("nextSibling",a)}}function A(a,b){if((a=b[a])&&U.call(b,a))throw M("elclob",b.outerHTML||b.outerText);return a}var p={createHTML:function(a){return a}};try{typeof trustedTypes!=="undefined"&&(p=trustedTypes.createPolicy("angularjs@sanitize",
p))}catch(a){}var B=p.createHTML.bind(p),g=!1,C=!1;this.$get=["$$sanitizeUri",function(a){g=!0;C&&u(v,q);return function(b){var d=[];V(b,N(d,function(c,e){return!/^unsafe:/.test(a(c,e))}));return d.join("")}}];this.enableSvg=function(a){return S(a)?(C=a,this):C};this.addValidElements=function(a){g||(R(a)&&(a={htmlElements:a}),y(q,a.svgElements),y(I,a.htmlVoidElements),y(v,a.htmlVoidElements),y(v,a.htmlElements));return this};this.addValidAttrs=function(a){g||u(x,G(a,!0));return this};P=h.bind;u=h.extend;
Q=h.forEach;R=h.isArray;S=h.isDefined;F=h.lowercase;T=h.noop;V=function(a,b){a===null||a===void 0?a="":typeof a!=="string"&&(a=""+a);var d=w(a);if(!d)return"";var c=5;do{if(c===0)throw M("uinput");c--;a=d.innerHTML;d=w(a)}while(a!==d.innerHTML);for(a=d.firstChild;a;){switch(a.nodeType){case 1:c=b;for(var e=c.start,k=a.nodeName.toLowerCase(),f=a.attributes,l={},r=0,O=f.length;r<O;r++){var W=f[r];l[W.name]=W.value}e.call(c,k,l);break;case 3:b.chars(a.textContent)}if(!(c=a.firstChild)&&(a.nodeType===
1&&b.end(a.nodeName.toLowerCase()),c=A("nextSibling",a),!c))for(;c==null;){a=A("parentNode",a);if(a===d)break;c=A("nextSibling",a);a.nodeType===1&&b.end(a.nodeName.toLowerCase())}a=c}for(;a=d.firstChild;)d.removeChild(a)};N=function(a,b){var d=!1,c=P(a,a.push);return{start:function(e,k){e=F(e);!d&&D[e]&&(d=e);d||v[e]!==!0||(c("<"),c(e),Q(k,function(f,l){var r=F(l),O=e==="img"&&r==="src"||r==="background";x[r]!==!0||t[r]===!0&&!b(f,O)||(c(" "),c(l),c('="'),c(K(f)),c('"'))}),c(">"))},end:function(e){e=
F(e);d||v[e]!==!0||I[e]===!0||(c("</"),c(e),c(">"));e==d&&(d=!1)},chars:function(e){d||c(K(e))}}};U=J.Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&16)};var z=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,H=/([^#-~ |!])/g,I=m("area,br,col,hr,img,wbr"),E=m("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),n=m("rp,rt");p=u({},n,E);E=u({},E,m("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul"));
n=u({},n,m("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var q=m("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),D=m("script,style"),v=u({},I,E,n,p),t=m("background,cite,href,longdesc,src,xlink:href,xml:base");p=m("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width");
n=m("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",
!0);var x=u({},t,n,p),w=function(a,b){function d(f){f="<remove></remove>"+f;try{var l=(new a.DOMParser).parseFromString(B(f),"text/html").body;l.firstChild.remove();return l}catch(r){}}function c(f){k.innerHTML=B(f);b.documentMode&&L(k);return k}if(b&&b.implementation)var e=b.implementation.createHTMLDocument("inert");else throw M("noinert");var k=(e.documentElement||e.getDocumentElement()).querySelector("body");k.innerHTML=B('<svg><g onload="this.parentNode.remove()"></g></svg>');return k.querySelector("svg")?
(k.innerHTML=B('<svg><p><style><img src="</style><img src=x onerror=alert(1)//">'),k.querySelector("svg img")?d:c):function(f){f="<remove></remove>"+f;try{f=encodeURI(f)}catch(r){return}var l=new a.XMLHttpRequest;l.responseType="document";l.open("GET","data:text/html;charset=utf-8,"+f,!1);l.send(null);f=l.response.body;f.firstChild.remove();return f}}(J,J.document)}).info({angularVersion:"1.6.4-local+sha.617b36117"});h.module("ngSanitize").filter("linky",["$sanitize",function(m){var G=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,
y=/^mailto:/i,K=h.$$minErr("linky"),L=h.isDefined,A=h.isFunction,p=h.isObject,B=h.isString;return function(g,C,z){function H(t){if(t){var x=q,w=x.push,a=[];N(a,T).chars(t);t=a.join("");w.call(x,t)}}function I(t,x){var w,a=E(t);q.push("<a ");for(w in a)q.push(w+'="'+a[w]+'" ');!L(C)||"target"in a||q.push('target="',C,'" ');q.push('href="',t.replace(/"/g,"&quot;"),'">');H(x);q.push("</a>")}if(g==null||g==="")return g;if(!B(g))throw K("notstring",g);for(var E=A(z)?z:p(z)?function(){return z}:function(){return{}},
n=g,q=[],D,v;g=n.match(G);)D=g[0],g[2]||g[4]||(D=(g[3]?"http://":"mailto:")+D),v=g.index,H(n.substr(0,v)),I(D,g[0].replace(y,"")),n=n.substring(v+g[0].length);H(n);return m(q.join(""))}}])})(window,window.angular);

//third_party/javascript/angular_material/v1_1/material_min.js
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.INSTRUMENT_ASYNC_CONTEXT=!0;$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(a,b,d){if(a==Array.prototype||a==Object.prototype)return a;a[b]=d.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE=typeof Symbol==="function"&&typeof Symbol("x")==="symbol";$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";$jscomp.polyfill=function(a,b,d,c){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,d,c):$jscomp.polyfillUnisolated(a,b,d,c))};$jscomp.polyfillUnisolated=function(a,b){var d=$jscomp.global;a=a.split(".");for(var c=0;c<a.length-1;c++){var e=a[c];if(!(e in d))return;d=d[e]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&b!=null&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,d){var c=a.split("."),e=c.length===1;a=c[0];a=!e&&a in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<c.length-1;f++){var g=c[f];if(!(g in a))return;a=a[g]}c=c[c.length-1];d=$jscomp.IS_SYMBOL_NATIVE&&d==="es6"?a[c]:null;b=b(d);b!=null&&(e?$jscomp.defineProperty($jscomp.polyfills,c,{configurable:!0,writable:!0,value:b}):b!==d&&($jscomp.propertyToPolyfillSymbol[c]===void 0&&(e=Math.random()*1E9>>>0,$jscomp.propertyToPolyfillSymbol[c]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(c):$jscomp.POLYFILL_PREFIX+e+"$"+c),e=$jscomp.propertyToPolyfillSymbol[c],$jscomp.defineProperty(a,e,{configurable:!0,writable:!0,value:b})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};a=Math.random()*1E9>>>0;var d="jscomp_symbol_"+a+"_",c=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(d+(f||"")+"_"+c++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),d=0;d<b.length;d++){var c=$jscomp.global[b[d]];typeof c==="function"&&typeof c.prototype[a]!="function"&&$jscomp.defineProperty(c.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,b){a instanceof String&&(a+="");var d=0,c=!1,e={next:function(){if(!c&&d<a.length){var f=d++;return{value:b(f,a[f]),done:!1}}c=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e};
$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:a=function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");$jscomp.makeIterator=function(a){var b=typeof Symbol!="undefined"&&Symbol.iterator&&a[Symbol.iterator];if(b)return b.call(a);if(typeof a.length=="number")return $jscomp.arrayIterator(a);throw Error(String(a)+" is not an iterable or ArrayLike");};
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}function d(h){return h instanceof f?h:new f(function(l){l(h)})}if(a&&(!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&typeof $jscomp.global.PromiseRejectionEvent==="undefined")||!$jscomp.global.Promise||$jscomp.global.Promise.toString().indexOf("[native code]")===-1))return a;b.prototype.asyncExecute=function(h){if(this.batch_==null){this.batch_=[];var l=this;this.asyncExecuteFunction(function(){l.executeBatch_()})}this.batch_.push(h)};
var c=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(h){c(h,0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var h=this.batch_;this.batch_=[];for(var l=0;l<h.length;++l){var m=h[l];h[l]=null;try{m()}catch(v){this.asyncThrow_(v)}}}this.batch_=null};b.prototype.asyncThrow_=function(h){this.asyncExecuteFunction(function(){throw h;})};var e={PENDING:0,FULFILLED:1,REJECTED:2},f=function(h){this.state_=e.PENDING;this.result_=void 0;this.onSettledCallbacks_=
[];this.isRejectionHandled_=!1;var l=this.createResolveAndReject_();try{h(l.resolve,l.reject)}catch(m){l.reject(m)}};f.prototype.createResolveAndReject_=function(){function h(v){return function(n){m||(m=!0,v.call(l,n))}}var l=this,m=!1;return{resolve:h(this.resolveTo_),reject:h(this.reject_)}};f.prototype.resolveTo_=function(h){if(h===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(h instanceof f)this.settleSameAsPromise_(h);else{a:switch(typeof h){case "object":var l=
h!=null;break a;case "function":l=!0;break a;default:l=!1}l?this.resolveToNonPromiseObj_(h):this.fulfill_(h)}};f.prototype.resolveToNonPromiseObj_=function(h){var l=void 0;try{l=h.then}catch(m){this.reject_(m);return}typeof l=="function"?this.settleSameAsThenable_(l,h):this.fulfill_(h)};f.prototype.reject_=function(h){this.settle_(e.REJECTED,h)};f.prototype.fulfill_=function(h){this.settle_(e.FULFILLED,h)};f.prototype.settle_=function(h,l){if(this.state_!=e.PENDING)throw Error("Cannot settle("+h+
", "+l+"): Promise already settled in state"+this.state_);this.state_=h;this.result_=l;this.state_===e.REJECTED&&this.scheduleUnhandledRejectionCheck_();this.executeOnSettledCallbacks_()};f.prototype.scheduleUnhandledRejectionCheck_=function(){var h=this;c(function(){if(h.notifyUnhandledRejection_()){var l=$jscomp.global.console;typeof l!=="undefined"&&l.error(h.result_)}},1)};f.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var h=$jscomp.global.CustomEvent,l=
$jscomp.global.Event,m=$jscomp.global.dispatchEvent;if(typeof m==="undefined")return!0;typeof h==="function"?h=new h("unhandledrejection",{cancelable:!0}):typeof l==="function"?h=new l("unhandledrejection",{cancelable:!0}):(h=$jscomp.global.document.createEvent("CustomEvent"),h.initCustomEvent("unhandledrejection",!1,!0,h));h.promise=this;h.reason=this.result_;return m(h)};f.prototype.executeOnSettledCallbacks_=function(){if(this.onSettledCallbacks_!=null){for(var h=0;h<this.onSettledCallbacks_.length;++h)g.asyncExecute(this.onSettledCallbacks_[h]);
this.onSettledCallbacks_=null}};var g=new b;f.prototype.settleSameAsPromise_=function(h){var l=this.createResolveAndReject_();h.callWhenSettled_(l.resolve,l.reject)};f.prototype.settleSameAsThenable_=function(h,l){var m=this.createResolveAndReject_();try{h.call(l,m.resolve,m.reject)}catch(v){m.reject(v)}};f.prototype.then=function(h,l){function m(r,x){return typeof r=="function"?function(y){try{v(r(y))}catch(k){n(k)}}:x}var v,n,q=new f(function(r,x){v=r;n=x});this.callWhenSettled_(m(h,v),m(l,n));
return q};f.prototype.catch=function(h){return this.then(void 0,h)};f.prototype.callWhenSettled_=function(h,l){function m(){switch(v.state_){case e.FULFILLED:h(v.result_);break;case e.REJECTED:l(v.result_);break;default:throw Error("Unexpected state: "+v.state_);}}var v=this;this.onSettledCallbacks_==null?g.asyncExecute(m):this.onSettledCallbacks_.push(m);this.isRejectionHandled_=!0};f.resolve=d;f.reject=function(h){return new f(function(l,m){m(h)})};f.race=function(h){return new f(function(l,m){for(var v=
$jscomp.makeIterator(h),n=v.next();!n.done;n=v.next())d(n.value).callWhenSettled_(l,m)})};f.all=function(h){var l=$jscomp.makeIterator(h),m=l.next();return m.done?d([]):new f(function(v,n){function q(y){return function(k){r[y]=k;x--;x==0&&v(r)}}var r=[],x=0;do r.push(void 0),x++,d(m.value).callWhenSettled_(q(r.length-1),n),m=l.next();while(!m.done)})};return f},"es6","es3");
$jscomp.polyfill("Promise.prototype.finally",function(a){return a?a:a=function(b){return this.then(function(d){var c=Promise.resolve(b());return c.then(function(){return d})},function(d){var c=Promise.resolve(b());return c.then(function(){throw d;})})}},"es9","es3");$jscomp.findInternal=function(a,b,d){a instanceof String&&(a=String(a));for(var c=a.length,e=0;e<c;e++){var f=a[e];if(b.call(d,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:a=function(b,d){return $jscomp.findInternal(this,b,d).v}},"es6","es3");/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var goog=goog||{};goog.global=this||self;goog.exportPath_=function(a,b,d,c){a=a.split(".");c=c||goog.global;a[0]in c||typeof c.execScript=="undefined"||c.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)if(a.length||b===void 0)c=c[e]&&c[e]!==Object.prototype[e]?c[e]:c[e]={};else if(!d&&goog.isObject(b)&&goog.isObject(c[e]))for(var f in b)b.hasOwnProperty(f)&&(c[e][f]=b[f]);else c[e]=b};goog.define=function(a,b){return a=b};goog.FEATURESET_YEAR=2012;goog.DEBUG=!0;goog.LOCALE="en";
goog.TRUSTED_SITE=!0;goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG;goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1;goog.readFlagInternalDoNotUseOrElse=function(a,b){var d=goog.getObjectByName(goog.FLAGS_OBJECT_);a=d&&d[a];return a!=null?a:b};goog.FLAGS_OBJECT_="CLOSURE_FLAGS";goog.FLAGS_STAGING_DEFAULT=!0;
goog.readToggleInternalDoNotCallDirectly=function(a){var b=typeof CLOSURE_TOGGLE_ORDINALS==="object"?CLOSURE_TOGGLE_ORDINALS:void 0;a=b&&b[a];return typeof a!=="number"?!!a:!!(goog.TOGGLES_[Math.floor(a/30)]&1<<a%30)};goog.TOGGLE_VAR_="_F_toggles";goog.TOGGLES_=goog.global[goog.TOGGLE_VAR_]||[];goog.LEGACY_NAMESPACE_OBJECT_=goog.global;goog.provide=function(a){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(a)};
goog.constructNamespace_=function(a,b,d){goog.exportPath_(a,b,d,goog.LEGACY_NAMESPACE_OBJECT_)};goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/;goog.getScriptNonce_=function(a){a=(a||goog.global).document;return(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(a)?a:""};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;
goog.module=function(a){if(typeof a!=="string"||!a||a.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+a+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");
if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=a};goog.module.get=function(a){return goog.module.getInternal_(a)};goog.module.getInternal_=function(){return null};goog.requireDynamic=function(){return null};goog.importHandler_=null;goog.uncompiledChunkIdHandler_=null;goog.setImportHandlerInternalDoNotCallOrElse=function(a){goog.importHandler_=a};
goog.setUncompiledChunkIdHandlerInternalDoNotCallOrElse=function(a){goog.uncompiledChunkIdHandler_=a};goog.maybeRequireFrameworkInternalOnlyDoNotCallOrElse=function(){};goog.ModuleType={ES6:"es6",GOOG:"goog"};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()};goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG};
goog.isInEs6ModuleLoader_=function(){var a=!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6;return a?!0:(a=goog.LEGACY_NAMESPACE_OBJECT_.$jscomp)?typeof a.getCurrentModulePath!="function"?!1:!!a.getCurrentModulePath():!1};goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0};
goog.declareModuleId=function(a){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=a;else{var b=goog.LEGACY_NAMESPACE_OBJECT_.$jscomp;if(!b||typeof b.getCurrentModulePath!="function")throw Error('Module with namespace "'+a+'" has been loaded incorrectly.');b=b.require(b.getCurrentModulePath());goog.loadedModules_[a]={exports:b,type:goog.ModuleType.ES6,moduleId:a}}};
goog.setTestOnly=function(a){if(goog.DISALLOW_TEST_ONLY_CODE)throw a=a||"",Error("Importing test-only code into non-debug environment"+(a?": "+a:"."));};goog.forwardDeclare=function(){};goog.getObjectByName=function(a,b){a=a.split(".");b=b||goog.global;for(var d=0;d<a.length;d++)if(b=b[a[d]],b==null)return null;return b};goog.addDependency=function(){};goog.ENABLE_DEBUG_LOADER=!1;goog.logToConsole_=function(a){goog.global.console&&goog.global.console.error(a)};goog.require=function(){};
goog.requireType=function(){return{}};goog.basePath="";goog.abstractMethod=function(){throw Error("unimplemented abstract method");};goog.addSingletonGetter=function(a){a.instance_=void 0;a.getInstance=function(){if(a.instance_)return a.instance_;goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a);return a.instance_=new a}};goog.instantiatedSingletons_=[];goog.LOAD_MODULE_USING_EVAL=!0;goog.SEAL_MODULE_EXPORTS=goog.DEBUG;goog.loadedModules_={};
goog.DEPENDENCIES_ENABLED=!1;goog.ASSUME_ES_MODULES_TRANSPILED=!1;goog.TRUSTED_TYPES_POLICY_NAME="goog";goog.hasBadLetScoping=null;
goog.loadModule=function(a){var b=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG};var d={},c=d;if(typeof a==="function")c=a.call(void 0,c);else if(typeof a==="string")c=goog.loadModuleFromSource_.call(void 0,c,a);else throw Error("Invalid module definition");var e=goog.moduleLoaderState_.moduleName;if(typeof e==="string"&&e){goog.moduleLoaderState_.declareLegacyNamespace?(a=d!==c,goog.constructNamespace_(e,c,a)):goog.SEAL_MODULE_EXPORTS&&
Object.seal&&typeof c=="object"&&c!=null&&Object.seal(c);var f={exports:c,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName};goog.loadedModules_[e]=f}else throw Error('Invalid module name "'+e+'"');}finally{goog.moduleLoaderState_=b}};goog.loadModuleFromSource_=function(a){eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(arguments[1]));return a};
goog.normalizePath_=function(a){a=a.split("/");for(var b=0;b<a.length;)a[b]=="."?a.splice(b,1):b&&a[b]==".."&&a[b-1]&&a[b-1]!=".."?a.splice(--b,2):b++;return a.join("/")};goog.loadFileSync_=function(a){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(a);try{var b=new goog.global.XMLHttpRequest;b.open("get",a,!1);b.send();return b.status==0||b.status==200?b.responseText:null}catch(d){return null}};
goog.typeOf=function(a){var b=typeof a;return b!="object"?b:a?Array.isArray(a)?"array":b:"null"};goog.isArrayLike=function(a){var b=goog.typeOf(a);return b=="array"||b=="object"&&typeof a.length=="number"};goog.isDateLike=function(a){return goog.isObject(a)&&typeof a.getFullYear=="function"};goog.isObject=function(a){var b=typeof a;return b=="object"&&a!=null||b=="function"};
goog.getUid=function(a){return Object.prototype.hasOwnProperty.call(a,goog.UID_PROPERTY_)&&a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(a){return!!a[goog.UID_PROPERTY_]};goog.removeUid=function(a){a!==null&&"removeAttribute"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(b){}};goog.UID_PROPERTY_="closure_uid_"+(Math.random()*1E9>>>0);goog.uidCounter_=0;
goog.cloneObject=function(a){var b=goog.typeOf(a);if(b=="object"||b=="array"){if(typeof a.clone==="function")return a.clone();if(typeof Map!=="undefined"&&a instanceof Map)return new Map(a);if(typeof Set!=="undefined"&&a instanceof Set)return new Set(a);b=b=="array"?[]:{};for(var d in a)b[d]=goog.cloneObject(a[d]);return b}return a};goog.bindNative_=function(a,b,d){return a.call.apply(a.bind,arguments)};
goog.bindJs_=function(a,b,d){if(!a)throw Error();if(arguments.length>2){var c=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,c);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}};
goog.bind=function(a,b,d){goog.TRUSTED_SITE&&goog.FEATURESET_YEAR>2012||Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_;return goog.bind.apply(null,arguments)};goog.partial=function(a,b){var d=Array.prototype.slice.call(arguments,1);return function(){var c=d.slice();c.push.apply(c,arguments);return a.apply(this,c)}};goog.now=function(){return Date.now()};goog.globalEval=function(a){(0,eval)(a)};
goog.getCssName=function(a,b){if(String(a).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+a);var d=function(e){return goog.cssNameMapping_[e]||e},c=function(e){e=e.split("-");for(var f=[],g=0;g<e.length;g++)f.push(d(e[g]));return f.join("-")};c=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?d:c:function(e){return e};a=b?a+"-"+c(b):c(a);return goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(a):a};
goog.setCssNameMapping=function(a,b){goog.cssNameMapping_=a;goog.cssNameMappingStyle_=b};goog.GetMsgOptions=function(){};goog.getMsg=function(a,b,d){d&&d.html&&(a=a.replace(/</g,"&lt;"));d&&d.unescapeHtmlEntities&&(a=a.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&amp;/g,"&"));b&&(a=a.replace(/\{\$([^}]+)}/g,function(c,e){return b!=null&&e in b?b[e]:c}));return a};goog.getMsgWithFallback=function(a){return a};
goog.exportSymbol=function(a,b,d){goog.exportPath_(a,b,!0,d)};goog.exportProperty=function(a,b,d){a[b]=d};goog.weakUsage=function(a){return a};goog.inherits=function(a,b){function d(){}d.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new d;a.prototype.constructor=a;a.base=function(c,e,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[e].apply(c,g)}};
goog.scope=function(a){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");a.call(goog.global)};
goog.defineClass=function(a,b){var d=b.constructor,c=b.statics;d&&d!=Object.prototype.constructor||(d=function(){throw Error("cannot instantiate an interface (no constructor defined).");});d=goog.defineClass.createSealingConstructor_(d,a);a&&goog.inherits(d,a);delete b.constructor;delete b.statics;goog.defineClass.applyProperties_(d.prototype,b);c!=null&&(c instanceof Function?c(d):goog.defineClass.applyProperties_(d,c));return d};goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG;
goog.defineClass.createSealingConstructor_=function(a){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return a;var b=function(){var d=a.apply(this,arguments)||this;d[goog.UID_PROPERTY_]=d[goog.UID_PROPERTY_];return d};return b};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
goog.defineClass.applyProperties_=function(a,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);for(var c=0;c<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;c++)d=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[c],Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])};goog.identity_=function(a){return a};
goog.createTrustedTypesPolicy=function(a){var b=null,d=goog.global.trustedTypes;if(!d||!d.createPolicy)return b;try{b=d.createPolicy(a,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_})}catch(c){goog.logToConsole_(c.message)}return b};/*
 AngularJS Material Design
 https://github.com/angular/material
 @license MIT
 v1.1.20
*/
var ngmaterial={};DetectNgTouch.$inject=["$log","$injector"];MdCoreConfigure.$inject=["$provide","$mdThemingProvider"];rAFDecorator.$inject=["$delegate"];qDecorator.$inject=["$delegate"];angular.module("material.core","ngAnimate material.core.animate material.core.layout material.core.interaction material.core.gestures material.core.theming".split(" ")).config(MdCoreConfigure).run(DetectNgTouch);
function DetectNgTouch(a,b){b.has("$swipe")&&a.warn("You are using the ngTouch module. \nAngularJS Material already has mobile click, tap, and swipe support... \nngTouch is not supported with AngularJS Material!")}function MdCoreConfigure(a,b){a.decorator("$$rAF",["$delegate",rAFDecorator]);a.decorator("$q",["$delegate",qDecorator]);b.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("deep-orange").backgroundPalette("grey")}
function rAFDecorator(a){a.throttle=function(b){var d,c,e,f;return function(){d=arguments;f=this;e=b;c||(c=!0,a(function(){e.apply(f,Array.prototype.slice.call(d));c=!1}))}};return a}function qDecorator(a){a.resolve||(a.resolve=a.when);return a}MdAutofocusDirective.$inject=["$parse"];angular.module("material.core").directive("mdAutofocus",MdAutofocusDirective).directive("mdAutoFocus",MdAutofocusDirective).directive("mdSidenavFocus",MdAutofocusDirective);
function MdAutofocusDirective(a){function b(d,c,e){function f(g){angular.isUndefined(g)&&(g=!0);c.toggleClass("md-autofocus",!!g)}e=e.mdAutoFocus||e.mdAutofocus||e.mdSidenavFocus;f(a(e)(d));e&&d.$watch(e,f)}return{restrict:"A",link:{pre:b}}}angular.module("material.core").factory("$mdColorUtil",ColorUtilFactory);
function ColorUtilFactory(){function a(e){var f=e[0]==="#"?e.substr(1):e;e=f.length/3;var g=f.substr(0,e),h=f.substr(e,e);f=f.substr(e*2);e===1&&(g+=g,h+=h,f+=f);return"rgba("+parseInt(g,16)+","+parseInt(h,16)+","+parseInt(f,16)+",0.1)"}function b(e){e=(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):"";return e.toUpperCase()}
function d(e){return e.replace(")",", 0.1)").replace("(","a(")}function c(e){return e?e.replace("rgba","rgb").replace(/,[^),]+\)/,")"):"rgb(0,0,0)"}return{rgbaToHex:b,hexToRgba:a,rgbToRgba:d,rgbaToRgb:c}}angular.module("material.core").factory("$mdConstant",MdConstantFactory);
function MdConstantFactory(){function a(l){var m=e+"-"+l;m=b(m);var v=m.charAt(0).toLowerCase()+m.substring(1);return angular.isDefined(c.style[l])?l:angular.isDefined(c.style[m])?m:angular.isDefined(c.style[v])?v:l}function b(l){return l.replace(g,function(m,v,n,q){return q?n.toUpperCase():n})}function d(l){var m,v=/^(Moz|webkit|ms)(?=[A-Z])/;for(m in l.style)if(l=v.exec(m))return l[0]}var c=document.createElement("div"),e=d(c),f=/webkit/i.test(e),g=/([:\-_]+(.))/g,h={isInputKey:function(l){return l.keyCode>=
31&&l.keyCode<=90},isNumPadKey:function(l){return 3===l.location&&l.keyCode>=97&&l.keyCode<=105},isMetaKey:function(l){return l.keyCode>=91&&l.keyCode<=93},isFnLockKey:function(l){return l.keyCode>=112&&l.keyCode<=145},isNavigationKey:function(l){var m=h.KEY_CODE;m=[m.SPACE,m.ENTER,m.UP_ARROW,m.DOWN_ARROW];return m.indexOf(l.keyCode)!=-1},hasModifierKey:function(l){return l.ctrlKey||l.metaKey||l.altKey},ELEMENT_MAX_PIXELS:1533917,BEFORE_NG_ARIA:210,KEY_CODE:{COMMA:188,SEMICOLON:186,ENTER:13,ESCAPE:27,
SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(f?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(f?" webkitAnimationEnd":""),TRANSFORM:a("transform"),TRANSFORM_ORIGIN:a("transformOrigin"),TRANSITION:a("transition"),TRANSITION_DURATION:a("transitionDuration"),ANIMATION_PLAY_STATE:a("animationPlayState"),ANIMATION_DURATION:a("animationDuration"),ANIMATION_NAME:a("animationName"),
ANIMATION_TIMING:a("animationTimingFunction"),ANIMATION_DIRECTION:a("animationDirection")},MEDIA:{xs:"(max-width: 599px)","gt-xs":"(min-width: 600px)",sm:"(min-width: 600px) and (max-width: 959px)","gt-sm":"(min-width: 960px)",md:"(min-width: 960px) and (max-width: 1279px)","gt-md":"(min-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1919px)","gt-lg":"(min-width: 1920px)",xl:"(min-width: 1920px)",landscape:"(orientation: landscape)",portrait:"(orientation: portrait)",print:"print"},MEDIA_PRIORITY:"xl gt-lg lg gt-md md gt-sm sm gt-xs xs landscape portrait print".split(" ")};
return h}angular.module("material.core").config(["$provide",function(a){a.decorator("$mdUtil",["$delegate",function(b){b.iterator=MdIterator;return b}])}]);
function MdIterator(a,b){function d(){return[].concat(p)}function c(){return p.length}function e(t){return p.length&&t>-1&&t<p.length}function f(t){return t?e(n(t)+1):!1}function g(t){return t?e(n(t)-1):!1}function h(t){return e(t)?p[t]:null}function l(t,H){return p.filter(function(A){return A[t]===H})}function m(t,H){if(!t)return-1;angular.isNumber(H)||(H=p.length);p.splice(H,0,t);return n(t)}function v(t){q(t)&&p.splice(n(t),1)}function n(t){return p.indexOf(t)}function q(t){return t&&n(t)>-1}function r(){return p.length?
p[0]:null}function x(){return p.length?p[p.length-1]:null}function y(t,H,A,w){A=A||k;for(H=n(H);;){if(!e(H))return null;H+=t?-1:1;var B=null;e(H)?B=p[H]:b&&(B=t?x():r(),H=n(B));if(B===null||H===w)return null;if(A(B))return B;angular.isUndefined(w)&&(w=H)}}var k=function(){return!0};a&&!angular.isArray(a)&&(a=Array.prototype.slice.call(a));b=!!b;var p=a||[];return{items:d,count:c,inRange:e,contains:q,indexOf:n,itemAt:h,findBy:l,add:m,remove:v,first:r,last:x,next:angular.bind(null,y,!1),previous:angular.bind(null,
y,!0),hasPrevious:g,hasNext:f}}mdMediaFactory.$inject=["$mdConstant","$rootScope","$window"];angular.module("material.core").factory("$mdMedia",mdMediaFactory);
function mdMediaFactory(a,b,d){function c(r){var x=m[r];angular.isUndefined(x)&&(x=r,x=a.MEDIA[x]||(x.charAt(0)!=="("?"("+x+")":x),x=m[r]=x);r=n[x];angular.isUndefined(r)&&((r=v[x])||(r=v[x]=d.matchMedia(x)),r.addListener(e),r=n[r.media]=!!r.matches);return r}function e(r){b.$evalAsync(function(){n[r.media]=!!r.matches})}function f(r){return v[r]}function g(r,x){for(var y=0;y<a.MEDIA_PRIORITY.length;y++){var k=a.MEDIA_PRIORITY[y];if(v[m[k]].matches&&(k=l(r,x+"-"+k),r[k]))return r[k]}return r[l(r,
x)]}function h(r,x,y){var k=[];r.forEach(function(p){var t=l(x,p);angular.isDefined(x[t])&&k.push(x.$observe(t,angular.bind(void 0,y,null)));for(var H in a.MEDIA)t=l(x,p+"-"+H),angular.isDefined(x[t])&&k.push(x.$observe(t,angular.bind(void 0,y,H)))});return function(){k.forEach(function(p){p()})}}function l(r,x){return q[x]||(q[x]=r.$normalize(x))}var m={},v={},n={},q={};c.getResponsiveAttribute=g;c.getQuery=f;c.watchResponsiveAttributes=h;return c}
angular.module("material.core").config(["$provide",function(a){a.decorator("$mdUtil",["$delegate",function(b){b.prefixer=MdPrefixer;return b}])}]);
function MdPrefixer(a,b){function d(l){l=angular.isArray(l)?l:[l];l.forEach(function(m){h.forEach(function(v){l.push(v+"-"+m)})});return l}function c(l){l=angular.isArray(l)?l:[l];return d(l).map(function(m){return"["+m+"]"}).join(",")}function e(l,m){l=g(l);if(!l)return!1;m=d(m);for(var v=0;v<m.length;v++)if(l.hasAttribute(m[v]))return!0;return!1}function f(l,m){(l=g(l))&&d(m).forEach(function(v){l.removeAttribute(v)})}function g(l){l=l[0]||l;if(l.nodeType)return l}var h=["data","x"];return a?b?
c(a):d(a):{buildList:d,buildSelector:c,hasAttribute:e,removeAttribute:f}}UtilFactory.$inject="$document $timeout $compile $rootScope $$mdAnimate $interpolate $log $rootElement $window $$rAF".split(" ");var nextUniqueId=0,isIos,isAndroid;if(window.navigator){var userAgent=window.navigator.userAgent||window.navigator.vendor||window.opera;isIos=userAgent.match(/ipad|iphone|ipod/i);isAndroid=userAgent.match(/android/i)}angular.module("material.core").factory("$mdUtil",UtilFactory);
function UtilFactory(a,b,d,c,e,f,g,h,l,m){function v(k){return k?String(k).indexOf("px")>-1||String(k).indexOf("%")>-1?k:k+"px":"0"}var n=f.startSymbol(),q=f.endSymbol(),r=n==="{{"&&q==="}}";document.contains||(document.contains=function(k){return document.body.contains(k)});var x=function(k,p,t){var H=!1;k&&k.length&&(k=l.getComputedStyle(k[0]),H=angular.isDefined(k[p])&&(t?k[p]==t:!0));return H},y={dom:{},isIos:isIos,isAndroid:isAndroid,now:window.performance&&window.performance.now?angular.bind(window.performance,
window.performance.now):Date.now||function(){return(new Date).getTime()},getModelOption:function(k,p){if(k.$options)return k=k.$options,k.getOption?k.getOption(p):k[p]},isRtl:function(k){k=angular.isDefined(k)&&k.hasOwnProperty("dir")&&k.dir;switch(k){case "ltr":return!1;case "rtl":return!0}return a[0].dir==="rtl"||a[0].body.dir==="rtl"},bidi:function(k,p,t,H){var A=!this.isRtl();if(arguments.length==0)return A?"ltr":"rtl";var w=angular.element(k);A&&angular.isDefined(t)?w.css(p,v(t)):!A&&angular.isDefined(H)&&
w.css(p,v(H))},bidiProperty:function(k,p,t,H){var A=!this.isRtl();k=angular.element(k);A&&angular.isDefined(p)?(k.css(p,v(H)),k.css(t,"")):!A&&angular.isDefined(t)&&(k.css(t,v(H)),k.css(p,""))},clientRect:function(k,p,t){k=k[0]||k;p=p||k.offsetParent||document.body;p=p[0]||p;k=k.getBoundingClientRect();t=t?p.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:k.left-t.left,top:k.top-t.top,width:k.width,height:k.height}},offsetRect:function(k,p){return y.clientRect(k,p,!0)},nodesToArray:function(k){k=
k||[];for(var p=[],t=0;t<k.length;++t)p.push(k.item(t));return p},getViewportTop:function(){return y.disableScrollAround._count&&y.disableScrollAround._viewPortTop?y.disableScrollAround._viewPortTop:l.scrollY||l.pageYOffset||0},findFocusTarget:function(k,p){function t(w,B){var u;(w=w[0].querySelectorAll(B))&&w.length&&w.length&&angular.forEach(w,function(z){z=angular.element(z);var D=z.hasClass("md-autofocus");D&&(u=z)});return u}var H=this.prefixer("md-autofocus",!0);var A=t(k,p||H);A||p==H||(A=
t(k,this.prefixer("md-auto-focus",!0)))||(A=t(k,H));return A},disableScrollAround:function(k,p,t){function H(z,D){function G(C){C.preventDefault()}z=angular.element(z||w);if(D.disableScrollMask)var N=z;else N=angular.element('<div class="md-scroll-mask">  <div class="md-scroll-mask-bar"></div></div>'),z.append(N);N.on("wheel touchmove",G);return function(){N.off("wheel touchmove",G);!D.disableScrollMask&&N[0].parentNode&&N[0].parentNode.removeChild(N[0])}}function A(){var z=a[0].documentElement,D=
z.style.cssText||"",G=w.style.cssText||"",N=y.getViewportTop();y.disableScrollAround._viewPortTop=N;var C=w.clientWidth,F=w.scrollHeight>w.clientHeight+1,O=z.scrollTop>0?z:w;F&&angular.element(w).css({position:"fixed",width:"100%",top:-N+"px"});w.clientWidth<C&&(w.style.overflow="hidden");return function(){w.style.cssText=G;z.style.cssText=D;O.scrollTop=N}}t=t||{};y.disableScrollAround._count=Math.max(0,y.disableScrollAround._count||0);y.disableScrollAround._count++;if(y.disableScrollAround._restoreScroll)return y.disableScrollAround._restoreScroll;
var w=a[0].body,B=A(),u=H(p,t);return y.disableScrollAround._restoreScroll=function(){--y.disableScrollAround._count<=0&&(delete y.disableScrollAround._viewPortTop,B(),u(),delete y.disableScrollAround._restoreScroll)}},enableScrolling:function(){var k=this.disableScrollAround._restoreScroll;k&&k()},floatingScrollbars:function(){if(this.floatingScrollbars.cached===void 0){var k=angular.element("<div><div></div></div>").css({width:"100%","z-index":-1,position:"absolute",height:"35px","overflow-y":"scroll"});
k.children().css("height","60px");a[0].body.appendChild(k[0]);this.floatingScrollbars.cached=k[0].offsetWidth==k[0].childNodes[0].offsetWidth;k.remove()}return this.floatingScrollbars.cached},forceFocus:function(k){var p=k[0]||k;document.addEventListener("click",function A(H){H.target===p&&H.$focus&&(p.focus(),H.stopImmediatePropagation(),H.preventDefault(),p.removeEventListener("click",A))},!0);k=document.createEvent("MouseEvents");k.initMouseEvent("click",!1,!0,window,{},0,0,0,0,!1,!1,!1,!1,0,null);
k.$material=!0;k.$focus=!0;p.dispatchEvent(k)},createBackdrop:function(k,p){return d(y.supplant('<md-backdrop class="{0}">',[p]))(k)},supplant:function(k,p,t){t=t||/\{([^{}]*)\}/g;return k.replace(t,function(H,A){A=A.split(".");var w=p;try{for(var B in A)A.hasOwnProperty(B)&&(w=w[A[B]])}catch(u){w=H}return typeof w==="string"||typeof w==="number"?w:H})},fakeNgModel:function(){return{$fake:!0,$setTouched:angular.noop,$setViewValue:function(k){this.$viewValue=k;this.$render(k);this.$viewChangeListeners.forEach(function(p){p()})},
$isEmpty:function(k){return(""+k).length===0},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:angular.noop}},debounce:function(k,p,t,H){var A;return function(){var w=t,B=Array.prototype.slice.call(arguments);b.cancel(A);A=b(function(){A=void 0;k.apply(w,B)},p||10,H)}},throttle:function(k,p){var t;return function(){var H=this,A=arguments,w=y.now();if(!t||w-t>p)k.apply(H,A),t=w}},time:function(k){var p=y.now();k();return y.now()-p},valueOnUse:function(k,p,t){var H=null,A=Array.prototype.slice.call(arguments),
w=A.length>3?A.slice(3):[];Object.defineProperty(k,p,{get:function(){H===null&&(H=t.apply(k,w));return H}})},nextUid:function(){return""+nextUniqueId++},disconnectScope:function(k){if(k&&k.$root!==k&&!k.$$destroyed){var p=k.$parent;k.$$disconnected=!0;p.$$childHead===k&&(p.$$childHead=k.$$nextSibling);p.$$childTail===k&&(p.$$childTail=k.$$prevSibling);k.$$prevSibling&&(k.$$prevSibling.$$nextSibling=k.$$nextSibling);k.$$nextSibling&&(k.$$nextSibling.$$prevSibling=k.$$prevSibling);k.$$nextSibling=k.$$prevSibling=
null}},reconnectScope:function(k){if(k&&k.$root!==k&&k.$$disconnected){var p=k.$parent;k.$$disconnected=!1;k.$$prevSibling=p.$$childTail;p.$$childHead?(p.$$childTail.$$nextSibling=k,p.$$childTail=k):p.$$childHead=p.$$childTail=k}},getClosest:function(k,p,t){if(angular.isString(p)){var H=p.toUpperCase();p=function(A){return A.nodeName.toUpperCase()===H}}k instanceof angular.element&&(k=k[0]);t&&(k=k.parentNode);if(!k)return null;do if(p(k))return k;while(k=k.parentNode);return null},elementContains:function(k,
p){var t=window.Node&&window.Node.prototype&&Node.prototype.contains;t=t?angular.bind(k,k.contains):angular.bind(k,function(H){return k===p||!!(this.compareDocumentPosition(H)&16)});return t(p)},extractElementByName:function(k,p,t,H){function A(B){var u;a:{if(u=B)for(var z=0,D=u.length;z<D;z++)if(u[z].nodeName.toLowerCase()===p){u=u[z];break a}u=null}if(!u){if(t){if(B)for(u=0,z=B.length;u<z;u++)if(D=B[u],!C)for(var G=0,N=D.childNodes.length;G<N;G++)var C=C||A([D.childNodes[G]])}else C=null;u=C}return u}
var w=A(k);!w&&H&&g.warn(y.supplant("Unable to find node '{0}' in element '{1}'.",[p,k[0].outerHTML]));return angular.element(w||k)},initOptionalProperties:function(k,p,t){t=t||{};angular.forEach(k.$$isolateBindings,function(H,A){H.optional&&angular.isUndefined(k[A])&&(H=angular.isDefined(p[H.attrName]),k[A]=angular.isDefined(t[A])?t[A]:H)})},nextTick:function(k,p,t){function H(){var u=A.queue,z=A.digest;A.queue=[];A.timeout=null;A.digest=!1;u.forEach(function(D){var G=D.scope&&D.scope.$$destroyed;
G||D.callback()});z&&c.$digest()}var A=y.nextTick,w=A.timeout,B=A.queue||[];B.push({scope:t,callback:k});p==null&&(p=!0);A.digest=A.digest||p;A.queue=B;return w||(A.timeout=b(H,0,!1))},processTemplate:function(k){return r?k:k&&angular.isString(k)?k.replace(/\{\{/g,n).replace(/}}/g,q):k},getParentWithPointerEvents:function(k){for(k=k.parent();x(k,"pointer-events","none");)k=k.parent();return k},getNearestContentElement:function(k){for(k=k.parent()[0];k&&k!==h[0]&&k!==document.body&&k.nodeName.toUpperCase()!==
"MD-CONTENT";)k=k.parentNode;return k},checkStickySupport:function(){var k=angular.element("<div>");a[0].body.appendChild(k[0]);for(var p=["sticky","-webkit-sticky"],t=0;t<p.length;++t)if(k.css({position:p[t],top:0,"z-index":2}),k.css("position")==p[t]){var H=p[t];break}k.remove();return H},parseAttributeBoolean:function(k,p){return k===""||!!k&&(p===!1||k!=="false"&&k!=="0")},hasComputedStyle:x,isParentFormSubmitted:function(k){return(k=(k=y.getClosest(k,"form"))?angular.element(k).controller("form"):
null)?k.$submitted:!1},animateScrollTo:function(k,p,t){function H(){var z=t||1E3;var D=y.now()-u;D>z?z=A+w:(z=(D/=z)*D,D*=z,z=A+w*(-2*D+3*z));k.scrollTop=z;(B?z<p:z>p)&&m(H)}var A=k.scrollTop,w=p-A,B=A<p,u=y.now();m(H)},uniq:function(k){if(k)return k.filter(function(p,t,H){return H.indexOf(p)===t})},getInnerHTML:function(k){var p=new XMLSerializer;return Array.prototype.map.call(k.childNodes,function(t){return p.serializeToString(t)}).join("")},getOuterHTML:function(k){var p=new XMLSerializer;return p.serializeToString(k)},
msie:window.document.documentMode};y.dom.animator=e(y);return y}angular.element.prototype.focus=angular.element.prototype.focus||function(){this.length&&this[0].focus();return this};angular.element.prototype.blur=angular.element.prototype.blur||function(){this.length&&this[0].blur();return this};MdAriaService.$inject=["$$rAF","$log","$window","$interpolate"];angular.module("material.core").provider("$mdAria",MdAriaProvider);
function MdAriaProvider(){function a(){b.showWarnings=!1}var b={showWarnings:!0};return{disableWarnings:a,$get:["$$rAF","$log","$window","$interpolate",function(d,c,e,f){return MdAriaService.apply(b,arguments)}]}}
function MdAriaService(a,b,d,c){function e(q,r,x){var y=angular.element(q)[0]||q,k;if(k=y){if(!(k=y.hasAttribute(r)&&y.getAttribute(r).length!==0)){var p=y;k=r;var t=p.hasChildNodes(),H=!1;if(t)for(p=p.childNodes,t=0;t<p.length;t++){var A=p[t];A.nodeType===1&&A.hasAttribute(k)&&(A=A.currentStyle?A.currentStyle:d.getComputedStyle(A),(A=A.display==="none")||(H=!0))}k=H}k=!k}k&&(x=angular.isString(x)?x.trim():"",x.length?q.attr(r,x):n&&b.warn('ARIA: Attribute "',r,'", required for accessibility, is missing on node:',
y))}function f(q,r,x){a(function(){e(q,r,x())})}function g(q,r){var x=l(q)||"",y=x.indexOf(c.startSymbol())>-1;y?f(q,r,function(){return l(q)}):e(q,r,x)}function h(q,r){var x=l(q),y=x.indexOf(c.startSymbol())>-1;y||x||e(q,r,x)}function l(q){q=q[0]||q;for(var r=document.createTreeWalker(q,NodeFilter.SHOW_TEXT,null,!1),x="",y;y=r.nextNode();){var k;a:{for(k=y;k.parentNode&&(k=k.parentNode)!==q;)if(k.getAttribute&&k.getAttribute("aria-hidden")==="true"){k=!0;break a}k=void 0}k||(x+=y.textContent)}return x.trim()||
""}function m(q){q=angular.element(q)[0]||q;return q.hasAttribute?q.hasAttribute("aria-label")||q.hasAttribute("aria-labelledby")||q.hasAttribute("aria-describedby"):!1}function v(q,r){function x(y){if(!m(y))return!1;if(y.hasAttribute("role"))switch(y.getAttribute("role").toLowerCase()){case "command":case "definition":case "directory":case "grid":case "list":case "listitem":case "log":case "marquee":case "menu":case "menubar":case "note":case "presentation":case "separator":case "scrollbar":case "status":case "tablist":return!1}switch(y.tagName.toLowerCase()){case "abbr":case "acronym":case "address":case "applet":case "audio":case "b":case "bdi":case "bdo":case "big":case "blockquote":case "br":case "canvas":case "caption":case "center":case "cite":case "code":case "col":case "data":case "dd":case "del":case "dfn":case "dir":case "div":case "dl":case "em":case "embed":case "fieldset":case "figcaption":case "font":case "h1":case "h2":case "h3":case "h4":case "h5":case "h6":case "hgroup":case "html":case "i":case "ins":case "isindex":case "kbd":case "keygen":case "label":case "legend":case "li":case "map":case "mark":case "menu":case "object":case "ol":case "output":case "pre":case "presentation":case "q":case "rt":case "ruby":case "samp":case "small":case "source":case "span":case "status":case "strike":case "strong":case "sub":case "sup":case "svg":case "tbody":case "td":case "th":case "thead":case "time":case "tr":case "track":case "tt":case "ul":case "var":return!1}return!0}
r=r||1;q=angular.element(q)[0]||q;if(!q.parentNode)return!1;if(x(q.parentNode))return!0;r--;return r?v(q.parentNode,r):!1}var n=this.showWarnings;return{expect:e,expectAsync:f,expectWithText:g,expectWithoutText:h,getText:l,hasAriaLabel:m,parentHasAriaLabel:v}}angular.module("material.core").provider("$mdCompiler",MdCompilerProvider);MdCompilerProvider.$inject=["$compileProvider"];
function MdCompilerProvider(a){function b(c,e,f,g,h){this.$q=c;this.$templateRequest=e;this.$injector=f;this.$compile=g;this.$controller=h}var d=!1;this.respectPreAssignBindingsEnabled=function(c){return angular.isDefined(c)?(d=c,this):d};this.$get=["$q","$templateRequest","$injector","$compile","$controller",function(c,e,f,g,h){return new b(c,e,f,g,h)}];b.prototype.compile=function(c){return c.contentElement?this._prepareContentElement(c):this._compileTemplate(c)};b.prototype._prepareContentElement=
function(c){var e=this._fetchContentElement(c);return this.$q.resolve({element:e.element,cleanup:e.restore,locals:{},link:function(){return e.element}})};b.prototype._compileTemplate=function(c){var e=this,f=c.templateUrl,g=c.template||"",h=angular.extend({},c.resolve),l=angular.extend({},c.locals),m=c.transformTemplate||angular.identity;angular.forEach(h,function(v,n){angular.isString(v)?h[n]=e.$injector.get(v):h[n]=e.$injector.invoke(v)});angular.extend(h,l);h.$$ngTemplate=f?this.$templateRequest(f):
this.$q.when(g);return this.$q.all(h).then(function(v){var n=m(v.$$ngTemplate,c);n=c.element||angular.element("<div>").html(n.trim()).contents();return e._compileElement(v,n,c)})};b.prototype._compileElement=function(c,e,f){function g(v){c.$scope=v;if(f.controller){var n=angular.extend({},c,{$element:e});n=h._createController(f,n,c);e.data("$ngControllerController",n);e.children().data("$ngControllerController",n);m.controller=n}return l(v)}var h=this,l=this.$compile(e),m={element:e,cleanup:e.remove.bind(e),
locals:c,link:g};return m};b.prototype._createController=function(c,e,f){var g;(g=d?typeof a.preAssignBindingsEnabled==="function"?a.preAssignBindingsEnabled():angular.version.major===1&&angular.version.minor<6?!0:!1:!0)?(g=this.$controller(c.controller,e,!0),c.bindToController&&angular.extend(g.instance,f),g=g()):(g=this.$controller(c.controller,e),c.bindToController&&angular.extend(g,f));c.controllerAs&&(e.$scope[c.controllerAs]=g);angular.isFunction(g.$onInit)&&g.$onInit();return g};b.prototype._fetchContentElement=
function(c){function e(g){var h=g.parentNode,l=g.nextElementSibling;return function(){l?h.insertBefore(g,l):h.appendChild(g)}}var f=c.contentElement;c=null;angular.isString(f)?(f=document.querySelector(f),c=e(f)):(f=f[0]||f,c=document.contains(f)?e(f):function(){f.parentNode&&f.parentNode.removeChild(f)});return{element:angular.element(f),restore:c}}}MdGesture.$inject=["$$MdGestureHandler","$$rAF","$timeout","$mdUtil"];attachToDocument.$inject=["$mdGesture","$$MdGestureHandler","$mdUtil"];
var HANDLERS={},pointer,lastPointer,maxClickDistance=6,forceSkipClickHijack=!1,disableAllGestures=!1,lastLabelClickPos=null,isInitialized=!1;angular.module("material.core.gestures",[]).provider("$mdGesture",MdGestureProvider).factory("$$MdGestureHandler",MdGestureHandler).run(attachToDocument);function MdGestureProvider(){}
MdGestureProvider.prototype={disableAll:function(){disableAllGestures=!0},skipClickHijack:function(){return forceSkipClickHijack=!0},setMaxClickDistance:function(a){maxClickDistance=parseInt(a)},$get:["$$MdGestureHandler","$$rAF","$timeout","$mdUtil",function(a,b,d,c){return new MdGesture(a,b,d,c)}]};
function MdGesture(a,b,d,c){function e(n){return function(q,r){r.distance<this.state.options.maxDistance&&this.dispatchEvent(q,n,r)}}function f(n,q,r){var x=HANDLERS[q.replace(/^\$md./,"")];if(!x)throw Error("Failed to register element with handler "+q+". Available handlers: "+Object.keys(HANDLERS).join(", "));return x.registerElement(n,r)}function g(n,q){var r=new a(n);angular.extend(r,q);HANDLERS[n]=r;return v}function h(){for(var n=document.createElement("div"),q=" webkit Moz MS ms o".split(" "),
r=0;r<q.length;r++){var x=q[r];x=x?x+"TouchAction":"touchAction";if(angular.isDefined(n.style[x]))return x}}var l=h(),m=typeof window.jQuery!=="undefined"&&angular.element===window.jQuery,v={handler:g,register:f,isAndroid:c.isAndroid,isIos:c.isIos,isHijackingClicks:(c.isIos||c.isAndroid)&&!m&&!forceSkipClickHijack};v.isHijackingClicks&&(v.handler("click",{options:{maxDistance:maxClickDistance},onEnd:e("click")}),v.handler("focus",{options:{maxDistance:maxClickDistance},onEnd:function(n,q){q.distance<
this.state.options.maxDistance&&canFocus(n.target)&&(this.dispatchEvent(n,"focus",q),n.target.focus())}}),v.handler("mouseup",{options:{maxDistance:maxClickDistance},onEnd:e("mouseup")}),v.handler("mousedown",{onStart:function(n){this.dispatchEvent(n,"mousedown")}}));return v.handler("press",{onStart:function(n){this.dispatchEvent(n,"$md.pressdown")},onEnd:function(n){this.dispatchEvent(n,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){d.cancel(this.state.timeout)},
onStart:function(n,q){if(!this.state.registeredParent)return this.cancel();this.state.pos={x:q.x,y:q.y};this.state.timeout=d(angular.bind(this,function(){this.dispatchEvent(n,"$md.hold");this.cancel()}),this.state.options.delay,!1)},onMove:function(n,q){l||n.type!=="touchmove"||n.preventDefault();n=this.state.pos.x-q.x;q=this.state.pos.y-q.y;Math.sqrt(n*n+q*q)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},
onSetup:function(n,q){l&&(this.oldTouchAction=n[0].style[l],n[0].style[l]=q.horizontal?"pan-y":"pan-x")},onCleanup:function(n){this.oldTouchAction&&(n[0].style[l]=this.oldTouchAction)},onStart:function(){this.state.registeredParent||this.cancel()},onMove:function(n,q){l||n.type!=="touchmove"||n.preventDefault();if(this.state.dragPointer)this.dispatchDragMove(n);else{if(this.state.options.horizontal){var r=Math.abs(q.distanceX)>this.state.options.minDistance;q=Math.abs(q.distanceY)>this.state.options.minDistance*
this.state.options.cancelMultiplier}else r=Math.abs(q.distanceY)>this.state.options.minDistance,q=Math.abs(q.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier;r?(this.state.dragPointer=makeStartPointer(n),updatePointerState(n,this.state.dragPointer),this.dispatchEvent(n,"$md.dragstart",this.state.dragPointer)):q&&this.cancel()}},dispatchDragMove:b.throttle(function(n){this.state.isRunning&&(updatePointerState(n,this.state.dragPointer),this.dispatchEvent(n,"$md.drag",this.state.dragPointer))}),
onEnd:function(n){this.state.dragPointer&&(updatePointerState(n,this.state.dragPointer),this.dispatchEvent(n,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(n,q){Math.abs(q.velocityX)>this.state.options.minVelocity&&Math.abs(q.distanceX)>this.state.options.minDistance?(q=q.directionX=="left"?"$md.swipeleft":"$md.swiperight",this.dispatchEvent(n,q)):Math.abs(q.velocityY)>this.state.options.minVelocity&&Math.abs(q.distanceY)>this.state.options.minDistance&&
(q=q.directionY=="up"?"$md.swipeup":"$md.swipedown",this.dispatchEvent(n,q))}})}function GestureHandler(a){this.name=a;this.state={}}
function MdGestureHandler(){function a(c,e,f){f=f||pointer;e=new angular.element.Event(e);e.$material=!0;e.pointer=f;e.srcEvent=c;angular.extend(e,{clientX:f.x,clientY:f.y,screenX:f.x,screenY:f.y,pageX:f.x,pageY:f.y,ctrlKey:c.ctrlKey,altKey:c.altKey,shiftKey:c.shiftKey,metaKey:c.metaKey});angular.element(f.target).trigger(e)}function b(c,e,f){f=f||pointer;if(e==="click"||e==="mouseup"||e==="mousedown")if(typeof window.MouseEvent==="function")var g=new MouseEvent(e,{bubbles:!0,cancelable:!0,screenX:Number(c.screenX),
screenY:Number(c.screenY),clientX:Number(f.x),clientY:Number(f.y),ctrlKey:c.ctrlKey,altKey:c.altKey,shiftKey:c.shiftKey,metaKey:c.metaKey,button:c.button,buttons:c.buttons,relatedTarget:c.relatedTarget||null});else g=document.createEvent("MouseEvents"),g.initMouseEvent(e,!0,!0,window,c.detail,f.x,f.y,f.x,f.y,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget||null);else typeof window.CustomEvent==="function"?g=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:{}}):(g=document.createEvent("CustomEvent"),
g.initCustomEvent(e,!0,!0,{}));g.$material=!0;g.pointer=f;g.srcEvent=c;f.target.dispatchEvent(g)}var d=typeof window.jQuery!=="undefined"&&angular.element===window.jQuery;GestureHandler.prototype={options:{},dispatchEvent:d?a:b,onSetup:angular.noop,onCleanup:angular.noop,onStart:angular.noop,onMove:angular.noop,onEnd:angular.noop,onCancel:angular.noop,start:function(c,e){if(!this.state.isRunning){var f=this.getNearestParent(c.target),g=f&&f.$mdGesture[this.name]||{};this.state={isRunning:!0,options:angular.extend({},
this.options,g),registeredParent:f};this.onStart(c,e)}},move:function(c,e){if(this.state.isRunning)this.onMove(c,e)},end:function(c,e){this.state.isRunning&&(this.state.isRunning=!1,this.onEnd(c,e))},cancel:function(c,e){this.onCancel(c,e);this.state={}},getNearestParent:function(c){for(;c;){if((c.$mdGesture||{})[this.name])return c;c=c.parentNode}return null},registerElement:function(c,e){function f(){delete c[0].$mdGesture[g.name];c.off("$destroy",f);g.onCleanup(c,e||{})}var g=this;c[0].$mdGesture=
c[0].$mdGesture||{};c[0].$mdGesture[this.name]=e||{};c.on("$destroy",f);g.onSetup(c,e||{});return f}};return GestureHandler}
function attachToDocument(a,b,d){function c(m){var v=!m.clientX&&!m.clientY;v||m.$material||m.isIonicTap||lastLabelClickPos&&lastLabelClickPos.x===m.x&&lastLabelClickPos.y===m.y||m.type==="mousedown"&&(canFocus(m.target)||canFocus(document.activeElement))||(m.preventDefault(),m.stopPropagation())}function e(m){var v;(v=d.isIos?angular.isDefined(m.webkitForce)&&m.webkitForce===0:m.clientX===0&&m.clientY===0)||m.$material||m.isIonicTap||lastLabelClickPos&&lastLabelClickPos.x===m.x&&lastLabelClickPos.y===
m.y?(lastLabelClickPos=null,m.target.tagName.toLowerCase()==="label"&&(lastLabelClickPos={x:m.x,y:m.y})):(m.preventDefault(),m.stopPropagation(),lastLabelClickPos=null)}function f(m,v){var n;for(n in HANDLERS){var q=HANDLERS[n];q instanceof b&&(m==="start"&&q.cancel(),q[m](v,pointer))}}function g(m){if(!pointer){var v=+Date.now();lastPointer&&!typesMatch(m,lastPointer)&&v-lastPointer.endTime<1500||(pointer=makeStartPointer(m),f("start",m))}}function h(m){pointer&&typesMatch(m,pointer)&&(updatePointerState(m,
pointer),f("move",m))}function l(m){pointer&&typesMatch(m,pointer)&&(updatePointerState(m,pointer),pointer.endTime=+Date.now(),m.type!=="pointercancel"&&f("end",m),lastPointer=pointer,pointer=null)}disableAllGestures||(!isInitialized&&a.isHijackingClicks&&(document.addEventListener("click",e,!0),document.addEventListener("mouseup",c,!0),document.addEventListener("mousedown",c,!0),document.addEventListener("focus",c,!0),isInitialized=!0),angular.element(document).on("mousedown touchstart pointerdown",
g).on("mousemove touchmove pointermove",h).on("mouseup mouseleave touchend touchcancel pointerup pointercancel",l).on("$$mdGestureReset",function(){lastPointer=pointer=null}))}function makeStartPointer(a){var b=getEventPoint(a);a={startTime:+Date.now(),target:a.target,type:a.type.charAt(0)};a.startX=a.x=b.pageX;a.startY=a.y=b.pageY;return a}function typesMatch(a,b){return a&&b&&a.type.charAt(0)===b.type}
function updatePointerState(a,b){var d=getEventPoint(a);a=b.x=d.pageX;d=b.y=d.pageY;b.distanceX=a-b.startX;b.distanceY=d-b.startY;b.distance=Math.sqrt(b.distanceX*b.distanceX+b.distanceY*b.distanceY);b.directionX=b.distanceX>0?"right":b.distanceX<0?"left":"";b.directionY=b.distanceY>0?"down":b.distanceY<0?"up":"";b.duration=+Date.now()-b.startTime;b.velocityX=b.distanceX/b.duration;b.velocityY=b.distanceY/b.duration}
function getEventPoint(a){a=a.originalEvent||a;return a.touches&&a.touches[0]||a.changedTouches&&a.changedTouches[0]||a}function canFocus(a){return!!a&&a.getAttribute("tabindex")!=="-1"&&!a.hasAttribute("disabled")&&(a.hasAttribute("tabindex")||a.hasAttribute("href")||a.isContentEditable||"INPUT SELECT BUTTON TEXTAREA VIDEO AUDIO".split(" ").indexOf(a.nodeName)!==-1)}MdInteractionService.$inject=["$timeout","$mdUtil","$rootScope"];
angular.module("material.core.interaction",[]).service("$mdInteraction",MdInteractionService);
function MdInteractionService(a,b,d){this.$timeout=a;this.$mdUtil=b;this.$rootScope=d;this.pointerEvent="MSPointerEvent"in window?"MSPointerDown":"PointerEvent"in window?"pointerdown":null;this.bodyElement=angular.element(document.body);this.isBuffering=!1;this.lastInteractionTime=this.lastInteractionType=this.bufferTimeout=null;this.inputHandler=this.onInputEvent.bind(this);this.bufferedInputHandler=this.onBufferInputEvent.bind(this);this.inputEventMap={keydown:"keyboard",mousedown:"mouse",mouseenter:"mouse",
touchstart:"touch",pointerdown:"pointer",MSPointerDown:"pointer"};this.iePointerMap={2:"touch",3:"touch",4:"mouse"};this.initializeEvents();this.$rootScope.$on("$destroy",this.deregister.bind(this))}MdInteractionService.prototype.deregister=function(){this.bodyElement.off("keydown mousedown",this.inputHandler);"ontouchstart"in document.documentElement&&this.bodyElement.off("touchstart",this.bufferedInputHandler);this.pointerEvent&&this.bodyElement.off(this.pointerEvent,this.inputHandler)};
MdInteractionService.prototype.initializeEvents=function(){this.bodyElement.on("keydown mousedown",this.inputHandler);if("ontouchstart"in document.documentElement)this.bodyElement.on("touchstart",this.bufferedInputHandler);if(this.pointerEvent)this.bodyElement.on(this.pointerEvent,this.inputHandler)};
MdInteractionService.prototype.onInputEvent=function(a){if(!this.isBuffering){var b=this.inputEventMap[a.type];b==="pointer"&&(b=this.iePointerMap[a.pointerType]||a.pointerType);this.lastInteractionType=b;this.lastInteractionTime=this.$mdUtil.now()}};MdInteractionService.prototype.onBufferInputEvent=function(a){this.$timeout.cancel(this.bufferTimeout);this.onInputEvent(a);this.isBuffering=!0;this.bufferTimeout=this.$timeout(function(){this.isBuffering=!1}.bind(this),650,!1)};
MdInteractionService.prototype.getLastInteractionType=function(){return this.lastInteractionType};MdInteractionService.prototype.isUserInvoked=function(a){a=angular.isNumber(a)?a:15;return this.lastInteractionTime>=this.$mdUtil.now()-a};angular.module("material.core").provider("$$interimElement",InterimElementProvider);
function InterimElementProvider(){function a(d){function c(n){m.optionsFactory=n.options;m.methods=(n.methods||[]).concat(h);return v}function e(n,q){l[n]=q;return v}function f(n,q){q=q||{};q.methods=q.methods||[];q.options=q.options||function(){return{}};if(/^cancel|hide|show$/.test(n))throw Error("Preset '"+n+"' in "+d+" is reserved!");if(q.methods.indexOf("_options")>-1)throw Error("Method '_options' in "+d+" is reserved!");m.presets[n]={methods:q.methods.concat(h),optionsFactory:q.options,argOption:q.argOption};
return v}function g(n,q){function r(A){A=A||{};A._options&&(A=A._options);return k.show(angular.extend({},H,A))}function x(A){return k.destroy(A)}function y(A,w){var B={};B[d]=p;return q.invoke(A||function(){return w},{},B)}var k=n(),p={hide:k.hide,cancel:k.cancel,show:r,destroy:x};var t=m.methods||[];var H=y(m.optionsFactory,{});angular.forEach(l,function(A,w){p[w]=A});angular.forEach(m.presets,function(A,w){function B(D){this._options=angular.extend({},u,D)}var u=y(A.optionsFactory,{}),z=(A.methods||
[]).concat(t);angular.extend(u,{$type:w});angular.forEach(z,function(D){B.prototype[D]=function(G){this._options[D]=G;return this}});A.argOption&&(z="show"+w.charAt(0).toUpperCase()+w.slice(1),p[z]=function(D){D=p[w](D);return p.show(D)});p[w]=function(D){return arguments.length&&A.argOption&&!angular.isObject(D)&&!angular.isArray(D)?(new B)[A.argOption](D):new B(D)}});return p}g.$inject=["$$interimElement","$injector"];var h=["onHide","onShow","onRemove"],l={},m={presets:{}},v={setDefaults:c,addPreset:f,
addMethod:e,$get:g};v.addPreset("build",{methods:"controller controllerAs resolve multiple template templateUrl themable transformTemplate parent contentElement".split(" ")});return v}function b(d,c,e,f,g,h,l,m,v,n,q){return function(){function r(u){u=u||{};var z=new t(u||{}),D=u.multiple?c.resolve():c.all(A);u.multiple||(D=D.then(function(){var N=w.concat(B.map(H.cancel));return c.all(N)}));var G=D.then(function(){return z.show().then(function(){B.push(z)}).catch(function(N){return N}).finally(function(){A.splice(A.indexOf(G),
1)})});A.push(G);z.deferred.promise.catch(function(N){N instanceof Error&&q(N);return N});return z.deferred.promise}function x(u,z){function D(G){if(!G)return c.when(u);var N=G.remove(u,!1,z||{}).catch(function(C){return C}).finally(function(){w.splice(w.indexOf(N),1)});B.splice(B.indexOf(G),1);w.push(N);return G.deferred.promise}z=z||{};return z.closeAll?c.all(B.slice().reverse().map(D)):z.closeTo!==void 0?c.all(B.slice(z.closeTo).map(D)):D(B[B.length-1])}function y(u,z){var D=B.pop();if(!D)return c.when(u);
var G=D.remove(u,!0,z||{}).catch(function(N){return N}).finally(function(){w.splice(w.indexOf(G),1)});w.push(G);return D.deferred.promise.catch(angular.noop)}function k(u){return function(){var z=arguments;return B.length?u.apply(H,z):A.length?A[0].finally(function(){return u.apply(H,z)}):c.when("No interim elements currently showing up.")}}function p(u){var z=u?null:B.shift(),D=angular.element(u).length&&angular.element(u)[0].parentNode;D&&(u=B.filter(function(G){return G.options.element[0]===D}),
u.length&&(z=u[0],B.splice(B.indexOf(z),1)));return z?z.remove(!1,!1,{$destroy:!0}):c.when(!1)}function t(u){function z(){return c(function(I,J){function Q(T){S.deferred.reject(T);J(T)}u.onCompiling&&u.onCompiling(u);N(u).then(function(T){var Y=T,R=u;angular.extend(Y.locals,R);Y=Y.link(R.scope);R.element=Y;var U=R;var X=Y,aa=R,ha=aa.parent;ha=angular.isFunction(ha)?ha(aa.scope,X,aa):angular.isString(ha)?angular.element(d[0].querySelector(ha)):angular.element(ha);if((ha||{}).length)var fa=ha;else g[0]&&
g[0].querySelector&&(fa=g[0].querySelector(":not(svg) > body")),fa||(fa=g[0]),fa.nodeName=="#comment"&&(fa=d[0].body),fa=angular.element(fa);U.parent=fa;R.themable&&v(Y);K=Y;u.cleanupElement=T.cleanup;M=F(K,u,T.controller).then(I,Q)}).catch(Q)})}function D(I,J,Q){function T(Y){S.deferred.reject(Y)}if(!K)return c.when(!1);u=angular.extend(u||{},Q||{});u.cancelAutoHide&&u.cancelAutoHide();u.element.triggerHandler("$mdInterimElementRemove");if(u.$destroy===!0)return O(u.element,u).then(function(){J&&
T(I)||S.deferred.resolve(I)});c.when(M).finally(function(){O(u.element,u).then(function(){J?T(I):S.deferred.resolve(I)},T)});return S.deferred.promise}function G(I){I=I||{};I.template&&(I.template=l.processTemplate(I.template));return angular.extend({preserveScope:!1,cancelAutoHide:angular.noop,scope:I.scope||e.$new(I.isolateScope),onShow:function(J,Q,T){return h.enter(Q,T.parent)},onRemove:function(J,Q){return Q&&h.leave(Q)||c.when()}},I)}function N(I){var J=I.skipCompile?null:m.compile(I);return J||
c(function(Q){Q({locals:{},link:function(){return I.element}})})}function C(){var I=angular.noop;if(u.hideDelay){var J=f(H.hide,u.hideDelay);I=function(){f.cancel(J)}}u.cancelAutoHide=function(){I();u.cancelAutoHide=void 0}}function F(I,J,Q){var T=J.onShowing||angular.noop,Y=J.onComplete||angular.noop;try{T(J.scope,I,J,Q)}catch(R){return c.reject(R)}return c(function(R,U){try{c.when(J.onShow(J.scope,I,J,Q)).then(function(){Y(J.scope,I,J);C();R(I)},U)}catch(X){U(X.message)}})}function O(I,J){var Q=
J.onRemoving||angular.noop;return c(function(T,Y){try{var R=c.when(J.onRemove(J.scope,I,J)||!0);Q(I,R);J.$destroy?(T(I),!J.preserveScope&&J.scope&&R.then(function(){J.scope.$destroy()})):R.then(function(){!J.preserveScope&&J.scope&&J.scope.$destroy();T(I)},Y)}catch(U){Y(U.message)}})}var S,K,M=c.when(!0);u=G(u);return S={options:u,deferred:c.defer(),show:z,remove:D}}var H,A=[],w=[],B=[];return H={show:r,hide:k(x),cancel:k(y),destroy:p,$injector_:n}}}b.$inject="$document $q $rootScope $timeout $rootElement $animate $mdUtil $mdCompiler $mdTheming $injector $exceptionHandler".split(" ");
a.$get=b;return a}MdLiveAnnouncer.$inject=["$timeout"];angular.module("material.core").service("$mdLiveAnnouncer",MdLiveAnnouncer);function MdLiveAnnouncer(a){this._$timeout=a;this._liveElement=this._createLiveElement();this._announceTimeout=100}MdLiveAnnouncer.prototype.announce=function(a,b){b||(b="polite");var d=this;d._liveElement.textContent="";d._liveElement.setAttribute("aria-live",b);d._$timeout(function(){d._liveElement.textContent=a},d._announceTimeout,!1)};
MdLiveAnnouncer.prototype._createLiveElement=function(){var a=document.createElement("div");a.classList.add("md-visually-hidden");a.setAttribute("role","status");a.setAttribute("aria-atomic","true");a.setAttribute("aria-live","polite");document.body.appendChild(a);return a};
angular.module("material.core.meta",[]).provider("$$mdMeta",function(){function a(g){if(e[g])return!0;var h=document.getElementsByName(g)[0];if(!h)return!1;e[g]=angular.element(h);return!0}function b(g,h){a(g);e[g]?e[g].attr("content",h):(h=angular.element('<meta name="'+g+'" content="'+h+'"/>'),c.append(h),e[g]=h);return function(){e[g].attr("content","");e[g].remove();delete e[g]}}function d(g){if(!a(g))throw Error("$$mdMeta: could not find a meta tag with the name '"+g+"'");return e[g].attr("content")}
var c=angular.element(document.head),e={},f={setMeta:b,getMeta:d};return angular.extend({},f,{$get:function(){return f}})});
(function(){function a(u){function z(O){return O.replace(D,"").replace(G,function(S,K,M,I){return I?M.toUpperCase():M})}var D=/^((?:x|data)[:\-_])/i,G=/([:\-_]+(.))/g,N=" xs gt-xs sm gt-sm md gt-md lg gt-lg xl print".split(" "),C=["layout","flex","flex-order","flex-offset","layout-align"],F=["show","hide","layout-padding","layout-margin"];angular.forEach(N,function(O){angular.forEach(C,function(S){S=O?S+"-"+O:S;u.directive(z(S),e(S))});angular.forEach(F,function(S){S=O?S+"-"+O:S;u.directive(z(S),
f(S))})});u.provider("$$mdLayout",function(){return{$get:angular.noop,validateAttributeValue:m,validateAttributeUsage:l,disableLayouts:function(O){B.enabled=O!==!0}}}).directive("mdLayoutCss",d).directive("ngCloak",c("ng-cloak")).directive("layoutWrap",f("layout-wrap")).directive("layoutNowrap",f("layout-nowrap")).directive("layoutNoWrap",f("layout-no-wrap")).directive("layoutFill",f("layout-fill")).directive("layoutLtMd",h("layout-lt-md",!0)).directive("layoutLtLg",h("layout-lt-lg",!0)).directive("flexLtMd",
h("flex-lt-md",!0)).directive("flexLtLg",h("flex-lt-lg",!0)).directive("layoutAlignLtMd",h("layout-align-lt-md")).directive("layoutAlignLtLg",h("layout-align-lt-lg")).directive("flexOrderLtMd",h("flex-order-lt-md")).directive("flexOrderLtLg",h("flex-order-lt-lg")).directive("offsetLtMd",h("flex-offset-lt-md")).directive("offsetLtLg",h("flex-offset-lt-lg")).directive("hideLtMd",h("hide-lt-md")).directive("hideLtLg",h("hide-lt-lg")).directive("showLtMd",h("show-lt-md")).directive("showLtLg",h("show-lt-lg")).config(b)}
function b(){var u=!!document.querySelector("[md-layouts-disabled]");B.enabled=!u}function d(){B.enabled=!1;return{restrict:"A",priority:"900"}}function c(u){return["$timeout",function(z){return{restrict:"A",priority:-10,compile:function(D){if(!B.enabled)return angular.noop;D.addClass(u);return function(G,N){z(function(){N.removeClass(u)},10,!1)}}}}]}function e(u){function z(D,G,N){G=g(G,u,N);var C=N.$observe(N.$normalize(u),G);G(n(u,N,""));D.$on("$destroy",function(){C()})}return["$mdUtil","$interpolate",
"$log",function(D,G,N){r=D;x=G;y=N;return{restrict:"A",compile:function(C,F){if(B.enabled){l(u,F,C,y);m(u,n(u,F,""),v(C,u,F));var O=z}return O||angular.noop}}}]}function f(u){function z(D,G){G.addClass(u)}return["$mdUtil","$interpolate","$log",function(D,G,N){r=D;x=G;y=N;return{restrict:"A",compile:function(C,F){if(B.enabled){m(u,n(u,F,""),v(C,u,F));C.addClass(u);var O=z}return O||angular.noop}}}]}function g(u,z){var D;return function(G){G=m(z,G||"");angular.isDefined(G)&&(D&&u.removeClass(D),D=G?
z+"-"+G.trim().replace(p,"-"):z,u.addClass(D))}}function h(u){var z=u.split("-");return["$log",function(D){D.warn(u+"has been deprecated. Please use a `"+z[0]+"-gt-<xxx>` variant.");return angular.noop}]}function l(u,z,D,G){z=D[0].nodeName.toLowerCase();switch(u.replace(k,"")){case "flex":if(z=="md-button"||z=="fieldset")z="<"+z+" "+u+"></"+z+">",D="https://github.com/philipwalton/flexbugs#9-some-html-elements-cant-be-flex-containers",u="Markup '{0}' may not work as expected in IE Browsers. Consult '{1}' for details.",
G.warn(r.supplant(u,[z,D]))}}function m(u,z,D){var G;if(!((z||"").indexOf(x.startSymbol())>-1)){switch(u.replace(k,"")){case "layout":q(z,H)||(z=H[0]);break;case "flex":q(z,t)||isNaN(z)&&(z="");break;case "flex-offset":case "flex-order":if(!z||isNaN(+z))z="0";break;case "layout-align":u={main:"start",cross:"stretch"};z=z||"";if(z.indexOf("-")===0||z.indexOf(" ")===0)z="none"+z;z=z.toLowerCase().trim().replace(p,"-").split("-");z.length&&z[0]==="space"&&(z=[z[0]+"-"+z[1],z[2]]);z.length>0&&(u.main=
z[0]||u.main);z.length>1&&(u.cross=z[1]||u.cross);A.indexOf(u.main)<0&&(u.main="start");w.indexOf(u.cross)<0&&(u.cross="stretch");z=r.supplant("{main}-{cross}",u);break;case "layout-padding":case "layout-margin":case "layout-fill":case "layout-wrap":case "layout-nowrap":z=""}z!=G&&(D||angular.noop)(z)}return z?z.trim():""}function v(u,z,D){return function(G){(G||"").indexOf(x.startSymbol())>-1||(D[D.$normalize(z)]=G)}}function n(u,z,D){u=z.$normalize(u);return z[u]?z[u].trim().replace(p,"-"):D||null}
function q(u,z,D){u=D&&u?u.replace(p,D):u;var G=!1;u&&z.forEach(function(N){N=D?N.replace(p,D):N;G=G||N===u});return G}var r,x,y,k=/(-gt)?-(sm|md|lg|print)/g,p=/\s+/g,t="grow initial auto none noshrink nogrow".split(" "),H=["row","column"],A=" start center end stretch space-around space-between".split(" "),w=["","start","center","end","stretch"],B={enabled:!0,breakpoints:[]};a(angular.module("material.core.layout",["ng"]))})();ComponentRegistry.$inject=["$log","$q"];
angular.module("material.core").factory("$mdComponentRegistry",ComponentRegistry);
function ComponentRegistry(a,b){var d,c=[],e={};return d={notFoundError:function(f,g){a.error((g||"")+"No instance found for handle",f)},getInstances:function(){return c},get:function(f){if(!f||f==="")return null;var g;var h=0;for(g=c.length;h<g;h++){var l=c[h];if(l.$$mdHandle===f)return l}return null},register:function(f,g){function h(){var m=c.indexOf(f);m!==-1&&c.splice(m,1)}function l(){var m=e[g];m&&(m.forEach(function(v){v.resolve(f)}),delete e[g])}if(!g)return angular.noop;f.$$mdHandle=g;c.push(f);
l();return h},when:function(f){if(f&&f!==""){var g=b.defer(),h=d.get(f);h?g.resolve(h):(e[f]===void 0&&(e[f]=[]),e[f].push(g));return g.promise}return b.reject("Invalid `md-component-id` value.")}}}
angular.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100",contrastStrongLightColors:"400 500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",
600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",
contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",
900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},
"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A700",contrastStrongLightColors:"600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",
A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",
400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",
contrastStrongLightColors:"700 800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",
A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",
contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",
400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100 A200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#ffffff",A200:"#000000",A400:"#303030",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A200 A400 A700"},
"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200",contrastStrongLightColors:"400 500 700"}});
(function(a){function b(D){var G=!!document.querySelector("[md-themes-disabled]");D.disableTheming(G)}function d(D,G){function N(R,U){U=U||{};r[R]=F(R,U);return I}function C(R,U){return F(R,a.extend({},r[R]||{},U))}function F(R,U){var X=B.filter(function(aa){return!U[aa]});if(X.length)throw Error("Missing colors %1 in palette %2!".replace("%1",X.join(", ")).replace("%2",R));return U}function O(R,U){if(M[R])return M[R];U=U||"default";U=typeof U==="string"?M[U]:U;var X=new S(R);U&&a.forEach(U.colors,
function(aa,ha){X.colors[ha]={name:aa.name,hues:a.extend({},aa.hues)}});return M[R]=X}function S(R){function U(aa){aa=arguments.length===0?!0:!!aa;if(aa!==X.isDark){X.isDark=aa;X.foregroundPalette=X.isDark?y:x;X.foregroundShadow=X.isDark?"1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)":"";var ha=X.isDark?w:A,fa=X.isDark?A:w;a.forEach(ha,function(ea,ca){var da=X.colors[ca];ca=fa[ca];if(da)for(var la in da.hues)da.hues[la]===ca[la]&&(da.hues[la]=ea[la])});return X}}var X=this;X.name=R;X.colors=
{};X.dark=U;U(!1);H.forEach(function(aa){var ha=(X.isDark?w:A)[aa];X[aa+"Palette"]=function(fa,ea){var ca=X.colors[aa]={name:fa,hues:a.extend({},ha,ea)};Object.keys(ca.hues).forEach(function(da){if(!ha[da])throw Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",da).replace("%2",X.name).replace("%3",fa).replace("%4",Object.keys(ha).join(", ")));});Object.keys(ca.hues).map(function(da){return ca.hues[da]}).forEach(function(da){if(B.indexOf(da)==-1)throw Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",
da).replace("%2",X.name).replace("%3",aa).replace("%4",fa).replace("%5",B.join(", ")));});return X};X[aa+"Color"]=function(){var fa=Array.prototype.slice.call(arguments);console.warn("$mdThemingProviderTheme."+aa+"Color() has been deprecated. Use $mdThemingProviderTheme."+aa+"Palette() instead.");return X[aa+"Palette"].apply(X,fa)}})}function K(R,U,X,aa){function ha(ca){return ca===void 0||ca===""?!0:ea.THEMES[ca]!==void 0}function fa(ca,da){function la(ma){if(ma){ha(ma)||aa.warn("Attempted to use unregistered theme '"+
ma+"'. Register it with $mdThemingProvider.theme().");var za=ca.data("$mdThemeName");za&&ca.removeClass("md-"+za+"-theme");ca.addClass("md-"+ma+"-theme");ca.data("$mdThemeName",ma);pa&&ca.data("$mdThemeController",pa)}}var pa=da.controller("mdTheme")||ca.data("$mdThemeController");da=ca.scope();la(pa&&pa.$mdTheme||(Q==="default"?"":Q));if(pa){var Ga=J||pa.$shouldWatch||U.parseAttributeBoolean(ca.attr("md-theme-watch"));if(Ga||pa.isAsyncTheme){var wa=function(){Aa&&(Aa(),Aa=void 0)},Aa=pa.registerChanges(function(ma){la(ma);
Ga||wa()});if(da)da.$on("$destroy",wa);else ca.on("$destroy",wa)}}}var ea=function(ca,da){da===void 0&&(da=ca);ea.inherit(da,da)};Object.defineProperty(ea,"THEMES",{get:function(){return a.extend({},M)}});Object.defineProperty(ea,"PALETTES",{get:function(){return a.extend({},r)}});Object.defineProperty(ea,"ALWAYS_WATCH",{get:function(){return J}});ea.inherit=fa;ea.registered=ha;ea.defaultTheme=function(){return Q};ea.generateTheme=function(ca){l(M[ca],ca,u.nonce)};ea.defineTheme=function(ca,da){da=
da||{};var la=O(ca);da.primary&&la.primaryPalette(da.primary,da.primaryHues);da.accent&&la.accentPalette(da.accent,da.accentHues);da.warn&&la.warnPalette(da.warn,da.warnHues);da.background&&la.backgroundPalette(da.background,da.backgroundHues);da.dark&&la.dark();this.generateTheme(ca);return X.resolve(ca)};ea.setBrowserColor=Y;return ea}K.$inject=["$rootScope","$mdUtil","$q","$log"];r={};var M={},I,J=!1,Q="default";a.extend(r,D);var T=function(R){var U=G.setMeta("theme-color",R),X=G.setMeta("msapplication-navbutton-color",
R);return function(){U();X()}},Y=function(R){R=a.isObject(R)?R:{};var U=R.theme||"default",X=R.hue||"800";R=r[R.palette]||r[M[U].colors[R.palette||"primary"].name];X=a.isObject(R[X])?R[X].hex:R[X];X.substr(0,1)!=="#"&&(X="#"+X);return T(X)};return I={definePalette:N,extendPalette:C,theme:O,configuration:function(){return a.extend({},u,{defaultTheme:Q,alwaysWatchTheme:J,registeredStyles:[].concat(u.registeredStyles)})},disableTheming:function(R){u.disableTheming=a.isUndefined(R)||!!R},registerStyles:function(R){u.registeredStyles.push(R)},
setNonce:function(R){u.nonce=R},generateThemesOnDemand:function(R){u.generateOnDemand=R},setDefaultTheme:function(R){Q=R},alwaysWatchTheme:function(R){J=R},enableBrowserColor:Y,$get:K,_LIGHT_DEFAULT_HUES:A,_DARK_DEFAULT_HUES:w,_PALETTES:r,_THEMES:M,_parseRules:g,_rgba:n}}function c(D,G,N,C,F,O){return{priority:101,link:{pre:function(S,K,M){var I=[],J=G.startSymbol(),Q=G.endSymbol(),T=M.mdTheme.trim();T=T.substr(0,J.length)===J&&T.lastIndexOf(Q)===T.length-Q.length;J=M.mdTheme.split(J).join("").split(Q).join("").trim().substr(0,
2)==="::";Q=function(){var X=G(M.mdTheme)(S);return N(X)(S)||X};var Y={isAsyncTheme:a.isFunction(Q())||a.isFunction(Q().then),registerChanges:function(X,aa){aa&&(X=a.bind(aa,X));I.push(X);return function(){var ha=I.indexOf(X);ha>-1&&I.splice(ha,1)}},$setTheme:function(X){D.registered(X)||O.warn("attempted to use unregistered theme '"+X+"'");Y.$mdTheme=X;for(var aa=I.length;aa--;)I[aa](X)},$shouldWatch:C.parseAttributeBoolean(K.attr("md-theme-watch"))||D.ALWAYS_WATCH||T&&!J};K.data("$mdThemeController",
Y);var R=function(X){if(typeof X==="string")return Y.$setTheme(X);F.when(a.isFunction(X)?X():X).then(function(aa){Y.$setTheme(aa)})};R(Q());var U=S.$watch(Q,function(X){X&&(R(X),Y.$shouldWatch||U())})}}}}function e(){u.disableTheming=!0;return{restrict:"A",priority:"900"}}function f(D){return D}function g(D,G,N){m(D,G);N=N.replace(/THEME_NAME/g,D.name);var C=new RegExp("\\.md-"+D.name+"-theme","g");G=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue-[0-3]|shadow|default)-?(\d\.?\d*)?(contrast)?\s*\}\}'?"?/g;N=N.replace(G,
function(S,K,M,I,J){if(K==="foreground")return M=="shadow"?D.foregroundShadow:D.foregroundPalette[M]||D.foregroundPalette["1"];if(M.indexOf("hue")===0||M==="default")M=D.colors[K].hues[M];return n((r[D.colors[K].name][M]||"")[J?"contrast":"value"],I)});var F=RegExp("('|\")?{{\\s*([a-zA-Z]+)-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),O=[];a.forEach(["default","hue-1","hue-2","hue-3"],function(S){var K=N.replace(F,function(I,J,Q,T,Y){Q=D.colors[Q];I=r[Q.name];Q=Q.hues[S];return n(I[Q][T===
"color"?"value":"contrast"],Y)});S!=="default"&&(K=K.replace(C,".md-"+D.name+"-theme.md-"+S));if(D.name=="default"){var M=/((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)\.md-default-theme((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)/g;K=K.replace(M,function(I,J,Q){return I+", "+J+Q})}O.push(K)});return O}function h(D,G){function N(F){var O=F.contrastDefaultColor,S=F.contrastLightColors||[],K=F.contrastStrongLightColors||[],M=F.contrastDarkColors||[];typeof S==="string"&&(S=S.split(" "));typeof K==="string"&&(K=
K.split(" "));typeof M==="string"&&(M=M.split(" "));delete F.contrastDefaultColor;delete F.contrastLightColors;delete F.contrastStrongLightColors;delete F.contrastDarkColors;a.forEach(F,function(I,J){if(!a.isObject(I)){var Q=v(I);if(!Q)throw Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",I).replace("%2",F.name).replace("%3",J));F[J]={hex:F[J],value:Q,contrast:O==="light"?M.indexOf(J)>-1?k:K.indexOf(J)>-1?t:p:S.indexOf(J)>-1?K.indexOf(J)>-1?t:p:k}}})}
var C=document.head;C=C?C.firstElementChild:null;D=!u.disableTheming&&D.has("$MD_THEME_CSS")?D.get("$MD_THEME_CSS"):"";D+=u.registeredStyles.join("");C&&D.length!==0&&(a.forEach(r,N),D=D.split(/\}(?!(\}|'|"|;))/).filter(function(F){return F&&F.trim().length}).map(function(F){return F.trim()+"}"}),H.forEach(function(F){z[F]=""}),D.forEach(function(F){for(var O=0,S;S=H[O];O++)if(F.indexOf(".md-"+S)>-1)return z[S]+=F;for(O=0;S=H[O];O++)if(F.indexOf(S)>-1)return z[S]+=F;return z.primary+=F}),u.generateOnDemand||
a.forEach(G.THEMES,function(F){q[F.name]||G.defaultTheme()!=="default"&&F.name==="default"||l(F,F.name,u.nonce)}))}function l(D,G,N){var C=document.head,F=C?C.firstElementChild:null;q[G]||(H.forEach(function(O){for(O=g(D,O,z[O]);O.length;){var S=O.shift();if(S){var K=document.createElement("style");K.setAttribute("md-theme-style","");N&&K.setAttribute("nonce",N);K.appendChild(document.createTextNode(S));C.insertBefore(K,F)}}}),q[D.name]=!0)}function m(D,G){if(!r[(D.colors[G]||{}).name])throw Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",
D.name).replace("%2",G).replace("%3",Object.keys(r).join(", ")));}function v(D){if(a.isArray(D)&&D.length==3)return D;if(/^rgb/.test(D))return D.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(F,O){return O==3?parseFloat(F,10):parseInt(F,10)});D.charAt(0)=="#"&&(D=D.substring(1));if(/^([a-fA-F0-9]{3}){1,2}$/g.test(D)){var G=D.length/3,N=D.substr(0,G),C=D.substr(G,G);D=D.substr(G*2);G===1&&(N+=N,C+=C,D+=D);return[parseInt(N,16),parseInt(C,16),parseInt(D,16)]}}function n(D,G){if(!D)return"rgb('0,0,0')";
D.length==4&&(D=a.copy(D),G?D.pop():G=D.pop());return G&&(typeof G=="number"||typeof G=="string"&&G.length)?"rgba("+D.join(",")+","+G+")":"rgb("+D.join(",")+")"}b.$inject=["$mdThemingProvider"];c.$inject="$mdTheming $interpolate $parse $mdUtil $q $log".split(" ");f.$inject=["$mdTheming"];d.$inject=["$mdColorPalette","$$mdMetaProvider"];h.$inject=["$injector","$mdTheming"];a.module("material.core.theming",["material.core.theming.palette","material.core.meta"]).directive("mdTheme",c).directive("mdThemable",
f).directive("mdThemesDisabled",e).provider("$mdTheming",d).config(b).run(h);var q={},r,x={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.38)",4:"rgba(0,0,0,0.12)"},y={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.5)",4:"rgba(255,255,255,0.12)"},k=v("rgba(0,0,0,0.87)"),p=v("rgba(255,255,255,0.87)"),t=v("rgb(255,255,255)"),H=["primary","accent","warn","background"],A={accent:{"default":"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},
background:{"default":"50","hue-1":"A100","hue-2":"100","hue-3":"300"}},w={background:{"default":"A400","hue-1":"800","hue-2":"900","hue-3":"A200"}};H.forEach(function(D){var G={"default":"500","hue-1":"300","hue-2":"800","hue-3":"A100"};A[D]||(A[D]=G);w[D]||(w[D]=G)});var B="50 100 200 300 400 500 600 700 800 900 A100 A200 A400 A700".split(" "),u={disableTheming:!1,generateOnDemand:!1,registeredStyles:[],nonce:null},z={}})(window.angular);
(function(){function a(b){return{attach:function(d,c,e){var f=angular,g=f.extend;var h=c;h=h.hasClass("md-icon-button")?{isMenuItem:h.hasClass("md-menu-item"),fitRipple:!0,center:!0}:{isMenuItem:h.hasClass("md-menu-item"),dimBackground:!0};e=g.call(f,h,e);return b.attach(d,c,e)}}}a.$inject=["$mdInkRipple"];angular.module("material.core").factory("$mdButtonInkRipple",a)})();
(function(){function a(b){function d(c,e,f){return b.attach(c,e,angular.extend({center:!0,dimBackground:!1,fitRipple:!0},f))}return{attach:d}}a.$inject=["$mdInkRipple"];angular.module("material.core").factory("$mdCheckboxInkRipple",a)})();(function(){function a(b){function d(c,e,f){return b.attach(c,e,angular.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},f))}return{attach:d}}a.$inject=["$mdInkRipple"];angular.module("material.core").factory("$mdListInkRipple",a)})();
InkRippleCtrl.$inject="$scope $element rippleOptions $window $timeout $mdUtil $mdColorUtil".split(" ");InkRippleDirective.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"];angular.module("material.core").provider("$mdInkRipple",InkRippleProvider).directive("mdInkRipple",InkRippleDirective).directive("mdNoInk",attrNoDirective).directive("mdNoBar",attrNoDirective).directive("mdNoStretch",attrNoDirective);
function InkRippleDirective(a,b){return{controller:angular.noop,link:function(d,c,e){e.hasOwnProperty("mdInkRippleCheckbox")?b.attach(d,c):a.attach(d,c)}}}function InkRippleProvider(){function a(){b=!0}var b=!1;return{disableInkRipple:a,$get:["$injector",function(d){function c(e,f,g){return b||f.controller("mdNoInk")?angular.noop:d.instantiate(InkRippleCtrl,{$scope:e,$element:f,rippleOptions:g})}return{attach:c}}]}}
function InkRippleCtrl(a,b,d,c,e,f,g){this.$window=c;this.$timeout=e;this.$mdUtil=f;this.$mdColorUtil=g;this.$scope=a;this.$element=b;this.options=d;this.mousedown=!1;this.ripples=[];this.lastRipple=this.timeout=null;f.valueOnUse(this,"container",this.createContainer);this.$element.addClass("md-ink-ripple");(b.controller("mdInkRipple")||{}).createRipple=angular.bind(this,this.createRipple);(b.controller("mdInkRipple")||{}).setColor=angular.bind(this,this.color);this.bindEvents()}
function autoCleanup(a,b){if(a.mousedown||a.lastRipple)a.mousedown=!1,a.$mdUtil.nextTick(angular.bind(a,b),!1)}InkRippleCtrl.prototype.color=function(a){var b=this;angular.isDefined(a)&&(b._color=b._parseColor(a));if(!(a=b._color||b._parseColor(b.inkRipple()))){a=b;var d=a._parseColor,c=b.options&&b.options.colorElement?b.options.colorElement:[];b=(c=c.length?c[0]:b.$element[0])?b.$window.getComputedStyle(c).color:"rgb(0,0,0)";a=d.call(a,b)}return a};InkRippleCtrl.prototype.calculateColor=function(){return this.color()};
InkRippleCtrl.prototype._parseColor=function(a,b){b=b||1;var d=this.$mdColorUtil;if(a){if(a.indexOf("rgba")===0)return a.replace(/\d?\.?\d*\s*\)\s*$/,(.1*b).toString()+")");if(a.indexOf("rgb")===0)return d.rgbToRgba(a);if(a.indexOf("#")===0)return d.hexToRgba(a)}};
InkRippleCtrl.prototype.bindEvents=function(){this.$element.on("mousedown",angular.bind(this,this.handleMousedown));this.$element.on("mouseup touchend",angular.bind(this,this.handleMouseup));this.$element.on("mouseleave",angular.bind(this,this.handleMouseup));this.$element.on("touchmove",angular.bind(this,this.handleTouchmove))};
InkRippleCtrl.prototype.handleMousedown=function(a){if(!this.mousedown)if(a.hasOwnProperty("originalEvent")&&(a=a.originalEvent),this.mousedown=!0,this.options.center)this.createRipple(this.container.prop("clientWidth")/2,this.container.prop("clientWidth")/2);else if(a.srcElement!==this.$element[0]){var b=this.$element[0].getBoundingClientRect(),d=a.clientX-b.left;a=a.clientY-b.top;this.createRipple(d,a)}else this.createRipple(a.offsetX,a.offsetY)};
InkRippleCtrl.prototype.handleMouseup=function(){this.$timeout(function(){autoCleanup(this,this.clearRipples)}.bind(this))};InkRippleCtrl.prototype.handleTouchmove=function(){autoCleanup(this,this.deleteRipples)};InkRippleCtrl.prototype.deleteRipples=function(){for(var a=0;a<this.ripples.length;a++)this.ripples[a].remove()};InkRippleCtrl.prototype.clearRipples=function(){for(var a=0;a<this.ripples.length;a++)this.fadeInComplete(this.ripples[a])};
InkRippleCtrl.prototype.createContainer=function(){var a=angular.element('<div class="md-ripple-container"></div>');this.$element.append(a);return a};InkRippleCtrl.prototype.clearTimeout=function(){this.timeout&&(this.$timeout.cancel(this.timeout),this.timeout=null)};
InkRippleCtrl.prototype.isRippleAllowed=function(){var a=this.$element[0];do{if(!a.tagName||a.tagName==="BODY")break;if(a&&angular.isFunction(a.hasAttribute)&&(a.hasAttribute("disabled")||this.inkRipple()==="false"||this.inkRipple()==="0"))return!1}while(a=a.parentNode);return!0};InkRippleCtrl.prototype.inkRipple=function(){return this.$element.attr("md-ink-ripple")};
InkRippleCtrl.prototype.createRipple=function(a,b){if(this.isRippleAllowed()){var d=this,c=d.$mdColorUtil,e=angular.element('<div class="md-ripple"></div>'),f=this.$element.prop("clientWidth"),g=this.$element.prop("clientHeight");f=Math.max(Math.abs(f-a),a)*2;g=Math.max(Math.abs(g-b),b)*2;g=this.options.fitRipple?Math.max(f,g):Math.sqrt(Math.pow(f,2)+Math.pow(g,2));f=this.calculateColor();e.css({left:a+"px",top:b+"px",background:"black",width:g+"px",height:g+"px",backgroundColor:c.rgbaToRgb(f),borderColor:c.rgbaToRgb(f)});
this.lastRipple=e;this.clearTimeout();this.timeout=this.$timeout(function(){d.clearTimeout();d.mousedown||d.fadeInComplete(e)},157.5,!1);this.options.dimBackground&&this.container.css({backgroundColor:f});this.container.append(e);this.ripples.push(e);e.addClass("md-ripple-placed");this.$mdUtil.nextTick(function(){e.addClass("md-ripple-scaled md-ripple-active");d.$timeout(function(){d.clearRipples()},450,!1)},!1)}};
InkRippleCtrl.prototype.fadeInComplete=function(a){this.lastRipple===a?this.timeout||this.mousedown||this.removeRipple(a):this.removeRipple(a)};InkRippleCtrl.prototype.removeRipple=function(a){var b=this,d=this.ripples.indexOf(a);d<0||(this.ripples.splice(this.ripples.indexOf(a),1),a.removeClass("md-ripple-active"),a.addClass("md-ripple-remove"),this.ripples.length===0&&this.container.css({backgroundColor:""}),this.$timeout(function(){b.fadeOutComplete(a)},450,!1))};
InkRippleCtrl.prototype.fadeOutComplete=function(a){a.remove();this.lastRipple=null};function attrNoDirective(){return{controller:angular.noop}}(function(){function a(b){function d(c,e,f){return b.attach(c,e,angular.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},f))}return{attach:d}}a.$inject=["$mdInkRipple"];angular.module("material.core").factory("$mdTabInkRipple",a)})();
angular.module("material.core").factory("$$mdAnimate",["$q","$timeout","$mdConstant","$animateCss",function(a,b,d,c){return function(e){return AnimateDomUtils(e,a,b,d,c)}}]);
function AnimateDomUtils(a,b,d,c,e){var f;return f={translate3d:function(g,h,l,m){function v(n){return e(g,{to:n||h,addClass:m.transitionOutClass,removeClass:m.transitionInClass,duration:m.duration}).start()}return e(g,{from:h,to:l,addClass:m.transitionInClass,removeClass:m.transitionOutClass,duration:m.duration}).start().then(function(){return v})},waitTransitionEnd:function(g,h){var l=3E3;return b(function(m){function v(r){r&&r.target!==g[0]||(r&&d.cancel(q),g.off(c.CSS.TRANSITIONEND,v),m())}function n(r){r=
r||window.getComputedStyle(g[0]);return r.transitionDuration=="0s"||!r.transition&&!r.transitionProperty}h=h||{};n(h.cachedTransitionStyles)&&(l=0);var q=d(v,h.timeout||l);g.on(c.CSS.TRANSITIONEND,v)})},calculateTransformValues:function(g,h){var l=h.element;h=h.bounds;if(l||h){l?(l=f.clientRect(l))||(l=(l=(l=g?g.parent():null)?l.parent():null)?f.clientRect(l):null):l=f.copyRect(h);g=f.copyRect(g[0].getBoundingClientRect());h=f.centerPointFor(g);var m=f.centerPointFor(l);return{centerX:m.x-h.x,centerY:m.y-
h.y,scaleX:Math.round(100*Math.min(.5,l.width/g.width))/100,scaleY:Math.round(100*Math.min(.5,l.height/g.height))/100}}return{centerX:0,centerY:0,scaleX:.5,scaleY:.5}},calculateZoomToOrigin:function(g,h){var l=angular.bind(null,a.supplant,"translate3d( {centerX}px, {centerY}px, 0 ) scale( {scaleX}, {scaleY} )");return l(f.calculateTransformValues(g,h))},calculateSlideToOrigin:function(g,h){var l=angular.bind(null,a.supplant,"translate3d( {centerX}px, {centerY}px, 0 )");return l(f.calculateTransformValues(g,
h))},toCss:function(g){function h(m,v,n){angular.forEach(v.split(" "),function(q){l[q]=n})}var l={};angular.forEach(g,function(m,v){if(!angular.isUndefined(m))if("left top right bottom width height x y min-width min-height max-width max-height".indexOf(v)>=0)l[v]=m+"px";else switch(v){case "transition":h(v,c.CSS.TRANSITION,m);break;case "transform":h(v,c.CSS.TRANSFORM,m);break;case "transformOrigin":h(v,c.CSS.TRANSFORM_ORIGIN,m);break;case "font-size":l["font-size"]=m}});return l},toTransformCss:function(g,
h,l){var m={};angular.forEach(c.CSS.TRANSFORM.split(" "),function(v){m[v]=g});h&&(l=l||"all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) !important",m.transition=l);return m},copyRect:function(g,h){if(!g)return null;h=h||{};angular.forEach("left top right bottom width height".split(" "),function(l){h[l]=Math.round(g[l])});h.width=h.width||h.right-h.left;h.height=h.height||h.bottom-h.top;return h},clientRect:function(g){return(g=angular.element(g)[0].getBoundingClientRect())&&g.width>0&&g.height>0?f.copyRect(g):
null},centerPointFor:function(g){return g?{x:Math.round(g.left+g.width/2),y:Math.round(g.top+g.height/2)}:{x:0,y:0}}}}
angular.version.minor>=4?angular.module("material.core.animate",[]):function(){function a(m){return m.replace(/-[a-z]/g,function(v){return v.charAt(1).toUpperCase()})}var b=angular.forEach,d=angular.isDefined(document.documentElement.style.WebkitAppearance),c=d?"-webkit-":"",e=(d?"webkitTransitionEnd ":"")+"transitionend",f=(d?"webkitAnimationEnd ":"")+"animationend",g=["$document",function(m){return function(){return m[0].body.clientWidth+1}}],h=["$$rAF",function(m){return function(){var v=!1;m(function(){v=
!0});return function(n){v?n():m(n)}}}],l=["$q","$$rAFMutex",function(m,v){function n(q){this.setHost(q);this._doneCallbacks=[];this._runInAnimationFrame=v();this._state=0}n.prototype={setHost:function(q){this.host=q||{}},done:function(q){this._state===2?q():this._doneCallbacks.push(q)},progress:angular.noop,getPromise:function(){if(!this.promise){var q=this;this.promise=m(function(r,x){q.done(function(y){y===!1?x():r()})})}return this.promise},then:function(q,r){return this.getPromise().then(q,r)},
"catch":function(q){return this.getPromise()["catch"](q)},"finally":function(q){return this.getPromise()["finally"](q)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end();this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel();this._resolve(!1)},complete:function(q){var r=this;r._state===0&&(r._state=1,r._runInAnimationFrame(function(){r._resolve(q)}))},_resolve:function(q){this._state!==
2&&(b(this._doneCallbacks,function(r){r(q)}),this._doneCallbacks.length=0,this._state=2)}};n.all=function(q,r){function x(p){k=k&&p;++y===q.length&&r(k)}var y=0,k=!0;b(q,function(p){p.done(x)})};return n}];angular.module("material.core.animate",[]).factory("$$forceReflow",g).factory("$$AnimateRunner",l).factory("$$rAFMutex",h).factory("$animateCss",["$window","$$rAF","$$AnimateRunner","$$forceReflow","$$jqLite","$timeout","$animate",function(m,v,n,q,r,x,y){function k(C,F){var O=[],S=z(C),K=S&&y.enabled(),
M=!1,I=!1;K&&(F.transitionStyle&&O.push([c+"transition",F.transitionStyle]),F.keyframeStyle&&O.push([c+"animation",F.keyframeStyle]),F.delay&&O.push([c+"transition-delay",F.delay+"s"]),F.duration&&O.push([c+"transition-duration",F.duration+"s"]),M=F.keyframeStyle||F.to&&(F.duration>0||F.transitionStyle),I=!!F.addClass||!!F.removeClass,D(C,!0));var J=K&&(M||I);B(C,F);var Q=!1,T,Y;return{close:m.close,start:function(){function R(){if(!Q)return Q=!0,T&&Y&&C.off(T,Y),p(C,F),w(C,F),b(O,function(X){S.style[a(X[0])]=
""}),U.complete(!0),U}var U=new n;A(function(){D(C,!1);if(!J)return R();b(O,function(ca){var da=ca[0];ca=ca[1];S.style[a(da)]=ca});p(C,F);var X=t(C);if(X.duration===0)return R();var aa=[];F.easing&&(X.transitionDuration&&aa.push([c+"transition-timing-function",F.easing]),X.animationDuration&&aa.push([c+"animation-timing-function",F.easing]));F.delay&&X.animationDelay&&aa.push([c+"animation-delay",F.delay+"s"]);F.duration&&X.animationDuration&&aa.push([c+"animation-duration",F.duration+"s"]);b(aa,
function(ca){var da=ca[0],la=ca[1];S.style[a(da)]=la;O.push(ca)});aa=X.delay;var ha=aa*1E3,fa=X.duration;aa=fa*1E3;var ea=Date.now();T=[];X.transitionDuration&&T.push(e);X.animationDuration&&T.push(f);T=T.join(" ");Y=function(ca){ca.stopPropagation();var da=ca.originalEvent||ca;ca=da.timeStamp||Date.now();da=parseFloat(da.elapsedTime.toFixed(3));Math.max(ca-ea,0)>=ha&&da>=fa&&R()};C.on(T,Y);u(C,F);x(R,ha+aa*1.5,!1)});return U}}}function p(C,F){F.addClass&&(r.addClass(C,F.addClass),F.addClass=null);
F.removeClass&&(r.removeClass(C,F.removeClass),F.removeClass=null)}function t(C){function F(J){return d?"Webkit"+J.charAt(0).toUpperCase()+J.substr(1):J}C=z(C);var O=m.getComputedStyle(C);C=H(O[F("transitionDuration")]);var S=H(O[F("animationDuration")]),K=H(O[F("transitionDelay")]),M=H(O[F("animationDelay")]);S*=parseInt(O[F("animationIterationCount")],10)||1;O=Math.max(S,C);var I=Math.max(M,K);return{duration:O,delay:I,animationDuration:S,transitionDuration:C,animationDelay:M,transitionDelay:K}}
function H(C){var F=0;C=(C||"").split(/\s*,\s*/);b(C,function(O){O.charAt(O.length-1)=="s"&&(O=O.substring(0,O.length-1));O=parseFloat(O)||0;F=F?Math.max(O,F):O});return F}function A(C){G&&G();N.push(C);G=v(function(){G=null;for(var F=q(),O=0;O<N.length;O++)N[O](F);N.length=0})}function w(C,F){B(C,F);u(C,F)}function B(C,F){F.from&&(C.css(F.from),F.from=null)}function u(C,F){F.to&&(C.css(F.to),F.to=null)}function z(C){for(var F=0;F<C.length;F++)if(C[F].nodeType===1)return C[F]}function D(C,F){C=z(C);
var O=a(c+"transition-delay");C.style[O]=F?"-9999s":""}var G,N=[];return k}])}();angular.module("material.core").constant("$MD_THEME_CSS",'md-autocomplete.md-THEME_NAME-theme{background:"{{background-hue-1}}"}md-autocomplete.md-THEME_NAME-theme[disabled]:not([md-floating-label]){background:"{{background-hue-2}}"}md-autocomplete.md-THEME_NAME-theme button md-icon path{fill:"{{background-600}}"}md-autocomplete.md-THEME_NAME-theme button:after{background:"{{background-600-0.3}}"}md-autocomplete.md-THEME_NAME-theme input{color:"{{foreground-1}}"}md-autocomplete.md-THEME_NAME-theme.md-accent md-input-container.md-input-focused .md-input{border-color:"{{accent-color}}"}md-autocomplete.md-THEME_NAME-theme.md-accent md-input-container.md-input-focused label,md-autocomplete.md-THEME_NAME-theme.md-accent md-input-container.md-input-focused md-icon{color:"{{accent-color}}"}md-autocomplete.md-THEME_NAME-theme.md-accent md-progress-linear .md-container{background-color:"{{accent-100}}"}md-autocomplete.md-THEME_NAME-theme.md-accent md-progress-linear .md-bar{background-color:"{{accent-color}}"}md-autocomplete.md-THEME_NAME-theme.md-warn md-input-container.md-input-focused .md-input{border-color:"{{warn-A700}}"}md-autocomplete.md-THEME_NAME-theme.md-warn md-input-container.md-input-focused label,md-autocomplete.md-THEME_NAME-theme.md-warn md-input-container.md-input-focused md-icon{color:"{{warn-A700}}"}md-autocomplete.md-THEME_NAME-theme.md-warn md-progress-linear .md-container{background-color:"{{warn-100}}"}md-autocomplete.md-THEME_NAME-theme.md-warn md-progress-linear .md-bar{background-color:"{{warn-color}}"}.md-autocomplete-standard-list-container.md-THEME_NAME-theme,.md-autocomplete-suggestions-container.md-THEME_NAME-theme{background:"{{background-hue-1}}"}.md-autocomplete-standard-list-container.md-THEME_NAME-theme .md-autocomplete-suggestion,.md-autocomplete-suggestions-container.md-THEME_NAME-theme .md-autocomplete-suggestion{color:"{{foreground-1}}"}.md-autocomplete-standard-list-container.md-THEME_NAME-theme .md-autocomplete-suggestion.selected,.md-autocomplete-standard-list-container.md-THEME_NAME-theme .md-autocomplete-suggestion:hover,.md-autocomplete-suggestions-container.md-THEME_NAME-theme .md-autocomplete-suggestion.selected,.md-autocomplete-suggestions-container.md-THEME_NAME-theme .md-autocomplete-suggestion:hover{background:"{{background-500-0.18}}"}md-backdrop{background-color:"{{background-900-0.0}}"}md-backdrop.md-opaque.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-bottom-sheet.md-THEME_NAME-theme{background-color:"{{background-color}}";border-top-color:"{{background-hue-3}}"}md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item{color:"{{foreground-1}}"}md-bottom-sheet.md-THEME_NAME-theme .md-subheader{background-color:"{{background-color}}";color:"{{foreground-1}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme:not([disabled]):hover{background-color:"{{background-500-0.2}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover{background-color:transparent}.md-button.md-THEME_NAME-theme.md-fab md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab,.md-button.md-THEME_NAME-theme.md-primary.md-raised{color:"{{primary-contrast}}";background-color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon{color:"{{primary-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover{background-color:"{{primary-600}}"}.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-fab{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-raised{color:"{{background-900}}";background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) md-icon{color:"{{background-900}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover{background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused{background-color:"{{background-200}}"}.md-button.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab,.md-button.md-THEME_NAME-theme.md-warn.md-raised{color:"{{warn-contrast}}";background-color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon{color:"{{warn-contrast}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover{background-color:"{{warn-600}}"}.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab,.md-button.md-THEME_NAME-theme.md-accent.md-raised{color:"{{accent-contrast}}";background-color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent[disabled],.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled],.md-button.md-THEME_NAME-theme.md-warn[disabled],.md-button.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}";cursor:default}.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon,.md-button.md-THEME_NAME-theme[disabled] md-icon{color:"{{foreground-3}}"}.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled]{background-color:"{{foreground-4}}"}.md-button.md-THEME_NAME-theme[disabled]{background-color:transparent}._md a.md-THEME_NAME-theme:not(.md-button).md-primary{color:"{{primary-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-primary:hover{color:"{{primary-700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent{color:"{{accent-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent:hover{color:"{{accent-A700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn{color:"{{warn-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn:hover{color:"{{warn-700}}"}md-card.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-hue-1}}";border-radius:2px}md-card.md-THEME_NAME-theme .md-card-image{border-radius:2px 2px 0 0}md-card.md-THEME_NAME-theme md-card-header md-card-avatar md-icon{color:"{{background-color}}";background-color:"{{foreground-3}}"}md-card.md-THEME_NAME-theme md-card-header md-card-header-text .md-subhead,md-card.md-THEME_NAME-theme md-card-title md-card-title-text:not(:only-child) .md-subhead{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme .md-ripple{color:"{{accent-A700}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before{background-color:"{{accent-color-0.26}}"}md-checkbox.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon{background-color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after{border-color:"{{accent-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple{color:"{{primary-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon{background-color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after{border-color:"{{primary-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple{color:"{{warn-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon{background-color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before{background-color:"{{warn-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled]:not(.md-checked) .md-icon{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon{background-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-icon:after{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-label{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips{box-shadow:0 1px "{{foreground-4}}"}md-chips.md-THEME_NAME-theme .md-chips.md-focused{box-shadow:0 2px "{{primary-color}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input{color:"{{foreground-1}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-ms-input-placeholder,md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-ms-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-moz-placeholder,md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-moz-placeholder{color:"{{foreground-3}}";opacity:1}md-chips.md-THEME_NAME-theme md-chip{background:"{{background-300}}";color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip md-icon{color:"{{background-700}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused{background:"{{primary-color}}";color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused md-icon{color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip._md-chip-editing{background:transparent;color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path{fill:"{{background-500}}"}.md-contact-suggestion span.md-contact-email{color:"{{background-400}}"}md-content.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-default}}"}.md-THEME_NAME-theme .md-calendar{background:"{{background-hue-1}}";color:"{{foreground-1-0.87}}"}.md-THEME_NAME-theme .md-calendar tr:last-child td{border-bottom-color:"{{background-hue-2}}"}.md-THEME_NAME-theme .md-calendar-day-header{background:"{{background-500-0.32}}";color:"{{foreground-1-0.87}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today .md-calendar-date-selection-indicator{border:1px solid "{{primary-500}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today.md-calendar-date-disabled{color:"{{primary-500-0.6}}"}.md-calendar-date.md-focus .md-THEME_NAME-theme .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date-selection-indicator:hover{background:"{{background-500-0.32}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-selected-date .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date.md-focus.md-calendar-selected-date .md-calendar-date-selection-indicator{background:"{{primary-500}}";color:"{{primary-500-contrast}}";border-color:transparent}.md-THEME_NAME-theme .md-calendar-date-disabled,.md-THEME_NAME-theme .md-calendar-month-label-disabled{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-calendar-month-label md-icon,.md-THEME_NAME-theme .md-datepicker-input{color:"{{foreground-1}}"}.md-THEME_NAME-theme .md-datepicker-input::-webkit-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input:-ms-input-placeholder,.md-THEME_NAME-theme .md-datepicker-input::-ms-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input::placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input:-moz-placeholder,.md-THEME_NAME-theme .md-datepicker-input::-moz-placeholder{color:"{{foreground-3}}";opacity:1}.md-THEME_NAME-theme .md-datepicker-input-container{border-bottom-color:"{{foreground-4}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-invalid,.md-warn .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar-pane{border-color:"{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-triangle-button .md-datepicker-expand-triangle{border-top-color:"{{foreground-2}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon,.md-THEME_NAME-theme .md-datepicker-open.md-accent .md-datepicker-calendar-icon{color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-open.md-warn .md-datepicker-calendar-icon,.md-warn .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar{background:"{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-input-mask-opaque{box-shadow:0 0 0 9999px "{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-input-container{background:"{{background-hue-1}}"}md-dialog.md-THEME_NAME-theme{border-radius:4px;background-color:"{{background-hue-1}}";color:"{{foreground-1}}"}md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions,md-dialog.md-THEME_NAME-theme.md-content-overflow md-dialog-actions,md-divider.md-THEME_NAME-theme{border-top-color:"{{foreground-4}}"}.layout-gt-lg-row>md-divider.md-THEME_NAME-theme,.layout-gt-md-row>md-divider.md-THEME_NAME-theme,.layout-gt-sm-row>md-divider.md-THEME_NAME-theme,.layout-gt-xs-row>md-divider.md-THEME_NAME-theme,.layout-lg-row>md-divider.md-THEME_NAME-theme,.layout-md-row>md-divider.md-THEME_NAME-theme,.layout-row>md-divider.md-THEME_NAME-theme,.layout-sm-row>md-divider.md-THEME_NAME-theme,.layout-xl-row>md-divider.md-THEME_NAME-theme,.layout-xs-row>md-divider.md-THEME_NAME-theme{border-right-color:"{{foreground-4}}"}md-icon.md-THEME_NAME-theme{color:"{{foreground-2}}"}md-icon.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}md-icon.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}md-icon.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-input-container.md-THEME_NAME-theme .md-input{color:"{{foreground-1}}";border-color:"{{foreground-4}}"}md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder,md-input-container.md-THEME_NAME-theme .md-input::-ms-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme .md-input::placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder{color:"{{foreground-2}}";opacity:1}md-input-container.md-THEME_NAME-theme>md-icon{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme .md-placeholder,md-input-container.md-THEME_NAME-theme label{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme label.md-required:after{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-focused):not(.md-input-invalid) label.md-required:after{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation,md-input-container.md-THEME_NAME-theme .md-input-messages-animation{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation .md-char-counter,md-input-container.md-THEME_NAME-theme .md-input-messages-animation .md-char-counter{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-webkit-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-ms-input-placeholder,md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-ms-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-moz-placeholder{color:"{{foreground-2}}";opacity:1}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-resized .md-input{border-color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon{color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input{border-color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent md-icon{color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn md-icon{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter,md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input-message-animation,md-input-container.md-THEME_NAME-theme.md-input-invalid label{color:"{{warn-A700}}"}[disabled] md-input-container.md-THEME_NAME-theme .md-input,md-input-container.md-THEME_NAME-theme .md-input[disabled]{border-bottom-color:transparent;color:"{{foreground-3}}";background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4{color:"{{foreground-1}}"}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style{background-color:"{{background-100}}"}md-list.md-THEME_NAME-theme md-list-item .md-avatar-icon{background-color:"{{foreground-3}}";color:"{{background-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight{color:"{{primary-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight.md-accent{color:"{{accent-color}}"}md-menu-content.md-THEME_NAME-theme{background-color:"{{background-hue-1}}"}md-menu-content.md-THEME_NAME-theme md-menu-item{color:"{{foreground-1}}"}md-menu-content.md-THEME_NAME-theme md-menu-item md-icon{color:"{{foreground-2}}"}md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled],md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled] md-icon{color:"{{foreground-3}}"}md-menu-content.md-THEME_NAME-theme md-menu-divider{background-color:"{{foreground-4}}"}md-menu-bar.md-THEME_NAME-theme>button.md-button{color:"{{foreground-1}}";border-radius:2px}md-menu-bar.md-THEME_NAME-theme md-menu>button{color:"{{foreground-1}}"}md-menu-bar.md-THEME_NAME-theme md-menu.md-open>button,md-menu-bar.md-THEME_NAME-theme md-menu>button:focus{outline:none;background-color:"{{ background-500-0.18}}"}md-menu-bar.md-THEME_NAME-theme.md-open:not(.md-keyboard-mode) md-menu:hover>button{background-color:"{{ background-500-0.18}}"}md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:focus,md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:hover{background:transparent}md-menu-content.md-THEME_NAME-theme .md-menu>.md-button:after{color:"{{foreground-2}}"}md-menu-content.md-THEME_NAME-theme .md-menu.md-open>.md-button{background-color:"{{ background-500-0.18}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar{background-color:"{{background-hue-1}}";color:"{{foreground-1}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler{background-color:"{{primary-color}}";color:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler md-icon{color:"{{primary-contrast}}"}md-nav-bar.md-THEME_NAME-theme .md-nav-bar{background-color:transparent;border-color:"{{foreground-4}}"}md-nav-bar.md-THEME_NAME-theme .md-button._md-nav-button.md-unselected{color:"{{foreground-2}}"}md-nav-bar.md-THEME_NAME-theme .md-button._md-nav-button[disabled]{color:"{{foreground-3}}"}md-nav-bar.md-THEME_NAME-theme md-nav-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar{background-color:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar{background-color:"{{warn-color}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar{background-color:"{{primary-color}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{primary-color}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}._md-panel-backdrop.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-progress-circular.md-THEME_NAME-theme path{stroke:"{{primary-color}}"}md-progress-circular.md-THEME_NAME-theme.md-warn path{stroke:"{{warn-color}}"}md-progress-circular.md-THEME_NAME-theme.md-accent path{stroke:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme .md-container{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme .md-bar{background-color:"{{primary-color}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-container{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar{background-color:"{{warn-color}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-container{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar{background-color:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-primary .md-bar1{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-primary .md-dashed:before{background:radial-gradient("{{primary-100}}" 0,"{{primary-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before{background:radial-gradient("{{warn-100}}" 0,"{{warn-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before{background:radial-gradient("{{accent-100}}" 0,"{{accent-100}}" 16%,transparent 42%)}md-radio-button.md-THEME_NAME-theme .md-off{border-color:"{{foreground-2}}"}md-radio-button.md-THEME_NAME-theme .md-on{background-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-off{border-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme .md-container .md-ripple{color:"{{accent-A700}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on{background-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off{border-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple{color:"{{primary-600}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on{background-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off{border-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple{color:"{{warn-600}}"}md-radio-button.md-THEME_NAME-theme[disabled],md-radio-group.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}"}md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on{border-color:"{{foreground-3}}"}md-radio-group.md-THEME_NAME-theme .md-checked .md-ink-ripple{color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme .md-checked:not([disabled]).md-primary .md-ink-ripple,md-radio-group.md-THEME_NAME-theme.md-primary .md-checked:not([disabled]) .md-ink-ripple{color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused.ng-empty>md-radio-button:first-child .md-container:before{background-color:"{{foreground-3-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before{background-color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-primary .md-checked .md-container:before{background-color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-warn .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-warn .md-checked .md-container:before{background-color:"{{warn-color-0.26}}"}md-input-container md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-input-container:not(.md-input-focused):not(.md-input-invalid) md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{foreground-3}}"}md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value,md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{primary-color}}"}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-input-container:not(.md-input-invalid).md-input-focused.md-accent .md-select-value{border-color:"{{accent-color}}"}md-input-container:not(.md-input-invalid).md-input-focused.md-accent .md-select-value span{color:"{{accent-color}}"}md-input-container:not(.md-input-invalid).md-input-focused.md-warn .md-select-value{border-color:"{{warn-A700}}"}md-input-container:not(.md-input-invalid).md-input-focused.md-warn .md-select-value span{color:"{{warn-A700}}"}md-select.md-THEME_NAME-theme[disabled] .md-select-value{border-bottom-color:transparent;background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-select.md-THEME_NAME-theme .md-select-value{border-bottom-color:"{{foreground-4}}"}md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value{border-bottom-color:"{{primary-color}}";color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value.md-select-placeholder{color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-value{border-bottom-color:"{{accent-color}}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-value{border-bottom-color:"{{warn-color}}"}md-select.md-THEME_NAME-theme[disabled] .md-select-icon,md-select.md-THEME_NAME-theme[disabled] .md-select-value,md-select.md-THEME_NAME-theme[disabled] .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-icon{color:"{{foreground-2}}"}md-select-menu.md-THEME_NAME-theme md-content{background-color:"{{background-hue-1}}"}md-select-menu.md-THEME_NAME-theme md-content md-optgroup{color:"{{foreground-2}}"}md-select-menu.md-THEME_NAME-theme md-content md-option{color:"{{foreground-1}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[disabled] .md-text{color:"{{foreground-3}}"}md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):focus,md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):hover{background-color:"{{background-500-0.18}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]{color:"{{primary-500}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]:focus{color:"{{primary-600}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent{color:"{{accent-color}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent:focus{color:"{{accent-A700}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ripple{color:"{{primary-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ripple{color:"{{background-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ink-ripple{color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon{background-color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected].md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon:after{border-color:"{{primary-contrast-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}.md-checkbox-enabled.md-THEME_NAME-theme md-option .md-text{color:"{{foreground-1}}"}md-sidenav.md-THEME_NAME-theme,md-sidenav.md-THEME_NAME-theme md-content{background-color:"{{background-hue-1}}"}md-slider.md-THEME_NAME-theme .md-track{background-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme .md-track-ticks{color:"{{background-contrast}}"}md-slider.md-THEME_NAME-theme .md-focus-ring{background-color:"{{accent-A200-0.2}}"}md-slider.md-THEME_NAME-theme .md-disabled-thumb{border-color:"{{background-color}}";background-color:"{{background-color}}"}md-slider.md-THEME_NAME-theme.md-min .md-thumb:after{background-color:"{{background-color}}";border-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme.md-min .md-focus-ring{background-color:"{{foreground-3-0.38}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-thumb:after{background-color:"{{background-contrast}}";border-color:transparent}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme .md-track.md-track-fill{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb:after{border-color:"{{accent-color}}";background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign:after{border-top-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb-text{color:"{{accent-contrast}}"}md-slider.md-THEME_NAME-theme.md-warn .md-focus-ring{background-color:"{{warn-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after{border-color:"{{warn-color}}";background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign:after{border-top-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text{color:"{{warn-contrast}}"}md-slider.md-THEME_NAME-theme.md-primary .md-focus-ring{background-color:"{{primary-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after{border-color:"{{primary-color}}";background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign:after{border-top-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text{color:"{{primary-contrast}}"}md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after{border-color:transparent}md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after,md-slider.md-THEME_NAME-theme[disabled][md-discrete] .md-thumb:after{background-color:"{{foreground-3}}";border-color:transparent}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-disabled-thumb{border-color:transparent;background-color:transparent}md-slider-container[disabled]>:first-child:not(md-slider),md-slider-container[disabled]>:last-child:not(md-slider){color:"{{foreground-3}}"}.md-subheader.md-THEME_NAME-theme{color:"{{ foreground-2-0.23 }}";background-color:"{{background-default}}"}.md-subheader.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-subheader.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-subheader.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme .md-ink-ripple{color:"{{background-500}}"}md-switch.md-THEME_NAME-theme .md-thumb{background-color:"{{background-50}}"}md-switch.md-THEME_NAME-theme .md-bar{background-color:"{{background-500}}"}md-switch.md-THEME_NAME-theme.md-focused:not(.md-checked) .md-thumb:before,md-switch.md-THEME_NAME-theme.md-focused[disabled] .md-thumb:before{background-color:"{{foreground-4}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]) .md-ink-ripple{color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]) .md-thumb{background-color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]) .md-bar{background-color:"{{accent-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-focused .md-thumb:before{background-color:"{{accent-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-primary .md-ink-ripple{color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-primary .md-thumb{background-color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-primary .md-bar{background-color:"{{primary-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-primary.md-focused .md-thumb:before{background-color:"{{primary-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-warn .md-ink-ripple{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-warn .md-thumb{background-color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-warn .md-bar{background-color:"{{warn-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-warn.md-focused .md-thumb:before{background-color:"{{warn-color-0.26}}"}md-switch.md-THEME_NAME-theme[disabled] .md-thumb{background-color:"{{background-400}}"}md-switch.md-THEME_NAME-theme[disabled] .md-bar{background-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme md-tabs-wrapper{background-color:transparent;border-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme .md-paginator md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme md-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme .md-tab{color:"{{foreground-2}}"}md-tabs.md-THEME_NAME-theme .md-tab[disabled],md-tabs.md-THEME_NAME-theme .md-tab[disabled] md-icon{color:"{{foreground-3}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-active,md-tabs.md-THEME_NAME-theme .md-tab.md-active md-icon,md-tabs.md-THEME_NAME-theme .md-tab.md-focused,md-tabs.md-THEME_NAME-theme .md-tab.md-focused md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-focused{background:"{{primary-color-0.1}}"}md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper{background-color:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper{background-color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper{background-color:"{{warn-color}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{primary-color}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toast.md-THEME_NAME-theme .md-toast-content{background-color:#323232;color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button{color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight{color:"{{accent-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-primary{color:"{{primary-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-warn{color:"{{warn-color}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar){background-color:"{{primary-color}}";color:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) md-icon{color:"{{primary-contrast}}";fill:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) .md-button[disabled] md-icon{color:"{{primary-contrast-0.26}}";fill:"{{primary-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-ink-ripple{color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent md-icon{color:"{{accent-contrast}}";fill:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-button[disabled] md-icon{color:"{{accent-contrast-0.26}}";fill:"{{accent-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-warn{background-color:"{{warn-color}}";color:"{{warn-contrast}}"}.md-panel.md-tooltip.md-THEME_NAME-theme{color:"{{background-700-contrast}}";background-color:"{{background-700}}"}body.md-THEME_NAME-theme,html.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-color}}"}');
ngmaterial.core=angular.module("material.core");ngmaterial.components={};angular.module("material.components.icon",["material.core"]);angular.module("material.components.icon").directive("mdIcon",["$mdIcon","$mdTheming","$mdAria","$sce",mdIconDirective]);
function mdIconDirective(a,b,d){function c(e,f,g){function h(){if(!g.mdSvgIcon&&!g.mdSvgSrc){g.mdFontIcon&&(f.removeClass(l),f.addClass(g.mdFontIcon),l=g.mdFontIcon);var n=a.fontSet(g.mdFontSet);m!==n&&(f.removeClass(m),f.addClass(n),m=n)}}b(f);var l=g.mdFontIcon,m=a.fontSet(g.mdFontSet);g.mdSvgIcon||g.mdSvgSrc||(g.mdFontIcon&&f.addClass("md-font "+g.mdFontIcon),f.addClass(m));g.$observe("mdFontIcon",h);g.$observe("mdFontSet",h);f[0].getAttribute(g.$attr.mdSvgSrc);e=g.$normalize(g.$attr.mdSvgIcon||
g.$attr.mdSvgSrc||"");g.role||(d.expect(f,"role","img"),g.role="img");if(g.role==="img"&&!g.ariaHidden&&!d.hasAriaLabel(f)){var v;g.alt?d.expect(f,"aria-label",g.alt):d.parentHasAriaLabel(f,2)?d.expect(f,"aria-hidden","true"):(v=g.mdFontIcon||g.mdSvgIcon||f.text())?d.expect(f,"aria-label",v):d.expect(f,"aria-hidden","true")}e&&g.$observe(e,function(n){f.empty();n&&a(n).then(function(q){f.empty();f.append(q)})})}return{restrict:"E",link:c}}MdIconService.$inject="config $templateRequest $q $log $mdUtil $sce".split(" ");
angular.module("material.components.icon").constant("$$mdSvgRegistry",{mdTabsArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwb2x5Z29uIHBvaW50cz0iMTUuNCw3LjQgMTQsNiA4LDEyIDE0LDE4IDE1LjQsMTYuNiAxMC44LDEyICIvPjwvZz48L3N2Zz4=",mdClose:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xOSA2LjQxbC0xLjQxLTEuNDEtNS41OSA1LjU5LTUuNTktNS41OS0xLjQxIDEuNDEgNS41OSA1LjU5LTUuNTkgNS41OSAxLjQxIDEuNDEgNS41OS01LjU5IDUuNTkgNS41OSAxLjQxLTEuNDEtNS41OS01LjU5eiIvPjwvZz48L3N2Zz4=",
mdCancel:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xMiAyYy01LjUzIDAtMTAgNC40Ny0xMCAxMHM0LjQ3IDEwIDEwIDEwIDEwLTQuNDcgMTAtMTAtNC40Ny0xMC0xMC0xMHptNSAxMy41OWwtMS40MSAxLjQxLTMuNTktMy41OS0zLjU5IDMuNTktMS40MS0xLjQxIDMuNTktMy41OS0zLjU5LTMuNTkgMS40MS0xLjQxIDMuNTkgMy41OSAzLjU5LTMuNTkgMS40MSAxLjQxLTMuNTkgMy41OSAzLjU5IDMuNTl6Ii8+PC9nPjwvc3ZnPg==",mdMenu:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0zLDZIMjFWOEgzVjZNMywxMUgyMVYxM0gzVjExTTMsMTZIMjFWMThIM1YxNloiIC8+PC9zdmc+",
mdToggleArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiPjxwYXRoIGQ9Ik0yNCAxNmwtMTIgMTIgMi44MyAyLjgzIDkuMTctOS4xNyA5LjE3IDkuMTcgMi44My0yLjgzeiIvPjxwYXRoIGQ9Ik0wIDBoNDh2NDhoLTQ4eiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==",mdCalendar:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkgM2gtMVYxaC0ydjJIOFYxSDZ2Mkg1Yy0xLjExIDAtMS45OS45LTEuOTkgMkwzIDE5YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY4aDE0djExek03IDEwaDV2NUg3eiIvPjwvc3ZnPg==",
mdChecked:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiLz48L2c+PC9zdmc+"}).provider("$mdIcon",MdIconProvider);var config={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};function MdIconProvider(){}
MdIconProvider.prototype={icon:function(a,b,d){a.indexOf(":")==-1&&(a="$default:"+a);config[a]=new ConfigurationItem(b,d);return this},iconSet:function(a,b,d){config[a]=new ConfigurationItem(b,d);return this},defaultIconSet:function(a,b){config.$default||(config.$default=new ConfigurationItem(a,b));config.$default.viewBoxSize=b||config.defaultViewBoxSize;return this},defaultViewBoxSize:function(a){config.defaultViewBoxSize=a;return this},fontSet:function(a,b){config.fontSets.push({alias:a,fontSet:b||
a});return this},defaultFontSet:function(a){config.defaultFontSet=a?a:"";return this},defaultIconSize:function(a){config.defaultIconSize=a;return this},$get:["$templateRequest","$q","$log","$mdUtil","$sce",function(a,b,d,c,e){return MdIconService(config,a,b,d,c,e)}]};function ConfigurationItem(a,b){this.url=a;this.viewBoxSize=b||config.defaultViewBoxSize}
function MdIconService(a,b,d,c,e,f){function g(w){w=w||"";angular.isString(w)||(w=f.getTrustedUrl(w));if(p[w])return d.when(l(p[w]));if(H.test(w)||A.test(w))return r(w).then(v(w));w.indexOf(":")===-1&&(w="$default:"+w);var B=a[w]?n:q;return B(w).then(v(w))}function h(w){var B=angular.isUndefined(w)||!(w&&w.length);if(B)return a.defaultFontSet;var u=w;angular.forEach(a.fontSets,function(z){z.alias===w&&(u=z.fontSet||u)});return u}function l(w){var B=w.clone(),u=e.nextUid(),z,D,G,N="clip-path color-profile cursor fill filter href marker-start marker-mid marker-end mask stroke style vector-effect".split(" "),
C=B.innerHTML===void 0;if(!isFinite(Number(u)))throw Error("Unsafe and unexpected non-number result from $mdUtil.nextUid().");var F="_cache"+u;B.id&&(B.id+=F);angular.forEach(B.querySelectorAll("[id]"),function(O){z="";for(D=0;D<N.length;D++)z+="["+N[D]+'="url(#'+O.id+')"]',D+1<N.length&&(z+=", ");angular.forEach(B.querySelectorAll(z),function(S){m(O,S,C,u)});angular.forEach(B.querySelectorAll("style"),function(S){m(O,S,C,u)});angular.forEach(B.querySelectorAll("[*|href]:not([href])"),function(S){if(G=
S.getAttribute("xlink:href"))G=G.replace("#"+O.id,"#"+O.id+F),S.setAttribute("xlink:href",G)});O.id+=F});return B}function m(w,B,u,z){if(!isFinite(Number(z)))throw Error("Unsafe and unexpected non-number result for newUid.");z="_cache"+z;u?(u=e.getOuterHTML(B),u=u.replace("url(#"+w.id+")","url(#"+w.id+z+")"),B.textContent=angular.element(u)[0].innerHTML):B.outerHTML=B.outerHTML.replace("url(#"+w.id+")","url(#"+w.id+z+")")}function v(w){return function(B){var u=B;u=angular.isDefined(u.element)&&angular.isDefined(u.config);
p[w]=u?B:new x(B,a[w]);return l(p[w])}}function n(w){var B=a[w];return r(B.url).then(function(u){return new x(u,B)})}function q(w){function B(G){var N=w.slice(w.lastIndexOf(":")+1);return(G=G.querySelector("#"+N))?new x(G,D):u(w)}function u(G){var N="icon "+G+" not found";c.warn(N);return d.reject(N||G)}var z=w.substring(0,w.lastIndexOf(":"))||"$default",D=a[z];return D?r(D.url).then(B):u(w)}function r(w){function B(z){var D=A.exec(z);D=(z=/base64/i.test(z))?window.atob(D[2]):D[2];return d.when(angular.element(D)[0])}
function u(z){return d(function(D,G){var N=function(F){var O=angular.isString(F)?F:F.message||F.data||F.statusText;c.warn(O);G(F)},C=function(F){t[z]||(t[z]=angular.element("<div>").append(F)[0].querySelector("svg"));D(t[z])};b(z,!0).then(C,N)})}return A.test(w)?B(w):u(w)}function x(w,B){if(w&&w.tagName.toLowerCase()==="symbol"){var u=w.getAttribute("viewBox");w=w.innerHTML?angular.element('<svg xmlns="http://www.w3.org/2000/svg">').html(w.innerHTML)[0]:angular.element('<svg xmlns="http://www.w3.org/2000/svg">').append(e.getInnerHTML(w))[0];
u&&w.setAttribute("viewBox",u)}w&&w.tagName.toLowerCase()!=="svg"&&(w=angular.element('<svg xmlns="http://www.w3.org/2000/svg">').append(w.cloneNode(!0))[0]);w.getAttribute("xmlns")||w.setAttribute("xmlns","http://www.w3.org/2000/svg");this.element=w;this.config=B;this.prepare()}function y(){var w=this.config?this.config.viewBoxSize:a.defaultViewBoxSize;angular.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+w+" "+
w,focusable:!1},function(B,u){this.element.setAttribute(u,B)},this)}function k(){return this.element.cloneNode(!0)}var p={},t={},H=/[-\w@:%+.~#?&//=]{2,}\.[a-z]{2,4}\b(\/[-\w@:%+.~#?&//=]*)?/i,A=/^data:image\/svg\+xml[\s*;\w\-=]*?(base64)?,(.*)$/i;x.prototype={clone:k,prepare:y};g.fontSet=h;return g}ngmaterial.components.icon=angular.module("material.components.icon");angular.module("material.components.showHide",["material.core"]).directive("ngShow",createDirective("ngShow",!0)).directive("ngHide",createDirective("ngHide",!1));
function createDirective(a,b){return["$mdUtil","$window",function(d,c){return{restrict:"A",multiElement:!0,link:function(e,f,g){var h=e.$on("$md-resize-enable",function(){h();var l=f[0],m=l.nodeType===c.Node.ELEMENT_NODE?c.getComputedStyle(l):{};e.$watch(g[a],function(v){!!v===b&&(d.nextTick(function(){e.$broadcast("$md-resize")}),v={cachedTransitionStyles:m},d.dom.animator.waitTransitionEnd(f,v).then(function(){e.$broadcast("$md-resize")}))})})}}}]}ngmaterial.components.showHide=angular.module("material.components.showHide");VirtualRepeatContainerController.$inject="$$rAF $mdUtil $mdConstant $parse $rootScope $window $scope $element $attrs".split(" ");VirtualRepeatController.$inject="$scope $element $attrs $browser $document $rootScope $$rAF $mdUtil".split(" ");VirtualRepeatDirective.$inject=["$parse"];
angular.module("material.components.virtualRepeat",["material.core","material.components.showHide"]).directive("mdVirtualRepeatContainer",VirtualRepeatContainerDirective).directive("mdVirtualRepeat",VirtualRepeatDirective).directive("mdForceHeight",ForceHeightDirective);
function VirtualRepeatContainerDirective(){return{controller:VirtualRepeatContainerController,template:virtualRepeatContainerTemplate,compile:function(a,b){a.addClass("md-virtual-repeat-container").addClass(b.hasOwnProperty("mdOrientHorizontal")?"md-orient-horizontal":"md-orient-vertical")}}}
function virtualRepeatContainerTemplate(a){return'<div class="md-virtual-repeat-scroller" role="presentation"><div class="md-virtual-repeat-sizer" role="presentation"></div><div class="md-virtual-repeat-offsetter" role="presentation">'+a[0].innerHTML+"</div></div>"}
function VirtualRepeatContainerController(a,b,d,c,e,f,g,h,l){this.$rootScope=e;this.$scope=g;this.$element=h;this.$attrs=l;this.scrollOffset=this.scrollSize=this.size=0;this.horizontal=this.$attrs.hasOwnProperty("mdOrientHorizontal");this.repeater=null;this.autoShrink=this.$attrs.hasOwnProperty("mdAutoShrink");this.autoShrinkMin=parseInt(this.$attrs.mdAutoShrinkMin,10)||0;this.originalSize=null;this.offsetSize=parseInt(this.$attrs.mdOffsetSize,10)||0;this.oldElementSize=null;this.maxElementPixels=
d.ELEMENT_MAX_PIXELS;this.ltr=!b.isRtl(this.$attrs);this.$attrs.mdTopIndex?(this.bindTopIndex=c(this.$attrs.mdTopIndex),this.topIndex=this.bindTopIndex(this.$scope),angular.isDefined(this.topIndex)||(this.topIndex=0,this.bindTopIndex.assign(this.$scope,0)),this.$scope.$watch(this.bindTopIndex,angular.bind(this,function(v){v!==this.topIndex&&this.scrollToIndex(v)}))):this.topIndex=0;this.scroller=h[0].querySelector(".md-virtual-repeat-scroller");this.sizer=this.scroller.querySelector(".md-virtual-repeat-sizer");
this.offsetter=this.scroller.querySelector(".md-virtual-repeat-offsetter");var m=angular.bind(this,this.updateSize);a(angular.bind(this,function(){m();var v=b.debounce(m,10,null,!1),n=angular.element(f);this.size||v();n.on("resize",v);g.$on("$destroy",function(){n.off("resize",v)});g.$emit("$md-resize-enable");g.$on("$md-resize",m)}))}
VirtualRepeatContainerController.prototype.register=function(a){this.repeater=a;angular.element(this.scroller).on("scroll wheel touchmove touchend",angular.bind(this,this.handleScroll_))};VirtualRepeatContainerController.prototype.isHorizontal=function(){return this.horizontal};VirtualRepeatContainerController.prototype.getSize=function(){return this.size};VirtualRepeatContainerController.prototype.setSize_=function(a){var b=this.getDimensionName_();this.size=a;this.$element[0].style[b]=a+"px"};
VirtualRepeatContainerController.prototype.unsetSize_=function(){this.$element[0].style[this.getDimensionName_()]=this.oldElementSize;this.oldElementSize=null};VirtualRepeatContainerController.prototype.updateSize=function(){if(!this.originalSize){var a=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight;a&&(this.size=a);this.handleScroll_();this.repeater&&this.repeater.containerUpdated()}};VirtualRepeatContainerController.prototype.getScrollSize=function(){return this.scrollSize};
VirtualRepeatContainerController.prototype.getDimensionName_=function(){return this.isHorizontal()?"width":"height"};
VirtualRepeatContainerController.prototype.sizeScroller_=function(a){var b=this.getDimensionName_(),d=this.isHorizontal()?"height":"width";this.sizer.innerHTML="";if(a<this.maxElementPixels)this.sizer.style[b]=a+"px";else{this.sizer.style[b]="auto";this.sizer.style[d]="auto";var c=Math.floor(a/this.maxElementPixels),e=document.createElement("div");e.style[b]=this.maxElementPixels+"px";e.style[d]="1px";for(d=0;d<c;d++)this.sizer.appendChild(e.cloneNode(!1));e.style[b]=a-c*this.maxElementPixels+"px";
this.sizer.appendChild(e)}};
VirtualRepeatContainerController.prototype.autoShrink_=function(a){a=Math.max(a,this.autoShrinkMin*this.repeater.getItemSize());if(this.autoShrink&&a!==this.size){this.oldElementSize===null&&(this.oldElementSize=this.$element[0].style[this.getDimensionName_()]);var b=this.originalSize||this.size;if(!b||a<b)this.originalSize||(this.originalSize=this.size),this.setSize_(a);else if(this.originalSize!==null){this.unsetSize_();var d=this.originalSize;this.originalSize=null;d||this.updateSize();this.setSize_(d||
this.size)}this.repeater.containerUpdated()}};VirtualRepeatContainerController.prototype.setScrollSize=function(a){a+=this.offsetSize;this.scrollSize!==a&&(this.sizeScroller_(a),this.autoShrink_(a),this.scrollSize=a)};VirtualRepeatContainerController.prototype.getScrollOffset=function(){return this.scrollOffset};VirtualRepeatContainerController.prototype.scrollTo=function(a){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=a;this.handleScroll_()};
VirtualRepeatContainerController.prototype.scrollToIndex=function(a){var b=this.repeater.getItemSize(),d=this.repeater.itemsLength;a>d&&(a=d-1);this.scrollTo(b*a)};VirtualRepeatContainerController.prototype.resetScroll=function(){this.scrollTo(0)};
VirtualRepeatContainerController.prototype.handleScroll_=function(){this.ltr||this.maxSize||(this.scroller.scrollLeft=this.scrollSize,this.maxSize=this.scroller.scrollLeft);var a=this.isHorizontal()?this.ltr?this.scroller.scrollLeft:this.maxSize-this.scroller.scrollLeft:this.scroller.scrollTop;if(!(this.scrollSize<this.size)&&(a>this.scrollSize-this.size&&(a=this.scrollSize-this.size),a!==this.scrollOffset)){var b=this.repeater.getItemSize();if(b){var d=Math.max(0,Math.floor(a/b)-3);d=(this.isHorizontal()?
"translateX(":"translateY(")+(!this.isHorizontal()||this.ltr?d*b:-(d*b))+"px)";this.scrollOffset=a;this.offsetter.style.webkitTransform=d;this.offsetter.style.transform=d;this.bindTopIndex&&(a=Math.floor(a/b),a!==this.topIndex&&a<this.repeater.getItemCount()&&(this.topIndex=a,this.bindTopIndex.assign(this.$scope,a),this.$rootScope.$$phase||this.$scope.$digest()));this.repeater.containerUpdated()}}};
function VirtualRepeatDirective(a){return{controller:VirtualRepeatController,priority:1E3,require:["mdVirtualRepeat","^^mdVirtualRepeatContainer"],restrict:"A",terminal:!0,transclude:"element",compile:function(b,d){b=d.mdVirtualRepeat;b=b.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/);var c=b[1],e=a(b[2]),f=d.mdExtraName&&a(d.mdExtraName);return function(g,h,l,m,v){m[0].link_(m[1],v,c,e,f)}}}}
function VirtualRepeatController(a,b,d,c,e,f,g,h){this.$scope=a;this.$element=b;this.$attrs=d;this.$browser=c;this.$document=e;this.$mdUtil=h;this.$rootScope=f;this.$$rAF=g;this.onDemand=h.parseAttributeBoolean(d.mdOnDemand);this.browserCheckUrlChange=c.$$checkUrlChange;this.endIndex=this.startIndex=this.newVisibleEnd=this.newEndIndex=this.newStartIndex=0;this.itemSize=a.$eval(d.mdItemSize)||null;this.isFirstRender=!0;this.isVirtualRepeatUpdating_=!1;this.itemsLength=0;this.unwatchItemSize_=angular.noop;
this.blocks={};this.pooledBlocks=[];a.$on("$destroy",angular.bind(this,this.cleanupBlocks_))}VirtualRepeatController.prototype.link_=function(a,b,d,c,e){this.container=a;this.transclude=b;this.repeatName=d;this.rawRepeatListExpression=c;this.extraName=e;this.sized=!1;this.repeatListExpression=angular.bind(this,this.repeatListExpression_);this.container.register(this)};VirtualRepeatController.prototype.cleanupBlocks_=function(){angular.forEach(this.pooledBlocks,function(a){a.element.remove()})};
VirtualRepeatController.prototype.readItemSize_=function(){if(!this.itemSize){this.items=this.repeatListExpression(this.$scope);this.parentNode=this.$element[0].parentNode;var a=this.getBlock_(0);a.element[0].parentNode||this.parentNode.appendChild(a.element[0]);this.itemSize=a.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null;this.blocks[0]=a;this.poolBlock_(0);this.itemSize&&this.containerUpdated()}};
VirtualRepeatController.prototype.repeatListExpression_=function(a){a=this.rawRepeatListExpression(a);return this.onDemand&&a?(a=new VirtualRepeatModelArrayLike(a),a.$$includeIndexes(this.newStartIndex,this.newVisibleEnd),a):a};
VirtualRepeatController.prototype.containerUpdated=function(){if(this.itemSize){if(this.sized||(this.items=this.repeatListExpression(this.$scope)),this.sized||(this.unwatchItemSize_(),this.sized=!0,this.$scope.$watchCollection(this.repeatListExpression,angular.bind(this,function(a,b){this.isVirtualRepeatUpdating_||this.virtualRepeatUpdate_(a,b)}))),this.updateIndexes_(),this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize())this.items instanceof
VirtualRepeatModelArrayLike&&this.items.$$includeIndexes(this.newStartIndex,this.newEndIndex),this.virtualRepeatUpdate_(this.items,this.items)}else this.unwatchItemSize_&&this.unwatchItemSize_!==angular.noop&&this.unwatchItemSize_(),this.unwatchItemSize_=this.$scope.$watchCollection(this.repeatListExpression,angular.bind(this,function(a){a&&a.length&&this.readItemSize_()})),this.$rootScope.$$phase||this.$scope.$digest()};VirtualRepeatController.prototype.getItemSize=function(){return this.itemSize};
VirtualRepeatController.prototype.getItemCount=function(){return this.itemsLength};
VirtualRepeatController.prototype.virtualRepeatUpdate_=function(a,b){this.isVirtualRepeatUpdating_=!0;var d=a&&a.length||0,c=!1;if(this.items&&d<this.items.length&&this.container.getScrollOffset()!==0){this.items=a;var e=this.container.getScrollOffset();this.container.resetScroll();this.container.scrollTo(e)}d!==this.itemsLength&&(c=!0,this.itemsLength=d);this.items=a;(a!==b||c)&&this.updateIndexes_();this.parentNode=this.$element[0].parentNode;c&&this.container.setScrollSize(d*this.itemSize);Object.keys(this.blocks).forEach(function(g){g=
parseInt(g,10);(g<this.newStartIndex||g>=this.newEndIndex)&&this.poolBlock_(g)},this);this.$browser.$$checkUrlChange=angular.noop;d=[];c=[];for(a=this.newStartIndex;a<this.newEndIndex&&this.blocks[a]==null;a++)b=this.getBlock_(a),this.updateBlock_(b,a),d.push(b);for(;this.blocks[a]!=null;a++)this.updateBlock_(this.blocks[a],a);for(e=a-1;a<this.newEndIndex;a++)b=this.getBlock_(a),this.updateBlock_(b,a),c.push(b);d.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(d),this.$element[0].nextSibling);
c.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(c),this.blocks[e]&&this.blocks[e].element[0].nextSibling);this.$browser.$$checkUrlChange=this.browserCheckUrlChange;this.startIndex=this.newStartIndex;this.endIndex=this.newEndIndex;if(this.isFirstRender){this.isFirstRender=!1;var f=this.$attrs.mdStartIndex?this.$scope.$eval(this.$attrs.mdStartIndex):this.container.topIndex;this.$mdUtil.nextTick(function(){this.container.scrollToIndex(f)}.bind(this))}this.isVirtualRepeatUpdating_=
!1};VirtualRepeatController.prototype.getBlock_=function(a){if(this.pooledBlocks.length)return this.pooledBlocks.pop();var b;this.transclude(angular.bind(this,function(d,c){b={element:d,new:!0,scope:c};this.updateScope_(c,a);this.parentNode.appendChild(d[0])}));return b};VirtualRepeatController.prototype.updateBlock_=function(a,b){this.blocks[b]=a;if(a.new||a.scope.$index!==b||a.scope[this.repeatName]!==this.items[b])a.new=!1,this.updateScope_(a.scope,b),this.$rootScope.$$phase||a.scope.$digest()};
VirtualRepeatController.prototype.updateScope_=function(a,b){a.$index=b;a[this.repeatName]=this.items&&this.items[b];this.extraName&&(a[this.extraName(this.$scope)]=this.items[b])};VirtualRepeatController.prototype.poolBlock_=function(a){this.pooledBlocks.push(this.blocks[a]);this.parentNode.removeChild(this.blocks[a].element[0]);delete this.blocks[a]};
VirtualRepeatController.prototype.domFragmentFromBlocks_=function(a){var b=this.$document[0].createDocumentFragment();a.forEach(function(d){b.appendChild(d.element[0])});return b};
VirtualRepeatController.prototype.updateIndexes_=function(){var a=this.items?this.items.length:0,b=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(a-b,Math.floor(this.container.getScrollOffset()/this.itemSize)));this.newVisibleEnd=this.newStartIndex+b+3;this.newEndIndex=Math.min(a,this.newVisibleEnd);this.newStartIndex=Math.max(0,this.newStartIndex-3)};
function VirtualRepeatModelArrayLike(a){if(!angular.isFunction(a.getItemAtIndex)||!angular.isFunction(a.getLength))throw Error("When md-on-demand is enabled, the Object passed to md-virtual-repeat must implement functions getItemAtIndex() and getLength().");this.model=a}VirtualRepeatModelArrayLike.prototype.$$includeIndexes=function(a,b){for(;a<b;a++)this.hasOwnProperty(a)||(this[a]=this.model.getItemAtIndex(a));this.length=this.model.getLength()};
function ForceHeightDirective(){return{restrict:"A",link:function(a,b,d){(a=a.$eval(d.mdForceHeight)||null)&&b&&(b[0].style.height=a)}}}ForceHeightDirective.$inject=["$mdUtil"];ngmaterial.components.virtualRepeat=angular.module("material.components.virtualRepeat");angular.module("material.components.autocomplete",["material.core","material.components.icon","material.components.virtualRepeat"]);MdAutocompleteCtrl.$inject="$scope $element $mdUtil $mdConstant $mdTheming $window $animate $rootElement $attrs $q $log $mdLiveAnnouncer".split(" ");angular.module("material.components.autocomplete").controller("MdAutocompleteCtrl",MdAutocompleteCtrl);
function MdAutocompleteCtrl(a,b,d,c,e,f,g,h,l,m,v,n){function q(){d.initOptionalProperties(a,l,{searchText:"",selectedItem:null,clearButton:!1,disableVirtualRepeat:!1});e(b);p();d.nextTick(function(){var V;for(V=b;V.length;V=V.parent()){var ba=V.attr("md-autocomplete-snap");if(angular.isDefined(ba))break}V.length?V={snap:V[0],wrap:ba.toLowerCase()==="width"?V[0]:b.find("md-autocomplete-wrap")[0]}:(V=b.find("md-autocomplete-wrap")[0],V={snap:V,wrap:V});L={main:b[0],scrollContainer:b[0].querySelector(".md-virtual-repeat-container, .md-standard-list-container"),
scroller:b[0].querySelector(".md-virtual-repeat-scroller, .md-standard-list-scroller"),ul:b.find("ul")[0],input:b.find("input")[0],wrap:V.wrap,snap:V.snap,root:document.body};L.li=L.ul.getElementsByTagName("li");V=L;ba=L;var ia={};for(ka in ba)ba.hasOwnProperty(ka)&&(ia[ka]=angular.element(ba[ka]));var ka=ia;V.$=ka;na=L.scrollContainer.classList.contains("md-standard-list-container")?"standard":"virtual";Z=L.$.input.controller("ngModel");L.$.root.length&&(e(L.$.scrollContainer),L.$.scrollContainer.detach(),
L.$.root.append(L.$.scrollContainer),g.pin&&g.pin(L.$.scrollContainer,h));b.on("touchstart",y);if(a.autofocus)b.on("focus",y);a.inputAriaDescribedBy&&L.input.setAttribute("aria-describedby",a.inputAriaDescribedBy);a.floatingLabel||(a.inputAriaLabel?L.input.setAttribute("aria-label",a.inputAriaLabel):a.inputAriaLabelledBy?L.input.setAttribute("aria-labelledby",a.inputAriaLabelledBy):a.placeholder&&L.input.setAttribute("aria-label",a.placeholder))})}function r(){a.requireMatch&&Z&&Z.$setValidity("md-require-match",
!!a.selectedItem||!a.searchText)}function x(){function V(){var Ha=0,Ja=b.find("md-input-container");if(Ja.length){var Na=Ja.find("input");Ha=Ja.prop("offsetHeight");Ha-=Na.prop("offsetTop");Ha-=Na.prop("offsetHeight");Ha+=Ja.prop("offsetTop")}return Ha}function ba(){var Ha=L.scrollContainer.getBoundingClientRect(),Ja={};Ha.right>Ca.right&&(Ja.left=ka.right-Ha.width+"px");L.$.scrollContainer.css(Ja)}if(!L)return d.nextTick(x,!1,a);var ia=(a.dropdownItems||5)*48,ka=L.wrap.getBoundingClientRect(),ra=
L.snap.getBoundingClientRect(),Ca=L.root.getBoundingClientRect(),Ma=ra.bottom-Ca.top,Ea=Ca.bottom-ra.top,Da=ka.left-Ca.left,Oa=ka.width,Pa=V(),Ka=a.dropdownPosition,La=Ca.bottom-ra.bottom-8+d.getViewportTop();ra=ra.top-8;if(!Ka){var Qa=ra>ia;Ka=(Ka=La>ia)?"bottom":Qa?"top":ra>La?"top":"bottom"}l.mdFloatingLabel&&(Da+=2,Oa-=4);Da={left:Da+"px",minWidth:Oa+"px",maxWidth:Math.max(ka.right-Ca.left,Ca.right-ka.left)-8+"px"};Ka==="top"?(Da.top="auto",Da.bottom=Ea+"px",Da.maxHeight=Math.min(ia,ra)+"px"):
(La=Ca.bottom-ka.bottom-8+d.getViewportTop(),Da.top=Ma-Pa+"px",Da.bottom="auto",Da.maxHeight=Math.min(ia,La)+"px");L.$.scrollContainer.css(Da);d.nextTick(ba,!1,a)}function y(){L.input.focus()}function k(){var V=L.scroller.querySelector(".selected");W.activeOption=V?V.id:null}function p(){var V=parseInt(a.delay,10)||0;l.$observe("disabled",function(ba){W.isDisabled=d.parseAttributeBoolean(ba,!1)});l.$observe("required",function(ba){W.isRequired=d.parseAttributeBoolean(ba,!1)});l.$observe("readonly",
function(ba){W.isReadonly=d.parseAttributeBoolean(ba,!1)});a.$watch("searchText",V?d.debounce(S,V):S);a.$watch("selectedItem",N);angular.element(f).on("resize",ja);a.$on("$destroy",t)}function t(){W.hidden||d.enableScrolling();angular.element(f).off("resize",ja);if(L){var V=["ul","scroller","scrollContainer","input"];angular.forEach(V,function(ba){L.$[ba].remove()})}}function H(){W.hidden||x()}function A(V){V.preventDefault()}function w(V){V.stopPropagation()}function B(V,ba){var ia;L&&(ia=angular.element(L.scrollContainer));
if(!V&&ba){if(x(),wa(!0,Ba.Count|Ba.Selected),L){d.disableScrollAround(L.scrollContainer);P=z(L.wrap);if(d.isIos&&(W.documentElement.on("touchend",u),ia))ia.on("touchstart touchmove touchend",w);d.nextTick(k)}}else V&&!ba&&(d.isIos&&(W.documentElement.off("touchend",u),ia&&ia.off("touchstart touchmove touchend",w)),d.enableScrolling(),P&&(P(),P=null))}function u(){W.hidden=!0;sa=qa=!1;L.input.blur()}function z(V){var ba=angular.element(V);ba.on("wheel touchmove",A);return function(){ba.off("wheel touchmove",
A)}}function D(){qa=!0}function G(){sa||W.hidden||L.input.focus();qa=!1;W.hidden=!U()}function N(V,ba){r();V?J(V).then(function(ia){a.searchText=ia;C(V,ba)}):ba&&a.searchText&&J(ba).then(function(ia){angular.isString(a.searchText)&&ia.toString().toLowerCase()===a.searchText.toLowerCase()&&(a.searchText="")});V!==ba&&angular.isFunction(a.itemChange)&&a.itemChange(Q(a.selectedItem))}function C(V,ba){ta.forEach(function(ia){ia(V,ba)})}function F(V){ta.indexOf(V)===-1&&ta.push(V)}function O(V){V=ta.indexOf(V);
V!==-1&&ta.splice(V,1)}function S(V,ba){W.index=a.autoselect?0:-1;V!==ba&&(r(),J(a.selectedItem).then(function(ia){V!==ia&&(a.selectedItem=null,V!==ba&&angular.isFunction(a.textChange)&&a.textChange(),fa()?Ia():(W.matches=[],T(!1),wa(!0,Ba.Count)))}))}function K(V){sa=!1;if(!qa){W.hidden=!U();var ba="ngBlur";V={$event:V};l[ba]&&a.$parent.$eval(l[ba],V||{})}}function M(V){sa=!0;Y()&&fa()&&Ia();W.hidden=!U();var ba="ngFocus";V={$event:V};l[ba]&&a.$parent.$eval(l[ba],V||{})}function I(V){switch(V.keyCode){case c.KEY_CODE.DOWN_ARROW:if(W.loading||
X())break;V.stopPropagation();V.preventDefault();W.index=Math.min(W.index+1,W.matches.length-1);d.nextTick(k);ma();break;case c.KEY_CODE.UP_ARROW:if(W.loading||X())break;V.stopPropagation();V.preventDefault();W.index=W.index<0?W.matches.length-1:Math.max(0,W.index-1);d.nextTick(k);ma();break;case c.KEY_CODE.TAB:G();if(W.hidden||W.loading||W.index<0||W.matches.length<1)break;ca(W.index);break;case c.KEY_CODE.ENTER:if(W.hidden||W.loading||W.index<0||W.matches.length<1)break;if(X())break;V.stopImmediatePropagation();
V.preventDefault();ca(W.index);break;case c.KEY_CODE.ESCAPE:if(V.preventDefault(),R("blur")||!W.hidden||W.loading||R("clear")&&a.searchText)V.stopPropagation(),la(),a.searchText&&R("clear")&&pa(),W.hidden=!0,R("blur")&&(sa=qa=!1,L.input.blur())}}function J(V){return m.when((V&&a.itemText?a.itemText(Q(V)):null)||V).then(function(ba){ba&&!angular.isString(ba)&&v.warn("md-autocomplete: Could not resolve display value to a string. Please check the `md-item-text` attribute.");return ba})}function Q(V){if(V){var ba=
{};W.itemName&&(ba[W.itemName]=V);return ba}}function T(V){W.loading!==V&&(W.loading=V);W.hidden=!U()}function Y(){return W.loading&&!W.matches.length||X()||!sa?!1:!0}function R(V){return!a.escapeOptions||a.escapeOptions.toLowerCase().indexOf(V)!==-1}function U(){return W.isReadonly||!Y()?!1:fa()&&(W.matches.length?!0:!1)||oa()}function X(){return W.scope.selectedItem?!0:!1}function aa(){return W.loading&&!X()}function ha(){return J(W.matches[W.index])}function fa(){return(a.searchText||"").length>=
(angular.isNumber(a.minLength)?a.minLength:1)}function ea(V,ba,ia){Object.defineProperty(W,V,{get:function(){return ia},set:function(ka){var ra=ia;ia=ka;ba(ka,ra)}})}function ca(V){d.nextTick(function(){J(W.matches[V]).then(function(ba){var ia=L.$.input.controller("ngModel");n.announce(ba+" "+W.selectedMessage,"assertive");ia.$setViewValue(ba);ia.$render()}).finally(function(){a.selectedItem=W.matches[V];T(!1)})},!1)}function da(V){V&&V.stopPropagation();la();pa()}function la(){W.index=-1;d.nextTick(k);
W.matches=[]}function pa(){T(!0);a.searchText="";var V=document.createEvent("CustomEvent");V.initCustomEvent("change",!0,!0,{value:""});L.input.dispatchEvent(V);L.input.blur();a.searchText="";L.input.focus()}function Ga(V){function ba(Ea){Ea&&(Ea=m.when(Ea),E++,T(!0),d.nextTick(function(){Ea.then(ia).finally(function(){--E===0&&T(!1)})},!0,a))}function ia(Ea){ua[ra]=Ea;(V||"")===(a.searchText||"")&&xa(Ea)}var ka=a.$parent.$eval(va),ra=V.toLowerCase(),Ca=angular.isArray(ka),Ma=!!ka.then;Ca?ia(ka):
Ma&&ba(ka)}function wa(V,ba){var ia=V?"polite":"assertive";V=[];ba&Ba.Selected&&W.index!==-1&&V.push(ha());ba&Ba.Count&&V.push(m.resolve(Aa()));m.all(V).then(function(ka){n.announce(ka.join(" "),ia)})}function Aa(){switch(W.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+W.matches.length+" matches available."}}function ma(){if(L.li[0])if(na==="standard"){var V=L.li[Math.max(0,W.index)],ba=L.scrollContainer.offsetHeight,
ia=V&&V.offsetTop||0;V=ia+V.clientHeight;var ka=L.scrollContainer.scrollTop;ia<ka?za(ia):V>ka+ba&&za(V-ba)}else ia=L.li[0].offsetHeight,ba=ia*Math.max(0,W.index),ia=ba+ia,V=L.scroller.clientHeight,ka=L.scroller.scrollTop,ba<ka?za(ba):ia>ka+V&&za(ia-V)}function za(V){na==="standard"?L.scrollContainer.scrollTop=V:L.$.scrollContainer.controller("mdVirtualRepeatContainer").scrollTo(V)}function oa(){var V=(W.scope.searchText||"").length;return W.hasNotFound&&!W.matches.length&&(!W.loading||E!==0)&&V>=
(angular.isNumber(a.minLength)?a.minLength:1)&&(sa||qa)&&!X()}function Ia(){var V=a.searchText||"",ba=V.toLowerCase();!a.noCache&&ua[ba]?xa(ua[ba]):Ga(V);W.hidden=!U()}function xa(V){W.matches=V;W.hidden=!U();W.loading&&T(!1);a.selectOnMatch&&Fa();x();wa(!0,Ba.Count)}function Fa(){var V=a.searchText,ba=W.matches,ia=ba[0];ba.length===1&&J(ia).then(function(ka){var ra=V===ka;a.matchInsensitive&&!ra&&(ra=V.toLowerCase()===ka.toLowerCase());ra&&ca(0)})}var W=this,ya=a.itemsExpr.split(/ in /i),va=ya[1],
L=null,ua={},qa=!1,ta=[],sa=!1,E=0,P=null,Z=null,ja=d.debounce(H),na="virtual";W.documentElement=angular.element(document.documentElement);ea("hidden",B,!0);W.scope=a;W.parent=a.$parent;W.itemName=ya[0];W.matches=[];W.loading=!1;W.hidden=!0;W.index=-1;W.activeOption=null;W.id=d.nextUid();W.isDisabled=null;W.isRequired=null;W.isReadonly=null;W.hasNotFound=!1;W.selectedMessage=a.selectedMessage||"selected";W.keydown=I;W.blur=K;W.focus=M;W.clear=da;W.select=ca;W.listEnter=D;W.listLeave=G;W.focusInput=
y;W.getCurrentDisplayValue=ha;W.registerSelectedItemWatcher=F;W.unregisterSelectedItemWatcher=O;W.notFoundVisible=oa;W.loadingIsVisible=aa;W.positionDropdown=x;var Ba={Count:1,Selected:2};return q()}MdAutocomplete.$inject=["$$mdSvgRegistry"];angular.module("material.components.autocomplete").directive("mdAutocomplete",MdAutocomplete);
function MdAutocomplete(a){function b(c){if(!c)return"virtual";c=c.toLowerCase();return d.indexOf(c)>-1?c:"virtual"}var d=["standard","virtual"];return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",inputAriaDescribedBy:"@?inputAriaDescribedby",inputAriaLabelledBy:"@?inputAriaLabelledby",
inputAriaLabel:"@?inputAriaLabel",noCache:"=?mdNoCache",requireMatch:"=?mdRequireMatch",selectOnMatch:"=?mdSelectOnMatch",matchInsensitive:"=?mdMatchCaseInsensitive",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass",menuContainerClass:"@?mdMenuContainerClass",inputClass:"@?mdInputClass",inputId:"@?mdInputId",escapeOptions:"@?mdEscapeOptions",
dropdownItems:"=?mdDropdownItems",dropdownPosition:"@?mdDropdownPosition",clearButton:"=?mdClearButton",selectedMessage:"@?mdSelectedMessage",mdMode:"=?mdMode"},compile:function(c,e){var f=["md-select-on-focus","md-no-asterisk","ng-trim","ng-pattern"],g=c.find("input");f.forEach(function(h){var l=e[e.$normalize(h)];l!==null&&g.attr(h,l)});return function(h,l,m,v){v.hasNotFound=!!l.attr("md-has-not-found");angular.isDefined(m.mdClearButton)||h.floatingLabel||(h.clearButton=!0);h.mdMode=b(m.mdMode);
l.on("click touchstart touchend",function(n){n.stopPropagation()})}},template:function(c,e){function f(){var r=c.find("md-item-template").detach(),x=r.length?r.html():c.html();r.length||c.empty();return"<md-autocomplete-parent-scope md-autocomplete-replace>"+x+"</md-autocomplete-parent-scope>"}function g(){var r=c.find("md-not-found").detach();return(r=r.length?r.html():"")?'<li ng-if="$mdAutocompleteCtrl.notFoundVisible()"                         md-autocomplete-parent-scope>'+r+"</li>":""}function h(r,
x){r=r?" "+r:"";return l(x)?'            <div                 ng-hide="$mdAutocompleteCtrl.hidden"                class="md-standard-list-container md-autocomplete-suggestions-container md-whiteframe-z1'+r+'"                ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"                role="presentation">              <div class="md-standard-list-scroller" role="presentation">':'          <md-virtual-repeat-container              md-auto-shrink              md-auto-shrink-min="1"              ng-hide="$mdAutocompleteCtrl.hidden"              class="md-virtual-repeat-container md-autocomplete-suggestions-container md-whiteframe-z1'+
r+'"              ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"              role="presentation">'}function l(r){r=b(r);return r!=="virtual"}var m=g(),v=f(),n=c.html(),q=e.tabindex;m&&c.attr("md-has-not-found",!0);c.attr("tabindex","-1");n=e.mdFloatingLabel?'            <md-input-container ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="text"                '+(q!=null?'tabindex="'+q+'"':"")+'                id="{{inputId || \'fl-input-\' + $mdAutocompleteCtrl.id}}"                name="{{inputName || \'fl-input-\' + $mdAutocompleteCtrl.id }}"                ng-class="::inputClass"                autocomplete="off"                ng-required="$mdAutocompleteCtrl.isRequired"                ng-readonly="$mdAutocompleteCtrl.isReadonly"                ng-minlength="inputMinlength"                ng-maxlength="inputMaxlength"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-model-options="{ allowInvalid: true }"                ng-mousedown="$mdAutocompleteCtrl.focusInput()"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur($event)"                ng-focus="$mdAutocompleteCtrl.focus($event)"                aria-label="{{floatingLabel}}"                ng-attr-aria-autocomplete="{{$mdAutocompleteCtrl.isDisabled ? undefined : \'list\'}}"                ng-attr-role="{{$mdAutocompleteCtrl.isDisabled ? undefined : \'combobox\'}}"                aria-haspopup="{{!$mdAutocompleteCtrl.isDisabled}}"                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"                ng-attr-aria-owns="{{$mdAutocompleteCtrl.hidden || $mdAutocompleteCtrl.isDisabled ? undefined : \'ul-\' + $mdAutocompleteCtrl.id}}"                ng-attr-aria-activedescendant="{{!$mdAutocompleteCtrl.hidden && $mdAutocompleteCtrl.activeOption ? $mdAutocompleteCtrl.activeOption : undefined}}">              <div md-autocomplete-parent-scope md-autocomplete-replace>'+
n+"</div>            </md-input-container>":'            <input type="text"              '+(q!=null?'tabindex="'+q+'"':"")+'              id="{{inputId || \'input-\' + $mdAutocompleteCtrl.id}}"              name="{{inputName || \'input-\' + $mdAutocompleteCtrl.id }}"              ng-class="::inputClass"              ng-if="!floatingLabel"              autocomplete="off"              ng-required="$mdAutocompleteCtrl.isRequired"              ng-disabled="$mdAutocompleteCtrl.isDisabled"              ng-readonly="$mdAutocompleteCtrl.isReadonly"              ng-minlength="inputMinlength"              ng-maxlength="inputMaxlength"              ng-model="$mdAutocompleteCtrl.scope.searchText"              ng-mousedown="$mdAutocompleteCtrl.focusInput()"              ng-keydown="$mdAutocompleteCtrl.keydown($event)"              ng-blur="$mdAutocompleteCtrl.blur($event)"              ng-focus="$mdAutocompleteCtrl.focus($event)"              placeholder="{{placeholder}}"              aria-label="{{placeholder}}"              ng-attr-aria-autocomplete="{{$mdAutocompleteCtrl.isDisabled ? undefined : \'list\'}}"              ng-attr-role="{{$mdAutocompleteCtrl.isDisabled ? undefined : \'combobox\'}}"              aria-haspopup="{{!$mdAutocompleteCtrl.isDisabled}}"              aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"              ng-attr-aria-owns="{{$mdAutocompleteCtrl.hidden || $mdAutocompleteCtrl.isDisabled ? undefined : \'ul-\' + $mdAutocompleteCtrl.id}}"              ng-attr-aria-activedescendant="{{!$mdAutocompleteCtrl.hidden && $mdAutocompleteCtrl.activeOption ? $mdAutocompleteCtrl.activeOption : undefined}}">';
return"        <md-autocomplete-wrap            ng-class=\"{ 'md-whiteframe-z1': !floatingLabel,                         'md-menu-showing': !$mdAutocompleteCtrl.hidden,                         'md-show-clear-button': !!clearButton }\">          "+n+'          <button type="button" aria-label="Clear Input" tabindex="0" ng-if="clearButton && $mdAutocompleteCtrl.scope.searchText" ng-click="$mdAutocompleteCtrl.clear($event)"><md-icon md-svg-src="'+(a.mdClose+'"></md-icon></button>          <md-progress-linear              class="')+
(e.mdFloatingLabel?"md-inline":"")+'"              ng-if="$mdAutocompleteCtrl.loadingIsVisible()"              md-mode="indeterminate"></md-progress-linear>          '+h(e.mdMenuContainerClass,e.mdMode)+'            <ul class="md-autocomplete-suggestions"                ng-class="::menuClass"                id="ul-{{$mdAutocompleteCtrl.id}}"                ng-mouseenter="$mdAutocompleteCtrl.listEnter()"                ng-mouseleave="$mdAutocompleteCtrl.listLeave()"                ng-mouseup="$mdAutocompleteCtrl.focusInput()"                role="listbox">              <li class="md-autocomplete-suggestion" '+
(l(e.mdMode)?"ng-repeat":"md-virtual-repeat")+' ="item in $mdAutocompleteCtrl.matches"                  ng-class="{ selected: $index === $mdAutocompleteCtrl.index }"                  ng-attr-id="{{\'md-option-\' + $mdAutocompleteCtrl.id + \'-\' + $index}}"                  ng-click="$mdAutocompleteCtrl.select($index)"                  role="option"                  aria-setsize="{{$mdAutocompleteCtrl.matches.length}}"                  aria-posinset="{{$index+1}}"                  aria-selected="{{$index === $mdAutocompleteCtrl.index ? true : false}}"                   md-extra-name="$mdAutocompleteCtrl.itemName">                  '+
v+"                  </li>"+m+"            </ul>          "+(l(e.mdMode)?"   </div>              </div>            </div>":"</md-virtual-repeat-container>")+"        </md-autocomplete-wrap>"}}}MdAutocompleteItemScopeDirective.$inject=["$compile","$mdUtil"];angular.module("material.components.autocomplete").directive("mdAutocompleteParentScope",MdAutocompleteItemScopeDirective);
function MdAutocompleteItemScopeDirective(a,b){function d(c,e,f){return function(g,h){function l(q,r){n[r]=g[q];g.$watch(q,function(x){b.nextTick(function(){n[r]=x})})}function m(){var q=!1,r=!1;g.$watch(function(){r||q||(q=!0,g.$$postDigest(function(){r||n.$digest();q=r=!1}))});n.$watch(function(){r=!0})}var v=g.$mdAutocompleteCtrl,n=v.parent.$new();v=v.itemName;l("$index","$index");l("item",v);m();f(n,function(q){h.after(q)})}}return{restrict:"AE",compile:d,terminal:!0,transclude:"element"}}
MdHighlightCtrl.$inject=["$scope","$element","$attrs"];angular.module("material.components.autocomplete").controller("MdHighlightCtrl",MdHighlightCtrl);function MdHighlightCtrl(a,b,d){this.$scope=a;this.$element=b;this.$attrs=d;this.regex=null}MdHighlightCtrl.prototype.init=function(a,b){this.flags=this.$attrs.mdHighlightFlags||"";this.unregisterFn=this.$scope.$watch(function(d){return{term:a(d),contentText:b(d)}}.bind(this),this.onRender.bind(this),!0);this.$element.on("$destroy",this.unregisterFn)};
MdHighlightCtrl.prototype.onRender=function(a,b){var d=a.contentText;if(this.regex===null||a.term!==b.term)this.regex=this.createRegex(a.term,this.flags);a.term?this.applyRegex(d):this.$element.text(d)};MdHighlightCtrl.prototype.applyRegex=function(a){a=this.resolveTokens(a);this.$element.empty();a.forEach(function(b){b.isMatch?(b=angular.element('<span class="highlight">').text(b.text),this.$element.append(b)):this.$element.append(document.createTextNode(b))}.bind(this))};
MdHighlightCtrl.prototype.resolveTokens=function(a){function b(e,f){(e=a.slice(e,f))&&d.push(e)}var d=[],c=0;a.replace(this.regex,function(e,f){b(c,f);d.push({text:e,isMatch:!0});c=f+e.length});b(c);return d};MdHighlightCtrl.prototype.createRegex=function(a,b){var d="",c="";a=this.sanitizeRegex(a);b.indexOf("^")>=0&&(d="^");b.indexOf("$")>=0&&(c="$");return new RegExp(d+a+c,b.replace(/[$^]/g,""))};
MdHighlightCtrl.prototype.sanitizeRegex=function(a){return a&&a.toString().replace(/[\\^$*+?.()|{}[\]]/g,"\\$&")};MdHighlight.$inject=["$interpolate","$parse"];angular.module("material.components.autocomplete").directive("mdHighlightText",MdHighlight);function MdHighlight(a,b){return{terminal:!0,controller:"MdHighlightCtrl",compile:function(d,c){var e=b(c.mdHighlightText),f=a(d.html());return function(g,h,l,m){m.init(e,f)}}}}ngmaterial.components.autocomplete=angular.module("material.components.autocomplete");angular.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",["$mdTheming","$mdUtil","$animate","$rootElement","$window","$log","$$rAF","$document",function(a,b,d,c,e,f,g,h){function l(m,v){function n(){var r=parseInt(q.height,10)+Math.abs(parseInt(q.top,10));v.css("height",r+"px")}d.pin&&d.pin(v,c);var q;g(function(){q=e.getComputedStyle(h[0].body);if(q.position==="fixed"){var r=b.debounce(function(){q=e.getComputedStyle(h[0].body);n()},60,null,!1);n();angular.element(e).on("resize",
r);m.$on("$destroy",function(){angular.element(e).off("resize",r)})}var x=v.parent();if(x.length){x[0].nodeName==="BODY"&&v.css("position","fixed");var y=e.getComputedStyle(x[0]);y.position==="static"&&f.warn("<md-backdrop> may not work properly in a scrolled, static-positioned parent container.");a.inherit(v,x)}})}return{restrict:"E",link:l}}]);ngmaterial.components.backdrop=angular.module("material.components.backdrop");MdBottomSheetDirective.$inject=["$mdBottomSheet"];MdBottomSheetProvider.$inject=["$$interimElementProvider"];angular.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",MdBottomSheetDirective).provider("$mdBottomSheet",MdBottomSheetProvider);function MdBottomSheetDirective(a){return{restrict:"E",link:function(b,d){d.addClass("_md");b.$on("$destroy",function(){a.destroy()})}}}
function MdBottomSheetProvider(a){function b(d,c,e,f,g,h,l,m){function v(x,y,k){y=e.extractElementByName(y,"md-bottom-sheet");y.attr("tabindex","-1");y.hasClass("ng-cloak")&&m.warn("$mdBottomSheet: using `<md-bottom-sheet ng-cloak>` will affect the bottom-sheet opening animations.",y[0]);k.isLockedOpen?(k.clickOutsideToClose=!1,k.escapeToClose=!1):k.cleanupGestures=q(y,k.parent);if(!k.disableBackdrop){r=e.createBackdrop(x,"md-bottom-sheet-backdrop md-opaque");r[0].tabIndex=-1;if(k.clickOutsideToClose)r.on("click",
function(){e.nextTick(g.cancel,!0)});f.inherit(r,k.parent);d.enter(r,k.parent,null)}f.inherit(y,k.parent);k.disableParentScroll&&(k.restoreScroll=e.disableScrollAround(y,k.parent));return d.enter(y,k.parent,r).then(function(){var p=e.findFocusTarget(y)||angular.element(y[0].querySelector("button")||y[0].querySelector("a")||y[0].querySelector(e.prefixer("ng-click",!0)))||r;k.escapeToClose&&(k.rootElementKeyupCallback=function(t){t.keyCode===c.KEY_CODE.ESCAPE&&e.nextTick(g.cancel,!0)},h.on("keyup",
k.rootElementKeyupCallback),p&&p.focus())})}function n(x,y,k){k.disableBackdrop||d.leave(r);return d.leave(y).then(function(){k.disableParentScroll&&(k.restoreScroll(),delete k.restoreScroll);k.cleanupGestures&&k.cleanupGestures()})}function q(x,y){function k(){x.css(c.CSS.TRANSITION_DURATION,"0ms")}function p(A){A=A.pointer.distanceY;A<5&&(A=Math.max(-80,A/2));x.css(c.CSS.TRANSFORM,"translate3d(0,"+(80+A)+"px,0)")}function t(A){if(A.pointer.distanceY>0&&(A.pointer.distanceY>20||Math.abs(A.pointer.velocityY)>
.5)){var w=x.prop("offsetHeight")-A.pointer.distanceY;A=Math.min(w/A.pointer.velocityY*.75,500);x.css(c.CSS.TRANSITION_DURATION,A+"ms");e.nextTick(g.cancel,!0)}else x.css(c.CSS.TRANSITION_DURATION,""),x.css(c.CSS.TRANSFORM,"")}var H=l.register(y,"drag",{horizontal:!1});y.on("$md.dragstart",k).on("$md.drag",p).on("$md.dragend",t);return function(){H();y.off("$md.dragstart",k);y.off("$md.drag",p);y.off("$md.dragend",t)}}var r;return{themable:!0,onShow:v,onRemove:n,disableBackdrop:!1,escapeToClose:!0,
clickOutsideToClose:!0,disableParentScroll:!0,isLockedOpen:!1}}b.$inject="$animate $mdConstant $mdUtil $mdTheming $mdBottomSheet $rootElement $mdGesture $log".split(" ");return a("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","clickOutsideToClose"],options:b})}ngmaterial.components.bottomSheet=angular.module("material.components.bottomSheet");MdButtonDirective.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$mdInteraction"];MdAnchorDirective.$inject=["$mdTheming"];angular.module("material.components.button",["material.core"]).directive("mdButton",MdButtonDirective).directive("a",MdAnchorDirective);function MdAnchorDirective(a){return{restrict:"E",link:function(b,d){a(d)}}}
function MdButtonDirective(a,b,d,c){function e(h){return angular.isDefined(h.href)||angular.isDefined(h.ngHref)||angular.isDefined(h.ngLink)||angular.isDefined(h.uiSref)}function f(h,l){if(e(l))return'<a class="md-button" ng-transclude></a>';h=typeof l.type==="undefined"?"button":l.type;return'<button class="md-button" type="'+h+'" ng-transclude></button>'}function g(h,l,m){b(l);a.attach(h,l);d.expectWithoutText(l,"aria-label");e(m)&&angular.isDefined(m.ngDisabled)&&!l.hasClass("_md-nav-button")&&
h.$watch(m.ngDisabled,function(v){l.attr("tabindex",v?-1:0)});l.on("click",function(v){m.disabled===!0&&(v.preventDefault(),v.stopImmediatePropagation())});l.hasClass("md-no-focus")||(l.on("focus",function(){c.isUserInvoked()&&c.getLastInteractionType()!=="keyboard"||l.addClass("md-focused")}),l.on("blur",function(){l.removeClass("md-focused")}))}return{restrict:"EA",replace:!0,transclude:!0,template:f,link:g}}ngmaterial.components.button=angular.module("material.components.button");mdCardDirective.$inject=["$mdTheming"];angular.module("material.components.card",["material.core"]).directive("mdCard",mdCardDirective);function mdCardDirective(a){return{restrict:"E",link:function(b,d){d.addClass("_md");a(d)}}}ngmaterial.components.card=angular.module("material.components.card");MdCheckboxDirective.$inject="inputDirective $mdAria $mdConstant $mdTheming $mdUtil $mdInteraction".split(" ");angular.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",MdCheckboxDirective);
function MdCheckboxDirective(a,b,d,c,e,f){function g(h,l){function m(v,n,q,r){function x(u,z,D){q[u]&&v.$watch(q[u],function(G){D[G]&&n.attr(z,D[G])})}function y(u){var z=u.which||u.keyCode;u.preventDefault();switch(z){case d.KEY_CODE.SPACE:n.addClass("md-focused");k(u);break;case d.KEY_CODE.ENTER:(u=e.getClosest(u.target,"form"))&&(u=u.querySelector('button[type="submit"]:enabled, input[type="submit"]:enabled'))&&u.click()}}function k(u){n[0].hasAttribute("disabled")||v.skipToggle||v.$apply(function(){var z=
q.ngChecked&&q.ngClick?q.checked:!w.$viewValue;w.$setViewValue(z,u&&u.type);w.$render()})}function p(){n.toggleClass("md-checked",!!w.$viewValue&&!H)}function t(u){(H=u!==!1)&&n.attr("aria-checked","mixed");n.toggleClass("md-indeterminate",H)}var H,A=r[0],w=r[1]||e.fakeNgModel(),B=r[2];A&&(r=A.isErrorGetter||function(){return w.$invalid&&(w.$touched||B&&B.$submitted)},A.input=n,v.$watch(r,A.setInvalid));c(n);n.children().on("focus",function(){n.focus()});e.parseAttributeBoolean(q.mdIndeterminate)&&
(t(),v.$watch(q.mdIndeterminate,t));q.ngChecked&&v.$watch(v.$eval.bind(v,q.ngChecked),function(u){w.$setViewValue(u);w.$render()});x("ngDisabled","tabindex",{true:"-1",false:q.tabindex});b.expectWithText(n,"aria-label");a.link.pre(v,{on:angular.noop,0:{}},q,[w]);n.on("click",k).on("keypress",y).on("focus",function(){f.getLastInteractionType()==="keyboard"&&n.addClass("md-focused")}).on("blur",function(){n.removeClass("md-focused")});w.$render=p}l.$set("tabindex",l.tabindex||"0");l.$set("type","checkbox");
l.$set("role",l.type);return{pre:function(v,n){n.on("click",function(q){this.hasAttribute("disabled")&&q.stopImmediatePropagation()})},post:m}}a=a[0];return{restrict:"E",transclude:!0,require:["^?mdInputContainer","?ngModel","?^form"],priority:d.BEFORE_NG_ARIA,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:g}}ngmaterial.components.checkbox=angular.module("material.components.checkbox");angular.module("material.components.chips",["material.core","material.components.autocomplete"]);MdChipCtrl.$inject=["$scope","$element","$mdConstant","$timeout","$mdUtil"];angular.module("material.components.chips").controller("MdChipCtrl",MdChipCtrl);function MdChipCtrl(a,b,d,c,e){this.$scope=a;this.$element=b;this.$mdConstant=d;this.$timeout=c;this.$mdUtil=e;this.isEditing=!1;this.parentController=void 0;this.enableChipEdit=!1}
MdChipCtrl.prototype.init=function(a){this.parentController=a;if(this.enableChipEdit=this.parentController.enableChipEdit)this.$element.on("keydown",this.chipKeyDown.bind(this)),this.$element.on("dblclick",this.chipMouseDoubleClick.bind(this)),this.getChipContent().addClass("_md-chip-content-edit-is-enabled")};MdChipCtrl.prototype.getChipContent=function(){var a=this.$element[0].getElementsByClassName("md-chip-content");return angular.element(a[0])};
MdChipCtrl.prototype.getContentElement=function(){var a=angular.element(this.getChipContent().children()[0]);a&&a.length!==0||(a=angular.element(this.getChipContent().contents()[0]));return a};MdChipCtrl.prototype.getChipIndex=function(){return parseInt(this.$element.attr("index"))};
MdChipCtrl.prototype.goOutOfEditMode=function(){if(this.isEditing){this.isEditing=!1;this.$element.removeClass("_md-chip-editing");this.getChipContent()[0].contentEditable="false";var a=this.getChipIndex(),b=this.getContentElement().text();b?(this.parentController.updateChipContents(a,b),this.$mdUtil.nextTick(function(){this.parentController.selectedChip===a&&this.parentController.focusChip(a)}.bind(this))):this.parentController.removeChipAndFocusInput(a)}};
MdChipCtrl.prototype.selectNodeContents=function(a){if(document.body.createTextRange){var b=document.body.createTextRange();b.moveToElementText(a);b.select()}else if(window.getSelection){var d=window.getSelection();b=document.createRange();b.selectNodeContents(a);d.removeAllRanges();d.addRange(b)}};
MdChipCtrl.prototype.goInEditMode=function(){this.isEditing=!0;this.$element.addClass("_md-chip-editing");this.getChipContent()[0].contentEditable="true";this.getChipContent().on("blur",function(){this.goOutOfEditMode()}.bind(this));this.selectNodeContents(this.getChipContent()[0])};
MdChipCtrl.prototype.chipKeyDown=function(a){this.isEditing||a.keyCode!==this.$mdConstant.KEY_CODE.ENTER&&a.keyCode!==this.$mdConstant.KEY_CODE.SPACE?this.isEditing&&a.keyCode===this.$mdConstant.KEY_CODE.ENTER&&(a.preventDefault(),this.goOutOfEditMode()):(a.preventDefault(),this.goInEditMode())};MdChipCtrl.prototype.chipMouseDoubleClick=function(){this.enableChipEdit&&!this.isEditing&&this.goInEditMode()};MdChip.$inject=["$mdTheming","$mdUtil","$compile","$timeout"];
angular.module("material.components.chips").directive("mdChip",MdChip);function MdChip(a,b,d,c){function e(f,g,h,l){var m=l.shift();f=l.shift();h=angular.element(g[0].querySelector(".md-chip-content"));a(g);m&&(f.init(m),h.on("blur",function(){m.resetSelectedChip();m.$scope.$applyAsync()}));c(function(){m&&m.shouldFocusLastChip&&m.focusLastChipThenInput()})}return{restrict:"E",require:["^?mdChips","mdChip"],link:e,controller:"MdChipCtrl"}}MdChipRemove.$inject=["$timeout"];
angular.module("material.components.chips").directive("mdChipRemove",MdChipRemove);function MdChipRemove(a){function b(d,c,e,f){c.on("click",function(){d.$apply(function(){f.removeChip(d.$$replacedScope.$index)})});a(function(){c.attr({tabindex:"-1","aria-hidden":"true"});c.find("button").attr("tabindex","-1")})}return{restrict:"A",require:"^mdChips",scope:!1,link:b}}MdChipTransclude.$inject=["$compile"];angular.module("material.components.chips").directive("mdChipTransclude",MdChipTransclude);
function MdChipTransclude(a){function b(d,c,e){var f=d.$parent.$mdChipsCtrl,g=f.parent.$new(!1,f.parent);g.$$replacedScope=d;g.$chip=d.$chip;g.$index=d.$index;g.$mdChipsCtrl=f;d=f.$scope.$eval(e.mdChipTransclude);c.html(d);a(c.contents())(g)}return{restrict:"EA",terminal:!0,link:b,scope:!1}}MdChipsCtrl.$inject="$scope $attrs $mdConstant $log $element $timeout $mdUtil $mdLiveAnnouncer $exceptionHandler".split(" ");angular.module("material.components.chips").controller("MdChipsCtrl",MdChipsCtrl);
function MdChipsCtrl(a,b,d,c,e,f,g,h,l){this.$timeout=f;this.$mdConstant=d;this.$scope=a;this.parent=a.$parent;this.$mdUtil=g;this.$log=c;this.$mdLiveAnnouncer=h;this.$exceptionHandler=l;this.$element=e;this.$attrs=b;this.userInputElement=this.autocompleteCtrl=this.userInputNgModelCtrl=this.ngModelCtrl=null;this.items=[];this.selectedChip=-1;this.enableChipEdit=g.parseAttributeBoolean(b.mdEnableChipEdit);this.addOnBlur=g.parseAttributeBoolean(b.mdAddOnBlur);this.inputAriaLabel="Chips input.";this.containerHint=
"Chips container. Use arrow keys to select chips.";this.containerEmptyHint="Chips container. Enter the text area, then type text, and press enter to add a chip.";this.deleteHint="Press delete to remove this chip.";this.deleteButtonLabel="Remove";this.chipBuffer="";this.useOnRemove=this.useOnAdd=this.useTransformChip=!1;this.wrapperId="";this.contentIds=[];this.ariaTabIndex=null;this.chipAppendDelay=300;this.deRegister=[];this.addedMessage="added";this.removedMessage="removed";this.init()}
MdChipsCtrl.prototype.init=function(){var a=this;this.wrapperId="_md-chips-wrapper-"+this.$mdUtil.nextUid();this.$element.attr("ng-model")||this.setupStaticChips();this.deRegister.push(this.$scope.$watchCollection("$mdChipsCtrl.items",function(){a.setupInputAria();a.setupWrapperAria()}));this.deRegister.push(this.$attrs.$observe("mdChipAppendDelay",function(b){a.chipAppendDelay=parseInt(b)||300}))};MdChipsCtrl.prototype.$onDestroy=function(){for(var a;a=this.deRegister.pop();)a.call(this)};
MdChipsCtrl.prototype.setupInputAria=function(){var a=this.$element.find("input");a&&(a.attr("role","textbox"),a.attr("aria-multiline",!0),this.inputAriaDescribedBy&&a.attr("aria-describedby",this.inputAriaDescribedBy),this.inputAriaLabelledBy?(a.attr("aria-labelledby",this.inputAriaLabelledBy),a.removeAttr("aria-label")):a.attr("aria-label",this.inputAriaLabel))};
MdChipsCtrl.prototype.setupWrapperAria=function(){var a=this,b=this.$element.find("md-chips-wrap");this.items&&this.items.length?(b.attr("role","listbox"),this.contentIds=this.items.map(function(){return a.wrapperId+"-chip-"+a.$mdUtil.nextUid()}),b.attr("aria-owns",this.contentIds.join(" ")),b.attr("aria-label",this.containerHint)):(b.removeAttr("role"),b.removeAttr("aria-owns"),b.attr("aria-label",this.containerEmptyHint))};
MdChipsCtrl.prototype.setupStaticChips=function(){var a=this,b,d,c=this.$element.find("md-chips-wrap");this.$timeout(function(){c.attr("role","list");d=c[0].children;for(b=0;b<d.length;b++)d[b].setAttribute("role","listitem"),d[b].setAttribute("aria-setsize",d.length);a.inputAriaDescribedBy&&c.attr("aria-describedby",a.inputAriaDescribedBy);a.inputAriaLabelledBy?(c.attr("aria-labelledby",a.inputAriaLabelledBy),c.removeAttr("aria-label")):c.attr("aria-label",a.inputAriaLabel)},10)};
MdChipsCtrl.prototype.inputKeydown=function(a){var b=this.getChipBuffer();if(!(this.autocompleteCtrl&&a.isDefaultPrevented&&a.isDefaultPrevented()))if(a.keyCode===this.$mdConstant.KEY_CODE.BACKSPACE)this.getCursorPosition(a.target)===0&&(a.preventDefault(),a.stopPropagation(),this.items.length&&this.selectAndFocusChipSafe(this.items.length-1));else{if(!this.separatorKeys||this.separatorKeys.length<1)this.separatorKeys=[this.$mdConstant.KEY_CODE.ENTER];if(!(this.separatorKeys.indexOf(a.keyCode)===
-1||this.autocompleteCtrl&&this.requireMatch||!b||(a.preventDefault(),this.hasMaxChipsReached())))return this.appendChip(b.trim()),this.resetChipBuffer(),!1}};MdChipsCtrl.prototype.getCursorPosition=function(a){try{if(a.selectionStart===a.selectionEnd)return a.selectionStart}catch(b){if(!a.value)return 0}};MdChipsCtrl.prototype.updateChipContents=function(a,b){a>=0&&a<this.items.length&&(this.items[a]=b,this.updateNgModel(!0))};MdChipsCtrl.prototype.isEditingChip=function(){return!!this.$element[0].querySelector("._md-chip-editing")};
MdChipsCtrl.prototype._isChipObject=function(a){return angular.isObject(a)};MdChipsCtrl.prototype.isRemovable=function(){return this.ngModelCtrl?this.readonly?this.removable:angular.isDefined(this.removable)?this.removable:!0:!1};
MdChipsCtrl.prototype.chipKeydown=function(a){if(!this.getChipBuffer()&&!this.isEditingChip())switch(a.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)break;a.preventDefault();if(!this.isRemovable())break;this.removeAndSelectAdjacentChip(this.selectedChip,a);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:a.preventDefault();if(this.selectedChip<0||this.readonly&&this.selectedChip===0)this.selectedChip=this.items.length;this.items.length&&
this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:a.preventDefault();this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:this.selectedChip<0||(a.preventDefault(),this.onFocus())}};MdChipsCtrl.prototype.getPlaceholder=function(){var a=this.items&&this.items.length&&(this.secondaryPlaceholder===""||this.secondaryPlaceholder);return a?this.secondaryPlaceholder:this.placeholder};
MdChipsCtrl.prototype.removeAndSelectAdjacentChip=function(a,b){var d=this,c=d.getAdjacentChipIndex(a);this.$element[0].querySelector("md-chips-wrap");this.$element[0].querySelector('md-chip[index="'+a+'"]');d.removeChip(a,b);d.$timeout(function(){d.$timeout(function(){d.selectAndFocusChipSafe(c)})})};MdChipsCtrl.prototype.resetSelectedChip=function(){this.selectedChip=-1;this.ariaTabIndex=null};
MdChipsCtrl.prototype.getAdjacentChipIndex=function(a){var b=this.items.length-1;return b===0?-1:a===b?a-1:a};
MdChipsCtrl.prototype.appendChip=function(a){this.shouldFocusLastChip=!this.addOnBlur;if(this.useTransformChip&&this.transformChip){var b=this.transformChip({$chip:a});angular.isDefined(b)&&(a=b)}if(angular.isObject(a)&&(b=this.items.some(function(c){return angular.equals(a,c)})))return;if(!(a==null||this.items.indexOf(a)+1)){b=this.items.push(a);--b;this.updateNgModel();var d=angular.isObject(a)?"":a;this.$mdLiveAnnouncer.announce(d+" "+this.addedMessage,"assertive");if(this.useOnAdd&&this.onAdd)this.onAdd({$chip:a,
$index:b})}};MdChipsCtrl.prototype.useTransformChipExpression=function(){this.useTransformChip=!0};MdChipsCtrl.prototype.useOnAddExpression=function(){this.useOnAdd=!0};MdChipsCtrl.prototype.useOnRemoveExpression=function(){this.useOnRemove=!0};MdChipsCtrl.prototype.useOnSelectExpression=function(){this.useOnSelect=!0};
MdChipsCtrl.prototype.getChipBuffer=function(){var a=this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer;return angular.isString(a)?a:""};MdChipsCtrl.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""};
MdChipsCtrl.prototype.hasMaxChipsReached=function(){angular.isString(this.maxChips)&&(this.maxChips=parseInt(this.maxChips,10)||0);return this.maxChips>0&&this.items.length>=this.maxChips};MdChipsCtrl.prototype.validateModel=function(){this.ngModelCtrl.$setValidity("md-max-chips",!this.hasMaxChipsReached());this.ngModelCtrl.$validate()};MdChipsCtrl.prototype.updateNgModel=function(a){a||this.validateModel();angular.forEach(this.ngModelCtrl.$viewChangeListeners,function(b){try{b()}catch(d){this.$exceptionHandler(d)}})};
MdChipsCtrl.prototype.removeChip=function(a,b){var d=this.items.splice(a,1);this.updateNgModel();this.ngModelCtrl.$setDirty();var c=angular.isObject(d[0])?"":d[0];this.$mdLiveAnnouncer.announce(c+" "+this.removedMessage,"assertive");if(d&&d.length&&this.useOnRemove&&this.onRemove)this.onRemove({$chip:d[0],$index:a,$event:b})};
MdChipsCtrl.prototype.removeChipAndFocusInput=function(a,b){this.removeChip(a,b);if(this.autocompleteCtrl)this.autocompleteCtrl.hidden=!0,this.$mdUtil.nextTick(this.onFocus.bind(this));else this.onFocus()};MdChipsCtrl.prototype.selectAndFocusChipSafe=function(a){if(!this.items.length||a===-1)return this.focusInput();if(a>=this.items.length)if(this.readonly)a=0;else return this.onFocus();a=Math.max(a,0);a=Math.min(a,this.items.length-1);this.selectChip(a);this.focusChip(a)};
MdChipsCtrl.prototype.focusLastChipThenInput=function(){var a=this;a.shouldFocusLastChip=!1;a.focusChip(this.items.length-1);a.$timeout(function(){a.focusInput()},a.chipAppendDelay)};MdChipsCtrl.prototype.focusInput=function(){this.selectChip(-1);this.onFocus()};MdChipsCtrl.prototype.selectChip=function(a){if(a>=-1&&a<=this.items.length){if(this.selectedChip=a,this.useOnSelect&&this.onSelect)this.onSelect({$chip:this.items[a]})}else this.$log.warn("Selected Chip index out of bounds; ignoring.")};
MdChipsCtrl.prototype.selectAndFocusChip=function(a){this.selectChip(a);a!==-1&&this.focusChip(a)};MdChipsCtrl.prototype.focusChip=function(a){var b=this.$element[0].querySelector('md-chip[index="'+a+'"] .md-chip-content');this.ariaTabIndex=a;b.focus()};MdChipsCtrl.prototype.configureNgModel=function(a){this.ngModelCtrl=a;var b=this;a.$isEmpty=function(d){return!d||d.length===0};a.$render=function(){b.items=b.ngModelCtrl.$viewValue}};
MdChipsCtrl.prototype.onFocus=function(){var a=this.$element[0].querySelector("input");a&&a.focus();this.resetSelectedChip()};MdChipsCtrl.prototype.onInputFocus=function(){this.inputHasFocus=!0;this.setupInputAria();this.resetSelectedChip()};MdChipsCtrl.prototype.onInputBlur=function(){this.inputHasFocus=!1;this.shouldAddOnBlur()&&(this.appendChip(this.getChipBuffer().trim()),this.resetChipBuffer())};
MdChipsCtrl.prototype.configureInput=function(a){var b=a.controller("ngModel"),d=this;b&&(this.deRegister.push(this.$scope.$watch(function(){return b.$touched},function(c){c&&d.ngModelCtrl.$setTouched()})),this.deRegister.push(this.$scope.$watch(function(){return b.$dirty},function(c){c&&d.ngModelCtrl.$setDirty()})))};
MdChipsCtrl.prototype.configureUserInput=function(a){this.userInputElement=a;var b=a.controller("ngModel");b!==this.ngModelCtrl&&(this.userInputNgModelCtrl=b);var d=this.$scope,c=this;a.attr({tabindex:0}).on("keydown",function(e){d.$evalAsync(angular.bind(c,c.inputKeydown,e))}).on("focus",function(e){d.$evalAsync(angular.bind(c,c.onInputFocus,e))}).on("blur",function(e){d.$evalAsync(angular.bind(c,c.onInputBlur,e))})};
MdChipsCtrl.prototype.configureAutocomplete=function(a){a&&(this.autocompleteCtrl=a,this.$element.attr("container-empty-hint")||(this.containerEmptyHint="Chips container with autocompletion. Enter the text area, type text to search, and then use the up and down arrow keys to select an option. Press enter to add the selected option as a chip.",this.setupWrapperAria()),a.registerSelectedItemWatcher(angular.bind(this,function(b){b&&!this.hasMaxChipsReached()&&(this.appendChip(b),this.resetChipBuffer())})),
this.$element.find("input").on("focus",angular.bind(this,this.onInputFocus)).on("blur",angular.bind(this,this.onInputBlur)))};MdChipsCtrl.prototype.shouldAddOnBlur=function(){this.validateModel();var a=this.getChipBuffer().trim(),b=this.ngModelCtrl.$isEmpty(this.ngModelCtrl.$modelValue)||this.ngModelCtrl.$valid,d=this.autocompleteCtrl&&!this.autocompleteCtrl.hidden;this.userInputNgModelCtrl&&(b=b&&this.userInputNgModelCtrl.$valid);return this.addOnBlur&&!this.requireMatch&&a&&b&&!d};
MdChipsCtrl.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0};MdChipsCtrl.prototype.contentIdFor=function(a){return this.contentIds[a]};MdChips.$inject="$mdTheming $mdUtil $compile $log $timeout $$mdSvgRegistry".split(" ");angular.module("material.components.chips").directive("mdChips",MdChips);
function MdChips(a,b,d,c,e,f){function g(l,m){function v(p){if(m.ngModel)return(p=n[0].querySelector(p))&&p.outerHTML}var n=m.$mdUserTemplate;m.$mdUserTemplate=null;var q=v("md-chips>md-chip-template");l=b.prefixer().buildList("md-chip-remove").map(function(p){return"md-chips>*["+p+"]"}).join(",");var r=v(l)||h.remove,x=q||h.default,y=v("md-chips>md-autocomplete")||v("md-chips>input")||h.input,k=n.find("md-chip");n[0].querySelector("md-chip-template>*[md-chip-remove]")&&c.warn("invalid placement of md-chip-remove within md-chip-template.");
return function(p,t,H,A){b.initOptionalProperties(p,m);a(t);var w=A[0];q&&(w.enableChipEdit=!1);w.chipContentsTemplate=x;w.chipRemoveTemplate=r;w.chipInputTemplate=y;w.mdCloseIcon=f.mdClose;t.attr({tabindex:-1}).on("focus",function(){w.onFocus()}).on("click",function(){if(!w.readonly&&w.selectedChip===-1)w.onFocus()});m.ngModel&&(w.configureNgModel(t.controller("ngModel")),H.mdTransformChip&&w.useTransformChipExpression(),H.mdOnAppend&&w.useOnAppendExpression(),H.mdOnAdd&&w.useOnAddExpression(),H.mdOnRemove&&
w.useOnRemoveExpression(),H.mdOnSelect&&w.useOnSelectExpression(),y!==h.input&&p.$watch("$mdChipsCtrl.readonly",function(u){u||b.nextTick(function(){if(y.indexOf("<md-autocomplete")===0){var z=t.find("md-autocomplete");w.configureAutocomplete(z.controller("mdAutocomplete"))}w.configureUserInput(t.find("input"))})}),b.nextTick(function(){var u=t.find("input");u&&(w.configureInput(u),u.toggleClass("md-input",!0))}));if(k.length>0){var B=d(k.clone())(p.$parent);e(function(){t.find("md-chips-wrap").prepend(B)})}}}
var h={chips:b.processTemplate('      <md-chips-wrap          id="{{$mdChipsCtrl.wrapperId}}"          tabindex="{{$mdChipsCtrl.readonly ? 0 : -1}}"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus(),                       \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly,                      \'md-removable\': $mdChipsCtrl.isRemovable() }"          class="md-chips">        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"             ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index, \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly}">          <div class="md-chip-content"              tabindex="{{$mdChipsCtrl.ariaTabIndex === $index ? 0 : -1}}"              id="{{$mdChipsCtrl.contentIdFor($index)}}"              role="option"              aria-selected="{{$mdChipsCtrl.selectedChip === $index}}"              aria-setsize="{{$mdChipsCtrl.items.length}}"              aria-posinset="{{$index+1}}"              ng-click="!$mdChipsCtrl.readonly && $mdChipsCtrl.focusChip($index)"              aria-label="{{$mdChipsCtrl._isChipObject($chip) ? \'\' : $chip + \'. \'}}{{$mdChipsCtrl.isRemovable() ? \'\' + $mdChipsCtrl.deleteHint : \'\'}}"               ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div ng-if="$mdChipsCtrl.isRemovable()"               class="md-chip-remove-container"               tabindex="-1"               md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div class="md-chip-input-container" ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl">          <div md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>'),
input:b.processTemplate('        <input            class="md-input"            tabindex="0"            aria-label="{{$mdChipsCtrl.inputAriaLabel}}"            placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">'),default:b.processTemplate("      <span>{{$chip}}</span>"),remove:b.processTemplate('      <button          class="md-chip-remove"          ng-if="$mdChipsCtrl.isRemovable()"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index, $event)"          type="button"          tabindex="-1"          aria-label="{{$mdChipsCtrl.deleteButtonLabel}}{{$mdChipsCtrl._isChipObject($chip) ? \'\' : \' \' + $chip}}">        <md-icon md-svg-src="{{$mdChipsCtrl.mdCloseIcon}}" aria-hidden="true"></md-icon>      </button>')};
return{template:function(l,m){m.$mdUserTemplate=l.clone();return h.chips},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:g,scope:{readonly:"=?readonly",removable:"=?mdRemovable",placeholder:"@?",secondaryPlaceholder:"@?",maxChips:"@?mdMaxChips",transformChip:"&mdTransformChip",onAppend:"&?mdOnAppend",onAdd:"&?mdOnAdd",onRemove:"&?mdOnRemove",addedMessage:"@?mdAddedMessage",removedMessage:"@?mdRemovedMessage",onSelect:"&?mdOnSelect",
inputAriaDescribedBy:"@?inputAriaDescribedby",inputAriaLabelledBy:"@?inputAriaLabelledby",inputAriaLabel:"@?",containerHint:"@?",containerEmptyHint:"@?",deleteHint:"@?",deleteButtonLabel:"@?",separatorKeys:"=?mdSeparatorKeys",requireMatch:"=?mdRequireMatch",chipAppendDelayString:"@?mdChipAppendDelay",ngChange:"&?"}}}MdContactChipsCtrl.$inject=["$attrs","$element","$timeout"];angular.module("material.components.chips").controller("MdContactChipsCtrl",MdContactChipsCtrl);
function MdContactChipsCtrl(a,b,d){this.$element=b;this.$attrs=a;this.$timeout=d;this.selectedItem=null;this.searchText="";this.deRegister=[];this.init()}MdContactChipsCtrl.prototype.init=function(){var a=this,b=this.deRegister,d=this.$element;this.$timeout(function(){b.push(d.find("md-chips").scope().$watchCollection("$mdChipsCtrl.items",function(){a.setupChipsAria();a.setupAutocompleteAria()}))})};
MdContactChipsCtrl.prototype.setupChipsAria=function(){var a=this.$element.find("md-chips"),b=a.controller("mdChips");this.removedMessage&&(b.removedMessage=this.removedMessage);this.containerHint&&(b.containerHint=this.containerHint);this.containerEmptyHint&&(a.attr("container-empty-hint",this.containerEmptyHint),b.containerEmptyHint=this.containerEmptyHint);this.deleteHint&&(b.deleteHint=this.deleteHint);this.inputAriaLabel&&(b.inputAriaLabel=this.inputAriaLabel)};
MdContactChipsCtrl.prototype.setupAutocompleteAria=function(){var a=this.$element.find("md-chips-wrap").find("md-autocomplete").find("input");this.inputAriaDescribedBy&&a.attr("aria-describedby",this.inputAriaDescribedBy);this.inputAriaLabelledBy&&(a.removeAttr("aria-label"),a.attr("aria-labelledby",this.inputAriaLabelledBy))};MdContactChipsCtrl.prototype.queryContact=function(a){return this.contactQuery({$query:a})};
MdContactChipsCtrl.prototype.inputKeydown=function(a){!this.separatorKeys||this.separatorKeys.indexOf(a.keyCode)<0||(a.stopPropagation(),a.preventDefault(),a=angular.element(a.target).controller("mdAutocomplete"),a.select(a.index))};MdContactChipsCtrl.prototype.itemName=function(a){return a[this.contactName]};MdContactChipsCtrl.prototype.$onDestroy=function(){for(var a;a=this.deRegister.pop();)a.call(this)};MdContactChips.$inject=["$mdTheming","$mdUtil"];
angular.module("material.components.chips").directive("mdContactChips",MdContactChips);
function MdContactChips(a,b){function d(c,e){return function(f,g,h,l){var m=l;b.initOptionalProperties(f,e);a(g);g.attr("tabindex","-1");h.$observe("mdChipAppendDelay",function(v){m.chipAppendDelay=v})}}return{template:function(){return'      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          ng-change="$mdContactChipsCtrl.ngChange($mdContactChipsCtrl.contacts)"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-chip-append-delay="{{$mdContactChipsCtrl.chipAppendDelay}}"          md-separator-keys="$mdContactChipsCtrl.separatorKeys"          md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.itemName(item)"              md-no-cache="true"              md-min-length="$mdContactChipsCtrl.minLength"              md-autoselect              ng-keydown="$mdContactChipsCtrl.inputKeydown($event)"              placeholder="{{$mdContactChipsCtrl.contacts.length === 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}"                  ng-if="item[$mdContactChipsCtrl.contactImage]" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText"                    md-highlight-flags="{{$mdContactChipsCtrl.highlightFlags}}">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}"                  ng-if="$chip[$mdContactChipsCtrl.contactImage]" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>'},restrict:"E",
controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:d,scope:{contactQuery:"&mdContacts",placeholder:"@?",secondaryPlaceholder:"@?",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",ngChange:"&?",requireMatch:"=?mdRequireMatch",minLength:"=?mdMinLength",highlightFlags:"@?mdHighlightFlags",chipAppendDelay:"@?mdChipAppendDelay",separatorKeys:"=?mdSeparatorKeys",removedMessage:"@?mdRemovedMessage",
inputAriaDescribedBy:"@?inputAriaDescribedby",inputAriaLabelledBy:"@?inputAriaLabelledby",inputAriaLabel:"@?",containerHint:"@?",containerEmptyHint:"@?",deleteHint:"@?"}}}ngmaterial.components.chips=angular.module("material.components.chips");(function(){function a(e,f,g){function h(r,x){try{x&&r.css(v(x))}catch(y){g.error(y.message)}}function l(r){r=q(r);return m(r)}function m(r,x){x=x||!1;var y=e.PALETTES[r.palette][r.hue];y=x?y.contrast:y.value;return f.supplant("rgba({0}, {1}, {2}, {3})",[y[0],y[1],y[2],y[3]||r.opacity])}function v(r){var x={},y=r.hasOwnProperty("color");angular.forEach(r,function(k,p){k=q(k);var t=p.indexOf("background")>-1;x[p]=m(k);t&&!y&&(x.color=m(k,!0))});return x}function n(r){return angular.isDefined(e.THEMES[r.split("-")[0]])}
function q(r){r=r.split("-");var x=angular.isDefined(e.THEMES[r[0]]);x=x?r.splice(0,1)[0]:e.defaultTheme();var y=r,k=x,p=y.length>1&&c.indexOf(y[1])!==-1;var t=y[0].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();p&&(t=y[0]+"-"+y.splice(1,1));if(c.indexOf(t)===-1){y=e.THEMES[k].colors[t];if(!y)throw Error(f.supplant("mdColors: couldn't find '{palette}' in the palettes.",{palette:t}));t=y.name}y=r;k=e.THEMES[x].colors;if(y[1]==="hue"){p=parseInt(y.splice(2,1)[0],10);if(p<1||p>3)throw Error(f.supplant("mdColors: 'hue-{hueNumber}' is not a valid hue, can be only 'hue-1', 'hue-2' and 'hue-3'",
{hueNumber:p}));y[1]="hue-"+p;if(!(y[0]in k))throw Error(f.supplant("mdColors: 'hue-x' can only be used with [{availableThemes}], but was used with '{usedTheme}'",{availableThemes:Object.keys(k).join(", "),usedTheme:y[0]}));y=k[y[0]].hues[y[1]]}else y=y[1]||k[y[0]in k?y[0]:"primary"].hues["default"];return{theme:x,palette:t,hue:y,opacity:r[2]||1}}c=c||Object.keys(e.PALETTES);return{applyThemeColors:h,getThemeColor:l,hasTheme:n}}function b(e,f,g,h){return{restrict:"A",require:["^?mdTheme"],compile:function(l,
m){function v(){var q=m.mdColors,r=q.indexOf("::")>-1,x=r?!0:d.test(m.mdColors);m.mdColors=q.replace("::","");q=angular.isDefined(m.mdColorsWatch);return r||x?!1:q?f.parseAttributeBoolean(m.mdColorsWatch):!0}var n=v();return function(q,r,x,y){var k=y[0],p={},t=function(w){typeof w!=="string"&&(w="");x.mdColors||(x.mdColors="{}");var B=h(x.mdColors)(q);k&&Object.keys(B).forEach(function(u){var z=B[u];e.hasTheme(z)||(B[u]=(w||k.$mdTheme)+"-"+z)});H(B);return B},H=function(w){if(!angular.equals(w,p)){var B=
Object.keys(p);p.background&&!B.color&&B.push("color");B.forEach(function(u){r.css(u,"")})}p=w},A=angular.noop;k&&(A=k.registerChanges(function(w){e.applyThemeColors(r,t(w))}));q.$on("$destroy",function(){A()});try{n?q.$watch(t,angular.bind(this,e.applyThemeColors,r),!0):e.applyThemeColors(r,t())}catch(w){g.error(w.message)}}}}}b.$inject=["$mdColors","$mdUtil","$log","$parse"];a.$inject=["$mdTheming","$mdUtil","$log"];var d=/^{((\s|,)*?["'a-zA-Z-]+?\s*?:\s*?('|")[a-zA-Z0-9-.]*('|"))+\s*}$/,c=null;
angular.module("material.components.colors",["material.core"]).directive("mdColors",b).service("$mdColors",a)})();ngmaterial.components.colors=angular.module("material.components.colors");mdContentDirective.$inject=["$mdTheming"];angular.module("material.components.content",["material.core"]).directive("mdContent",mdContentDirective);function mdContentDirective(a){function b(d,c){this.$scope=d;this.$element=c}return{restrict:"E",controller:["$scope","$element",b],link:function(d,c){c.addClass("_md");a(c);d.$broadcast("$mdContentLoaded",c);iosScrollFix(c[0])}}}
function iosScrollFix(a){angular.element(a).on("$md.pressdown",function(b){b.pointer.type!=="t"||b.$materialScrollFixed||(b.$materialScrollFixed=!0,a.scrollTop===0?a.scrollTop=1:a.scrollHeight===a.scrollTop+a.offsetHeight&&--a.scrollTop)})}ngmaterial.components.content=angular.module("material.components.content");angular.module("material.components.datepicker",["material.core","material.components.icon","material.components.virtualRepeat"]);
(function(){function a(){return{template:function(e,f){e=f.hasOwnProperty("ngIf")?"":'ng-if="calendarCtrl.isInitialized"';return e='<div ng-switch="calendarCtrl.currentView" '+e+'><md-calendar-year ng-switch-when="year"></md-calendar-year><md-calendar-month ng-switch-default></md-calendar-month></div>'},scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",dateFilter:"=mdDateFilter",_mode:"@mdMode",_currentView:"@mdCurrentView"},require:["ngModel","mdCalendar"],controller:b,controllerAs:"calendarCtrl",
bindToController:!0,link:function(e,f,g,h){e=h[0];h=h[1];h.configureNgModel(e)}}}function b(e,f,g,h,l,m,v,n,q){m(e);this.$element=e;this.$scope=f;this.dateUtil=g;this.$mdUtil=h;this.keyCode=l.KEY_CODE;this.$$rAF=v;this.$mdDateLocale=q;this.today=this.dateUtil.createDateAtMidnight();this.ngModelCtrl=null;this.SELECTED_DATE_CLASS="md-calendar-selected-date";this.TODAY_CLASS="md-calendar-date-today";this.FOCUSED_DATE_CLASS="md-focus";this.id=d++;this.lastRenderableDate=this.firstRenderableDate=this.selectedDate=
this.displayDate=null;this.isInitialized=!1;this.scrollbarWidth=this.width=0;n.tabindex||e.attr("tabindex","-1");var r=angular.bind(this,this.handleKeyEvent);var x=e.parent().hasClass("md-datepicker-calendar")?angular.element(document.body):e;x.on("keydown",r);f.$on("$destroy",function(){x.off("keydown",r)});angular.version.major===1&&angular.version.minor<=4&&this.$onInit()}b.$inject="$element $scope $$mdDateUtil $mdUtil $mdConstant $mdTheming $$rAF $attrs $mdDateLocale".split(" ");angular.module("material.components.datepicker").directive("mdCalendar",
a);var d=0,c={day:"month",month:"year"};b.prototype.$onInit=function(){this._mode&&c.hasOwnProperty(this._mode)?(this.currentView=c[this._mode],this.mode=this._mode):(this.currentView=this._currentView||"month",this.mode=null);var e=this.$mdDateLocale;this.firstRenderableDate=this.minDate&&this.minDate>e.firstRenderableDate?this.minDate:e.firstRenderableDate;this.lastRenderableDate=this.maxDate&&this.maxDate<e.lastRenderableDate?this.maxDate:e.lastRenderableDate};b.prototype.configureNgModel=function(e){var f=
this;f.ngModelCtrl=e;f.$mdUtil.nextTick(function(){f.isInitialized=!0});e.$render=function(){var g=this.$viewValue;f.$scope.$broadcast("md-calendar-parent-changed",g);f.selectedDate||(f.selectedDate=g);f.displayDate||(f.displayDate=f.selectedDate||f.today)}};b.prototype.setNgModelValue=function(e){e=this.dateUtil.createDateAtMidnight(e);this.focus(e);this.$scope.$emit("md-calendar-change",e);this.ngModelCtrl.$setViewValue(e);this.ngModelCtrl.$render();return e};b.prototype.setCurrentView=function(e,
f){var g=this;g.$mdUtil.nextTick(function(){g.currentView=e;f&&(g.displayDate=angular.isDate(f)?f:new Date(f))})};b.prototype.focus=function(e){if(this.dateUtil.isValidDate(e)){var f=this.$element[0].querySelector("."+this.FOCUSED_DATE_CLASS);f&&f.classList.remove(this.FOCUSED_DATE_CLASS);f=this.getDateId(e,this.currentView);if(f=document.getElementById(f))f.classList.add(this.FOCUSED_DATE_CLASS),f.focus(),this.displayDate=e}else(e=this.$element[0].querySelector("[ng-switch]"))&&e.focus()};b.prototype.changeSelectedDate=
function(e){var f=this.SELECTED_DATE_CLASS,g=this.$element[0].querySelector("."+f);g&&(g.classList.remove(f),g.setAttribute("aria-selected","false"));e&&(g=document.getElementById(this.getDateId(e,this.currentView)))&&(g.classList.add(f),g.setAttribute("aria-selected","true"));this.selectedDate=e};b.prototype.getActionFromKeyEvent=function(e){var f=this.keyCode;switch(e.which){case f.ENTER:return"select";case f.RIGHT_ARROW:return"move-right";case f.LEFT_ARROW:return"move-left";case f.DOWN_ARROW:return e.metaKey?
"move-page-down":"move-row-down";case f.UP_ARROW:return e.metaKey?"move-page-up":"move-row-up";case f.PAGE_DOWN:return"move-page-down";case f.PAGE_UP:return"move-page-up";case f.HOME:return"start";case f.END:return"end";default:return null}};b.prototype.handleKeyEvent=function(e){var f=this;this.$scope.$apply(function(){if(e.which==f.keyCode.ESCAPE||e.which==f.keyCode.TAB)f.$scope.$emit("md-calendar-close"),e.which==f.keyCode.TAB&&e.preventDefault();else{var g=f.getActionFromKeyEvent(e);g&&(e.preventDefault(),
e.stopPropagation(),f.$scope.$broadcast("md-calendar-parent-action",g))}})};b.prototype.hideVerticalScrollbar=function(e){function f(){var m=g.width||340,v=g.scrollbarWidth,n=e.calendarScroller;l.style.width=m+"px";n.style.width=m+v+"px";n.style.paddingRight=v+"px"}var g=this,h=e.$element[0],l=h.querySelector(".md-calendar-scroll-mask");g.width>0?f():g.$$rAF(function(){var m=e.calendarScroller;g.scrollbarWidth=m.offsetWidth-m.clientWidth;g.width=h.querySelector("table").offsetWidth;f()})};b.prototype.getDateId=
function(e,f){if(!f)throw Error("A namespace for the date id has to be specified.");return["md",this.id,f,e.getFullYear(),e.getMonth(),e.getDate()].join("-")};b.prototype.updateVirtualRepeat=function(){var e=this.$scope,f=e.$on("$md-resize-enable",function(){e.$$phase||e.$apply();f()})}})();
(function(){function a(){return{template:'<table aria-hidden="true" class="md-calendar-day-header"><thead></thead></table><div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container" md-offset-size="-220"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-month-body role="rowgroup" md-virtual-repeat="i in monthCtrl.items" md-month-offset="$index" class="md-calendar-month" md-start-index="monthCtrl.getSelectedMonthIndex()" md-item-size="265"><tr aria-hidden="true" md-force-height="\'265px\'"></tr></tbody></table></md-virtual-repeat-container></div>',require:["^^mdCalendar",
"mdCalendarMonth"],controller:b,controllerAs:"monthCtrl",bindToController:!0,link:function(d,c,e,f){d=f[0];f=f[1];f.initialize(d)}}}function b(d,c,e,f,g,h){this.$element=d;this.$scope=c;this.$animate=e;this.$q=f;this.dateUtil=g;this.dateLocale=h;this.calendarScroller=d[0].querySelector(".md-virtual-repeat-scroller");this.isMonthTransitionInProgress=this.isInitialized=!1;var l=this;this.cellClickHandler=function(){var m=g.getTimestampFromNode(this);l.$scope.$apply(function(){l.calendarCtrl.setNgModelValue(m)})};
this.headerClickHandler=function(){l.calendarCtrl.setCurrentView("year",g.getTimestampFromNode(this))}}b.$inject="$element $scope $animate $q $$mdDateUtil $mdDateLocale".split(" ");angular.module("material.components.datepicker").directive("mdCalendarMonth",a);b.prototype.initialize=function(d){this.items={length:this.dateUtil.getMonthDistance(d.firstRenderableDate,d.lastRenderableDate)+2};this.calendarCtrl=d;this.attachScopeListeners();d.updateVirtualRepeat();d.ngModelCtrl&&d.ngModelCtrl.$render()};
b.prototype.getSelectedMonthIndex=function(){var d=this.calendarCtrl;return this.dateUtil.getMonthDistance(d.firstRenderableDate,d.displayDate||d.selectedDate||d.today)};b.prototype.changeDisplayDate=function(d){if(!this.isInitialized)return this.buildWeekHeader(),this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(!this.dateUtil.isValidDate(d)||this.isMonthTransitionInProgress)return this.$q.when();this.isMonthTransitionInProgress=!0;var c=this.animateDateChange(d);
this.calendarCtrl.displayDate=d;var e=this;c.then(function(){e.isMonthTransitionInProgress=!1});return c};b.prototype.animateDateChange=function(d){this.dateUtil.isValidDate(d)&&(d=this.dateUtil.getMonthDistance(this.calendarCtrl.firstRenderableDate,d),this.calendarScroller.scrollTop=d*265);return this.$q.when()};b.prototype.buildWeekHeader=function(){for(var d=this.dateLocale.firstDayOfWeek,c=this.dateLocale.shortDays,e=document.createElement("tr"),f=0;f<7;f++){var g=document.createElement("th");
g.textContent=c[(f+d)%7];e.appendChild(g)}this.$element.find("thead").append(e)};b.prototype.attachScopeListeners=function(){var d=this;d.$scope.$on("md-calendar-parent-changed",function(c,e){d.calendarCtrl.changeSelectedDate(e);d.changeDisplayDate(e)});d.$scope.$on("md-calendar-parent-action",angular.bind(this,this.handleKeyEvent))};b.prototype.handleKeyEvent=function(d,c){var e=this.calendarCtrl;d=e.displayDate;if(c==="select")e.setNgModelValue(d);else{var f=null,g=this.dateUtil;switch(c){case "move-right":f=
g.incrementDays(d,1);break;case "move-left":f=g.incrementDays(d,-1);break;case "move-page-down":f=g.incrementMonths(d,1);break;case "move-page-up":f=g.incrementMonths(d,-1);break;case "move-row-down":f=g.incrementDays(d,7);break;case "move-row-up":f=g.incrementDays(d,-7);break;case "start":f=g.getFirstDateOfMonth(d);break;case "end":f=g.getLastDateOfMonth(d)}f&&(f=this.dateUtil.clampDate(f,e.minDate,e.maxDate),this.changeDisplayDate(f).then(function(){e.focus(f)}))}}})();
(function(){function a(d,c){var e=d('<md-icon md-svg-src="'+c.mdTabsArrow+'"></md-icon>')({})[0];return{require:["^^mdCalendar","^^mdCalendarMonth","mdCalendarMonthBody"],scope:{offset:"=mdMonthOffset"},controller:b,controllerAs:"mdMonthBodyCtrl",bindToController:!0,link:function(f,g,h,l){g=l[0];h=l[1];var m=l[2];m.calendarCtrl=g;m.monthCtrl=h;m.arrowIcon=e.cloneNode(!0);f.$watch(function(){return m.offset},function(v){angular.isNumber(v)&&m.generateContent()})}}}function b(d,c,e){this.$element=d;
this.dateUtil=c;this.dateLocale=e;this.focusAfterAppend=this.offset=this.calendarCtrl=this.monthCtrl=null}a.$inject=["$compile","$$mdSvgRegistry"];b.$inject=["$element","$$mdDateUtil","$mdDateLocale"];angular.module("material.components.datepicker").directive("mdCalendarMonthBody",a);b.prototype.generateContent=function(){var d=this.dateUtil.incrementMonths(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForMonth(d));this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),
this.focusAfterAppend.focus(),this.focusAfterAppend=null)};b.prototype.buildDateCell=function(d){var c=this.monthCtrl,e=this.calendarCtrl,f=document.createElement("td");f.tabIndex=-1;f.classList.add("md-calendar-date");f.setAttribute("role","gridcell");if(d){f.setAttribute("tabindex","-1");f.setAttribute("aria-label",this.dateLocale.longDateFormatter(d));f.id=e.getDateId(d,"month");f.setAttribute("data-timestamp",d.getTime());this.dateUtil.isSameDay(d,e.today)&&f.classList.add(e.TODAY_CLASS);this.dateUtil.isValidDate(e.selectedDate)&&
this.dateUtil.isSameDay(d,e.selectedDate)&&(f.classList.add(e.SELECTED_DATE_CLASS),f.setAttribute("aria-selected","true"));var g=this.dateLocale.dates[d.getDate()];if(this.isDateEnabled(d)){var h=document.createElement("span");h.classList.add("md-calendar-date-selection-indicator");h.textContent=g;f.appendChild(h);f.addEventListener("click",c.cellClickHandler);e.displayDate&&this.dateUtil.isSameDay(d,e.displayDate)&&(this.focusAfterAppend=f)}else f.classList.add("md-calendar-date-disabled"),f.textContent=
g}return f};b.prototype.isDateEnabled=function(d){return this.dateUtil.isDateWithinRange(d,this.calendarCtrl.minDate,this.calendarCtrl.maxDate)&&(!angular.isFunction(this.calendarCtrl.dateFilter)||this.calendarCtrl.dateFilter(d))};b.prototype.buildDateRow=function(d){var c=document.createElement("tr");c.setAttribute("role","row");c.setAttribute("aria-label",this.dateLocale.weekNumberFormatter(d));return c};b.prototype.buildCalendarForMonth=function(d){var c=this.dateUtil.isValidDate(d)?d:new Date,
e=this.dateUtil.getFirstDateOfMonth(c),f=this.getLocaleDay_(e),g=this.dateUtil.getNumberOfDaysInMonth(c);d=document.createDocumentFragment();var h=1,l=this.buildDateRow(h);d.appendChild(l);var m=this.offset===this.monthCtrl.items.length-1,v=0,n=document.createElement("td"),q=document.createElement("span"),r=this.calendarCtrl;q.textContent=this.dateLocale.monthHeaderFormatter(c);n.appendChild(q);n.classList.add("md-calendar-month-label");r.maxDate&&e>r.maxDate?n.classList.add("md-calendar-month-label-disabled"):
r.mode||(n.addEventListener("click",this.monthCtrl.headerClickHandler),n.setAttribute("data-timestamp",e.getTime()),n.setAttribute("aria-label",this.dateLocale.monthFormatter(c)),n.classList.add("md-calendar-label-clickable"),n.appendChild(this.arrowIcon.cloneNode(!0)));if(f<=2){if(n.setAttribute("colspan","7"),c=this.buildDateRow(),c.appendChild(n),d.insertBefore(c,l),m)return d}else v=3,n.setAttribute("colspan","3"),l.appendChild(n);for(;v<f;v++)l.appendChild(this.buildDateCell());for(v=1;v<=g;v++){if(f===
7){if(m)return d;f=0;h++;l=this.buildDateRow(h);d.appendChild(l)}e.setDate(v);n=this.buildDateCell(e);l.appendChild(n);f++}for(;l.childNodes.length<7;)l.appendChild(this.buildDateCell());for(;d.childNodes.length<6;){g=this.buildDateRow();for(h=0;h<7;h++)g.appendChild(this.buildDateCell());d.appendChild(g)}return d};b.prototype.getLocaleDay_=function(d){return(d.getDay()+(7-this.dateLocale.firstDayOfWeek))%7}})();
(function(){function a(){return{template:'<div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-year-body role="rowgroup" md-virtual-repeat="i in yearCtrl.items" md-year-offset="$index" class="md-calendar-year" md-start-index="yearCtrl.getFocusedYearIndex()" md-item-size="'+d+'"><tr aria-hidden="true" md-force-height="\''+d+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",
require:["^^mdCalendar","mdCalendarYear"],controller:b,controllerAs:"yearCtrl",bindToController:!0,link:function(c,e,f,g){c=g[0];g=g[1];g.initialize(c)}}}function b(c,e,f,g,h,l){this.$element=c;this.$scope=e;this.$animate=f;this.$q=g;this.dateUtil=h;this.calendarScroller=c[0].querySelector(".md-virtual-repeat-scroller");this.isMonthTransitionInProgress=this.isInitialized=!1;this.$mdUtil=l;var m=this;this.cellClickHandler=function(){m.onTimestampSelected(h.getTimestampFromNode(this))}}b.$inject="$element $scope $animate $q $$mdDateUtil $mdUtil".split(" ");
angular.module("material.components.datepicker").directive("mdCalendarYear",a);var d=88;b.prototype.initialize=function(c){this.items={length:this.dateUtil.getYearDistance(c.firstRenderableDate,c.lastRenderableDate)+1};this.calendarCtrl=c;this.attachScopeListeners();c.updateVirtualRepeat();c.ngModelCtrl&&c.ngModelCtrl.$render()};b.prototype.getFocusedYearIndex=function(){var c=this.calendarCtrl;return this.dateUtil.getYearDistance(c.firstRenderableDate,c.displayDate||c.selectedDate||c.today)};b.prototype.changeDate=
function(c){if(!this.isInitialized)return this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(this.dateUtil.isValidDate(c)&&!this.isMonthTransitionInProgress){var e=this,f=this.animateDateChange(c);e.isMonthTransitionInProgress=!0;e.calendarCtrl.displayDate=c;return f.then(function(){e.isMonthTransitionInProgress=!1})}};b.prototype.animateDateChange=function(c){this.dateUtil.isValidDate(c)&&(c=this.dateUtil.getYearDistance(this.calendarCtrl.firstRenderableDate,c),
this.calendarScroller.scrollTop=c*d);return this.$q.when()};b.prototype.handleKeyEvent=function(c,e){var f=this,g=f.calendarCtrl,h=g.displayDate;if(e==="select")f.changeDate(h).then(function(){f.onTimestampSelected(h)});else{var l=null;c=f.dateUtil;switch(e){case "move-right":l=c.incrementMonths(h,1);break;case "move-left":l=c.incrementMonths(h,-1);break;case "move-row-down":l=c.incrementMonths(h,6);break;case "move-row-up":l=c.incrementMonths(h,-6)}if(l){e=g.minDate?c.getFirstDateOfMonth(g.minDate):
null;var m=g.maxDate?c.getFirstDateOfMonth(g.maxDate):null;l=c.getFirstDateOfMonth(f.dateUtil.clampDate(l,e,m));f.changeDate(l).then(function(){g.focus(l)})}}};b.prototype.attachScopeListeners=function(){var c=this;c.$scope.$on("md-calendar-parent-changed",function(e,f){c.calendarCtrl.changeSelectedDate(f?c.dateUtil.getFirstDateOfMonth(f):f);c.changeDate(f)});c.$scope.$on("md-calendar-parent-action",angular.bind(c,c.handleKeyEvent))};b.prototype.onTimestampSelected=function(c){var e=this.calendarCtrl;
e.mode?this.$mdUtil.nextTick(function(){e.setNgModelValue(c)}):e.setCurrentView("month",c)}})();
(function(){function a(){return{require:["^^mdCalendar","^^mdCalendarYear","mdCalendarYearBody"],scope:{offset:"=mdYearOffset"},controller:b,controllerAs:"mdYearBodyCtrl",bindToController:!0,link:function(d,c,e,f){c=f[0];e=f[1];var g=f[2];g.calendarCtrl=c;g.yearCtrl=e;d.$watch(function(){return g.offset},function(h){angular.isNumber(h)&&g.generateContent()})}}}function b(d,c,e){this.$element=d;this.dateUtil=c;this.dateLocale=e;this.focusAfterAppend=this.offset=this.yearCtrl=this.calendarCtrl=null}
b.$inject=["$element","$$mdDateUtil","$mdDateLocale"];angular.module("material.components.datepicker").directive("mdCalendarYearBody",a);b.prototype.generateContent=function(){var d=this.dateUtil.incrementYears(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForYear(d));this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)};b.prototype.buildMonthCell=
function(d,c){var e=this.calendarCtrl,f=this.yearCtrl,g=this.buildBlankCell();d=new Date(d,c,1);g.setAttribute("aria-label",this.dateLocale.monthFormatter(d));g.id=e.getDateId(d,"year");g.setAttribute("data-timestamp",String(d.getTime()));this.dateUtil.isSameMonthAndYear(d,e.today)&&g.classList.add(e.TODAY_CLASS);this.dateUtil.isValidDate(e.selectedDate)&&this.dateUtil.isSameMonthAndYear(d,e.selectedDate)&&(g.classList.add(e.SELECTED_DATE_CLASS),g.setAttribute("aria-selected","true"));c=this.dateLocale.shortMonths[c];
if(!this.dateUtil.isMonthWithinRange(d,e.minDate,e.maxDate)||angular.isFunction(this.calendarCtrl.dateFilter)&&!this.calendarCtrl.dateFilter(d))g.classList.add("md-calendar-date-disabled"),g.textContent=c;else{var h=document.createElement("span");h.classList.add("md-calendar-date-selection-indicator");h.textContent=c;g.appendChild(h);g.addEventListener("click",f.cellClickHandler);e.displayDate&&this.dateUtil.isSameMonthAndYear(d,e.displayDate)&&(this.focusAfterAppend=g)}return g};b.prototype.buildBlankCell=
function(){var d=document.createElement("td");d.tabIndex=-1;d.classList.add("md-calendar-date");d.setAttribute("role","gridcell");d.setAttribute("tabindex","-1");return d};b.prototype.buildCalendarForYear=function(d){d=d.getFullYear();var c=document.createDocumentFragment(),e=document.createElement("tr");var f=document.createElement("td");f.className="md-calendar-month-label";f.textContent=d;e.appendChild(f);for(f=0;f<6;f++)e.appendChild(this.buildMonthCell(d,f));c.appendChild(e);e=document.createElement("tr");
e.appendChild(this.buildBlankCell());for(f=6;f<12;f++)e.appendChild(this.buildMonthCell(d,f));c.appendChild(e);return c}})();
angular.module("material.components.datepicker").config(["$provide",function(a){function b(){this.dates=this.shortDays=this.days=this.shortMonths=this.months=null;this.firstDayOfWeek=0;this.isDateComplete=this.longDateFormatter=this.weekNumberFormatter=this.monthHeaderFormatter=this.parseDate=this.formatDate=null;this.msgOpenCalendar=this.msgCalendar=""}b.prototype.$get=function(d,c){function e(k,p){if(!k)return"";var t=k.toLocaleTimeString(),H=k;k.getHours()!==0||t.indexOf("11:")===-1&&t.indexOf("23:")===
-1||(H=new Date(k.getFullYear(),k.getMonth(),k.getDate(),1,0,0));return c("date")(H,"M/d/yyyy",p)}function f(k){return new Date(k)}function g(k){k=k.trim();var p=/^(([a-zA-Z]{3,}|[0-9]{1,4})([ .,]+|[/-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/;return p.test(k)}function h(k){return y.shortMonths[k.getMonth()]+" "+k.getFullYear()}function l(k){return y.months[k.getMonth()]+" "+k.getFullYear()}function m(k){return"Week "+k}function v(k){return[y.days[k.getDay()],y.months[k.getMonth()],y.dates[k.getDate()],k.getFullYear()].join(" ")}
for(var n=d.DATETIME_FORMATS.SHORTDAY.map(function(k){return k.substring(0,1)}),q=Array(32),r=1;r<=31;r++)q[r]=r;r=new Date(1880,0,1);var x=new Date(r.getFullYear()+250,0,1),y={months:this.months||d.DATETIME_FORMATS.MONTH,shortMonths:this.shortMonths||d.DATETIME_FORMATS.SHORTMONTH,days:this.days||d.DATETIME_FORMATS.DAY,shortDays:this.shortDays||n,dates:this.dates||q,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:this.formatDate||e,parseDate:this.parseDate||f,isDateComplete:this.isDateComplete||
g,monthHeaderFormatter:this.monthHeaderFormatter||h,monthFormatter:this.monthFormatter||l,weekNumberFormatter:this.weekNumberFormatter||m,longDateFormatter:this.longDateFormatter||v,msgCalendar:this.msgCalendar||"Calendar",msgOpenCalendar:this.msgOpenCalendar||"Open calendar",firstRenderableDate:this.firstRenderableDate||r,lastRenderableDate:this.lastRenderableDate||x};return y};b.prototype.$get.$inject=["$locale","$filter"];a.provider("$mdDateLocale",new b)}]);
angular.module("material.components.datepicker").factory("$$mdDateUtil",function(){function a(u){return new Date(u.getFullYear(),u.getMonth(),1)}function b(u){return(new Date(u.getFullYear(),u.getMonth()+1,0)).getDate()}function d(u){return new Date(u.getFullYear(),u.getMonth()+1,1)}function c(u){return new Date(u.getFullYear(),u.getMonth()-1,1)}function e(u,z){return u.getFullYear()===z.getFullYear()&&u.getMonth()===z.getMonth()}function f(u,z){return u.getDate()==z.getDate()&&e(u,z)}function g(u,
z){u=d(u);return e(u,z)}function h(u,z){u=c(u);return e(z,u)}function l(u,z){return k((u.getTime()+z.getTime())/2)}function m(u){var z=a(u);return Math.floor((z.getDay()+u.getDate()-1)/7)}function v(u,z){return new Date(u.getFullYear(),u.getMonth(),u.getDate()+z)}function n(u,z){z=new Date(u.getFullYear(),u.getMonth()+z,1);var D=b(z);D<u.getDate()?z.setDate(D):z.setDate(u.getDate());return z}function q(u,z){return 12*(z.getFullYear()-u.getFullYear())+(z.getMonth()-u.getMonth())}function r(u){return new Date(u.getFullYear(),
u.getMonth(),b(u))}function x(u){return u&&u.getTime&&!isNaN(u.getTime())}function y(u){x(u)&&u.setHours(0,0,0,0)}function k(u){u=angular.isUndefined(u)?new Date:new Date(u);y(u);return u}function p(u,z,D){u=k(u);z=x(z)?k(z):null;D=x(D)?k(D):null;return(!z||z<=u)&&(!D||D>=u)}function t(u,z){return n(u,z*12)}function H(u,z){return z.getFullYear()-u.getFullYear()}function A(u,z,D){var G=u;z&&u<z&&(G=new Date(z.getTime()));D&&u>D&&(G=new Date(D.getTime()));return G}function w(u){if(u&&u.hasAttribute("data-timestamp"))return Number(u.getAttribute("data-timestamp"))}
function B(u,z,D){var G=u.getMonth();u=u.getFullYear();return(!z||z.getFullYear()<u||z.getMonth()<=G)&&(!D||D.getFullYear()>u||D.getMonth()>=G)}return{getFirstDateOfMonth:a,getNumberOfDaysInMonth:b,getDateInNextMonth:d,getDateInPreviousMonth:c,isInNextMonth:g,isInPreviousMonth:h,getDateMidpoint:l,isSameMonthAndYear:e,getWeekOfMonth:m,incrementDays:v,incrementMonths:n,getLastDateOfMonth:r,isSameDay:f,getMonthDistance:q,isValidDate:x,setDateTimeToMidnight:y,createDateAtMidnight:k,isDateWithinRange:p,
incrementYears:t,getYearDistance:H,clampDate:A,getTimestampFromNode:w,isMonthWithinRange:B}});
(function(){function a(c,e,f,g){return{template:function(h,l){var m=l.mdHideIcons;l=l.ariaLabel||l.mdPlaceholder;var v=m==="all"||m==="calendar"?"":'<md-button class="md-datepicker-button md-icon-button" type="button" tabindex="-1" aria-hidden="true" ng-click="ctrl.openCalendarPane($event)"><md-icon class="md-datepicker-calendar-icon" aria-label="md-calendar" md-svg-src="'+c.mdCalendar+'"></md-icon></md-button>',n="";m!=="all"&&m!=="triangle"&&(n='<md-button type="button" md-no-ink class="md-datepicker-triangle-button md-icon-button" ng-click="ctrl.openCalendarPane($event)" aria-label="{{::ctrl.locale.msgOpenCalendar}}"><div class="md-datepicker-expand-triangle"></div></md-button>',
h.addClass("_md-datepicker-has-triangle-icon"));return v+'<div class="md-datepicker-input-container" ng-class="{\'md-datepicker-focused\': ctrl.isFocused}"><input '+(l?'aria-label="'+l+'" ':"")+'class="md-datepicker-input" aria-haspopup="dialog" ng-focus="ctrl.setFocused(true)" ng-blur="ctrl.setFocused(false)"> '+n+'</div><div class="md-datepicker-calendar-pane md-whiteframe-z1" id="{{::ctrl.calendarPaneId}}"><div class="md-datepicker-input-mask"><div class="md-datepicker-input-mask-opaque"></div></div><div class="md-datepicker-calendar"><md-calendar role="dialog" aria-label="{{::ctrl.locale.msgCalendar}}" md-current-view="{{::ctrl.currentView}}" md-mode="{{::ctrl.mode}}" md-min-date="ctrl.minDate" md-max-date="ctrl.maxDate" md-date-filter="ctrl.dateFilter" ng-model="ctrl.date" ng-if="ctrl.isCalendarOpen"></md-calendar></div></div>'},
require:["ngModel","mdDatepicker","?^mdInputContainer","?^form"],scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",placeholder:"@mdPlaceholder",currentView:"@mdCurrentView",mode:"@mdMode",dateFilter:"=mdDateFilter",isOpen:"=?mdIsOpen",debounceInterval:"=mdDebounceInterval",dateLocale:"=mdDateLocale"},controller:b,controllerAs:"ctrl",bindToController:!0,link:function(h,l,m,v){var n=v[0],q=v[1],r=v[2],x=v[3];v=e.parseAttributeBoolean(m.mdNoAsterisk);q.configureNgModel(n,r,g);if(r){var y=l[0].querySelector(".md-errors-spacer");
y&&l.after(angular.element("<div>").append(y));r.setHasPlaceholder(m.mdPlaceholder);r.input=l;r.element.addClass("_md-datepicker-floating-label").toggleClass("_md-datepicker-has-calendar-icon",m.mdHideIcons!=="calendar"&&m.mdHideIcons!=="all");r.label?v||m.$observe("required",function(p){r.label.toggleClass("md-required",!!p)}):f.expect(l,"aria-label",m.mdPlaceholder);h.$watch(r.isErrorGetter||function(){return n.$invalid&&(n.$touched||x&&x.$submitted)},r.setInvalid)}else if(x)var k=h.$watch(function(){return x.$submitted},
function(p){p&&(q.updateErrorState(),k())})}}}function b(c,e,f,g,h,l,m,v,n,q,r,x){this.$window=g;this.dateUtil=n;this.$mdConstant=h;this.$mdUtil=m;this.$$rAF=q;this.$mdDateLocale=v;this.$timeout=x;this.documentElement=angular.element(document.documentElement);this.ngModelCtrl=null;this.inputElement=e[0].querySelector("input");this.ngInputElement=angular.element(this.inputElement);this.inputContainer=e[0].querySelector(".md-datepicker-input-container");this.calendarPane=e[0].querySelector(".md-datepicker-calendar-pane");
this.calendarButton=e[0].querySelector(".md-datepicker-button");this.inputMask=angular.element(e[0].querySelector(".md-datepicker-input-mask-opaque"));this.$element=e;this.$attrs=f;this.$scope=c;this.date=null;this.isFocused=!1;this.isDisabled=void 0;this.setDisabled(e[0].disabled||angular.isString(f.disabled));this.isCalendarOpen=!1;this.openOnFocus=f.hasOwnProperty("mdOpenOnFocus");this.calendarPaneOpenedFrom=this.mdInputContainer=null;this.calendarPaneId="md-date-pane-"+m.nextUid();this.bodyClickHandler=
angular.bind(this,this.handleBodyClick);this.windowEventName=d.test(navigator.userAgent||navigator.vendor||window.opera)?"orientationchange":"resize";this.windowEventHandler=m.debounce(angular.bind(this,this.closeCalendarPane),100);this.windowBlurHandler=angular.bind(this,this.handleWindowBlur);this.ngDateFilter=r("date");this.leftMargin=20;this.topMargin=null;f.tabindex?(this.ngInputElement.attr("tabindex",f.tabindex),f.$set("tabindex",null)):f.$set("tabindex","-1");f.$set("aria-owns",this.calendarPaneId);
l(e);l(angular.element(this.calendarPane));var y=this;c.$on("$destroy",function(){y.detachCalendarPane()});f.mdIsOpen&&c.$watch("ctrl.isOpen",function(k){k?y.openCalendarPane({target:y.inputElement}):y.closeCalendarPane()});angular.version.major===1&&angular.version.minor<=4&&this.$onInit()}b.$inject="$scope $element $attrs $window $mdConstant $mdTheming $mdUtil $mdDateLocale $$mdDateUtil $$rAF $filter $timeout".split(" ");a.$inject=["$$mdSvgRegistry","$mdUtil","$mdAria","inputDirective"];angular.module("material.components.datepicker").directive("mdDatepicker",
a);var d=/ipad|iphone|ipod|android/i;b.prototype.$onInit=function(){this.locale=this.dateLocale?angular.extend({},this.$mdDateLocale,this.dateLocale):this.$mdDateLocale;this.installPropertyInterceptors();this.attachChangeListeners();this.attachInteractionListeners()};b.prototype.configureNgModel=function(c,e,f){this.ngModelCtrl=c;this.mdInputContainer=e;this.$attrs.$set("type","date");f[0].link.pre(this.$scope,{on:angular.noop,val:angular.noop,0:{}},this.$attrs,[c]);var g=this;g.ngModelCtrl.$formatters.push(function(h){angular.isDefined(h);
if(!(h instanceof Date)){var l=Date.parse(h);!isNaN(l)&&angular.isNumber(l)&&(h=new Date(l));if(h&&!(h instanceof Date))throw Error("The ng-model for md-datepicker must be a Date instance or a value that can be parsed into a date. Currently the model is of type: "+typeof h);}g.onExternalChange(h);return h});c.$viewChangeListeners.unshift(angular.bind(this,this.updateErrorState));if(c=g.$mdUtil.getModelOption(c,"updateOn"))this.ngInputElement.on(c,angular.bind(this.$element,this.$element.triggerHandler,
c))};b.prototype.attachChangeListeners=function(){var c=this;c.$scope.$on("md-calendar-change",function(f,g){c.setModelValue(g);c.onExternalChange(g);c.closeCalendarPane()});c.ngInputElement.on("input",angular.bind(c,c.resizeInputElement));var e=angular.isDefined(this.debounceInterval)?this.debounceInterval:500;c.ngInputElement.on("input",c.$mdUtil.debounce(c.handleInputEvent,e,c))};b.prototype.attachInteractionListeners=function(){var c=this,e=this.$scope,f=this.$mdConstant.KEY_CODE;c.ngInputElement.on("keydown",
function(g){g.altKey&&g.keyCode===f.DOWN_ARROW&&(c.openCalendarPane(g),e.$digest())});c.openOnFocus&&(c.ngInputElement.on("focus",angular.bind(c,c.openCalendarPane)),c.ngInputElement.on("click",function(g){g.stopPropagation()}),c.ngInputElement.on("pointerdown",function(g){g.target&&g.target.setPointerCapture&&g.target.setPointerCapture(g.pointerId)}),angular.element(c.$window).on("blur",c.windowBlurHandler),e.$on("$destroy",function(){angular.element(c.$window).off("blur",c.windowBlurHandler)}));
e.$on("md-calendar-close",function(){c.closeCalendarPane()})};b.prototype.installPropertyInterceptors=function(){var c=this;if(this.$attrs.ngDisabled){var e=this.$scope.$parent;e&&e.$watch(this.$attrs.ngDisabled,function(f){c.setDisabled(f)})}Object.defineProperty(this,"placeholder",{get:function(){return c.inputElement.placeholder},set:function(f){c.inputElement.placeholder=f||""}})};b.prototype.setDisabled=function(c){this.isDisabled=c;this.inputElement.disabled=c;this.calendarButton&&(this.calendarButton.disabled=
c)};b.prototype.updateErrorState=function(c){c=c||this.date;this.clearErrorState();if(this.dateUtil.isValidDate(c)){c=this.dateUtil.createDateAtMidnight(c);if(this.dateUtil.isValidDate(this.minDate)){var e=this.dateUtil.createDateAtMidnight(this.minDate);this.ngModelCtrl.$setValidity("mindate",c>=e)}this.dateUtil.isValidDate(this.maxDate)&&(e=this.dateUtil.createDateAtMidnight(this.maxDate),this.ngModelCtrl.$setValidity("maxdate",c<=e));angular.isFunction(this.dateFilter)&&this.ngModelCtrl.$setValidity("filtered",
this.dateFilter(c))}else this.ngModelCtrl.$setValidity("valid",c==null);e=this.inputElement.value;var f=this.locale.parseDate(e);!this.isInputValid(e,f)&&this.ngModelCtrl.$valid&&this.ngModelCtrl.$setValidity("valid",c==null);angular.element(this.inputContainer).toggleClass("md-datepicker-invalid",!this.ngModelCtrl.$valid)};b.prototype.isInputValid=function(c,e){return c===""||this.dateUtil.isValidDate(e)&&this.locale.isDateComplete(c)&&this.isDateEnabled(e)};b.prototype.clearErrorState=function(){this.inputContainer.classList.remove("md-datepicker-invalid");
["mindate","maxdate","filtered","valid"].forEach(function(c){this.ngModelCtrl.$setValidity(c,!0)},this)};b.prototype.resizeInputElement=function(){this.inputElement.size=this.inputElement.value.length+3};b.prototype.handleInputEvent=function(){var c=this.inputElement.value,e=c?this.locale.parseDate(c):null;this.dateUtil.setDateTimeToMidnight(e);if(c=this.isInputValid(c,e))this.setModelValue(e),this.date=e;this.updateErrorState(e)};b.prototype.isDateEnabled=function(c){return this.dateUtil.isDateWithinRange(c,
this.minDate,this.maxDate)&&(!angular.isFunction(this.dateFilter)||this.dateFilter(c))};b.prototype.attachCalendarPane=function(){var c=this.calendarPane,e=document.body;c.style.transform="";this.$element.addClass("md-datepicker-open");this.mdInputContainer&&this.mdInputContainer.element.addClass("md-datepicker-open");angular.element(e).addClass("md-datepicker-is-showing");var f=this.inputContainer.getBoundingClientRect(),g=e.getBoundingClientRect();if(!this.topMargin||this.topMargin<0)this.topMargin=
(this.inputMask.parent().prop("clientHeight")-this.ngInputElement.prop("clientHeight"))/2;e=f.top-g.top-this.topMargin;var h=f.left-g.left-this.leftMargin,l=g.top<0&&document.body.scrollTop==0?-g.top:document.body.scrollTop,m=g.left<0&&document.body.scrollLeft==0?-g.left:document.body.scrollLeft;g=l+this.$window.innerHeight;var v=m+this.$window.innerWidth;this.inputMask.css({position:"absolute",left:this.leftMargin+"px",top:this.topMargin+"px",width:f.width-1+"px",height:f.height-2+"px"});h+360>v&&
(v-360>0?h=v-360:(h=m,f=this.$window.innerWidth/360,c.style.transform="scale("+f+")"),c.classList.add("md-datepicker-pos-adjusted"));e+368>g&&g-368>l&&(e=g-368,c.classList.add("md-datepicker-pos-adjusted"));c.style.left=h+"px";c.style.top=e+"px";document.body.appendChild(c);this.$$rAF(function(){c.classList.add("md-pane-open")})};b.prototype.detachCalendarPane=function(){this.$element.removeClass("md-datepicker-open");this.mdInputContainer&&this.mdInputContainer.element.removeClass("md-datepicker-open");
angular.element(document.body).removeClass("md-datepicker-is-showing");this.calendarPane.classList.remove("md-pane-open");this.calendarPane.classList.remove("md-datepicker-pos-adjusted");this.isCalendarOpen&&this.$mdUtil.enableScrolling();this.calendarPane.parentNode&&this.calendarPane.parentNode.removeChild(this.calendarPane)};b.prototype.openCalendarPane=function(c){if(!this.isCalendarOpen&&!this.isDisabled&&!this.inputFocusedOnWindowBlur){this.isCalendarOpen=this.isOpen=!0;this.calendarPaneOpenedFrom=
c.target;this.$mdUtil.disableScrollAround(this.calendarPane);this.attachCalendarPane();this.focusCalendar();this.evalAttr("ngFocus");var e=this;this.$mdUtil.nextTick(function(){e.documentElement.on("click touchstart",e.bodyClickHandler)},!1);window.addEventListener(this.windowEventName,this.windowEventHandler)}};b.prototype.closeCalendarPane=function(){function c(){e.isCalendarOpen=e.isOpen=!1}if(this.isCalendarOpen){var e=this;e.detachCalendarPane();e.ngModelCtrl.$setTouched();e.evalAttr("ngBlur");
e.documentElement.off("click touchstart",e.bodyClickHandler);window.removeEventListener(e.windowEventName,e.windowEventHandler);e.calendarPaneOpenedFrom.focus();e.calendarPaneOpenedFrom=null;e.openOnFocus?e.$timeout(c):c()}};b.prototype.getCalendarCtrl=function(){return angular.element(this.calendarPane.querySelector("md-calendar")).controller("mdCalendar")};b.prototype.focusCalendar=function(){var c=this;this.$mdUtil.nextTick(function(){c.getCalendarCtrl().focus()},!1)};b.prototype.setFocused=function(c){c||
this.ngModelCtrl.$setTouched();this.openOnFocus||this.evalAttr(c?"ngFocus":"ngBlur");this.isFocused=c};b.prototype.handleBodyClick=function(c){this.isCalendarOpen&&((c=this.$mdUtil.getClosest(c.target,"md-calendar"))||this.closeCalendarPane(),this.$scope.$digest())};b.prototype.handleWindowBlur=function(){this.inputFocusedOnWindowBlur=document.activeElement===this.inputElement};b.prototype.evalAttr=function(c){this.$attrs[c]&&this.$scope.$parent.$eval(this.$attrs[c])};b.prototype.setModelValue=function(c){var e=
this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.ngModelCtrl.$setViewValue(this.ngDateFilter(c,"yyyy-MM-dd",e))};b.prototype.onExternalChange=function(c){var e=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.date=c;this.inputElement.value=this.locale.formatDate(c,e);this.mdInputContainer&&this.mdInputContainer.setHasValue(!!c);this.resizeInputElement();this.updateErrorState()}})();ngmaterial.components.datepicker=angular.module("material.components.datepicker");MdDialogDirective.$inject=["$$rAF","$mdTheming","$mdDialog"];MdDialogProvider.$inject=["$$interimElementProvider"];angular.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",MdDialogDirective).provider("$mdDialog",MdDialogProvider);
function MdDialogDirective(a,b,d){return{restrict:"E",link:function(c,e){e.addClass("_md");b(e);a(function(){function f(){e.toggleClass("md-content-overflow",g.scrollHeight>g.clientHeight)}var g=e[0].querySelector("md-dialog-content");if(g){var h=g.getElementsByTagName("img");f();angular.element(h).on("load",f)}c.$on("$destroy",function(){d.destroy(e)})})}}}
function MdDialogProvider(a){function b(){return{template:'<md-dialog md-theme="{{ dialog.theme || dialog.defaultTheme }}" aria-label="{{ dialog.ariaLabel }}" ng-class="dialog.css">  <md-dialog-content class="md-dialog-content" role="document" tabIndex="-1">    <h2 class="md-title">{{ dialog.title }}</h2>    <div ng-if="::dialog.mdHtmlContent" class="md-dialog-content-body"         ng-bind-html="::dialog.mdHtmlContent"></div>    <div ng-if="::!dialog.mdHtmlContent" class="md-dialog-content-body">      <p>{{::dialog.mdTextContent}}</p>    </div>    <md-input-container md-no-float ng-if="::dialog.$type == \'prompt\'" class="md-prompt-input-container">      <input ng-keypress="dialog.keypress($event)" md-autofocus ng-model="dialog.result"              placeholder="{{::dialog.placeholder}}" ng-required="dialog.required">    </md-input-container>  </md-dialog-content>  <md-dialog-actions>    <md-button ng-if="dialog.$type === \'confirm\' || dialog.$type === \'prompt\'"               ng-click="dialog.abort()" class="md-primary md-cancel-button">      {{ dialog.cancel }}    </md-button>    <md-button ng-click="dialog.hide()" class="md-primary md-confirm-button" md-autofocus="dialog.$type===\'alert\'"               ng-disabled="dialog.required && !dialog.result">      {{ dialog.ok }}    </md-button>  </md-dialog-actions></md-dialog>'.replace(/\s\s+/g,""),
controller:d,controllerAs:"dialog",bindToController:!0}}function d(g,h){this.$onInit=function(){var l=this.$type=="prompt";l&&this.initialValue&&(this.result=this.initialValue);this.hide=function(){g.hide(l?this.result:!0)};this.abort=function(){g.cancel()};this.keypress=function(m){var v=l&&this.required&&!angular.isDefined(this.result);m.keyCode!==h.KEY_CODE.ENTER||v||g.hide(this.result)}}}function c(g,h,l,m,v,n,q,r,x,y,k,p,t){function H(K){K.defaultTheme=k.defaultTheme();u(K)}function A(K,M,I,
J){if(J){K=J.htmlContent||I.htmlContent||"";I=J.textContent||I.textContent||J.content||I.content||"";if(K&&!y.has("$sanitize"))throw Error("The ngSanitize module must be loaded in order to use htmlContent.");if(K&&I)throw Error("md-dialog cannot have both `htmlContent` and `textContent`");J.mdHtmlContent=K;J.mdTextContent=I}}function w(K,M,I){angular.element(n[0].body).addClass("md-dialog-is-showing");var J=M.find("md-dialog");J.hasClass("ng-cloak")&&x.warn("$mdDialog: using `<md-dialog ng-cloak>` will affect the dialog opening animations.",
M[0]);z(I);N(J,I);G(K,M,I);D(M,I);return O(M,I).then(function(){C(M,I);M[0].querySelector(".md-actions")&&x.warn("Using a class of md-actions is deprecated, please use <md-dialog-actions>.");if(I.focusOnOpen){var Q=l.findFocusTarget(M)||M[0].querySelector(".dialog-close, md-dialog-actions button:last-child")||J;Q.focus()}})}function B(K,M,I){function J(){angular.element(n[0].body).removeClass("md-dialog-is-showing");I.contentElement&&I.reverseContainerStretch();I.cleanupElement();I.$destroy||I.originInteraction!==
"keyboard"||I.origin.focus()}I.deactivateListeners();I.unlockScreenReader();I.hideBackdrop(I.$destroy);e&&e.parentNode&&e.parentNode.removeChild(e);f&&f.parentNode&&f.parentNode.removeChild(f);return I.$destroy?J():S(M,I).then(J)}function u(K){var M;K.targetEvent&&K.targetEvent.target&&(M=angular.element(K.targetEvent.target));M=M&&M.controller("mdTheme");K.hasTheme=!!M;if(K.hasTheme){K.themeWatch=M.$shouldWatch;var I=K.theme||M.$mdTheme;I&&(K.scope.theme=I);var J=M.registerChanges(function(Q){K.scope.theme=
Q;K.themeWatch||J()})}}function z(K){function M(J,Q){if((J=angular.element(J||{}))&&J.length){var T={top:0,left:0,height:0,width:0},Y=angular.isFunction(J[0].getBoundingClientRect);return angular.extend(Q||{},{element:Y?J:void 0,bounds:Y?J[0].getBoundingClientRect():angular.extend({},T,J[0]),focus:angular.bind(J,J.focus)})}}function I(J,Q){angular.isString(J)&&(J=n[0].querySelector(J));return angular.element(J||Q)}K.origin=angular.extend({element:null,bounds:null,focus:angular.noop},K.origin||{});
K.parent=I(K.parent,r);K.closeTo=M(I(K.closeTo));K.openFrom=M(I(K.openFrom));K.targetEvent&&(K.origin=M(K.targetEvent.target,K.origin),K.originInteraction=t.getLastInteractionType())}function D(K,M){var I=angular.element(q),J=l.debounce(function(){F(K,M)},60),Q=[],T=function(){var fa=M.$type=="alert"?g.hide:g.cancel;l.nextTick(fa,!0)};if(M.escapeToClose){var Y=M.parent,R=function(fa){fa.keyCode===m.KEY_CODE.ESCAPE&&(fa.stopImmediatePropagation(),fa.preventDefault(),T())};K.on("keydown",R);Y.on("keydown",
R);Q.push(function(){K.off("keydown",R);Y.off("keydown",R)})}I.on("resize",J);Q.push(function(){I.off("resize",J)});if(M.clickOutsideToClose){var U=K,X,aa=function(fa){X=fa.target},ha=function(fa){X===U[0]&&fa.target===U[0]&&(fa.stopPropagation(),fa.preventDefault(),T())};U.on("mousedown",aa);U.on("mouseup",ha);Q.push(function(){U.off("mousedown",aa);U.off("mouseup",ha)})}M.deactivateListeners=function(){Q.forEach(function(fa){fa()});M.deactivateListeners=null}}function G(K,M,I){I.disableParentScroll&&
(I.restoreScroll=l.disableScrollAround(M,I.parent));I.hasBackdrop&&(I.backdrop=l.createBackdrop(K,"md-dialog-backdrop md-opaque"),v.enter(I.backdrop,I.parent));I.hideBackdrop=function(J){I.backdrop&&(J?I.backdrop.remove():v.leave(I.backdrop));I.disableParentScroll&&(I.restoreScroll&&I.restoreScroll(),delete I.restoreScroll);I.hideBackdrop=null}}function N(K,M){var I=M.$type==="alert"?"alertdialog":"dialog",J=K.find("md-dialog-content"),Q=K.attr("id"),T="dialogContent_"+(Q||l.nextUid());K.attr({role:I,
tabIndex:"-1"});J.length===0&&(J=K,Q&&(T=Q));J.attr("id",T);K.attr("aria-describedby",T);M.ariaLabel?h.expect(K,"aria-label",M.ariaLabel):h.expectAsync(K,"aria-label",function(){if(M.title)return M.title;var Y=J.text().split(/\s+/);Y.length>3&&(Y=Y.slice(0,3).concat("..."));return Y.join(" ")});e=document.createElement("div");e.classList.add("md-dialog-focus-trap");e.tabIndex=0;f=e.cloneNode(!1);I=function(){K.focus()};e.addEventListener("focus",I);f.addEventListener("focus",I);K[0].parentNode.insertBefore(e,
K[0]);K.after(f)}function C(K,M){function I(Q){a:{for(var T=[];Q.parentNode;){if(Q===document.body){Q=T;break a}for(var Y=Q.parentNode.children,R=0;R<Y.length;R++){var U;if(!(U=Q===Y[R])){U=Y[R];var X=["SCRIPT","STYLE"];U=X.indexOf(U.nodeName)!==-1?!0:void 0}U||Y[R].hasAttribute("aria-live")||T.push(Y[R])}Q=Q.parentNode}Q=T}for(T=0;T<Q.length;T++)Q[T].setAttribute("aria-hidden",J)}var J=!0;I(K[0]);M.unlockScreenReader=function(){J=!1;I(K[0]);M.unlockScreenReader=null}}function F(K,M){var I=q.getComputedStyle(n[0].body).position==
"fixed",J=M.backdrop?q.getComputedStyle(M.backdrop[0]):null;J=J?Math.min(n[0].body.clientHeight,Math.ceil(Math.abs(parseInt(J.height,10)))):0;var Q={top:K.css("top"),height:K.css("height")};M=Math.abs(M.parent[0].getBoundingClientRect().top);K.css({top:(I?M:0)+"px",height:J?J+"px":"100%"});return function(){K.css(Q)}}function O(K,M){M.parent.append(K);M.reverseContainerStretch=F(K,M);var I=K.find("md-dialog"),J=l.dom.animator,Q=J.calculateZoomToOrigin,T={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"},
Y=J.toTransformCss(Q(I,M.openFrom||M.origin)),R=J.toTransformCss("");I.toggleClass("md-dialog-fullscreen",!!M.fullscreen);return J.translate3d(I,Y,R,T).then(function(U){M.reverseAnimate=function(){delete M.reverseAnimate;return M.closeTo?(T={transitionInClass:"md-transition-out",transitionOutClass:"md-transition-in"},Y=R,R=J.toTransformCss(Q(I,M.closeTo)),J.translate3d(I,Y,R,T)):U(R=J.toTransformCss(Q(I,M.origin)))};M.clearAnimate=function(){delete M.clearAnimate;I.removeClass([T.transitionOutClass,
T.transitionInClass].join(" "));return J.translate3d(I,R,J.toTransformCss(""),{})};return!0})}function S(K,M){return M.reverseAnimate().then(function(){M.contentElement&&M.clearAnimate()})}return{hasBackdrop:!0,isolateScope:!0,onCompiling:H,onShow:w,onShowing:A,onRemove:B,clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,closeTo:null,openFrom:null,focusOnOpen:!0,disableParentScroll:!0,autoWrap:!0,fullscreen:!1,transformTemplate:function(K,M){var I=p.startSymbol(),J=p.endSymbol();I=I+(M.themeWatch?
"":"::")+"theme"+J;I=M.hasTheme?'md-theme="'+I+'"':"";M=M.autoWrap&&!/<\/md-dialog>/g.test(K)?"<md-dialog>"+(K||"")+"</md-dialog>":K||"";return'<div class="md-dialog-container" tabindex="-1" '+I+">"+M+"</div>"}}}d.$inject=["$mdDialog","$mdConstant"];c.$inject="$mdDialog $mdAria $mdUtil $mdConstant $animate $document $window $rootElement $log $injector $mdTheming $interpolate $mdInteraction".split(" ");var e,f;return a("$mdDialog").setDefaults({methods:"disableParentScroll hasBackdrop clickOutsideToClose escapeToClose targetEvent closeTo openFrom parent fullscreen multiple".split(" "),
options:c}).addPreset("alert",{methods:"title htmlContent textContent content ariaLabel ok theme css".split(" "),options:b}).addPreset("confirm",{methods:"title htmlContent textContent content ariaLabel ok cancel theme css".split(" "),options:b}).addPreset("prompt",{methods:"title htmlContent textContent initialValue content placeholder ariaLabel ok cancel theme css required".split(" "),options:b})}ngmaterial.components.dialog=angular.module("material.components.dialog");MdDividerDirective.$inject=["$mdTheming"];angular.module("material.components.divider",["material.core"]).directive("mdDivider",MdDividerDirective);function MdDividerDirective(a){return{restrict:"E",link:a}}ngmaterial.components.divider=angular.module("material.components.divider");(function(){function a(b){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],compile:function(d){d=d.children();var c=b.prefixer().hasAttribute(d,"ng-repeat");c?d.addClass("md-fab-action-item"):d.wrap('<div class="md-fab-action-item">')}}}a.$inject=["$mdUtil"];angular.module("material.components.fabActions",["material.core"]).directive("mdFabActions",a)})();ngmaterial.components.fabActions=angular.module("material.components.fabActions");(function(){function a(b,d,c,e,f,g){function h(){var w=["click","focusin","focusout"];angular.forEach(w,function(B){d.on(B,l)});b.$on("$destroy",function(){angular.forEach(w,function(B){d.off(B,l)});q()})}function l(w){w.type=="click"&&p(w);w.type!="focusout"||A||(A=g(function(){t.close()},100,!1));w.type=="focusin"&&A&&(g.cancel(A),A=null)}function m(){b.$watch("vm.direction",function(u,z){c.removeClass(d,"md-"+z);c.addClass(d,"md-"+u);t.currentActionIndex=-1});var w,B;b.$watch("vm.isOpen",function(u){t.currentActionIndex=
-1;w&&B||(w=d.find("md-fab-trigger"),B=d.find("md-fab-actions"));u?n():q();var z=u?"md-is-open":"",D=u?"":"md-is-open";w.attr("aria-haspopup",!0);w.attr("aria-expanded",u);B.attr("aria-hidden",!u);c.setClass(d,z,D)})}function v(){d[0].scrollHeight>0?c.addClass(d,"_md-animations-ready").then(function(){d.removeClass("md-animations-waiting")}):H<10&&(g(v,100),H+=1)}function n(){d.on("keydown",x);e.nextTick(function(){angular.element(document).on("click touchend",r)})}function q(){d.off("keydown",x);
angular.element(document).off("click touchend",r)}function r(w){if(w.target){var B=e.getClosest(w.target,"md-fab-trigger");w=e.getClosest(w.target,"md-fab-actions");B||w||t.close()}}function x(w){switch(w.which){case f.KEY_CODE.ESCAPE:return t.close(),w.preventDefault(),!1;case f.KEY_CODE.LEFT_ARROW:return t.direction==="left"?y(w,1):y(w,-1),!1;case f.KEY_CODE.UP_ARROW:return t.direction==="down"?y(w,-1):y(w,1),!1;case f.KEY_CODE.RIGHT_ARROW:return t.direction==="left"?y(w,-1):y(w,1),!1;case f.KEY_CODE.DOWN_ARROW:return t.direction===
"up"?y(w,-1):y(w,1),!1}}function y(w,B){var u=k();t.currentActionIndex+=B;t.currentActionIndex=Math.min(u.length-1,t.currentActionIndex);t.currentActionIndex=Math.max(0,t.currentActionIndex);B=angular.element(u[t.currentActionIndex]).children()[0];angular.element(B).attr("tabindex",0);B.focus();w.preventDefault();w.stopImmediatePropagation()}function k(){var w=d.find("md-fab-actions")[0].querySelectorAll(".md-fab-action-item");angular.forEach(w,function(B){angular.element(angular.element(B).children()[0]).attr("tabindex",
-1)});return w}function p(w){e.getClosest(w.target,"md-fab-trigger")&&t.toggle();e.getClosest(w.target,"md-fab-actions")&&t.close()}var t=this,H=0;t.open=function(){b.$evalAsync("vm.isOpen = true")};t.close=function(){b.$evalAsync("vm.isOpen = false");d.find("md-fab-trigger")[0].focus()};t.toggle=function(){b.$evalAsync("vm.isOpen = !vm.isOpen")};t.$onInit=function(){t.direction=t.direction||"down";t.isOpen=t.isOpen||!1;t.currentActionIndex=-1;d.addClass("md-animations-waiting");h();m();v()};angular.version.major===
1&&angular.version.minor<=4&&this.$onInit();var A}a.$inject="$scope $element $animate $mdUtil $mdConstant $timeout".split(" ");angular.module("material.components.fabShared",["material.core"]).controller("MdFabController",a)})();
(function(){function a(){function e(f,g){g.prepend('<div class="_md-css-variables"></div>')}return{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:e}}function b(e){function f(g){if(!g.hasClass("md-animations-waiting")||g.hasClass("_md-animations-ready")){var h=g[0],l=g.controller("mdFabSpeedDial"),m=h.querySelectorAll(".md-fab-action-item"),v=h.querySelector("md-fab-trigger");g=h.querySelector("._md-css-variables");
var n=parseInt(window.getComputedStyle(g).zIndex);angular.forEach(m,function(q,r){q=q.style;q.transform=q.webkitTransform="";q.transitionDelay="";q.opacity=1;q.zIndex=m.length-r+n});v.style.zIndex=n+m.length+1;l.isOpen||angular.forEach(m,function(q,r){var x=q.style,y=(v.clientHeight-q.clientHeight)/2,k=(v.clientWidth-q.clientWidth)/2;switch(l.direction){case "up":var p=q.scrollHeight*(r+1)+y;var t="Y";break;case "down":p=-(q.scrollHeight*(r+1)+y);t="Y";break;case "left":p=q.scrollWidth*(r+1)+k;t=
"X";break;case "right":p=-(q.scrollWidth*(r+1)+k),t="X"}q="translate"+t+"("+p+"px)";x.transform=x.webkitTransform=q})}}return{addClass:function(g,h,l){g.hasClass("md-fling")?(f(g),e(l,c,!1)):l()},removeClass:function(g,h,l){f(g);e(l,c,!1)}}}function d(e){function f(g){var h=g[0],l=g.controller("mdFabSpeedDial"),m=h.querySelectorAll(".md-fab-action-item");g=h.querySelector("._md-css-variables");var v=parseInt(window.getComputedStyle(g).zIndex);angular.forEach(m,function(n,q){n=n.style;var r=q*65;n.opacity=
l.isOpen?1:0;n.transform=n.webkitTransform=l.isOpen?"scale(1)":"scale(0)";n.transitionDelay=(l.isOpen?r:m.length-r)+"ms";n.zIndex=m.length-q+v})}return{addClass:function(g,h,l){f(g);e(l,c,!1)},removeClass:function(g,h,l){f(g);e(l,c,!1)}}}b.$inject=["$timeout"];d.$inject=["$timeout"];var c=300;angular.module("material.components.fabSpeedDial",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabSpeedDial",a).animation(".md-fling",b).animation(".md-scale",
d).service("mdFabSpeedDialFlingAnimation",b).service("mdFabSpeedDialScaleAnimation",d)})();ngmaterial.components.fabShared=angular.module("material.components.fabShared");(function(){function a(){function d(c,e){e.addClass("md-fab-toolbar");e.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"></div>')}return{restrict:"E",transclude:!0,template:'<div class="md-fab-toolbar-wrapper">  <div class="md-fab-toolbar-content" ng-transclude></div></div>',scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:d}}function b(){function d(c,e){if(e){var f=c[0];e=c.controller("mdFabToolbar");
var g=f.querySelector(".md-fab-toolbar-background"),h=f.querySelector("md-fab-trigger button"),l=f.querySelector("md-toolbar"),m=f.querySelector("md-fab-trigger button md-icon"),v=c.find("md-fab-actions").children();if(h&&g){var n=window.getComputedStyle(h).getPropertyValue("background-color");f=f.offsetWidth;var q=f/h.offsetWidth*2;g.style.backgroundColor=n;g.style.borderRadius=f+"px";e.isOpen?(l.style.pointerEvents="inherit",g.style.width=h.offsetWidth+"px",g.style.height=h.offsetHeight+"px",g.style.transform=
"scale("+q+")",g.style.transitionDelay="0ms",m&&(m.style.transitionDelay=".3s"),angular.forEach(v,function(r,x){r.style.transitionDelay=(v.length-x)*25+"ms"})):(l.style.pointerEvents="none",g.style.transform="scale(1)",g.style.top="0",c.hasClass("md-right")&&(g.style.left="0",g.style.right=null),c.hasClass("md-left")&&(g.style.right="0",g.style.left=null),g.style.transitionDelay="200ms",m&&(m.style.transitionDelay="0ms"),angular.forEach(v,function(r,x){r.style.transitionDelay=200+x*25+"ms"}))}}}return{addClass:function(c,
e,f){d(c,e,f);f()},removeClass:function(c,e,f){d(c,e,f);f()}}}angular.module("material.components.fabToolbar",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabToolbar",a).animation(".md-fab-toolbar",b).service("mdFabToolbarAnimation",b)})();ngmaterial.components.fabToolbar=angular.module("material.components.fabToolbar");GridListController.$inject=["$mdUtil"];GridLayoutFactory.$inject=["$mdUtil"];GridListDirective.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia","$mdUtil"];GridTileDirective.$inject=["$mdMedia"];angular.module("material.components.gridList",["material.core"]).directive("mdGridList",GridListDirective).directive("mdGridTile",GridTileDirective).directive("mdGridTileFooter",GridTileCaptionDirective).directive("mdGridTileHeader",GridTileCaptionDirective).factory("$mdGridLayout",GridLayoutFactory);
function GridListDirective(a,b,d,c,e){function f(g,h,l,m){function v(){for(var F in b.MEDIA)c(F),c.getQuery(b.MEDIA[F]).addListener(w);return c.watchResponsiveAttributes(["md-cols","md-row-height","md-gutter"],l,q)}function n(){m.layoutDelegate=angular.noop;B();for(var F in b.MEDIA)c.getQuery(b.MEDIA[F]).removeListener(w)}function q(F){F==null?m.invalidateLayout():c(F)&&m.invalidateLayout()}function r(F){var O=y(),S={tileSpans:k(O),colCount:p(),rowMode:H(),rowHeight:t(),gutter:A(c.getResponsiveAttribute(l,
"md-gutter")||1)};if(F||!angular.equals(S,u))F=d(S.colCount,S.tileSpans,O).map(function(K,M){return{grid:{element:h,style:x(S.colCount,M,S.gutter,S.rowMode,S.rowHeight)},tiles:K.map(function(I,J){J=angular.element(O[J]);var Q=I.position;I=I.spans;var T=S.colCount,Y=M,R=S.gutter,U=S.rowMode,X=S.rowHeight,aa=1/T*100,ha=(T-1)/T;T=G({share:aa,gutterShare:ha,gutter:R});T=e.isRtl(l)?{right:N({unit:T,offset:Q.col,gutter:R}),width:C({unit:T,span:I.col,gutter:R}),paddingTop:"",marginTop:"",top:"",height:""}:
{left:N({unit:T,offset:Q.col,gutter:R}),width:C({unit:T,span:I.col,gutter:R}),paddingTop:"",marginTop:"",top:"",height:""};switch(U){case "fixed":T.top=N({unit:X,offset:Q.row,gutter:R});T.height=C({unit:X,span:I.row,gutter:R});break;case "ratio":Y=aa/X;Y=G({share:Y,gutterShare:ha,gutter:R});T.paddingTop=C({unit:Y,span:I.row,gutter:R});T.marginTop=N({unit:Y,offset:Q.row,gutter:R});break;case "fit":U=(Y-1)/Y,Y=1/Y*100,Y=G({share:Y,gutterShare:U,gutter:R}),T.top=N({unit:Y,offset:Q.row,gutter:R}),T.height=
C({unit:Y,span:I.row,gutter:R})}Q=T;return{element:J,style:Q}})}}).reflow().performance(),g.mdOnLayout({$event:{performance:F}}),u=S}function x(F,O,S,K,M){var I={};switch(K){case "fixed":I.height=C({unit:M,span:O,gutter:S});I.paddingBottom="";break;case "ratio":K=F===1?0:(F-1)/F,F=1/F*100,M=1/M*F,M=G({share:M,gutterShare:K,gutter:S}),I.height="",I.paddingBottom=C({unit:M,span:O,gutter:S})}return I}function y(){return[].filter.call(h.children(),function(F){return F.tagName=="MD-GRID-TILE"&&!F.$$mdDestroyed})}
function k(F){return[].map.call(F,function(O){O=angular.element(O).controller("mdGridTile");return{row:parseInt(c.getResponsiveAttribute(O.$attrs,"md-rowspan"),10)||1,col:parseInt(c.getResponsiveAttribute(O.$attrs,"md-colspan"),10)||1}})}function p(){var F=parseInt(c.getResponsiveAttribute(l,"md-cols"),10);if(isNaN(F))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return F}function t(){var F=c.getResponsiveAttribute(l,"md-row-height");if(!F)throw"md-grid-list: md-row-height attribute was not found";
switch(H()){case "fixed":return A(F);case "ratio":return F=F.split(":"),parseFloat(F[0])/parseFloat(F[1]);case "fit":return 0}}function H(){var F=c.getResponsiveAttribute(l,"md-row-height");if(!F)throw"md-grid-list: md-row-height attribute was not found";return F=="fit"?"fit":F.indexOf(":")!==-1?"ratio":"fixed"}function A(F){return/\D$/.test(F)?F:F+"px"}h.addClass("_md");h.attr("role","list");m.layoutDelegate=r;var w=angular.bind(m,m.invalidateLayout),B=v();g.$on("$destroy",n);var u,z=a.startSymbol(),
D=a.endSymbol(),G=a(z+"share"+D+"% - ("+(z+"gutter"+D)+" * "+(z+"gutterShare"+D)+")"),N=a("calc(("+(z+"unit"+D)+" + "+(z+"gutter"+D)+") * "+(z+"offset"+D)+")"),C=a("calc(("+(z+"unit"+D)+") * "+(z+"span"+D)+" + ("+(z+"span"+D)+" - 1) * "+(z+"gutter"+D)+")")}return{restrict:"E",controller:GridListController,scope:{mdOnLayout:"&"},link:f}}function GridListController(a){this.tilesInvalidated=this.layoutInvalidated=!1;this.$timeout_=a.nextTick;this.layoutDelegate=angular.noop}
GridListController.prototype={invalidateTiles:function(){this.tilesInvalidated=!0;this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(angular.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.tilesInvalidated=this.layoutInvalidated=!1}}};
function GridLayoutFactory(a){function b(f,g){var h,l,m,v,n;var q=a.time(function(){l=c(f,g)});return h={layoutInfo:function(){return l},map:function(r){v=a.time(function(){var x=h.layoutInfo();m=r(x.positioning,x.rowCount)});return h},reflow:function(r){n=a.time(function(){var x=r||e;x(m.grid,m.tiles)});return h},performance:function(){return{tileCount:g.length,layoutTime:q,mapTime:v,reflowTime:n,totalTime:q+v+n}}}}function d(f,g){f.element.css(f.style);g.forEach(function(h){h.element.css(h.style)})}
function c(f,g){function h(q,r,x){for(var y=q;y<q+r;y++)n[y]=Math.max(n[y]+x,0)}function l(){for(var q=[],r=0;r<f;r++)q.push(0);return q}var m=0,v=0,n=l();return{positioning:g.map(function(q,r){var x=q;if(x.col>f)throw"md-grid-list: Tile at position "+r+" has a colspan ("+x.col+") that exceeds the column count ("+f+")";for(var y=r=0;y-r<x.col;)if(m>=f)m=0,v++,h(0,f,-1);else{r=n.indexOf(0,m);var k;if(!(k=r===-1)){a:{for(y=r+1;y<n.length;y++)if(n[y]!==0)break a;y=y===n.length?y:void 0}k=y===-1}k?(m=
r=y=0,v++,h(0,f,-1)):m=y+1}h(r,x.col,x.row);m=r+x.col;x={col:r,row:v};return{spans:q,position:x}}),rowCount:v+Math.max.apply(Math,n)}}var e=d;b.animateWith=function(f){e=angular.isFunction(f)?f:d};return b}
function GridTileDirective(a){function b(d,c,e,f){c.attr("role","listitem");var g=a.watchResponsiveAttributes(["md-colspan","md-rowspan"],e,angular.bind(f,f.invalidateLayout));f.invalidateTiles();d.$on("$destroy",function(){c[0].$$mdDestroyed=!0;g();f.invalidateLayout()});angular.isDefined(d.$parent.$index)&&d.$watch(function(){return d.$parent.$index},function(h,l){h!==l&&f.invalidateTiles()})}return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},
controller:["$attrs",function(d){this.$attrs=d}],link:b}}function GridTileCaptionDirective(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}ngmaterial.components.gridList=angular.module("material.components.gridList");mdInputContainerDirective.$inject=["$mdTheming","$parse","$$rAF"];inputTextareaDirective.$inject=["$mdUtil","$window","$mdAria","$timeout","$mdGesture"];mdMaxlengthDirective.$inject=["$animate","$mdUtil"];placeholderDirective.$inject=["$compile"];ngMessageDirective.$inject=["$mdUtil"];mdSelectOnFocusDirective.$inject=["$document","$timeout"];mdInputInvalidMessagesAnimation.$inject=["$$AnimateRunner","$animateCss","$mdUtil"];ngMessagesAnimation.$inject=["$$AnimateRunner","$animateCss","$mdUtil"];
ngMessageAnimation.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"];
var inputModule=angular.module("material.components.input",["material.core"]).directive("mdInputContainer",mdInputContainerDirective).directive("label",labelDirective).directive("input",inputTextareaDirective).directive("textarea",inputTextareaDirective).directive("mdMaxlength",mdMaxlengthDirective).directive("placeholder",placeholderDirective).directive("ngMessages",ngMessagesDirective).directive("ngMessage",ngMessageDirective).directive("ngMessageExp",ngMessageDirective).directive("mdSelectOnFocus",
mdSelectOnFocusDirective).animation(".md-input-invalid",mdInputInvalidMessagesAnimation).animation(".md-input-messages-animation",ngMessagesAnimation).animation(".md-input-message-animation",ngMessageAnimation);window._mdMocksIncluded&&inputModule.service("$$mdInput",function(){return{messages:{getElement:getMessagesElement}}}).service("mdInputInvalidAnimation",mdInputInvalidMessagesAnimation).service("mdInputMessagesAnimation",ngMessagesAnimation).service("mdInputMessageAnimation",ngMessageAnimation);
function mdInputContainerDirective(a,b,d){function c(l){var m=l[0].querySelector(g),v=l[0].querySelector(h);return function(n,q){a(q);(m||v)&&d(function(){var r=q[0].querySelector("md-icon")||q[0].querySelector(".md-icon");m&&r&&q.addClass("md-icon-left");v&&r&&q.addClass("md-icon-right")})}}function e(l,m,v,n){var q=this;q.isErrorGetter=v.mdIsError&&b(v.mdIsError);q.delegateClick=function(){q.input.focus()};q.element=m;q.setFocused=function(r){m.toggleClass("md-input-focused",!!r)};q.setHasValue=
function(r){m.toggleClass("md-input-has-value",!!r)};q.setHasPlaceholder=function(r){m.toggleClass("md-input-has-placeholder",!!r)};q.setInvalid=function(r){r?n.addClass(m,"md-input-invalid"):n.removeClass(m,"md-input-invalid")};l.$watch(function(){return q.label&&q.input},function(r){r&&!q.label.attr("for")&&q.label.attr("for",q.input.attr("id"))})}e.$inject=["$scope","$element","$attrs","$animate"];var f=["INPUT","TEXTAREA","SELECT","MD-SELECT"],g=f.reduce(function(l,m){return l.concat(["md-icon ~ "+
m,".md-icon ~ "+m])},[]).join(","),h=f.reduce(function(l,m){return l.concat([m+" ~ md-icon",m+" ~ .md-icon"])},[]).join(",");return{restrict:"E",compile:c,controller:e}}function labelDirective(){return{restrict:"E",require:"^?mdInputContainer",link:function(a,b,d,c){!c||d.mdNoFloat||b.hasClass("md-container-ignore")||(c.label=b,a.$on("$destroy",function(){c.label=null}))}}}
function inputTextareaDirective(a,b,d,c,e){function f(g,h,l,m){function v(w){x.setHasValue(!k.$isEmpty(w));return w}function n(){x.label&&l.$observe("required",function(w){x.label.toggleClass("md-required",w&&!t)})}function q(){x.setHasValue(h.val().length>0||(h[0].validity||{}).badInput)}function r(){function w(){h.attr("rows",1).css("height","auto").addClass("md-no-flex");var K=O.offsetHeight;var M=O.scrollHeight-K;K+=Math.max(M,0);F||(M=h[0].style.padding||"",F=h.css("padding",0).prop("offsetHeight"),
h[0].style.padding=M);G&&F&&(K=Math.max(K,F*G));N&&F&&(M=F*N,M<K?(h.attr("md-no-autogrow",""),K=M):h.removeAttr("md-no-autogrow"));F&&h.attr("rows",Math.round(K/F));h.css("height",K+"px").removeClass("md-no-flex")}function B(K){a.nextTick(w);return K}function u(){if(D&&(D=!1,angular.element(b).off("resize",w),C&&C(),h.attr("md-no-autogrow","").off("input",w),y)){var K=k.$formatters.indexOf(B);K>-1&&k.$formatters.splice(K,1)}}function z(){function K(X){X.preventDefault();T=!0;Y=parseFloat(h.css("height"))||
h.prop("offsetHeight")}function M(X){T&&(X.preventDefault(),u(),R.addClass("md-input-resized"))}function I(X){T&&h.css("height",Y+X.pointer.distanceY+"px")}function J(){T&&(T=!1,R.removeClass("md-input-resized"))}if(!l.hasOwnProperty("mdNoResize")){var Q=angular.element('<div class="md-resize-handle"></div>'),T=!1,Y=0,R=x.element,U=e.register(Q,"drag",{horizontal:!1});h.wrap('<div class="md-resize-wrapper">').after(Q);Q.on("mousedown",K);R.on("$md.dragstart",M).on("$md.drag",I).on("$md.dragend",J);
g.$on("$destroy",function(){Q.off("mousedown",K).remove();R.off("$md.dragstart",M).off("$md.drag",I).off("$md.dragend",J);U();U=R=Q=null})}}var D=!l.hasOwnProperty("mdNoAutogrow");z();if(D){var G=l.hasOwnProperty("rows")?parseInt(l.rows):NaN,N=l.hasOwnProperty("maxRows")?parseInt(l.maxRows):NaN,C=g.$on("md-resize-textarea",w),F=null,O=h[0];c(function(){a.nextTick(w)},10,!1);h.on("input",w);y&&k.$formatters.push(B);G||h.attr("rows",1);angular.element(b).on("resize",w);g.$on("$destroy",u);if(l.hasOwnProperty("mdDetectHidden")){var S=
function(){var K=!1;return function(){var M=O.offsetHeight===0;M===!1&&K===!0&&w();K=M}}();g.$watch(function(){a.nextTick(S,!1);return!0})}}}var x=m[0],y=!!m[1],k=m[1]||a.fakeNgModel(),p=m[2];m=angular.isDefined(l.readonly);var t=a.parseAttributeBoolean(l.mdNoAsterisk),H=h[0].tagName.toLowerCase();if(x)if(l.type==="hidden")h.attr("aria-hidden","true");else{if(x.input){if(x.input[0].contains(h[0]))return;throw Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!");
}x.input=h;n();var A=angular.element('<div class="md-errors-spacer">');h.after(A);A=angular.isString(l.placeholder)?l.placeholder.trim():"";x.label||A.length||d.expect(h,"aria-label");h.addClass("md-input");h.attr("id")||h.attr("id","input_"+a.nextUid());H==="input"&&l.type==="number"&&l.min&&l.max&&!l.step?h.attr("step","any"):H==="textarea"&&r();y||q();H=x.isErrorGetter||function(){return k.$invalid&&(k.$touched||p&&p.$submitted)};g.$watch(H,x.setInvalid);l.ngValue&&l.$observe("value",q);k.$parsers.push(v);
k.$formatters.push(v);h.on("input",q);if(!m)h.on("focus",function(){a.nextTick(function(){x.setFocused(!0)})}).on("blur",function(){a.nextTick(function(){x.setFocused(!1);q()})});g.$on("$destroy",function(){x.setFocused(!1);x.setHasValue(!1);x.input=null})}}return{restrict:"E",require:["^?mdInputContainer","?ngModel","?^form"],link:f}}
function mdMaxlengthDirective(a,b){function d(c,e,f,g){function h(k){k=x&&!y&&angular.isString(k)?k.trim():k;if(k===void 0||k===null)k="";return String(k).length}function l(){q&&q.parent()&&q.text(h(e.val())+" / "+m)}var m=parseInt(f.mdMaxlength);isNaN(m)&&(m=-1);var v=g[0],n=g[1],q,r,x=angular.isDefined(f.ngTrim)?b.parseAttributeBoolean(f.ngTrim):!0,y=f.type==="password";c.$watch(f.mdMaxlength,function(k){m=k});v.$validators["md-maxlength"]=function(k,p){if(!angular.isNumber(m)||m<0)return!0;l();
k=e.val()||p;if(k===void 0||k===null)k="";k=x&&!y&&angular.isString(k)?k.trim():k;return String(k).length<=m};v.$isEmpty=function(k){return h(k)===0};b.nextTick(function(){r=angular.element(n.element[0].querySelector(".md-errors-spacer"));q=angular.element('<div class="md-char-counter">');r.append(q);f.$observe("ngTrim",function(k){x=angular.isDefined(k)?b.parseAttributeBoolean(k):!0});c.$watch(f.mdMaxlength,function(k){angular.isNumber(k)&&k>0?(q.parent().length||a.enter(q,r),l()):a.leave(q)})})}
return{restrict:"A",require:["ngModel","^mdInputContainer"],link:d}}
function placeholderDirective(a){function b(d,c,e,f){if(f){var g=f.element.find("label"),h=f.element.attr("md-no-float");g&&g.length||h===""||d.$eval(h)?f.setHasPlaceholder(!0):c[0].nodeName!=="MD-SELECT"&&(c=angular.element('<label ng-click="delegateClick()" tabindex="-1" aria-hidden="true">'+e.placeholder+"</label>"),e.$set("placeholder",null),f.element.addClass("md-icon-float").prepend(c),a(c)(d))}}return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:{pre:b}}}
function mdSelectOnFocusDirective(a,b){function d(c,e){function f(){h=!0;b(function(){a[0].activeElement===e[0]&&e[0].select();h=!1},1,!1)}function g(l){h&&l.preventDefault()}if(e[0].nodeName==="INPUT"||e[0].nodeName==="TEXTAREA"){var h=!1;e.on("focus",f).on("mouseup",g);c.$on("$destroy",function(){e.off("focus",f).off("mouseup",g)})}}return{restrict:"A",link:d}}var visibilityDirectives=["ngIf","ngShow","ngHide","ngSwitchWhen","ngSwitchDefault"];
function ngMessagesDirective(){function a(d,c,e,f){f&&(c.toggleClass("md-input-messages-animation",!0),c.toggleClass("md-auto-hide",!0),(e.mdAutoHide=="false"||b(e))&&c.toggleClass("md-auto-hide",!1))}function b(d){return visibilityDirectives.some(function(c){return d[c]})}return{restrict:"EA",link:a,require:"^^?mdInputContainer"}}
function ngMessageDirective(a){function b(d){function c(){for(var f=d[0];f=f.parentNode;)if(f.nodeType===Node.DOCUMENT_FRAGMENT_NODE)return!0;return!1}function e(f){f.toggleClass("md-input-message-animation",!0)}if(a.getClosest(d,"md-input-container"))e(d);else if(c())return function(f,g){a.getClosest(g,"md-input-container")&&e(d)}}return{restrict:"EA",compile:b,priority:100}}var $$AnimateRunner,$animateCss,$mdUtil;
function mdInputInvalidMessagesAnimation(a,b,d){saveSharedServices(a,b,d);return{addClass:function(c,e,f){showInputMessages(c,f)}}}function ngMessagesAnimation(a,b,d){saveSharedServices(a,b,d);return{enter:function(c,e){showInputMessages(c,e)},leave:function(c,e){hideInputMessages(c,e)},addClass:function(c,e,f){e=="ng-hide"?hideInputMessages(c,f):f()},removeClass:function(c,e,f){e=="ng-hide"?showInputMessages(c,f):f()}}}
function ngMessageAnimation(a,b,d,c){saveSharedServices(a,b,d,c);return{enter:function(e,f){e=showMessage(e);e.start().done(f)},leave:function(e,f){e=hideMessage(e);e.start().done(f)}}}function showInputMessages(a,b){var d=[],c;a=getMessagesElement(a);var e=a.children();a.length==0||e.length==0?b():(angular.forEach(e,function(f){c=showMessage(angular.element(f));d.push(c.start())}),$$AnimateRunner.all(d,b))}
function hideInputMessages(a,b){var d=[],c;a=getMessagesElement(a);var e=a.children();a.length==0||e.length==0?b():(angular.forEach(e,function(f){c=hideMessage(angular.element(f));d.push(c.start())}),$$AnimateRunner.all(d,b))}
function showMessage(a){var b=parseInt(window.getComputedStyle(a[0]).height),d=parseInt(window.getComputedStyle(a[0]).marginTop),c=getMessagesElement(a);var e=a.controller("mdInputContainer");e=e.element;return(d=d>-b)||c.hasClass("md-auto-hide")&&!e.hasClass("md-input-invalid")?$animateCss(a,{}):$animateCss(a,{event:"enter",structural:!0,from:{opacity:0,"margin-top":-b+"px"},to:{opacity:1,"margin-top":"0"},duration:.3})}
function hideMessage(a){var b=a[0].offsetHeight,d=window.getComputedStyle(a[0]);return parseInt(d.opacity)===0?$animateCss(a,{}):$animateCss(a,{event:"leave",structural:!0,from:{opacity:1,"margin-top":0},to:{opacity:0,"margin-top":-b+"px"},duration:.3})}
function getMessagesElement(a){return a.hasClass("md-input-messages-animation")?a:a.hasClass("md-input-message-animation")?angular.element($mdUtil.getClosest(a,function(b){return b.classList.contains("md-input-messages-animation")})):angular.element(a[0].querySelector(".md-input-messages-animation"))}function saveSharedServices(a,b,d){$$AnimateRunner=a;$animateCss=b;$mdUtil=d}ngmaterial.components.input=angular.module("material.components.input");MdListController.$inject=["$scope","$element","$mdListInkRipple"];mdListDirective.$inject=["$mdTheming"];mdListItemDirective.$inject=["$mdAria","$mdConstant","$mdUtil","$timeout"];angular.module("material.components.list",["material.core"]).controller("MdListController",MdListController).directive("mdList",mdListDirective).directive("mdListItem",mdListItemDirective);function mdListDirective(a){return{restrict:"E",compile:function(b){b[0].setAttribute("role","list");return a}}}
function mdListItemDirective(a,b,d,c){var e=["md-checkbox","md-switch","md-menu"];return{restrict:"E",controller:"MdListController",compile:function(f,g){function h(){for(var A=["md-switch","md-checkbox"],w,B=0,u;u=A[B];++B)if((w=f.find(u)[0])&&!w.hasAttribute("aria-label")){u=f.find("p")[0];if(!u)break;w.setAttribute("aria-label","Toggle "+u.textContent)}}function l(){var A=angular.element(y),w=A.parent().hasClass("md-secondary-container")||y.parentNode.firstElementChild!==y,B="left";w&&(B="right");
A.attr("md-position-mode")||A.attr("md-position-mode",B+" target");A=A.children().eq(0);q(A[0])||A.attr("ng-click","$mdMenu.open($event)");A.attr("aria-label")||A.attr("aria-label","Open List Menu")}function m(A){A=="div"?(k=angular.element('<div class="md-no-style md-list-item-inner">'),k.append(f.contents()),f.addClass("md-proxy-focus")):(k=angular.element('<div class="md-button md-no-style">   <div class="md-list-item-inner"></div></div>'),A=angular.element('<md-button class="md-no-style"></md-button>'),
n(f[0],A[0]),A.attr("aria-label")||A.attr("aria-label",a.getText(f)),f.hasClass("md-no-focus")&&A.addClass("md-no-focus"),k.prepend(A),k.children().eq(1).append(f.contents()),f.addClass("_md-button-wrap"));f[0].setAttribute("tabindex","-1");f.append(k)}function v(){var A=angular.element('<div class="md-secondary-container">');angular.forEach(x,function(w){var B=A,u;if(u=w)u=w.nodeName.toUpperCase(),u=u=="MD-BUTTON"||u=="BUTTON",u=!u;u&&w.hasAttribute("ng-click")&&(a.expect(w,"aria-label"),u=angular.element('<md-button class="md-secondary md-icon-button">'),
n(w,u[0],["ng-if","ng-hide","ng-show"]),w.setAttribute("tabindex","-1"),u.append(w),w=u[0]);w&&(!q(w)||!g.ngClick&&e.indexOf(w.nodeName.toLowerCase())!=-1)&&angular.element(w).removeClass("md-secondary");f.addClass("md-with-secondary");B.append(w)});k.append(A)}function n(A,w,B){var u=d.prefixer("ng-if ng-click ng-dblclick aria-label ng-disabled ui-sref href ng-href rel target ng-attr-ui-sref ui-sref-opts download".split(" "));B&&(u=u.concat(d.prefixer(B)));angular.forEach(u,function(z){A.hasAttribute(z)&&
(w.setAttribute(z,A.getAttribute(z)),A.removeAttribute(z))})}function q(A){A=A.attributes;for(var w=0;w<A.length;w++)if(g.$normalize(A[w].name)==="ngClick")return!0;return!1}function r(A,w,B,u){function z(){N&&N.children&&!F&&!O&&angular.forEach(e,function(K){angular.forEach(N.querySelectorAll(K+":not(.md-secondary)"),function(M){G.push(M)})})}function D(K){var M=["md-slider"];if(!K.path)return M.indexOf(K.target.tagName.toLowerCase())!==-1;for(var I=K.path.indexOf(w.children()[0]),J=0;J<I;J++)if(M.indexOf(K.path[J].tagName.toLowerCase())!==
-1)return!0}w.addClass("_md");var G=[],N=w[0].firstElementChild,C=(B=w.hasClass("_md-button-wrap"))?N.firstElementChild:N,F=C&&q(C),O=w.hasClass("md-no-proxy");z();if(G.length==1||F)w.addClass("md-clickable"),F||u.attachRipple(A,angular.element(w[0].querySelector(".md-no-style")));G.length&&angular.forEach(G,function(K){K=angular.element(K);A.mouseActive=!1;K.on("mousedown",function(){A.mouseActive=!0;c(function(){A.mouseActive=!1},100)}).on("focus",function(){A.mouseActive===!1&&w.addClass("md-focused");
K.on("blur",function I(){w.removeClass("md-focused");K.off("blur",I)})})});var S=function(K){if(K.target.nodeName!="INPUT"&&K.target.nodeName!="TEXTAREA"&&!K.target.isContentEditable){var M=K.which||K.keyCode;M==b.KEY_CODE.SPACE&&C&&(C.click(),K.preventDefault(),K.stopPropagation())}};F||G.length||C&&C.addEventListener("keypress",S);w.off("click");w.off("keypress");if(G.length==1&&C)w.children().eq(0).on("click",function(K){if(!D(K)){var M=d.getClosest(K.target,"BUTTON");!M&&C.contains(K.target)&&
angular.forEach(G,function(I){K.target===I||I.contains(K.target)||(I.nodeName==="MD-MENU"&&(I=I.children[0]),angular.element(I).triggerHandler("click"))})}});A.$on("$destroy",function(){C&&C.removeEventListener("keypress",S)})}var x=f[0].querySelectorAll(".md-secondary"),y,k=f;f[0].setAttribute("role","listitem");if(g.ngClick||g.ngDblclick||g.ngHref||g.href||g.uiSref||g.ngAttrUiSref)m("button");else if(!f.hasClass("md-no-proxy")){for(var p=0,t;t=e[p];++p)if(y=f[0].querySelector(t)){var H=!0;break}H?
m("div"):f.addClass("md-no-proxy")}v();h();H&&y.nodeName==="MD-MENU"&&l();return r}}}function MdListController(a,b,d){function c(e,f){var g={};d.attach(e,f,g)}a=this;a.attachRipple=c}ngmaterial.components.list=angular.module("material.components.list");angular.module("material.components.menu",["material.core","material.components.backdrop"]);MenuController.$inject="$mdMenu $attrs $element $scope $mdUtil $timeout $rootScope $q $log".split(" ");angular.module("material.components.menu").controller("mdMenuCtrl",MenuController);
function MenuController(a,b,d,c,e,f,g,h,l){var m=e.prefixer(),v,n=this,q;this.nestLevel=parseInt(b.mdNestLevel,10)||0;this.init=function(k,p){p=p||{};v=k;q=d[0].querySelector(m.buildSelector(["ng-click","ng-mouseenter"]));q.setAttribute("aria-expanded","false");this.isInMenuBar=p.isInMenuBar;this.nestedMenus=e.nodesToArray(v[0].querySelectorAll(".md-nested-menu"));v.on("$mdInterimElementRemove",function(){n.isOpen=!1;e.nextTick(function(){n.onIsOpenChanged(n.isOpen)})});e.nextTick(function(){n.onIsOpenChanged(n.isOpen)});
k="menu_container_"+e.nextUid();v.attr("id",k);angular.element(q).attr({"aria-owns":k,"aria-haspopup":"true"});c.$on("$destroy",angular.bind(this,function(){this.disableHoverListener();a.destroy()}));v.on("$destroy",function(){a.destroy()})};var r,x,y=[];this.enableHoverListener=function(){y.push(g.$on("$mdMenuOpen",function(k,p){v[0].contains(p[0])&&(n.currentlyOpenMenu=p.controller("mdMenu"),n.isAlreadyOpening=!1,n.currentlyOpenMenu.registerContainerProxy(n.triggerContainerProxy.bind(n)))}));y.push(g.$on("$mdMenuClose",
function(k,p){v[0].contains(p[0])&&(n.currentlyOpenMenu=void 0)}));x=angular.element(e.nodesToArray(v[0].children[0].children));x.on("mouseenter",n.handleMenuItemHover);x.on("mouseleave",n.handleMenuItemMouseLeave)};this.disableHoverListener=function(){for(;y.length;)y.shift()();x&&x.off("mouseenter",n.handleMenuItemHover);x&&x.off("mouseleave",n.handleMenuItemMouseLeave)};this.handleMenuItemHover=function(k){if(!n.isAlreadyOpening){var p=k.target.querySelector("md-menu")||e.getClosest(k.target,"MD-MENU");
r=f(function(){p&&(p=angular.element(p).controller("mdMenu"));if(n.currentlyOpenMenu&&n.currentlyOpenMenu!=p){var t=n.nestLevel+1;n.currentlyOpenMenu.close(!0,{closeTo:t});n.isAlreadyOpening=!!p;p&&p.open()}else p&&!p.isOpen&&p.open&&(n.isAlreadyOpening=!!p,p&&p.open())},p?100:250);(k=k.currentTarget.querySelector(".md-button:not([disabled])"))&&k.focus()}};this.handleMenuItemMouseLeave=function(){r&&(f.cancel(r),r=void 0)};this.open=function(k){k&&k.stopPropagation();k&&k.preventDefault();n.isOpen||
(n.enableHoverListener(),n.isOpen=!0,e.nextTick(function(){n.onIsOpenChanged(n.isOpen)}),q=q||(k?k.target:d[0]),q.setAttribute("aria-expanded","true"),c.$emit("$mdMenuOpen",d),a.show({scope:c,mdMenuCtrl:n,nestLevel:n.nestLevel,element:v,target:q,preserveElement:!0,parent:"body"}).finally(function(){q.setAttribute("aria-expanded","false");n.disableHoverListener()}))};this.onIsOpenChanged=function(k){k?(v.attr("aria-hidden","false"),d[0].classList.add("md-open"),angular.forEach(n.nestedMenus,function(p){p.classList.remove("md-open")})):
(v.attr("aria-hidden","true"),d[0].classList.remove("md-open"));c.$mdMenuIsOpen=n.isOpen};this.focusMenuContainer=function(){var k=v[0].querySelector(m.buildSelector(["md-menu-focus-target","md-autofocus"]));k||(k=v[0].querySelector(".md-button:not([disabled])"));k.focus()};this.registerContainerProxy=function(k){this.containerProxy=k};this.triggerContainerProxy=function(k){this.containerProxy&&this.containerProxy(k)};this.destroy=function(){return n.isOpen?a.destroy():h.when(!1)};this.close=function(k,
p){if(n.isOpen){n.isOpen=!1;e.nextTick(function(){n.onIsOpenChanged(n.isOpen)});var t=angular.extend({},p,{skipFocus:k});c.$emit("$mdMenuClose",d,t);a.hide(null,p);k||(k=n.restoreFocusTo||d.find("button")[0],k instanceof angular.element&&(k=k[0]),k&&k.focus())}};this.positionMode=function(){var k=(b.mdPositionMode||"target").split(" ");k.length===1&&k.push(k[0]);return{left:k[0],top:k[1]}};this.offsets=function(){var k=(b.mdOffset||"0 0").split(" ").map(parseFloat);if(k.length===2)return{left:k[0],
top:k[1]};if(k.length===1)return{top:k[0],left:k[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>");};c.$mdMenu={open:this.open,close:this.close};c.$mdOpenMenu=angular.bind(this,function(){l.warn("mdMenu: The $mdOpenMenu method is deprecated. Please use `$mdMenu.open`.");return this.open.apply(this,arguments)})}MenuDirective.$inject=["$mdUtil"];angular.module("material.components.menu").directive("mdMenu",MenuDirective);
function MenuDirective(a){function b(c){c.addClass("md-menu");var e=c.children()[0],f=a.prefixer();f.hasAttribute(e,"ng-click")||(e=e.querySelector(f.buildSelector(["ng-click","ng-mouseenter"]))||e);f=e.nodeName==="MD-BUTTON"||e.nodeName==="BUTTON";e&&f&&!e.hasAttribute("type")&&e.setAttribute("type","button");if(!e)throw Error("Invalid HTML for md-menu: Expected the menu to have a trigger element.");if(c.children().length!==2)throw Error("Invalid HTML for md-menu: Expected two children elements. The second element must have a `md-menu-content` element.");
e&&e.setAttribute("aria-haspopup","true");e=c[0].querySelectorAll("md-menu");var g=parseInt(c[0].getAttribute("md-nest-level"),10)||0;e&&angular.forEach(a.nodesToArray(e),function(h){h.hasAttribute("md-position-mode")||h.setAttribute("md-position-mode","cascade");h.classList.add("_md-nested-menu");h.setAttribute("md-nest-level",g+1)});return d}function d(c,e,f,g){c=g[0];g=!!g[1];var h=angular.element('<div class="_md md-open-menu-container md-whiteframe-z2"></div>');f=e.children()[1];e.addClass("_md");
f.hasAttribute("role")||f.setAttribute("role","menu");h.append(f);e.on("$destroy",function(){h.remove()});e.append(h);h[0].style.display="none";c.init(h,{isInMenuBar:g})}return{restrict:"E",require:["mdMenu","?^mdMenuBar"],controller:"mdMenuCtrl",scope:!0,compile:b}}MenuProvider.$inject=["$$interimElementProvider"];angular.module("material.components.menu").provider("$mdMenu",MenuProvider);
function MenuProvider(a){function b(c,e,f,g,h,l,m,v,n,q){function r(A,w,B){if(B.nestLevel)return angular.noop;B.disableParentScroll&&!c.getClosest(B.target,"MD-DIALOG")?B.restoreScroll=c.disableScrollAround(B.element,B.parent):B.disableParentScroll=!1;B.hasBackdrop&&(B.backdrop=c.createBackdrop(A,"md-menu-backdrop md-click-catcher"),n.enter(B.backdrop,g[0].body));return function(){B.backdrop&&B.backdrop.remove();B.disableParentScroll&&B.restoreScroll()}}function x(A,w,B){function u(){w.removeClass("md-active");
var z=w,D=B;D.preserveElement?d(z).style.display="none":d(z).parentNode===d(D.parent)&&d(D.parent).removeChild(d(z));B.alreadyOpen=!1}B.cleanupInteraction();B.cleanupBackdrop();B.cleanupResizing();B.hideBackdrop();w.removeClass("md-clickable");return B.$destroy===!0?u():v(w,{addClass:"md-leave"}).start().then(u)}function y(A,w,B){function u(){B.parent.append(w);w[0].style.display="";return l(function(C){var F=p(w,B);w.removeClass("md-leave");v(w,{addClass:"md-active",from:H.toCss(F),to:H.toCss({transform:""})}).start().then(C)})}
function z(){var C=function(F,O){return m.throttle(function(){if(!B.isRemoved){var S=p(F,O);F.css(H.toCss(S))}})}(w,B);h.addEventListener("resize",C);h.addEventListener("orientationchange",C);return function(){h.removeEventListener("resize",C);h.removeEventListener("orientationchange",C)}}function D(){if(!B.backdrop)return angular.noop;B.backdrop.on("click",G);return function(){B.backdrop.off("click",G)}}function G(C){C.preventDefault();C.stopPropagation();A.$apply(function(){B.mdMenuCtrl.close(!0,
{closeAll:!0})})}function N(){function C(I){switch(I.keyCode){case f.KEY_CODE.ESCAPE:B.mdMenuCtrl.close(!1,{closeAll:!0});var J=!0;break;case f.KEY_CODE.TAB:B.mdMenuCtrl.close(!1,{closeAll:!0});J=!1;break;case f.KEY_CODE.UP_ARROW:k(I,B.menuContentEl,B,-1)||B.nestLevel||B.mdMenuCtrl.triggerContainerProxy(I);J=!0;break;case f.KEY_CODE.DOWN_ARROW:k(I,B.menuContentEl,B,1)||B.nestLevel||B.mdMenuCtrl.triggerContainerProxy(I);J=!0;break;case f.KEY_CODE.LEFT_ARROW:B.nestLevel?B.mdMenuCtrl.close():B.mdMenuCtrl.triggerContainerProxy(I);
J=!0;break;case f.KEY_CODE.RIGHT_ARROW:(J=c.getClosest(I.target,"MD-MENU"))&&J!=B.parent[0]?I.target.click():B.mdMenuCtrl.triggerContainerProxy(I),J=!0}J&&(I.preventDefault(),I.stopImmediatePropagation())}function F(I){function J(){A.$apply(function(){B.mdMenuCtrl.close(!0,{closeAll:!0})})}function Q(Y,R){if(!Y)return!1;for(var U=0,X;X=R[U];++U)if(t.hasAttribute(Y,X))return!0;return!1}I=I.target;do{if(I==B.menuContentEl[0])break;if((Q(I,["ng-click","ng-href","ui-sref"])||I.nodeName=="BUTTON"||I.nodeName==
"MD-BUTTON")&&!Q(I,["md-prevent-menu-close"])){var T=c.getClosest(I,"MD-MENU");I.hasAttribute("disabled")||T&&T!=B.parent[0]||J();break}}while(I=I.parentNode)}if(!B.menuContentEl[0])return angular.noop;B.menuContentEl.on("keydown",C);B.menuContentEl[0].addEventListener("click",F,!0);var O=B.menuContentEl[0].querySelector(t.buildSelector(["md-menu-focus-target","md-autofocus"]));if(!O)for(var S=B.menuContentEl[0].children.length,K=0;K<S;K++){var M=B.menuContentEl[0].children[K];if(O=M.querySelector(".md-button:not([disabled])"))break;
if(M.firstElementChild&&!M.firstElementChild.disabled){O=M.firstElementChild;break}}O&&O.focus();return function(){B.menuContentEl.off("keydown",C);B.menuContentEl[0].removeEventListener("click",F,!0)}}if(!B.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");angular.extend(B,{alreadyOpen:!1,isRemoved:!1,target:angular.element(B.target),parent:angular.element(B.parent),menuContentEl:angular.element(w[0].querySelector("md-menu-content"))});B.menuContentEl[0]?e.inherit(B.menuContentEl,
B.target):q.warn("$mdMenu: Menu elements should always contain a `md-menu-content` element,otherwise interactivity features will not work properly.",w);B.cleanupResizing=z();B.hideBackdrop=r(A,w,B);return u().then(function(C){B.alreadyOpen=!0;B.cleanupInteraction=N();B.cleanupBackdrop=D();w.addClass("md-clickable");return C})}function k(A,w,B,u){A=c.getClosest(A.target,"MD-MENU-ITEM");w=c.nodesToArray(w[0].children);A=w.indexOf(A);for(A+=u;A>=0&&A<w.length;A+=u){var z=w[A].querySelector(".md-button");
z&&z.getAttribute("tabindex")!=-1?(z.focus(),z=g[0].activeElement==z):z=void 0;if(z)break}return z}function p(A,w){function B(Q){Q.top=Math.max(Math.min(Q.top,S.bottom-z.offsetHeight),S.top);Q.left=Math.max(Math.min(Q.left,S.right-z.offsetWidth),S.left)}function u(){for(var Q=0;Q<D.children.length;++Q)if(h.getComputedStyle(D.children[Q]).display!="none")return D.children[Q]}var z=A[0],D=A[0].firstElementChild,G=D.getBoundingClientRect(),N=g[0].body,C=N.getBoundingClientRect(),F=h.getComputedStyle(D),
O=w.target[0].querySelector(t.buildSelector("md-menu-origin"))||w.target[0];N=O.getBoundingClientRect();var S={left:C.left+8,top:Math.max(C.top,0)+8,bottom:Math.max(C.bottom,Math.max(C.top,0)+C.height)-8,right:C.right-8},K={top:0,left:0,right:0,bottom:0},M={top:0,left:0,right:0,bottom:0},I=w.mdMenuCtrl.positionMode();if(I.top==="target"||I.left==="target"||I.left==="target-right")if(C=u())C=C.firstElementChild||C,C=C.querySelector(t.buildSelector("md-menu-align-target"))||C,K=C.getBoundingClientRect(),
M={top:parseFloat(z.style.top||0),left:parseFloat(z.style.left||0)};C={};var J="top ";switch(I.top){case "target":C.top=M.top+N.top-K.top;break;case "cascade":C.top=N.top-parseFloat(F.paddingTop)-O.style.top;break;case "bottom":C.top=N.top+N.height;break;default:throw Error('Invalid target mode "'+I.top+'" specified for md-menu on Y axis.');}A=c.isRtl(A);switch(I.left){case "target":C.left=M.left+N.left-K.left;J+=A?"right":"left";break;case "target-left":C.left=N.left;J+="left";break;case "target-right":C.left=
N.right-G.width+(G.right-K.right);J+="right";break;case "cascade":A=A?N.left-G.width<S.left:N.right+G.width<S.right;C.left=A?N.right-O.style.left:N.left-O.style.left-G.width;J+=A?"left":"right";break;case "right":A?(C.left=N.right-N.width,J+="left"):(C.left=N.right-G.width,J+="right");break;case "left":A?(C.left=N.right-G.width,J+="right"):(C.left=N.left,J+="left");break;default:throw Error('Invalid target mode "'+I.left+'" specified for md-menu on X axis.');}G=w.mdMenuCtrl.offsets();C.top+=G.top;
C.left+=G.left;B(C);G=Math.round(100*Math.min(N.width/z.offsetWidth,1))/100;N=Math.round(100*Math.min(N.height/z.offsetHeight,1))/100;return{top:Math.round(C.top),left:Math.round(C.left),transform:w.alreadyOpen?void 0:c.supplant("scale({0},{1})",[G,N]),transformOrigin:J}}var t=c.prefixer(),H=c.dom.animator;return{parent:"body",onShow:y,onRemove:x,hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,multiple:!0,themable:!0}}function d(c){c instanceof angular.element&&(c=c[0]);return c}
b.$inject="$mdUtil $mdTheming $mdConstant $document $window $q $$rAF $animateCss $animate $log".split(" ");return a("$mdMenu").setDefaults({methods:["target"],options:b})}ngmaterial.components.menu=angular.module("material.components.menu");angular.module("material.components.menuBar",["material.core","material.components.icon","material.components.menu"]);MenuBarController.$inject="$scope $rootScope $element $attrs $mdConstant $document $mdUtil $timeout".split(" ");angular.module("material.components.menuBar").controller("MenuBarController",MenuBarController);var BOUND_MENU_METHODS=["handleKeyDown","handleMenuHover","scheduleOpenHoveredMenu","cancelScheduledOpen"];
function MenuBarController(a,b,d,c,e,f,g,h){this.$element=d;this.$attrs=c;this.$mdConstant=e;this.$mdUtil=g;this.$document=f;this.$scope=a;this.$rootScope=b;this.$timeout=h;var l=this;angular.forEach(BOUND_MENU_METHODS,function(m){l[m]=angular.bind(l,l[m])})}
MenuBarController.prototype.init=function(){var a=this.$element,b=this.$mdUtil,d=this.$scope,c=this,e=[];a.on("keydown",this.handleKeyDown);this.parentToolbar=b.getClosest(a,"MD-TOOLBAR");e.push(this.$rootScope.$on("$mdMenuOpen",function(f,g){c.getMenus().indexOf(g[0])!=-1&&(a[0].classList.add("md-open"),g[0].classList.add("md-open"),c.currentlyOpenMenu=g.controller("mdMenu"),c.currentlyOpenMenu.registerContainerProxy(c.handleKeyDown),c.enableOpenOnHover())}));e.push(this.$rootScope.$on("$mdMenuClose",
function(f,g,h){f=c.getMenus();f.indexOf(g[0])!=-1&&(a[0].classList.remove("md-open"),g[0].classList.remove("md-open"));if(a[0].contains(g[0])){for(g=g[0];g&&f.indexOf(g)==-1;)g=b.getClosest(g,"MD-MENU",!0);g&&(h.skipFocus||g.querySelector("button:not([disabled])").focus(),c.currentlyOpenMenu=void 0,c.disableOpenOnHover(),c.setKeyboardMode(!0))}}));d.$on("$destroy",function(){for(c.disableOpenOnHover();e.length;)e.shift()()});this.setKeyboardMode(!0)};
MenuBarController.prototype.setKeyboardMode=function(a){a?this.$element[0].classList.add("md-keyboard-mode"):this.$element[0].classList.remove("md-keyboard-mode")};MenuBarController.prototype.enableOpenOnHover=function(){if(!this.openOnHoverEnabled){var a=this;a.openOnHoverEnabled=!0;a.parentToolbar&&(a.parentToolbar.classList.add("md-has-open-menu"),a.$mdUtil.nextTick(function(){angular.element(a.parentToolbar).on("click",a.handleParentClick)},!1));angular.element(a.getMenus()).on("mouseenter",a.handleMenuHover)}};
MenuBarController.prototype.handleMenuHover=function(a){this.setKeyboardMode(!1);this.openOnHoverEnabled&&this.scheduleOpenHoveredMenu(a)};MenuBarController.prototype.disableOpenOnHover=function(){this.openOnHoverEnabled&&(this.openOnHoverEnabled=!1,this.parentToolbar&&(this.parentToolbar.classList.remove("md-has-open-menu"),angular.element(this.parentToolbar).off("click",this.handleParentClick)),angular.element(this.getMenus()).off("mouseenter",this.handleMenuHover))};
MenuBarController.prototype.scheduleOpenHoveredMenu=function(a){a=angular.element(a.currentTarget);a=a.controller("mdMenu");this.setKeyboardMode(!1);this.scheduleOpenMenu(a)};MenuBarController.prototype.scheduleOpenMenu=function(a){var b=this,d=this.$timeout;a!=b.currentlyOpenMenu&&(d.cancel(b.pendingMenuOpen),b.pendingMenuOpen=d(function(){b.pendingMenuOpen=void 0;b.currentlyOpenMenu&&b.currentlyOpenMenu.close(!0,{closeAll:!0});a.open()},200,!1))};
MenuBarController.prototype.handleKeyDown=function(a){var b=this.$mdConstant.KEY_CODE,d=this.currentlyOpenMenu,c=d&&d.isOpen;this.setKeyboardMode(!0);switch(a.keyCode){case b.DOWN_ARROW:d?d.focusMenuContainer():this.openFocusedMenu();var e=!0;break;case b.UP_ARROW:d&&d.close();e=!0;break;case b.LEFT_ARROW:b=this.focusMenu(-1);c&&(c=angular.element(b).controller("mdMenu"),this.scheduleOpenMenu(c));e=!0;break;case b.RIGHT_ARROW:b=this.focusMenu(1),c&&(c=angular.element(b).controller("mdMenu"),this.scheduleOpenMenu(c)),
e=!0}e&&(a&&a.preventDefault&&a.preventDefault(),a&&a.stopImmediatePropagation&&a.stopImmediatePropagation())};MenuBarController.prototype.focusMenu=function(a){var b=this.getMenus(),d=this.getFocusedMenuIndex();d==-1&&(d=this.getOpenMenuIndex());var c=!1;if(d==-1)d=0,c=!0;else if(a<0&&d>0||a>0&&d<b.length-a)d+=a,c=!0;if(c)return b[d].querySelector("button").focus(),b[d]};MenuBarController.prototype.openFocusedMenu=function(){var a=this.getFocusedMenu();a&&angular.element(a).controller("mdMenu").open()};
MenuBarController.prototype.getMenus=function(){var a=this.$element;return this.$mdUtil.nodesToArray(a[0].children).filter(function(b){return b.nodeName=="MD-MENU"})};MenuBarController.prototype.getFocusedMenu=function(){return this.getMenus()[this.getFocusedMenuIndex()]};MenuBarController.prototype.getFocusedMenuIndex=function(){var a=this.$mdUtil;a=a.getClosest(this.$document[0].activeElement,"MD-MENU");return a?a=this.getMenus().indexOf(a):-1};
MenuBarController.prototype.getOpenMenuIndex=function(){for(var a=this.getMenus(),b=0;b<a.length;++b)if(a[b].classList.contains("md-open"))return b;return-1};MenuBarController.prototype.handleParentClick=function(a){var b=this.querySelector("md-menu.md-open");b&&!b.contains(a.target)&&angular.element(b).controller("mdMenu").close(!0,{closeAll:!0})};MenuBarDirective.$inject=["$mdUtil","$mdTheming"];angular.module("material.components.menuBar").directive("mdMenuBar",MenuBarDirective);
function MenuBarDirective(a,b){return{restrict:"E",require:"mdMenuBar",controller:"MenuBarController",compile:function(d,c){c.ariaRole||d[0].setAttribute("role","menubar");angular.forEach(d[0].children,function(e){e.nodeName=="MD-MENU"&&(e.hasAttribute("md-position-mode")||(e.setAttribute("md-position-mode","left bottom"),e.querySelector("button, a, md-button").setAttribute("role","menuitem")),e=a.nodesToArray(e.querySelectorAll("md-menu-content")),angular.forEach(e,function(f){f.classList.add("md-menu-bar-menu");
f.classList.add("md-dense");f.hasAttribute("width")||f.setAttribute("width",5)}))});d.find("md-menu-item").addClass("md-in-menu-bar");return function(e,f,g,h){f.addClass("_md");b(e,f);h.init()}}}}angular.module("material.components.menuBar").directive("mdMenuDivider",MenuDividerDirective);function MenuDividerDirective(){return{restrict:"E",compile:function(a,b){b.role||a[0].setAttribute("role","separator")}}}MenuItemController.$inject=["$scope","$element","$attrs"];
angular.module("material.components.menuBar").controller("MenuItemController",MenuItemController);function MenuItemController(a,b,d){this.$element=b;this.$attrs=d;this.$scope=a}MenuItemController.prototype.init=function(a){var b=this.$element,d=this.$attrs;this.ngModel=a;if(d.type=="checkbox"||d.type=="radio")this.mode=d.type,this.iconEl=b[0].children[0],this.buttonEl=b[0].children[1],a&&this.initClickListeners()};
MenuItemController.prototype.clearNgAria=function(){var a=this.$element[0],b=["role","tabindex","aria-invalid","aria-checked"];angular.forEach(b,function(d){a.removeAttribute(d)})};
MenuItemController.prototype.initClickListeners=function(){function a(m){if(m)h.off("click",l);else h.on("click",l)}var b=this,d=this.ngModel,c=this.$scope,e=this.$attrs,f=this.mode;this.handleClick=angular.bind(this,this.handleClick);var g=this.iconEl,h=angular.element(this.buttonEl),l=this.handleClick;e.$observe("disabled",a);a(e.disabled);d.$render=function(){b.clearNgAria();if(f=="radio"){var m=e.ngValue?c.$eval(e.ngValue):e.value;m=d.$modelValue==m}else m=d.$modelValue;m?(g.style.display="",
h.attr("aria-checked","true")):(g.style.display="none",h.attr("aria-checked","false"))};c.$$postDigest(d.$render)};MenuItemController.prototype.handleClick=function(){var a=this.mode,b=this.ngModel,d=this.$attrs,c;a=="checkbox"?c=!b.$modelValue:a=="radio"&&(c=d.ngValue?this.$scope.$eval(d.ngValue):d.value);b.$setViewValue(c);b.$render()};MenuItemDirective.$inject=["$mdUtil","$mdConstant","$$mdSvgRegistry"];angular.module("material.components.menuBar").directive("mdMenuItem",MenuItemDirective);
function MenuItemDirective(a,b,d){return{controller:"MenuItemController",require:["mdMenuItem","?ngModel"],priority:b.BEFORE_NG_ARIA,compile:function(c,e){function f(n,q,r){r=r||c;r instanceof angular.element&&(r=r[0]);r.hasAttribute(n)||r.setAttribute(n,q)}function g(n){n=a.prefixer(n);angular.forEach(n,function(q){if(c[0].hasAttribute(q)){var r=c[0].getAttribute(q);m[0].setAttribute(q,r);c[0].removeAttribute(q)}})}var h=e.type;if(h!=="checkbox"&&h!=="radio"||!c.hasClass("md-in-menu-bar"))f("role",
"menuitem",c[0].querySelector("md-button, button, a"));else{var l=c[0].textContent,m=angular.element('<md-button type="button"></md-button>'),v='<md-icon md-svg-src="'+d.mdChecked+'"></md-icon>';m.html(l);m.attr("tabindex","0");angular.isDefined(e.mdPreventMenuClose)&&m.attr("md-prevent-menu-close",e.mdPreventMenuClose);c.html("");c.append(angular.element(v));c.append(m);c.addClass("md-indent").removeClass("md-in-menu-bar");f("role",h==="checkbox"?"menuitemcheckbox":"menuitemradio",m);g("ng-disabled")}return function(n,
q,r,x){n=x[0];x=x[1];n.init(x)}}}}ngmaterial.components.menuBar=angular.module("material.components.menuBar");MdNavBar.$inject=["$mdAria","$mdTheming"];MdNavBarController.$inject=["$element","$scope","$timeout","$mdConstant"];MdNavItem.$inject=["$mdAria","$$rAF","$mdUtil","$window"];MdNavItemController.$inject=["$element"];angular.module("material.components.navBar",["material.core"]).controller("MdNavBarController",MdNavBarController).directive("mdNavBar",MdNavBar).controller("MdNavItemController",MdNavItemController).directive("mdNavItem",MdNavItem);
function MdNavBar(a,b){return{restrict:"E",transclude:!0,controller:MdNavBarController,controllerAs:"ctrl",bindToController:!0,scope:{mdSelectedNavItem:"=?",mdNoInkBar:"=?",navBarAriaLabel:"@?"},template:'<div class="md-nav-bar"><nav role="navigation"><ul class="_md-nav-bar-list" ng-transclude role="tablist" ng-focus="ctrl.onFocus()" aria-label="{{ctrl.navBarAriaLabel}}"></ul></nav><md-nav-ink-bar ng-hide="ctrl.mdNoInkBar"></md-nav-ink-bar></div>',link:function(d,c,e,f){b(c);f.navBarAriaLabel||a.expectAsync(c,
"aria-label",angular.noop)}}}function MdNavBarController(a,b,d,c){this._$timeout=d;this._$scope=b;this._$mdConstant=c;this._navBarEl=a[0];var e=this,f=this._$scope.$watch(function(){return e._navBarEl.querySelectorAll("._md-nav-button").length},function(g){g>0&&(e._initTabs(),f())})}
MdNavBarController.prototype._initTabs=function(){this._inkbar=angular.element(this._navBarEl.querySelector("md-nav-ink-bar"));var a=this;this._$timeout(function(){a._updateTabs(a.mdSelectedNavItem,void 0)});this._$scope.$watch("ctrl.mdSelectedNavItem",function(b,d){a._$timeout(function(){a._updateTabs(b,d)})})};
MdNavBarController.prototype._updateTabs=function(a,b){var d=this,c=this._getTabs(),e=a===b;if(c){var f=-1,g=-1,h=this._getTabByName(a),l=this._getTabByName(b);l&&(l.setSelected(!1),f=c.indexOf(l));h&&(h.setSelected(!0),g=c.indexOf(h));this._$timeout(function(){d._updateInkBarStyles(h,g,f);h&&l&&!e&&d._moveFocus(l,h)})}};
MdNavBarController.prototype._updateInkBarStyles=function(a,b,d){this._inkbar.toggleClass("_md-left",b<d).toggleClass("_md-right",b>d);this._inkbar.css({display:b<0?"none":""});a&&(a=a.getButtonEl(),b=a.offsetLeft,this._inkbar.css({left:b+"px",width:a.offsetWidth+"px"}))};MdNavBarController.prototype._getTabs=function(){var a=Array.prototype.slice.call(this._navBarEl.querySelectorAll(".md-nav-item")).map(function(b){return angular.element(b).controller("mdNavItem")});return a.indexOf(void 0)?a:null};
MdNavBarController.prototype._getTabByName=function(a){return this._findTab(function(b){return b.getName()===a})};MdNavBarController.prototype._getSelectedTab=function(){return this._findTab(function(a){return a.isSelected()})};MdNavBarController.prototype.getFocusedTab=function(){return this._findTab(function(a){return a.hasFocus()})};MdNavBarController.prototype._findTab=function(a,b){var d=this._getTabs();if(b===void 0||b===null)b=0;for(;b<d.length;b++)if(a(d[b]))return d[b];return null};
MdNavBarController.prototype._findTabReverse=function(a,b){var d=this._getTabs();if(b===void 0||b===null)b=d.length-1;for(;b>=0;b--)if(a(d[b]))return d[b];return null};MdNavBarController.prototype.onFocus=function(){var a=this._getSelectedTab();a&&a.setFocused(!0)};MdNavBarController.prototype._moveFocus=function(a,b){a.setFocused(!1);b.setFocused(!0)};
MdNavBarController.prototype._focusFirstTab=function(){var a=this._getTabs();a&&(a=this._findTab(function(b){return b._isEnabled()}))&&this._moveFocus(this.getFocusedTab(),a)};MdNavBarController.prototype._focusLastTab=function(){var a=this._getTabs();a&&(a=this._findTabReverse(function(b){return b._isEnabled()}))&&this._moveFocus(this.getFocusedTab(),a)};
MdNavBarController.prototype._focusNextTab=function(a){var b=this._getTabs();b&&((a=this._findTab(function(d){return d._isEnabled()},a+1))?this._moveFocus(this.getFocusedTab(),a):this._focusFirstTab())};MdNavBarController.prototype._focusPreviousTab=function(a){var b=this._getTabs();b&&((a=this._findTabReverse(function(d){return d._isEnabled()},a-1))?this._moveFocus(this.getFocusedTab(),a):this._focusLastTab())};
MdNavBarController.prototype.onKeydown=function(a){var b=this._$mdConstant.KEY_CODE,d=this._getTabs(),c=this.getFocusedTab();if(c&&d)switch(d=d.indexOf(c),a.keyCode){case b.UP_ARROW:case b.LEFT_ARROW:a.preventDefault();this._focusPreviousTab(d);break;case b.DOWN_ARROW:case b.RIGHT_ARROW:a.preventDefault();this._focusNextTab(d);break;case b.SPACE:case b.ENTER:this._$timeout(function(){c.getButtonEl().click()});break;case b.HOME:a.preventDefault();this._focusFirstTab();break;case b.END:a.preventDefault(),
this._focusLastTab()}};
function MdNavItem(a,b,d,c){return{restrict:"E",require:["mdNavItem","^mdNavBar"],controller:MdNavItemController,bindToController:!0,controllerAs:"ctrl",replace:!0,transclude:!0,template:function(e,f){e=f.mdNavClick;var g=f.mdNavHref,h=f.mdNavSref;f=f.srefOpts;var l;if((e?1:0)+(g?1:0)+(h?1:0)>1)throw Error("Please do not specify more than one of the md-nav-click, md-nav-href, or md-nav-sref attributes per nav-item directive.");if(e!==void 0&&e!==null)e='ng-click="ctrl.mdNavClick()"';else if(g!==void 0&&
g!==null)e='ng-href="{{ctrl.mdNavHref}}"';else if(h!==void 0&&h!==null)e='ui-sref="{{ctrl.mdNavSref}}"';else throw Error("Please specify at least one of the md-nav-click, md-nav-href, or md-nav-sref attributes per nav-item directive.");f=f?'ui-sref-opts="{{ctrl.srefOpts}}" ':"";e&&(l='<md-button class="_md-nav-button md-accent" ng-class="ctrl.getNgClassMap()" ng-blur="ctrl.setFocused(false)" ng-disabled="ctrl.disabled" tabindex="-1" role="tab" ng-attr-aria-label="{{ctrl.navItemAriaLabel ? ctrl.navItemAriaLabel : undefined}}" aria-selected="{{ctrl.isSelected()}}" '+
f+e+'><span ng-transclude class="_md-nav-button-text"></span></md-button>');return'<li class="md-nav-item" role="presentation">'+(l||"")+"</li>"},scope:{mdNavClick:"&?",mdNavHref:"@?",mdNavSref:"@?",srefOpts:"=?",name:"@",navItemAriaLabel:"@?"},link:function(e,f,g,h){var l,m,v,n;b(function(){m=h[0];v=h[1];n=angular.element(f[0].querySelector("._md-nav-button"));m.name||(m.name=angular.element(f[0].querySelector("._md-nav-button-text")).text().trim());n.on("keydown",function(y){v.onKeydown(y)});n.on("focus",
function(){if(!v.getFocusedTab())v.onFocus()});n.on("click",function(){v.mdSelectedNavItem=m.name;e.$apply()});m.disabled=d.parseAttributeBoolean(g.disabled,!1);if("MutationObserver"in c){var q={attributes:!0,attributeFilter:["disabled"]},r=f[0],x=function(y){d.nextTick(function(){m.disabled=d.parseAttributeBoolean(g[y[0].attributeName],!1)})};x=new MutationObserver(x);x.observe(r,q);l=x.disconnect.bind(x)}else g.$observe("disabled",function(y){m.disabled=d.parseAttributeBoolean(y,!1)});m.navItemAriaLabel||
a.expectWithText(n,"aria-label")});e.$on("destroy",function(){n.off("keydown");n.off("focus");n.off("click");l()})}}}function MdNavItemController(a){this._$element=a;this._focused=this._selected=!1}MdNavItemController.prototype.getNgClassMap=function(){return{"md-active":this._selected,"md-primary":this._selected,"md-unselected":!this._selected,"md-focused":this._focused}};MdNavItemController.prototype.getName=function(){return this.name};MdNavItemController.prototype.getButtonEl=function(){return this._$element[0].querySelector("._md-nav-button")};
MdNavItemController.prototype.setSelected=function(a){(this._selected=a)?this.getButtonEl().setAttribute("tabindex","0"):this.getButtonEl().setAttribute("tabindex","-1")};MdNavItemController.prototype.isSelected=function(){return this._selected};MdNavItemController.prototype.setFocused=function(a){(this._focused=a)&&this.getButtonEl().focus()};MdNavItemController.prototype.hasFocus=function(){return this._focused};MdNavItemController.prototype._isEnabled=function(){return!this._$element.attr("disabled")};
ngmaterial.components.navBar=angular.module("material.components.navBar");MdPanelService.$inject=["presets","$rootElement","$rootScope","$injector","$window"];angular.module("material.components.panel",["material.core","material.components.backdrop"]).provider("$mdPanel",MdPanelProvider);var FOCUS_TRAP_TEMPLATE,_presets={};function MdPanelProvider(){return{definePreset:definePreset,getAllPresets:getAllPresets,clearPresets:clearPresets,$get:$getProvider()}}
function definePreset(a,b){if(!a||!b)throw Error("mdPanelProvider: The panel preset definition is malformed. The name and preset object are required.");if(_presets.hasOwnProperty(a))throw Error("mdPanelProvider: The panel preset you have requested has already been defined.");delete b.id;delete b.position;delete b.animation;_presets[a]=b}function getAllPresets(){return angular.copy(_presets)}function clearPresets(){_presets={}}
function $getProvider(){return["$rootElement","$rootScope","$injector","$window",function(a,b,d,c){return new MdPanelService(_presets,a,b,d,c)}]}
function MdPanelService(a,b,d,c,e){this._defaultConfigOptions={bindToController:!0,clickOutsideToClose:!1,disableParentScroll:!1,escapeToClose:!1,focusOnOpen:!0,fullscreen:!1,hasBackdrop:!1,propagateContainerEvents:!1,transformTemplate:angular.bind(this,this._wrapTemplate),trapFocus:!1,zIndex:80};this._config={};this._presets=a;this._$rootElement=b;this._$rootScope=d;this._$injector=c;this._$window=e;this._$mdUtil=this._$injector.get("$mdUtil");this._trackedPanels={};this._groups=Object.create(null);
this.animation=MdPanelAnimation.animation;this.xPosition=MdPanelPosition.xPosition;this.yPosition=MdPanelPosition.yPosition;this.interceptorTypes=MdPanelRef.interceptorTypes;this.closeReasons=MdPanelRef.closeReasons;this.absPosition=MdPanelPosition.absPosition}
MdPanelService.prototype.create=function(a,b){typeof a==="string"?a=this._getPresetByName(a):typeof a!=="object"||!angular.isUndefined(b)&&b||(b=a,a={});a=a||{};b=b||{};if(angular.isDefined(b.id)&&this._trackedPanels[b.id])return a=this._trackedPanels[b.id],angular.extend(a.config,b),a;this._config=angular.extend({id:b.id||"panel_"+this._$mdUtil.nextUid(),scope:this._$rootScope.$new(!0),attachTo:this._$rootElement},this._defaultConfigOptions,b,a);var d=new MdPanelRef(this._config,this._$injector);
this._trackedPanels[this._config.id]=d;this._config.groupName&&(angular.isString(this._config.groupName)&&(this._config.groupName=[this._config.groupName]),angular.forEach(this._config.groupName,function(c){d.addToGroup(c)}));this._config.scope.$on("$destroy",angular.bind(d,d.detach));return d};MdPanelService.prototype.open=function(a,b){var d=this.create(a,b);return d.open().then(function(){return d})};
MdPanelService.prototype._getPresetByName=function(a){if(!this._presets[a])throw Error("mdPanel: The panel preset configuration that you requested does not exist. Use the $mdPanelProvider to create a preset before requesting one.");return this._presets[a]};MdPanelService.prototype.newPanelPosition=function(){return new MdPanelPosition(this._$injector)};MdPanelService.prototype.newPanelAnimation=function(){return new MdPanelAnimation(this._$injector)};
MdPanelService.prototype.newPanelGroup=function(a,b){this._groups[a]||(b=b||{},b={panels:[],openPanels:[],maxOpen:b.maxOpen>0?b.maxOpen:Infinity},this._groups[a]=b);return this._groups[a]};MdPanelService.prototype.setGroupMaxOpen=function(a,b){if(this._groups[a])this._groups[a].maxOpen=b;else throw Error("mdPanel: Group does not exist yet. Call newPanelGroup().");};
MdPanelService.prototype._openCountExceedsMaxOpen=function(a){return this._groups[a]?(a=this._groups[a],a.maxOpen>0&&a.openPanels.length>a.maxOpen):!1};MdPanelService.prototype._closeFirstOpenedPanel=function(a){this._groups[a].openPanels[0].close()};MdPanelService.prototype._wrapTemplate=function(a){a=a||"";return'<div class="md-panel-outer-wrapper">  <div class="md-panel _md-panel-offscreen">'+a+"</div></div>"};
MdPanelService.prototype._wrapContentElement=function(a){var b=angular.element('<div class="md-panel-outer-wrapper">');a.addClass("md-panel _md-panel-offscreen");b.append(a);return b};
function MdPanelRef(a,b){this._$q=b.get("$q");this._$mdCompiler=b.get("$mdCompiler");this._$mdConstant=b.get("$mdConstant");this._$mdUtil=b.get("$mdUtil");this._$mdTheming=b.get("$mdTheming");this._$rootScope=b.get("$rootScope");this._$animate=b.get("$animate");this._$mdPanel=b.get("$mdPanel");this._$log=b.get("$log");this._$window=b.get("$window");this._$$rAF=b.get("$$rAF");this.id=a.id;this.config=a;this.isAttached=!1;this._removeListeners=[];this._restoreScroll=null;this._interceptors=Object.create(null);
this._compilerCleanup=null;this._restoreCache={styles:"",classes:""}}MdPanelRef.interceptorTypes={CLOSE:"onClose"};MdPanelRef.prototype.open=function(){var a=this;return this._$q(function(b,d){b=a._done(b,a);var c=a._simpleBind(a.show,a),e=function(){a.config.groupName&&angular.forEach(a.config.groupName,function(f){a._$mdPanel._openCountExceedsMaxOpen(f)&&a._$mdPanel._closeFirstOpenedPanel(f)})};a.attach().then(c).then(e).then(b).catch(d)})};
MdPanelRef.prototype.close=function(a){var b=this;return this._$q(function(d,c){b._callInterceptors(MdPanelRef.interceptorTypes.CLOSE).then(function(){var e=b._done(d,b),f=b._simpleBind(b.detach,b),g=b.config.onCloseSuccess||angular.noop;g=angular.bind(b,g,b,a);b.hide().then(f).then(e).then(g).catch(c)},c)})};
MdPanelRef.prototype.attach=function(){if(this.isAttached&&this.panelEl)return this._$q.when(this);var a=this;return this._$q(function(b,d){b=a._done(b,a);var c=a.config.onDomAdded||angular.noop,e=function(f){a.isAttached=!0;a._addEventListeners();return f};a._$q.all([a._createBackdrop(),a._createPanel().then(e).catch(d)]).then(c).then(b).catch(d)})};
MdPanelRef.prototype.detach=function(){if(!this.isAttached)return this._$q.when(this);var a=this,b=a.config.onDomRemoved||angular.noop;this._restoreScroll&&(this._restoreScroll(),this._restoreScroll=null);return this._$q(function(d,c){d=a._done(d,a);var e=a._$q,f=e.all;a._removeEventListeners();a._topFocusTrap&&a._topFocusTrap.parentNode&&a._topFocusTrap.parentNode.removeChild(a._topFocusTrap);a._bottomFocusTrap&&a._bottomFocusTrap.parentNode&&a._bottomFocusTrap.parentNode.removeChild(a._bottomFocusTrap);
a._restoreCache.classes&&(a.panelEl[0].className=a._restoreCache.classes);a.panelEl[0].style.cssText=a._restoreCache.styles||"";a._compilerCleanup();a.panelContainer.remove();a.isAttached=!1;var g=a._$q.when(a);f.call(e,[g,a._backdropRef?a._backdropRef.detach():!0]).then(b).then(d).catch(c)})};
MdPanelRef.prototype.destroy=function(){var a=this;this.config.groupName&&angular.forEach(this.config.groupName,function(b){a.removeFromGroup(b)});this.config.scope.$destroy();this.config.locals=null;this.config.onDomAdded=null;this.config.onDomRemoved=null;this.config.onRemoving=null;this._interceptors=this.config.onOpenComplete=null};
MdPanelRef.prototype.show=function(){if(!this.panelContainer)return this._$q(function(b,d){d("mdPanel: Panel does not exist yet. Call open() or attach().")});if(!this.panelContainer.hasClass("_md-panel-hidden"))return this._$q.when(this);var a=this;return this._$q(function(b,d){b=a._done(b,a);var c=a.config.onOpenComplete||angular.noop,e=function(){a.config.groupName&&angular.forEach(a.config.groupName,function(m){a._$mdPanel._groups[m].openPanels.push(a)})},f=a._$q,g=f.all,h=a._backdropRef?a._backdropRef.show():
a;a.panelContainer.removeClass("_md-panel-hidden");var l=a._animateOpen();g.call(f,[h,l.then(function(){a._focusOnOpen()},d)]).then(c).then(e).then(b).catch(d)})};
MdPanelRef.prototype.hide=function(){if(!this.panelContainer)return this._$q(function(b,d){d("mdPanel: Panel does not exist yet. Call open() or attach().")});if(this.panelContainer.hasClass("_md-panel-hidden"))return this._$q.when(this);var a=this;return this._$q(function(b,d){b=a._done(b,a);var c=a.config.onRemoving||angular.noop,e=function(){a.panelContainer.addClass("_md-panel-hidden")},f=function(){if(a.config.groupName){var h;angular.forEach(a.config.groupName,function(l){l=a._$mdPanel._groups[l];
h=l.openPanels.indexOf(a);h>-1&&l.openPanels.splice(h,1)})}},g=function(){var h=a.config.origin;h&&getElement(h).focus()};a._$q.all([a._backdropRef?a._backdropRef.hide():a,a._animateClose().then(c).then(e).then(f).then(g).catch(d)]).then(b,d)})};
MdPanelRef.prototype.addClass=function(a,b){this._$log.warn("mdPanel: The addClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef.");if(!this.panelContainer)throw Error("mdPanel: Panel does not exist yet. Call open() or attach().");b||this.panelContainer.hasClass(a)?b&&!this.panelEl.hasClass(a)&&this.panelEl.addClass(a):
this.panelContainer.addClass(a)};
MdPanelRef.prototype.removeClass=function(a,b){this._$log.warn("mdPanel: The removeClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef.");if(!this.panelContainer)throw Error("mdPanel: Panel does not exist yet. Call open() or attach().");!b&&this.panelContainer.hasClass(a)?this.panelContainer.removeClass(a):b&&this.panelEl.hasClass(a)&&
this.panelEl.removeClass(a)};MdPanelRef.prototype.toggleClass=function(a,b){this._$log.warn("mdPanel: The toggleClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef.");if(!this.panelContainer)throw Error("mdPanel: Panel does not exist yet. Call open() or attach().");b?this.panelEl.toggleClass(a):this.panelContainer.toggleClass(a)};
MdPanelRef.prototype._compile=function(){var a=this;return a._$mdCompiler.compile(a.config).then(function(b){var d=a.config;d.contentElement?(d=b.element,a._restoreCache.styles=d[0].style.cssText,a._restoreCache.classes=d[0].className,a.panelContainer=a._$mdPanel._wrapContentElement(d),a.panelEl=d):(a.panelContainer=b.link(d.scope),a.panelEl=angular.element(a.panelContainer[0].querySelector(".md-panel")));a._compilerCleanup=b.cleanup;getElement(a.config.attachTo).append(a.panelContainer);return a})};
MdPanelRef.prototype._createPanel=function(){var a=this;return this._$q(function(b,d){a.config.locals||(a.config.locals={});a.config.locals.mdPanelRef=a;a._compile().then(function(){a.config.disableParentScroll&&(a._restoreScroll=a._$mdUtil.disableScrollAround(null,a.panelContainer,{disableScrollMask:!0}));a.config.panelClass&&a.panelEl.addClass(a.config.panelClass);a.config.propagateContainerEvents&&(a.panelContainer.css("pointer-events","none"),a.panelEl.css("pointer-events","all"));a._$animate.pin&&
a._$animate.pin(a.panelContainer,getElement(a.config.attachTo));a._configureTrapFocus();a._addStyles().then(function(){b(a)},d)},d)})};
MdPanelRef.prototype._addStyles=function(){var a=this;return this._$q(function(b){a.panelContainer.css("z-index",a.config.zIndex);a.panelEl.css("z-index",a.config.zIndex+1);var d=function(){a._setTheming();a.panelEl.removeClass("_md-panel-offscreen");a.panelContainer.addClass("_md-panel-hidden");b(a)};if(a.config.fullscreen)a.panelEl.addClass("_md-panel-fullscreen"),d();else{var c=a.config.position;c?a._$rootScope.$$postDigest(function(){a._updatePosition(!0);a._setTheming();b(a)}):d()}})};
MdPanelRef.prototype._setTheming=function(){this._$mdTheming(this.panelEl);this._$mdTheming(this.panelContainer)};MdPanelRef.prototype.updatePosition=function(a){if(!this.panelContainer)throw Error("mdPanel: Panel does not exist yet. Call open() or attach().");this.config.position=a;this._updatePosition()};
MdPanelRef.prototype._updatePosition=function(a){var b=this.config.position;b&&(b._setPanelPosition(this.panelEl),a&&(this.panelEl.removeClass("_md-panel-offscreen"),this.panelContainer.addClass("_md-panel-hidden")),this.panelEl.css(MdPanelPosition.absPosition.TOP,b.getTop()),this.panelEl.css(MdPanelPosition.absPosition.BOTTOM,b.getBottom()),this.panelEl.css(MdPanelPosition.absPosition.LEFT,b.getLeft()),this.panelEl.css(MdPanelPosition.absPosition.RIGHT,b.getRight()))};
MdPanelRef.prototype._focusOnOpen=function(){if(this.config.focusOnOpen){var a=this;this._$rootScope.$$postDigest(function(){var b=a._$mdUtil.findFocusTarget(a.panelEl)||a.panelEl;b.focus()})}};
MdPanelRef.prototype._createBackdrop=function(){if(this.config.hasBackdrop){if(!this._backdropRef){var a=this._$mdPanel.newPanelAnimation().openFrom(this.config.attachTo).withAnimation({open:"_md-opaque-enter",close:"_md-opaque-leave"});this.config.animation&&a.duration(this.config.animation._rawDuration);a={animation:a,attachTo:this.config.attachTo,focusOnOpen:!1,panelClass:"_md-panel-backdrop",zIndex:this.config.zIndex-1};this._backdropRef=this._$mdPanel.create(a)}if(!this._backdropRef.isAttached)return this._backdropRef.attach()}};
MdPanelRef.prototype._addEventListeners=function(){this._configureEscapeToClose();this._configureClickOutsideToClose();this._configureScrollListener()};MdPanelRef.prototype._removeEventListeners=function(){this._removeListeners&&this._removeListeners.forEach(function(a){a()});this._removeListeners=[]};
MdPanelRef.prototype._configureEscapeToClose=function(){if(this.config.escapeToClose){var a=getElement(this.config.attachTo),b=this,d=function(c){c.keyCode===b._$mdConstant.KEY_CODE.ESCAPE&&(c.stopPropagation(),c.preventDefault(),b.close(MdPanelRef.closeReasons.ESCAPE))};this.panelContainer.on("keydown",d);a.on("keydown",d);this._removeListeners.push(function(){b.panelContainer.off("keydown",d);a.off("keydown",d)})}};
MdPanelRef.prototype._configureClickOutsideToClose=function(){if(this.config.clickOutsideToClose){var a=this.config.propagateContainerEvents?angular.element(document.body):this.panelContainer,b,d=function(f){b=f.target},c=this,e=function(f){c.config.propagateContainerEvents?b===c.panelEl[0]||c.panelEl[0].contains(b)||c.close():b===a[0]&&f.target===a[0]&&(f.stopPropagation(),f.preventDefault(),c.close(MdPanelRef.closeReasons.CLICK_OUTSIDE))};a.on("mousedown",d);a.on("mouseup",e);this._removeListeners.push(function(){a.off("mousedown",
d);a.off("mouseup",e)})}};MdPanelRef.prototype._configureScrollListener=function(){if(!this.config.disableParentScroll){var a=angular.bind(this,this._updatePosition),b=this._$$rAF.throttle(a),d=this,c=function(){b()};this._$window.addEventListener("scroll",c,!0);this._removeListeners.push(function(){d._$window.removeEventListener("scroll",c,!0)})}};
MdPanelRef.prototype._configureTrapFocus=function(){this.panelEl.attr("tabIndex","-1");if(this.config.trapFocus){var a=this.panelEl;if(!FOCUS_TRAP_TEMPLATE){var b=document.createElement("div");b.className="_md-panel-focus-trap";b.tabIndex=0;FOCUS_TRAP_TEMPLATE=angular.element(b)}this._topFocusTrap=FOCUS_TRAP_TEMPLATE.clone()[0];this._bottomFocusTrap=FOCUS_TRAP_TEMPLATE.clone()[0];var d=function(){a.focus()};this._topFocusTrap.addEventListener("focus",d);this._bottomFocusTrap.addEventListener("focus",
d);this._removeListeners.push(this._simpleBind(function(){this._topFocusTrap.removeEventListener("focus",d);this._bottomFocusTrap.removeEventListener("focus",d)},this));a[0].parentNode.insertBefore(this._topFocusTrap,a[0]);a.after(this._bottomFocusTrap)}};MdPanelRef.prototype.updateAnimation=function(a){this.config.animation=a;this._backdropRef&&this._backdropRef.config.animation.duration(a._rawDuration)};
MdPanelRef.prototype._animateOpen=function(){this.panelContainer.addClass("md-panel-is-showing");var a=this.config.animation;if(!a)return this.panelContainer.addClass("_md-panel-shown"),this._$q.when(this);var b=this;return this._$q(function(d){var c=b._done(d,b);d=function(){b._$log.warn("mdPanel: MdPanel Animations failed. Showing panel without animating.");c()};a.animateOpen(b.panelEl).then(c,d)})};
MdPanelRef.prototype._animateClose=function(){var a=this.config.animation;if(!a)return this.panelContainer.removeClass("md-panel-is-showing"),this.panelContainer.removeClass("_md-panel-shown"),this._$q.when(this);var b=this;return this._$q(function(d){var c=function(){b.panelContainer.removeClass("md-panel-is-showing");d(b)},e=function(){b._$log.warn("mdPanel: MdPanel Animations failed. Hiding panel without animating.");c()};a.animateClose(b.panelEl).then(c,e)})};
MdPanelRef.prototype.registerInterceptor=function(a,b){var d=null;angular.isString(a)?angular.isFunction(b)||(d="Interceptor callback must be a function, instead got "+typeof b):d="Interceptor type must be a string, instead got "+typeof a;if(d)throw Error("MdPanel: "+d);a=this._interceptors[a]=this._interceptors[a]||[];a.indexOf(b)===-1&&a.push(b);return this};
MdPanelRef.prototype.removeInterceptor=function(a,b){b=this._interceptors[a]?this._interceptors[a].indexOf(b):-1;b>-1&&this._interceptors[a].splice(b,1);return this};MdPanelRef.prototype.removeAllInterceptors=function(a){a?this._interceptors[a]=[]:this._interceptors=Object.create(null);return this};
MdPanelRef.prototype._callInterceptors=function(a){var b=this,d=b._$q;a=b._interceptors&&b._interceptors[a]||[];return a.reduceRight(function(c,e){var f=e&&angular.isFunction(e.then),g=f?e:null;return c.then(function(){if(!g)try{g=e(b)}catch(h){g=d.reject(h)}return g})},d.resolve(b))};MdPanelRef.prototype._simpleBind=function(a,b){return function(d){return a.apply(b,d)}};MdPanelRef.prototype._done=function(a,b){return function(){a(b)}};
MdPanelRef.prototype.addToGroup=function(a){this._$mdPanel._groups[a]||this._$mdPanel.newPanelGroup(a);a=this._$mdPanel._groups[a];var b=a.panels.indexOf(this);b<0&&a.panels.push(this)};MdPanelRef.prototype.removeFromGroup=function(a){if(!this._$mdPanel._groups[a])throw Error("mdPanel: The group "+a+" does not exist.");a=this._$mdPanel._groups[a];var b=a.panels.indexOf(this);b>-1&&a.panels.splice(b,1)};MdPanelRef.closeReasons={CLICK_OUTSIDE:"clickOutsideToClose",ESCAPE:"escapeToClose"};
function MdPanelPosition(a){this._$window=a.get("$window");this._isRTL=a.get("$mdUtil").isRtl();this._$mdConstant=a.get("$mdConstant");this._absolute=!1;this._right=this._left=this._bottom=this._top="";this._translateX=[];this._translateY=[];this._positions=[]}MdPanelPosition.xPosition={CENTER:"center",ALIGN_START:"align-start",ALIGN_END:"align-end",OFFSET_START:"offset-start",OFFSET_END:"offset-end"};
MdPanelPosition.yPosition={CENTER:"center",ALIGN_TOPS:"align-tops",ALIGN_BOTTOMS:"align-bottoms",ABOVE:"above",BELOW:"below"};MdPanelPosition.absPosition={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"};MdPanelPosition.viewportMargin=8;MdPanelPosition.prototype.absolute=function(){this._absolute=!0;return this};
MdPanelPosition.prototype._setPosition=function(a,b){if(a===MdPanelPosition.absPosition.RIGHT||a===MdPanelPosition.absPosition.LEFT)this._left=this._right="";else if(a===MdPanelPosition.absPosition.BOTTOM||a===MdPanelPosition.absPosition.TOP)this._top=this._bottom="";else throw a=Object.keys(MdPanelPosition.absPosition).join().toLowerCase(),Error("mdPanel: Position must be one of "+a+".");this["_"+a]=angular.isString(b)?b:"0";return this};
MdPanelPosition.prototype.top=function(a){return this._setPosition(MdPanelPosition.absPosition.TOP,a)};MdPanelPosition.prototype.bottom=function(a){return this._setPosition(MdPanelPosition.absPosition.BOTTOM,a)};MdPanelPosition.prototype.start=function(a){var b=this._isRTL?MdPanelPosition.absPosition.RIGHT:MdPanelPosition.absPosition.LEFT;return this._setPosition(b,a)};
MdPanelPosition.prototype.end=function(a){var b=this._isRTL?MdPanelPosition.absPosition.LEFT:MdPanelPosition.absPosition.RIGHT;return this._setPosition(b,a)};MdPanelPosition.prototype.left=function(a){return this._setPosition(MdPanelPosition.absPosition.LEFT,a)};MdPanelPosition.prototype.right=function(a){return this._setPosition(MdPanelPosition.absPosition.RIGHT,a)};MdPanelPosition.prototype.centerHorizontally=function(){this._left="50%";this._right="";this._translateX=["-50%"];return this};
MdPanelPosition.prototype.centerVertically=function(){this._top="50%";this._bottom="";this._translateY=["-50%"];return this};MdPanelPosition.prototype.center=function(){return this.centerHorizontally().centerVertically()};MdPanelPosition.prototype.relativeTo=function(a){this._absolute=!1;this._relativeToEl=getElement(a);return this};
MdPanelPosition.prototype.addPanelPosition=function(a,b){if(!this._relativeToEl)throw Error("mdPanel: addPanelPosition can only be used with relative positioning. Set relativeTo first.");this._validateXPosition(a);this._validateYPosition(b);this._positions.push({x:a,y:b});return this};
MdPanelPosition.prototype._validateYPosition=function(a){if(a!=null){for(var b=Object.keys(MdPanelPosition.yPosition),d=[],c,e=0;c=b[e];e++)if(c=MdPanelPosition.yPosition[c],d.push(c),c===a)return;throw Error("mdPanel: Panel y position only accepts the following values:\n"+d.join(" | "));}};
MdPanelPosition.prototype._validateXPosition=function(a){if(a!=null){for(var b=Object.keys(MdPanelPosition.xPosition),d=[],c,e=0;c=b[e];e++)if(c=MdPanelPosition.xPosition[c],d.push(c),c===a)return;throw Error("mdPanel: Panel x Position only accepts the following values:\n"+d.join(" | "));}};MdPanelPosition.prototype.withOffsetX=function(a){this._translateX.push(addUnits(a));return this};MdPanelPosition.prototype.withOffsetY=function(a){this._translateY.push(addUnits(a));return this};
MdPanelPosition.prototype.getTop=function(){return this._top};MdPanelPosition.prototype.getBottom=function(){return this._bottom};MdPanelPosition.prototype.getLeft=function(){return this._left};MdPanelPosition.prototype.getRight=function(){return this._right};MdPanelPosition.prototype.getTransform=function(){var a=this._reduceTranslateValues("translateX",this._translateX),b=this._reduceTranslateValues("translateY",this._translateY);return(a+" "+b).trim()};
MdPanelPosition.prototype._setTransform=function(a){return a.css(this._$mdConstant.CSS.TRANSFORM,this.getTransform())};
MdPanelPosition.prototype._isOnscreen=function(a){var b=parseInt(this.getLeft()),d=parseInt(this.getTop());if(this._translateX.length||this._translateY.length){var c=this._$mdConstant.CSS.TRANSFORM;var e=a;c=getComputedStyle(e[0]||e)[c];var f=c.indexOf("("),g=c.lastIndexOf(")");e={x:0,y:0};f>-1&&g>-1&&(c=c.substring(f+1,g).split(", ").slice(-2),e.x=parseInt(c[0]),e.y=parseInt(c[1]));b+=e.x;d+=e.y}e=b+a[0].offsetWidth;a=d+a[0].offsetHeight;return b>=0&&d>=0&&a<=this._$window.innerHeight&&e<=this._$window.innerWidth};
MdPanelPosition.prototype.getActualPosition=function(){return this._actualPosition};MdPanelPosition.prototype._reduceTranslateValues=function(a,b){return b.map(function(d){d=angular.isFunction(d)?addUnits(d(this)):d;return a+"("+d+")"},this).join(" ")};
MdPanelPosition.prototype._setPanelPosition=function(a){a.removeClass("_md-panel-position-adjusted");if(this._absolute)this._setTransform(a);else{if(this._actualPosition)this._calculatePanelPosition(a,this._actualPosition),this._setTransform(a);else for(var b=0;b<this._positions.length;b++)if(this._actualPosition=this._positions[b],this._calculatePanelPosition(a,this._actualPosition),this._setTransform(a),this._isOnscreen(a))return;this._constrainToViewport(a)}};
MdPanelPosition.prototype._constrainToViewport=function(a){var b=MdPanelPosition.viewportMargin,d=this._top,c=this._left;if(this.getTop()){var e=parseInt(this.getTop()),f=a[0].offsetHeight+e,g=this._$window.innerHeight;e<b?this._top=b+"px":f>g&&(this._top=e-(f-g+b)+"px")}this.getLeft()&&(e=parseInt(this.getLeft()),f=a[0].offsetWidth+e,g=this._$window.innerWidth,e<b?this._left=b+"px":f>g&&(this._left=e-(f-g+b)+"px"));a.toggleClass("_md-panel-position-adjusted",this._top!==d||this._left!==c)};
MdPanelPosition.prototype._reverseXPosition=function(a){return a===MdPanelPosition.xPosition.CENTER?a:a.indexOf("start")>-1?a.replace("start","end"):a.replace("end","start")};MdPanelPosition.prototype._bidi=function(a){return this._isRTL?this._reverseXPosition(a):a};
MdPanelPosition.prototype._calculatePanelPosition=function(a,b){var d=a[0].getBoundingClientRect(),c=Math.max(d.width,a[0].clientWidth);a=Math.max(d.height,a[0].clientHeight);d=this._relativeToEl[0].getBoundingClientRect();var e=d.left,f=d.right,g=d.width;switch(this._bidi(b.x)){case MdPanelPosition.xPosition.OFFSET_START:this._left=e-c+"px";break;case MdPanelPosition.xPosition.ALIGN_END:this._left=f-c+"px";break;case MdPanelPosition.xPosition.CENTER:c=e+.5*g-.5*c;this._left=c+"px";break;case MdPanelPosition.xPosition.ALIGN_START:this._left=
e+"px";break;case MdPanelPosition.xPosition.OFFSET_END:this._left=f+"px"}c=d.top;e=d.bottom;d=d.height;switch(b.y){case MdPanelPosition.yPosition.ABOVE:this._top=c-a+"px";break;case MdPanelPosition.yPosition.ALIGN_BOTTOMS:this._top=e-a+"px";break;case MdPanelPosition.yPosition.CENTER:b=c+.5*d-.5*a;this._top=b+"px";break;case MdPanelPosition.yPosition.ALIGN_TOPS:this._top=c+"px";break;case MdPanelPosition.yPosition.BELOW:this._top=e+"px"}};
function MdPanelAnimation(a){this._$mdUtil=a.get("$mdUtil");this._animationClass=""}MdPanelAnimation.animation={SLIDE:"md-panel-animate-slide",SCALE:"md-panel-animate-scale",FADE:"md-panel-animate-fade"};MdPanelAnimation.prototype.openFrom=function(a){a=a.target?a.target:a;this._openFrom=this._getPanelAnimationTarget(a);this._closeTo||(this._closeTo=this._openFrom);return this};MdPanelAnimation.prototype.closeTo=function(a){this._closeTo=this._getPanelAnimationTarget(a);return this};
MdPanelAnimation.prototype.duration=function(a){function b(d){if(angular.isNumber(d))return d/1E3}a&&(angular.isNumber(a)?this._openDuration=this._closeDuration=b(a):angular.isObject(a)&&(this._openDuration=b(a.open),this._closeDuration=b(a.close)));this._rawDuration=a;return this};MdPanelAnimation.prototype._getPanelAnimationTarget=function(a){return angular.isDefined(a.top)||angular.isDefined(a.left)?{element:void 0,bounds:{top:a.top||0,left:a.left||0}}:this._getBoundingClientRect(getElement(a))};
MdPanelAnimation.prototype.withAnimation=function(a){this._animationClass=a;return this};
MdPanelAnimation.prototype.animateOpen=function(a){var b=this._$mdUtil.dom.animator;this._fixBounds(a);var d=a[0].style.transform||"",c=b.toTransformCss(d),e=b.toTransformCss(d);switch(this._animationClass){case MdPanelAnimation.animation.SLIDE:a.css("opacity","1");var f={transitionInClass:"_md-panel-animate-enter"};c=b.calculateSlideToOrigin(a,this._openFrom)||"";c=b.toTransformCss(c+" "+d);break;case MdPanelAnimation.animation.SCALE:f={transitionInClass:"_md-panel-animate-enter"};c=b.calculateZoomToOrigin(a,
this._openFrom)||"";c=b.toTransformCss(d+" "+c);break;case MdPanelAnimation.animation.FADE:f={transitionInClass:"_md-panel-animate-enter"};break;default:f=angular.isString(this._animationClass)?{transitionInClass:this._animationClass}:{transitionInClass:this._animationClass.open,transitionOutClass:this._animationClass.close}}f.duration=this._openDuration;return b.translate3d(a,c,e,f)};
MdPanelAnimation.prototype.animateClose=function(a){var b=this._$mdUtil.dom.animator,d=a[0].style.transform||"",c=b.toTransformCss(d),e=b.toTransformCss(d);switch(this._animationClass){case MdPanelAnimation.animation.SLIDE:a.css("opacity","1");var f={transitionInClass:"_md-panel-animate-leave"};e=b.calculateSlideToOrigin(a,this._closeTo)||"";e=b.toTransformCss(e+" "+d);break;case MdPanelAnimation.animation.SCALE:f={transitionInClass:"_md-panel-animate-scale-out _md-panel-animate-leave"};e=b.calculateZoomToOrigin(a,
this._closeTo)||"";e=b.toTransformCss(d+" "+e);break;case MdPanelAnimation.animation.FADE:f={transitionInClass:"_md-panel-animate-fade-out _md-panel-animate-leave"};break;default:f=angular.isString(this._animationClass)?{transitionOutClass:this._animationClass}:{transitionInClass:this._animationClass.close,transitionOutClass:this._animationClass.open}}f.duration=this._closeDuration;return b.translate3d(a,c,e,f)};
MdPanelAnimation.prototype._fixBounds=function(a){var b=a[0].offsetWidth;a=a[0].offsetHeight;this._openFrom&&this._openFrom.bounds.height==null&&(this._openFrom.bounds.height=a);this._openFrom&&this._openFrom.bounds.width==null&&(this._openFrom.bounds.width=b);this._closeTo&&this._closeTo.bounds.height==null&&(this._closeTo.bounds.height=a);this._closeTo&&this._closeTo.bounds.width==null&&(this._closeTo.bounds.width=b)};
MdPanelAnimation.prototype._getBoundingClientRect=function(a){if(a instanceof angular.element)return{element:a,bounds:a[0].getBoundingClientRect()}};function getElement(a){a=angular.isString(a)?document.querySelector(a):a;return angular.element(a)}function addUnits(a){return angular.isNumber(a)?a+"px":a}ngmaterial.components.panel=angular.module("material.components.panel");angular.module("material.components.progressCircular",["material.core"]);MdProgressCircularDirective.$inject="$window $mdProgressCircular $mdTheming $mdUtil $interval $log".split(" ");angular.module("material.components.progressCircular").directive("mdProgressCircular",MdProgressCircularDirective);
function MdProgressCircularDirective(a,b,d,c,e){function f(n,q,r){function x(N,C,F,O,S,K){function M(ha){A.attr("stroke-dashoffset",(T-Y)*a.Math.PI*(3*(aa||100)/100-ha/100));A.attr("transform","rotate("+X+" "+T/2+" "+T/2+")")}var I=++z,J=c.now(),Q=C-N,T=l(n.mdDiameter),Y=b.strokeWidth/100*T,R=F||b.easeFn,U=O||b.duration,X=-90*(S||0),aa=K||100;C===N?M(C):D=m(function fa(){var ea=a.Math.max(0,a.Math.min(c.now()-J,U));M(R(ea,N,Q,U));I===z&&ea<U&&(D=m(fa))})}function y(){x(w,B,b.easeFnIndeterminate,b.durationIndeterminate,
u,75);u=++u%4}function k(){G||(G=e(y,b.durationIndeterminate,0,!1),y(),q.addClass("md-mode-indeterminate").removeAttr("aria-valuenow"))}function p(){G&&(e.cancel(G),G=null,q.removeClass("md-mode-indeterminate"))}var t=q[0],H=angular.element(t.querySelector("svg")),A=angular.element(t.querySelector("path")),w=b.startIndeterminate,B=b.endIndeterminate,u=0,z=0,D,G;d(q);q.toggleClass("_md-progress-circular-disabled",r.hasOwnProperty("disabled"));n.mdMode==="indeterminate"&&k();n.$on("$destroy",function(){p();
D&&v(D)});n.$watchGroup(["value","mdMode",function(){var N=t.disabled;return N===!0||N===!1?N:angular.isDefined(q.attr("disabled"))}],function(N,C){var F=N[1],O=N[2],S=C[2];O!==S&&q.toggleClass("_md-progress-circular-disabled",!!O);O?p():(F!=="determinate"&&F!=="indeterminate"&&(F="indeterminate",r.$set("mdMode",F)),F==="indeterminate"?(C[1]==="determinate"&&(C=l(n.mdDiameter),O=b.strokeWidth/100*C,A.attr("d",g(C,O,!0)),A.attr("stroke-dasharray",(C-O)*a.Math.PI*.75)),k()):(N=h(N[0]),F=h(C[0]),p(),
C[1]==="indeterminate"&&(C=l(n.mdDiameter),O=b.strokeWidth/100*C,A.attr("d",g(C,O,!1)),A.attr("stroke-dasharray",(C-O)*a.Math.PI)),q.attr("aria-valuenow",N),x(F,N)))});n.$watch("mdDiameter",function(N){N=l(N);var C=b.strokeWidth/100*N,F=h(n.value),O=N/2+"px",S={width:N+"px",height:N+"px"};H[0].setAttribute("viewBox","0 0 "+N+" "+N);H.css(S).css("transform-origin",O+" "+O+" "+O);q.css(S);A.attr("stroke-width",C);A.attr("stroke-linecap","square");n.mdMode=="indeterminate"?(A.attr("d",g(N,C,!0)),A.attr("stroke-dasharray",
(N-C)*a.Math.PI*.75),A.attr("stroke-dashoffset",(N-C)*a.Math.PI*2.24)):(A.attr("d",g(N,C,!1)),A.attr("stroke-dasharray",(N-C)*a.Math.PI),A.attr("stroke-dashoffset",(N-C)*a.Math.PI*3),x(F,F))})}function g(n,q,r){n/=2;var x=q/2;q=n+","+x;var y=x+","+n;n-=x;return"M"+q+"A"+n+","+n+" 0 1 1 "+y+(r?"":"A"+n+","+n+" 0 0 1 "+q)}function h(n){return a.Math.max(0,a.Math.min(n||0,100))}function l(n){var q=b.progressSize;if(n){var r=parseFloat(n);n.lastIndexOf("%")===n.length-1&&(r=r/100*q);return r}return q}
var m=a.requestAnimationFrame||a.webkitRequestAnimationFrame||angular.noop,v=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame||angular.noop;return{restrict:"E",scope:{value:"@",mdDiameter:"@",mdMode:"@"},template:'<svg xmlns="http://www.w3.org/2000/svg"><path fill="none"/></svg>',compile:function(n,q){n.attr({"aria-valuemin":0,"aria-valuemax":100,role:"progressbar"});angular.isUndefined(q.mdMode)?(n=q.hasOwnProperty("value")?"determinate":"indeterminate",q.$set("mdMode",
n)):q.$set("mdMode",q.mdMode.trim());return f}}}angular.module("material.components.progressCircular").provider("$mdProgressCircular",MdProgressCircularProvider);
function MdProgressCircularProvider(){function a(c,e,f,g){return f*c/g+e}function b(c,e,f,g){g=(c/=g)*c;c*=g;return e+f*(6*c*g+-15*g*g+10*c)}var d={progressSize:50,strokeWidth:10,duration:100,easeFn:a,durationIndeterminate:1333,startIndeterminate:1,endIndeterminate:149,easeFnIndeterminate:b,easingPresets:{linearEase:a,materialEase:b}};return{configure:function(c){return d=angular.extend(d,c||{})},$get:function(){return d}}}ngmaterial.components.progressCircular=angular.module("material.components.progressCircular");MdProgressLinearDirective.$inject=["$mdTheming","$mdUtil","$log"];angular.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",MdProgressLinearDirective);
function MdProgressLinearDirective(a,b){function d(e){e.attr("aria-valuemin",0);e.attr("aria-valuemax",100);e.attr("role","progressbar");return c}function c(e,f,g){function h(){g.$observe("value",function(p){p=Math.max(0,Math.min(p||0,100));f.attr("aria-valuenow",p);m()!="query"&&v(y,p)});g.$observe("mdBufferValue",function(p){v(x,Math.max(0,Math.min(p||0,100)))});g.$observe("disabled",function(p){q=p===!0||p===!1?!!p:angular.isDefined(p);f.toggleClass("_md-progress-linear-disabled",q);k.toggleClass(n,
!q)});g.$observe("mdMode",function(p){n&&k.removeClass(n);switch(p){case "query":case "buffer":case "determinate":case "indeterminate":k.addClass(n="md-mode-"+p);break;default:k.addClass(n="md-mode-indeterminate")}})}function l(){if(angular.isUndefined(g.mdMode)){var p=angular.isDefined(g.value);p=p?"determinate":"indeterminate";f.attr("md-mode",p);g.mdMode=p}}function m(){var p=(g.mdMode||"").trim();if(p)switch(p){case "determinate":case "indeterminate":case "buffer":case "query":break;default:p=
"indeterminate"}return p}function v(p,t){!q&&m()&&(t=b.supplant("translateX({0}%) scale({1},1)",[(t-100)/2,t/100]),t=r({transform:t}),angular.element(p).css(t))}a(f);var n,q=g.hasOwnProperty("disabled"),r=b.dom.animator.toCss,x=angular.element(f[0].querySelector(".md-bar1")),y=angular.element(f[0].querySelector(".md-bar2")),k=angular.element(f[0].querySelector(".md-container"));f.attr("md-mode",m()).toggleClass("_md-progress-linear-disabled",q);l();h()}return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',
compile:d}}ngmaterial.components.progressLinear=angular.module("material.components.progressLinear");mdRadioGroupDirective.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"];mdRadioButtonDirective.$inject=["$mdAria","$mdUtil","$mdTheming"];angular.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",mdRadioGroupDirective).directive("mdRadioButton",mdRadioButtonDirective);
function mdRadioGroupDirective(a,b,d,c){function e(l,m,v,n){function q(){m.hasClass("md-focused")||m.addClass("md-focused")}function r(y){var k=y.which||y.keyCode;if(k==b.KEY_CODE.ENTER||y.currentTarget==y.target)switch(k){case b.KEY_CODE.LEFT_ARROW:case b.KEY_CODE.UP_ARROW:y.preventDefault();x.selectPrevious();q();break;case b.KEY_CODE.RIGHT_ARROW:case b.KEY_CODE.DOWN_ARROW:y.preventDefault();x.selectNext();q();break;case b.KEY_CODE.ENTER:y=angular.element(a.getClosest(m[0],"form")),y.length>0&&
y.triggerHandler("submit")}}m.addClass("_md");d(m);var x=n[0];v=n[1]||a.fakeNgModel();x.init(v);l.mouseActive=!1;m.attr({role:"radiogroup",tabIndex:m.attr("tabindex")||"0"}).on("keydown",r).on("mousedown",function(){l.mouseActive=!0;c(function(){l.mouseActive=!1},100)}).on("focus",function(){l.mouseActive===!1&&x.$element.addClass("md-focused")}).on("blur",function(){x.$element.removeClass("md-focused")})}function f(l){this._radioButtonRenderFns=[];this.$element=l}function g(){return{init:function(l){this._ngModelCtrl=
l;this._ngModelCtrl.$render=angular.bind(this,this.render)},add:function(l){this._radioButtonRenderFns.push(l)},remove:function(l){l=this._radioButtonRenderFns.indexOf(l);l!==-1&&this._radioButtonRenderFns.splice(l,1)},render:function(){this._radioButtonRenderFns.forEach(function(l){l()})},setViewValue:function(l,m){this._ngModelCtrl.$setViewValue(l,m);this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return h(this.$element,1)},selectPrevious:function(){return h(this.$element,
-1)},setActiveDescendant:function(l){this.$element.attr("aria-activedescendant",l)},isDisabled:function(){return this.$element[0].hasAttribute("disabled")}}}function h(l,m){var v=a.iterator(l[0].querySelectorAll("md-radio-button"),!0);if(v.count()){var n=function(q){return!angular.element(q).attr("disabled")};l=l[0].querySelector("md-radio-button.md-checked");m=v[m<0?"previous":"next"](l,n)||v.first();angular.element(m).triggerHandler("click")}}f.prototype=g();return{restrict:"E",controller:["$element",
f],require:["mdRadioGroup","?ngModel"],link:{pre:e}}}
function mdRadioButtonDirective(a,b,d){function c(e,f,g,h){function l(){if(!h)throw"RadioButton: No RadioGroupController could be found.";h.add(v);g.$observe("value",v);f.on("click",m).on("$destroy",function(){h.remove(v)})}function m(r){f[0].hasAttribute("disabled")||h.isDisabled()||e.$apply(function(){h.setViewValue(g.value,r&&r.type)})}function v(){var r=h.getViewValue()==g.value;r!==q&&(f[0].parentNode.nodeName.toLowerCase()!=="md-radio-group"&&f.parent().toggleClass("md-checked",r),r&&h.setActiveDescendant(f.attr("id")),
q=r,f.attr("aria-checked",r).toggleClass("md-checked",r))}function n(r){r.attr({id:g.id||"radio_"+b.nextUid(),role:"radio","aria-checked":"false"});a.expectWithText(r,"aria-label")}var q;d(f);n(f,e);g.ngValue?b.nextTick(l,!1):l()}return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:c}}
ngmaterial.components.radioButton=angular.module("material.components.radioButton");SelectDirective.$inject="$mdSelect $mdUtil $mdConstant $mdTheming $mdAria $parse $sce $injector".split(" ");SelectMenuDirective.$inject=["$parse","$mdUtil","$mdConstant","$mdTheming"];OptionDirective.$inject=["$mdButtonInkRipple","$mdUtil","$mdTheming"];SelectProvider.$inject=["$$interimElementProvider"];var selectNextId=0,CHECKBOX_SELECTION_INDICATOR;
angular.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",SelectDirective).directive("mdSelectMenu",SelectMenuDirective).directive("mdOption",OptionDirective).directive("mdOptgroup",OptgroupDirective).directive("mdSelectHeader",SelectHeaderDirective).provider("$mdSelect",SelectProvider);
function SelectDirective(a,b,d,c,e,f,g){function h(l,m){var v=angular.element("<md-select-value><span></span></md-select-value>");v.append('<span class="md-select-icon" aria-hidden="true"></span>');v.addClass("md-select-value");v[0].hasAttribute("id")||v.attr("id","select_value_label_"+b.nextUid());var n=l.find("md-content");n.length||l.append(angular.element("<md-content>").append(l.contents()));n.attr("role","presentation");m.mdOnOpen&&(l.find("md-content").prepend(angular.element('<div> <md-progress-circular md-mode="indeterminate" ng-if="$$loadingAsyncDone === false" md-diameter="25px"></md-progress-circular></div>')),
l.find("md-option").attr("ng-show","$$loadingAsyncDone"));if(m.name){var q=angular.element('<select class="md-visually-hidden"></select>');q.attr({name:m.name,"aria-hidden":"true",tabindex:"-1"});n=l.find("md-option");angular.forEach(n,function(y){var k=angular.element("<option>"+y.innerHTML+"</option>");y.hasAttribute("ng-value")?k.attr("ng-value",y.getAttribute("ng-value")):y.hasAttribute("value")&&k.attr("value",y.getAttribute("value"));q.append(k)});q.append('<option ng-value="'+m.ngModel+'" selected></option>');
l.parent().append(q)}var r=b.parseAttributeBoolean(m.multiple);n=r?"multiple":"";var x='<div class="md-select-menu-container" aria-hidden="true" role="presentation"><md-select-menu role="presentation" {0}>{1}</md-select-menu></div>';x=b.supplant(x,[n,l.html()]);l.empty().append(v);l.append(x);m.tabindex||m.$set("tabindex",0);return function(y,k,p,t){function H(){J&&(T=T||J.find("md-select-menu").controller("mdSelectMenu"),F.setLabelText(T.selectedLabels()))}function A(){if(N){var U=T.selectedLabels({mode:"aria"});
k.attr("aria-label",U.length?N+": "+U:N)}}function w(){b.nextTick(function(){C&&C.setHasValue(T.selectedLabels().length>0||(k[0].validity||{}).badInput)})}function B(){J=angular.element(k[0].querySelector(".md-select-menu-container"));Q=y;if(p.mdContainerClass){var U=J[0].getAttribute("class")+" "+p.mdContainerClass;J[0].setAttribute("class",U)}T=J.find("md-select-menu").controller("mdSelectMenu");T.init(O,p.ngModel);k.on("$destroy",function(){J.remove()})}function u(U){d.isNavigationKey(U)?(U.preventDefault(),
z(U)):shouldHandleKey(U,d)&&(U.preventDefault(),(U=T.optNodeForKeyboardSearch(U))&&!U.hasAttribute("disabled")&&(U=angular.element(U).controller("mdOption"),T.isMultiple||T.deselect(Object.keys(T.selected)[0]),T.select(U.hashKey,U.value),T.refreshViewValue()))}function z(){Q._mdSelectIsOpen=!0;k.attr("aria-expanded","true");a.show({scope:Q,preserveScope:!0,skipCompile:!0,element:J,target:k[0],selectCtrl:F,preserveElement:!0,hasBackdrop:!0,loadingAsync:p.mdOnOpen?y.$eval(p.mdOnOpen)||!0:!1}).finally(function(){Q._mdSelectIsOpen=
!1;k.attr("aria-expanded","false");O.$setTouched()})}var D=!0,G,N,C=t[0],F=t[1],O=t[2],S=t[3],K=k.find("md-select-value");t=angular.isDefined(p.readonly);var M=b.parseAttributeBoolean(p.mdNoAsterisk);M&&k.addClass("md-no-asterisk");if(C){var I=C.isErrorGetter||function(){return O.$invalid&&(O.$touched||S&&S.$submitted)};if(C.input&&k.find("md-select-header").find("input")[0]!==C.input[0])throw Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!");C.input=
k;C.label||e.expect(k,"aria-label",k.attr("placeholder"));y.$watch(I,C.setInvalid)}var J,Q,T;B();c(k);var Y=O.$render;O.$render=function(){Y();H();A();w()};p.$observe("placeholder",O.$render);C&&C.label&&p.$observe("required",function(U){C.label.toggleClass("md-required",U&&!M)});F.setLabelText=function(U){F.setIsPlaceholder(!U);var X=!1;if(p.mdSelectedText&&p.mdSelectedHtml)throw Error("md-select cannot have both `md-selected-text` and `md-selected-html`");p.mdSelectedText||p.mdSelectedHtml?(U=f(p.mdSelectedText||
p.mdSelectedHtml)(y),X=!0):U||(U=(U=p.placeholder||(C&&C.label?C.label.text():""))||"",X=!0);var aa=K.children().eq(0);p.mdSelectedHtml?aa.html(g.getTrustedHtml(U)):X?aa.text(U):aa.html(U)};F.setIsPlaceholder=function(U){U?(K.addClass("md-select-placeholder"),C&&C.label&&C.label.addClass("md-placeholder")):(K.removeClass("md-select-placeholder"),C&&C.label&&C.label.removeClass("md-placeholder"))};t||(t=function(U){D&&(D=!1,Q._mdSelectIsOpen&&U.stopImmediatePropagation());C&&C.setFocused(!1);w()},
I=function(){C&&C.setFocused(!0)},k.on("focus",I),k.on("blur",t));F.triggerClose=function(){f(p.mdOnClose)(y)};y.$$postDigest(function(){var U=k.attr("aria-label")||k.attr("placeholder");!U&&C&&C.label&&(U=C.label.text());N=U;e.expect(k,"aria-label",U);H();A()});y.$watch(function(){return T.selectedLabels()},H);var R;p.$observe("ngMultiple",function(U){R&&R();var X=f(U);R=y.$watch(function(){return X(y)},function(aa,ha){if(aa!==void 0||ha!==void 0)aa?k.attr("multiple","multiple"):k.removeAttr("multiple"),
k.attr("aria-multiselectable",aa?"true":"false"),J&&(T.setMultiple(aa),Y=O.$render,O.$render=function(){Y();H();A();w()},O.$render())})});p.$observe("disabled",function(U){angular.isString(U)&&(U=!0);if(G===void 0||G!==U)if(G=U)k.attr({"aria-disabled":"true"}).removeAttr("tabindex").off("click",z).off("keydown",u);else k.attr({tabindex:p.tabindex,"aria-disabled":"false"}).on("click",z).on("keydown",u)});p.hasOwnProperty("disabled")||p.hasOwnProperty("ngDisabled")||(k.attr({"aria-disabled":"false"}),
k.on("click",z),k.on("keydown",u));t={role:"listbox","aria-expanded":"false","aria-multiselectable":r&&!p.ngMultiple?"true":"false"};k[0].hasAttribute("id")||(t.id="select_"+b.nextUid());I="select_container_"+b.nextUid();J.attr("id",I);k.find("md-select-menu").length||(t["aria-owns"]=I);k.attr(t);y.$on("$destroy",function(){a.destroy().finally(function(){C&&(C.setFocused(!1),C.setHasValue(!1),C.input=null);O.$setTouched()})})}}return{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel",
"?^form"],compile:h,controller:function(){}}}
function SelectMenuDirective(a,b,d,c){function e(g,h,l,m){function v(r){r.keyCode!=13&&r.keyCode!=32||n(r)}function n(r){var x=b.getClosest(r.target,"md-option"),y=x&&angular.element(x).data("$mdOptionController");if(x&&y){if(x.hasAttribute("disabled"))return r.stopImmediatePropagation(),!1;var k=q.hashGetter(y.value),p=angular.isDefined(q.selected[k]);g.$apply(function(){q.isMultiple?p?q.deselect(k):q.select(k,y.value):p||(q.deselect(Object.keys(q.selected)[0]),q.select(k,y.value));q.refreshViewValue()})}}
var q=m[0];h.addClass("_md");c(h);h.on("click",n);h.on("keypress",v)}function f(g,h,l){function m(){var p=n.ngModel.$modelValue||n.ngModel.$viewValue||[];if(angular.isArray(p)){var t=Object.keys(n.selected),H=p.map(n.hashGetter);t=t.filter(function(A){return H.indexOf(A)===-1});t.forEach(n.deselect);H.forEach(function(A,w){n.select(A,p[w])})}}function v(){var p=n.ngModel.$viewValue||n.ngModel.$modelValue;Object.keys(n.selected).forEach(n.deselect);n.select(n.hashGetter(p),p)}var n=this;n.isMultiple=
angular.isDefined(h.multiple);n.selected={};n.options={};g.$watchCollection(function(){return n.options},function(){n.ngModel.$render()});var q;n.setMultiple=function(p){function t(B,u){return angular.isArray(B||u||[])}var H=n.ngModel;n.isMultiple=p;q&&q();if(n.isMultiple){var A=!1,w=function(B){A?m(B):b.nextTick(function(){m(B);A=!0})};H.$validators["md-multiple"]=t;H.$render=w;g.$watchCollection(n.modelBinding,function(B){t(B)&&w(B)});H.$isEmpty=function(B){return!B||B.length===0}}else delete H.$validators["md-multiple"],
H.$render=v};var r="",x,y,k;n.optNodeForKeyboardSearch=function(p){x&&clearTimeout(x);x=setTimeout(function(){x=void 0;r="";y=k=void 0},300);r+=p.key;p=new RegExp("^"+r,"i");y||(y=l.find("md-option"),k=Array(y.length),angular.forEach(y,function(H,A){k[A]=H.textContent.trim()}));for(var t=0;t<k.length;++t)if(p.test(k[t]))return y[t]};n.init=function(p,t){n.ngModel=p;n.modelBinding=t;n.ngModel.$isEmpty=function(w){return!n.options[n.hashGetter(w)]};if(p=b.getModelOption(p,"trackBy")){var H={},A=a(p);
n.hashGetter=function(w,B){H.$value=w;return A(B||g,H)}}else n.hashGetter=function(w){return angular.isObject(w)?"object_"+(w.$$mdSelectId||(w.$$mdSelectId=++selectNextId)):w};n.setMultiple(n.isMultiple)};n.selectedLabels=function(p){p=p||{};p=p.mode||"html";var t=b.nodesToArray(l[0].querySelectorAll("md-option[selected]"));if(t.length){var H;p=="html"?H=function(A){if(A.hasAttribute("md-option-empty"))return"";var w=A.innerHTML,B=A.querySelector(".md-ripple-container");B&&(w=w.replace(B.outerHTML,
""));(A=A.querySelector(".md-container"))&&(w=w.replace(A.outerHTML,""));return w}:p=="aria"&&(H=function(A){return A.hasAttribute("aria-label")?A.getAttribute("aria-label"):A.textContent});return b.uniq(t.map(H)).join(", ")}return""};n.select=function(p,t){var H=n.options[p];H&&H.setSelected(!0);n.selected[p]=t};n.deselect=function(p){var t=n.options[p];t&&t.setSelected(!1);delete n.selected[p]};n.addOption=function(p,t){if(angular.isDefined(n.options[p]))throw Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+
t.value+'" found.');n.options[p]=t;angular.isDefined(n.selected[p])&&(n.select(p,t.value),angular.isDefined(n.ngModel.$$rawModelValue)&&n.hashGetter(n.ngModel.$$rawModelValue)===p&&n.ngModel.$validate(),n.refreshViewValue())};n.removeOption=function(p){delete n.options[p]};n.refreshViewValue=function(){var p=[],t;for(H in n.selected)(t=n.options[H])?p.push(t.value):p.push(n.selected[H]);t=b.getModelOption(n.ngModel,"trackBy");p=n.isMultiple?p:p[0];var H=n.ngModel.$modelValue;(t?angular.equals(H,p):
H+""===p)||(n.ngModel.$setViewValue(p),n.ngModel.$render())}}f.$inject=["$scope","$attrs","$element"];return{restrict:"E",require:["mdSelectMenu"],scope:!1,controller:f,link:{pre:e}}}
function OptionDirective(a,b,d){function c(g,h){g.append(angular.element('<div class="md-text">').append(g.contents()));g.attr("tabindex",h.tabindex||"0");var l=h.value;h=h.ngValue;(l=l||h)||g.attr("md-option-empty","");return e}function e(g,h,l,m){function v(x,y,k){if(r.hashGetter){k=r.hashGetter(y,g);var p=r.hashGetter(x,g);q.hashKey=p;q.value=x;r.removeOption(k,q);r.addOption(p,q)}else k||g.$$postDigest(function(){v(x,y,!0)})}function n(){var x={role:"option","aria-selected":"false"};h[0].hasAttribute("id")||
(x.id="select_option_"+b.nextUid());h.attr(x)}var q=m[0],r=m[1];d(h);r.isMultiple&&(h.addClass("md-checkbox-enabled"),CHECKBOX_SELECTION_INDICATOR||(m=document.createElement("div"),m.className="md-container",m.appendChild(document.createElement("div")),m.firstChild.className="md-icon",CHECKBOX_SELECTION_INDICATOR=angular.element(m)),h.prepend(CHECKBOX_SELECTION_INDICATOR.clone()));angular.isDefined(l.ngValue)?g.$watch(l.ngValue,v):angular.isDefined(l.value)?v(l.value):g.$watch(function(){return h.text().trim()},
v);l.$observe("disabled",function(x){x?h.attr("tabindex","-1"):h.attr("tabindex","0")});g.$$postDigest(function(){l.$observe("selected",function(x){angular.isDefined(x)&&(typeof x=="string"&&(x=!0),x?(r.isMultiple||r.deselect(Object.keys(r.selected)[0]),r.select(q.hashKey,q.value)):r.deselect(q.hashKey),r.refreshViewValue())})});a.attach(g,h);n();g.$on("$destroy",function(){r.removeOption(q.hashKey,q)})}function f(g){this.selected=!1;this.setSelected=function(h){h&&!this.selected?g.attr({selected:"selected",
"aria-selected":"true"}):!h&&this.selected&&(g.removeAttr("selected"),g.attr("aria-selected","false"));this.selected=h}}f.$inject=["$element"];return{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:f,compile:c}}
function OptgroupDirective(){function a(b,d){if(!b.parent().find("md-select-header").length){var c=b.find("label");c.length||(c=angular.element("<label>"),b.prepend(c));c.addClass("md-container-ignore");c.attr("aria-hidden","true");d.label&&c.text(d.label)}}return{restrict:"E",compile:a}}function SelectHeaderDirective(){return{restrict:"E"}}
function SelectProvider(a){function b(d,c,e,f,g,h,l,m,v){function n(k,p,t){function H(){w();p.removeClass("md-active").attr("aria-hidden","true").css({display:"none",top:"",right:"",bottom:"",left:"","font-size":"","min-width":""});p.parent().find("md-select-value").removeAttr("aria-hidden");var B=t.selectCtrl;if(B){var u=t.selectEl.controller("mdSelectMenu");B.setLabelText(u?u.selectedLabels():"");B.triggerClose()}!t.$destroy&&t.restoreFocus&&t.target.focus()}var A=null,w=k.$on("$destroy",function(){A.end()});
t=t||{};t.cleanupInteraction();t.cleanupResizing();t.hideBackdrop();t.$destroy===!0?k=H():(A=l(p,{addClass:"md-leave"}),k=A.start(),k=k.then(H));return k}function q(k,p,t){function H(N,C,F){F.parent!==C.parent()&&C.parent().attr("aria-owns",C.attr("id"));C.parent().find("md-select-value").attr("aria-hidden","true");F.parent.append(C);return g(function(O,S){try{l(C,{removeClass:"md-leave",duration:0}).start().then(A).then(O)}catch(K){S(K)}})}function A(){return g(function(N){if(t.isRemoved)return g.reject(!1);
var C=r(k,p,t);C.container.element.css(x.toCss(C.container.styles));C.dropDown.element.css(x.toCss(C.dropDown.styles));h(function(){p.addClass("md-active");C.dropDown.element.css(x.toCss({transform:""}));B(t.focusedNode);N()})})}function w(N,C,F){F.disableParentScroll&&!e.getClosest(F.target,"MD-DIALOG")?F.restoreScroll=e.disableScrollAround(F.element,F.parent):F.disableParentScroll=!1;F.hasBackdrop&&(F.backdrop=e.createBackdrop(N,"md-select-backdrop md-click-catcher"),m.enter(F.backdrop,v[0].body,
null,{duration:0}));return function(){F.backdrop&&F.backdrop.remove();F.disableParentScroll&&F.restoreScroll();delete F.restoreScroll}}function B(N){N&&!N.hasAttribute("disabled")&&N.focus()}function u(N,C){N=p.find("md-select-menu");if(!C.target)throw Error(e.supplant("$mdSelect.show() expected a target element in options.target but got '{0}'!",[C.target]));angular.extend(C,{isRemoved:!1,target:angular.element(C.target),parent:angular.element(C.parent),selectEl:N,contentEl:p.find("md-content"),optionNodes:N[0].getElementsByTagName("md-option")})}
function z(){var N=function(F,O,S){return function(){if(!S.isRemoved){var K=r(F,O,S),M=K.container;K=K.dropDown;M.element.css(x.toCss(M.styles));K.element.css(x.toCss(K.styles))}}}(k,p,t),C=angular.element(f);C.on("resize",N);C.on("orientationchange",N);return function(){C.off("resize",N);C.off("orientationchange",N)}}function D(){t.loadingAsync&&!t.isRemoved&&(k.$$loadingAsyncDone=!1,g.when(t.loadingAsync).then(function(){k.$$loadingAsyncDone=!0;delete t.loadingAsync}).then(function(){h(A)}))}function G(){function N(M){M.preventDefault();
M.stopPropagation();t.restoreFocus=!1;e.nextTick(d.hide,!0)}function C(M){M.preventDefault();M.stopPropagation();switch(M.keyCode){case y.UP_ARROW:return F("prev"),M=void 0;case y.DOWN_ARROW:return F("next"),M=void 0;case y.SPACE:case y.ENTER:var I=e.getClosest(M.target,"md-option");I&&(S.triggerHandler({type:"click",target:I}),M.preventDefault());O(M);break;case y.TAB:case y.ESCAPE:M.stopPropagation();M.preventDefault();t.restoreFocus=!0;e.nextTick(d.hide,!0);break;default:shouldHandleKey(M,c)&&
(M=S.controller("mdSelectMenu").optNodeForKeyboardSearch(M),t.focusedNode=M||t.focusedNode,M&&M.focus())}}function F(M){var I=e.nodesToArray(t.optionNodes),J=I.indexOf(t.focusedNode);do{J===-1?J=0:M==="next"&&J<I.length-1?J++:M==="prev"&&J>0&&J--;var Q=I[J];Q.hasAttribute("disabled")&&(Q=void 0)}while(!Q&&J<I.length-1&&J>0);Q&&Q.focus();t.focusedNode=Q}function O(M){function I(){var Q=!1;if(M&&M.currentTarget.children.length>0){var T=M.currentTarget.children[0],Y=T.scrollHeight>T.clientHeight;Y&&
T.children.length>0&&(Y=M.pageX-M.currentTarget.getBoundingClientRect().left,Y>T.querySelector("md-option").offsetWidth&&(Q=!0))}return Q}if(!(M&&M.type=="click"&&M.currentTarget!=S[0]||I())){var J=e.getClosest(M.target,"md-option");J&&J.hasAttribute&&!J.hasAttribute("disabled")&&(M.preventDefault(),M.stopPropagation(),K.isMultiple||(t.restoreFocus=!0,e.nextTick(function(){d.hide(K.ngModel.$viewValue)},!0)))}}if(!t.isRemoved){var S=t.selectEl,K=S.controller("mdSelectMenu")||{};p.addClass("md-clickable");
t.backdrop&&t.backdrop.on("click",N);S.on("keydown",C);S.on("click",O);return function(){t.backdrop&&t.backdrop.off("click",N);S.off("keydown",C);S.off("click",O);p.removeClass("md-clickable");t.isRemoved=!0}}}D();u(k,t);t.hideBackdrop=w(k,p,t);return H(k,p,t).then(function(N){p.attr("aria-hidden","false");t.alreadyOpen=!0;t.cleanupInteraction=G();t.cleanupResizing=z();B(t.focusedNode);return N},t.hideBackdrop)}function r(k,p,t){k=p[0];var H=t.target[0].children[0],A=v[0].body,w=t.selectEl[0],B=t.contentEl[0],
u=A.getBoundingClientRect(),z=H.getBoundingClientRect();A={left:u.left+8,top:8,bottom:u.height-8,right:u.width-8-(e.floatingScrollbars()?16:0)};var D={top:z.top-A.top,left:z.left-A.left,right:A.right-(z.left+z.width),bottom:A.bottom-(z.top+z.height)};u=u.width-16;var G=w.querySelector("md-option[selected]"),N=w.getElementsByTagName("md-option"),C=w.getElementsByTagName("md-optgroup"),F=B,O=p[0].style.display;p[0].style.display="block";F=F.scrollHeight>F.offsetHeight;p[0].style.display=O;p=F;C=(O=
(O=t.loadingAsync)&&angular.isFunction(O.then))?B.firstElementChild||B:G?G:C.length?C[0]:N.length?N[0]:B.firstElementChild||B;B.offsetWidth>u?B.style["max-width"]=u+"px":B.style.maxWidth=null;p&&w.classList.add("md-overflow");G=C;(G.tagName||"").toUpperCase()==="MD-OPTGROUP"&&(C=G=N[0]||B.firstElementChild||B);t.focusedNode=G;k.style.display="block";N=w.getBoundingClientRect();G=C?{left:C.offsetLeft,top:C.offsetTop,width:C.offsetWidth,height:C.offsetHeight}:{left:0,top:0,width:0,height:0};C&&(C=f.getComputedStyle(C),
G.paddingLeft=parseInt(C.paddingLeft,10)||0,G.paddingRight=parseInt(C.paddingRight,10)||0);p&&(C=B.offsetHeight/2,B.scrollTop=G.top+G.height/2-C,D.top<C?B.scrollTop=Math.min(G.top,B.scrollTop+C-D.top):D.bottom<C&&(B.scrollTop=Math.max(G.top+G.height-N.height,B.scrollTop-C+D.bottom)));D=z.left+G.left-G.paddingLeft+2;C=Math.floor(z.top+z.height/2-G.height/2-G.top+B.scrollTop)+2;B=G.left+z.width/2+"px "+(G.top+G.height/2-B.scrollTop)+"px 0px";u=Math.min(z.width+G.paddingLeft+G.paddingRight,u);H=window.getComputedStyle(H)["font-size"];
G=k.getBoundingClientRect();p=Math.round(100*Math.min(z.width/N.width,1))/100;z=Math.round(100*Math.min(z.height/N.height,1))/100;return{container:{element:angular.element(k),styles:{left:Math.floor(Math.max(A.left,Math.min(D,A.right-G.width))),top:Math.floor(Math.max(A.top,Math.min(C,A.bottom-G.height))),"min-width":u,"font-size":H}},dropDown:{element:angular.element(w),styles:{transformOrigin:B,transform:t.alreadyOpen?"":e.supplant("scale({0},{1})",[p,z])}}}}var x=e.dom.animator,y=c.KEY_CODE;return{parent:"body",
themable:!0,onShow:q,onRemove:n,hasBackdrop:!0,disableParentScroll:!0}}b.$inject="$mdSelect $mdConstant $mdUtil $window $q $$rAF $animateCss $animate $document".split(" ");return a("$mdSelect").setDefaults({methods:["target"],options:b})}function shouldHandleKey(a,b){var d=String.fromCharCode(a.keyCode),c=a.keyCode<=31;return d&&d.length&&!c&&!b.isMetaKey(a)&&!b.isFnLockKey(a)&&!b.hasModifierKey(a)}ngmaterial.components.select=angular.module("material.components.select");SidenavService.$inject=["$mdComponentRegistry","$mdUtil","$q","$log"];SidenavDirective.$inject="$mdMedia $mdUtil $mdConstant $mdTheming $mdInteraction $animate $compile $parse $log $q $document $window $$rAF".split(" ");SidenavController.$inject=["$scope","$attrs","$mdComponentRegistry","$q","$interpolate"];
angular.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",SidenavService).directive("mdSidenav",SidenavDirective).directive("mdSidenavFocus",SidenavFocusDirective).controller("$mdSidenavController",SidenavController);
function SidenavService(a,b,d,c){function e(l,m){var v=function(){return!1},n=function(){return d.when(b.supplant("SideNav '{0}' is not available! Did you use md-component-id='{0}'?",[m||""]))};return angular.extend({isLockedOpen:v,isOpen:v,toggle:n,open:n,close:n,onClose:angular.noop,then:function(q){return g(m).then(q||angular.noop)}},l)}function f(l,m){var v=a.get(l);if(v||m)return v;c.error(b.supplant("SideNav '{0}' is not available! Did you use md-component-id='{0}'?",[l||""]))}function g(l){return a.when(l).catch(c.error)}
var h={find:f,waitFor:g};return function(l,m){if(angular.isUndefined(l))return h;var v=m===!0,n=h.find(l,v);return!n&&v?h.waitFor(l):!n&&angular.isUndefined(m)?e(h,l):n}}function SidenavFocusDirective(){return{restrict:"A",require:"^mdSidenav",link:function(){}}}
function SidenavDirective(a,b,d,c,e,f,g,h,l,m,v,n,q){function r(x,y,k,p){function t(J,Q){x.isLockedOpen=J;if(J===Q)y.toggleClass("md-locked-open",!!J);else f[J?"addClass":"removeClass"](y,"md-locked-open");D&&D.toggleClass("md-locked-open",!!J)}function H(J){var Q=b.findFocusTarget(y)||b.findFocusTarget(y,"[md-sidenav-focus]")||y,T=y.parent();if(!N&&(T[J?"on":"off"]("keydown",B),D))D[J?"on":"off"]("click",u);var Y=A(T,J);J&&(F=v[0].activeElement,C=e.getLastInteractionType());J&&!z?(z=G.css("overflow"),
G.css("overflow","hidden")):angular.isDefined(z)&&(G.css("overflow",z),z=void 0);return S=m.all([J&&D?f.enter(D,T):D?f.leave(D):m.when(!0),f[J?"removeClass":"addClass"](y,"md-closed")]).then(function(){x.isOpen&&(q(function(){M.triggerHandler("resize")}),Q&&Q.focus());Y&&Y()})}function A(J,Q){var T=y[0],Y=J[0].scrollTop;Q&&Y&&(O={top:T.style.top,bottom:T.style.bottom,height:T.style.height},J={top:Y+"px",bottom:"auto",height:J[0].clientHeight+"px"},y.css(J),D.css(J));if(!Q&&O)return function(){T.style.top=
O.top;T.style.bottom=O.bottom;T.style.height=O.height;D[0].style.top=null;D[0].style.bottom=null;O=D[0].style.height=null}}function w(J){if(x.isOpen===J)return m.when(!0);if(x.isOpen&&p.onCloseCb)p.onCloseCb();return m(function(Q){x.isOpen=J;b.nextTick(function(){S.then(function(T){!x.isOpen&&F&&C==="keyboard"&&(F.focus(),F=null);Q(T)})})})}function B(J){var Q=J.keyCode===d.KEY_CODE.ESCAPE;return Q?u(J):m.when(!0)}function u(J){J.preventDefault();return p.close()}var z,D,G=null,N,C,F=null,O,S=m.when(!0),
K=h(k.mdIsLockedOpen),M=angular.element(n),I=function(){return K(x.$parent,{$media:function(J){l.warn("$media is deprecated for is-locked-open. Use $mdMedia instead.");return a(J)},$mdMedia:a})};k.mdDisableScrollTarget&&((G=v[0].querySelector(k.mdDisableScrollTarget))?G=angular.element(G):l.warn(b.supplant('mdSidenav: couldn\'t find element matching selector "{selector}". Falling back to parent.',{selector:k.mdDisableScrollTarget})));G||(G=y.parent());k.hasOwnProperty("mdDisableBackdrop")||(D=b.createBackdrop(x,
"md-sidenav-backdrop md-opaque ng-enter"));k.hasOwnProperty("mdDisableCloseEvents")&&(N=!0);y.addClass("_md");c(y);D&&c.inherit(D,y);y.on("$destroy",function(){D&&D.remove();p.destroy()});x.$on("$destroy",function(){D&&D.remove()});x.$watch(I,t);x.$watch("isOpen",H);p.$toggleOpen=w}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(x){x.addClass("md-closed").attr("tabIndex","-1");return r}}}
function SidenavController(a,b,d,c,e){var f=this;f.isOpen=function(){return!!a.isOpen};f.isLockedOpen=function(){return!!a.isLockedOpen};f.onClose=function(l){f.onCloseCb=l;return f};f.open=function(){return f.$toggleOpen(!0)};f.close=function(){return f.$toggleOpen(!1)};f.toggle=function(){return f.$toggleOpen(!a.isOpen)};f.$toggleOpen=function(l){return c.when(a.isOpen=l)};var g=b.mdComponentId,h=g&&g.indexOf(e.startSymbol())>-1;e=h?e(g)(a.$parent):g;f.destroy=d.register(f,e);h&&b.$observe("mdComponentId",
function(l){l&&l!==f.$$mdHandle&&(f.destroy(),f.destroy=d.register(f,l))})}ngmaterial.components.sidenav=angular.module("material.components.sidenav");SliderDirective.$inject="$$rAF $window $mdAria $mdUtil $mdConstant $mdTheming $mdGesture $parse $log $timeout".split(" ");angular.module("material.components.slider",["material.core"]).directive("mdSlider",SliderDirective).directive("mdSliderContainer",SliderContainerDirective);var stepPageSize=10,modifierMultiplier=4;
function SliderContainerDirective(){return{controller:function(){},compile:function(a){var b=a.find("md-slider");if(b){var d=b.attr("md-vertical");d!==void 0&&a.attr("md-vertical","");b.attr("flex")||b.attr("flex","");return function(c,e,f,g){function h(v){e.children().attr("disabled",v);e.find("input").attr("disabled",v)}e.addClass("_md");var l=angular.noop;f.disabled?h(!0):f.ngDisabled&&(l=c.$watch(f.ngDisabled,function(v){h(v)}));c.$on("$destroy",function(){l()});var m;g.fitInputWidthToTextLength=
function(v){var n=e[0].querySelector("md-input-container");if(n){var q=getComputedStyle(n),r=parseInt(q.minWidth),x=parseInt(q.paddingLeft)+parseInt(q.paddingRight);m=m||parseInt(q.maxWidth);v=Math.max(m,r+x+r/2*v);n.style.maxWidth=v+"px"}}}}}}}
function SliderDirective(a,b,d,c,e,f,g,h,l,m){function v(q,r){var x=angular.element(q[0].getElementsByClassName("md-slider-wrapper")),y=r.tabindex||0;x.attr("tabindex",y);(r.disabled||r.ngDisabled)&&x.attr("tabindex",-1);x.attr("role","slider");d.expect(q,"aria-label");return n}function n(q,r,x,y){function k(){u();S()}function p(E){W=parseFloat(E);ea.$viewValue=K(ea.$modelValue,W,ya);ma.attr("aria-valuemin",E);k()}function t(E){ya=parseFloat(E);ea.$viewValue=K(ea.$modelValue,W,ya);ma.attr("aria-valuemax",
E);k()}function H(E){va=parseFloat(E)}function A(E){L=K(parseInt(E),0,6)}function w(){r.attr("aria-disabled",!!da())}function B(){if(Ia&&!da()&&!angular.isUndefined(va)){if(va<=0)throw l.error("Slider step value must be greater than zero when in discrete mode"),Error("Slider step value must be greater than zero when in discrete mode");var E=Math.floor((ya-W)/va);ua||(ua=angular.element("<canvas>").css("position","absolute"),Aa.append(ua),qa=ua[0].getContext("2d"));var P=z();!P||P.height||P.width||
(u(),P=ta);ua[0].width=P.width;ua[0].height=P.height;for(var Z,ja=0;ja<=E;ja++)Z=b.getComputedStyle(Aa[0]),qa.fillStyle=Z.color||"black",Z=Math.floor(ja/E*(oa?P.height:P.width)),qa.fillRect(oa?0:Z-1,oa?Z-1:0,oa?P.width:2,oa?2:P.height)}}function u(){ta=Ga[0].getBoundingClientRect()}function z(){za();return ta}function D(E){if(!da()){var P=e.KEY_CODE;switch(E.keyCode){case P.DOWN_ARROW:case P.LEFT_ARROW:E.preventDefault();var Z=-va;break;case P.UP_ARROW:case P.RIGHT_ARROW:E.preventDefault();Z=va;break;
case P.PAGE_DOWN:E.preventDefault();Z=-va*stepPageSize;break;case P.PAGE_UP:E.preventDefault();Z=va*stepPageSize;break;case P.HOME:E.preventDefault();E.stopPropagation();G(W);break;case P.END:E.preventDefault(),E.stopPropagation(),G(ya)}if(Z){Z=xa?-Z:Z;if(E.metaKey||E.ctrlKey||E.altKey)Z*=modifierMultiplier;E.preventDefault();E.stopPropagation();G(ea.$viewValue+Z)}}}function G(E){q.$evalAsync(function(){O(E)})}function N(){B();q.mouseActive=!0;ma.removeClass("md-focused");m(function(){q.mouseActive=
!1},100)}function C(){q.mouseActive===!1&&ma.addClass("md-focused")}function F(){ma.removeClass("md-focused");r.removeClass("md-active");if(ua&&qa){var E=z();qa.clearRect(0,0,E.width,E.height)}}function O(E){ea.$setViewValue(K(M(E)))}function S(){isNaN(ea.$viewValue)&&(ea.$viewValue=ea.$modelValue);ea.$viewValue=K(ea.$viewValue);var E=fa(ea.$viewValue);q.modelValue=ea.$viewValue;ma.attr("aria-valuenow",ea.$viewValue);I(E);la.text(ea.$viewValue)}function K(E,P,Z){if(angular.isNumber(E))return P=angular.isNumber(P)?
P:W,Z=angular.isNumber(Z)?Z:ya,Math.max(P,Math.min(Z,E))}function M(E){if(angular.isNumber(E)){var P=Math.round((E-W)/va)*va+W;P=Math.round(P*Math.pow(10,L))/Math.pow(10,L);ca&&ca.fitInputWidthToTextLength&&c.debounce(function(){ca.fitInputWidthToTextLength(P.toString().length)},100)();return P}}function I(E){E=Math.max(0,Math.min(E||0,1));var P=E*100+"%",Z=xa?(1-E)*100+"%":P;oa?pa.css("bottom",P):c.bidiProperty(pa,"left","right",P);wa.css(oa?"height":"width",Z);r.toggleClass(xa?"md-max":"md-min",
E===0);r.toggleClass(xa?"md-min":"md-max",E===1)}function J(E){if(!da()){r.addClass("md-active");r[0].focus();u();E=ha(aa(oa?E.pointer.y:E.pointer.x));var P=K(M(E));q.$apply(function(){O(P);I(fa(P))})}}function Q(E){if(!da()){r.removeClass("md-dragging");E=ha(aa(oa?E.pointer.y:E.pointer.x));var P=K(M(E));q.$apply(function(){O(P);S()})}}function T(E){da()||(sa=!0,E.stopPropagation(),r.addClass("md-dragging"),U(E))}function Y(E){sa&&(E.stopPropagation(),U(E))}function R(E){sa&&(E.stopPropagation(),
sa=!1)}function U(E){if(Ia){E=oa?E.pointer.y:E.pointer.x;var P=ha(aa(E));P=K(M(P));I(aa(E));la.text(P)}else X(oa?E.pointer.y:E.pointer.x)}function X(E){q.$evalAsync(function(){O(ha(aa(E)))})}function aa(E){var P=oa?ta.top:ta.left,Z=oa?ta.height:ta.width;E=(E-P)/Z;!oa&&c.isRtl(x)&&(E=1-E);return Math.max(0,Math.min(1,oa?1-E:E))}function ha(E){E=xa?1-E:E;return W+E*(ya-W)}function fa(E){E=(E-W)/(ya-W);return xa?1-E:E}f(r);var ea=y[0]||{$setViewValue:function(E){this.$viewValue=E;this.$viewChangeListeners.forEach(function(P){P()})},
$parsers:[],$formatters:[],$viewChangeListeners:[]},ca=y[1];angular.element(c.getClosest(r,"_md-slider-container",!0));var da=x.ngDisabled?angular.bind(null,h(x.ngDisabled),q.$parent):function(){return r[0].hasAttribute("disabled")};y=angular.element(r[0].querySelector(".md-thumb"));var la=angular.element(r[0].querySelector(".md-thumb-text")),pa=y.parent(),Ga=angular.element(r[0].querySelector(".md-track-container")),wa=angular.element(r[0].querySelector(".md-track-fill")),Aa=angular.element(r[0].querySelector(".md-track-ticks")),
ma=angular.element(r[0].getElementsByClassName("md-slider-wrapper"));angular.element(r[0].getElementsByClassName("md-slider-content"));var za=c.throttle(u,5E3),oa=angular.isDefined(x.mdVertical),Ia=angular.isDefined(x.mdDiscrete),xa=angular.isDefined(x.mdInvert);angular.isDefined(x.min)?x.$observe("min",p):p(0);angular.isDefined(x.max)?x.$observe("max",t):t(100);angular.isDefined(x.step)?x.$observe("step",H):H(1);angular.isDefined(x.round)?x.$observe("round",A):A(3);x.ngDisabled&&q.$parent.$watch(x.ngDisabled,
w);g.register(ma,"drag",{horizontal:!oa});q.mouseActive=!1;ma.on("keydown",D).on("mousedown",N).on("focus",C).on("blur",F).on("$md.pressdown",J).on("$md.pressup",Q).on("$md.dragstart",T).on("$md.drag",Y).on("$md.dragend",R);setTimeout(k,0);var Fa=a.throttle(k);angular.element(b).on("resize",Fa);q.$on("$destroy",function(){angular.element(b).off("resize",Fa)});ea.$render=S;ea.$viewChangeListeners.push(S);ea.$formatters.push(K);ea.$formatters.push(M);var W,ya,va,L,ua,qa,ta={};u();var sa=!1}return{scope:{},
require:["?ngModel","?^mdSliderContainer"],template:'<div class="md-slider-wrapper"><div class="md-slider-content"><div class="md-track-container"><div class="md-track"></div><div class="md-track md-track-fill"></div><div class="md-track-ticks"></div></div><div class="md-thumb-container"><div class="md-thumb"></div><div class="md-focus-thumb"></div><div class="md-focus-ring"></div><div class="md-sign"><span class="md-thumb-text"></span></div><div class="md-disabled-thumb"></div></div></div></div>',
compile:v}}ngmaterial.components.slider=angular.module("material.components.slider");MdSticky.$inject=["$mdConstant","$$rAF","$mdUtil","$compile"];angular.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",MdSticky);
function MdSticky(a,b,d,c){function e(h){function l(t,H){H.addClass("md-sticky-clone");var A={element:t,clone:H};p.items.push(A);d.nextTick(function(){y.prepend(A.clone)});k();return function(){p.items.forEach(function(w,B){w.element[0]===t[0]&&(p.items.splice(B,1),w.clone.remove())});k()}}function m(){p.items.forEach(v);p.items=p.items.sort(function(w,B){return w.top<B.top?-1:1});for(var t,H=y.prop("scrollTop"),A=p.items.length-1;A>=0;A--)if(H>p.items[A].top){t=p.items[A];break}q(t)}function v(t){var H=
t.element[0];t.top=0;t.left=0;for(t.right=0;H&&H!==y[0];)t.top+=H.offsetTop,t.left+=H.offsetLeft,H.offsetParent&&(t.right+=H.offsetParent.offsetWidth-H.offsetWidth-H.offsetLeft),H=H.offsetParent;t.height=t.element.prop("offsetHeight");H=d.floatingScrollbars()?"0":void 0;d.bidi(t.clone,"margin-left",t.left,H);d.bidi(t.clone,"margin-right",H,t.right)}function n(){var t=y.prop("scrollTop"),H=t>(n.prevScrollTop||0);n.prevScrollTop=t;if(t===0)q(null);else{if(H){if(p.next&&p.next.top<=t){q(p.next);return}if(p.current&&
p.next&&p.next.top-t<=p.next.height){x(p.current,t+(p.next.top-p.next.height-t));return}}if(!H){if(p.current&&p.prev&&t<p.current.top){q(p.prev);return}if(p.next&&p.current&&t>=p.next.top-p.current.height){x(p.current,t+(p.next.top-t-p.current.height));return}}p.current&&x(p.current,t)}}function q(t){p.current!==t&&(p.current&&(x(p.current,null),r(p.current,null)),t&&r(t,"active"),p.current=t,t=p.items.indexOf(t),p.next=p.items[t+1],p.prev=p.items[t-1],r(p.next,"next"),r(p.prev,"prev"))}function r(t,
H){t&&t.state!==H&&(t.state&&(t.clone.attr("sticky-prev-state",t.state),t.element.attr("sticky-prev-state",t.state)),t.clone.attr("sticky-state",H),t.element.attr("sticky-state",H),t.state=H)}function x(t,H){t&&(H===null||H===void 0?t.translateY&&(t.translateY=null,t.clone.css(a.CSS.TRANSFORM,"")):(t.translateY=H,d.bidi(t.clone,a.CSS.TRANSFORM,"translate3d("+t.left+"px,"+H+"px,0)","translateY("+H+"px)")))}var y=h.$element,k=b.throttle(m);f(y);y.on("$scrollstart",k);y.on("$scroll",n);var p;return p=
{prev:null,current:null,next:null,items:[],add:l,refreshElements:m}}function f(h){function l(){+d.now()-v>200?(m=!1,h.triggerHandler("$scrollend")):(h.triggerHandler("$scroll"),b.throttle(l))}var m,v;h.on("scroll touchmove",function(){m||(m=!0,b.throttle(l),h.triggerHandler("$scrollstart"));h.triggerHandler("$scroll");v=+d.now()})}var g=d.checkStickySupport();return function(h,l,m){var v=l.controller("mdContent");if(v)if(g)l.css({position:g,top:0,"z-index":2});else{var n=v.$element.data("$$sticky");
n||(n=e(v),v.$element.data("$$sticky",n));m=m||c(l.clone())(h);l=n.add(l,m);h.$on("$destroy",l)}}}ngmaterial.components.sticky=angular.module("material.components.sticky");MdSubheaderDirective.$inject=["$mdSticky","$compile","$mdTheming","$mdUtil","$mdAria"];angular.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",MdSubheaderDirective);
function MdSubheaderDirective(a,b,d,c,e){return{restrict:"E",replace:!0,transclude:!0,template:'<div class="md-subheader _md">  <div class="md-subheader-inner">    <div class="md-subheader-content"></div>  </div></div>',link:function(f,g,h,l,m){function v(q){return angular.element(q[0].querySelector(".md-subheader-content"))}d(g);g.addClass("_md");c.prefixer().removeAttribute(g,"ng-repeat");var n=g[0].outerHTML;h.$set("role","heading");e.expect(g,"aria-level","2");m(f,function(q){v(g).append(q)});
g.hasClass("md-no-sticky")||m(f,function(q){var r=b('<div class="md-subheader-wrapper" aria-hidden="true">'+n+"</div>")(f);c.nextTick(function(){v(r).append(q)});a(f,g,r)})}}}ngmaterial.components.subheader=angular.module("material.components.subheader");angular.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",getDirective("SwipeLeft")).directive("mdSwipeRight",getDirective("SwipeRight")).directive("mdSwipeUp",getDirective("SwipeUp")).directive("mdSwipeDown",getDirective("SwipeDown"));
function getDirective(a){function b(e){function f(g,h,l){var m=e(l[d]);h.on(c,function(v){var n=v.currentTarget;g.$applyAsync(function(){m(g,{$event:v,$target:{current:n}})})})}return{restrict:"A",link:f}}b.$inject=["$parse"];var d="md"+a,c="$md."+a.toLowerCase();return b}ngmaterial.components.swipe=angular.module("material.components.swipe");MdSwitch.$inject="mdCheckboxDirective $mdUtil $mdConstant $parse $$rAF $mdGesture $timeout".split(" ");angular.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",MdSwitch);
function MdSwitch(a,b,d,c,e,f,g){function h(m,v){var n=l.compile(m,v).post;m.addClass("md-dragging");return function(q,r,x,y){function k(G){w&&w(q)||(G.stopPropagation(),r.addClass("md-dragging"),D={width:B.prop("offsetWidth")})}function p(G){D&&(G.stopPropagation(),G.srcEvent&&G.srcEvent.preventDefault(),G=G.pointer.distanceX/D.width,G=A.$viewValue?1+G:G,G=Math.max(0,Math.min(1,G)),B.css(d.CSS.TRANSFORM,"translate3d("+100*G+"%,0,0)"),D.translate=G)}function t(G){D&&(G.stopPropagation(),r.removeClass("md-dragging"),
B.css(d.CSS.TRANSFORM,""),(G=A.$viewValue?D.translate<.5:D.translate>.5)&&H(!A.$viewValue),D=null,q.skipToggle=!0,g(function(){q.skipToggle=!1},1))}function H(G){q.$apply(function(){A.$setViewValue(G);A.$render()})}var A=y[1]||b.fakeNgModel(),w=null;x.disabled!=null?w=function(){return!0}:x.ngDisabled&&(w=c(x.ngDisabled));var B=angular.element(r[0].querySelector(".md-thumb-container")),u=angular.element(r[0].querySelector(".md-container")),z=angular.element(r[0].querySelector(".md-label"));e(function(){r.removeClass("md-dragging")});
n(q,r,x,y);w&&q.$watch(w,function(G){r.attr("tabindex",G?-1:0)});x.$observe("mdInvert",function(G){(G=b.parseAttributeBoolean(G))?r.prepend(z):r.prepend(u);r.toggleClass("md-inverted",G)});f.register(u,"drag");u.on("$md.dragstart",k).on("$md.drag",p).on("$md.dragend",t);var D}}var l=a[0];return{restrict:"E",priority:d.BEFORE_NG_ARIA,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',
require:["^?mdInputContainer","?ngModel","?^form"],compile:h}}ngmaterial.components.switch=angular.module("material.components.switch");angular.module("material.components.tabs",["material.core","material.components.icon"]);angular.module("material.components.tabs").service("MdTabsPaginationService",MdTabsPaginationService);
function MdTabsPaginationService(){function a(e,f){var g=e.canvas;e=d(e);var h;for(h=0;h<e.length;h++)if(e[h]>=f){var l=e[h];break}return Math.max(0,l-g.clientWidth)}function b(e,f){var g=e.canvas,h=c(e)-g.clientWidth;e=d(e);var l;for(l=0;l<e.length,e[l]<=f+g.clientWidth;l++)var m=e[l];return Math.min(h,m)}function d(e){var f,g=0,h=[];for(f=0;f<e.tabs.length;f++){var l=e.tabs[f];h.push(g);g+=l.offsetWidth}return h}function c(e){var f=0,g;for(g=0;g<e.tabs.length;g++){var h=e.tabs[g];f+=h.offsetWidth}return f}
return{decreasePageOffset:a,increasePageOffset:b,getTabOffsets:d,getTotalTabsWidth:c}}angular.module("material.components.tabs").directive("mdTab",MdTab);
function MdTab(){function a(d,c,e,f){if(f){e=f.getTabElementIndex(c);var g=b(c,"md-tab-body").remove(),h=b(c,"md-tab-label").remove(),l=f.insertTab({scope:d,parent:d.$parent,index:e,element:c,template:g.html(),label:h.html()},e);d.select=d.select||angular.noop;d.deselect=d.deselect||angular.noop;d.$watch("active",function(m){m&&f.select(l.getIndex(),!0)});d.$watch("disabled",function(){f.refreshIndex()});d.$watch(function(){return f.getTabElementIndex(c)},function(m){l.index=m;f.updateTabOrder()});
d.$on("$destroy",function(){f.removeTab(l)})}}function b(d,c){d=d[0].children;for(var e=0,f=d.length;e<f;e++){var g=d[e];if(g.tagName===c.toUpperCase())return angular.element(g)}return angular.element()}return{require:"^?mdTabs",terminal:!0,compile:function(d,c){var e=b(d,"md-tab-label"),f=b(d,"md-tab-body");e.length===0&&(e=angular.element("<md-tab-label></md-tab-label>"),c.label?e.text(c.label):e.append(d.contents()),f.length===0&&(c=d.contents().detach(),f=angular.element("<md-tab-body></md-tab-body>"),
f.append(c)));d.append(e);f.html()&&d.append(f);return a},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect",tabClass:"@mdTabClass"}}}angular.module("material.components.tabs").directive("mdTabItem",MdTabItem);function MdTabItem(){return{require:"^?mdTabs",link:function(a,b,d,c){c&&c.attachRipple(a,b)}}}angular.module("material.components.tabs").directive("mdTabLabel",MdTabLabel);function MdTabLabel(){return{terminal:!0}}MdTabScroll.$inject=["$parse"];
angular.module("material.components.tabs").directive("mdTabScroll",MdTabScroll);function MdTabScroll(a){return{restrict:"A",compile:function(b,d){var c=a(d.mdTabScroll,null,!0);return function(e,f){f.on("wheel",function(g){e.$apply(function(){c(e,{$event:g})})})}}}}MdTabsController.$inject="$scope $element $window $mdConstant $mdTabInkRipple $mdUtil $animateCss $attrs $compile $mdTheming $mdInteraction $timeout MdTabsPaginationService".split(" ");
angular.module("material.components.tabs").controller("MdTabsController",MdTabsController);
function MdTabsController(a,b,d,c,e,f,g,h,l,m,v,n,q){function r(){k("stretchTabs",H);ca("focusIndex",D,L.selectedIndex||0);ca("offsetLeft",z,0);ca("hasContent",u,!1);ca("maxTabWidth",w,pa());ca("shouldPaginate",B,!1);p("noInkBar",J);p("dynamicHeight",Q);p("noPagination");p("swipeContent");p("noDisconnect");p("autoselect");p("noSelectClick");p("centerTabs",A,!1);p("enableDisconnect");L.scope=a;L.parent=a.$parent;L.tabs=[];L.lastSelectedIndex=null;L.hasFocus=!1;L.styleTabItemFocus=!1;L.shouldCenterTabs=
L.centerTabs&&!L.shouldPaginate;L.tabContentPrefix="tab-content-";L.navigationHint="Use the left and right arrow keys to navigate between tabs";x()}function x(){L.selectedIndex=L.selectedIndex||0;y();a.$watch("$mdTabsCtrl.selectedIndex",G);angular.element(d).on("resize",I);a.$on("$destroy",t);m(b);f.nextTick(function(){xa();ma();Fa();L.tabs[L.selectedIndex]&&L.tabs[L.selectedIndex].scope.select();sa=!0;da()})}function y(){var E=h.$mdTabsTemplate,P=angular.element(b[0].querySelector("md-tab-data"));
P.html(E);l(P.contents())(L.parent);delete h.$mdTabsTemplate}function k(E,P){var Z=h.$normalize("md-"+E);P&&ca(E,P);h.$observe(Z,function(ja){L[E]=ja})}function p(E,P){function Z(na){L[E]=na!=="false"}var ja=h.$normalize("md-"+E);P&&ca(E,P);h.hasOwnProperty(ja)&&Z(h[ja]);h.$observe(ja,Z)}function t(){ta=!0;angular.element(d).off("resize",I)}function H(){var E=R();angular.element(E.wrapper).toggleClass("md-stretch-tabs",ha());Fa()}function A(){L.shouldCenterTabs=L.centerTabs&&!L.shouldPaginate}function w(E,
P){E!==P&&(P=R(),angular.forEach(P.tabs,function(Z){Z.style.maxWidth=E+"px"}),angular.forEach(P.dummies,function(Z){Z.style.maxWidth=E+"px"}),f.nextTick(L.updateInkBarStyles))}function B(E,P){E!==P&&(L.maxTabWidth=pa(),L.shouldCenterTabs=L.centerTabs&&!L.shouldPaginate,f.nextTick(function(){L.maxTabWidth=pa();ma(L.selectedIndex)}))}function u(E){b[E?"removeClass":"addClass"]("md-no-tab-content")}function z(E){E=(L.shouldCenterTabs||f.isRtl(h)?"":"-")+E+"px";E=E.replace("--","");angular.element(R().paging).css(c.CSS.TRANSFORM,
"translate("+E+", 0)");a.$broadcast("$mdTabsPaginationChanged")}function D(E,P){E!==P&&R().tabs[E]&&(ma(),Aa())}function G(E,P){E!==P&&(L.selectedIndex=ea(E),L.lastSelectedIndex=P,L.updateInkBarStyles(),xa(),ma(E),a.$broadcast("$mdTabsChanged"),L.tabs[P]&&L.tabs[P].scope.deselect(),L.tabs[E]&&L.tabs[E].scope.select())}function N(E){var P=b[0].getElementsByTagName("md-tab");return Array.prototype.indexOf.call(P,E[0])}function C(){C.watcher||(C.watcher=a.$watch(function(){f.nextTick(function(){C.watcher&&
b.prop("offsetParent")&&(C.watcher(),C.watcher=null,I())},!1)}))}function F(E){switch(E.keyCode){case c.KEY_CODE.LEFT_ARROW:E.preventDefault();wa(-1,!0);break;case c.KEY_CODE.RIGHT_ARROW:E.preventDefault();wa(1,!0);break;case c.KEY_CODE.SPACE:case c.KEY_CODE.ENTER:E.preventDefault();ua||O(L.focusIndex);break;case c.KEY_CODE.TAB:L.focusIndex!==L.selectedIndex&&(L.focusIndex=L.selectedIndex)}}function O(E,P){ua||(L.focusIndex=L.selectedIndex=E);P&&L.noSelectClick||f.nextTick(function(){L.tabs[E].element.triggerHandler("click")},
!1)}function S(E){L.shouldPaginate&&(E.preventDefault(),E.deltaY?L.offsetLeft=W(L.offsetLeft+E.deltaY):E.deltaX&&(L.offsetLeft=W(L.offsetLeft+E.deltaX)))}function K(){if(L.canPageForward()){var E=q.increasePageOffset(R(),L.offsetLeft);L.offsetLeft=W(E)}}function M(){if(L.canPageBack()){var E=q.decreasePageOffset(R(),L.offsetLeft);L.offsetLeft=W(E)}}function I(){L.lastSelectedIndex=L.selectedIndex;L.offsetLeft=W(L.offsetLeft);f.nextTick(function(){L.updateInkBarStyles();da()})}function J(E){angular.element(R().inkBar).toggleClass("ng-hide",
E)}function Q(E){b.toggleClass("md-dynamic-height",E)}function T(E){if(!ta){var P=L.selectedIndex;E=L.tabs.splice(E.getIndex(),1)[0];Ia();L.selectedIndex===P&&(E.scope.deselect(),L.tabs[L.selectedIndex]&&L.tabs[L.selectedIndex].scope.select());f.nextTick(function(){da();L.offsetLeft=W(L.offsetLeft)})}}function Y(E,P){var Z=sa,ja={getIndex:function(){return L.tabs.indexOf(na)},isActive:function(){return this.getIndex()===L.selectedIndex},isLeft:function(){return this.getIndex()<L.selectedIndex},isRight:function(){return this.getIndex()>
L.selectedIndex},shouldRender:function(){return!L.noDisconnect||this.isActive()},hasFocus:function(){return L.styleTabItemFocus&&L.hasFocus&&this.getIndex()===L.focusIndex},id:f.nextUid(),hasContent:!(!E.template||!E.template.trim())},na=angular.extend(ja,E);angular.isDefined(P)?L.tabs.splice(P,0,na):L.tabs.push(na);za();oa();f.nextTick(function(){da();va(na);Z&&L.autoselect&&f.nextTick(function(){f.nextTick(function(){O(L.tabs.indexOf(na))})})});return na}function R(){var E={},P=b[0];E.wrapper=P.querySelector("md-tabs-wrapper");
E.canvas=E.wrapper.querySelector("md-tabs-canvas");E.paging=E.canvas.querySelector("md-pagination-wrapper");E.inkBar=E.paging.querySelector("md-ink-bar");E.nextButton=P.querySelector("md-next-button");E.prevButton=P.querySelector("md-prev-button");E.contents=P.querySelectorAll("md-tabs-content-wrapper > md-tab-content");E.tabs=E.paging.querySelectorAll("md-tab-item");E.dummies=E.canvas.querySelectorAll("md-dummy-tab");return E}function U(){return L.offsetLeft>0}function X(){var E=R(),P=E.tabs[E.tabs.length-
1];return f.isRtl(h)?L.offsetLeft<E.paging.offsetWidth-E.canvas.offsetWidth:P&&P.offsetLeft+P.offsetWidth>E.canvas.clientWidth+L.offsetLeft}function aa(){var E=L.tabs[L.focusIndex];return E&&E.id?"tab-item-"+E.id:null}function ha(){switch(L.stretchTabs){case "always":return!0;case "never":return!1;default:return!L.shouldPaginate&&d.matchMedia("(max-width: 600px)").matches}}function fa(){if(L.noPagination||!sa)return!1;var E=b.prop("clientWidth");angular.forEach(R().tabs,function(Z){E-=Z.offsetWidth});
var P=E<0;f.msie&&(P?R().paging.style.width="999999px":R().paging.style.width=void 0);return P}function ea(E){if(E===-1)return-1;var P=Math.max(L.tabs.length-E,E),Z,ja;for(Z=0;Z<=P;Z++)if((ja=L.tabs[E+Z])&&ja.scope.disabled!==!0||(ja=L.tabs[E-Z])&&ja.scope.disabled!==!0)return ja.getIndex();return E}function ca(E,P,Z){Object.defineProperty(L,E,{get:function(){return Z},set:function(ja){var na=Z;Z=ja;P&&P(ja,na)}})}function da(){L.maxTabWidth=pa();L.shouldPaginate=fa()}function la(E){var P=0;angular.forEach(E,
function(Z){P+=Math.max(Z.offsetWidth,Z.getBoundingClientRect().width)});return Math.ceil(P)}function pa(){var E=R();E=E.canvas.clientWidth;return Math.max(0,Math.min(E-1,264))}function Ga(){var E=L.tabs[L.selectedIndex],P=L.tabs[L.focusIndex];L.tabs=L.tabs.sort(function(Z,ja){return Z.index-ja.index});L.selectedIndex=L.tabs.indexOf(E);L.focusIndex=L.tabs.indexOf(P)}function wa(E,P){var Z=P?"focusIndex":"selectedIndex",ja=L[Z];for(P=ja+E;L.tabs[P]&&L.tabs[P].scope.disabled;P+=E);P=(ja+E+L.tabs.length)%
L.tabs.length;L.tabs[P]&&(L[Z]=P)}function Aa(){L.styleTabItemFocus=v.getLastInteractionType()==="keyboard";var E=R().tabs[L.focusIndex];E&&E.focus()}function ma(E){var P=R();angular.isNumber(E)||(E=L.focusIndex);if(P.tabs[E]&&!L.shouldCenterTabs){var Z=P.tabs[E],ja=Z.offsetLeft;Z=Z.offsetWidth+ja;E===0?L.offsetLeft=0:f.isRtl(h)?(ja=la(Array.prototype.slice.call(P.tabs,0,E)),E=la(Array.prototype.slice.call(P.tabs,0,E+1)),L.offsetLeft=Math.min(L.offsetLeft,W(ja)),L.offsetLeft=Math.max(L.offsetLeft,
W(E-P.canvas.clientWidth))):(L.offsetLeft=Math.max(L.offsetLeft,W(Z-P.canvas.clientWidth+32)),L.offsetLeft=Math.min(L.offsetLeft,W(ja)))}}function za(){qa.forEach(function(E){f.nextTick(E)});qa=[]}function oa(){var E=!1,P;for(P=0;P<L.tabs.length;P++)if(L.tabs[P].hasContent){E=!0;break}L.hasContent=E}function Ia(){L.selectedIndex=ea(L.selectedIndex);L.focusIndex=ea(L.focusIndex)}function xa(){if(!L.dynamicHeight)return b.css("height","");if(!L.tabs.length)return qa.push(xa);var E=R(),P=E.contents[L.selectedIndex];
P=P?P.offsetHeight:0;E=E.wrapper.offsetHeight;P+=E;var Z=b.prop("clientHeight");Z!==P&&(b.attr("md-align-tabs")==="bottom"&&(Z-=E,P-=E,b.attr("md-border-bottom")!==void 0&&++Z),ua=!0,E={height:Z+"px"},P={height:P+"px"},b.css(E),g(b,{from:E,to:P,easing:"cubic-bezier(0.35, 0, 0.25, 1)",duration:.5}).start().done(function(){b.css({transition:"none",height:""});f.nextTick(function(){b.css("transition","")});ua=!1}))}function Fa(E,P){if(!L.noInkBar){var Z=R();if(Z.tabs[L.selectedIndex])if(L.tabs.length)if(b.prop("offsetParent")){var ja=
L.selectedIndex,na=Z.paging.offsetWidth,Ba=Z.tabs[ja];ja=Ba.offsetLeft;Ba=na-ja-Ba.offsetWidth;if(L.shouldCenterTabs){var V=la(Z.tabs);na>V&&E!==na&&P!==V&&n(Fa,0,!0,na,V)}na=R();E=L.selectedIndex;P=L.lastSelectedIndex;na=angular.element(na.inkBar);angular.isNumber(P)&&na.toggleClass("md-left",E<P).toggleClass("md-right",E>P);angular.element(Z.inkBar).css({left:ja+"px",right:Ba+"px"})}else C();else qa.push(L.updateInkBarStyles);else angular.element(Z.inkBar).css({left:"auto",right:"auto"})}}function W(E){var P=
R();if(!P.tabs.length||!L.shouldPaginate)return 0;var Z=P.tabs[P.tabs.length-1];Z=Z.offsetLeft+Z.offsetWidth;f.isRtl(h)?(E=Math.min(P.paging.offsetWidth-P.canvas.clientWidth,E),E=Math.max(0,E)):(E=Math.max(0,E),E=Math.min(Z-P.canvas.clientWidth,E));return E}function ya(E,P){var Z=R();Z={colorElement:angular.element(Z.inkBar)};e.attach(E,P,Z)}function va(E){if(E.hasContent){var P=b[0].querySelectorAll('[md-tab-id="'+E.id+'"]');angular.element(P).attr("aria-controls",L.tabContentPrefix+E.id)}}var L=
this,ua=!1,qa=[],ta=!1,sa=!1;L.$onInit=r;L.updatePagination=f.debounce(da,100);L.redirectFocus=Aa;L.attachRipple=ya;L.insertTab=Y;L.removeTab=T;L.select=O;L.scroll=S;L.nextPage=K;L.previousPage=M;L.keydown=F;L.canPageForward=X;L.canPageBack=U;L.refreshIndex=Ia;L.incrementIndex=wa;L.getTabElementIndex=N;L.updateInkBarStyles=f.debounce(Fa,100);L.updateTabOrder=f.debounce(Ga,100);L.getFocusedTabId=aa;angular.version.major===1&&angular.version.minor<=4&&this.$onInit()}MdTabs.$inject=["$$mdSvgRegistry"];
angular.module("material.components.tabs").directive("mdTabs",MdTabs);
function MdTabs(a){return{scope:{navigationHint:"@?mdNavigationHint",selectedIndex:"=?mdSelected"},template:function(b,d){d.$mdTabsTemplate=b.html();return'<md-tabs-wrapper> <md-tab-data></md-tab-data> <md-prev-button tabindex="-1" role="button" aria-label="Previous Page" aria-disabled="{{!$mdTabsCtrl.canPageBack()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.previousPage()"> <md-icon md-svg-src="'+a.mdTabsArrow+'"></md-icon> </md-prev-button> <md-next-button tabindex="-1" role="button" aria-label="Next Page" aria-disabled="{{!$mdTabsCtrl.canPageForward()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.nextPage()"> <md-icon md-svg-src="'+
a.mdTabsArrow+'"></md-icon> </md-next-button> <md-tabs-canvas tabindex="{{ $mdTabsCtrl.hasFocus ? -1 : 0 }}" ng-focus="$mdTabsCtrl.redirectFocus()" ng-class="{ \'md-paginated\': $mdTabsCtrl.shouldPaginate, \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" ng-keydown="$mdTabsCtrl.keydown($event)"> <md-pagination-wrapper ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" md-tab-scroll="$mdTabsCtrl.scroll($event)" role="tablist" aria-label="{{::$mdTabsCtrl.navigationHint}}"><md-tab-item tabindex="{{ tab.isActive() ? 0 : -1 }}" class="md-tab {{::tab.scope.tabClass}}" ng-repeat="tab in $mdTabsCtrl.tabs" role="tab" id="tab-item-{{::tab.id}}" md-tab-id="{{::tab.id}}" aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-click="$mdTabsCtrl.select(tab.getIndex())" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-class="{ \'md-active\':    tab.isActive(), \'md-focused\':   tab.hasFocus(), \'md-disabled\':  tab.scope.disabled }" ng-disabled="tab.scope.disabled" md-swipe-left="$mdTabsCtrl.nextPage()" md-swipe-right="$mdTabsCtrl.previousPage()" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-tab-item> <md-ink-bar></md-ink-bar> </md-pagination-wrapper> <md-tabs-dummy-wrapper aria-hidden="true" class="md-visually-hidden md-dummy-wrapper"> <md-dummy-tab class="md-tab" tabindex="-1" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-repeat="tab in $mdTabsCtrl.tabs" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-dummy-tab> </md-tabs-dummy-wrapper> </md-tabs-canvas> </md-tabs-wrapper> <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent && $mdTabsCtrl.selectedIndex >= 0" class="_md"> <md-tab-content id="{{:: $mdTabsCtrl.tabContentPrefix + tab.id}}" class="_md" role="tabpanel" aria-labelledby="tab-item-{{::tab.id}}" md-swipe-left="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(1)" md-swipe-right="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(-1)" ng-if="tab.hasContent" ng-repeat="(index, tab) in $mdTabsCtrl.tabs" ng-class="{ \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null, \'md-active\':        tab.isActive(), \'md-left\':          tab.isLeft(), \'md-right\':         tab.isRight(), \'md-no-scroll\':     $mdTabsCtrl.dynamicHeight }"> <div md-tabs-template="::tab.template" md-connected-if="tab.isActive()" md-scope="::tab.parent" ng-if="$mdTabsCtrl.enableDisconnect || tab.shouldRender()"></div> </md-tab-content> </md-tabs-content-wrapper>'},
controller:"MdTabsController",controllerAs:"$mdTabsCtrl",bindToController:!0}}MdTabsDummyWrapper.$inject=["$mdUtil","$window"];angular.module("material.components.tabs").directive("mdTabsDummyWrapper",MdTabsDummyWrapper);
function MdTabsDummyWrapper(a,b){return{require:"^?mdTabs",link:function(d,c,e,f){if(f){var g=function(){f.updatePagination();f.updateInkBarStyles()};if("MutationObserver"in b){e={childList:!0,subtree:!0,characterData:!0};g=new MutationObserver(g);g.observe(c[0],e);var h=g.disconnect.bind(g)}else e=a.debounce(g,15,null,!1),c.on("DOMSubtreeModified",e),h=c.off.bind(c,"DOMSubtreeModified",e);d.$on("$destroy",function(){h()})}}}}MdTabsTemplate.$inject=["$compile","$mdUtil"];
angular.module("material.components.tabs").directive("mdTabsTemplate",MdTabsTemplate);
function MdTabsTemplate(a,b){function d(c,e,f,g){function h(){c.$watch("connected",function(v){v===!1?g.enableDisconnect&&b.disconnectScope(m):l()});c.$on("$destroy",l)}function l(){g.enableDisconnect&&b.reconnectScope(m)}if(g){var m=g.enableDisconnect?c.compileScope.$new():c.compileScope;e.html(c.template);a(e.contents())(m);return b.nextTick(h)}}return{restrict:"A",link:d,scope:{template:"=mdTabsTemplate",connected:"=?mdConnectedIf",compileScope:"=mdScope"},require:"^?mdTabs"}}
ngmaterial.components.tabs=angular.module("material.components.tabs");MdToastDirective.$inject=["$mdToast"];MdToastProvider.$inject=["$$interimElementProvider"];angular.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",MdToastDirective).provider("$mdToast",MdToastProvider);function MdToastDirective(a){return{restrict:"E",link:function(b,d){d.addClass("_md");b.$on("$destroy",function(){a.destroy()})}}}
function MdToastProvider(a){function b(f){e=f}function d(f,g,h){this.$onInit=function(){var l=this;l.highlightAction&&(g.highlightClasses=["md-highlight",l.highlightClass]);l.action&&!l.actionKey&&h.warn("Toasts with actions should define an actionKey for accessibility.","Details: https://material.angularjs.org/latest/api/service/$mdToast#mdtoast-simple");l.actionKey&&!l.actionHint&&(l.actionHint='Press Control-"'+l.actionKey+'" to ');l.dismissHint||(l.dismissHint="Press Escape to dismiss.");g.$watch(function(){return e},
function(){l.content=e});this.resolve=function(){f.hide("ok")}}}function c(f,g,h,l,m){function v(x,y,k){e=k.textContent||k.content;var p=!l("gt-sm");y=h.extractElementByName(y,"md-toast",!0);k.element=y;k.onSwipe=function(t){t=t.type.replace("$md.","");var H=t.replace("swipe","");H==="down"&&k.position.indexOf("top")!==-1&&!p||H==="up"&&(k.position.indexOf("bottom")!==-1||p)||(H==="left"||H==="right")&&p||(y.addClass("md-"+t),h.nextTick(g.cancel))};k.openClass=q(k.position);y.addClass(k.toastClass);
k.parent.addClass(k.openClass);h.hasComputedStyle(k.parent,"position","static")&&k.parent.css("position","relative");r(x.toast&&x.toast.actionKey?x.toast.actionKey:void 0);y.on("$md.swipeleft $md.swiperight $md.swipeup $md.swipedown",k.onSwipe);y.addClass(p?"md-bottom":k.position.split(" ").map(function(t){return"md-"+t}).join(" "));k.parent&&k.parent.addClass("md-toast-animating");return f.enter(y,k.parent).then(function(){k.parent&&k.parent.removeClass("md-toast-animating")})}function n(x,y,k){x.toast&&
x.toast.actionKey&&m.off("keydown");y.off("$md.swipeleft $md.swiperight $md.swipeup $md.swipedown",k.onSwipe);k.parent&&k.parent.addClass("md-toast-animating");k.openClass&&k.parent.removeClass(k.openClass);return(k.$destroy===!0?y.remove():f.leave(y)).then(function(){k.parent&&k.parent.removeClass("md-toast-animating");h.hasComputedStyle(k.parent,"position","static")&&k.parent.css("position","")})}function q(x){return l("gt-xs")?"md-toast-open-"+(x.indexOf("top")>-1?"top":"bottom"):"md-toast-open-bottom"}
function r(x){var y=function(k){k.key==="Escape"&&g.hide(!1);x&&k.key===x&&k.ctrlKey&&g.hide("ok")};m.on("keydown",y)}return{onShow:v,onRemove:n,toastClass:"",position:"bottom left",themable:!0,hideDelay:3E3,autoWrap:!0,transformTemplate:function(x,y){if(y=y.autoWrap&&x&&!/md-toast-content/g.test(x)){y=document.createElement("md-template");y.innerHTML=x;for(x=0;x<y.children.length;x++)if(y.children[x].nodeName==="MD-TOAST"){var k=angular.element('<div class="md-toast-content">');k.append(angular.element(y.children[x].childNodes));
y.children[x].appendChild(k[0])}return y.innerHTML}return x||""}}}d.$inject=["$mdToast","$scope","$log"];c.$inject=["$animate","$mdToast","$mdUtil","$mdMedia","$document"];var e;return a=a("$mdToast").setDefaults({methods:"position hideDelay capsule parent position toastClass".split(" "),options:c}).addPreset("simple",{argOption:"textContent",methods:"textContent content action actionKey actionHint highlightAction highlightClass theme parent dismissHint".split(" "),options:["$mdToast","$mdTheming",
function(f,g){return{template:'<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">  <div class="md-toast-content" aria-live="polite" aria-relevant="all">    <span class="md-toast-text">      {{ toast.content }}    </span>    <span class="md-visually-hidden">{{ toast.dismissHint }}</span>    <span class="md-visually-hidden" ng-if="toast.action && toast.actionKey">      {{ toast.actionHint }}    </span>    <md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()"                ng-class="highlightClasses">      {{ toast.action }}    </md-button>  </div></md-toast>',
controller:d,theme:g.defaultTheme(),controllerAs:"toast",bindToController:!0}}]}).addMethod("updateTextContent",b).addMethod("updateContent",b)}ngmaterial.components.toast=angular.module("material.components.toast");mdToolbarDirective.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate"];angular.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",mdToolbarDirective);
function mdToolbarDirective(a,b,d,c,e){var f=angular.bind(null,d.supplant,"translate3d(0,{0}px,0)");return{template:"",restrict:"E",link:function(g,h,l){function m(){function v(u){var z=h.parent().find("md-content");!k&&z.length&&n(null,z);u=g.$eval(u);u===!1?p():p=r()}function n(u,z){z&&h.parent()[0]===z.parent()[0]&&(k&&k.off("scroll",w),k=z,p=r())}function q(u){u=u?u.target.scrollTop:H;B();t=Math.min(y/A,Math.max(0,t+u-H));h.css(b.CSS.TRANSFORM,f([-t*A]));k.css(b.CSS.TRANSFORM,f([(y-t)*A]));H=
u;d.nextTick(function(){var z=h.hasClass("md-whiteframe-z1");z&&!t?e.removeClass(h,"md-whiteframe-z1"):!z&&t&&e.addClass(h,"md-whiteframe-z1")})}function r(){if(!k)return angular.noop;k.on("scroll",w);k.attr("scroll-shrink","true");d.nextTick(x,!1);return function(){k.off("scroll",w);k.attr("scroll-shrink","false");x()}}function x(){y=h.prop("offsetHeight");var u=-y*A+"px";k.css({"margin-top":u,"margin-bottom":u});q()}var y,k,p=angular.noop,t=0,H=0,A=l.mdShrinkSpeedFactor||.5,w=a.throttle(q),B=d.debounce(x,
5E3);g.$on("$mdContentLoaded",n);l.$observe("mdScrollShrink",v);l.ngShow&&g.$watch(l.ngShow,x);l.ngHide&&g.$watch(l.ngHide,x);g.$on("$destroy",p)}h.addClass("_md");c(h);d.nextTick(function(){h.addClass("_md-toolbar-transitions")},!1);angular.isDefined(l.mdScrollShrink)&&m()}}}ngmaterial.components.toolbar=angular.module("material.components.toolbar");MdTooltipDirective.$inject="$timeout $window $$rAF $document $interpolate $mdUtil $mdPanel $$mdTooltipRegistry".split(" ");angular.module("material.components.tooltip",["material.core","material.components.panel"]).directive("mdTooltip",MdTooltipDirective).service("$$mdTooltipRegistry",MdTooltipRegistry);
function MdTooltipDirective(a,b,d,c,e,f,g,h){function l(v,n,q){function r(){v.mdZIndex=v.mdZIndex||100;v.mdDelay=v.mdDelay||0;m[v.mdDirection]||(v.mdDirection="bottom")}function x(K){K=K||e(n.text().trim())(v.$parent);if(!B.attr("aria-label")&&!B.attr("aria-labelledby")||B.attr("md-labeled-by-tooltip"))B.attr("aria-label",K),B.attr("md-labeled-by-tooltip")||B.attr("md-labeled-by-tooltip",w)}function y(){r();C&&C.panelEl&&C.panelEl.removeClass(D);D="md-origin-"+v.mdDirection;G=m[v.mdDirection];N=g.newPanelPosition().relativeTo(B).addPanelPosition(G.x,
G.y);C&&C.panelEl&&(C.panelEl.addClass(D),C.updatePosition(N))}function k(){function K(U){U.some(function(X){return X.attributeName==="disabled"&&B[0].disabled});return!1}function M(){t(!1)}function I(){S=document.activeElement===B[0]}function J(U){if(U.type==="focus"&&S)S=!1;else if(!v.mdVisible&&(B.on("blur touchcancel mouseleave",Q),t(!0),U.type==="touchstart"))B.one("touchend",function(){f.nextTick(function(){c.one("touchend",Q)},!1)})}function Q(){if((F=v.hasOwnProperty("mdAutohide")?v.mdAutohide:
q.hasOwnProperty("mdAutohide"))||z||c[0].activeElement!==B[0])O&&(a.cancel(O),t.queued=!1,O=null),B.off("blur touchcancel mouseleave",Q),B.triggerHandler("blur"),t(!1);z=!1}function T(){z=!0}function Y(){h.deregister("scroll",M,!0);h.deregister("blur",I);h.deregister("resize",u);B.off("focus touchstart mouseenter",J).off("blur touchcancel mouseleave",Q).off("mousedown",T);Q();R&&R.disconnect()}if(B[0]&&"MutationObserver"in b){var R=new MutationObserver(function(U){K(U)&&f.nextTick(function(){t(!1)})});
R.observe(B[0],{attributes:!0})}S=!1;h.register("scroll",M,!0);h.register("blur",I);h.register("resize",u);v.$on("$destroy",Y);B.on("mousedown",T);B.on("focus touchstart mouseenter",J)}function p(){function K(){v.$destroy()}if(n[0]&&"MutationObserver"in b){var M=new MutationObserver(function(I){I.forEach(function(J){J.attributeName!=="md-visible"||v.visibleWatcher||(v.visibleWatcher=v.$watch("mdVisible",H))})});M.observe(n[0],{attributes:!0});q.hasOwnProperty("mdVisible")&&(v.visibleWatcher=v.$watch("mdVisible",
H))}else v.visibleWatcher=v.$watch("mdVisible",H);v.$watch("mdDirection",y);n.one("$destroy",K);B.one("$destroy",K);v.$on("$destroy",function(){t(!1);C&&C.destroy();M&&M.disconnect();n.remove()});n.text().indexOf(e.startSymbol())>-1&&v.$watch(function(){return n.text().trim()},x)}function t(K){t.queued&&t.value===!!K||!t.queued&&v.mdVisible===!!K||(t.value=!!K,t.queued||(K?(t.queued=!0,O=a(function(){v.mdVisible=t.value;t.queued=!1;O=null;v.visibleWatcher||H(v.mdVisible)},v.mdDelay)):f.nextTick(function(){v.mdVisible=
!1;v.visibleWatcher||H(!1)})))}function H(K){K?A():C&&C.close()}function A(){if(!n[0].textContent.trim())throw Error("Text for the tooltip has not been provided. Please include text within the mdTooltip element.");if(!C){var K=angular.element(document.body),M=g.newPanelAnimation().openFrom(B).closeTo(B).withAnimation({open:"md-show",close:"md-hide"});K={id:w,attachTo:K,contentElement:n,propagateContainerEvents:!0,panelClass:"md-tooltip",animation:M,position:N,zIndex:v.mdZIndex,focusOnOpen:!1,onDomAdded:function(){C.panelEl.addClass(D)}};
C=g.create(K)}C.open().then(function(){C.panelEl.attr("role","tooltip")})}var w="md-tooltip-"+f.nextUid(),B=f.getParentWithPointerEvents(n),u=d.throttle(y),z=!1,D,G,N,C,F,O,S=null;r();x();n.detach();y();k();p()}var m={top:{x:g.xPosition.CENTER,y:g.yPosition.ABOVE},right:{x:g.xPosition.OFFSET_END,y:g.yPosition.CENTER},bottom:{x:g.xPosition.CENTER,y:g.yPosition.BELOW},left:{x:g.xPosition.OFFSET_START,y:g.yPosition.CENTER}};return{restrict:"E",priority:210,scope:{mdZIndex:"=?mdZIndex",mdDelay:"=?mdDelay",
mdVisible:"=?mdVisible",mdAutohide:"=?mdAutohide",mdDirection:"@?mdDirection"},link:l}}
function MdTooltipRegistry(){function a(f){c[f.type]&&c[f.type].forEach(function(g){g.call(this,f)},this)}function b(f,g,h){var l=c[f]=c[f]||[];l.length||(h?window.addEventListener(f,a,!0):e.on(f,a));l.indexOf(g)===-1&&l.push(g)}function d(f,g,h){var l=c[f];g=l?l.indexOf(g):-1;g>-1&&(l.splice(g,1),l.length===0&&(h?window.removeEventListener(f,a,!0):e.off(f,a)))}var c={},e=angular.element(window);return{register:b,deregister:d}}ngmaterial.components.tooltip=angular.module("material.components.tooltip");MdWhiteframeDirective.$inject=["$log"];angular.module("material.components.whiteframe",["material.core"]).directive("mdWhiteframe",MdWhiteframeDirective);function MdWhiteframeDirective(a){function b(d,c,e){var f="";e.$observe("mdWhiteframe",function(g){g=parseInt(g,10)||4;g!=-1&&(g>24||g<1)&&(a.warn("md-whiteframe attribute value is invalid. It should be a number between 1 and 24",c[0]),g=4);g=g==-1?"":"md-whiteframe-"+g+"dp";e.$updateClass(g,f);f=g})}return{link:b}}
ngmaterial.components.whiteframe=angular.module("material.components.whiteframe");/*
 Angular Material Design
 https://github.com/angular/material
 @license MIT
 v1.1.0
*/
angular.module("ngMaterial","ng ngAnimate ngAria material.core material.core.gestures material.core.layout material.core.theming.palette material.core.theming material.core.animate material.components.autocomplete material.components.backdrop material.components.bottomSheet material.components.button material.components.card material.components.checkbox material.components.chips material.components.colors material.components.content material.components.datepicker material.components.dialog material.components.divider material.components.fabActions material.components.fabShared material.components.fabSpeedDial material.components.fabToolbar material.components.gridList material.components.icon material.components.input material.components.list material.components.menu material.components.menuBar material.components.navBar material.components.panel material.components.progressCircular material.components.progressLinear material.components.radioButton material.components.select material.components.showHide material.components.sidenav material.components.slider material.components.sticky material.components.subheader material.components.swipe material.components.switch material.components.tabs material.components.toast material.components.toolbar material.components.tooltip material.components.virtualRepeat material.components.whiteframe".split(" "));

