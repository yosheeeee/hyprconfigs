{"version":3,"sources":["webpack:///./background.js","webpack:///./modules/startup/index.js","webpack:///./utils/utils.js","webpack:///./utils/misc.js","webpack:///./utils/xhr.js","webpack:///../~/urijs/src/URI.js","webpack:///../~/urijs/src/punycode.js","webpack:///../~/webpack/buildin/module.js","webpack:///../~/urijs/src/IPv6.js","webpack:///../~/urijs/src/SecondLevelDomains.js","webpack:///./utils/xhr-utils.js","webpack:///../~/lodash/lang/isPlainObject.js","webpack:///../~/lodash/internal/baseForIn.js","webpack:///../~/lodash/internal/baseFor.js","webpack:///../~/lodash/internal/createBaseFor.js","webpack:///../~/lodash/internal/toObject.js","webpack:///../~/lodash/lang/isObject.js","webpack:///../~/lodash/object/keysIn.js","webpack:///../~/lodash/lang/isArguments.js","webpack:///../~/lodash/internal/isArrayLike.js","webpack:///../~/lodash/internal/getLength.js","webpack:///../~/lodash/internal/baseProperty.js","webpack:///../~/lodash/internal/isLength.js","webpack:///../~/lodash/internal/isObjectLike.js","webpack:///../~/lodash/lang/isArray.js","webpack:///../~/lodash/internal/getNative.js","webpack:///../~/lodash/lang/isNative.js","webpack:///../~/lodash/lang/isFunction.js","webpack:///../~/lodash/internal/isIndex.js","webpack:///../~/lodash/utility/noop.js","webpack:///./utils/format-message.js","webpack:///./platform/xhr.js","webpack:///./utils/xhr-parsers.js","webpack:///./utils/xml.js","webpack:///../~/lodash/lang/toArray.js","webpack:///../~/lodash/internal/arrayCopy.js","webpack:///../~/lodash/object/values.js","webpack:///../~/lodash/internal/baseValues.js","webpack:///../~/lodash/object/keys.js","webpack:///../~/lodash/internal/shimKeys.js","webpack:///./utils/overrides_v3/xml.js","webpack:///./modules/offscreen/events.js","webpack:///./utils/offscreen/offscreen-manager.js","webpack:///./utils/overrides_v3/xhr.js","webpack:///./utils/fetch.js","webpack:///../~/lodash/lang/isEmpty.js","webpack:///../~/lodash/lang/isString.js","webpack:///../~/lodash/object/pick.js","webpack:///../~/lodash/internal/baseFlatten.js","webpack:///../~/lodash/internal/arrayPush.js","webpack:///../~/lodash/internal/bindCallback.js","webpack:///../~/lodash/utility/identity.js","webpack:///../~/lodash/internal/pickByArray.js","webpack:///../~/lodash/internal/pickByCallback.js","webpack:///../~/lodash/function/restParam.js","webpack:///./utils/url/index.js","webpack:///./utils/generic-module.js","webpack:///./utils/methods-table.js","webpack:///./utils/url/url-impl.js","webpack:///./utils/url/create-uri.js","webpack:///./utils/url/yandex-domains.js","webpack:///./utils/url/urn-impl.js","webpack:///./utils/object.js","webpack:///./utils/lodash.js","webpack:///../~/lodash/object/defaults.js","webpack:///../~/lodash/object/assign.js","webpack:///../~/lodash/internal/assignWith.js","webpack:///../~/lodash/internal/baseAssign.js","webpack:///../~/lodash/internal/baseCopy.js","webpack:///../~/lodash/internal/createAssigner.js","webpack:///../~/lodash/internal/isIterateeCall.js","webpack:///../~/lodash/internal/assignDefaults.js","webpack:///../~/lodash/internal/createDefaults.js","webpack:///../~/lodash/collection/groupBy.js","webpack:///../~/lodash/internal/createAggregator.js","webpack:///../~/lodash/internal/baseCallback.js","webpack:///../~/lodash/internal/baseMatches.js","webpack:///../~/lodash/internal/baseIsMatch.js","webpack:///../~/lodash/internal/baseIsEqual.js","webpack:///../~/lodash/internal/baseIsEqualDeep.js","webpack:///../~/lodash/internal/equalArrays.js","webpack:///../~/lodash/internal/arraySome.js","webpack:///../~/lodash/internal/equalByTag.js","webpack:///../~/lodash/internal/equalObjects.js","webpack:///../~/lodash/lang/isTypedArray.js","webpack:///../~/lodash/internal/getMatchData.js","webpack:///../~/lodash/internal/isStrictComparable.js","webpack:///../~/lodash/object/pairs.js","webpack:///../~/lodash/internal/baseMatchesProperty.js","webpack:///../~/lodash/internal/baseGet.js","webpack:///../~/lodash/internal/baseSlice.js","webpack:///../~/lodash/internal/isKey.js","webpack:///../~/lodash/array/last.js","webpack:///../~/lodash/internal/toPath.js","webpack:///../~/lodash/internal/baseToString.js","webpack:///../~/lodash/utility/property.js","webpack:///../~/lodash/internal/basePropertyDeep.js","webpack:///../~/lodash/internal/baseEach.js","webpack:///../~/lodash/internal/baseForOwn.js","webpack:///../~/lodash/internal/createBaseEach.js","webpack:///../~/lodash/array/difference.js","webpack:///../~/lodash/internal/baseDifference.js","webpack:///../~/lodash/internal/baseIndexOf.js","webpack:///../~/lodash/internal/indexOfNaN.js","webpack:///../~/lodash/internal/cacheIndexOf.js","webpack:///../~/lodash/internal/createCache.js","webpack:///../~/lodash/internal/SetCache.js","webpack:///../~/lodash/internal/cachePush.js","webpack:///../~/lodash/collection/each.js","webpack:///../~/lodash/collection/forEach.js","webpack:///../~/lodash/internal/arrayEach.js","webpack:///../~/lodash/internal/createForEach.js","webpack:///../~/lodash/collection/map.js","webpack:///../~/lodash/internal/arrayMap.js","webpack:///../~/lodash/internal/baseMap.js","webpack:///../~/lodash/math/max.js","webpack:///../~/lodash/internal/createExtremum.js","webpack:///../~/lodash/internal/arrayExtremum.js","webpack:///../~/lodash/internal/baseExtremum.js","webpack:///../~/lodash/internal/toIterable.js","webpack:///../~/lodash/lang/gt.js","webpack:///../~/lodash/function/debounce.js","webpack:///../~/lodash/date/now.js","webpack:///../~/lodash/object/create.js","webpack:///../~/lodash/internal/baseCreate.js","webpack:///../~/lodash/utility/attempt.js","webpack:///../~/lodash/lang/isError.js","webpack:///../~/lodash/function/throttle.js","webpack:///../~/lodash/collection/pluck.js","webpack:///../~/lodash/object/merge.js","webpack:///../~/lodash/internal/baseMerge.js","webpack:///../~/lodash/internal/baseMergeDeep.js","webpack:///../~/lodash/lang/toPlainObject.js","webpack:///../~/lodash/lang/cloneDeep.js","webpack:///../~/lodash/internal/baseClone.js","webpack:///../~/lodash/internal/initCloneArray.js","webpack:///../~/lodash/internal/initCloneByTag.js","webpack:///../~/lodash/internal/bufferClone.js","webpack:///../~/lodash/internal/initCloneObject.js","webpack:///../~/lodash/function/ary.js","webpack:///../~/lodash/internal/createWrapper.js","webpack:///../~/lodash/internal/baseSetData.js","webpack:///../~/lodash/internal/metaMap.js","webpack:///../~/lodash/internal/createBindWrapper.js","webpack:///../~/lodash/internal/createCtorWrapper.js","webpack:///../~/lodash/internal/createHybridWrapper.js","webpack:///../~/lodash/internal/composeArgs.js","webpack:///../~/lodash/internal/composeArgsRight.js","webpack:///../~/lodash/internal/isLaziable.js","webpack:///../~/lodash/internal/LazyWrapper.js","webpack:///../~/lodash/internal/baseLodash.js","webpack:///../~/lodash/internal/getData.js","webpack:///../~/lodash/internal/getFuncName.js","webpack:///../~/lodash/internal/realNames.js","webpack:///../~/lodash/chain/lodash.js","webpack:///../~/lodash/internal/LodashWrapper.js","webpack:///../~/lodash/internal/wrapperClone.js","webpack:///../~/lodash/internal/reorder.js","webpack:///../~/lodash/internal/replaceHolders.js","webpack:///../~/lodash/internal/setData.js","webpack:///../~/lodash/internal/createPartialWrapper.js","webpack:///../~/lodash/internal/mergeData.js","webpack:///../~/lodash/string/endsWith.js","webpack:///../~/lodash/string/repeat.js","webpack:///../~/lodash/object/extend.js","webpack:///../~/lodash/object/get.js","webpack:///../~/lodash/object/findKey.js","webpack:///../~/lodash/internal/createFindKey.js","webpack:///../~/lodash/internal/baseFind.js","webpack:///../~/lodash/collection/find.js","webpack:///../~/lodash/internal/createFind.js","webpack:///../~/lodash/internal/baseFindIndex.js","webpack:///../~/lodash/array/uniq.js","webpack:///../~/lodash/internal/baseUniq.js","webpack:///../~/lodash/internal/sortedUniq.js","webpack:///../~/lodash/lang/isNumber.js","webpack:///../~/lodash/collection/filter.js","webpack:///../~/lodash/internal/arrayFilter.js","webpack:///../~/lodash/internal/baseFilter.js","webpack:///./utils/curly.js","webpack:///./modules/startup/always.js","webpack:///../~/async/lib/async.js","webpack:///../~/webpack/~/timers-browserify/main.js","webpack:///../~/setimmediate/setImmediate.js","webpack:///../~/process/browser.js","webpack:///./modules/frontend/messaging.js","webpack:///./modules/frontend/init-sender.js","webpack:///./modules/frontend/settings-checkboxes.js","webpack:///./modules/settings/settings.js","webpack:///./modules/settings/defaults.js","webpack:///./modules/debug/build-data.js","webpack:///./modules/frontend/bookmarks.js","webpack:///./modules/bookmarks/bookmarks.js","webpack:///./platform/bookmarks.js","webpack:///./modules/favicon/index.js","webpack:///./modules/favicon/loader.js","webpack:///./utils/load-image.js","webpack:///./modules/favicon/site.js","webpack:///./modules/site-info/site-loader.js","webpack:///./utils/sax-parser.js","webpack:///./libs/sax.js","webpack:///../~/buffer/index.js","webpack:///../~/base64-js/index.js","webpack:///../~/ieee754/index.js","webpack:///../~/isarray/index.js","webpack:///../~/stream-browserify/index.js","webpack:///../~/events/events.js","webpack:///../~/inherits/inherits_browser.js","webpack:///../~/stream-browserify/~/readable-stream/readable-browser.js","webpack:///../~/stream-browserify/~/readable-stream/lib/_stream_readable.js","webpack:///../~/process-nextick-args/index.js","webpack:///../~/stream-browserify/~/readable-stream/lib/internal/streams/stream-browser.js","webpack:///../~/safe-buffer/index.js","webpack:///../~/core-util-is/lib/util.js","webpack:///util (ignored)","webpack:///../~/stream-browserify/~/readable-stream/lib/internal/streams/BufferList.js","webpack:///../~/stream-browserify/~/readable-stream/lib/internal/streams/destroy.js","webpack:///../~/stream-browserify/~/readable-stream/lib/_stream_duplex.js","webpack:///../~/stream-browserify/~/readable-stream/lib/_stream_writable.js","webpack:///../~/util-deprecate/browser.js","webpack:///../~/stream-browserify/~/string_decoder/lib/string_decoder.js","webpack:///../~/stream-browserify/~/readable-stream/lib/_stream_transform.js","webpack:///../~/stream-browserify/~/readable-stream/lib/_stream_passthrough.js","webpack:///../~/stream-browserify/~/readable-stream/writable-browser.js","webpack:///../~/stream-browserify/~/readable-stream/duplex-browser.js","webpack:///../~/stream-browserify/~/readable-stream/transform.js","webpack:///../~/stream-browserify/~/readable-stream/passthrough.js","webpack:///../~/string_decoder/index.js","webpack:///./utils/resource-loader.js","webpack:///./utils/resource-loader-item.js","webpack:///./modules/favicon/yandex.js","webpack:///./utils/colors.js","webpack:///./utils/offscreen/load-image.js","webpack:///./utils/color-names.js","webpack:///./utils/overrides_v3/colors.js","webpack:///./utils/file-storage.js","webpack:///./platform/file-storage.js","webpack:///./modules/overrides_v3/filer.js","webpack:///./utils/file-utils.js","webpack:///./utils/blob-utils.js","webpack:///./modules/frontend/events.js","webpack:///./modules/frontend/thumb-sender.js","webpack:///./modules/thumbs/collection.js","webpack:///./modules/thumbs/thumb.js","webpack:///./modules/site-info/title.js","webpack:///./modules/site-info/tableau.js","webpack:///./modules/cloud-logo/index.js","webpack:///./modules/cloud-logo/saver.js","webpack:///./modules/cloud-logo/loader.js","webpack:///./modules/branding/index.js","webpack:///./platform/branding.js","webpack:///./platform/branding-suggestor.js","webpack:///./modules/i18n/index.js","webpack:///./platform/locale.js","webpack:///./utils/tabs.js","webpack:///../~/then-chrome/out/index.js","webpack:///../~/then-chrome/out/api.js","webpack:///../~/then-chrome/out/config.js","webpack:///../~/then-chrome/out/wrapper.js","webpack:///../~/then-chrome/out/object.js","webpack:///./platform/clid.js","webpack:///./modules/branding/blocks.js","webpack:///../~/traverse/index.js","webpack:///./modules/branding/remote/storage.js","webpack:///./modules/screenshots/cache.js","webpack:///./utils/assert.js","webpack:///./modules/thumbs/storage.js","webpack:///./modules/database/database.js","webpack:///../~/sklad/dist/sklad.min.js","webpack:///./modules/database/structure.js","webpack:///./utils/collection-differ.js","webpack:///../~/deep-equal/index.js","webpack:///../~/deep-equal/lib/keys.js","webpack:///../~/deep-equal/lib/is_arguments.js","webpack:///./modules/informers/index.js","webpack:///./modules/informers/ticker.js","webpack:///./modules/informers/reginfo.js","webpack:///./modules/informers/informer.js","webpack:///./modules/informers/quotes.js","webpack:///./modules/closed-tabs/index.js","webpack:///./modules/closed-tabs/listener.js","webpack:///./utils/tabs-watcher-2.js","webpack:///../~/yandex-elements-core/tabs-watcher/index.js","webpack:///../~/signals/dist/signals.js","webpack:///../~/yandex-elements-core/tabs-watcher/tab.js","webpack:///../~/yandex-elements-core/tabs-watcher/navigation.js","webpack:///../~/uuid/uuid.js","webpack:///../~/uuid/rng-browser.js","webpack:///../~/yandex-elements-core/collection/model.js","webpack:///../~/yandex-elements-core/collection/storage.js","webpack:///../~/lodash/index.js","webpack:///../~/yandex-elements-core/collection/collection.js","webpack:///../~/yandex-elements-core/tabs-watcher/nav-listener.js","webpack:///./modules/closed-tabs/closed-item.js","webpack:///../~/lodash/lang/isRegExp.js","webpack:///./modules/closed-tabs/sorter.js","webpack:///../~/lodash/array/take.js","webpack:///./modules/closed-tabs/restorator.js","webpack:///./modules/closed-tabs/state.js","webpack:///./modules/closed-tabs/state-storage.js","webpack:///./modules/experiments/index.js","webpack:///../~/yandex-elements-core/experiments/experimentator.js","webpack:///../~/yandex-elements-core/experiments/experiment.js","webpack:///./platform/configure.js","webpack:///./platform/file-downloader.js","webpack:///./modules/statistics/soft-export.js","webpack:///./platform/index.js","webpack:///./modules/statistics/dayuse-poller.js","webpack:///./modules/statistics/dayuse-helper.js","webpack:///./modules/cookies/bannerid.js","webpack:///../~/yandex-elements-core/cookies/banner-id.js","webpack:///../~/yandex-elements-core/cookies/ys-cookie.js","webpack:///../~/yandex-elements-core/cookies/ys-serializer.js","webpack:///./modules/statistics/bar-navig.js","webpack:///./modules/statistics/bar-navig-thumbs.js","webpack:///./modules/navigations/index.js","webpack:///./modules/startup/runstate.js","webpack:///./modules/startup/versions.js","webpack:///./platform/get-migration-data.js","webpack:///./libs/md5.js","webpack:///./modules/migration/2.23.0.js","webpack:///./modules/blacklist/local.js","webpack:///./modules/screenshots/screenshots.js","webpack:///./modules/screenshots/watcher.js","webpack:///./modules/screenshots/adjust.js","webpack:///./modules/backgrounds/user-background.js","webpack:///./modules/backgrounds/storage.js","webpack:///./modules/backgrounds/font-colors.js","webpack:///./modules/backgrounds/branding-backgrounds.js","webpack:///./modules/experiments/actual-configs.js","webpack:///../~/yandex-elements-core/experiments/experiment-config.js","webpack:///./experiment-configs.js","webpack:///./modules/frontend/debug-panel.js","webpack:///./modules/debug/debug.js","webpack:///./modules/debug/files.js","webpack:///./modules/debug/log.js","webpack:///./platform/log.js","webpack:///./modules/debug/opener.js","webpack:///../~/lodash/string/escape.js","webpack:///../~/lodash/internal/escapeHtmlChar.js","webpack:///./modules/debug/advertisement.js","webpack:///./modules/advertisement/index.js","webpack:///./modules/advertisement/ticker.js","webpack:///./modules/advertisement/remote-config-listener.js","webpack:///./modules/remote-config/index.js","webpack:///./modules/advertisement/group.js","webpack:///./modules/advertisement/block.js","webpack:///./modules/advertisement/blocks/vbsethome.js","webpack:///./modules/startpages/index.js","webpack:///./platform/browser.js","webpack:///./modules/advertisement/blocks/vbsetsearch.js","webpack:///./modules/advertisement/blocks/statoffer.js","webpack:///./modules/advertisement/blocks/dailyback.js","webpack:///./modules/backgrounds/rotation.js","webpack:///./modules/backgrounds/cloud-backgrounds.js","webpack:///./modules/settings/backgrounds.js","webpack:///./modules/backgrounds/selector.js","webpack:///./modules/advertisement/blocks/vbaddthumb.js","webpack:///./modules/advertisement/blocks/newbackground.js","webpack:///./modules/backgrounds/cloud-loader.js","webpack:///./modules/frontend/settings.js","webpack:///./modules/frontend/backgrounds.js","webpack:///./modules/backgrounds/index.js","webpack:///./modules/backgrounds/request-all.js","webpack:///./modules/frontend/settings-slider.js","webpack:///./modules/pickup/candidates.js","webpack:///./modules/pickup/branded-sites.js","webpack:///./modules/pickup/top-history.js","webpack:///./modules/error/error.js","webpack:///./modules/pickup/top-sites.js","webpack:///./modules/blacklist/blacklist.js","webpack:///./modules/blacklist/remote.js","webpack:///./modules/blacklist/blacklist-checker.js","webpack:///./modules/pickup/candidates-storage.js","webpack:///./modules/pickup/sorter.js","webpack:///./modules/safebrowsing/safebrowsing.js","webpack:///./modules/backup/restore.js","webpack:///./modules/backup/manual/index.js","webpack:///./modules/backup/data-serializer.js","webpack:///./modules/backup/consts.js","webpack:///./modules/advertisement/blocks/vbfilebackup.js","webpack:///./modules/advertisement/blocks/vbvoice.js","webpack:///./modules/voice/consts.js","webpack:///./modules/backup/index.js","webpack:///./modules/backup/watcher.js","webpack:///./modules/backup/clients.js","webpack:///./modules/backup/files/index.js","webpack:///./modules/backup/cookies/index.js","webpack:///./modules/backup/cookies/thumbs.js","webpack:///./modules/backup/cookies/storage.js","webpack:///./modules/backup/cookies/settings.js","webpack:///./modules/backup/yandex-browser/index.js","webpack:///./modules/debug/state.js","webpack:///./modules/debug/file-structure.js","webpack:///../~/lodash/object/set.js","webpack:///./modules \\.js$","webpack:///./modules/advertisement/atom.js","webpack:///./modules/auth/yauth-cookies.js","webpack:///../~/yandex-elements-core/atom/index.js","webpack:///../~/yandex-elements-core/atom/response.js","webpack:///../~/lodash/collection/findWhere.js","webpack:///./modules/auth/index.js","webpack:///./modules/auth/yauth.js","webpack:///./modules/auth/users-collection.js","webpack:///./modules/auth/user.js","webpack:///./modules/auth/redirector.js","webpack:///./modules/branding/applier.js","webpack:///./modules/pickup/pickup.js","webpack:///./modules/pickup/apply.js","webpack:///./modules/pickup/force-thumbs.js","webpack:///./modules/statistics/clicker.js","webpack:///./modules/branding/remote/loader.js","webpack:///./modules/common/constants.js","webpack:///./modules/cookies/gpauto.js","webpack:///./platform/geolocation.js","webpack:///../~/yandex-elements-core/location/watcher.js","webpack:///../~/yandex-elements-core/location/timer.js","webpack:///../~/yandex-elements-core/location/parser.js","webpack:///../~/yandex-elements-core/cookies/gpauto.js","webpack:///../~/yandex-elements-core/cookies/yp-cookie.js","webpack:///../~/yandex-elements-core/cookies/yp-serializer.js","webpack:///./modules/cookies/utils.js","webpack:///./modules/cookies/yasoft.js","webpack:///./modules/cookies/ys.js","webpack:///./modules/custom-logo/index.js","webpack:///./modules/custom-logo/logo-saver.js","webpack:///./modules/frontend/advertisement.js","webpack:///./modules/frontend/auth-formatter.js","webpack:///./modules/frontend/auth.js","webpack:///./modules/frontend/broken-tabs-reloader.js","webpack:///./modules/frontend/clicker.js","webpack:///./utils/tabs-watcher.js","webpack:///./modules/frontend/closed-tabs.js","webpack:///./modules/frontend/custom-logo.js","webpack:///./modules/frontend/index.js","webpack:///./modules/frontend/logger.js","webpack:///./modules/frontend/thumbs.js","webpack:///./modules/thumbs/save-thumb.js","webpack:///./modules/thumbs/remove-thumb.js","webpack:///./modules/thumbs/move-thumb.js","webpack:///./modules/thumbs/pin-thumb.js","webpack:///./modules/frontend/thumb-suggest.js","webpack:///./modules/thumb-suggest/suggest.js","webpack:///./modules/thumb-suggest/suggest-results.js","webpack:///./modules/frontend/panels.js","webpack:///./modules/frontend/url-suggest.js","webpack:///./modules/url-suggest/search-history.js","webpack:///../~/lodash/array/flatten.js","webpack:///./modules/url-suggest/weights.js","webpack:///./modules/url-suggest/search-bookmarks.js","webpack:///./modules/url-suggest/search-opentabs.js","webpack:///./modules/url-suggest/search-web.js","webpack:///./modules/frontend/navigate-url.js","webpack:///./modules/frontend/scroll-state.js","webpack:///./modules/frontend/search-suggest.js","webpack:///./modules/search-suggest/index.js","webpack:///./modules/frontend/informers.js","webpack:///./modules/frontend/voice.js","webpack:///./modules/voice/index.js","webpack:///./modules/voice/events.js","webpack:///./modules/voice/consumers/serp-navigator.js","webpack:///./modules/voice/consumers/consumer.js","webpack:///./utils/promised-timer.js","webpack:///./modules/voice/consumers/site-navigator.js","webpack:///../~/lodash/array/intersection.js","webpack:///./modules/frontend/pages-events.js","webpack:///./modules/frontend/zen.js","webpack:///./modules/zen/index.js","webpack:///../~/user-agent-parser/src/ua-parser.js","webpack:///./modules/frontend/init-checker.js","webpack:///./modules/guide/actions-watcher.js","webpack:///./modules/guide/index.js","webpack:///./modules/host-permissions/index.js","webpack:///./modules/host-permissions/notification.js","webpack:///./modules/maintenance/index.js","webpack:///./modules/migration/2.26.0.js","webpack:///./modules/migration/2.27.0.js","webpack:///./modules/migration/2.28.0.js","webpack:///./modules/migration/index.js","webpack:///./modules/offscreen/colors-handler.js","webpack:///./modules/offscreen/filer-handler.js","webpack:///./libs/filer.js","webpack:///./modules/offscreen/messaging.js","webpack:///./modules/offscreen/speechkit-handler.js","webpack:///../~/speechkit/src/index.js","webpack:///./modules/offscreen/xml-handler.js","webpack:///./modules/search-examples/alarms.js","webpack:///./modules/search-examples/index.js","webpack:///./modules/search-examples/loader.js","webpack:///./modules/search-examples/state.js","webpack:///../~/lodash/collection/sortByOrder.js","webpack:///../~/lodash/internal/baseSortByOrder.js","webpack:///../~/lodash/internal/baseSortBy.js","webpack:///../~/lodash/internal/compareMultiple.js","webpack:///../~/lodash/internal/baseCompareAscending.js","webpack:///./modules/search-examples/state-storage.js","webpack:///../~/lodash/math/sum.js","webpack:///../~/lodash/internal/arraySum.js","webpack:///../~/lodash/internal/baseSum.js","webpack:///./modules/settings/log-levels.js","webpack:///./modules/settings/platform-bridge.js","webpack:///./platform/settings.js","webpack:///./modules/site-info/index.js","webpack:///./modules/startup/install-date.js","webpack:///./modules/startup/install-upgrade.js","webpack:///./modules/startup/install.js","webpack:///./modules/startup/normal-start.js","webpack:///./modules/startup/offscreen.js","webpack:///./modules/startup/uninstall.js","webpack:///./modules/startup/upgrade.js","webpack:///./modules/statistics/clicker-advertisement.js","webpack:///./modules/statistics/clicker-auth.js","webpack:///./modules/statistics/clicker-branding.js","webpack:///./modules/statistics/clicker-hosts-permissions.js","webpack:///./modules/statistics/clicker-manual-backup.js","webpack:///./modules/statistics/clicker-new-tab.js","webpack:///./modules/statistics/clicker-sync.js","webpack:///./modules/sync/index.js","webpack:///./modules/sync/api.js","webpack:///./modules/sync/state.js","webpack:///../~/lodash/object/omit.js","webpack:///../~/lodash/lang/isEqual.js","webpack:///./modules/sync/guid.js","webpack:///./modules/statistics/clicker-thumbs.js","webpack:///./modules/statistics/clicker-voice.js","webpack:///./modules/statistics/dayuse-exp.js","webpack:///../~/lodash/object/defaultsDeep.js","webpack:///../~/lodash/internal/mergeDefaults.js","webpack:///./modules/statistics/dayuse-simple.js","webpack:///./modules/statistics/index.js","webpack:///./utils \\.js$"],"names":["errorBooster","require","self","addEventListener","e","uncaught","message","reason","run","utils","always","runstate","install","upgrade","normalStart","bootstrap","logger","create","runCallback","startExecuteTime","exports","callback","Date","now","noop","prepare","initCore","processRunstate","detect","moduleToRun","getModuleToRun","preInit","initNormal","finalize","isInstall","isUpgrade","logTimes","runstateText","info","startTime","module","noargs","fn","misc","xhr","formatDate","format","object","versionCompare","xml","url","_","browserInfo","guid","date","curly","v1","v2","options","lexicographical","zeroExtend","v1parts","split","v2parts","isValidPart","x","test","every","NaN","length","push","map","Number","i","replace","c","r","random","v","toString","URI","xhrUtils","isPlainObject","formatMessage","DEFAULT_TIMEOUT","platformXhr","PREDEFINED_PARSERS","xhrRequest","ctx","Request","send","forEach","name","bind","prototype","_createXhr","_setProps","_setHeaders","_addEventListeners","_sendXhr","method","body","open","err","_handleError","timeout","parse","responseType","withCredentials","ex","onload","_handleResponse","ontimeout","onabort","onerror","headers","bypassCache","buildQuery","Object","keys","setRequestHeader","text","evt","msg","_getErrorMessage","logError","error","Error","isErrorStatus","isError","target","status","parsed","response","ignoreParseError","responseText","statusText","override","isInformal","code","isSuccess","isRedirect","isClientError","isServerError","isNetworkError","logModule","replacer","Replacer","args","arguments","slice","item","undefined","JSON","stringify","String","join","XMLHttpRequest","json","responseXML","fromString","blob","toArray","rxEscape","rxUnescape","mapEscape","mapUnescape","funcReplaceEscape","str","funcReplaceUnescape","toLowerCase","escape","unescape","DOMParser","string","parseFromString","xmlDocument","ActiveXObject","async","loadXML","select","Sizzle","selector","parent","window","document","querySelector","selectAll","querySelectorAll","getText","elem","textContent","innerText","firstChild","data","setText","getAttr","attr","getAttribute","getAttrs","node","attributes","reduce","memo","value","events","offscreenManager","fromStringOriginal","getAttrOriginal","getTextOriginal","selectAllOriginal","xmlString","errObj","msgBody","type","backend","XML_GET_ATTR","sendMessage","XML_GET_TEXT","selection","XML_SELECT_ALL","offscreen","COLORS_DOMINANT_COLOR_BY_URL","COLORS_FONT_COLOR_BY_URL","FILER_CD","FILER_CP","FILER_CREATE","FILER_DF","FILER_GET_ENTRY","FILER_INIT","FILER_LS","FILER_MKDIR","FILER_MV","FILER_OPEN","FILER_PATH_TO_FILESYSTEM_URL","FILER_RM","FILER_WRITE","SPEECHKIT_DATA","SPEECHKIT_ERROR","SPEECHKIT_INIT","SPEECHKIT_STOP","XML_FROM_STRING","creationCount","OffscreenManager","maybeCloseOffscreen","messages","Map","uniqueId","Math","substr","has","chrome","tabs","query","then","hasOffscreen","hasDocument","closeDocument","finally","isCreatingOffscreenDocument","onRemoved","removeListener","createDocument","reasons","justifications","justification","values","runtime","lastError","isClosingOffscreenDocument","addListener","port","connect","onDisconnect","entry","reject","clear","onMessage","get","id","resolve","delete","Promise","maybeCreateOffscreen","_connectPort","_closeOffscreen","_createOffscreen","_rejectMessage","opt_errorHandler","_getMessageId","_ensurePortConnected","set","postMessage","catch","getContexts","contextTypes","contexts","clients","matchAll","matchedClients","some","client","includes","fetch","_transformToFetchOptions","request","assign","_getFetchHeaders","isEmpty","isString","isObject","pick","urlUtils","CONTENT_TYPE","APPLICATION_JSON","OPTIONS","POSTPROCESSOR_OPTIONS","interceptors","DEFAULT_OPTIONS","credentials","fetchWrapper","parseOptions","fetchOptions","postprocessorOptions","Fetch","promise","shortcutFactory","postArgsProvider","jsonArgsProvider","post","blobArgsProvider","addInterceptor","interceptor","removeAllInterceptors","init","rejectedByTimeout","setQuery","params","_prepareBody","_executeInterceptors","_processRawResponse","_transformToResponseType","_processError","_setTimeout","shouldBeBodyStringifiedAsJson","timeoutHandler","setTimeout","_logError","clearTimeout","_checkStatus","Response","_parseError","isContentType","toLocaleLowerCase","arrayBuffer","result","contentType","obj","Blob","FormData","argsProvider","func","apply","GenericModule","urlImpl","urnImpl","URL_TYPE","URN_TYPE","createURI","typeChecker","uri","is","urlGeneric","addImplementation","setDefaultType","MethodsTable","_getType","_methodsTable","methodName","add","createGenericMethod","methodsTable","getType","_defaultType","_table","implementation","buildInfo","about","YANDEX_DOMAINS","PROTOCOL_NORMALIZATION_MAP","https","ftps","REMOTE_PROTOCOLS","http","ftp","ALLOWED_FOR_DOWNLOAD_PROTOCOLS","file","TECHNICAL_PARAM","createReadableURI","readableUrl","readable","getNormalUrl","shouldNormalizeProtocol","protocol","shouldNormalizeWWW","www","urlObject","normalize","hostname","normalizeHostname","getReadableUrl","getNormalDomain","getReadableDomain","subdomain","domain","LAST_SLASH_REG_EXP","getNormalPath","path","getIndexPart","getQueryObject","search","addRandomParam","randomValue","isIndexPage","isYandexHost","isYandexIndexPage","isCommonIndexPage","isYandexIndexQuery","YANDEX_INDEX_QUERIES","queryObject","indexOf","isRemote","isAllowedForDownload","isEqualUrls","url1","url2","isEqualStrings","uri1","uri2","isEqualUris","isUrlInList","urlList","Array","isArray","listUrl","url1Lower","url2Lower","equals","isDataUri","isSpecialUrl","addTechnicalParam","createTechnicalParam","yasoft","getVersion","deleteTechnicalParam","removeQuery","siteUrl","baseUrl","relativeUrl","siteURI","relativeURI","baseURI","absoluteTo","DEFAULT_PROTOCOL","urlOrDomain","createURIObject","convertWin1251ToUnicode","decodeURIComponent","WIN1251_UNICODE_CHAR_SHIFT","match","charCode","charString","fromCharCode","parseInt","encodeURIComponent","DATA_URI_REG_EXP","PROTOCOL_SLASHES_REG_EXP","normalUri","copyOwnProperties","from","to","deep","TypeError","prop","hasOwnProperty","extendModule","additionalData","newModule","fieldName","defaults","groupBy","difference","each","max","debounce","attempt","throttle","pluck","merge","cloneDeep","ary","endsWith","repeat","extend","findKey","find","uniq","isNumber","filter","CURLY_RX","insertVars","tmpl","vars","regex","getter","encode","varName","trim","replacement","insertUrlVars","asyncLib","alarms","frontendMessaging","frontendInitSender","cookiesYasoft","auth","uninstall","settings","settingsPlatformBridge","database","pickup","collection","branding","backgrounds","closedTabs","platformConfigure","cookiesYs","gpauto","remoteConfig","advertisement","backup","platformAbout","platformClid","i18n","buildData","logLevels","experiments","normalModules","debug","getters","logHeader","attach","series","load","showZen","fileDownloader","browserAction","defaultLocale","removeIfAnotherInstance","softExport","barNavig","ybImport","stopCaching","sendAll","logAll","setup","setReady","version","getRevision","isDebug","git","buildNumber","sha","release","isRunning","listeners","command","tabId","on","action","req","sender","sendResponse","sendResponseSafe","wrapSendResponse","Function","call","warn","messaging","checkboxes","debugPanel","customLogo","aboutPlatform","frontendInformers","initChecker","zen","isSendingToAll","processedTabIds","frontend","INIT","tab","started","DRAW_FINISHED","loaded","windowId","collectInitData","showBookmarks","sendRootItems","sendZenConfig","getOpen","items","frontends","visbookmarksUrl","checkValues","getValues","background","getCurrent","thumbs","getAll","locale","getBranding","getAuth","debugMode","showSearchForm","hasClosedTabs","hasClosed","getExperiments","vbID","hasApps","sync","regionBrandId","getRegionBrandId","customBrandId","getCustomBrandId","productName","productShortName","thumbSuggestURL","suggestUrl","logo","getLogo","getSearch","suggest","navigateTitle","img","imgClear","imgDark","alt","title","getExperimentsList","experiment","testId","bucket","frontendBookmarks","frontendThumbSender","informers","NAMES","onChanged","onSettingChanged","isSupported","isValidName","applySettingValue","oldValue","getData","newValue","getRootItems","key","sendSettingChanged","SETTING_CHANGE","channel","PREFIX","currentPrefs","RESETEABLE_SETTINGS","Settings_load","addListeners","Settings_get","prefixedKey","getPrefixedKey","isValidPrefixedKey","Settings_set","isDefault","Boolean","storageData","storage","local","log","hasUserValue","Settings_hasUserValue","isLoaded","__items","resetDefaults","changes","defaultValue","getUnprefixedKey","areaName","dispatchOnChanged","dispatch","consoleLevels","showAdvertisement","uiThumbsType","backgroundImage","geolocation","boroda","showInformers","backgroundRotation","appInstallTime","backgroundImagePath","backgroundImagesFontColors","backgroundImagesList","backgroundImagesVersion","backgroundMissingCloudData","backgroundRotationIndex","blacklist","domains","regexps","lastDayUseSendTime","lastDayUseExpSendTime","consoleLogLevels","platformLogLevels","maxAvailableIncreased","refreshThumbsBackgroundsTime","advertisementState","blocks","hasUserAddedThumb","versionsHistory","lastScrollTimeOn","lastScrollTimeOff","bannerid","searchExamples","customLogos","remoteBrandingData","informerReginfo","informerQuotes","remoteSyncTimestamp","localSyncSnapshot","brandingPackage","statUID","r1String","sendUsageStat","isVoiceUsed","bookmarks","favicon","faviconYandex","children","BOOKMARKS_CHANGED","getChildren","BOOKMARKS_BAR_ID","REQUEST_BOOKMARKS_BRANCH","levelId","normalized","normalizeBookmarks","normalizeBookmark","bookmark","getFaviconUrl","isFolder","cached","getCached","getUrl","platformBookmarks","FIREFOX_INTERNAL_URL_REGEXP","ROOT_ID","requestAll","nodes","eventName","child","loader","colors","ResourceLoader","FileStorage","dateUtils","fileStorage","resourceLoader","FAVICON_DIR","succesValidatePeriodMs","DAY_MS","errorValidatePeriodMs","HOUR_MS","getFavicon","loadMethod","getCache","hasCached","hasCache","clearExpired","waterfall","save","calcColor","clearData","next","filePath","remoteUrl","color","loadFavicon","faviconData","saveAnyUrl","calculateDominantColorByUrl","loadImage","faviconSite","MIN_WIDTH","MIN_HEIGHT","eachSeries","checkImage","width","height","src","noCache","onLoad","onError","siteLoader","LINK_RELS","DEFAULT_FAVICON_PATH","indexSiteUrl","rootNode","parseSite","iconHref","getIconHref","favIconLinks","link","href","rel","SaxParser","PARSER_OPTIONS","tagToParse","lowercase","noscript","saxParse","htmlString","parser","sax","Parser","_parser","strict","_inTagToParse","_currentTag","_tagToParse","_children","_result","createResultObject","_addListeners","write","close","_onerror","onopentag","_onopentag","ontext","_ontext","onclosetag","_onclosetag","resume","_parseChild","end","tagNames","tagName","opt","SAXParser","SAXStream","createStream","MAX_BUFFER_LENGTH","buffers","EVENTS","clearBuffers","q","bufferCheckPosition","lowercasetags","looseCase","tags","closed","closedRoot","sawRoot","tag","state","S","BEGIN","strictEntities","ENTITIES","XML_ENTITIES","attribList","xmlns","ns","rootNS","trackPosition","position","line","column","emit","o","F","newf","a","checkBufferLength","maxAllowed","maxActual","l","len","closeText","emitNode","cdata","script","m","flushBuffers","flush","Stream","streamWraps","ev","writable","me","onend","er","_decoder","defineProperty","h","removeAllListeners","enumerable","configurable","constructor","Buffer","isBuffer","SD","StringDecoder","chunk","handler","splice","whitespace","number","letter","quote","attribEnd","CDATA","DOCTYPE","XML_NAMESPACE","XMLNS_NAMESPACE","charClass","nameStart","nameBody","entityStart","entityBody","s","isRegExp","charclass","not","STATE","BEGIN_WHITESPACE","TEXT","TEXT_ENTITY","OPEN_WAKA","SGML_DECL","SGML_DECL_QUOTED","DOCTYPE_QUOTED","DOCTYPE_DTD","DOCTYPE_DTD_QUOTED","COMMENT_STARTING","COMMENT","COMMENT_ENDING","COMMENT_ENDED","CDATA_ENDING","CDATA_ENDING_2","PROC_INST","PROC_INST_BODY","PROC_INST_ENDING","OPEN_TAG","OPEN_TAG_SLASH","ATTRIB","ATTRIB_NAME","ATTRIB_NAME_SAW_WHITE","ATTRIB_VALUE","ATTRIB_VALUE_QUOTED","ATTRIB_VALUE_CLOSED","ATTRIB_VALUE_UNQUOTED","ATTRIB_VALUE_ENTITY_Q","ATTRIB_VALUE_ENTITY_U","CLOSE_TAG","CLOSE_TAG_SAW_WHITE","SCRIPT","SCRIPT_ENDING","event","nodeType","textNode","textopts","strictFail","newTag","qname","attribute","qualName","prefix","attrib","attribName","attribValue","qn","openTag","selfClosing","p","nv","isSelfClosing","closeTag","t","closeTo","pop","n","parseEntity","entity","entityLC","num","numStr","charAt","isNaN","fromCodePoint","beginWhiteSpace","startTagPosition","starti","substring","sgmlDecl","procInstName","procInstBody","pad","toUpperCase","comment","doctype","returnState","buffer","stringFromCharCode","floor","MAX_SIZE","codeUnits","highSurrogate","lowSurrogate","index","codePoint","isFinite","RangeError","LoaderItem","_options","_items","loaderItem","_getItem","_createItem","addCallback","loadAttempt","isExpired","argumentIndex","DEFAULT_SUCCESS_LIFETIME_MS","DEFAULT_ERROR_LIFETIME_MS","_pending","_data","_callbacks","_lastCallTimestamp","_successLifetimeMs","successLifetimeMs","_errorLifetimeMs","errorLifetimeMs","_applyCallbacks","_finish","_hasData","lifeTime","_isSuccessData","FAVICON_SERVICE_URL","FONT_COLOR_THRESHOLD","COLOR_BLACK","COLOR_WHITE","CANVAS_SIZE_THRESHOLD","MAX_THRESHOLD","MIN_THRESHOLD","PASTEL_THRESHOLD","OPACITY_TRESHOLD","WHITE_TRESHOLD","BLACK_TRESHOLD","DEFAULT_BGCOLOR","OVERLAY_COLOR_WHITE","OVERLAY_COLOR_BLACK","toRGB","isAcidColor","red","green","blue","sum","isAlmostTransparent","opacity","isAlmostWhite","rgb","isAlmostBlack","isLightGrey","meanValue","abs","calculateFontColorForImage","getDominant","bottomQuarter","rightHalf","minifyCanvas","preventSkipColors","fontColorNum","getFontColorByBackgroundColor","fontColor","getFontOverlayColorForBackgroundColor","bgColor","getRGBValues","colorString","COLOR_NAMES","normalizeHexValue","HEX_COLOR_RX","val","exec","color3to6","imageUrl","calculateFontColorByUrl","tone","canvas","createElement","getContext","canvasWidth","canvasHeight","round","setAttribute","drawImage","imgPixels","getImageData","maxValueKey","colorsContainer","pixelColorData","startY","startX","y","z","colorStep","getIndexByXY","isBlack","halfX","halfY","listToCheck","Image","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","calculateDominantColorByUrlOriginal","calculateFontColorByUrlOriginal","imgUrl","successCallback","fs","fileUtils","directory","wrapSeparator","_getFileList","_getLocalUrls","_createFilesMap","download","getFilePath","_getFileUrl","getLocalUrl","fileName","remove","copy","srcPath","newName","newFilePath","saveDataURI","dataURI","move","oldPath","newPath","getFileUrl","fileURL","list","parallel","res","extractName","Filer","readAsText","filer","NOT_FOUND_ERR_NAME","persistent","size","isInitialized","objectUrl","URL","createObjectURL","dataUrlToBlob","revokeObjectURL","rm","ls","entries","fullPath","_onListError","fileEntry","fileWriter","srcFile","destDir","destFileName","mv","destFile","createDirectory","dirPath","extractDirectoryName","cp","getEntry","errback","dirName","mkdir","dataUrl","byteString","atob","mimeString","ia","Uint8Array","charCodeAt","getURL","opt_initObj","opt_successCallback","dirEntryOrPath","opt_exclusive","entryOrPath","dest","opt_newName","writeData","FIRST_SLASH_REG","SLASH_BACKSLASH_REG","slashIndex","lastIndexOf","extractExtension","dotIndex","normalizePath","blobUtils","readAsJson","readAsFactory","readAsArrayBuffer","readAsBinaryString","readAsDataURL","as","readAs","reader","FileReader","LOG_FRONTEND_DATA","ADV_REFUSE","ADV_ACCEPT","REQUEST_APPS_LIST","AUTH_LOGIN","AUTH_LOGOUT","AUTH_NAVIGATE","SET_BACKGROUND_IMAGE","UPLOAD_USER_BACKGROUND","DEBUG_COMMAND","DEBUG_SHOW","ADD_THUMB","PIN_THUMB","UNPIN_THUMB","REQUEST_LAST_VISITED","REQUEST_POPULAR_SITES","REQUEST_THUMB_DATA","SAVE_THUMB","REMOVE_THUMB","SWAP_THUMB","APPLY_SETTING","REQUEST_SETTINGS","MAKE_BACKUP","LOAD_BACKUP","RESTORE_TAB","REQUEST_CLOSED_PAGES_LIST","SEND_FRONTEND_STAT","SET_SCROLL_STATE","SEARCH_MAIN","SEARCH_WEB","SEARCH_HISTORY","SEARCH_BOOKMARKS","SEARCH_OPENED_TABS","NAVIGATE_URL","OPEN_EXTERNAL_WINDOW","VOICE_INIT","VOICE_STOP","PAGE_VBNAVIGATE","BACKGROUND_CHANGED","DEBUG_PANEL","AUTH","INFORMERS","CLOSED_TABS_LIST_CHANGED","ACTION","POST","CLOSE_POPUPS","ADVERTISEMENT","ADVERTISEMENT_ATOM","OPEN_SETTINGS","CLOSE_SETTINGS","START_PAGE_CHANGED","HISTORY_THUMB_CHANGED","THUMB_CHANGED","EDIT_THUMB","VOICE_START","VOICE_PROGRESS","VOICE_FINISH","VOICE_ERROR","VOICE_CLOSE","ZEN_CONFIG","colorUtils","positions","getDataByPositions","sendThumbData","thumb","formatThumbForFrontend","getItem","frontendThumb","pinned","faviconUrl","backgroundColor","faviconColor","cloudImage","cloudImageSub","cloudColor","tableauImage","tableauColor","screenshotImage","screenshot","screenshotBgColor","screenshotFontColor","Thumb","assert","MAX_THUMBS_COUNT","MAX_THUMBS_COUNT_INCREASED","onLoaded","onUpdateError","loadFromDB","mute","logData","setItem","unmute","maxLength","_appendItem","insertItem","removeItem","removedThumbs","removeListenersFromThumb","loadMissingData","update","force","hasDomain","normalDomain","hasUrl","appendAction","addListenersToThumb","hasListener","onItemChanged","titleLoader","faviconLoader","tableauLoader","cloudLogo","screenshotsCache","DOMAIN_LEVEL","URL_LEVEL","THUMB_FIELDS_DESCRIPTORS","level","default","THUMB_FIELDS","_resetProps","newUrl","notEmpty","_url","_checkForNewDomain","_pinned","fromJSON","allowedFields","toJSON","_runUpdateTasks","_updateCloud","_updateTableau","_updateTitle","_updateFavicon","_updateScreenshot","results","errors","msgs","_loadCloudData","changed","_batchChange","_isTableauNeedUpdate","_loadTableauData","tableauUpdateTime","WEEK_MS","getManifest","_loadFaviconData","_loadTitleData","getTitle","_loadScreenshotData","cache","oldDomain","newDomain","fieldDescriptor","_resetProperty","srcObj","fieldsMap","destKey","srcKey","srcValue","findMethods","openTabs","normalUrl","windows","populate","windowItem","findTitle","history","parseTitle","colorUtil","MANIFEST_LINK_REL","VALID_KEYS","TABLEAU_DIR","doWarn","fileUrl","manifestUrl","remoteColor","getUrlToManifestJson","metaContent","getMetaContent","responseJson","parseMetaContent","layout","manifestHref","extractManifestHref","linkData","meta","metaData","content","parts","part","api_version","feed","saver","cloudLogoLoader","loadCloudLogo","loadFromServer","loaderRes","saveCloudLogo","cloudData","logoSub","localData","constructResult","logoData","logoSubData","logoPath","logoSubPath","CLOUD_LOGO_DIR","CLOUD_LOGO_SUB_DIR","main","_main","sub","_sub","remoteUrlSub","tasks","URL_TPL","brandId","regionId","lang","parseResponse","resources","hasRequiredFields","logo_main","bgcolor","logo_sub","platformBranding","remoteBrandingStorage","REGION_BRANDINGS","YANDEX","UA","TB","reset","getAvailableBrandIds","onUpdated","onRemoteBrandingLoaded","getBlock","getMerged","expandUrl","regionTld","localeTld","urlVarGetter","onRemoteLoaded","initBaseBlocks","makeGetters","getNames","makeGetter","blockName","getByName","brandingSuggestor","SETTING_BRANDING_MIGRATION_NAME","REGION_BRANDING_SETTING_NAME","BRANDINGS_DIR","vbBrandings","isFirefox","regionalBranding","getRegionBranding","setRegionBranding","clid8","getByNumber","ensureBrowserDistribution","initRegionBranding","migrateToNewBrandingNames","availableRegionalBrandIds","fallbackBrandId","ensureBrandedBuildInfo","tabUtils","onTabsReady","suggestBrandIdByBrowserDistribution","suggestor","suggestBrandIdByCookies","suggestBrandIdByLocale","tabsStatusCheckerInterval","setInterval","clearInterval","suggestBrandIdByBrowserHomepage","suggestBrandIdByBrowserBookmarks","browser","browserSettings","homepageOverride","getSubTree","yandexRuFlagsCount","yandexUaFlagsCount","tree","toolbarBookmarks","treeNode","cookiesData","cookieDesc","brandIdWithMaxCookies","count","all","cookies","browserLocale","platformLocale","AVAILABLE_LOCALES","be","tld","en","ru","tr","uk","FALLBACK_LOCALE","getMessage","thenChrome","getFrontendTabs","windowsMap","getTabsFromWindows","tabList","windowElem","concat","ClidStorage","clidStorage","CLID_STORAGE_KEY_CHROME_PREFIX","CLID_STORAGE_KEY_PREFIX","importChromeStorageClids","localStorage","getClidNumberByName","getClidFromStorage","getClidFromBuild","getPortalClidByNumber","clidFromStorage","clids","getClids","getClidNameByNumber","keyName","clid","isChrome","filterClidValue","traverse","platformBuildInfo","I18N_REGEXP","ASSETS_PLACEHOLDER","MERGE_INFO_KEY","regionBlock","extractBlock","getRegionData","customBlock","getCustomData","remoteBlock","block","mergeBlocks","replacePlaceholders","hasAssets","resolveAssets","newItem","replaceI18n","i18nData","localeData","brandingData","assetsPath","itemPath","itemUrl","mergeInfo","fromValue","mergeType","combineArrays","leftValue","rightValue","REMOTE_BRANDING_SETTING_NAME","setData","config","screenshotFileds","updateFromThumbs","getFirstMatch","urls","cachedData","instance","Class","Differ","TABLE_NAME","DUMP_DELAY_MS","differ","records","sort","constructThumbs","diff","upsertPositions","added","removed","getDeleteTask","getUpsertTask","b","record","upsert","sklad","structure","db","DbError","ensureDb","api","conn","deleteDatabase","clearAndInsert","table","prepareData","migration","createObjectStore","keyPath","deepEqual","currentItem","ticker","reginfo","quotes","ON_UPDATED_DELAY_MS","ENABLED_SETTING_NAME","createInformers","listenUpdates","isEnabled","reginfoData","quotesData","weather","traffic","currency","usd","eur","onEnabledChanged","dispatchDebounced","ALARM","periodInMinutes","register","onTick","Informer","setting","extractData","responseXml","extractWeather","extractTraffic","temperature","icon","hasEmptyProps","updateData","_loadData","_extractData","_saveData","xmlDoc","_id","change","getCurrencyCode","parseFloat","messsage","listener","sorter","restorator","closedItem","start","onTabClosed","handleTabClosedEvent","onWindowClosed","handleWindowClosedEvent","onHistoryCleared","handleHistoryClearedEvent","restoreItem","itemId","restoredIndex","restoreTabOrWindow","closedItems","getWindows","getTabs","getClosedTabs","sortItems","isWindowId","restoreWindow","handleWindowRestoredEvent","restoreTab","closedTab","windowTabs","removeClosedWithWindowTabs","getUrlsFromTabs","closedWindow","createClosedWindow","unshift","restoredWindowId","replaceWindowIds","tabsWatcherEvents","closedTabsFilter","vbUrls","addHistoryRemovedListener","onWindowCreated","removeInfo","tabData","isWatchingUrl","createClosedTab","pattern","onVisitRemoved","handleHistoryRemovedEvent","removedInfo","allHistory","Channel","TabsWatcher","watcher","public","eventProxyFactory","signal","CLOSED_WINDOWS_PREFIX","isWindow","closedTime","closedWithWindow","isWindowClosing","favUrl","favIconUrl","reverse","getReadableParts","take","MAX_CLOSED_WINDOWS_COUNT","MAX_CLOSED_TOTAL_COUNT","compareByClosedTime","isAcceptableAsWindow","existingUrls","isAcceptableAsTab","createWindow","createTab","restoredTabId","restoredWinId","createData","focused","CLOSED_TABS_LIMIT","updateState","existingTabIndex","findSameTabIndex","restTabs","isTabClosedWithWindow","oldId","newId","existingTab","isSameTabs","tab1","tab2","CLOSED_TABS_PREF","STORE_DELAY_TIME","storeCacheDelayed","Experimentator","Experiment","actualConfigs","EXPERIMENTS_PREF","removeOutdatedExperiments","logExistingExperiments","getExperimentData","experimentName","configs","existing","createExperiments","store","filtered","getActualExistingExperiments","getGoodbyePageUrl","setUninstallUrl","setBrowserAction","setUninstallURL","onClicked","active","MAX_DOWNLOAD_TIMEOUT_MS","onDownloadError","onDownloadSuccess","onDownloadEmpty","onDownloadSuccessInternal","platform","DayusePoller","bannerId","INSTALL_SETTING","STAT_URL","LAST_SENDING_TIME_SETTING","MAX_GOODBYE_URL_LENGTH","poller","onTrigger","lastSendTime","getLastSendTime","stat","getParams","setSearch","updateLastSendTime","installTime","output","ui","ver","bv","os","gchid","extensionId","brandID","fd","tl","bannerIdValue","getBannerId","bnrd","goodbyeUrl","paramsToTrim","removeSearch","miscUtils","GUID_SETTING","getBarnavigParams","contentScriptAction","export","ybimport","dayuseHelper","delayInMinutes","onPoll","settingName","_settingName","_tryTrigger","getEndOfDayTime","SECONDS_IN_DAY","END_OF_STAT_DAY_HOUR","timestampSec","dateNumber","getHours","getDate","treeAMDate","getFullYear","getMonth","getTime","getDayuseCount","endOfInstallDayTime","BannerID","YsCookie","BANNER_ID_PREF","processCookie","createBannerId","saveBannerId","domainsQueue","tabsWatcher","barNavigThumbs","R1_SETTING","onCompleted","onTabLoaded","collectData","trySendWithBackup","trySend","statistics","barnavigPrimaryUrl","barnavigBackupUrl","logSendWithBackupErrors","updateR1","getBaseParams","navInNewWindow","navInExistingTab","vtbNum","getPosition","platformParams","referer","yamm","show","urlinfo","r1","navigations","CLEAR_DATA_DELAY_MS","thumbClicks","onThumbNavigated","thumbClick","thumbPosition","TARGET","TAB","NEW_TAB","NEW_ACTIVE_TAB","NEW_WINDOW","go","isThumb","onNavigated","dispatchData","versions","getMigrationData","migration223","STATES","INSTALL","UPGRADE","NORMAL","migrationData","isReady","previousVersion","getPrevious","initNoPrevVersion","initHasPrevVersion","isNormal","getMigrationDataCommonBackend","isChr","isFx","checkMigrationData223","currentVersion","isUpgradeToCommonBackend","COMMON_BACKЕND_VERSION","aMigrationData","migrateVersionsHistory","VERSIONS_SETTING_NAME","getHistory","getMainVersion","addToHistory","setHistory","matches","md5","thumbsShown","loadTable","users","userBackgroundPath","tryGetUserBackgroundPath","formatUsers","mergeThumbs","fillScreenshots","tableName","thumbShown","foundInThumbs","visits","dir","normalizeUrlOld","filepath","screenshotUrl","screenshotFsPath","pathname","oldUsers","user","displayName","lastAuthTime","login","uid","hasAuth","pathBefore223","hex_md5","hexcase","b64pad","rstr2hex","rstr_md5","str2rstr_utf8","b64_md5","rstr2b64","any_md5","rstr2any","hex_hmac_md5","k","d","rstr_hmac_md5","b64_hmac_md5","any_hmac_md5","md5_vm_test","binl2rstr","binl_md5","rstr2binl","bkey","ipad","opad","hash","input","hex_tab","triplet","j","encoding","divisor","quotient","dividend","ceil","full_length","remainders","str2rstr_utf16le","str2rstr_utf16be","olda","oldb","oldc","oldd","md5_ff","md5_gg","md5_hh","md5_ii","safe_add","md5_cmn","bit_rol","lsw","msw","cnt","VERSION","localBlacklist","screenshots","userBackground","brandingBackgrounds","backgroundsStorage","backgroundsFontColors","COMMON_BACKEND_PREV_VERSION","migrateSettings","migrateAdvertisement","migrateThumbs","migrateBlacklist","migrateUsers","migrateUserBackground","setBackgroundImagePath","migrateSetting","backgroundId","brandedBackgrounds","getBackgrounds","image","writeBackgroundImagePath","calcBackgroundImageFontColor","backgroundUrl","upsertOne","dbItems","dbItem","limitThumbsCount","calcScreenshotData","cleanUnusedThumbs","maxCount","currentCount","positionsToDelete","calcColors","calcScreenshotColorsByUrl","colorData","screenshotUpdateTime","dbUsers","dbUser","lastShownBlockId","excludeBlocks","blockId","lastShown","refuseCount","shownCount","getUserFilePath","moveFileSafe","deleteOne","adjustScreenshot","SCREENSHOT_FORMAT","COLLECTION_ON_CHANGED_DELAY_MS","SCREENSHOT_DIR","handleWatcherUpdate","updateWatchListByCollection","clearCache","addThumbsToWatchList","clearWatchList","addToWatchList","matchedUrls","thumbsForUpdate","getThumbsForUpdate","cachedScreenshotData","isThumbScreenshotOld","updateThumbs","ifTabAllowedForCapturing","startCaptureTabFlow","incognito","captureVisibleTab","dataURL","screenshotName","createScreenshotName","existingName","getExistingScreenshotName","getScreenshotNamePrefix","screenshotData","urlsToWatchMap","tabsTimeouts","DELAY_MS","createTabUpdateTask","onCollectionUpdated","normalizeUrl","reload","isComplete","navigation","getNavigationStack","matchSingleUrl","inserted","excluded","updated","releaseTabUpdateTask","timeoutId","sendEvent","getMatchedUrls","testUrl","testUrls","WIDTH","HEIGHT","SCROLL_WIDTH","imgElement","adjustImage","ctx1","create2DContext","ctx2","srcWidth","destHeight","toDataURL","fontColors","TEMP_USER_IMAGE_ID","USER_IMAGE_ID","storeUserImage","getFromMap","localFilesMap","localUrl","constructBackgroundObject","getFromStorage","fileData","storeMethod","clearCached","startsWith","preview","isUser","COLOR_CACHE_SETTINGS","DEFAULT_COLOR","setAll","cacheStorage","setCached","cachedColor","calculateColor","brandedBg","getBackground","getDefaultBackground","selected","bgList","branded","ExperimentConfig","getActualConfigs","tryForceTestId","isValidHost","testid","trySetConfigWithTestId","isDisabled","isDisabledForPlatform","isDisabledForBranding","platforms","platformId","brandings","suitableConfigs","types","percent","newTypes","commandsMap","toggleDebugMode","reinstall","param","trigger","deleteAll","removeTabs","runCommand","getItems","baseCommand","shift","extensionsTabFound","files","tabOpener","backgroundSelector","help","addCommand","console","removeAll","resetSettings","location","openInTab","openAsFile","getThumbs","getSettings","getPickupcache","getBlacklistUser","getBlacklistServer","getBg","getState","regionalData","openChromeFS","openFirefoxFS","getFileList","possible","cmd","desc","objGetters","cmdName","selectDefaultBackground","platformFs","FILE_DIRS","favicons","tableau","root","readDir","dirs","removeFiles","namesOrUrls","nameOrUrl","platformLog","SYSTEM_DEBUG_URL","changeInfo","getAsText","DEBUG_FILENAME","DEBUG_FILENAME_OLD","DEBUG_MAX_SIZE","MAX_NESSAGES_QUEUE_LENGTH","messagesQueue","messagesQueueWriting","debugOld","truncateQueue","append","onWrite","queue","html","decorate","NOW","getAllBlocks","getId","getTextStatus","getBlockById","blocksStr","startShowing","_state","lastRefuse","isShowing","_config","duration","isSilent","silent","isInterval","interval","_isAfterInstallReached","afterInstall","dateFields","RemoteConfigListener","Group","Block","SHOWING_CHANGED_DELAY_MS","groupsConfig","startsearch","priority","factory","statoffer","tutorials","groups","checkGroups","initGroups","group","getBlocks","check","getGroups","getShowingBlocks","getShowingBlocksForGroup","groupId","getShowingBlock","refuseByUser","refuse","REFUSE_REASON","USERCLOSE","accept","ACCEPT","onShowingChanged","blockInfo","addBlock","TICK_DELAY_MS","Listener","_blocks","_processConfigAds","enabled","updateEnabled","CONFIG_URL","SETTING_NAME","logCheckErrors","processNewConfig","newConfig","isValidConfig","currentConfig","hasChanges","onShowingChangedDispatcher","onStartShowing","onRefuse","_getEnabledBlocks","silentBlocks","_getSilentBlocks","showingBlock","_getShowingBlock","startShowingBlock","_getStartShowingBlock","showingBlocks","sorterByPriority","canStartShowing","blockA","blockB","SETTING_STATE_NAME","SETTING_INSTALL_NAME","stateFields","needShowing","configFields","assertId","assertConfig","_checker","_acceptor","_loadState","DURATION","EXTERNAL","checkDuration","checkNeedShowing","_saveState","_isShowingDurationReached","timeIntervalsOk","_isShownCountOk","_isRefuseCountOk","updateNeedShowing","getNeedShowing","setChecker","checker","setAcceptor","acceptor","minutesToMs","daysToMs","maxShownCount","maxRefuseCount","field","startpages","ID","CONFIG","YANDEX_STARTPAGE_REG","startpage","hasYandex","containsYandexOrVb","containsYandex","containsVb","VB_URLS","platformBrowser","VB_URL","visbookmarksFakeTabUrl","getStartpages","exisitingStartpages","newStartpages","setStartpages","hasVb","setVb","yandexSearchIDs","yandexStartpageIDs","yandexStartpageConfigs","startpageReg","landing","extensionIds","yandexSearchConfigs","searchUrlReg","getEnabledExtensions","matchedConfig","getSearchProviders","providersInfo","defaultId","providers","addDefaultSearchProvider","provider","removeSearchProvider","openBookmarksWindow","openHistoryWindow","openDownloadsWindow","YANDEX_SEARCH_REG","quicksearch","getDefaultSearchProvider","defaultSearchProvider","isYandex","isYandexProvider","allSearchProviders","removeYandexProviders","setDefaultYandexProvider","findDefaultSearchProvider","qs","searchUrl","shortName","showSearchSuggestions","suggestionsUrl","iconUrl","rotation","setSelected","rotate","cloudBackgrounds","INDEX_SETTING_NAME","onAlarm","ids","getCloudIds","selectBackground","isSelected","getCurrentBackgroundId","bgSettings","OVERLAY_NEEDS_BLACK_INDICATOR","getBackgroundsList","backgroundData","constructCloudBackgroundData","downloadDate","isModificatorsColorBlack","modificators","BACKGROUND_VERSION_SETTING","BACKGROUND_LIST_SETTING","BACKGROUND_IMAGE_SETTING","BACKGROUND_IMAGE_PATH_SETTING","BACKGROUND_FONT_COLORS_SETTIGS","BACKGROUND_MISSING_DATA_SETTIGS","getBackgroundsVersion","setBackgroundsVersion","setBackgroundsList","getBackgroundImage","setBackgroundImage","getFontColors","setFontColors","setMissingCloudBackground","getMissingCloudBackground","getBackgroundImagePath","selectQueue","onSelectSuccess","backgroundObject","selectBrandedOrCloud","selectFromFS","saveFontColor","hasAdded","maxCountReached","backgroundsCloudLoader","backgroundsSelector","frontendSettings","MIN_NEWBG_COUNT","MAX_NEWBG_COUNT","ALARM_NAME","ALARM_DELAY_MINUTES","onBackgroundsUpdated","onRequested","onSettingsRequested","overwriteRefuse","listenAlarm","newBackgrounds","backgroundsToShow","tryNew","old","parentRefuse","onUserClose","onAccept","clearAlarm","hasAlarm","exists","done","cancel","setAlarm","SYNC_JSON_URL","LOAD_TIMEOUT","loadBackgounds","isValid","syncBackgrounds","skins","getVersions","new","keepCurrent","currentBackgrounds","getNew","cloudBg","curBg","currentBackgroundId","missingCloud","inCloud","inCurrentCloud","frontendBackgrounds","slider","thumbsCollection","requestSettings","applySetting","make","setCount","bgImages","isStartPage","thumbsCount","getSelectedBgImage","getTemplateValues","selectedBgImage","licenseURL","licenseUrl","softURL","softUrl","productURL","productUrl","vendorURL","vendorUrl","rev","build","buildDate","getTimestamp","bgSelector","bgRotation","uploadUserBackground","backgroundChanged","requestCurrent","cloudLoader","backgroundPath","createDataObject","getLocalFiles","searchForUserBackground","addBrandingBackgrounds","addCloudBackgrounds","addMissingCloudBackground","addMissingLocalBackgrounds","createFinalList","backgroundsMap","constructMissingCloudBackground","isBackgroundMissing","constructBackgroundFromLocalData","missingId","isConstructed","isInLocalData","updateUrlsFromLocalData","localMap","currentMap","sortFinalList","candidates","backupRestore","removedThumbsCache","pickupCache","onRestored","newCount","populatePickupCache","increase","decrease","isSecondRun","createChecker","blacklistChecker","indexToAdd","thumbsFromRemovedCacheLogData","thumbsFromPickupCacheLogData","blacklistedTumbsLogData","currentThumbsLogData","createThumbFromPickupCache","contains","logIncreaseResults","isSecondRunNeeded","thumbsFromPickupCache","thumbsFromRemovedCache","blacklistedTumbs","cacheItem","shiftFromPickupCache","fast","useTopSites","brandedSites","getTopHistory","topSites","candidatesStorage","safebrowsing","TOP_HISTORY_PARAMS","minVisits","maxResults","days","INTERNAL_PROTOCOLS","INTERNAL_URLS","getAllCandidates","filterCandidates","filteredItems","setVisits","unpinned","historyItems","topSiteItems","applyFilters","setDomain","filterEmptyURI","filterInternalURI","removeSameDomains","removePinnedDomains","removeBlacklistDomains","removeUnsafeDomains","filterFns","domainGroups","mainItemForDomain","topSite","inBlacklist","pinnedDomains","checkDomains","unsafeDomains","isUnsafe","boost","isValidItem","historyItem","visitCount","wrap","lastVisitTime","isChromeDebug","win","symbol","exception","msgError","stack","alert","COUNT","BOOST_DELTA","formatItem","firstNonTopSite","maxVisits","topSiteVisits","remote","BlacklistChecker","brandedData","remoteData","localDomains","regexp","RegExp","SERVER_URL","updateFromServer","hasListNode","documentElement","nodeName","parseXML","checkByDomains","checkByRegexps","domainList","regexpList","TABLE","topIndexA","Infinity","topIndexB","posA","posB","indexA","indexB","SBA_API_URL","FAST_TIMEOUT_MS","postData","restore","restoreSettings","isOk","restoreThumbs","settingsData","thumbsData","restored","getCurrentData","onMade","SETTING_NAMES","makeThumbObject","IS_VOICE_USED","listenSearchFormVisibility","isRuLocale","STATUS","READY","CONNECTING","RECORD","PROCESSING","FINISHED","INTERRUPTED","ERROR","API_KEY","ERROR_REASON","SILENCE","ANIMATION_TIMEOUT_MS","UTTERANCE_SILENCE","SILENCE_TIMEOUT_MS","tryRestoreFromCookies","tryRestore","STORE_DELAY_MS","resetChangesInfo","changesInfo","thumbsChanged","forced","previousState","yabrowser","DIR_NAME","MAX_FILES_NUMBER","FILE_PATH_RE","stateName","getNewsetState","readState","dataFromStorage","states","dateMatch","NOT_FOUND_ERR","makeFilePath","cleanupOldFiles","fileContent","filesToRemove","backupThumbs","backupSettings","backupStorage","read","convertDataFromStorage","convertDataForStorage","dataForStorage","YsSerializer","COOKIE_NAME_PREFIX","serializer","partsDelimiter","keyValueDelimiter","restoreThumbsData","getCookieName","getCookieValue","cookieName","getPositionByCookieName","cookieValue","parseCookieValue","convertPartsToThumbJson","pin","addPart","tryAddTitle","MAX_COOKIE_SIZE","deletePart","SCHEMA","DOMAIN_TPL","STARTING_DOMAIN_INDEX","MAX_TOTAL_COOKIE_SIZE_PER_DOMAIN","EXPIRE_PERIOD","readRawCookies","rawCookies2Obj","removeCookie","savedBytesForDomain","domainIndex","expirationDate","removeInvalidCookies","promises","writeCookie","rawCookies","getDomain","newItems","cookie","SETTINGS_COOKIE_NAME","DISPLAY_MODE_SETTING_NAME","DISPLAY_MODE_MAP","titles","logos","displayMode","CURRENT_BG_SETTING","exportedData","visibleCount","getExportedThumb","bg","blacklistLocal","excludeSettings","defaultStr","setNested","modules","getAllStuff","getPlatform","context","filteredName","build_info","file_storage","authCookies","Atom","ATOM_URL","AD_TYPES","atom","getContent","formatResponse","getYandexUID","yandexuid","getCommonParams","getYandexuidCookie","navigator","userAgent","atomResponse","getConfigSource","SESSION_COOKIE_NAME","YANDEX_UID_COOKIE_NAME","YANDEX_LOGIN_COOKIE_NAME","COOKIE_PATH","session","yandexUid","yandexLogin","yandexUidValue","yandexLoginValue","cookieDomain","listenCookiesExistance","isSessionExists","cookiesResolves","readCookieState","isCookieExists","isSessionCookie","isCookieMatches","expectedInfo","cookiesDesc","listenDomains","foundCookies","yauth","UsersList","Redirector","redirector","RESULT_STATUS","OK","OTHER","NO_ACTION","COOKIE_CHANGE_DELAY","pageTypeUrls","_usersList","onAction","onUsersChanged","onUsersSave","onPostRequestNeeded","tune","passport","createRedirector","enable","usersListJson","userJson","createUsersList","listenCookieChange","getUsersList","usersList","getUserByUid","getMainUrlForUser","goto","setDefaultUser","logoutDefaultUser","defaultUser","logoutUser","navigate","onCookieChange","loadAccounts","updateUsersByAccounts","accounts","default_uid","once","defaultUid","usedUids","account","appendAccount","getUsersExcept","logout","getFinalUrl","okUrl","getSwitchUserData","isSocial","mail","redirectorInstance","redirect","onCookieChangeDebounced","getLogoutData","yauthCookies","CHANGE_DEFAULT","LOGOUT","_sendPostRequest","URL_FACTORY","getRequestData","authLoadAccounts","createUrl","passportApi","mode","retpath","passApi","yu","base","resource","User","ul","appendUser","logoutAll","uids","uidMap","onLogin","onLogout","authorize","AVATAR_URL","_hasAuth","_lastAuthTime","_uid","_name","_login","avatarUrl","wasAuth","ONCE_HANDLER_LIFETIME","SECOND_MS","handlers","_onCompleted","_act","webNavigation","disable","_off","off","_onceHandler","isIE","handlerObject","handlerIndex","initSender","forceThumbs","clicker","getRunOptions","dryRun","setForceThumbs","applyCandidates","FORCE_UPDATE_THUMBS_MS","DEFAULT_PICKUP_COUNT","TOPSITES_PICKUP_COUNT","getUnpinnedPositions","printItems","usedPositions","putOnSamePositions","putNewThumbs","asyncLoadMissingData","existingThumb","isForceUpdate","lastForceUpdate","isTimePassed","absDiff","isClear","brandedSittes","getBrandedPinned","onlyFirst","addForceThumb","URL_TMPL","PID","PATH_DELIMITER","XHR_OPTIONS","isStatisticsAllowed","forceSend","getPlatformVersion","rawVersion","createStatParams","pid","cid","transport","ATTEMPTS_MS","tryLoad","processError","processSuccess","onLoadError","retry","delay","nextAttempt","REJECT_TIMESTAMP","BLACKLISTED_SOURCE_COMPLETION_TIMEOUT","OFFSCREEN_IDLE_TIMEOUT","geoApi","LocationWatcher","LocationTimer","LocationParser","Gpauto","YpCookie","logUpdateResult","GPAUTO_PREF","UPDATE_TEMOUT","MINUTE_MS","DOMAINS","locationTimer","initLocationTimer","handleSettingsChange","timer","handleTimerError","onChange","handleLocationChange","updateTimerState","isMonitoringAllowed","stop","updateGpauto","locationParser","updatedDomains","notUpdatedDomains","updatePosition","updatedDomainsCount","notUpdatedDomainsCount","ys","COOKIE_NAME","DISPATCH_ONCHANGED_DELAY_MS","INGONE_ONCHANGED_DELAY_MS","addOnChangedListener","removeOnChangedListener","batchUpsert","addOnChangedListenerDelayed","upsertPart","isYSDomain","dispatchOnChangedDelayed","logoSaver","EXPERIMENT_NAME","EXPORT_URL","SETTINGS_KEY","isExperimentEnabled","requestInfo","logoInfo","selectActualLogo","handleExportResponse","saveInfo","logosInfo","logoSavers","checkDates","saveToSettings","localUrls","localPath","checkDomain","till","fromDate","setHours","tillDate","experimentData","LOGO_URL","CUSTOM_LOGO_DIR","urlPart","SETTING_ADVERTISEMENT_NAME","sendAdvertisement","sendAtomAd","getAtom","isAtomAllowed","usersSorter","convertUserToFrontend","userA","userB","getUserStatus","avatarURL","formatter","userId","sendAuth","sendPostRequest","getYandexUid","getYandexLogin","iframe","visbookmarksOldUrl","VISBOOKMARKS_URL_RE","reloadTabsIfNeeded","reloadTabIfNeeded","isBrokenTab","discarded","waitForComplete","tabsModule","JS_REDIRECTS_WAIT_MS","JS_REDIRECTS_WAIT_INACTIVE_MS","waitForCompleteHandlers","COMPLETE_STATUS","LOADING_STATUS","initialized","aboutModule","collectExistingTabsData","removeListeners","getTabInfo","tabInfo","onComplete","onClosed","onActivated","onUpdate","onBeforeNavigate","initEmptyTabObject","possibleReferrers","uuid","navigationId","generateNavigationId","fillTabMapFromExistingTabs","mytab","isBadReferrer","referrer","onBeforeNavigation","details","frameId","handleLoadingState","updateInfo","handleCompletedState","calcRealRefForNewTab","calcRealRefForExistingTab","opener","openerTabId","stackRef","possibleRef","realRef","isNewWindow","afterRedirectTimeout","triggerWaitForCompleteHandlers","activeInfo","onReplaced","addedTabId","removedTabId","performActionForChannels","actionName","tabsUtils","TABS_UPDATE_DEBOUNCE_TIME","handleClosedTabsRequest","handleRestoreTabRequest","handleTabsUpdatedEvent","sendUpdate","tabsGroups","sendUpdateForTabs","empty","current","saveThumb","removeThumb","moveThumb","pinner","thumbSender","THUMB_CHANGED_DELAY_MS","sendAllDelayed","requestThumbData","unpin","oldIndex","newIndex","localBlackList","constructUrl","urlString","processNewThumb","createThumb","isUriAcceptable","blackList","doPinAction","pinFlag","logWarning","thumbSuggest","getLastVisited","offset","formatThumbs","getPopular","onThumbUpdated","onSuggestThumbUpdated","createSuggestResults","topHistory","pickupStorage","BOOKMARK_BOOST","visibleThumbDomains","getVisibleThumbDomains","getOpenTabs","_error","prepareSuggestThumbs","getBookmarks","pickupCandidates","getPickupCandidates","createPopularThumbList","updateThumb","sortHistoryList","addBookmarksToThumbList","bookmarksToAdd","bookmarkThumbData","createThumbDataFromBookmark","thumbData","MAX_RESULT_COUNT","PAGE_SIZE","filterThumbList","paginateList","thumbList","domainsToExclude","thumbDomain","isThumbSuitable","windowName","XB_URL_REG_EXP","sources","createOnMessageHandler","msgName","word","source","convertItems","isBadUrl","flatten","weights","isRelease","NATIVE_SEARCH_MAX_COUNT","CUSTOM_SEARCH_MAX_COUNT","OUTPUT_COUNT","historySearch","filterByWeights","printInDebug","nativeHistorySearch","customHistorySearch","filterUnmatched","histroryItems","convertToItemWithWeight","calc","typedCount","getFoundMap","substrArr","multiplyWeight","koef","weight","hasUrlSymbols","multiplyUrlQuery","foundInUrl","foundInTitle","multiplyMultiWords","notQuery","countInUrl","countInTitle","multiplySingleWord","tokens","token","pos","doFilter","words","searches","convertTo","resItem","sourceTitle","hostnames","host","INITIAL_WEIGHT","convertToItem","searchTerms","arr","webItem","toFixed","searchSuggest","searchRequest","SEARCH_MAIN_TIMEOUT_MS","queryString","suggestURL","Voice","voiceEvents","voice","createForWebNavigation","onProgress","onStart","onRecordFinished","onClose","offscreenEvents","SerpNavigator","SiteNavigator","Consumer","consumers","previousText","_tabActivationHandlerBinded","_tabActivationHandler","_updateNavigationHandlerBinded","_updateNavigationHandler","_handleOffscreenMessageBinded","_handleOffscreenMessage","_dataHandler","_throwError","_initHandler","idle","resetTimeout","consumer","_initSpeechkit","addOffscreenListener","onFocusChanged","onCommitted","isRecording","silenceTimeout","_stopSpeechkit","isFinished","stopRecording","removeOffscreenListener","_interrupt","sendOnClose","inProcess","isTextChanged","shouldNotify","_recognize","interceptedBy","_callPostRecognizeEvents","interceptBy","_callConsumer","currentConsumer","isIntercepted","onRecognized","onNotRecognized","addConsumer","PromisedTimer","checkResult","_goToSerp","_onStop","vbFetch","intersection","URL_TO_HANDLER","CHECKING","_processResult","NAVIGATING","serpNavigator","_goToSite","STOPPED","BAD_TAGS","SEARCH_TAG","navigateToVb","getConfig","LOADER_URL","RELOAD_TIMEOUT","DESTROY_TIMEOUT","RELOAD_ALARM_NAME","COOKIE_CHANGE_DEBOUNCE_TIME","ua","loaderScriptTag","cookieWatcher","reloadZen","isTeethEnabled","teethType","theme","notifiersPosition","staticHost","libType","uatraits","isMobile","isBrowser","BrowserEngine","engine","BrowserEngineVersion","BrowserBase","BrowserBaseVersion","BrowserName","BrowserVersion","OSFamily","OSVersion","useLegacy","exps","isVideoDisabled","initialDisplayedRowsNumber","getUserId","storeId","userInfo","destroyZenLib","addloaderScriptTag","createLib","deleteLoaderScriptTag","deleteLibResources","removeAttribute","YandexZen","removeChild","parentNode","onLoadCallback","appendChild","scheduleReload","FRONTEND_LOADING_TIMEOUT_MS","getAndClearExistingItem","performance","timeoutElapsed","loadingTime","URLS","domainRegExp","ACTION_PARAM","navigationChannel","handleNavigationEvent","isGuideUrl","processNavigation","urlData","actionWatcher","ACTION_METHODS","yes","openNewVisualBookmarksTab","handleActionEvent","REQUIRED_HOST_PERMISSIONS","onRestrictedByUser","permissions","handlePermissionsRemoved","isRestricted","origins","origin","hostPermissions","NOTICATION_OPTIONS","notifications","getNotificationOptions","DIRS","allFiles","clearCaches","deleteUnusedFiles","folder","filesInUse","getFilesInUse","deleteTasks","createDeleteTasks","normalizedPath","deleteFile","getThumbsFilesInUse","getCustomLogoFilesInUse","tillTimestamp","cloudImageFsPath","cloudImageSubFsPath","tableauFsPath","faviconFsPath","settingsToRemove","handleRemoveEvent","updateBackgroundImagePath","isBrandingPath","updateBgFontColors","fontColorsMap","cloud","bgId","migrations","actualMigrations","ColorsHandler","_sender","_calculateDominantColorByUrl","_calculateFontColorByUrl","FilerHandler","_getErrorHandler","fileToObjectURL","pathToFilesystemURL","cd","_isDataUri","dataURLToBlob","df","byteUsed","byteLeft","byteCap","toURL","isFilerInitializing","_cd","_cp","_create","_df","_getEntry","_init","_ls","_mkdir","_mv","_open","_pathToFilesystemURL","_rm","_write","requestFileSystem","webkitRequestFileSystem","resolveLocalFileSystemURL","webkitResolveLocalFileSystemURL","temporaryStorage","webkitTemporaryStorage","persistentStorage","webkitPersistentStorage","BlobBuilder","MozBlobBuilder","WebKitBlobBuilder","FileError","Util","strToDataURL","opt_isBinary","isBinary","btoa","strToObjectURL","binStr","opt_contentType","ui8a","fileToArrayBuffer","opt_errorCallback","BASE64_MARKER","raw","rawLength","uInt8Array","arrayBufferToBlob","arrayBufferToBinaryString","arrayToBinaryString","bytes","bstr","getFileExtension","filename","idx","MyFileError","BROWSER_NOT_SUPPORTED","__defineGetter__","FS_INIT_ERROR_MSG","NOT_IMPLEMENTED_MSG","NOT_A_DIRECTORY","INCORRECT_ARGS","FS_URL_SCHEME","DEFAULT_FS_SIZE","fs_","cwd_","isOpen_","isFsURL_","pathToFsURL_","getEntry_","srcStr","destStr","srcEntry","destEntry","copyOrMove_","opt_deleteOrig","deleteOrig","isFile","isDirectory","moveTo","copyTo","isOpen","cwd","initObj","TEMPORARY","PERSISTENT","requestQuota","grantedBytes","dirEntry","entries_","createReader","readEntries","getDirectory","exclusive","folderParts","createDir","rootDir","folders","INVALID_MODIFICATION_ERR","getFile","removeIt","removeRecursively","dataObj","writeFile_","createWriter","onwriteend","seek","truncated","truncate","__proto__","ArrayBuffer","queryCallback","queryUsageAndQuota","colorsHandler","filerHandler","speechkitHandler","xmlHandler","Messaging","_handleConnection","_getConnectionHandler","onConnect","handle","speechkit","ya","SpeechkitHandler","streamer","SpeechRecognition","apiKey","initCallback","errorCallback","dataCallback","utteranceSilence","particialResults","_stop","XMLHandler","_toXML","_fromString","_getAttr","_getText","_selectAll","onRefreshExamples","refreshExamples","getExample","currentExample","examples","REQUEST_TIMEOUT_MS","REQUEST_TYPE","sendRequest","examplesUrl","EXAMPLE_WEIGHT_FIELD","sortedList","sortExamples","setExamples","getExamples","getRandomItem","normalWeights","getNormalizedItems","randomNumber","findRandomItem","totalSum","currentLength","EXAMPLES_PREF","coreLogger","CONSOLE_LEVEL","PLATFORM_LEVEL","setLevels","writerName","levelsData","platformSettings","OBSERVED_SETTINGS","setSettingsFromPlatform","onPlatformSettingChanged","isObservedSetting","setCurrent","experimentActualConfigs","installDate","installUpgrade","brandingRemoteLoader","banneridValue","success","restoreSuccess","onUninstall","CID","getParamByRefuseReason","brandingLoader","hostsPermissions","sendStat","SYSTEM_FILEBACKUP_SAVED","SYSTEM_FILEBACKUP_LOADED","platfromAbout","handleCompletedEvent","forEachVBTab","SYNC_STAT_NAME","onRemoteUpdated","checkRemote","logReject","syncAPI","syncState","initialSync","handleRemoteChangedEvent","tryMarkRemote","onRemoteUpdatedError","onInitialSync","onInitialSyncError","initialUpdateLocalData","dispatchInitialSync","dispatchInitialSyncError","remoteSnapshot","isEmptySnapshot","updateRemoteWithLocal","tryUpdateLocalData","getLocalSnapshot","dispatchRemoteUpdated","dispatchRemoteUpdatedError","updateLocalData","isRemoteChanged","isMultipleGUIDs","isMarked","newSnapshot","setMark","AREA_NAME","RANDOM_ID_KEY","randomIDValue","handleOnChangedEvent","snapshot","assertTimestamp","isLocalChange","getNewData","timestamp","omit","isEqual","REMOTE_TIMESTAMP","LOCAL_SNAPSHOT","MARK","synchronizers","currentSnapshot","createNewSnapshot","updateRemoteTimestamp","updateSynchronizers","getGUIDs","mergeSynchronizers","isSnapshotsEqual","synchronizer","UI_PREFIX","platformClids","STAT_URL_TEMPLATE","getDefautConfig","dtype","slots","bro","browserName","clid1","dayuse","productname","configForUrl","getConfigForUrl","createStatUrl","onStatResponse","getSlots","getVars","expList","currentExp","slot","configKey","processConfigParam","getBaseUrl","resultPart","processArrayValue","processObjectValue","array","sendRotationStat","sendInformersStat"],"mappings":"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;AACA;AACA;AACA;AACA,wBAAuB;AACvB,4CAA2C;AAC3C,uCAAsC,GAAG,IAAI;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,4EAA2E;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;;AAEA,gDAA+C,YAAY;AAC3D;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oBAAmB,YAAY;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAgD,YAAY;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA,wCAAuC,YAAY;AACnD;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA4B;;AAE5B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA,sBAAqB,sBAAsB;AAC3C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,6BAA4B;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,2BAA0B;AAC1B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAK;AACL;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,kCAAiC,OAAO;AACxC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP,yCAAwC,OAAO;AAC/C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;AACL,gCAA+B,OAAO;AACtC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,GAAG;;AAEtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,uEAAsE,OAAO;AAC7E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA,gBAAe,qBAAqB;AACpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;mCC1vED;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,eAAc,MAAM;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,MAAM;AAClB,aAAY,SAAS;AACrB;AACA,eAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,SAAS;AACrB;AACA,eAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,eAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC;AACrC;AACA,MAAK;AACL,6BAA4B;AAC5B;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY,MAAM;AAClB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,eAAc,OAAO;AACrB;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,mCAAmC;AAClE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,cAAa,WAAW;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAwB;;AAExB,0CAAyC,qBAAqB;;AAE9D;AACA;AACA;AACA;AACA;AACA,mCAAkC,oBAAoB;;AAEtD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,cAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,2BAA0B,iBAAiB;AAC3C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,eAAc,iBAAiB;AAC/B;;AAEA;AACA;AACA;;AAEA;AACA;AACA,+BAA8B,oBAAoB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAEA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA,EAAC;;;;;;;;ACphBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;AACD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,cAAc;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,WAAW;AAC9B;AACA,sBAAqB,QAAQ;AAC7B;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET,gBAAe,WAAW;AAC1B;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,gBAAe,YAAY;AAC3B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;;;;;;ACxLD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;AACD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACpPD;;;AAGA;;AAEA;;AACA,KAAMR,WAAW,EAAjB;;AAEAA,UAASyD,UAAT,GAAsB,UAAUC,IAAV,EAAgB;AAClC,YAAOA,QAAQ,GAAR,IAAeA,OAAO,GAA7B;AACH,EAFD;;AAIA1D,UAAS2D,SAAT,GAAqB,UAAUD,IAAV,EAAgB;AACjC,YAAOA,QAAQ,GAAR,IAAeA,OAAO,GAA7B;AACH,EAFD;;AAIA1D,UAAS4D,UAAT,GAAsB,UAAUF,IAAV,EAAgB;AAClC,YAAOA,QAAQ,GAAR,IAAeA,OAAO,GAA7B;AACH,EAFD;;AAIA1D,UAAS6D,aAAT,GAAyB,UAAUH,IAAV,EAAgB;AACrC,YAAOA,QAAQ,GAAR,IAAeA,OAAO,GAA7B;AACH,EAFD;;AAIA1D,UAAS8D,aAAT,GAAyB,UAAUJ,IAAV,EAAgB;AACrC,YAAOA,QAAQ,GAAR,IAAeA,OAAO,GAA7B;AACH,EAFD;;AAIA1D,UAAS+D,cAAT,GAA0B,UAAUL,IAAV,EAAgB;AACtC;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAOA,IAAP,EAAgB,CAAhB;AACH,EAFD;;AAIA1D,UAASgD,OAAT,GAAmB,UAAUU,IAAV,EAAgB;AAC/B,YAAO,KAAKI,aAAL,CAAmBJ,IAAnB,KACA,KAAKG,aAAL,CAAmBH,IAAnB,CADA,IAEA,KAAKK,cAAL,CAAoBL,IAApB,CAFP;AAGH,EAJD;;AAMAnG,QAAOpB,OAAP,GAAiB6D,QAAjB,C;;;;;;ACtCA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;;;;;;ACtEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;AChBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,YAAW,SAAS;AACpB,cAAa,OAAO;AACpB;AACA;;AAEA;;;;;;;AChBA;;AAEA;AACA;AACA;AACA;AACA,YAAW,QAAQ;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC1BA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3BA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/DA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA,8BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjCA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,EAAE;AACf;AACA;;AAEA;;;;;;;ACdA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACbA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACXA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,0BAAyB,kBAAkB,EAAE;AAC7C;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACvCA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa,EAAE;AACf;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4DAA2D;AAC3D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/CA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrCA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,OAAO;AAClB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClBA;;;AAGA;;AAEA,KAAIgE,YAAY,mBAAAhJ,CAAQ,CAAR,CAAhB;;AAEA,KAAIiJ,WAAW,IAAID,UAAUE,QAAd,EAAf;;AAEA;;;AAGA3G,QAAOpB,OAAP,GAAiB,YAAY;AACzB;AACA;AACA,SAAIgI,OAAO,EAAX;AACA,UAAK,IAAI3E,IAAI,CAAb,EAAgBA,IAAI4E,UAAUhF,MAA9B,EAAsCI,GAAtC,EAA2C;AACvC2E,cAAK3E,CAAL,IAAU4E,UAAU5E,CAAV,CAAV;AACH;AACD;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAI,OAAO2E,KAAK,CAAL,CAAX,EAAuB,QAAvB,GAAiC;AAC7B,gBAAOrE,SAASqE,IAAT,CAAP;AACH;AACD,YAAOF,SAASxE,OAAT,CAAiB0E,KAAK,CAAL,CAAjB,EAA0BA,KAAKE,KAAL,CAAW,CAAX,CAA1B,CAAP;AACH,EAXD;;AAaA,UAASvE,QAAT,CAAkBqE,IAAlB,EAAwB;AACpB;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAIA,KAAK/E,MAAT,EAAoB,CAApB,GAAuB;AACnB,gBAAO,WAAP;AACH;AACD,YAAO+E,KAAK7E,GAAL,CAAS,UAAUgF,IAAV,EAAgB;AAC5B,aAAIA,SAASC,SAAb,EAAwB;AACpB,oBAAO,WAAP;AACH;AACD,aAAI;AACA,oBAAOC,KAAKC,SAAL,CAAeH,IAAf,CAAP;AACH,UAFD,CAEE,OAAOnJ,CAAP,EAAU;AACR,oBAAOuJ,OAAOJ,IAAP,CAAP;AACH;AACJ,MATM,EASJK,IATI,CASC,GATD,CAAP;AAUH,E;;;;;;ACvCD;;AAEAxI,SAAQH,MAAR,GAAiB,YAAY;AACzB,YAAO,IAAI4I,cAAJ,EAAP;AACH,EAFD,C;;;;;;ACFA;;;AAGA;;AAEA,KAAI5G,OAAM,mBAAAhD,CAAQ,EAAR,CAAV;;AAEAuC,QAAOpB,OAAP,GAAiB;AACbqG,WAAM,gBAAY;AACd,gBAAO,UAAUC,GAAV,EAAe;AAClB,oBAAOA,IAAIQ,MAAJ,CAAWK,YAAlB;AACH,UAFD;AAGH,MALY;;AAOb;AACA;AACAuB,WAAM,gBAAY;AACd,gBAAO,UAAUpC,GAAV,EAAe;AAClB,oBAAO+B,KAAK/C,KAAL,CAAWgB,IAAIQ,MAAJ,CAAWK,YAAtB,CAAP;AACH,UAFD;AAGH,MAbY;;AAebtF,UAAK,eAAY;AACb,gBAAO,UAAUyE,GAAV,EAAe;AAClB,oBAAOA,IAAIQ,MAAJ,CAAW6B,WAAX,IACA9G,KAAI+G,UAAJ,CAAetC,IAAIQ,MAAJ,CAAWK,YAA1B,CADP;AAEH,UAHD;AAIH,MApBY;;AAsBb0B,WAAM,cAAUrH,GAAV,EAAe;AACjBA,aAAI+D,YAAJ,GAAmB,MAAnB;AACH;AAxBY,EAAjB,C;;;;;;ACPA;;;;;AAKA;;AAEA;;AAEA,KAAIuD,UAAU,mBAAAjK,CAAQ,EAAR,CAAd;;AAEA;AACA,KAAIkK,WAAW,qBAAf,C,CAAsC;AACtC,KAAIC,aAAa,gDAAjB;AACA,KAAIC,YAAY;AACZ,UAAK,OADO;AAEZ,WAAM,SAFM;AAGZ,UAAK,MAHO;AAIZ,UAAK,MAJO;AAKZ,WAAM,QALM;AAMZ,aAAQ,QANI;AAOZ,UAAK;AAPO,EAAhB;AASA,KAAIC,cAAc;AACd,cAAS,GADK;AAEd,eAAU,GAFI;AAGd,aAAQ,GAHM;AAId,aAAQ,GAJM;AAKd,eAAU,IALI;AAMd,cAAS,IANK;AAOd,aAAQ,IAPM;AAQd,eAAU;AARI,EAAlB;AAUA,KAAIC,oBAAoB,SAApBA,iBAAoB,CAAUC,GAAV,EAAe;AACnC,YAAOH,UAAUG,GAAV,CAAP;AACH,EAFD;AAGA,KAAIC,sBAAsB,SAAtBA,mBAAsB,CAAUD,GAAV,EAAe;AACrC,YAAOF,YAAYE,IAAIE,WAAJ,EAAZ,CAAP;AACH,EAFD;;AAIA,KAAIzH,MAAM;AACNoH,gBAAWA,SADL;AAENC,kBAAaA,WAFP;AAGNK,aAAQ,gBAAUH,GAAV,EAAe;AACnB,gBAAOA,MAAMb,OAAOa,GAAP,EAAY9F,OAAZ,CAAoByF,QAApB,EAA8BI,iBAA9B,CAAN,GAAyD,EAAhE;AACH,MALK;AAMNK,eAAU,kBAAUJ,GAAV,EAAe;AACrB,gBAAOA,MAAMb,OAAOa,GAAP,EAAY9F,OAAZ,CAAoB0F,UAApB,EAAgCK,mBAAhC,CAAN,GAA6D,EAApE;AACH,MARK;AASNT,iBAAa;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,cAAOa,SAAP,EAAqB,UAArB,IACP,UAAUC,MAAV,EAAkB;AAChB,gBAAO,IAAID,SAAJ,GAAgBE,eAAhB,CAAgCD,MAAhC,EAAwC,UAAxC,CAAP;AACH,MAHQ,GAIP,UAAUA,MAAV,EAAkB;AAChB,aAAIE,cAAc,IAAIC,aAAJ,CAAkB,kBAAlB,CAAlB;AACAD,qBAAYE,KAAZ,GAAoB,KAApB;AACAF,qBAAYG,OAAZ,CAAoBL,MAApB;AACA,gBAAOE,WAAP;AACH,MAlBC;AAoBNI,aAAS;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,cAAOC,MAAP,EAAkB,UAAlB,IACH,UAAUC,QAAV,EAAoBC,MAApB,EAA4B;AAC1B,gBAAOF,OAAOC,QAAP,EAAiBC,UAAUC,OAAOC,QAAlC,EAA4C,CAA5C,KAAkD,IAAzD;AACH,MAHI,GAIH,UAAUH,QAAV,EAAoBC,MAApB,EAA4B;AAC1B,gBAAO,CAACA,UAAUC,OAAOC,QAAlB,EAA4BC,aAA5B,CAA0CJ,QAA1C,CAAP;AACH,MA1BC;AA4BNK,gBAAY;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,cAAON,MAAP,EAAkB,UAAlB,IACN,UAAUC,QAAV,EAAoBC,MAApB,EAA4B;AAC1B,gBAAOF,OAAOC,QAAP,EAAiBC,UAAUC,OAAOC,QAAlC,CAAP;AACH,MAHO,GAIN,UAAUH,QAAV,EAAoBC,MAApB,EAA4B;AAC1B,gBAAOrB,QAAQ,CAACqB,UAAUC,OAAOC,QAAlB,EAA4BG,gBAA5B,CAA6CN,QAA7C,CAAR,CAAP;AACH,MAlCC;AAoCNO,cAAS,iBAAUC,IAAV,EAAgBR,QAAhB,EAA0B;AAC/B,aAAIQ,QAAQR,QAAZ,EAAsB;AAClBQ,oBAAO7I,IAAImI,MAAJ,CAAWE,QAAX,EAAqBQ,IAArB,CAAP;AACH;AACD;AACA;AACA,gBAAOA,OACAA,KAAKC,WAAL,IAAoBD,KAAKE,SAAzB,IAAuCF,KAAKG,UAAL,IAAmBH,KAAKG,UAAL,CAAgBC,IAA1E,IAAmFJ,KAAKrE,IAAxF,IAAgG,EADhG,GAED,EAFN;AAGH,MA7CK;AA8CN0E,cAAS,iBAAUL,IAAV,EAAgBrE,IAAhB,EAAsB;AAC3B,aAAIqE,IAAJ,EAAU;AACNA,kBAAKC,WAAL,GAAmBtE,IAAnB;AACAqE,kBAAKE,SAAL,GAAiBvE,IAAjB;AACH;AACJ,MAnDK;AAoDN2E,cAAS,iBAAUN,IAAV,EAAgBR,QAAhB,EAA0Be,IAA1B,EAAgC;AACrC;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAAIhD,UAAUhF,MAAd,EAAyB,CAAzB,GAA4B;AACxBgI,oBAAOf,QAAP;AACAA,wBAAW,IAAX;AACH;AACD,aAAIQ,QAAQR,QAAZ,EAAsB;AAClBQ,oBAAO7I,IAAImI,MAAJ,CAAWE,QAAX,EAAqBQ,IAArB,CAAP;AACH;AACD,gBAAOA,QAAQA,KAAKQ,YAAL,CAAkBD,IAAlB,CAAR,IAAmC,EAA1C;AACH,MA7DK;AA8DNE,eAAU,kBAAUC,IAAV,EAAgB;AACtB,gBAAOtC,QAAQsC,KAAKC,UAAb,EAAyBC,MAAzB,CAAgC,UAAUC,IAAV,EAAgBN,IAAhB,EAAsB;AACzDM,kBAAKN,KAAKzG,IAAV,IAAkByG,KAAKO,KAAvB;AACA,oBAAOD,IAAP;AACH,UAHM,EAGJrF,OAAOrG,MAAP,CAAc,IAAd,CAHI,CAAP;AAIH;AAnEK,EAAV;;AAsEAuB,QAAOpB,OAAP,GAAiB6B,GAAjB;;AAEA,oBAAAhD,CAAQ,EAAR,EAA8BwI,QAA9B,CAAuCxF,GAAvC,E;;;;;;AChHA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,cAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,MAAM;AACjB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5CA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxCA;;;AAGA;;AAEA,KAAM4J,SAAS,mBAAA5M,CAAQ,EAAR,CAAf;AACA,KAAM6M,mBAAmB,mBAAA7M,CAAQ,EAAR,CAAzB;;AAEAmB,SAAQqH,QAAR,GAAmB,UAACxF,GAAD,EAAS;AACxB;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAI,OAAOA,GAAX,EAAmB,QAAnB,GAA6B;AACzB;AACH;;AAED;AACA;AACAA,SAAI8J,kBAAJ,GAAyB9J,IAAI+G,UAAJ,CAAenE,IAAf,CAAoB,EAApB,CAAzB;AACA5C,SAAI+J,eAAJ,GAAsB/J,IAAImJ,OAAJ,CAAYvG,IAAZ,CAAiB,EAAjB,CAAtB;AACA5C,SAAIgK,eAAJ,GAAsBhK,IAAI4I,OAAJ,CAAYhG,IAAZ,CAAiB,EAAjB,CAAtB;AACA5C,SAAIiK,iBAAJ,GAAwBjK,IAAI0I,SAAJ,CAAc9F,IAAd,CAAmB,EAAnB,CAAxB;;AAEA;;;AAGA5C,SAAI+G,UAAJ,GAAiB,UAACc,MAAD,EAAY;AACzB,gBAAOA,MAAP;AACH,MAFD;;AAIA;;;AAGA7H,SAAImJ,OAAJ,GAAc,UAACe,SAAD,EAAY7B,QAAZ,EAAsBe,IAAtB,EAA+B;AACzC,aAAMhL,WAAW,SAAXA,QAAW,CAACf,OAAD,EAAa;AAAA,iBACnB8M,MADmB,GACH9M,OADG,CACnB8M,MADmB;AAAA,iBACXf,IADW,GACH/L,OADG,CACX+L,IADW;;AAE1B,iBAAIe,MAAJ,EAAY;AACR,uBAAM,IAAIrF,KAAJ,CAAUqF,OAAO9M,OAAjB,CAAN;AACH,cAFD,MAEO;AACH,wBAAO+L,IAAP;AACH;AACJ,UAPD;;AASA,aAAMgB,UACF,EAACC,MAAMT,OAAOU,OAAP,CAAeC,YAAtB,EAAoCtB,MAAM,EAACiB,oBAAD,EAAY7B,kBAAZ,EAAsBe,UAAtB,EAA1C,EADJ;AAEA,gBAAOS,iBAAiBW,WAAjB,CACHJ,OADG,EACM,uBADN,EAC+BhM,QAD/B,CAAP;AAEH,MAdD;;AAgBA;;;AAGA4B,SAAI4I,OAAJ,GAAc,UAACsB,SAAD,EAAY7B,QAAZ,EAAyB;AACnC,aAAMjK,WAAW,SAAXA,QAAW,CAACf,OAAD,EAAa;AAAA,iBACnB8M,MADmB,GACH9M,OADG,CACnB8M,MADmB;AAAA,iBACX3F,IADW,GACHnH,OADG,CACXmH,IADW;;AAE1B,iBAAI2F,MAAJ,EAAY;AACR,uBAAM,IAAIrF,KAAJ,CAAUqF,OAAO9M,OAAjB,CAAN;AACH,cAFD,MAEO;AACH,wBAAOmH,IAAP;AACH;AACJ,UAPD;;AASA,aAAM4F,UACF,EAACC,MAAMT,OAAOU,OAAP,CAAeG,YAAtB,EAAoCxB,MAAM,EAACiB,oBAAD,EAAY7B,kBAAZ,EAA1C,EADJ;AAEA,gBAAOwB,iBAAiBW,WAAjB,CACHJ,OADG,EACM,uBADN,EAC+BhM,QAD/B,CAAP;AAEH,MAdD;;AAgBA;;;AAGA4B,SAAI0I,SAAJ,GAAgB,UAACL,QAAD,EAAWC,MAAX,EAAsB;AAClC,aAAMlK,WAAW,SAAXA,QAAW,CAACf,OAAD,EAAa;AAAA,iBACnB8M,MADmB,GACE9M,OADF,CACnB8M,MADmB;AAAA,iBACXO,SADW,GACErN,OADF,CACXqN,SADW;;AAE1B,iBAAIP,MAAJ,EAAY;AACR,uBAAM,IAAIrF,KAAJ,CAAUqF,OAAO9M,OAAjB,CAAN;AACH,cAFD,MAEO;AACH,wBAAOqN,SAAP;AACH;AACJ,UAPD;;AASA,aAAMN,UACF,EAACC,MAAMT,OAAOU,OAAP,CAAeK,cAAtB,EAAsC1B,MAAM,EAACZ,kBAAD,EAAWC,cAAX,EAA5C,EADJ;AAEA,gBAAOuB,iBAAiBW,WAAjB,CACHJ,OADG,EACM,yBADN,EACiChM,QADjC,CAAP;AAEH,MAdD;AAeH,EA3ED,C;;;;;;ACRA;;;AAGA;;AAEAmB,QAAOpB,OAAP,GAAiB;AACb;;;AAGAyM,cAAW;AACP;;;AAGAC,mCAA8B,6CAJvB;AAKPC,+BAA0B,yCALnB;;AAOP;;;AAGAC,eAAU,mBAVH;AAWPC,eAAU,mBAXH;AAYPC,mBAAc,uBAZP;AAaPC,eAAU,mBAbH;AAcPC,sBAAiB,yBAdV;AAePC,iBAAY,qBAfL;AAgBPC,eAAU,mBAhBH;AAiBPC,kBAAa,sBAjBN;AAkBPC,eAAU,mBAlBH;AAmBPC,iBAAY,qBAnBL;AAoBPC,mCAA8B,oCApBvB;AAqBPC,eAAU,mBArBH;AAsBPC,kBAAa,sBAtBN;;AAwBP;;;AAGAC,qBAAgB,yBA3BT;AA4BPC,sBAAiB,0BA5BV;AA6BPC,qBAAgB,yBA7BT;AA8BPC,qBAAgB,yBA9BT;;AAgCP;;;AAGAC,sBAAiB,2BAnCV;AAoCPzB,mBAAc,wBApCP;AAqCPE,mBAAc,wBArCP;AAsCPE,qBAAgB;AAtCT,IAJE;;AA6Cb;;;AAGAL,YAAS;AACL;;;AAGAO,mCAA8B,4CAJzB;AAKLC,+BAA0B,wCALrB;;AAOL;;;AAGAC,eAAU,kBAVL;AAWLC,eAAU,kBAXL;AAYLC,mBAAc,sBAZT;AAaLC,eAAU,kBAbL;AAcLC,sBAAiB,wBAdZ;AAeLC,iBAAY,oBAfP;AAgBLC,eAAU,kBAhBL;AAiBLC,kBAAa,qBAjBR;AAkBLC,eAAU,kBAlBL;AAmBLC,iBAAY,oBAnBP;AAoBLC,mCAA8B,mCApBzB;AAqBLC,eAAU,kBArBL;AAsBLC,kBAAa,qBAtBR;;AAwBL;;;AAGAI,qBAAgB,wBA3BX;AA4BLD,qBAAgB,wBA5BX;;AA8BL;;;AAGAE,sBAAiB,0BAjCZ;AAkCLzB,mBAAc,uBAlCT;AAmCLE,mBAAc,uBAnCT;AAoCLE,qBAAgB;AApCX;AAhDI,EAAjB,C;;;;;;;;;;;;ACLA,KAAM5N,eAAe,mBAAAC,CAAQ,EAAR,CAArB;;AAEA,KAAIiP,gBAAgB,CAApB;;KAEMC,gB;AACF,iCAAc;AAAA;;AACV,cAAKC,mBAAL,GAA2B,KAAKA,mBAAL,CAAyBvJ,IAAzB,CAA8B,IAA9B,CAA3B;AACA,cAAKwJ,QAAL,GAAgB,IAAIC,GAAJ,EAAhB;AACH;;;;yCAce;AACZ,iBAAIC,iBAAJ;AACA,gBAAG;AACCA,4BAAWC,KAAK3K,MAAL,GAAcE,QAAd,CAAuB,EAAvB,EAA2B0K,MAA3B,CAAkC,CAAlC,EAAqC,CAArC,CAAX;AACH,cAFD,QAES,KAAKJ,QAAL,CAAcK,GAAd,CAAkBH,QAAlB,CAFT;AAGA,oBAAOA,QAAP;AACH;;;uCAEa;AACV,oBAAOI,OAAOC,IAAP,CAAYC,KAAZ,CAAkB,EAAlB,EAAsBC,IAAtB,CAA2B,UAACF,IAAD;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAAUA,KAAKvL,MAAf,EAA0B,CAA1B;AAAA,cAA3B,CAAP;AACH;;;2CAEiB;AAAA;;AACd,oBAAO8K,iBAAiBY,YAAjB,GAAgCD,IAAhC,CAAqC,UAACE,WAAD,EAAiB;AACzD,qBAAIA,WAAJ,EAAiB;AACb,4BAAOL,OAAO9B,SAAP,CAAiBoC,aAAjB,EAAP;AACH;AACJ,cAJM,EAIJC,OAJI,CAII,YAAM;AACb;AACA,uBAAKC,2BAAL,GAAmC,IAAnC;;AAEAR,wBAAOC,IAAP,CAAYQ,SAAZ,CAAsBC,cAAtB,CAAqC,MAAKjB,mBAA1C;AACH,cATM,CAAP;AAUH;;;4CAEkB;AAAA;;AACf,oBAAOD,iBAAiBY,YAAjB,GAAgCD,IAAhC,CAAqC,UAACE,WAAD,EAAiB;AACzD,qBAAI,CAACA,WAAL,EAAkB;AACd,4BAAOL,OAAO9B,SAAP,CAAiByC,cAAjB,CAAgC;AACnCpN,8BAAK,wBAD8B;AAEnCqN,kCAASjJ,OAAOC,IAAP,CAAYiJ,cAAZ,CAF0B;AAGnCC,wCAAenJ,OAAOoJ,MAAP,CAAcF,cAAd,EAA8B5G,IAA9B,CAAmC,IAAnC;AAHoB,sBAAhC,EAIJ,YAAM;AACL,6BAAI+F,OAAOgB,OAAP,CAAeC,SAAnB,EAA8B;AAC1B;AACA,oCAAKT,2BAAL,GAAmC,IAAnC;AACAnQ,0CAAaK,QAAb,CAAsBsP,OAAOgB,OAAP,CAAeC,SAArC,EAAgD,EAAC1B,4BAAD,EAAhD;AACH,0BAJD,MAIO;AACHA,8CAAiB,CAAjB;AACAlP,0CAAasC,IAAb,CAAkB,sBAAlB,EAA0C,EAAC4M,4BAAD,EAA1C;AACH;AACJ,sBAbM,CAAP;AAcH;AACJ,cAjBM,EAiBJgB,OAjBI,CAiBI,YAAM;AACb;AACA,wBAAKW,0BAAL,GAAkC,IAAlC;;AAEAlB,wBAAOC,IAAP,CAAYQ,SAAZ,CAAsBU,WAAtB,CAAkC,OAAK1B,mBAAvC;AACH,cAtBM,CAAP;AAuBH;;AAED;;;;;;wCAGe;AAAA;;AACX,kBAAK2B,IAAL,GAAYpB,OAAOgB,OAAP,CAAeK,OAAf,CAAuB,EAACpL,MAAM,WAAP,EAAvB,CAAZ;;AAEA,kBAAKmL,IAAL,CAAUE,YAAV,CAAuBH,WAAvB,CAAmC,YAAM;AACrC,wBAAKC,IAAL,GAAY,IAAZ;AADqC;AAAA;AAAA;;AAAA;AAErC,0CAAoB,OAAK1B,QAAL,CAAcqB,MAAd,EAApB,8HAA4C;AAAA,6BAAjCQ,KAAiC;;AACxC,6BAAI;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,kCAAOA,KAAP,EAAiB,QAAjB,KAA6BA,MAAMC,MAAvC,EAA+C;AAC3CD,mCAAMC,MAAN,CAAa,IAAIpJ,KAAJ,CAAU,uBAAV,CAAb;AACH;AACJ;AANoC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAOrC,wBAAKsH,QAAL,CAAc+B,KAAd;AACH,cARD;;AAUA,kBAAKL,IAAL,CAAUM,SAAV,CAAoBP,WAApB,CAAgC,UAACxQ,OAAD,EAAa;AACzC,qBAAM4Q,QAAQ,OAAK7B,QAAL,CAAciC,GAAd,CAAkBhR,QAAQiR,EAA1B,CAAd;AACA,qBAAIL,KAAJ,EAAW;AACPA,2BAAMM,OAAN,CAAclR,OAAd;AACA,4BAAK+O,QAAL,CAAcoC,MAAd,CAAqBnR,QAAQiR,EAA7B;AACH;AACJ,cAND;;AAQA,oBAAOG,QAAQF,OAAR,EAAP;AACH;;AAED;;;;;;gDAGuB;AAAA;;AACnB,iBAAI,KAAKT,IAAT,EAAe;AACX,wBAAOW,QAAQF,OAAR,EAAP;AACH;;AAED,kBAAKG,oBAAL;AACA,oBAAO,KAAKxB,2BAAL,CAAiCL,IAAjC,CAAsC,YAAM;AAC/C,wBAAO,OAAK8B,YAAL,EAAP;AACH,cAFM,CAAP;AAGH;;AAED;;;;;;8CAGqBvQ,Q,EAAU;AAC3B,iBAAI,KAAK0P,IAAT,EAAe;AACX,sBAAKA,IAAL,CAAUM,SAAV,CAAoBP,WAApB,CAAgCzP,QAAhC;AACH;AACJ;;AAED;;;;;;iDAGwBA,Q,EAAU;AAC9B,iBAAI,KAAK0P,IAAT,EAAe;AACX,sBAAKA,IAAL,CAAUM,SAAV,CAAoBhB,cAApB,CAAmChP,QAAnC;AACH;AACJ;;AAED;;;;;;+CAGsB;AAClB,iBAAI,CAAC,KAAKwP,0BAAV,EAAsC;AAClC,sBAAKA,0BAAL,GAAkC,KAAKgB,eAAL,EAAlC;AACH;AACJ;;AAED;;;;;;gDAGuB;AACnB,iBAAI,CAAC,KAAK1B,2BAAV,EAAuC;AACnC,sBAAKA,2BAAL,GAAmC,KAAK2B,gBAAL,EAAnC;AACH;AACJ;;AAED;;;;;;qCAGYzE,O,EAAS0E,c,EAAgB1Q,Q,EAAU2Q,gB,EAAkB;AAAA;;AAC7D3E,qBAAQkE,EAAR,GAAa,KAAKU,aAAL,EAAb;AACA,oBAAO,KAAKC,oBAAL,GAA4BpC,IAA5B,CAAiC,YAAM;AAC1C,wBAAO,IAAI4B,OAAJ,CAAY,UAACF,OAAD,EAAUL,MAAV,EAAqB;AACpC,4BAAK9B,QAAL,CAAc8C,GAAd,CAAkB9E,QAAQkE,EAA1B,EAA8B,EAACC,gBAAD,EAAUL,cAAV,EAA9B;AACA,4BAAKJ,IAAL,CAAUqB,WAAV,CAAsB/E,OAAtB;AACH,kBAHM,CAAP;AAIH,cALM,EAKJyC,IALI,CAKC,UAACxP,OAAD,EAAa;AACjB,qBAAIe,QAAJ,EAAc;AACV,4BAAOA,SAASf,OAAT,CAAP;AACH;AACJ,cATM,EASJ+R,KATI,CASE,UAACvK,KAAD,EAAW;AAChB,qBAAIkK,gBAAJ,EAAsB;AAClBA,sCAAiBlK,KAAjB;AACH;AACD,qBAAIA,SAASA,MAAMxH,OAAnB,EAA4B;AACxBN,kCAAaK,QAAb,CAAsByH,MAAMxH,OAA5B;AACH;AACJ,cAhBM,CAAP;AAiBH;;;wCAlKqB;AAClB,iBAAI,iBAAiBqP,OAAOgB,OAA5B,EAAqC;AACjC,wBAAOhB,OAAOgB,OAAP,CAAe2B,WAAf,CAA2B;AAC9BC,mCAAc,CAAC,oBAAD;AADgB,kBAA3B,EAEJzC,IAFI,CAEC;AAAA,4BAAY,CAAC,CAAC0C,SAASnO,MAAvB;AAAA,kBAFD,CAAP;AAGH,cAJD,MAIO;AACH,wBAAOoO,QAAQC,QAAR,GAAmB5C,IAAnB,CAAwB;AAAA,4BAC3B6C,eAAeC,IAAf,CAAoB;AAAA,gCAChBC,OAAO3P,GAAP,CAAW4P,QAAX,CAAoBnD,OAAOgB,OAAP,CAAeY,EAAnC,CADgB;AAAA,sBAApB,CAD2B;AAAA,kBAAxB,CAAP;AAGH;AACJ;;;;;;AAyJJ;;AAED/O,QAAOpB,OAAP,GAAiB,IAAI+N,gBAAJ,EAAjB,C;;;;;;AC/KA;;;AAGA;;AAEA,KAAInK,MAAM,mBAAA/E,CAAQ,EAAR,CAAV;AACA,KAAIiF,gBAAgB,mBAAAjF,CAAQ,EAAR,CAApB;;AAEA,KAAI8S,QAAQ,mBAAA9S,CAAQ,EAAR,CAAZ;;AAEAmB,SAAQqH,QAAR,GAAmB,UAAChD,OAAD,EAAa;AAC5B;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAI,OAAOA,OAAX,EAAuB,UAAvB,GAAmC;AAC/B;AACH;;AAEDA,aAAQK,SAAR,CAAkBJ,IAAlB,GAAyB,YAAY;AAAA;;AACjC,cAAKhC,OAAL,GAAe,KAAKsP,wBAAL,CAA8B,KAAKtP,OAAnC,CAAf;AACA,aAAI,KAAKA,OAAL,IAAgB,KAAKA,OAAL,CAAa2C,IAAjC,EAAuC;AACnC,kBAAK3C,OAAL,CAAa0C,MAAb,GAAsB,MAAtB;AACH;;AAED,aAAMsB,MAAM,EAACQ,QAAQ,EAACC,QAAQ,SAAT,EAAoBjF,KAAK,KAAKQ,OAAL,CAAaR,GAAtC,EAAT,EAAZ;;AAEA,aAAM+P,UAAUF,MAAM,KAAKrP,OAAL,CAAaR,GAAnB,EAAwB,KAAKQ,OAA7B,EAAsCoM,IAAtC,CAA2C,UAAC5D,IAAD,EAAU;AACjExE,iBAAIQ,MAAJ,CAAWC,MAAX,GAAoB,YAApB;AACA,mBAAK9G,QAAL,CAAc,IAAd,EAAoB6K,IAApB,EAA0B5E,OAAO4L,MAAP,CAAcxL,GAAd,EAAmB,EAACQ,QAAQ+K,OAAT,EAAnB,CAA1B;AACH,UAHe,EAGbZ,KAHa,CAGP,UAAC9L,GAAD,EAAS;AACdmB,iBAAIQ,MAAJ,CAAWC,MAAX,GAAoB,UAApB;AACA,mBAAK9G,QAAL,CAAckF,GAAd,EAAmB,IAAnB,EAAyBe,OAAO4L,MAAP,CAAcxL,GAAd,EAAmB,EAACQ,QAAQ+K,OAAT,EAAnB,CAAzB;AACH,UANe,CAAhB;;AAQA,gBAAOA,OAAP;AACH,MAjBD;;AAmBAxN,aAAQK,SAAR,CAAkBkN,wBAAlB,GAA6C,UAAUtP,OAAV,EAAmB;AAC5D,gBAAO4D,OAAO4L,MAAP,CAAcxP,OAAd,EAAuB;AAC1BiD,2BAAcjD,QAAQgD,KAAR,IAAiB,MADL;AAE1BS,sBAAS,KAAKgM,gBAAL,CAAsBzP,OAAtB;AAFiB,UAAvB,CAAP;AAIH,MALD;;AAOA+B,aAAQK,SAAR,CAAkBqN,gBAAlB,GAAqC,YAAY;AAC7C,aAAIzP,UAAU,KAAKA,OAAnB;AACA,aAAIyD,UAAUzD,QAAQyD,OAAR,IAAmB,EAAjC;AACA,aAAIzD,QAAQ0D,WAAZ,EAAyB;AACrBD,qBAAQ,mBAAR,IAA+B,8BAA/B;AACH;;AAED;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAAI,OAAOzD,QAAQ2C,IAAnB,EAA4B,QAA5B,GAAsC;AAClC,iBAAI,CAACc,QAAQ,cAAR,CAAL,EAA8B;AAC1BA,yBAAQ,cAAR,IAA0B,2BAA1B;AACH;AACJ,UAJD,MAIO,IAAIjC,cAAcxB,QAAQ2C,IAAtB,CAAJ,EAAiC;AACpC3C,qBAAQ2C,IAAR,GAAerB,IAAIqC,UAAJ,CAAe3D,QAAQ2C,IAAvB,CAAf;AACA,iBAAI,CAACc,QAAQ,cAAR,CAAL,EAA8B;AAC1BA,yBAAQ,cAAR,IAA0B,kDAA1B;AACH;AACJ;;AAED,gBAAOA,OAAP;AACH,MAnBD;AAoBH,EAnDD,C;;;;;;ACVA;;;AAGA;;;;AAEA,KAAMlE,MAAM,mBAAAhD,CAAQ,EAAR,CAAZ;AACA,KAAMgF,WAAW,mBAAAhF,CAAQ,EAAR,CAAjB;AACA,KAAMe,SAAS,mBAAAf,CAAQ,CAAR,EAAoBgB,MAApB,CAA2B,aAA3B,CAAf;AACA,KAAMmS,UAAU,mBAAAnT,CAAQ,EAAR,CAAhB;AACA,KAAMoT,WAAW,mBAAApT,CAAQ,EAAR,CAAjB;AACA,KAAMqT,WAAW,mBAAArT,CAAQ,EAAR,CAAjB;AACA,KAAMsT,OAAO,mBAAAtT,CAAQ,EAAR,CAAb;AACA,KAAMuT,WAAW,mBAAAvT,CAAQ,EAAR,CAAjB;;AAEA,KAAMwT,eAAe,cAArB;AACA,KAAMC,mBAAmB,kBAAzB;;AAEA;;;;;;;;;AASA,KAAMC,UAAU,CACZ,QADY,EAEZ,MAFY,EAGZ,QAHY,EAIZ,SAJY,EAKZ,MALY,EAMZ,aANY,EAOZ,OAPY,EAQZ,UARY,EASZ,UATY,EAUZ,WAVY,CAAhB;;AAaA;;;;;AAKA,KAAMC,wBAAwB,CAC1B,cAD0B,EAE1B,UAF0B,EAG1B,SAH0B,CAA9B;;AAMA;;;;;;;;;;;;;;;;;AAiBA,KAAMC,eAAe,EAArB;;AAEA;;;;;AAKA,KAAMC,kBAAkB;AACpB;AACAC,kBAAa;AAFO,EAAxB;;AAKAvR,QAAOpB,OAAP,GAAiB4S,YAAjB;;AAEA;;;;;;;;;;;;;;;;;;;;;;;AAuBA,UAASA,YAAT,CAAsB9Q,GAAtB,EAAyC;AAAA,SAAdQ,OAAc,uEAAJ,EAAI;;AAAA,yBACMuQ,aAAavQ,OAAb,CADN;AAAA;AAAA,SAChCwQ,YADgC;AAAA,SAClBC,oBADkB;;AAErCD,oBAAe5M,OAAO4L,MAAP,CAAc,EAAd,EAAkBY,eAAlB,EAAmCI,YAAnC,CAAf;AACA,YAAO,IAAIE,KAAJ,CAAUlR,GAAV,EAAegR,YAAf,EAA6BC,oBAA7B,EAAmDE,OAA1D;AACH;;AAEDC,iBAAgB,MAAhB,EAAwBC,gBAAxB,EAA0CP,YAA1C;AACAM,iBAAgB,MAAhB,EAAwBE,gBAAxB,EAA0CR,YAA1C;AACAM,iBAAgB,MAAhB,EAAwBE,gBAAxB,EAA0CR,aAAaS,IAAvD;AACAH,iBAAgB,MAAhB,EAAwBI,gBAAxB,EAA0CV,YAA1C;AACAM,iBAAgB,MAAhB,EAAwBI,gBAAxB,EAA0CV,aAAaS,IAAvD;;AAEA;;;;;AAKAT,cAAaW,cAAb,GAA8B,UAAUC,WAAV,EAAuB;AACjDf,kBAAavP,IAAb,CAAkBsQ,WAAlB;AACH,EAFD;;AAIA;;;AAGAZ,cAAaa,qBAAb,GAAqC,YAAY;AAC7ChB,kBAAaxP,MAAb,GAAsB,CAAtB;AACH,EAFD;;AAIA;;;;;;AAMA,UAAS+P,KAAT,CAAelR,GAAf,EAA0D;AAAA;;AAAA,SAAtC4R,IAAsC,uEAA/B,EAA+B;AAAA,SAA3BX,oBAA2B,uEAAJ,EAAI;;AACtD,UAAKA,oBAAL,GAA4BA,oBAA5B;AACA,UAAKY,iBAAL,GAAyB,KAAzB;;AAEAD,UAAK3N,OAAL,GAAe2N,KAAK3N,OAAL,IAAgB,EAA/B;AACAjE,WAAMsQ,SAASwB,QAAT,CAAkB9R,GAAlB,EAAuB4R,KAAKG,MAA5B,CAAN;;AAEA,UAAKC,YAAL,CAAkBJ,IAAlB;;AAEA,SAAM7B,UAAU,IAAIxN,OAAJ,CAAYvC,GAAZ,EAAiB4R,IAAjB,CAAhB;AACA,UAAKK,oBAAL,CAA0BlC,OAA1B;;AAEA,UAAKoB,OAAL,GAAe,IAAI3C,OAAJ,CAAY,UAACF,OAAD,EAAUL,MAAV,EAAqB;AAC5C4B,eAAME,OAAN,EACKnD,IADL,CACU;AAAA,oBAAY,MAAKsF,mBAAL,CAAyB/M,QAAzB,CAAZ;AAAA,UADV,EAEKyH,IAFL,CAEU;AAAA,oBAAY,MAAKuF,wBAAL,CAA8BhN,QAA9B,CAAZ;AAAA,UAFV,EAGKgK,KAHL,CAGW;AAAA,oBAAY,MAAKiD,aAAL,CAAmBjN,QAAnB,CAAZ;AAAA,UAHX,EAIKyH,IAJL,CAIU0B,OAJV,EAKKa,KALL,CAKWlB,MALX;;AAOA,aAAIgD,qBAAqB1N,OAAzB,EAAkC;AAC9B,mBAAK8O,WAAL,CAAiBpE,MAAjB;AACH;AACJ,MAXc,CAAf;AAYH;;AAED;;;;;;AAMAiD,OAAMtO,SAAN,CAAgBqP,oBAAhB,GAAuC,UAAUlC,OAAV,EAAmB;AACtDY,kBAAalO,OAAb,CAAqB;AAAA,gBAAeiP,YAAY3B,OAAZ,CAAf;AAAA,MAArB;AACH,EAFD;;AAIA;;;;;;;;;;;AAWAmB,OAAMtO,SAAN,CAAgBoP,YAAhB,GAA+B,UAAUJ,IAAV,EAAgB;AAAA,SACpCzO,IADoC,GAC5ByO,IAD4B,CACpCzO,IADoC;;;AAG3C,SAAIA,SAAS,IAAT,IAAiBA,SAASmD,SAA9B,EAAyC;AACrC;AACH;;AAED,SAAIgM,8BAA8BnP,IAA9B,CAAJ,EAAyC;AACrC,aAAI;AACAyO,kBAAKzO,IAAL,GAAYoD,KAAKC,SAAL,CAAerD,IAAf,CAAZ;AACAyO,kBAAK3N,OAAL,CAAasM,YAAb,IAA6BC,gBAA7B;AACH,UAHD,CAGE,OAAOtT,CAAP,EAAU;AACR;AACH;AACJ;AACJ,EAfD;;AAiBA;;;;;;;AAOAgU,OAAMtO,SAAN,CAAgByP,WAAhB,GAA8B,UAAUpE,MAAV,EAAkB;AAAA;;AAAA,SACrC1K,OADqC,GAC1B,KAAK0N,oBADqB,CACrC1N,OADqC;;;AAG5C,UAAKgP,cAAL,GAAsBC,WAAW,YAAM;AACnC,gBAAKX,iBAAL,GAAyB,IAAzB;AACA5D,gBAAO,OAAKwE,SAAL;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,mCAAqClP,OAArC,SAAP;AACH,MAHqB,EAGnBA,OAHmB,CAAtB;AAIH,EAPD;;AASA;;;;;;;AAOA2N,OAAMtO,SAAN,CAAgBsP,mBAAhB,GAAsC,UAAU/M,QAAV,EAAoB;AACtD,SAAI,KAAK0M,iBAAT,EAA4B;AACxB,gBAAOrD,QAAQP,MAAR,EAAP;AACH;;AAEDyE,kBAAa,KAAKH,cAAlB;AACA;AACA;AACA,YAAO,KAAKI,YAAL,CAAkBxN,QAAlB,CAAP;AACH,EATD;;AAWA;;;;;;;AAOA+L,OAAMtO,SAAN,CAAgBwP,aAAhB,GAAgC,UAAUjN,QAAV,EAAoB;AAChDuN,kBAAa,KAAKH,cAAlB;;AAEA,SAAIpN,oBAAoByN,QAAxB,EAAkC;AAC9B,gBAAO,KAAKC,WAAL,CAAiB1N,QAAjB,EACFyH,IADE,CACG;AAAA,oBAAO4B,QAAQP,MAAR,CAAexJ,GAAf,CAAP;AAAA,UADH,CAAP;AAEH,MAHD,MAGO;AACH,gBAAO+J,QAAQP,MAAR,CAAe9I,QAAf,CAAP;AACH;AACJ,EATD;;AAWA;;;;;;;AAOA+L,OAAMtO,SAAN,CAAgBiQ,WAAhB,GAA8B,UAAU1N,QAAV,EAAoB;AAC9C,SAAI2N,cAAc3N,SAASlB,OAAvB,EAAgCuM,gBAAhC,CAAJ,EAAuD;AACnD,gBAAOrL,SAASyB,IAAT,EAAP;AACH,MAFD,MAEO;AACH,gBAAOzB,SAASZ,IAAT,EAAP;AACH;AACJ,EAND;;AAQA;;;;;AAKA2M,OAAMtO,SAAN,CAAgB6P,SAAhB,GAA4B,UAAUhO,GAAV,EAAe;AACvC,SAAI,KAAKwM,oBAAL,CAA0BtM,QAA9B,EAAwC;AACpC7G,gBAAO8G,KAAP,CAAaH,GAAb;AACH;;AAED,YAAOA,GAAP;AACH,EAND;;AAQA;;;;;;;;AAQAyM,OAAMtO,SAAN,CAAgB+P,YAAhB,GAA+B,UAAUxN,QAAV,EAAoB;AAC/C,SAAIpD,SAASgD,OAAT,CAAiBI,SAASF,MAA1B,CAAJ,EAAuC;AACnC,gBAAOuJ,QAAQP,MAAR,CAAe9I,QAAf,CAAP;AACH;;AAED,YAAOqJ,QAAQF,OAAR,CAAgBnJ,QAAhB,CAAP;AACH,EAND;;AAQA;;;;;;;;AAQA+L,OAAMtO,SAAN,CAAgBuP,wBAAhB,GAA2C,UAAUhN,QAAV,EAAoB;AAAA,SACtD1B,YADsD,GACtC,KAAKwN,oBADiC,CACtDxN,YADsD;;;AAG3D,SAAIyM,QAAQzM,YAAR,CAAJ,EAA2B;AACvB,gBAAO0B,SAASZ,IAAT,EAAP;AACH;;AAED,aAAQd,aAAasP,iBAAb,EAAR;AACI,cAAK,KAAL;AACI,oBAAO5N,QAAP;AACJ,cAAK,MAAL;AACI,oBAAOA,SAAS4B,IAAT,EAAP;AACJ,cAAK,MAAL;AACI,oBAAO5B,SAASyB,IAAT,EAAP;AACJ,cAAK,aAAL;AACI,oBAAOzB,SAAS6N,WAAT,EAAP;AACJ,cAAK,KAAL;AACI,oBAAO7N,SAASZ,IAAT,GACFqI,IADE,CACG;AAAA,wBAAU7M,IAAI+G,UAAJ,CAAemM,MAAf,CAAV;AAAA,cADH,CAAP;AAEJ;AACI,oBAAO9N,SAASZ,IAAT,EAAP;AAbR;AAeH,EAtBD;;AAwBA;;;;;AAKA,UAASuO,aAAT,CAAuB7O,OAAvB,EAAgCmG,IAAhC,EAAsC;AAClC,SAAM8I,cAAcjP,QAAQmK,GAAR,CAAYmC,YAAZ,CAApB;;AAEA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAO2C,WAAP,EAAuB9I,IAAvB;AACH;;AAED;;;;;;AAMA,UAAS2G,YAAT,CAAsBvQ,OAAtB,EAA+B;AAC3B,SAAMwQ,eAAeX,KAAK7P,OAAL,EAAciQ,OAAd,CAArB;AACA,SAAMQ,uBAAuBZ,KAAK7P,OAAL,EAAckQ,qBAAd,CAA7B;;AAEA,YAAO,CAACM,YAAD,EAAeC,oBAAf,CAAP;AACH;;AAED;;;;;;AAMA,UAASqB,6BAAT,CAAuCa,GAAvC,EAA4C;AACxC,SAAIhD,SAASgD,GAAT,CAAJ,EAAmB;AACf,gBAAO,KAAP;AACH;;AAED,SAAIA,eAAeC,IAAnB,EAAyB;AACrB,gBAAO,KAAP;AACH;;AAED,SAAID,eAAeE,QAAnB,EAA6B;AACzB,gBAAO,KAAP;AACH;;AAED,YAAOjD,SAAS+C,GAAT,CAAP;AACH;;AAED;;;;;;;;AAQA,UAAS/B,eAAT,CAAyB1O,IAAzB,EAA+B4Q,YAA/B,EAA6CC,IAA7C,EAAmD;AAC/CA,UAAK7Q,IAAL,IAAa,YAAY;AACrB,aAAMwD,OAAOoN,aAAaE,KAAb,CAAmB,IAAnB,EAAyBrN,SAAzB,CAAb;AACA,gBAAOoN,KAAKC,KAAL,CAAW,IAAX,EAAiBtN,IAAjB,CAAP;AACH,MAHD;AAIH;;AAED;;;;;;;AAOA,UAASsL,gBAAT,CAA0BxR,GAA1B,EAA6C;AAAA,SAAdQ,OAAc,uEAAJ,EAAI;;AACzC,YAAO,CAACR,GAAD,EAAMoE,OAAO4L,MAAP,CAAc,EAAd,EAAkBxP,OAAlB,EAA2B,EAACiD,cAAc,MAAf,EAA3B,CAAN,CAAP;AACH;;AAED;;;;;;;AAOA,UAAS6N,gBAAT,CAA0BtR,GAA1B,EAA6C;AAAA,SAAdQ,OAAc,uEAAJ,EAAI;;AACzC,YAAO,CAACR,GAAD,EAAMoE,OAAO4L,MAAP,CAAc,EAAd,EAAkBxP,OAAlB,EAA2B,EAACiD,cAAc,MAAf,EAA3B,CAAN,CAAP;AACH;;AAED;;;;;;;AAOA,UAAS4N,gBAAT,CAA0BrR,GAA1B,EAA6C;AAAA,SAAdQ,OAAc,uEAAJ,EAAI;;AACzC,YAAO,CAACR,GAAD,EAAMoE,OAAO4L,MAAP,CAAc,EAAd,EAAkBxP,OAAlB,EAA2B,EAAC0C,QAAQ,MAAT,EAA3B,CAAN,CAAP;AACH,E;;;;;;ACtaD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,oBAAoB;AAC/B,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9CA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,8BAA8B;AACzC;AACA;AACA,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA,kBAAiB;AACjB;AACA;AACA,WAAU;AACV;AACA;AACA,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;ACzCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,QAAQ;AACnB,YAAW,QAAQ;AACnB,YAAW,MAAM;AACjB,cAAa,MAAM;AACnB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxCA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,EAAE;AACb,YAAW,OAAO;AAClB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,EAAE;AACf;AACA;AACA,kBAAiB;A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,GAAR;AA1BK,EAAjB,C;;;;;;ACLA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,UAAU;AACrB,cAAa,OAAO;AACpB;AACA;AACA,gBAAe,mBAAmB,GAAG,YAAY,GAAG,iBAAiB;AACrE,WAAU;AACV;AACA;;AAEA;;;;;;;ACxBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,UAAU;AACrB,YAAW,SAAS;AACpB,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA,cAAa,mBAAmB,GAAG,YAAY,GAAG,iBAAiB;AACnE,WAAU;AACV;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,cAAa,mBAAmB,GAAG,YAAY,GAAG,iBAAiB;AACnE,WAAU;AACV;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;AC1CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClBA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,MAAM;AACjB,YAAW,OAAO,WAAW;AAC7B,cAAa,OAAO;AACpB;AACA;AACA,yBAAwB;;AAExB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;;;;;;;ACxCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,EAAE;AACb,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3BA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,EAAE;AACb,cAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;ACZA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,SAAS;AACpB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;;;;;;;ACrBA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,oBAAoB;AAC/B,YAAW,uBAAuB;AAClC;AACA,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,KAAI;AACJ,WAAU;AACV;AACA;AACA;AACA,KAAI;AACJ,WAAU;AACV;AACA;AACA;AACA,WAAU;AACV;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,EAAC;;AAED;;;;;;;AC1DA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,SAAS;AACpB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;;;;;;;AClCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,EAAE;AACb,YAAW,OAAO;AAClB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,MAAM;AACjB,YAAW,SAAS;AACpB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,EAAE;AACb,YAAW,SAAS;AACpB,YAAW,QAAQ;AACnB,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3BA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,YAAW,SAAS;AACpB,YAAW,QAAQ;AACnB,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACrGA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,YAAW,SAAS;AACpB,YAAW,SAAS;AACpB,YAAW,QAAQ;AACnB,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClDA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,SAAS;AACpB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/CA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,YAAW,SAAS;AACpB,YAAW,QAAQ;AACnB,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,MAAM;AACnB;AACA;AACA,aAAY,2BAA2B;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,EAAE;AACb,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5CA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,MAAM;AACjB,YAAW,OAAO;AAClB,cAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,OAAO;AAClB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,cAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClBA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;ACZA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,aAAa;AACxB,cAAa,SAAS;AACtB;AACA;AACA;AACA,OAAM,OAAO,OAAO,SAAS,EAAE,EAAE;AACjC,OAAM,OAAO,OAAO,SAAS,EAAE;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9BA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,aAAa;AACxB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,oBAAoB;AAC/B,YAAW,SAAS;AACpB,cAAa,oBAAoB;AACjC;AACA;;AAEA;;;;;;;ACdA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;AChBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,QAAQ;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9BA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,SAAS;AACpB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;AC5BA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,cAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtDA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,EAAE;AACb,YAAW,OAAO;AAClB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC1BA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,OAAO;AAClB,YAAW,QAAQ;AACnB,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;AClBA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,cAAa,YAAY;AACzB;AACA;AACA;AACA;;AAEA;;;;;;;;ACpBA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB;AACA;AACA;;AAEA,gBAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;AC5BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;;;;;;;ACnBA;;;;;;;ACAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,oBAAoB;AAC/B,YAAW,SAAS;AACpB,YAAW,EAAE;AACb,cAAa,oBAAoB;AACjC;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,eAAc,iBAAiB;AAC/B;AACA,KAAI;AACJ;AACA;AACA;;AAEA;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,SAAS;AACpB,cAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,SAAS;AACpB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,oBAAoB;AAC/B,YAAW,uBAAuB;AAClC;AACA,YAAW,EAAE;AACb,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,iBAAiB;AAC3B;AACA;AACA;AACA,OAAM,mBAAmB;AACzB,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnEA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,SAAS;AACpB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,oBAAoB;AAC/B,YAAW,SAAS;AACpB,cAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;;;;;;ACtBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,oBAAoB;AAC/B,YAAW,uBAAuB;AAClC,YAAW,EAAE;AACb,cAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM,8BAA8B;AACpC,OAAM;AACN;AACA;AACA;AACA;AACA,KAAI;AACJ,WAAU;AACV;AACA;AACA;AACA,WAAU;AACV;AACA;;AAEA;;;;;;;ACvDA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,EAAE;AACb,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChCA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,SAAS;AACpB,YAAW,SAAS;AACpB,YAAW,EAAE;AACb,cAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,oBAAoB;AAC/B,YAAW,SAAS;AACpB,YAAW,SAAS;AACpB,YAAW,EAAE;AACb,cAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;;;;;;AC5BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxBA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,QAAQ;AACnB;AACA,YAAW,OAAO;AAClB;AACA,YAAW,QAAQ;AACnB;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B,kCAAkC;AAC5D;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpLA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACvBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,aAAY,OAAO;AACnB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9CA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;ACtBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,cAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,EAAC;;AAED;;;;;;;AC/BA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnCA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,QAAQ;AACnB;AACA,YAAW,QAAQ;AACnB;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,gCAA+B,6DAA6D;AAC5F;;AAEA;;;;;;;AC7DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,oBAAoB;AAC/B,YAAW,aAAa;AACxB,cAAa,MAAM;AACnB;AACA;AACA;AACA,OAAM,8BAA8B;AACpC,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,UAAU;AACrB,YAAW,SAAS;AACpB,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA,gBAAe,mBAAmB,GAAG,iBAAiB;AACtD;AACA;AACA;AACA,gBAAe,YAAY,GAAG,YAAY;AAC1C;AACA;AACA;AACA,WAAU,WAAW,8BAA8B,GAAG,4BAA4B;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,WAAU;AACV;AACA;;AAEA;;;;;;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;;;;;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,YAAW,SAAS;AACpB,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;;;;;;;AClEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB,WAAU;AACV;AACA,cAAa,SAAS;AACtB,WAAU;AACV;AACA;AACA;AACA;;AAEA;;;;;;;AC9BA;AACA;;AAEA;AACA;AACA;AACA;AACA,0CAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,SAAS;AACpB,YAAW,EAAE;AACb,cAAa,EAAE;AACf;AACA;AACA;AACA,OAAM,mBAAmB;AACzB,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,QAAQ;AACnB,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,cAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA,2CAA0C;AAC1C;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,+BAA8B;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;;;;;;AC/HA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,cAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,QAAQ;AACnB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9DA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,YAAY;AACvB,cAAa,YAAY;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;ACnBA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,aAAY,OAAO;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,gBAAgB;AAC3B,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrFA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,EAAE;AACb,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChBA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;;;;;;ACRA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,EAAE;AACb,cAAa,SAAS;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACrBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,gBAAgB;AAC3B,YAAW,OAAO;AAClB,YAAW,EAAE;AACb,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC9GA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,aAAa;AACxB,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,aAAa;AACxB,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC1BA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACTA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,cAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxBA;AACA;;AAEA;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAiE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;AC5HA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,QAAQ;AACnB,YAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACpBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,EAAE;AACb,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3BA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,EAAE;AACb,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;ACxCA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,YAAW,EAAE;AACb,YAAW,MAAM;AACjB,cAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC1CA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACxFA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACvCA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;;;;;;;;AC9CA;;;;;;;ACAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,aAAa;AACxB,YAAW,EAAE;AACb,cAAa,EAAE;AACf;AACA;AACA,kBAAiB,QAAQ,OAAO,SAAS,EAAE;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,uBAAuB;AAClC;AACA,YAAW,EAAE;AACb,cAAa,iBAAiB;AAC9B;AACA;AACA;AACA,kBAAiB,4BAA4B;AAC7C,kBAAiB,6BAA6B;AAC9C,kBAAiB;AACjB;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,sBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrDA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,oBAAoB;AAC/B,YAAW,SAAS;AACpB,YAAW,SAAS;AACpB,YAAW,QAAQ;AACnB;AACA,cAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;;;;;;ACxBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,oBAAoB;AAC/B,YAAW,uBAAuB;AAClC;AACA,YAAW,EAAE;AACb,cAAa,EAAE;AACf;AACA;AACA;AACA,OAAM,+CAA+C;AACrD,OAAM,gDAAgD;AACtD,OAAM;AACN;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,4BAA2B,2BAA2B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACvDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,QAAQ;AACnB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,SAAS;AACpB,YAAW,QAAQ;AACnB,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,QAAQ;AACnB,YAAW,uBAAuB;AAClC,YAAW,EAAE;AACb,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,aAAY,SAAS,GAAG,SAAS,GAAG,SAAS;AAC7C,YAAW,SAAS,GAAG,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,SAAS;AACpB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3DA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,SAAS;AACpB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,oBAAoB;AAC/B,YAAW,uBAAuB;AAClC;AACA,YAAW,EAAE;AACb,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,OAAM,8CAA8C;AACpD,OAAM;AACN;AACA;AACA;AACA,6BAA4B,4BAA4B;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5DA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,SAAS;AACpB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxBA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,oBAAoB;AAC/B,YAAW,SAAS;AACpB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;;;;;;ACrBA;;;AAGA;;AAEA,KAAI4f,WAAW,cAAf;AACA,KAAI1c,IAAI,mBAAAlD,CAAQ,EAAR,CAAR;;AAEA;;;;;;;;;;;;;;;;;;;AAmBAmB,SAAQ0e,UAAR,GAAqB,UAAUC,IAAV,EAAgBC,IAAhB,EAAsBtc,OAAtB,EAA+B;AAChD;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAI,OAAOqc,IAAX,EAAoB,QAApB,GAA8B;AAC1B,gBAAOA,IAAP;AACH;;AAED,SAAI,CAACC,IAAD;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAS,OAAOA,IAAhB,EAAyB,QAAzB,CAAJ,EAAuC;AACnC,gBAAOD,IAAP;AACH;;AAEDrc,eAAUP,EAAEsb,QAAF,CAAW,EAAX,EAAe/a,OAAf,EAAwB;AAC9Buc,gBAAOJ,QADuB;AAE9BK,iBAAQ/c,EAAEmO,GAFoB;AAG9B6O,iBAAQ;AAHsB,MAAxB,CAAV;;AAMA,YAAOJ,KAAKrb,OAAL,CAAahB,QAAQuc,KAArB,EAA4B,UAAU5C,KAAV,EAAiB+C,OAAjB,EAA0B;AACzDA,mBAAUA,QAAQC,IAAR,EAAV;AACA,aAAIC,cAAc5c,QAAQwc,MAAR,CAAeF,IAAf,EAAqBI,OAArB,CAAlB;AACA,aAAIE,gBAAgB9W,SAApB,EAA+B;AAC3B,oBAAO6T,KAAP;AACH,UAFD,MAEO;AACH,oBAAO3Z,QAAQyc,MAAR,GAAiBzc,QAAQyc,MAAR,CAAeG,WAAf,CAAjB,GAA+CA,WAAtD;AACH;AACJ,MARM,CAAP;AASH,EAxBD;;AA0BA;;;;;;;;;;AAUAlf,SAAQmf,aAAR,GAAwB,UAAUR,IAAV,EAAgBC,IAAhB,EAAsBtc,OAAtB,EAA+B;AACnDA,eAAUA,WAAW,EAArB;AACAA,aAAQyc,MAAR,GAAiBzc,QAAQyc,MAAR,IAAkBzC,kBAAnC;AACA,YAAOtc,QAAQ0e,UAAR,CAAmBC,IAAnB,EAAyBC,IAAzB,EAA+Btc,OAA/B,CAAP;AACH,EAJD,C;;;;;;AC/DA;;;;AAIA;;AAEA,KAAI8c,WAAW,mBAAAvgB,CAAQ,GAAR,CAAf;AACA,KAAIwgB,SAAS,mBAAAxgB,CAAQ,CAAR,CAAb;AACA,KAAIygB,oBAAoB,mBAAAzgB,CAAQ,GAAR,CAAxB;AACA,KAAI0gB,qBAAqB,mBAAA1gB,CAAQ,GAAR,CAAzB;AACA,KAAI2gB,gBAAgB,mBAAA3gB,CAAQ,GAAR,CAApB;AACA,KAAI4gB,OAAO,mBAAA5gB,CAAQ,GAAR,CAAX;AACA,KAAI6gB,YAAY,mBAAA7gB,CAAQ,GAAR,CAAhB;AACA,KAAI8gB,WAAW,mBAAA9gB,CAAQ,GAAR,CAAf;AACA,KAAI+gB,yBAAyB,mBAAA/gB,CAAQ,GAAR,CAA7B;AACA,KAAIghB,WAAW,mBAAAhhB,CAAQ,GAAR,CAAf;AACA,KAAIihB,SAAS,mBAAAjhB,CAAQ,GAAR,CAAb;AACA,KAAIkhB,aAAa,mBAAAlhB,CAAQ,GAAR,CAAjB;AACA,KAAImhB,WAAW,mBAAAnhB,CAAQ,GAAR,CAAf;AACA,KAAIohB,cAAc,mBAAAphB,CAAQ,GAAR,CAAlB;AACA,KAAIqhB,aAAa,mBAAArhB,CAAQ,GAAR,CAAjB;AACA,KAAIshB,oBAAoB,mBAAAthB,CAAQ,GAAR,CAAxB;AACA,KAAIuhB,YAAY,mBAAAvhB,CAAQ,GAAR,CAAhB;AACA,KAAIwhB,SAAS,mBAAAxhB,CAAQ,GAAR,CAAb;AACA,KAAIyhB,eAAe,mBAAAzhB,CAAQ,GAAR,CAAnB;AACA,KAAI0hB,gBAAgB,mBAAA1hB,CAAQ,GAAR,CAApB;AACA,KAAI2hB,SAAS,mBAAA3hB,CAAQ,GAAR,CAAb;AACA,KAAIkF,gBAAgB,mBAAAlF,CAAQ,EAAR,CAApB;AACA,KAAI6H,QAAQ,mBAAA7H,CAAQ,GAAR,CAAZ;AACA,KAAIiY,YAAY,mBAAAjY,CAAQ,EAAR,CAAhB;AACA,KAAI4hB,gBAAgB,mBAAA5hB,CAAQ,EAAR,CAApB;AACA,KAAI6hB,eAAe,mBAAA7hB,CAAQ,GAAR,CAAnB;AACA,KAAImD,cAAc,mBAAAnD,CAAQ,EAAR,CAAlB;AACA,KAAI8hB,OAAO,mBAAA9hB,CAAQ,GAAR,CAAX;AACA,KAAI+hB,YAAY,mBAAA/hB,CAAQ,GAAR,CAAhB;AACA,KAAIgiB,YAAY,mBAAAhiB,CAAQ,GAAR,CAAhB;AACA,KAAIiiB,cAAc,mBAAAjiB,CAAQ,GAAR,CAAlB;AACA,KAAIU,WAAW,mBAAAV,CAAQ,GAAR,CAAf;;AAEA,KAAIe,SAAS,mBAAAf,CAAQ,CAAR,EAA8BgB,MAA9B,CAAqC,SAArC,CAAb;;AAEA;AACA,KAAIkhB,gBAAgB,CAChBF,SADgB;AAEhB;AACAC,YAHgB,EAIhBf,UAJgB,EAKhBD,MALgB,EAMhB,mBAAAjhB,CAAQ,GAAR,CANgB,EAOhB,mBAAAA,CAAQ,GAAR,CAPgB,EAQhBohB,WARgB,EAShBG,SATgB,EAUhBZ,aAVgB,EAWhB,mBAAA3gB,CAAQ,GAAR,CAXgB,EAYhB,mBAAAA,CAAQ,GAAR,CAZgB,EAahB,mBAAAA,CAAQ,GAAR,CAbgB,EAchB,mBAAAA,CAAQ,GAAR,CAdgB,EAehByhB,YAfgB,EAgBhBC,aAhBgB,EAiBhB,mBAAA1hB,CAAQ,GAAR,CAjBgB,EAkBhB,mBAAAA,CAAQ,GAAR,CAlBgB,EAmBhB,mBAAAA,CAAQ,GAAR,CAnBgB,EAoBhB2hB,MApBgB,EAqBhBN,UArBgB,EAsBhBG,MAtBgB,EAuBhB,mBAAAxhB,CAAQ,GAAR,CAvBgB,EAwBhB,mBAAAA,CAAQ,GAAR,CAxBgB,EAyBhB,mBAAAA,CAAQ,GAAR,CAzBgB,EA0BhB,mBAAAA,CAAQ,GAAR,CA1BgB,EA2BhB,mBAAAA,CAAQ,GAAR,CA3BgB,EA4BhB,mBAAAA,CAAQ,GAAR,CA5BgB,EA6BhB,mBAAAA,CAAQ,GAAR,CA7BgB,CAApB;;AAgCA;AACAuL,QAAO4W,KAAP,GAAe,mBAAAniB,CAAQ,GAAR,EAA0BoiB,OAAzC;;AAEA;;;;;;AAMAjhB,SAAQK,OAAR,GAAkB,YAAY;AAC1B;AACAwgB,eAAUxgB,OAAV;;AAEA;AACA6gB;;AAEA;AACAxa,WAAMya,MAAN,CAAa/W,MAAb;AACH,EATD;;AAWA;;;;;;;;AAQApK,SAAQM,QAAR,GAAmB,UAAUL,QAAV,EAAoB;AACnCmf,cAASgC,MAAT,CAAgB,CACZV,aAAahN,IAAb,CAAkBjP,IAAlB,CAAuBic,YAAvB,CADY,EAEZb,SAAS3a,IAAT,CAAcT,IAAd,CAAmBob,QAAnB,CAFY,EAGZF,SAAS0B,IAAT,CAAc5c,IAAd,CAAmBkb,QAAnB,CAHY,EAIZC,uBAAuBlM,IAAvB,CAA4BjP,IAA5B,CAAiCmb,sBAAjC,CAJY,EAKZI,SAAStM,IAAT,CAAcjP,IAAd,CAAmBub,QAAnB,CALY,CAAhB,EAMG,UAAU7a,GAAV,EAAe;AACd,aAAIA,GAAJ,EAAS;AACLvF,oBAAO8G,KAAP,CAAa,oCAAb,EAAmDvB,IAAIjG,OAAvD;AACH;;AAED,aAAI;AACAihB,+BAAkB,EAACmB,SAAS,KAAV,EAAlB;AACAnB,+BAAkB,EAACoB,gBAAgB,IAAjB,EAAlB;AACApB,+BAAkB,EAACqB,eAAe,IAAhB,EAAlB;AACAb,kBAAKjN,IAAL,CAAUsM,SAASpB,IAAT,CAAc6C,aAAxB;AACH,UALD,CAKE,OAAOtc,GAAP,EAAY;AACVvF,oBAAO8G,KAAP,CAAa,yCAAb,EAAwDvB,IAAIjG,OAA5D;AACH,UAPD,SAOU;AACNe;AACH;AACJ,MArBD;AAsBH,EAvBD;;AAyBA;;;AAGAD,SAAQY,UAAR,GAAqB,YAAY;AAC7BmgB,mBAAcxc,OAAd,CAAsB,UAAUnD,MAAV,EAAkB;AACpC,aAAIA,OAAOsS,IAAX,EAAiB;AACbtS,oBAAOsS,IAAP;AACH,UAFD,MAEO;AACH,mBAAM,IAAI/M,KAAJ,CAAU5C,cAAc,gCAAd,EAAgD3C,MAAhD,CAAV,CAAN;AACH;AACJ,MAND;;AAQA+e,uBAAkB,EAACuB,yBAAyB,IAA1B,EAAlB;AACAvB,uBAAkB,EAACwB,YAAY,MAAb,EAAlB;AACAxB,uBAAkB,EAACyB,UAAU,MAAX,EAAlB;AACAzB,uBAAkB,EAAC0B,UAAU,MAAX,EAAlB;AACH,EAbD;;AAeA;;;;AAIA7hB,SAAQa,QAAR,GAAmB,UAAUZ,QAAV,EAAoB;AACnC;AACAof,YAAOyC,WAAP;;AAEA;AACAxC,uBAAkBlgB,GAAlB;AACAmgB,wBAAmBwC,OAAnB;;AAEA;;AAEA;AACA;AACAtC,UAAK/L,IAAL;;AAEA;AACA2L,YAAO2C,MAAP;;AAEA;AACAxC,mBAAczO,GAAd;;AAEA;AACA2O,eAAUuC,KAAV;;AAEA;AACA1iB,cAAS2iB,QAAT;;AAEAjiB;AACH,EA3BD;;AA6BA,UAASihB,SAAT,GAAqB;AACjBthB,YAAOsB,IAAP,CAAY,kEAAZ;AACAtB,YAAOsB,IAAP,CAAY,gBAAZ,EAA8Bc,YAAYwC,IAA1C,EAAgDxC,YAAYmgB,OAA5D;AACAviB,YAAOsB,IAAP,CAAY,uBAAZ,EACIuf,cAActQ,EADlB,EAEI2G,UAAUmE,UAAV,EAFJ,EAGInE,UAAUsL,WAAV,EAHJ,EAII,CAACtL,UAAUuL,OAAV,EAAD,GAAuB,MAAvB,GAAgC,KAJpC;AAMAziB,YAAOsB,IAAP,CAAY,+BAAZ,EACI0f,UAAUuB,OADd,EAEIvB,UAAU0B,GAAV,CAAcC,WAFlB,EAGI3B,UAAU0B,GAAV,CAAcE,GAHlB,EAII5B,UAAU0B,GAAV,CAAcG,OAAd,GAAwB,MAAxB,GAAiC,KAJrC;AAMH,E;;;;;;iECjMD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,oDAAmD,UAAU,EAAE;AAC/D;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA,wBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,gBAAgB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA8B,oBAAoB;AAClD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA,cAAa;AACb;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA,UAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,mCAAkC,uBAAuB;AACzD;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb,UAAS;AACT;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC,6BAA6B;AACjE;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;;AAEA,UAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;;;AAIA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,+DAA8D,yBAAyB;AACvF,sBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA,UAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;;AAErB;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;;AAErB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA,0CAAyC,QAAQ;AACjD;AACA;AACA;AACA;AACA,gCAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,wCAAuC;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uC;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAiD,OAAO;AACxD;AACA;AACA,kBAAiB;AACjB;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA,kBAAiB;AACjB,cAAa;AACb;AACA;AACA,cAAa;AACb,UAAS;AACT;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB,kBAAiB;AACjB;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,UAAS;AACT;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB,cAAa;AACb;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA,EAAC;;;;;;;;AChvCD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;;;;;;ACpDA;AACA;;AAEA;AACA;AACA;;AAEA,wBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2CAA0C,sBAAsB,EAAE;AAClE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WAAU;AACV;AACA;;AAEA,MAAK;AACL;AACA;;AAEA,MAAK;AACL;AACA;;AAEA,MAAK;AACL;AACA;;AAEA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,EAAC;;;;;;;;ACzLD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA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Acz7B,MAAd,KAAwBu7B,UAAUv7B,MAAV,GAAmBs7B,QAA/C,EAAyD;AACvDxpB,uBAAUspB,mBAAmB/oB,KAAnB,CAAyB,IAAzB,EAA+BkpB,SAA/B,CAAV;AACAA,uBAAUv7B,MAAV,GAAmB,CAAnB;AACD;AACF;AACD,gBAAO8R,MAAP;AACD,QApCD;AAqCA,WAAI7O,OAAOqxB,cAAX,EAA2B;AACzBrxB,gBAAOqxB,cAAP,CAAsBhvB,MAAtB,EAA8B,eAA9B,EAA+C;AAC7CiD,kBAAO+xB,aADsC;AAE7C5F,yBAAc,IAF+B;AAG7CT,qBAAU;AAHmC,UAA/C;AAKD,QAND,MAMO;AACL3uB,gBAAOg1B,aAAP,GAAuBA,aAAvB;AACD;AACF,MAjDA,GAAD;AAkDD;AACF,EAniDA,EAmiDE;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,UAAOv9B,OAAP,EAAmB,WAAnB,IAAiC,UAAKsyB,GAAL,GAAW,EAA5C,GAAiDtyB,OAniDnD,E;;;;;;;ACAD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAqB,mDAAmD;AACxE;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,wCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;AACA,cAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iDAAgD,EAAE;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAAyC;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAwB,eAAe;AACvC;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,yBAAwB,QAAQ;AAChC;AACA,sBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,sBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,oBAAmB,cAAc;AACjC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD,OAAO;AAC9D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD,OAAO;AAC9D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,sBAAqB,QAAQ;AAC7B;AACA;AACA,IAAG;AACH;AACA,gBAAe,SAAS;AACxB;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,oBAAmB,SAAS;AAC5B;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAiB,YAAY;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,gBAAgB;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;AC5vDA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mCAAkC,SAAS;AAC3C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2CAA0C,UAAU;AACpD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;ACjHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAQ,WAAW;;AAEnB;AACA;AACA;AACA,SAAQ,WAAW;;AAEnB;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA,SAAQ,WAAW;;AAEnB;AACA;AACA,SAAQ,UAAU;;AAElB;AACA;;;;;;;ACnFA,kBAAiB;;AAEjB;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;;;;;AC9HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,gBAAe,SAAS;AACxB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,IAAG;AACH,qBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;AC7SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,4EAA2E,6EAA6E;AACxJ;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA,mGAAkG;AAClG,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA,6FAA4F;AAC5F,UAAS;AACT;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iDAAgD;;AAEhD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA4E;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,8DAA6D;AAC7D;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uCAAsC;;AAEtC;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA2D;AAC3D;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gDAA+C;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAoB;;AAEpB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAmB,SAAS;AAC5B;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA,6EAA4E;;AAE5E;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA,kBAAiB,yBAAyB;AAC1C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oDAAmD;AACnD;AACA,oDAAmD,iEAAiE;AACpH;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAsC;AACtC;AACA;AACA;AACA;AACA,wCAAuC;AACvC,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC;AACvC,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAgC,OAAO;AACvC;AACA;AACA;;AAEA;AACA,iCAAgC,OAAO;AACvC;AACA;AACA;AACA,E;;;;;;;AC9+BA;;AAEA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;;;;;;;AC1CA;;;;;;;ACAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;;;;;;AC1GA,gB;;;;;;ACAA;;AAEA;;AAEA,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,kBAAiB;AACjB,iDAAgD;AAChD;AACA;AACA;;AAEA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yDAAwD;AACxD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC,G;;;;;;ACzED;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,G;;;;;;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iCAAgC,OAAO;AACvC;AACA;AACA,E;;;;;;AC3HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL,IAAG;AACH,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH,EAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kCAAiC;;AAEjC;;AAEA,4CAA2C;AAC3C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oDAAmD;AACnD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,qDAAoD;AACpD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6CAA4C;AAC5C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA,G;;;;;;;;ACtpBA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,cAAa,SAAS;AACtB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;;;;;;;AClEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8BAA6B,sCAAsC,sCAAsC;AACzG;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,E;;;;;;AC/QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA0C,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK,EAAE;AACP,IAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,E;;;;;;ACrNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,G;;;;;;AC9CA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAQ,OAAO;AACf;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;AC5NA;;;;;;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EAFI,CAAP;AAGH,E;;;;;;AC9CD;;AAEA;AACA;AACA,EAAC;;AAED,uCAAsC,uCAAuC,kBAAkB;;AAE/F;;AAEA;;AAEA;;AAEA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WAAU;AACV;AACA;AACA,qC;;;;;;;ACnCA;;AAEA;AACA;AACA,EAAC;AACD;;AAEA,uCAAsC,uCAAuC,kBAAkB;;AAE/F;;AAEA;;AAEA;;AAEA;;AAEA;AACA,YAAW,SAAS;AACpB,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA,MAAK,IAAI;AACT;;AAEA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,cAAc;AACzB,YAAW,cAAc;AACzB,YAAW,SAAS;AACpB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,qC;;;;;;ACzDA;;AAEA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,qC;;;;;;ACzLA;;AAEA;AACA;AACA,EAAC;AACD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,cAAc;AACzB,YAAW,SAAS;AACpB,cAAa;AACb;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,cAAc;AACzB,YAAW,SAAS;AACpB,cAAa;AACb;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa;AACb;AACA;AACA;;AAEA;AACA,wEAAuE,aAAa;AACpF;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,SAAS;AACpB,YAAW,EAAE;AACb,cAAa;AACb;AACA;AACA;AACA,2EAA0E,eAAe;AACzF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa;AACb;AACA;AACA;AACA,2EAA0E,eAAe;AACzF;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,EAAE;AACb,YAAW,MAAM;AACjB,cAAa;AACb;AACA;AACA;AACA,E;;;;;;;ACjLA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa;AACb;AACA;;AAEA;AACA;AACA,EAAC;AACD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,oBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa;AACb;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,cAAc;AACzB,cAAa;AACb;AACA;AACA;AACA,6EAA4E;AAC5E;AACA;AACA;AACA,E;;;;;;ACzDA;;;;;;AAEA,KAAI5O,SAAS,mBAAAf,CAAQ,CAAR,EAA2BgB,MAA3B,CAAkC,eAAlC,CAAb;AACA,KAAIiX,YAAY,mBAAAjY,CAAQ,EAAR,CAAhB;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ACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,oCAAmC,uBAAuB;AAC1D,mCAAkC,sBAAsB;AACxD,iCAAgC,oBAAoB;AACpD,kCAAiC,qBAAqB;AACtD,iCAAgC,gBAAgB;AAChD,kCAAiC;AACjC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,gCAA+B,oBAAoB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,cAAa;AACb;AACA;;AAEA;;AAEA;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,qBAAoB;AACpB,wBAAuB;AACvB,0BAAyB;AACzB,yBAAwB;AACxB,2BAA0B;AAC1B,0BAAyB;AACzB,0BAAyB;;AAEzB;AACA;AACA;;AAEA;AACA;AACA,yBAAwB,eAAe;AACvC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;ACzTA;;;;;AAKA;;AAEA,KAAI5qC,WAAW,mBAAA9gB,CAAQ,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,EAAiC;AAC7B,aAAI4pD,cAAc,KAAKltC,UAAL,CAAgB1c,CAAhB,CAAlB;AACA,aAAIqmD,UAAU3pC,WAAW1c,CAAX,CAAd;;AAEA,aAAI4pD,eAAevD,OAAf,IAA0B,CAACsD,UAAUC,WAAV,EAAuBvD,OAAvB,CAA/B,EAAgE;AAC5D30C,oBAAO+nC,OAAP,CAAe55C,IAAf,CAAoBG,CAApB;AACH;;AAED,aAAI,CAAC4pD,WAAD,IAAgBvD,OAApB,EAA6B;AACzB30C,oBAAO42C,KAAP,CAAazoD,IAAb,CAAkBG,CAAlB;AACH;;AAED,aAAI4pD,eAAe,CAACvD,OAApB,EAA6B;AACzB30C,oBAAO62C,OAAP,CAAe1oD,IAAf,CAAoBG,CAApB;AACH;AACJ;;AAED,UAAK0c,UAAL,GAAkBA,WAAW7X,KAAX,EAAlB;;AAEA,YAAO6M,MAAP;AACH,EAjCD;;AAmCA3T,QAAOpB,OAAP,GAAiBkrD,MAAjB,C;;;;;;ACpDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,IAAG;AACH;;AAEA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG,YAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,QAAQ;AACjC;AACA;AACA;AACA;AACA;AACA,0BAAyB,QAAQ;AACjC;AACA;AACA;AACA;AACA;;;;;;;AC7FA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACRA;AACA;AACA,EAAC;;AAED;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACnB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ACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA,qDAAoD,iBAAiB;AACrE;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,cAAa;;AAEb;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA,iEAAgE,qCAAqC;AACrG;;AAEA;AACA,cAAa;AACb;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,cAAa;;AAEb;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA,uDAAsD,qDAAqD;AAC3G;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa;;AAEb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa;AACb;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,cAAa;AACb;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,6DAA4D,QAAQ,eAAe,EAAE;;AAErF;;AAEA;AACA,qEAAoE,QAAQ,gBAAgB,EAAE;AAC9F;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,cAAa;AACb;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,IAAI;AACvB,oBAAmB,EAAE;AACrB;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA,+FAA8F,aAAa;AAC3G;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA,EAAC;;AAED;AACA,qC;;;;;;AClkBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB,qBAAoB,EAAE;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,qBAAoB,cAAc;AAClC;AACA;AACA;AACA,UAAS;;AAET;AACA,qBAAoB,QAAQ;AAC5B;AACA;AACA;AACA,UAAS;;AAET;AACA,qBAAoB,QAAQ;AAC5B;AACA;AACA;AACA,UAAS;;AAET;AACA,qBAAoB,SAAS;AAC7B;AACA;AACA;AACA,UAAS;;AAET;AACA,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA,gEAA+D,GAAG,wCAAwC,GAAG;AAC7G;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,SAAS;AAC5B,oBAAmB,QAAQ;AAC3B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,qBAAoB;AACpB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAS;;AAET;AACA,oBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA,iBAAgB,KAAK,EAAE;AACvB;AACA,UAAS;;AAET;AACA,oBAAmB,SAAS;AAC5B,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA,oBAAmB,SAAS;AAC5B,oBAAmB,OAAO;AAC1B,qBAAoB,QAAQ;AAC5B;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA,oBAAmB,SAAS;AAC5B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,qBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA,oBAAmB,SAAS;AAC5B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,qBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA,oBAAmB,SAAS;AAC5B,oBAAmB,OAAO;AAC1B,qBAAoB,SAAS;AAC7B;AACA;AACA;;AAEA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;AACA,UAAS;;AAET;AACA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AkC,0BAA0B,0CAA0C,gBAAgB,uBAAuB,aAAa,EAAE,OAAO,wBAAwB,EAAE;;AAE7L,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;;AAEA;AACA,4EAA2E;;AAE3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA,EAAC;;AAED,iC;;;;;;ACvSA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,SAAS;AACxB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qCAAoC,EAAE;AACtC,mBAAkB;AAClB;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,oCAAmC;AACnC;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,qBAAoB,SAAS;AAC7B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACrLA;;AAEA,+CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,QAAQ;AAC9B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAC;;AAED,kCAAiC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEljB,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA,EAAC;;AAED;AACA,qC;;;;;;ACvDA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,EAAC;;AAED,kCAAiC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEljB,uCAAsC,uCAAuC,kBAAkB;;AAE/F,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;;AAEA;;AAEA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,SAAS;AAC5B,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,SAAS;AAC5B,sBAAqB;AACrB;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oBAAmB,cAAc;AACjC,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAmB,mBAAmB;AACtC,sBAAqB,QAAQ;AAC7B;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,cAAa;;AAEb;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,YAAY;AAC/B,sBAAqB,iBAAiB;AACtC;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;;AAEA;AACA;AACA,cAAa;;AAEb;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,cAAc;AACjC,oBAAmB,OAAO;AAC1B,uBAAsB;AACtB;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,oBAAoB;AACvC,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA,cAAa;;AAEb;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,WAAW;AAC9B,qBAAoB;AACpB;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,WAAW;AAC9B,qBAAoB;AACpB;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,WAAW;AAC9B;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,aAAa;AAChC;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA,EAAC;;AAED;AACA,qC;;;;;;mCClSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4CAA2C;AAC3C;AACA,4DAA2D;;AAE3D;AACA,oDAAmD;AACnD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,+CAA8C;AAC9C;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,2BAA0B,MAAM,aAAa,OAAO;;AAEpD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe;AACf,eAAc;AACd,eAAc;AACd,iBAAgB;AAChB,gBAAe;AACf,gBAAe;AACf;;AAEA;AACA;AACA,WAAU;AACV,UAAS;AACT,UAAS;AACT,YAAW;AACX,WAAU;AACV,WAAU;AACV;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,EAAE;AACf,cAAa,EAAE;AACf,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,MAAM;AACnB,cAAa,SAAS;AACtB,cAAa,QAAQ;AACrB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,MAAM;AACnB,cAAa,EAAE;AACf,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,EAAE;AACf,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,EAAE;AACf,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,UAAU;AACvB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,MAAM;AACnB,cAAa,OAAO;AACpB,cAAa,QAAQ;AACrB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,EAAE;AACf,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,MAAM;AACnB,cAAa,EAAE;AACf,gBAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,MAAM;AACnB,cAAa,SAAS;AACtB,gBAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,SAAS;AACxB;AACA;AACA,eAAc,2BAA2B;AACzC;AACA;AACA,oBAAmB,gCAAgC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,OAAM;AACN;AACA;AACA,kCAAiC,6BAA6B;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gEAA+D;AAC/D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,QAAQ;AACvB,gBAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW;AACX;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB;AACA;AACA;;AAEA,oBAAmB;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,QAAQ;AACvB;AACA,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,QAAQ;AACvB;AACA,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,kBAAkB;AACjC,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB,gBAAe,OAAO,WAAW;AACjC,kBAAiB,OAAO;AACxB;AACA;AACA,6BAA4B;;AAE5B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,QAAQ;AACvB,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA,+CAA8C;AAC9C;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,qCAAoC,6BAA6B,EAAE;AACnE;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,kBAAiB,oBAAoB;AACrC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,kBAAiB,oBAAoB;AACrC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB;AACA,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,QAAQ;AACvB,gBAAe,QAAQ;AACvB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,EAAE;AACjB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,QAAQ;AACvB;AACA,gBAAe,SAAS;AACxB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,6BAA6B;AAC5C,gBAAe,UAAU;AACzB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA,2DAA0D,2BAA2B,EAAE;;AAEvF;AACA,gEAA+D,wBAAwB,EAAE;AACzF,iBAAgB;AAChB,QAAO;;AAEP;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,gBAAe,QAAQ;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,MAAM;AACrB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,QAAQ;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,YAAY;AAC3B,kBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,SAAS;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,gBAAe,EAAE;AACjB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,gBAAe,EAAE;AACjB,gBAAe,MAAM;AACrB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,EAAE;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,2CAA0C;AAC1C,yCAAwC;AACxC,gEAA+D;AAC/D,kEAAiE;AACjE;AACA;AACA,eAAc;AACd;;AAEA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,MAAM;AACrB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,oCAAoC;AAC9C,WAAU,qCAAqC;AAC/C,WAAU;AACV;AACA;AACA;AACA,yCAAwC,qCAAqC;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,qCAAqC;AAC/C,WAAU,qCAAqC;AAC/C,WAAU;AACV;AACA;AACA;AACA,oCAAmC,oCAAoC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,WAAU,qCAAqC;AAC/C,WAAU,qCAAqC;AAC/C,WAAU;AACV;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,4BAA2B,kCAAkC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,WAAU,oCAAoC;AAC9C,WAAU,qCAAqC;AAC/C,WAAU;AACV;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,gCAA+B,mCAAmC;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,QAAQ;AACvB,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,eAAe;AAC9B;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,eAAe;AAC9B;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,KAAK;AACpB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,qBAAqB;AACpC;AACA,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,UAAU,yCAAyC;AACtE;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,wBAAuB,UAAU,GAAG,UAAU,IAAI,UAAU;AAC5D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,oCAAoC;AAC9C,WAAU,qCAAqC;AAC/C,WAAU;AACV;AACA;AACA;AACA,yCAAwC,qCAAqC;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,qCAAqC;AAC/C,WAAU,oCAAoC;AAC9C,WAAU;AACV;AACA;AACA;AACA,oCAAmC,oCAAoC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,QAAQ;AACvB,gBAAe,uBAAuB;AACtC,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,iBAAgB,SAAS,GAAG,SAAS,GAAG,SAAS;AACjD,gBAAe,SAAS,GAAG,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,KAAK;AACpB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,eAAc;AACd;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,WAAU,+BAA+B;AACzC,WAAU,+BAA+B;AACzC,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,WAAU,8BAA8B;AACxC,WAAU;AACV;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC,4DAA4D;AAC9F;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,qCAAqC;AACpD;AACA,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA,eAAc;AACd;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,oCAAoC;AAC9C,WAAU;AACV;AACA;AACA;AACA,wBAAuB,oCAAoC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,8CAA8C;AACxD,WAAU;AACV;AACA;AACA;AACA,iCAAgC,4BAA4B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA,WAAU,+CAA+C;AACzD,WAAU,gDAAgD;AAC1D,WAAU;AACV;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,gCAA+B,2BAA2B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,OAAO;AACtB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA,WAAU,8CAA8C;AACxD,WAAU;AACV;AACA;AACA,qCAAoC,4BAA4B;AAChE;AACA;AACA,qCAAoC,6BAA6B;AACjE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA,mBAAkB,iBAAiB;AACnC;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,WAAU,4BAA4B;AACtC,WAAU;AACV;AACA;AACA;AACA,eAAc,UAAU,4BAA4B,YAAY,8BAA8B;AAC9F;AACA;AACA;AACA,SAAQ;AACR,eAAc,OAAO,4BAA4B,QAAQ,8BAA8B;AACvF;AACA;AACA;AACA,SAAQ;AACR,eAAc,OAAO,4BAA4B,QAAQ,8BAA8B;AACvF;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,sBAAsB;AACrC;AACA,gBAAe,KAAK;AACpB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,iBAAiB;AAC/B;AACA;AACA;AACA,WAAU,mBAAmB;AAC7B,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,gDAAgD;AAC1D,WAAU,+CAA+C;AACzD,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,4BAA4B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK,cAAc,iBAAiB,EAAE;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,aAAa;AAC5B,kBAAiB,MAAM;AACvB;AACA;AACA;AACA,WAAU,8BAA8B;AACxC,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA,kBAAiB,iBAAiB;AAClC;AACA;AACA,SAAQ,IAAI;AACZ,eAAc,iBAAiB;AAC/B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,+CAA+C;AACzD,WAAU;AACV;AACA;AACA;AACA,iCAAgC,4BAA4B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,mCAAmC;AAC7C,WAAU;AACV;AACA;AACA;AACA,uBAAsB,oCAAoC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,iBAAiB;AAC3B,WAAU,oBAAoB;AAC9B,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB;AAChB,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,yDAAyD;AACxE;AACA,kBAAiB,MAAM;AACvB;AACA;AACA;AACA,WAAU,8BAA8B;AACxC,WAAU,8BAA8B;AACxC,WAAU,8BAA8B;AACxC,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,6BAA6B;AAC5C,gBAAe,UAAU;AACzB,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA,WAAU,8BAA8B;AACxC,WAAU,8BAA8B;AACxC,WAAU,8BAA8B;AACxC,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA,WAAU,kEAAkE;AAC5E,WAAU;AACV;AACA;AACA,gCAA+B,6BAA6B;AAC5D;AACA;AACA,gCAA+B,mBAAmB;AAClD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA,qBAAoB,iCAAiC;AACrD,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,KAAK;AACpB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,qBAAqB;AACpC;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,gBAAe,OAAO;AACtB;AACA,gBAAe,QAAQ;AACvB;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,+BAA8B,kCAAkC;AAChE;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,KAAK;AACpB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,YAAY;AAC3B,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,YAAY;AAC3B,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB,qBAAoB;AACpB;AACA;AACA;AACA,eAAc;AACd;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,yBAAyB;AACxC;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,KAAK;AACpB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,KAAK;AACpB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,qBAAqB;AACpC;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,gBAAe,QAAQ;AACvB;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,oCAAmC,6DAA6D;AAChG;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA,qCAAoC;AACpC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,gDAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,QAAQ;AACvB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA,WAAU,mBAAmB;AAC7B,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA,WAAU,mBAAmB;AAC7B,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA,kCAAiC,kBAAkB,EAAE;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA,8BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,SAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA,sBAAqB;AACrB,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA,sBAAqB;AACrB;AACA,2BAA0B,YAAY;AACtC;AACA;AACA,2BAA0B,YAAY;AACtC;AACA;AACA;AACA,sBAAqB;AACrB,sBAAqB;AACrB;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,iBAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,SAAS;AAC1B,eAAc;AACd;AACA,kBAAiB,SAAS;AAC1B,eAAc;AACd;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,oBAAmB,mBAAmB,GAAG,iBAAiB;AAC1D;AACA;AACA;AACA,oBAAmB,YAAY,GAAG,YAAY;AAC9C;AACA;AACA;AACA,eAAc,WAAW,8BAA8B,GAAG,4BAA4B;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA,kBAAiB,mBAAmB,GAAG,YAAY,GAAG,iBAAiB;AACvE,eAAc;AACd;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA,kBAAiB,mBAAmB,GAAG,YAAY,GAAG,iBAAiB;AACvE,eAAc;AACd;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB,kBAAiB,OAAO;AACxB;AACA;AACA,oBAAmB,mBAAmB,GAAG,YAAY,GAAG,iBAAiB;AACzE,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB,kBAAiB,OAAO;AACxB;AACA;AACA,wBAAuB,UAAU,mBAAmB,EAAE,GAAG,UAAU,4BAA4B,EAAE;AACjG,eAAc,UAAU,8BAA8B;AACtD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,iBAAiB;AAClC;AACA;AACA;AACA,sBAAqB,4BAA4B;AACjD,sBAAqB,6BAA6B;AAClD,sBAAqB;AACrB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,0BAAyB,2BAA2B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,iBAAiB;AAClC;AACA;AACA;AACA,sBAAqB,4BAA4B;AACjD,sBAAqB,6BAA6B;AAClD,sBAAqB;AACrB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,8BAA6B,4BAA4B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA,sBAAqB,QAAQ,OAAO,SAAS,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,kBAAiB,QAAQ;AACzB;AACA;AACA,sBAAqB,OAAO,OAAO,SAAS,EAAE;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB,iBAAgB,OAAO;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA,sBAAqB;AACrB;AACA;AACA,eAAc;AACd;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA,mBAAkB,iBAAiB;AACnC;AACA,SAAQ;AACR,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA,qBAAoB,iBAAiB;AACrC;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA,sBAAqB,+BAA+B;AACpD,sBAAqB;AACrB;AACA;AACA;AACA;AACA,eAAc,2BAA2B;AACzC;AACA;;AAEA;AACA,iCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,8BAA8B;AAC7C;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA,sBAAqB;AACrB;AACA;AACA,eAAc;AACd;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA,iBAAgB,2BAA2B;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,8BAA8B;AAC7C;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA,sBAAqB;AACrB;AACA;AACA,eAAc;AACd;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA,sBAAqB,QAAQ,OAAO,+BAA+B,EAAE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA,sBAAqB,QAAQ,OAAO,SAAS,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA,qBAAoB,iBAAiB;AACrC;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wCAAuC,QAAQ;AAC/C;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,kBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,sBAAsB;AACvC,sBAAqB,UAAU;AAC/B;AACA;AACA,uEAAsE,2BAA2B,EAAE;AACnG,kBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA,6DAA4D;AAC5D,kBAAiB,mBAAmB;AACpC;AACA;AACA;AACA,2CAA0C,OAAO;AACjD,kBAAiB,oBAAoB;AACrC;AACA;AACA;AACA,4CAA2C,YAAY;AACvD,2CAA0C,QAAQ;AAClD,kBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA,kBAAiB,qBAAqB;AACtC;AACA;AACA;AACA,sDAAqD,2BAA2B,EAAE;AAClF,yCAAwC,aAAa,eAAe,EAAE;AACtE,kBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA,yDAAwD,qCAAqC;AAC7F;AACA;AACA;AACA;AACA,2DAA0D,qBAAqB;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAwC;;AAExC,6CAA4C;AAC5C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;;AAEP,oBAAmB;;AAEnB;AACA;AACA;AACA;AACA,+BAA8B,mBAAmB;AACjD;AACA;AACA;AACA;AACA,6CAA4C;;AAE5C;AACA,wDAAuD;AACvD;AACA;AACA,8BAA6B,EAAE;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA0C;AAC1C,gCAA+B,iCAAiC;AAChE,eAAc;AACd;AACA;AACA,uBAAsB;;AAEtB;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,cAAc;AAC7B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,cAAc;AAC7B,iBAAgB,OAAO;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAiC;AACjC,cAAa,QAAQ,QAAQ,UAAU,SAAS,aAAa;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA,uCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,cAAc;AAC7B,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,iBAAgB,OAAO;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA,WAAU,8BAA8B;AACxC,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA,gBAAe,4BAA4B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,SAAS;AAC1B;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA,WAAU,8CAA8C;AACxD,WAAU;AACV;AACA;AACA,mCAAkC,6BAA6B;AAC/D,gBAAe,6CAA6C;AAC5D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,EAAE;AACjB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA,WAAU,mBAAmB;AAC7B,WAAU;AACV;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,KAAK;AACpB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA,WAAU,OAAO,OAAO,qBAAqB,EAAE,EAAE;AACjD,WAAU,OAAO,OAAO,qBAAqB,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,kBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,mBAAmB,GAAG,iBAAiB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+BAA8B,qDAAqD;AACnF;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA,WAAU,OAAO,OAAO,SAAS,EAAE,EAAE;AACrC,WAAU,OAAO,OAAO,SAAS,EAAE;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,8BAA8B;AACxC,WAAU;AACV;AACA;AACA;AACA;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,8BAA8B;AACxC,WAAU;AACV;AACA;AACA;AACA;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,eAAc,iBAAiB;AAC/B;AACA;AACA;AACA,WAAU,SAAS;AACnB,WAAU;AACV;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT,kCAAiC,sEAAsE;AACvG;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA,oCAAmC,8DAA8D;AACjG;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAsB,4DAA4D;AAClF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAoB,yCAAyC;AAC7D;AACA,MAAK;;AAEL,uEAAsE,uCAAuC;;AAE7G;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;AC9jYD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,EAAC;;AAED,kCAAiC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEljB,uCAAsC,uCAAuC,kBAAkB;;AAE/F,mCAAkC,0BAA0B,0CAA0C,gBAAgB,uBAAuB,aAAa,EAAE,OAAO,wBAAwB,EAAE;;AAE7L,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;;AAEA;;AAEA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,gBAAe,gBAAgB;AAC/B;;AAEA;AACA;;AAEA;AACA;AACA,aAAY;AACZ,eAAc,MAAM;AACpB,eAAc,MAAM;AACpB,eAAc,MAAM;AACpB,eAAc,OAAO;AACrB;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,eAAe;AAC9B,kBAAiB,WAAW;AAC5B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sEAAqE,gEAAgE;AACrI;;AAEA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB,oBAAmB,MAAM;AACzB,oBAAmB,MAAM;AACzB,oBAAmB,MAAM;AACzB,oBAAmB,MAAM;AACzB;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,EAAE;AACrB,oBAAmB,MAAM;AACzB,oBAAmB,MAAM;AACzB;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,EAAE;AACrB,oBAAmB,MAAM;AACzB;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,EAAE;AACrB,oBAAmB,MAAM;AACzB,oBAAmB,MAAM;AACzB,oBAAmB,MAAM;AACzB;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB,sBAAqB,WAAW;AAChC;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA,kBAAiB;AACjB;;AAEA;AACA;;AAEA;AACA;AACA;AACA,sBAAqB,WAAW;AAChC;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAqB;AACrB;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,sBAAqB,WAAW;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAqB,WAAW;AAChC;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAqB,WAAW;AAChC;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,SAAS;AAC5B;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,SAAS;AAC5B;AACA,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,SAAS;AAC5B,oBAAmB,EAAE;AACrB,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,SAAS;AAC5B;AACA,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,SAAS;AAC5B;AACA,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,qBAAoB,OAAO;AAC3B;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA,EAAC;;AAED;AACA,qC;;;;;;AC7XA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,EAAC;;AAED,kCAAiC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEljB,uCAAsC,uCAAuC,kBAAkB;;AAE/F,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY;AACZ;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA,o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AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,iBAAiB;AACpC,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,MAAK;;AAEL;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,OAAO,aAAa,iBAAiB;AAChD,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,wBAAwB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gEAA+D,gEAAgE;AAC/H;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,YAAW,iBAAiB;AAC5B,YAAW,QAAQ;AACnB,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,wBAAwB;AACnC;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,WAAW;AACtB,YAAW,wBAAwB;AACnC;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,qC;;;;;;AC5OA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,EAAC;;AAED,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,iBAAiB;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qC;;;;;;AChCA;;;AAGA;;AAEA,KAAIkyC,mBAAmB,mBAAAvjD,CAAQ,GAAR,CAAvB;AACA,KAAI0iB,iBAAiB,mBAAA1iB,CAAQ,GAAR,CAArB;AACA,K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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,OAAO;AAC1B;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,MAAM;AACzB;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,OAAO;AAC1B;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA,EAAC;;AAED;AACA,qC;;;;;;ACrIA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,EAAC;;AAED,kCAAiC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEljB,uCAAsC,uCAAuC,kBAAkB;;AAE/F,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;;AAEA;AACA;;AAEA,4DAA2D;AAC3D;AACA;AACA;;AAEA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,OAAO;AAC1B,uBAAsB,UAAU,oDAAoD;AACpF;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,wDAAuD;AACvD;;AAEA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA,EAAC;;AAED;AACA,qC;;;;;;AC9GA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,EAAC;;AAED,kCAAiC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEljB,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA,8CAA6C;AAC7C,uCAAsC;;AAEtC;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,eAAe;AAC9B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB;AACjB;;AAEA;AACA,gBAAe,OAAO;AACtB,gBAAe,cAAc;AAC7B,kBAAiB;AACjB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA,oBAAmB,SAAS;AAC5B,sBAAqB,SAAS,yCAAyC;AACvE;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,cAAa;AACb;;AAEA;AACA,qBAAoB,gCAAgC;AACpD,uBAAsB;AACtB;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;;AAEA;AACA,qBAAoB,0CAA0C;AAC9D,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,SAAS;AAC5B,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA,qC;;;;;;ACtIA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,EAAC;;AAED,kCAAiC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEljB,uCAAsC,uCAAuC,kBAAkB;;AAE/F,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,sBAAqB,gBAAgB;AACrC;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB,qBAAqB;AAC1C;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,sBAAqB,qBAAqB;AAC1C;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,sBAAqB,gBAAgB;AACrC;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB,SAAS,+BAA+B;AAC7D;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA,oBAAmB,6BAA6B;AAChD,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,MAAK;;AAEL;AACA,EAAC;;AAED;AACA,qC;;;;;;AClOA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,EAAC;;AAED,oCAAmC,iCAAiC,eAAe,eAAe,gBAAgB,oBAAoB,MAAM,0CAA0C,+BAA+B,aAAa,qBAAqB,mCAAmC,EAAE,EAAE,cAAc,WAAW,UAAU,EAAE,UAAU,MAAM,yCAAyC,EAAE,UAAU,kBAAkB,EAAE,EAAE,aAAa,EAAE,2BAA2B,0BAA0B,YAAY,EAAE,2CAA2C,8BAA8B,EAAE,OAAO,6EAA6E,EAAE,GAAG,EAAE;;AAEtpB,kCAAiC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEljB,uCAAsC,uCAAuC,kBAAkB;;AAE/F,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;;AAEA;AACA;;AAEA,4DAA2D;AAC3D;AACA;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,uBAAsB,+BAA+B;AACrD;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sEAAqE,gEAAgE;AACrI;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA,EAAC;;AAED;AACA,qC;;;;;;AC7OA;;;AAGA;;AAEA;;;;;;;AAMAxqB,SAAQk+F,eAAR,GAA0B,UAAUt+F,MAAV,EAAkBu/F,cAAlB,EAAkCC,iBAAlC,EAAqD;AAC3E,SAAIE,sBAAsBH,eAAel8F,MAAzC;AACA,SAAIs8F,yBAAyBH,kBAAkBn8F,MAA/C;;AAEA,SAAIq8F,mBAAJ,EAAyB;AACrB1/F,gBAAOsB,IAAP,CACI,oCADJ,EAEIo+F,mBAFJ,EAGIH,eAAe32F,IAAf,CAAoB,IAApB,CAHJ;AAKH;;AAED,SAAI+2F,sBAAJ,EAA4B;AACxB3/F,gBAAO8G,KAAP,CAAa,2CAAb,EACA64F,sBADA,EAEAH,kBAAkB52F,IAAlB,CAAuB,IAAvB,CAFA;AAGH;;AAED,SAAI,CAAC82F,mBAAD,IAAwB,CAACC,sBAA7B,EAAqD;AACjD3/F,gBAAOsB,IAAP,CAAY,4BAAZ;AACH;AACJ,EArBD,C;;;;;;ACXA;;;;;AAKA;;AAEA,KAAIs+F,KAAK,mBAAA3gG,CAAQ,GAAR,CAAT;AACA,KAAIiY,YAAY,mBAAAjY,CAAQ,EAAR,CAAhB;AACA,KAAIkY,QAAQ,mBAAAlY,CAAQ,EAAR,CAAZ;AACA,KAAIe,SAAS,mBAAAf,CAAQ,CAAR,EAA8BgB,MAA9B,CAAqC,gBAArC,CAAb;;AAEAG,SAAQ0T,IAAR,GAAe,YAAY;AACvB8rF,QAAG53E,SAAH,CAAalY,WAAb,CAAyBkY,SAAzB;AACH,EAFD;;AAIA5nB,SAAQ+Q,GAAR,GAAc,YAAY;AACtB,SAAIjG,OAAOod,SAAX;AACAtoB,YAAOsB,IAAP,CAAY,mCAAZ,EAAiD4J,KAAKkQ,MAAtD,EAA8DlQ,KAAKqX,OAAnE;AACAq9E,QAAGvzC,MAAH,CAAUnhD,KAAKkQ,MAAf,EAAuBlQ,KAAKqX,OAA5B;AACH,EAJD;;AAMA,UAASyF,SAAT,GAAqB;AACjB,SAAI9c,OAAOod,SAAX;AACAtoB,YAAOsB,IAAP,CAAY,wDAAZ,EAAsE4J,KAAKkQ,MAA3E,EAAmFlQ,KAAKqX,OAAxF;AACAq9E,QAAGvzC,MAAH,CAAUnhD,KAAKkQ,MAAf,EAAuBlQ,KAAKqX,OAA5B;AACH;;AAED,UAAS+F,OAAT,GAAmB;AACf,YAAO;AACH/F,kBAASrL,UAAUmE,UAAV,GAAuB3X,OAAvB,CAA+B,KAA/B,EAAsC,GAAtC,CADN;AAEH0X,iBAAQjE,MAAMiE;AAFX,MAAP;AAIH,E;;;;;;ACjCD;;;;AAIA;;AAEA,KAAI0C,WAAW,mBAAA7e,CAAQ,GAAR,CAAf;AACA,KAAIof,WAAW,mBAAApf,CAAQ,GAAR,CAAf;AACA,KAAI4zD,UAAU,mBAAA5zD,CAAQ,EAAR,CAAd;AACA,KAAIe,SAAS,mBAAAf,CAAQ,CAAR,EAA8BgB,MAA9B,CAAqC,YAArC,CAAb;AACA,KAAI06D,WAAW,mBAAA17D,CAAQ,GAAR,CAAf;;gBACwB,mBAAAA,CAAQ,GAAR,C;KAAnBq/F,e,YAAAA,e;;AAEL;;;;;AAGA,KAAII,UAAU,CACV,WADU,EAEV,WAFU,EAGV,WAHU,EAIV,WAJU,EAKV,YALU,EAMV,YANU,EAOV,eAPU,EAQV,OARU,CAAd;;AAWA;;;AAGA,KAAImB,cAAc,IAAlB;;AAEA;;;;AAIA,KAAIC,8BAA8B,GAAlC;;AAEA;;;;;AAKA,KAAIC,4BAA4B,GAAhC;;AAEA;;;;AAIA3/F,SAAQ0T,IAAR,GAAe,YAAY;AACvBksF;AACH,EAFD;;AAIA;;;AAGA5/F,SAAQisD,MAAR,GAAiB,UAAU5jC,GAAV,EAAe7c,KAAf,EAAsB;AACnCq0F;AACAC,iBAAYxB,OAAZ,EAAqBj2E,GAArB,EAA0B7c,KAA1B,EACKkD,IADL,CACUqxF,2BADV,EAEK9uF,KAFL,CAEW8uF,2BAFX;AAGH,EALD;;AAOA//F,SAAQ4nB,SAAR,GAAoB6qC,QAAQ5yD,MAAR,EAApB;;AAEA,UAAS+/F,oBAAT,GAAgC;AAC5BrxF,YAAO83C,OAAP,CAAez+B,SAAf,CAAyBlY,WAAzB,CAAqCkY,SAArC;AACH;;AAED,UAASi4E,uBAAT,GAAmC;AAC/BtxF,YAAO83C,OAAP,CAAez+B,SAAf,CAAyB3Y,cAAzB,CAAwC2Y,SAAxC;AACH;;AAED;;;;;;AAMA,UAASk4E,WAAT,CAAqB10E,OAArB,EAA8B/C,GAA9B,EAAmC7c,KAAnC,EAA0C;AACtC,SAAI2zF,iBAAiB,EAArB;AACA,SAAIC,oBAAoB,EAAxB;;AAEA,YAAO9uF,QAAQ81C,GAAR,CAAYh7B,QAAQjoB,GAAR,CAAY,UAAUuV,MAAV,EAAkB;AAC7C,gBAAO,IAAI6hD,QAAJ,CAAa7hD,MAAb,EACFsnF,UADE,CACS33E,GADT,EACc7c,KADd,EAEFkD,IAFE,CAEG,kBAAU;AACZ,iBAAIqG,MAAJ,EAAY;AACRoqF,gCAAej8F,IAAf,CAAoBwV,MAApB;AACH;AACJ,UANE,EAOFzH,KAPE,CAOI,YAAM;AACTmuF,+BAAkBl8F,IAAlB,CAAuBwV,MAAvB;AACH,UATE,CAAP;AAUH,MAXkB,CAAZ,EAYNhK,IAZM,CAYD;AAAA,gBAAMwvF,gBAAgBt+F,MAAhB,EAAwBu/F,cAAxB,EAAwCC,iBAAxC,CAAN;AAAA,MAZC,EAaNnuF,KAbM,CAaA;AAAA,gBAAMitF,gBAAgBt+F,MAAhB,EAAwBu/F,cAAxB,EAAwCC,iBAAxC,CAAN;AAAA,MAbA,CAAP;AAcH;;AAED;;;;AAIA,UAASa,UAAT,CAAoBvnF,MAApB,EAA4B;AACxB,YAAO4lF,QAAQ9sF,IAAR,CAAa,UAAUgwD,CAAV,EAAa;AAC7B,gBAAO;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,cAAM9oD,MAAN,KAAgBuF,SAASvF,MAAT;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAAiB,GAAjB,EAAuB8oD,CAAvB,EAAvB;AACH,MAFM,CAAP;AAGH;;AAED;;;AAGA,UAAS55C,SAAT,CAAmB4oD,UAAnB,EAA+B;AAC3B,SAAIqgB,SAASrgB,WAAWqgB,MAAxB;AACA,SAAI;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,cAAOrsF,IAAP,EAAgBi7F,WAAhB,KAA+BQ,WAAWpP,OAAOn4E,MAAlB,CAAnC,EAA8D;AAC1DwnF;AACH;AACJ;;AAED,KAAIH,8BAA8BriF,SAC9BkiF,oBAD8B,EAE9BD,yBAF8B,CAAlC;;AAKA,KAAIO,2BAA2BxiF,SAAS,YAAY;AAChD1d,aAAQ4nB,SAAR,CAAkBuC,QAAlB;AACH,EAF8B,EAE5Bu1E,2BAF4B,CAA/B,C;;;;;;AC5HA;;;;AAIA;;AAEA,KAAI5tF,SAAS,mBAAAjT,CAAQ,EAAR,CAAb;AACA,KAAIwf,OAAO,mBAAAxf,CAAQ,GAAR,CAAX;;AAEA,KAAIwgB,SAAS,mBAAAxgB,CAAQ,CAAR,CAAb;AACA,KAAIQ,QAAQ,mBAAAR,CAAQ,EAAR,CAAZ;AACA,KAAIshG,YAAY,mBAAAthG,CAAQ,GAAR,CAAhB;AACA,KAAI8gB,WAAW,mBAAA9gB,CAAQ,GAAR,CAAf;AACA,KAAImhB,WAAW,mBAAAnhB,CAAQ,GAAR,CAAf;AACA,KAAIe,SAAS,mBAAAf,CAAQ,CAAR,EAA8BgB,MAA9B,CAAqC,YAArC,CAAb;AACA,KAAIihB,cAAc,mBAAAjiB,CAAQ,GAAR,CAAlB;;AAEA,KAAIuhG,kBAAkB,aAAtB;;AAEA,KAAIjyC,QAAQ;AACR3pD,WAAM,YADE;AAER4pD;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAiB,EAAjB,EAAsB,EAAtB,CAFQ;AAGRgL,qBAAgB;AAHR,EAAZ;AAKA,KAAIinC,aAAa,0CAAjB;AACA,KAAIC,eAAe,aAAnB;;AAEA;;;AAGAtgG,SAAQ0T,IAAR,GAAe,YAAY;AACvB,SAAI6sF,qBAAJ,EAA2B;AACvBlhF,gBAAOgvC,QAAP,CAAgBF,KAAhB,EAAuBnuD,QAAQwgG,WAA/B;AACH;AACJ,EAJD;;AAMA;;;;AAIAxgG,SAAQolB,UAAR,GAAqB,YAAY;AAC7B,SAAIgH,cAAczM,SAASzP,GAAT,CAAaowF,YAAb,CAAlB;AACA,SAAIG,WAAWC,iBAAiBt0E,WAAjB,CAAf;AACA,SAAI,CAACq0E,QAAL,EAAe;AACX;AACH;AACD,SAAI7uE,OAAO6uE,SAAS7uE,IAAT,GAAgB5R,SAASgjC,SAAT;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAmBy9C,SAAS7uE,IAA5B,EAAmC,eAAnC,EAAhB,GAAsE5R,SAAS0G,IAAT,CAAc5kB,GAA/F;AACA,YAAOgQ,OAAO,EAAP,EAAW2uF,QAAX,EAAqB;AACxB7uE,eAAMA;AADkB,MAArB,CAAP;AAGH,EAVD;;AAYA;;;AAGA5xB,SAAQslB,MAAR,GAAiB,YAAY;AACzB,YAAO3F,SAASzP,GAAT,CAAaowF,YAAb,CAAP;AACH,EAFD;;AAIA;;;AAGAtgG,SAAQwgG,WAAR,GAAsB,YAAY;AAC9B5gG,YAAOsB,IAAP,CAAY,yBAAZ,EAAuCm/F,UAAvC;AACAhhG,WAAMmC,GAAN,CAAU;AACNM,cAAKu+F,UADC;AAEN55F,mBAAU,IAFJ;AAGNnB,gBAAO;AAHD,MAAV,EAIGq7F,oBAJH;AAKH,EAPD;;AASA;;;;;AAKA,UAASA,oBAAT,CAA8Bx7F,GAA9B,EAAmC8B,QAAnC,EAA6C;AACzC,SAAI9B,GAAJ,EAAS;AACLvF,gBAAO8G,KAAP,CAAavB,IAAIjG,OAAjB;AACA;AACH;AACD,SAAI,CAAC+H,QAAD,IAAa,CAACqT,MAAMC,OAAN,CAActT,SAAS6D,IAAvB,CAAlB,EAAgD;AAC5ClL,gBAAO8G,KAAP,CAAa,+CAAb;AACA;AACH;AACD9G,YAAOsB,IAAP,CAAY,iBAAZ,EAA+B+F,QAA/B;AACA25F,cAAS35F,SAAS6D,IAAlB;AACH;;AAED;;;;AAIA,UAAS81F,QAAT,CAAkBC,SAAlB,EAA6B;AACzB,SAAIC,aAAaD,UAAU19F,GAAV,CAAc,UAAUs9F,QAAV,EAAoB;AAC/C,gBAAOM,WAAWN,QAAX,IAAuBN,UAAUxwE,IAAV,CAAe8wE,SAAS3+F,GAAxB,CAAvB,GAAsDwO,QAAQF,OAAR,CAAgB,EAAhB,CAA7D;AACH,MAFgB,CAAjB;AAGAE,aAAQ81C,GAAR,CAAY06C,UAAZ,EACKpyF,IADL,CACUsyF,eAAev8F,IAAf,CAAoB,IAApB,EAA0Bo8F,SAA1B,CADV,EAEK5vF,KAFL,CAEWrR,OAAO8G,KAAP,CAAajC,IAAb,CAAkB7E,MAAlB,CAFX;AAGH;;AAED;;;;;AAKA,UAASohG,cAAT,CAAwBH,SAAxB,EAAmCI,SAAnC,EAA8C;AAC1CthF,cAAS5O,GAAT,CAAauvF,YAAb,EAA2BO,UAAU19F,GAAV,CAAc,UAAUs9F,QAAV,EAAoB9hE,KAApB,EAA2B;AAChE,gBAAO7sB,OAAO2uF,QAAP,EAAiB;AACpB31B,uBAAUm2B,UAAUtiE,KAAV,EAAiB78B,GADP;AAEpBo/F,wBAAWD,UAAUtiE,KAAV,EAAiB9lB;AAFR,UAAjB,CAAP;AAIH,MAL0B,CAA3B,EAKI,EAAC2Q,KAAK,IAAN,EALJ;AAMH;;AAED;;;;;AAKA,UAASk3E,gBAAT,CAA0Bt0E,WAA1B,EAAuC;AACnC,YAAO/N,KAAK+N,WAAL,EAAkB,UAAUq0E,QAAV,EAAoB;AACzC,gBAAOr3E,QAAQq3E,YAAYA,SAAS31B,QAArB,IAAiCi2B,WAAWN,QAAX,CAAjC,IAAyDU,YAAYV,QAAZ,CAAjE,CAAP;AACH,MAFM,CAAP;AAGH;;AAED;;;;;AAKA,UAASM,UAAT,CAAoBN,QAApB,EAA8B;AAC1B,SAAI,CAACA,SAAS9jF,IAAV,IAAkB,CAAC8jF,SAASW,IAAhC,EAAsC;AAClC,gBAAO,KAAP;AACH;AACD,SAAIC,WAAY,IAAInhG,IAAJ,CAASugG,SAAS9jF,IAAlB,CAAD,CAA0B2kF,QAA1B,CAAmC,CAAnC,EAAsC,CAAtC,EAAyC,CAAzC,EAA4C,CAA5C,CAAf;AACA,SAAIC,WAAY,IAAIrhG,IAAJ,CAASugG,SAASW,IAAlB,CAAD,CAA0BE,QAA1B,CAAmC,EAAnC,EAAuC,EAAvC,EAA2C,EAA3C,EAA+C,GAA/C,CAAf;AACA,SAAInhG,MAAMD,KAAKC,GAAL,EAAV;;AAEA,YAAOA,OAAOkhG,QAAP,IAAmBlhG,OAAOohG,QAAjC;AACH;;AAED;;;AAGA,UAASJ,WAAT,CAAqBV,QAArB,EAA+B;AAC3B;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAOzgF,SAASpB,IAAT,CAAcqkC,SAArB,EAAmCw9C,SAAS/nF,MAA5C;AACH;;AAED;;;AAGA,UAAS6nF,mBAAT,GAA+B;AAC3B,SAAIiB,iBAAiB1gF,YAAY40C,iBAAZ,CAA8B0qC,eAA9B,CAArB;AACA,YAAOh3E,QAAQo4E,kBAAkBA,eAAe5sB,OAAzC,CAAP;AACH,E;;;;;;AC5JD;;;AAGA;;AAEA,KAAIjmD,cAAc,mBAAA9vB,CAAQ,GAAR,CAAlB;AACA,KAAIe,SAAS,mBAAAf,CAAQ,CAAR,EAA8BgB,MAA9B,CAAqC,YAArC,CAAb;;AAEA,KAAI4hG,WAAW,yDAAf;;AAEAzhG,SAAQ0hG,eAAR,GAA0B,aAA1B;;AAEA,KAAIp4E,UAAU;AACV,SAAI83B,IAAJ,GAAY;AACR,gBAAO,KAAKC,KAAL,KAAe,KAAKA,KAAL,GAAa,IAAI1yB,WAAJ,CAAgB3uB,QAAQ0hG,eAAxB,CAA5B,CAAP;AACH;AAHS,EAAd;;AAMA;;;;;AAKA1hG,SAAQ2vB,IAAR,GAAe,UAAUgyE,OAAV,EAAmB;AAC9B,SAAI,CAACA,OAAL,EAAc;AACV,gBAAOrxF,QAAQP,MAAR,CAAe,EAAC7Q,SAAS,oCAAV,EAAf,CAAP;AACH;AACD,YAAO,IAAIoR,OAAJ,CAAY,UAAUF,OAAV,EAAmBL,MAAnB,EAA2B;AAC1C,aAAIjO,MAAM2/F,SAASn+F,OAAT,CAAiB,OAAjB,EAA0Bq+F,OAA1B,CAAV;AACA/hG,gBAAOsB,IAAP,CAAY,4BAAZ,EAA0CY,GAA1C;AACAwnB,iBAAQ83B,IAAR,CAAatS,QAAb,CAAsBhtC,GAAtB,EAA2B6/F,QAAQr+F,OAAR,CAAgB,GAAhB,EAAqB,GAArB,CAA3B,EAAsD,UAAU6B,GAAV,EAAe2F,IAAf,EAAqB;AACvE,iBAAI3F,GAAJ,EAAS;AACL4K,wBAAO5K,GAAP;AACH,cAFD,MAEO;AACHiL,yBAAQtF,IAAR;AACH;AACJ,UAND;AAOH,MAVM,CAAP;AAWH,EAfD,C;;;;;;ACvBA;;;;AAIA;;AAEA,KAAI0Y,YAAY,mBAAA3kB,CAAQ,GAAR,CAAhB;AACA,KAAI0hB,gBAAgB,mBAAA1hB,CAAQ,GAAR,CAApB;AACA,KAAI8gB,WAAW,mBAAA9gB,CAAQ,GAAR,CAAf;AACA,KAAI2zF,OAAO,mBAAA3zF,CAAQ,GAAR,CAAX;AACA,KAAI4M,SAAS,mBAAA5M,CAAQ,GAAR,CAAb;;AAEA,KAAI+iG,6BAA6B,mBAAjC;;AAEA;;;AAGA5hG,SAAQ0T,IAAR,GAAe,YAAY;AACvB8P,eAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgBmwB,UAA7B,EAAyC,UAAUrxB,GAAV,EAAe;AACpDzC,uBAAcwzD,YAAd,CAA2B/wD,IAAI7S,EAA/B,EAAmC6S,IAAIlY,IAAvC;AACH,MAFD;;AAIA0Y,eAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgBowB,UAA7B,EAAyC,UAAUtxB,GAAV,EAAe;AACpDzC,uBAAc4zD,MAAd,CAAqBnxD,IAAI7S,EAAzB,EAA6B6S,IAAIlY,IAAjC;AACH,MAFD;;AAIA;AACA;AACA0Y,eAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgB6wB,SAA7B,EAAwC,YAAY;AAChDp1B,kBAAS5O,GAAT,CAAa,mBAAb,EAAkC,IAAlC;AACH,MAFD;;AAIAwP,mBAAc8zD,gBAAd,CAA+B3kE,WAA/B,CAA2CmyF,iBAA3C;AACAliF,cAASiI,SAAT,CAAmBlY,WAAnB,CAA+BmY,gBAA/B;AACH,EAjBD;;AAmBA;;;AAGA7nB,SAAQkQ,GAAR,GAAc,YAAY;AACtB,SAAIyP,SAASzP,GAAT,CAAa0xF,0BAAb,CAAJ,EAA8C;AAC1C,gBAAOpuB,WAAP;AACH,MAFD,MAEO;AACH,gBAAO,EAAP;AACH;AACJ,EAND;;AAQA;;;;AAIAxzE,SAAQ8hG,UAAR,GAAqB,UAAUj/E,KAAV,EAAiB;AAClCk/E,eAAUrzF,IAAV,CAAe,UAAU5D,IAAV,EAAgB;AAC3B0Y,mBAAUlf,IAAV,CAAemH,OAAOU,OAAP,CAAegrC,kBAA9B,EAAkDrsC,IAAlD,EAAwD+X,KAAxD;AACH,MAFD;AAGH,EAJD;;AAMA;;;AAGA7iB,SAAQgiG,aAAR,GAAwB,YAAY;AAChC,SAAIriF,SAASzP,GAAT,CAAa0xF,0BAAb,CAAJ,EAA8C;AAC1C;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAAOrhF,cAAcqzD,wBAAd,CAAuC,WAAvC,EAAoD3wE,MAA3D,EAAsE,CAAtE;AACH;AACD,YAAO,KAAP;AACH,EALD;;AAOA;;;AAGA,UAAS4+F,iBAAT,GAA6B;AACzBr+E,eAAUlf,IAAV,CAAemH,OAAOU,OAAP,CAAe+qC,aAA9B,EAA6Cl3C,QAAQkQ,GAAR,EAA7C;AACH;;AAED,UAASsjE,SAAT,GAAqB;AACjB,SAAIwC,gBAAgBz1D,cAAcozD,gBAAd,EAApB;AACA,YAAOqC,cAAc7yE,GAAd,CAAkB,UAAUkmD,KAAV,EAAiB;AACtC,gBAAO;AACHl5C,iBAAIk5C,MAAMooB,KAAN,EADD;AAEH3mE,mBAAMu+C,MAAMnhC,OAAN;AAFH,UAAP;AAIH,MALM,CAAP;AAMH;;AAED,UAASL,gBAAT,CAA0B3mB,IAA1B,EAAgC;AAC5BA,YAAOA,QAAQ,EAAf;AACA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAIA,KAAKmnB,GAAT,EAAiBu5E,0BAAjB,GAA6C;AACzCC;AACA7hG,iBAAQ8hG,UAAR;AACH;AACJ;;AAED;;;;AAIA,UAASC,OAAT,GAAmB;AACf,SAAI/hG,QAAQgiG,aAAR,EAAJ,EAA6B;AACzB,gBAAOxP,KAAKtqE,OAAL,EAAP;AACH,MAFD,MAEO;AACH,gBAAO5X,QAAQF,OAAR,CAAgB,EAAhB,CAAP;AACH;AACJ,E;;;;;;ACtGD;;;AAGA;;AAEApQ,SAAQm8C,MAAR,GAAiB,UAAU65C,SAAV,EAAqB;AAClC,YAAOA,aAAaA,UAAUt1B,OAAvB,GACDs1B,UAAU52B,KAAV,CACG7T,IADH,CACQ02C,YAAYx9F,IAAZ,CAAiB,IAAjB,EAAuBuxF,SAAvB,CADR,EAEG7yF,GAFH,CAEO++F,sBAAsBz9F,IAAtB,CAA2B,IAA3B,EAAiCuxF,SAAjC,CAFP,CADC,GAID,EAJN;AAKH,EAND;;AAQA;;;;;;;;AAQA,UAASiM,WAAT,CAAqBjM,SAArB,EAAgCmM,KAAhC,EAAuCC,KAAvC,EAA8C;AAC1C;AACA,YAAO;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAACpM,UAAU7sE,SAAV,CAAoBi5E,KAApB,CAAD,EAA8BpM,UAAU7sE,SAAV,CAAoBg5E,KAApB,CAA9B;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OACCC,MAAM1hC,OADP,EACiByhC,MAAMzhC,OADvB;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAEC0hC,MAAM7hC,YAFP,EAEsB4hC,MAAM5hC,YAF5B,CAAP;AAGH;;AAED,UAAS8hC,aAAT,CAAuBrM,SAAvB,EAAkC31B,IAAlC,EAAwC;AACpC,YAAO21B,UAAU7sE,SAAV,CAAoBk3C,IAApB,IACD,CADC,GAEDA,KAAKK,OAAL,GACI,CADJ,GAEI,CAJV;AAKH;;AAED,UAASwhC,qBAAT,CAA+BlM,SAA/B,EAA0C31B,IAA1C,EAAgD;AAC5C,YAAO;AACHlwD,aAAIkwD,KAAKI,GADN;AAEHH,sBAAaD,KAAKC,WAFf;AAGHtrC,gBAAOqtE,cAAcrM,SAAd,EAAyB31B,IAAzB,CAHJ;AAIHiiC,oBAAWjiC,KAAKu5B;AAJb,MAAP;AAMH,E;;;;;;AC3CD;;;AAGA;;AAEA,KAAIp2E,YAAY,mBAAA3kB,CAAQ,GAAR,CAAhB;AACA,KAAI4gB,OAAO,mBAAA5gB,CAAQ,GAAR,CAAX;AACA,KAAI21F,QAAQ,mBAAA31F,CAAQ,GAAR,CAAZ;AACA,KAAI0jG,YAAY,mBAAA1jG,CAAQ,GAAR,CAAhB;AACA,KAAI4M,SAAS,mBAAA5M,CAAQ,GAAR,CAAb;;AAEA;;;AAGAmB,SAAQ0T,IAAR,GAAe,YAAY;AACvB8P,eAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgBswB,UAA7B,EAAyC,UAAUxxB,GAAV,EAAeC,MAAf,EAAuB;AAC5DxD,cAAK+gD,KAAL,CAAWv9C,OAAOmB,GAAP,CAAWjU,EAAtB,EAA0B6S,IAAIw/E,MAA9B;AACH,MAFD;;AAIAh/E,eAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgBuwB,WAA7B,EAA0C,UAAUzxB,GAAV,EAAeC,MAAf,EAAuB;AAC7DxD,cAAK42E,iBAAL,CAAuBpzE,OAAOmB,GAAP,CAAWjU,EAAlC;AACH,MAFD;;AAIAqT,eAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgBwwB,aAA7B,EAA4C,UAAU1xB,GAAV,EAAeC,MAAf,EAAuB;AAC/DxD,cAAK+2E,QAAL,CAAcvzE,OAAOmB,GAAP,CAAWjU,EAAzB,EAA6B6S,IAAI9W,IAAjC;AACH,MAFD;;AAIAuT,UAAK41E,WAAL,CAAiB3lF,WAAjB,CAA6B+yF,QAA7B;AACAhjF,UAAK61E,mBAAL,CAAyB5lF,WAAzB,CAAqCgzF,eAArC;AACH,EAfD;;AAiBA;;;AAGA1iG,SAAQylB,OAAR,GAAkB,YAAY;AAC1B,YAAO;AACH25C,gBAAOmjC,UAAUpmD,MAAV,CAAiB18B,KAAKs2E,YAAL,EAAjB;AADJ,MAAP;AAGH,EAJD;;AAMA/1F,SAAQ2iG,YAAR,GAAuB,YAAY;AAC/B,YAAOnO,MAAMnuC,OAAN,CAAcmtC,SAArB;AACH,EAFD;;AAIAxzF,SAAQ4iG,cAAR,GAAyB,YAAY;AACjC,YAAOpO,MAAMnuC,OAAN,CAAcotC,WAArB;AACH,EAFD;;AAIA,UAASgP,QAAT,GAAoB;AAChBj/E,eAAUlf,IAAV,CAAemH,OAAOU,OAAP,CAAeyqC,IAA9B,EAAoC52C,QAAQylB,OAAR,EAApC;AACH;;AAED,UAASi9E,eAAT,CAAyB5gG,GAAzB,EAA8BipF,QAA9B,EAAwCloE,KAAxC,EAA+CggF,MAA/C,EAAuD;AACnDr/E,eAAUlf,IAAV,CAAemH,OAAOU,OAAP,CAAe6qC,IAA9B,EAAoC;AAChC6rD,iBAAQA,MADwB;AAEhC/gG,cAAKA,GAF2B;AAGhC+R,iBAAQk3E;AAHwB,MAApC,EAIGloE,KAJH;AAKH,E;;;;;;AC1DD;;;;;;;;;;;;;;;;;;AAkBA;;AAEA,KAAM7gB,cAAc,mBAAAnD,CAAQ,EAAR,CAApB;;gBAC0B,mBAAAA,CAAQ,EAAR,C;KAAnBmmB,e,YAAAA,e;;AACP,KAAM89E,qBAAqB,wDAA3B;AACA,KAAMC,sBAAsB,kDAA5B;;AAEA;;;AAGA/iG,SAAQ0T,IAAR,GAAe,YAAY;AACvB,SAAI,CAAC1R,YAAYgiD,SAAZ,EAAL,EAA8B;AAC1B;AACH;;AAED1vC,gBAAW0uF,kBAAX,EAA+B,CAA/B;AACH,EAND;;AAQA,UAASA,kBAAT,GAA8B;AAC1Bz0F,YAAO+vC,OAAP,CAAeh5B,MAAf,CAAsB,EAACi5B,UAAU,IAAX,EAAtB,EAAwC,mBAAW;AAAA;AAAA;AAAA;;AAAA;AAC/C,kCAAuBD,OAAvB,8HAAgC;AAAA,qBAAvBE,UAAuB;AAAA;AAAA;AAAA;;AAAA;AAC5B,2CAAgBA,WAAWhwC,IAA3B,mIAAiC;AAAA,6BAAxB4V,GAAwB;;AAC7B6+E,2CAAkB7+E,GAAlB;AACH;AAH2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAI/B;AAL8C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMlD,MAND;AAOH;;AAED,UAAS6+E,iBAAT,CAA2B7+E,GAA3B,EAAgC;AAC5B,SAAI8+E,YAAY9+E,GAAZ,CAAJ,EAAsB;AAClB7V,gBAAOC,IAAP,CAAY+rC,MAAZ,CAAmBn2B,IAAIjU,EAAvB,EAA2B,EAACrO,KAAKkjB,eAAN,EAA3B;AACH;AACJ;;AAED,UAASk+E,WAAT,CAAqB9+E,GAArB,EAA0B;AAAA,SACftiB,GADe,GACRsiB,GADQ,CACftiB,GADe;;;AAGtB,SAAI,CAACA,GAAL,EAAU;AACN,gBAAO,KAAP;AACH;;AAED;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAIA,GAAJ,EAAYghG,kBAAZ,GAAgC;AAC5B,gBAAO,IAAP;AACH;;AAED;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAIhhG,GAAJ,EAAYkjB,eAAZ,GAA6B;AACzB;AACA;AACA;AACA;AACA,aAAI,CAACZ,IAAI++E,SAAL;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAAkB/+E,IAAIrd,MAAtB,EAAiC,UAAjC,KAA+Cqd,IAAImyC,MAAnD,IAA6D,CAACnyC,IAAIivC,UAAtE,EAAkF;AAC9E,oBAAO,IAAP;AACH;AACJ,MARD,MAQO,IAAI0vC,oBAAoBjgG,IAApB,CAAyBhB,GAAzB,CAAJ,EAAmC;AACtC,gBAAO,IAAP;AACH;;AAED,YAAO,KAAP;AACH,E;;;;;;AC5ED;;;AAGA;;AAEA,KAAI0hB,YAAY,mBAAA3kB,CAAQ,GAAR,CAAhB;AACA,KAAIg8F,UAAU,mBAAAh8F,CAAQ,GAAR,CAAd;AACA,KAAI4M,SAAS,mBAAA5M,CAAQ,GAAR,CAAb;AACA,KAAIg8D,cAAc,mBAAAh8D,CAAQ,GAAR,CAAlB;;AAEAmB,SAAQ0T,IAAR,GAAe,YAAY;AACvB8P,eAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgB4xB,kBAA7B,EAAiD,UAAU9yB,GAAV,QAAsB;AAAA,aAANoB,GAAM,QAANA,GAAM;;AACnEy2C,qBAAYuoC,eAAZ,CAA4Bh/E,IAAIjU,EAAhC,EAAoC,YAAY;AAC5C0qF,qBAAQv2F,IAAR,CAAa0e,IAAI1gB,OAAjB;AACH,UAFD;AAGH,MAJD;AAKH,EAND,C;;;;;;ACVA;;;;;AAKA;;AAEA,KAAIgN,SAAS,mBAAAzQ,CAAQ,EAAR,CAAb;AACA,KAAIQ,QAAQ,mBAAAR,CAAQ,EAAR,CAAZ;AACA,KAAI2pB,UAAU,mBAAA3pB,CAAQ,EAAR,CAAd;AACA,KAAIwkG,aAAa,mBAAAxkG,CAAQ,GAAR,CAAjB;AACA,KAAIe,SAAS,mBAAAf,CAAQ,CAAR,EAAoBgB,MAApB,CAA2B,aAA3B,CAAb;;AAEA,KAAI4gB,aAAJ;;AAEA;AACA,KAAI6iF,uBAAuB,IAA3B;AACA;AACA;AACA,KAAIC,gCAAgC,IAApC;;AAEA;AACA,KAAI/0F,OAAO,EAAX;;AAEA;AACA,KAAIg1F,0BAA0B,IAAIt1F,GAAJ,EAA9B;;AAEA,KAAIykD,UAAUvxD,OAAOpB,OAAP,GAAiB;AAC3ByjG,sBAAiB,UADU;AAE3BC,qBAAgB,SAFW;;AAI3BC,kBAAa,KAJc;;AAM3B;;;;;AAKAjwF,WAAM,cAAUkwF,WAAV,EAAuB;AACzB,aAAI,CAAC,KAAKD,WAAV,EAAuB;AACnBljF,6BAAgBmjF,WAAhB;AACA/6E;AACA;AACAg7E;AACA,kBAAKF,WAAL,GAAmB,IAAnB;AACH;AACJ,MAnB0B;;AAqB3B3E,WAAM,gBAAY;AACd8E;AACH,MAvB0B;;AAyB3Bt6E,UAAKnqB,MAAMe,IAzBgB;;AA2B3B2jG,iBAAY,oBAAUlhF,KAAV,EAAiB;AACzB,gBAAOA,QAAQrU,KAAKqU,KAAL,CAAR,GAAsBrU,IAA7B;AACH,MA7B0B;;AA+B3B;;;;;AAKA40F,sBAAiB,yBAAUvgF,KAAV,EAAiB5iB,QAAjB,EAA2B+xF,OAA3B,EAAoC;AACjD,aAAIgS,UAAU,KAAKD,UAAL,CAAgBlhF,KAAhB,CAAd;AACA,aAAImhF;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAAWA,QAAQj9F,MAAnB,EAA8B,UAA9B,CAAJ,EAA8C;AAC1C9G,sBAASqV,KAAT,CAAe08E,OAAf;AACH,UAFD,MAEO;AACH,iBAAI,CAACwR,wBAAwBl1F,GAAxB,CAA4BuU,KAA5B,CAAL,EAAyC;AACrC2gF,yCAAwBzyF,GAAxB,CAA4B8R,KAA5B,EAAmC,EAAnC;AACH;AACD2gF,qCAAwBtzF,GAAxB,CAA4B2S,KAA5B,EAAmC3f,IAAnC,CAAwC,EAACjD,kBAAD,EAAW+xF,gBAAX,EAAxC;AACH;AACJ,MA9C0B;;AAgD3B;;;;AAIAiS,iBAAYz7E,QAAQ3oB,MAAR,EApDe;;AAsD3B;;;;;AAKAqkG,eAAU17E,QAAQ3oB,MAAR,EA3DiB;;AA6D3B;;;;;AAKAskG,kBAAa37E,QAAQ3oB,MAAR,EAlEc;;AAoE3B;;;;AAIAukG,eAAU57E,QAAQ3oB,MAAR,EAxEiB;;AA0E3B;;;;AAIAwkG,uBAAkB77E,QAAQ3oB,MAAR;AA9ES,EAA/B;;AAiFA,UAASykG,kBAAT,GAA8B;AAC1B,YAAO;AACHx5C,eAAM,EADH;AAEHy5C,4BAAmB,EAFhB;AAGHC,eAAMnlG,MAAMkC,IAAN,CAAWU,IAAX,EAHH;AAIHwiG,uBAAcC;AAJX,MAAP;AAMH;;AAED,UAASA,oBAAT,GAAgC;AAC5B;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAOxkG,KAAKC,GAAL,EAAP,EAAoBiO,KAAK3K,MAAL,EAApB;AACH;;AAED,UAASogG,uBAAT,GAAmC;AAC/BR,gBAAWx+E,OAAX,CAAmB,UAAUne,KAAV,EAAiB2gD,OAAjB,EAA0B;AACzC,aAAI3gD,KAAJ,EAAW;AACP9G,oBAAO8G,KAAP,CAAa,wCAAb,EAAuDA,KAAvD;AACH,UAFD,MAEO;AACHi+F,wCAA2Bt9C,OAA3B;AACH;AACJ,MAND;AAOH;;AAED,UAASs9C,0BAAT,CAAoCt9C,OAApC,EAA6C;AACzCA,aAAQ9iD,OAAR,CAAgB,UAAU6f,GAAV,EAAe;AAC3B,aAAI,CAACA,IAAI4jD,SAAT,EAAoB;AAChB,iBAAI48B,QAAQp2F,KAAK4V,IAAIjU,EAAT,IAAem0F,oBAA3B;AACAM,mBAAM95C,IAAN,GAAa,CAAC1mC,IAAItiB,GAAL,CAAb;AACA8iG,mBAAM79F,MAAN,GAAe4rD,QAAQ8wC,eAAvB;AACAmB,mBAAMpgF,QAAN,GAAiBJ,IAAII,QAArB;AACAogF,mBAAMz9E,KAAN,GAAc/C,IAAI+C,KAAlB;AACAy9E,mBAAMvxC,UAAN,GAAmBjvC,IAAIivC,UAAvB;AACH;AACJ,MATD;AAUH;;AAED,UAASwxC,aAAT,CAAuBC,QAAvB,EAAiC;AAC7B;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAOA,QAAP,EAAoBrkF,cAAcuE,eAAlC;AACH;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAS+/E,kBAAT,CAA4BC,OAA5B,EAAqC;AACjC;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAIA,QAAQC,OAAZ,EAAwB,CAAxB,GAA2B;AACvBC,4BAAmBF,QAAQniF,KAA3B,EAAkC,EAAC/gB,KAAKkjG,QAAQljG,GAAd,EAAlC;AACH;AACD6wD,aAAQ0xC,gBAAR,CAAyBl6E,QAAzB,CAAkC66E,OAAlC;AACH;;AAED,UAASpiD,SAAT,CAAmB//B,KAAnB,EAA0BsiF,UAA1B,EAAsClzC,OAAtC,EAA+C;AAC3C,SAAIA,QAAQ+V,SAAZ,EAAuB;AACnB;AACH;;AAED;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAIm9B,WAAWp+F,MAAf,EAA0B4rD,QAAQ+wC,cAAlC,GAAkD;AAC9CwB,4BAAmBriF,KAAnB,EAA0BovC,OAA1B;AACH,MAFD,MAEO;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAIkzC,WAAWp+F,MAAf,EAA0B4rD,QAAQ8wC,eAAlC,GAAmD;AACtD2B,8BAAqBviF,KAArB,EAA4BovC,OAA5B;AACH;;AAED,SAAI7tC,MAAM5V,KAAKqU,KAAL,CAAV;;AAEA,SAAIuB,GAAJ,EAAS;AACLA,aAAI+C,KAAJ,GAAY8qC,QAAQ9qC,KAApB;AACA/C,aAAIivC,UAAJ,GAAiBpB,QAAQoB,UAAzB;AACH;;AAEDV,aAAQyxC,QAAR,CAAiBj6E,QAAjB,CAA0BtH,KAA1B,EAAiCuB,GAAjC,EAAsC+gF,UAAtC;AACH;;AAED,UAASD,kBAAT,CAA4BriF,KAA5B,EAAmCovC,OAAnC,EAA4C;AACxCzjD,UAAKqU,KAAL,IAAcrU,KAAKqU,KAAL,KAAeyhF,oBAA7B;AACA,SAAIxiG,MAAMmwD,QAAQnwD,GAAlB;AACA,SAAI,CAAC0M,KAAKqU,KAAL,EAAY9b,MAAjB,EAAyB;AACrB;AACAyH,cAAKqU,KAAL,EAAYioC,IAAZ,GAAmB,CAAChpD,GAAD,CAAnB;AACA0M,cAAKqU,KAAL,EAAY4hF,YAAZ,GAA2BC,sBAA3B;AACAW,8BAAqBxiF,KAArB,EAA4BovC,OAA5B;AACH,MALD,MAKO;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAIzjD,KAAKqU,KAAL,EAAY9b,MAAhB,EAA2B4rD,QAAQ8wC,eAAnC,GAAoD;AACvD;AACA6B,mCAA0BziF,KAA1B,EAAiCovC,OAAjC;AACAzjD,cAAKqU,KAAL,EAAYioC,IAAZ,GAAmB,CAAChpD,GAAD,CAAnB;AACA0M,cAAKqU,KAAL,EAAY4hF,YAAZ,GAA2BC,sBAA3B;AACAl2F,cAAKqU,KAAL,EAAY0hF,iBAAZ,GAAgC,EAAhC;AACA/1F,cAAKqU,KAAL,EAAY+4C,gBAAZ,GAA+B,IAA/B;AACH,MAPM,MAOA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAIptD,KAAKqU,KAAL,EAAYioC,IAAZ,CAAiBpxC,OAAjB,CAAyB5X,GAAzB,CAAJ,EAAsC,CAAC,CAAvC,GAA0C;AAC7C;AACA0M,cAAKqU,KAAL,EAAYioC,IAAZ,CAAiB5nD,IAAjB,CAAsBpB,GAAtB;AACH;;AAED0M,UAAKqU,KAAL,EAAY9b,MAAZ,GAAqB4rD,QAAQ+wC,cAA7B;;AAEA;AACAlvF,kBAAahG,KAAKqU,KAAL,EAAYxd,OAAzB;AACA,YAAOmJ,KAAKqU,KAAL,EAAYxd,OAAnB;AACH;;AAED,UAASggG,oBAAT,CAA8BxiF,KAA9B,EAAqCovC,OAArC,EAA8C;AAC1C,SAAIszC,SAAS/2F,KAAKyjD,QAAQuzC,WAAb,CAAb;AACA,SAAID,MAAJ,EAAY;AACR,aAAIE,WAAWF,OAAOz6C,IAAP;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAAYy6C,OAAOz6C,IAAP,CAAY7nD,MAAxB,EAAiC,CAAjC,EAAf;AACA;AACA,aAAIyiG,cAAcH,OAAOhB,iBAAP;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAAyBgB,OAAOhB,iBAAP,CAAyBthG,MAAlD,EAA2D,CAA3D,EAAlB;AACA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAAIwiG,QAAJ,EAAiBC,WAAjB,GAA8B;AAC1B;AACA;AACA;AACA;AACAH,oBAAOhB,iBAAP,CAAyBznE,GAAzB;AACAtuB,kBAAKqU,KAAL,EAAY8iF,OAAZ,GAAsBd,cAAcY,QAAd,IAA0B,IAA1B,GAAiCA,QAAvD;AACH,UAPD,MAOO;AACHj3F,kBAAKqU,KAAL,EAAY8iF,OAAZ,GAAsB,IAAtB;AACH;AACJ;AACJ;;AAED,UAASL,yBAAT,CAAmCziF,KAAnC,EAA0C;AACtC,SAAI4iF,WAAWj3F,KAAKqU,KAAL,EAAYioC,IAAZ,CAAiBhuB,GAAjB,EAAf;AACA,SAAI4oE,cAAcl3F,KAAKqU,KAAL,EAAY0hF,iBAAZ,CAA8BznE,GAA9B,EAAlB;;AAEA,SAAI;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,iBAAa4oE,WAAb,KAA4B,CAACb,cAAcY,QAAd,CAAjC,EAA0D;AACtDj3F,cAAKqU,KAAL,EAAY8iF,OAAZ,GAAsBF,QAAtB;AACH,MAFD,MAEO;AACHj3F,cAAKqU,KAAL,EAAY8iF,OAAZ,GAAsB,IAAtB;AACH;AACJ;;AAED,UAASP,oBAAT,CAA8BviF,KAA9B,EAAqCovC,OAArC,EAA8C;AAC1CzjD,UAAKqU,KAAL,IAAcrU,KAAKqU,KAAL,KAAeyhF,oBAA7B;;AAEA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAI91F,KAAKqU,KAAL,EAAYioC,IAAZ,CAAiBpxC,OAAjB,CAAyBu4C,QAAQnwD,GAAjC,CAAJ,EAA8C,CAAC,CAA/C,GAAkD;AAC9C0M,cAAKqU,KAAL,EAAYioC,IAAZ,CAAiB5nD,IAAjB,CAAsB+uD,QAAQnwD,GAA9B;AACH;;AAED;AACA,SAAI8jG,YAAY3zC,QAAQztC,QAApB,CAAJ,EAAmC;AAC/BhW,cAAKqU,KAAL,EAAY84C,cAAZ,GAA6B,IAA7B;AACH,MAFD,MAEO;AACH,gBAAOntD,KAAKqU,KAAL,EAAY84C,cAAnB;AACH;AACDntD,UAAKqU,KAAL,EAAY2B,QAAZ,GAAuBytC,QAAQztC,QAA/B;;AAEA;AACAhW,UAAKqU,KAAL,EAAY9b,MAAZ,GAAqB4rD,QAAQ+wC,cAA7B;;AAEAlvF,kBAAahG,KAAKqU,KAAL,EAAYxd,OAAzB;AACAmJ,UAAKqU,KAAL,EAAYxd,OAAZ,GAAsBiP,WAClBuxF,qBAAqBphG,IAArB,CAA0B,IAA1B,EAAgCoe,KAAhC,CADkB,EAElBovC,QAAQsE,MAAR,GAAiB+sC,oBAAjB,GAAwCC,6BAFtB,CAAtB;AAIH;;AAED,UAASsC,oBAAT,CAA8BhjF,KAA9B,EAAqC;AACjC;AACA,SAAIrU,KAAKqU,KAAL,CAAJ,EAAiB;AACb,gBAAOrU,KAAKqU,KAAL,EAAYxd,OAAnB;AACAmJ,cAAKqU,KAAL,EAAY9b,MAAZ,GAAqB4rD,QAAQ8wC,eAA7B;AACA;AACAj1F,cAAKqU,KAAL,EAAY0hF,iBAAZ,GAAgC,EAAhC;AACA5xC,iBAAQsxC,UAAR,CAAmB95E,QAAnB,CAA4BtH,KAA5B,EAAmCrU,KAAKqU,KAAL,CAAnC;AACAijF,wCAA+BjjF,KAA/B;AACH;AACJ;;AAED,UAAS7T,SAAT,CAAmB6T,KAAnB,EAA0BmvC,UAA1B,EAAsC;AAClC,SAAI,CAACxjD,KAAKqU,KAAL,CAAL,EAAkB;AACd;AACH;;AAED8vC,aAAQuxC,QAAR,CAAiB/5E,QAAjB,CAA0BtH,KAA1B,EAAiCrU,KAAKqU,KAAL,CAAjC,EAA8CmvC,UAA9C;;AAEA,YAAOxjD,KAAKqU,KAAL,CAAP;AACH;;AAED,UAASshF,WAAT,CAAqB4B,UAArB,EAAiC;AAC7B,SAAIljF,QAAQkjF,WAAWljF,KAAvB;AACA,SAAI,CAACrU,KAAKqU,KAAL,CAAL,EAAkB;AACd;AACH;AACD;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAIrU,KAAKqU,KAAL,EAAY9b,MAAhB,EAA2B4rD,QAAQ8wC,eAAnC,GAAoD;AAChD9wC,iBAAQwxC,WAAR,CAAoBh6E,QAApB,CAA6BtH,KAA7B,EAAoCrU,KAAKqU,KAAL,CAApC,EAAiDkjF,UAAjD;AACH;AACJ;;AAED,UAASC,UAAT,CAAoBC,UAApB,EAAgCC,YAAhC,EAA8C;AAC1C13F,UAAKy3F,UAAL,IAAmBz3F,KAAK03F,YAAL,CAAnB;AACA,YAAO13F,KAAK03F,YAAL,CAAP;AACH;;AAED;;;;AAIA,UAASC,wBAAT,CAAkCC,UAAlC,EAA8C;AAC1C73F,YAAOC,IAAP,CAAYo0C,SAAZ,CAAsBwjD,UAAtB,EAAkCxjD,SAAlC;AACAr0C,YAAOC,IAAP,CAAYQ,SAAZ,CAAsBo3F,UAAtB,EAAkCp3F,SAAlC;AACAT,YAAOC,IAAP,CAAYw3F,UAAZ,CAAuBI,UAAvB,EAAmCJ,UAAnC;AACAz3F,YAAOC,IAAP,CAAY21F,WAAZ,CAAwBiC,UAAxB,EAAoCjC,WAApC;AACA;AACA;AACA;AACA;AACA,SAAI51F,OAAO4rF,aAAP,IAAwB5rF,OAAO4rF,aAAP,CAAqBkK,gBAAjD,EAAmE;AAC/D91F,gBAAO4rF,aAAP,CAAqBkK,gBAArB,CAAsC+B,UAAtC,EAAkDrB,kBAAlD;AACH;AACD;AACA;AACH;;AAED;;;;;AAKA,UAASa,WAAT,CAAqBphF,QAArB,EAA+B;AAC3B,YAAOlV,OAAOd,IAAP,EAAazL,KAAb,CAAmB;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAAOqhB,IAAII,QAAX,EAAwBA,QAAxB;AAAA,MAAnB,CAAP;AACH;;AAED;;;AAGA,UAASshF,8BAAT,CAAwCjjF,KAAxC,EAA+C;AAC3C,SAAIm3E,WAAWwJ,wBAAwBtzF,GAAxB,CAA4B2S,KAA5B,CAAf;AACA,SAAIvI,MAAMC,OAAN,CAAcy/E,QAAd,CAAJ,EAA6B;AACzBA,kBAASz1F,OAAT,CAAiB;AAAA,oBAAW2zB,QAAQj4B,QAAR,CAAiBqV,KAAjB,CAAuB4iB,QAAQ85D,OAA/B,CAAX;AAAA,UAAjB;AACH;AACDwR,6BAAwBnzF,MAAxB,CAA+BwS,KAA/B;AACH;;AAED,KAAIgG,eAAes9E,yBAAyB1hG,IAAzB,CAA8B,IAA9B,EAAoC,aAApC,CAAnB;AACA,KAAIq/F,kBAAkBqC,yBAAyB1hG,IAAzB,CAA8B,IAA9B,EAAoC,gBAApC,CAAtB,C;;;;;;ACjWA;;AAEA,KAAI+e,YAAY,mBAAA3kB,CAAQ,GAAR,CAAhB;AACA,KAAIe,SAAS,mBAAAf,CAAQ,CAAR,EAA8BgB,MAA9B,CAAqC,sBAArC,CAAb;AACA,KAAIqgB,aAAa,mBAAArhB,CAAQ,GAAR,CAAjB;AACA,KAAI6e,WAAW,mBAAA7e,CAAQ,GAAR,CAAf;AACA,KAAI4M,SAAS,mBAAA5M,CAAQ,GAAR,CAAb;AACA,KAAIwnG,YAAY,mBAAAxnG,CAAQ,GAAR,CAAhB;;AAEA,KAAIynG,4BAA4B,GAAhC;;AAEAtmG,SAAQ0T,IAAR,GAAe,YAAY;AACvB8P,eAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgB2xB,yBAA7B,EAAwD0wD,uBAAxD;AACA/iF,eAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgB0xB,WAA7B,EAA0C4wD,uBAA1C;AACA,SAAI5jD,YAAYllC,SAAS+oF,sBAAT,EAAiCH,yBAAjC,CAAhB;AACApmF,gBAAW0iC,SAAX,CAAqBlzC,WAArB,CAAiCkzC,SAAjC;AACH,EALD;;AAOA5iD,SAAQ0mG,UAAR,GAAqB,YAAY;AAC7BL,eAAUn/C,eAAV,GACKx4C,IADL,CACU,sBAAc;AAChBi4F,oBAAWpiG,OAAX,CAAmB,UAACiK,IAAD,EAAOgW,QAAP,EAAoB;AACnC,iBAAIqB,YAAY3F,WAAW2F,SAAX,CAAqBrB,QAArB,CAAhB;AACAoiF,+BAAkBp4F,IAAlB,EAAwBqX,SAAxB;AACH,UAHD;AAIH,MANL;AAOH,EARD;;AAUA,UAAS4gF,sBAAT,GAAkC;AAC9BzmG,aAAQ0mG,UAAR;AACH;;AAED;;;;AAIA,UAASE,iBAAT,CAA2Bp4F,IAA3B,EAAiCqX,SAAjC,EAA4C;AACxCrX,UAAKjK,OAAL,CAAa,UAAU6f,GAAV,EAAe;AACxBZ,mBAAUlf,IAAV,CACImH,OAAOU,OAAP,CAAe2qC,wBADnB,EAEI,EAAC+vD,OAAO,CAAChhF,SAAT,EAFJ,EAGIzB,IAAIjU,EAHR;AAKH,MAND;AAOH;;AAED;;;;;AAKA,UAASo2F,uBAAT,CAAiCvjF,GAAjC,EAAsCC,MAAtC,EAA8CC,YAA9C,EAA4D;AACxD,SAAID,UAAUA,OAAOmB,GAArB,EAA0B;AACtBxkB,gBAAOsB,IAAP,CAAY,2BAAZ;AACAtB,gBAAOsB,IAAP,CAAY,2BAAZ,EAAyC+hB,OAAOmB,GAAP,CAAWjU,EAApD,EAAwD8S,OAAOmB,GAAP,CAAWI,QAAnE;AACAtB,sBAAahD,WAAW0wC,aAAX,CAAyB3tC,OAAOmB,GAAP,CAAWI,QAApC,CAAb;AACH;AACJ;;AAED;;;AAGA,UAASgiF,uBAAT,CAAiCxjF,GAAjC,EAAsC;AAClC,SAAIA,OAAOA,IAAI7S,EAAf,EAAmB;AACfvQ,gBAAOsB,IAAP,CAAY,2BAAZ,EAAyC8hB,IAAI7S,EAA7C;AACA+P,oBAAWmwC,WAAX,CAAuBrtC,IAAI7S,EAA3B;AACH;AACJ,E;;;;;;ACnED;;AAEA,KAAIwT,aAAa,mBAAA9kB,CAAQ,GAAR,CAAjB;;AAEA;;;AAGAmB,SAAQolB,UAAR,GAAqB,YAAY;AAC7B,SAAI0hF,UAAUnjF,WAAWyB,UAAX,EAAd;AACA,SAAI0hF,OAAJ,EAAa;AACT,gBAAO;AACH3/E,oBAAO2/E,QAAQ3/E,KADZ;AAEHyK,mBAAMk1E,QAAQl1E,IAFX;AAGHyc,qBAAQy4D,QAAQh8B;AAHb,UAAP;AAKH;AACJ,EATD,C;;;;;;ACPA;;;;;;AAMA;;AAEA9qE,SAAQ0T,IAAR,GAAe,YAAY;AACvB7U,KAAA,mBAAAA,CAAQ,GAAR,EAAoB6U,IAApB;AACA7U,KAAA,mBAAAA,CAAQ,GAAR,EAAoB6U,IAApB;AACA7U,KAAA,mBAAAA,CAAQ,GAAR,EAA2B6U,IAA3B;AACA7U,KAAA,mBAAAA,CAAQ,GAAR,EAAsB6U,IAAtB;AACA7U,KAAA,mBAAAA,CAAQ,GAAR,EAA6B6U,IAA7B;AACA7U,KAAA,mBAAAA,CAAQ,GAAR,EAAyB6U,IAAzB;AACA7U,KAAA,mBAAAA,CAAQ,GAAR,EAAoB6U,IAApB;AACA7U,KAAA,mBAAAA,CAAQ,GAAR,EAAyB6U,IAAzB;AACA7U,KAAA,mBAAAA,CAAQ,GAAR,EAA0B6U,IAA1B;AACA7U,KAAA,mBAAAA,CAAQ,GAAR,EAAkB6U,IAAlB;AACA7U,KAAA,mBAAAA,CAAQ,GAAR,EAAqB6U,IAArB;AACA7U,KAAA,mBAAAA,CAAQ,GAAR,EAAuB6U,IAAvB;AACA7U,KAAA,mBAAAA,CAAQ,GAAR,EAA2B6U,IAA3B;AACA7U,KAAA,mBAAAA,CAAQ,GAAR,EAAyB6U,IAAzB;AACA7U,KAAA,mBAAAA,CAAQ,GAAR,EAAyB6U,IAAzB;AACA7U,KAAA,mBAAAA,CAAQ,GAAR,EAAyB6U,IAAzB;AACA7U,KAAA,mBAAAA,CAAQ,GAAR,EAA0B6U,IAA1B;AACA7U,KAAA,mBAAAA,CAAQ,GAAR,EAA4B6U,IAA5B;AACA7U,KAAA,mBAAAA,CAAQ,GAAR,EAAuB6U,IAAvB;AACA7U,KAAA,mBAAAA,CAAQ,GAAR,EAAmB6U,IAAnB;AACA7U,KAAA,mBAAAA,CAAQ,GAAR,EAA0B6U,IAA1B;AACA7U,KAAA,mBAAAA,CAAQ,GAAR,EAAkC6U,IAAlC;AACA7U,KAAA,mBAAAA,CAAQ,GAAR,EAAiB6U,IAAjB;AACH,EAxBD,C;;;;;;ACRA;;;AAGA;;AAEA,KAAI9T,SAAS,mBAAAf,CAAQ,CAAR,EAA8BgB,MAA9B,CAAqC,iBAArC,CAAb;AACA,KAAI2jB,YAAY,mBAAA3kB,CAAQ,GAAR,CAAhB;AACA,KAAI4M,SAAS,mBAAA5M,CAAQ,GAAR,CAAb;;AAEAuC,QAAOpB,OAAP,CAAe0T,IAAf,GAAsB,YAAY;AAC9B8P,eAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgBkwB,iBAA7B,EAAgD,UAAUpxB,GAAV,EAAe;AAC3D;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAAI,OAAOpjB,OAAOojB,IAAIw4B,KAAX,CAAX,EAAiC,UAAjC,GAA6C;AACzC57C,oBAAOojB,IAAIw4B,KAAX,EAAkBx4B,IAAIzc,GAAtB;AACH,UAFD,MAEO;AACH3G,oBAAO8G,KAAP,CAAa,yBAAb,EAAwCsc,IAAIw4B,KAA5C;AACH;AACJ,MAND;AAOH,EARD,C;;;;;;ACTA;;;AAGA;;AAEA,KAAIh4B,YAAY,mBAAA3kB,CAAQ,GAAR,CAAhB;AACA,KAAIkoG,YAAY,mBAAAloG,CAAQ,GAAR,CAAhB;AACA,KAAImoG,cAAc,mBAAAnoG,CAAQ,GAAR,CAAlB;AACA,KAAIooG,YAAY,mBAAApoG,CAAQ,GAAR,CAAhB;AACA,KAAIqoG,SAAS,mBAAAroG,CAAQ,GAAR,CAAb;AACA,KAAIkhB,aAAa,mBAAAlhB,CAAQ,GAAR,CAAjB;AACA,KAAI6e,WAAW,mBAAA7e,CAAQ,GAAR,CAAf;AACA,KAAIsoG,cAAc,mBAAAtoG,CAAQ,GAAR,CAAlB;AACA,KAAIw6C,QAAQ,mBAAAx6C,CAAQ,GAAR,CAAZ;AACA,KAAI4M,SAAS,mBAAA5M,CAAQ,GAAR,CAAb;;AAEA,KAAIuoG,yBAAyB,GAA7B;;AAEApnG,SAAQ0T,IAAR,GAAe,YAAY;AACvB,SAAI2zF,iBAAiB3pF,SAASypF,YAAYplF,OAArB,EAA8BqlF,sBAA9B,CAArB;AACArnF,gBAAW6H,SAAX,CAAqBlY,WAArB,CAAiC23F,cAAjC;;AAEA;AACA;AACAtnF,gBAAW25B,aAAX,CAAyBhqC,WAAzB,CAAqCy3F,YAAYplF,OAAjD;;AAEAyB,eAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgBkxB,kBAA7B,EAAiDkyD,gBAAjD;;AAEA9jF,eAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgBoxB,YAA7B,EAA2C,UAAUtyB,GAAV,EAAe;AACtDgkF,qBAAYhkF,IAAI2b,KAAhB;AACH,MAFD;;AAIAnb,eAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgBmxB,UAA7B,EAAyC,UAAUryB,GAAV,EAAe;AACpD+jF,mBAAU/jF,IAAI2b,KAAd,EAAqB3b,IAAIlY,IAAzB;AACH,MAFD;;AAIA0Y,eAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgB8wB,SAA7B,EAAwC,UAAUhyB,GAAV,EAAe;AACnDkkF,gBAAO3X,GAAP,CAAWvsE,IAAI2b,KAAf;AACH,MAFD;;AAIAnb,eAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgB+wB,WAA7B,EAA0C,UAAUjyB,GAAV,EAAe;AACrDkkF,gBAAOK,KAAP,CAAavkF,IAAI2b,KAAjB;AACH,MAFD;;AAIAnb,eAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgBqxB,UAA7B,EAAyC,UAAUvyB,GAAV,EAAe;AACpDikF,mBAAUjkF,IAAIwkF,QAAd,EAAwBxkF,IAAIykF,QAA5B;AACH,MAFD;AAGH,EA7BD;;AA+BA,UAASH,gBAAT,CAA0BtkF,GAA1B,EAA+BC,MAA/B,EAAuC;AACnC,SAAIm1B,QAAQ,IAAIiB,KAAJ,CAAUr2B,IAAIlhB,GAAd,CAAZ;AACAs2C,WAAMmC,MAAN,CAAa,KAAb,EAAoB,YAAY;AAC5B4sD,qBAAYhvD,aAAZ,CAA0BC,KAA1B,EAAiCn1B,OAAOmB,GAAP,CAAWjU,EAA5C;AACH,MAFD;AAGH,E;;;;;;ACtDD;;;;AAIA;;AAEA,KAAIvQ,SAAS,mBAAAf,CAAQ,CAAR,EAA8BgB,MAA9B,CAAqC,UAArC,CAAb;AACA,KAAIuS,WAAW,mBAAAvT,CAAQ,EAAR,CAAf;AACA,KAAIw6C,QAAQ,mBAAAx6C,CAAQ,GAAR,CAAZ;AACA,KAAIkhB,aAAa,mBAAAlhB,CAAQ,GAAR,CAAjB;AACA,KAAI6oG,iBAAiB,mBAAA7oG,CAAQ,GAAR,CAArB;;AAEA;;;;;;AAMA,UAAS8oG,YAAT,CAAsBC,SAAtB,EAAiC;AAC7B,SAAIvpD,YAAYjsC,SAASyF,YAAT,CAAsB+vF,SAAtB,CAAhB;AACAvpD,iBAAYjsC,SAAS8I,oBAAT,CAA8BmjC,SAA9B,CAAZ;AACA,YAAOjsC,SAASwD,SAAT,CAAmByoC,SAAnB,CAAP;AACH;;AAED;;;;;;;;;AASA,UAASwpD,eAAT,CAAyBlpE,KAAzB,EAAgC7zB,IAAhC,EAAsC;AAClC,SAAIstC,QAAQ0vD,YAAYnpE,KAAZ,EAAmB7zB,IAAnB,CAAZ;AACA48F,oBAAe7gC,SAAf,CAAyBz0D,SAASmG,eAAT,CAAyB6/B,MAAMt2C,GAA/B,CAAzB;AACAie,gBAAW+5B,OAAX,CAAmBnb,KAAnB,EAA0ByZ,KAA1B;AACAA,WAAMmC,MAAN;AACH;;AAED;;;;;;;;;;AAUA,UAASutD,WAAT,CAAqBnpE,KAArB,EAA4B7zB,IAA5B,EAAkC;AAC9B,SAAI6wF,gBAAgB57E,WAAWu4B,OAAX,CAAmB3Z,KAAnB,CAApB;AACA,SAAIyZ,QAAQujD,iBAAiB,IAAItiD,KAAJ,EAA7B;AACAjB,WAAMt2C,GAAN,GAAYgJ,KAAKgL,GAAL,CAAS8b,IAAT,EAAZ;AACA;AACA,SAAI9mB,KAAKqc,KAAL,IAAew0E,iBAAiBA,cAAcx0E,KAAlD,EAA0D;AACtDixB,eAAMjxB,KAAN,GAAcrc,KAAKqc,KAAnB;AACH;AACDixB,WAAMI,MAAN,GAAe,CAAf;AACA,YAAOJ,KAAP;AACH;;AAED;;;;;;;;AAQAh3C,QAAOpB,OAAP,GAAiB,UAAU2+B,KAAV,EAAiB7zB,IAAjB,EAAuB;AACpClL,YAAOsB,IAAP,CAAY,qBAAZ,EAAmCy9B,KAAnC,EAA0C7zB,IAA1C;AACAA,UAAKgL,GAAL,GAAW6xF,aAAa78F,KAAKhJ,GAAlB,CAAX;AACA,SAAIimG,gBAAgBj9F,KAAKgL,GAArB,CAAJ,EAA+B;AAC3B+xF,yBAAgBlpE,KAAhB,EAAuB7zB,IAAvB;AACH,MAFD,MAEO;AACH;AACA;AACAiV,oBAAW25B,aAAX,CAAyBvvB,QAAzB,CAAkCwU,KAAlC;AACH;AACJ,EAVD;;AAYA;;;;AAIA,UAASopE,eAAT,CAAyBjyF,GAAzB,EAA8B;AAC1B,YAAOA,QAAQA,IAAIC,EAAJ,CAAO,KAAP,KAAiBD,IAAIC,EAAJ,CAAO,KAAP,CAAzB,CAAP;AACH,E;;;;;;ACxFD;;;;AAIA;;AAEA,KAAIgK,aAAa,mBAAAlhB,CAAQ,GAAR,CAAjB;AACA,KAAIe,SAAS,mBAAAf,CAAQ,CAAR,EAA8BgB,MAA9B,CAAqC,aAArC,CAAb;AACA,KAAImoG,YAAY,mBAAAnpG,CAAQ,GAAR,CAAhB;AACA,KAAIuT,WAAW,mBAAAvT,CAAQ,EAAR,CAAf;;AAEAuC,QAAOpB,OAAP,GAAiB,UAAU2+B,KAAV,EAAiB;AAC9B,SAAIyZ,QAAQr4B,WAAWu4B,OAAX,CAAmB3Z,KAAnB,CAAZ;AACA,SAAIyZ,KAAJ,EAAW;AACPx4C,gBAAOsB,IAAP,CAAY,WAAZ,EAAyBk3C,MAAMt2C,GAA/B;AACAklG,qBAAY5uD,KAAZ,EAAmBzZ,KAAnB;AACH;AACJ,EAND;;AAQA,UAASqoE,WAAT,CAAqB5uD,KAArB,EAA4BzZ,KAA5B,EAAmC;AAC/B5e,gBAAWo6B,UAAX,CAAsBxb,KAAtB;AACA,SAAIjmB,SAAStG,SAASmG,eAAT,CAAyB6/B,MAAMt2C,GAA/B,CAAb;AACA,SAAI,CAACie,WAAW06B,SAAX,CAAqB/hC,MAArB,CAAL,EAAmC;AAC/BsvF,mBAAU1iC,SAAV,CAAoB5sD,MAApB;AACH;AACJ,E;;;;;;ACzBD;;;;AAIA;;AAEA,KAAIqH,aAAa,mBAAAlhB,CAAQ,GAAR,CAAjB;;AAEAuC,QAAOpB,OAAP,GAAiB,UAAUwnG,QAAV,EAAoBC,QAApB,EAA8B;AAC3C,SAAIrvD,QAAQr4B,WAAWu4B,OAAX,CAAmBkvD,QAAnB,CAAZ;AACA,SAAIpvD;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAASovD,QAAT,EAAsBC,QAAtB,CAAJ,EAAoC;AAChCrvD,eAAMI,MAAN,GAAe,IAAf;AACAz4B,oBACKo6B,UADL,CACgBqtD,QADhB,EAEKttD,UAFL,CAEgButD,QAFhB,EAE0BrvD,KAF1B;AAGH;AACJ,EARD,C;;;;;;ACRA;;;;AAIA;;AAEA,KAAIr4B,aAAa,mBAAAlhB,CAAQ,GAAR,CAAjB;AACA,KAAIe,SAAS,mBAAAf,CAAQ,CAAR,EAA8BgB,MAA9B,CAAqC,aAArC,CAAb;;AAEAG,SAAQuvF,GAAR,GAAc,UAAU5wD,KAAV,EAAiB;AAC3BspE,iBAAY,IAAZ,EAAkBtpE,KAAlB;AACH,EAFD;;AAIA3+B,SAAQunG,KAAR,GAAgB,UAAU5oE,KAAV,EAAiB;AAC7BspE,iBAAY,KAAZ,EAAmBtpE,KAAnB;AACH,EAFD;;AAIA,UAASspE,WAAT,CAAqBC,OAArB,EAA8BvpE,KAA9B,EAAqC;AACjC,SAAIyZ,QAAQr4B,WAAWu4B,OAAX,CAAmB3Z,KAAnB,CAAZ;AACA,SAAIyZ;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAShvB,QAAQgvB,MAAMI,MAAd,CAAT,EAAmC0vD,OAAnC,CAAJ,EAAgD;AAC5CtoG,gBAAOsB,IAAP,CACI,mCADJ,EAEIy9B,KAFJ,EAEWyZ,MAAMt2C,GAFjB,EAEsBomG,OAFtB;AAIA9vD,eAAMI,MAAN,GAAe0vD,OAAf;AACH,MAND,MAMO;AACHC,oBAAW/vD,KAAX;AACH;AACJ;;AAED,UAAS+vD,UAAT,CAAoB/vD,KAApB,EAA2B;AACvB,SAAIA,KAAJ,EAAW;AACPx4C,gBAAO2jB,IAAP,CACI,8BADJ,EAEI,qCAFJ,EAGI60B,MAAMI,MAHV;AAKH,MAND,MAMO;AACH54C,gBAAO2jB,IAAP,CACI,2BADJ,EAEI,sBAFJ;AAIH;AACJ,E;;;;;;AC3CD;;;;AAIA;;AAEA,KAAIC,YAAY,mBAAA3kB,CAAQ,GAAR,CAAhB;AACA,KAAIupG,eAAe,mBAAAvpG,CAAQ,GAAR,CAAnB;AACA,KAAIsoG,cAAc,mBAAAtoG,CAAQ,GAAR,CAAlB;AACA,KAAI4M,SAAS,mBAAA5M,CAAQ,GAAR,CAAb;;AAEAmB,SAAQ0T,IAAR,GAAe,YAAY;AACvB8P,eAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgBgxB,oBAA7B,EAAmD,UAAUlyB,GAAV,EAAeC,MAAf,EAAuBC,YAAvB,EAAqC;AACpFklF,sBAAaC,cAAb,CAA4BrlF,IAAIslF,MAAhC,EAAwC,UAAUjjF,MAAV,EAAkB;AACtDnC,0BAAaqlF,aAAaljF,MAAb,CAAb;AACH,UAFD;AAGA,gBAAO,IAAP;AACH,MALD;;AAOA7B,eAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgBixB,qBAA7B,EAAoD,UAAUnyB,GAAV,EAAeC,MAAf,EAAuBC,YAAvB,EAAqC;AACrFklF,sBAAaI,UAAb,CAAwBxlF,IAAIslF,MAA5B,EAAoC,UAAUjjF,MAAV,EAAkB;AAClDnC,0BAAaqlF,aAAaljF,MAAb,CAAb;AACH,UAFD;AAGA,gBAAO,IAAP;AACH,MALD;;AAOA+iF,kBAAaK,cAAb,CAA4B/4F,WAA5B,CAAwCg5F,qBAAxC;AACH,EAhBD;;AAkBA,UAASH,YAAT,CAAsBljF,MAAtB,EAA8B;AAC1B,YAAOA,OAAOliB,GAAP,CAAWgkG,YAAY9uD,sBAAvB,CAAP;AACH;;AAED,UAASqwD,qBAAT,CAA+BtwD,KAA/B,EAAsC;AAClC+uD,iBAAYhvD,aAAZ,CAA0BC,KAA1B;AACH,E;;;;;;ACnCD;;;;AAIA;;AAEA,KAAIh5B,WAAW,mBAAAvgB,CAAQ,GAAR,CAAf;AACA,KAAIkhB,aAAa,mBAAAlhB,CAAQ,GAAR,CAAjB;AACA,KAAIkuB,YAAY,mBAAAluB,CAAQ,GAAR,CAAhB;AACA,KAAI2P,OAAO,mBAAA3P,CAAQ,GAAR,CAAX;AACA,KAAIuT,WAAW,mBAAAvT,CAAQ,EAAR,CAAf;AACA,KAAI8pG,uBAAuB,mBAAA9pG,CAAQ,GAAR,CAA3B;AACA,KAAI+pG,aAAa,mBAAA/pG,CAAQ,GAAR,CAAjB;AACA,KAAI8wD,SAAS,mBAAA9wD,CAAQ,GAAR,CAAb;AACA,KAAIe,SAAS,mBAAAf,CAAQ,CAAR,EAA8BgB,MAA9B,CAAqC,cAArC,CAAb;AACA,KAAIgpG,gBAAgB,mBAAAhqG,CAAQ,GAAR,CAApB;AACA,KAAIwf,OAAO,mBAAAxf,CAAQ,GAAR,CAAX;AACA,KAAI2pB,UAAU,mBAAA3pB,CAAQ,EAAR,CAAd;AACA,KAAIiqG,iBAAiB,CAArB;;AAEA9oG,SAAQqoG,cAAR,GAAyB,UAAUC,MAAV,EAAkBroG,QAAlB,EAA4B;AACjDmf,cAAS4wB,QAAT,CAAkB;AACd+4D,8BAAqBC,sBADP;AAEdx6F,eAAMy6F,WAFQ;AAGdvqD,kBAASkgB;AAHK,MAAlB,EAIG,UAAUsqC,MAAV,EAAkBp+F,IAAlB,EAAwB;AACvBA,cAAKua,MAAL,GAAc,CAACva,KAAK0D,IAAL,IAAa,EAAd,EAAkB+4C,MAAlB,CAAyBz8C,KAAK4zC,OAA9B,CAAd;AACAyqD,8BAAqBr+F,IAArB,EAA2Bw9F,MAA3B,EAAmCroG,QAAnC;AACH,MAPD;AAQH,EATD;;AAWAD,SAAQwoG,UAAR,GAAqB,UAAUF,MAAV,EAAkBroG,QAAlB,EAA4B;AAC7Cmf,cAAS4wB,QAAT,CAAkB;AACd+4D,8BAAqBC,sBADP;AAEdj8E,oBAAWq8E,YAFG;AAGdC,2BAAkBC;AAHJ,MAAlB,EAIG,UAAUJ,MAAV,EAAkBp+F,IAAlB,EAAwB;AACvBA,cAAKua,MAAL,GAAckkF,uBAAuBz+F,KAAKiiB,SAA5B,EAAuCjiB,KAAKu+F,gBAA5C,CAAd;AACAF,8BAAqBr+F,IAArB,EAA2Bw9F,MAA3B,EAAmCroG,QAAnC;AACH,MAPD;AAQH,EATD;;AAWAD,SAAQyoG,cAAR,GAAyBjgF,QAAQ3oB,MAAR,EAAzB;;AAEA,UAASspG,oBAAT,CAA8Br+F,IAA9B,EAAoCw9F,MAApC,EAA4CroG,QAA5C,EAAsD;AAClD0oG,0BAAqB79F,IAArB,EAA2Bw9F,MAA3B,EAAmC,UAAUjjF,MAAV,EAAkB;AACjDA,gBAAO9gB,OAAP,CAAeilG,WAAf;AACAvpG,kBAASolB,MAAT;AACH,MAHD;AAIH;;AAED,UAASmkF,WAAT,CAAqBpxD,KAArB,EAA4B;AACxB,SAAI,CAACA,MAAMxwB,SAAN,CAAgBkzB,WAAhB,CAA4B2tD,cAA5B,CAAL,EAAkD;AAC9CrwD,eAAMxwB,SAAN,CAAgBlY,WAAhB,CAA4B+4F,cAA5B;AACH;AACDrwD,WAAMmC,MAAN;AACH;;AAED,UAASkuD,cAAT,CAAwBrwD,KAAxB,EAA+B;AAC3Bp4C,aAAQyoG,cAAR,CAAuBt+E,QAAvB,CAAgCiuB,KAAhC;AACH;;AAED,UAAS6wD,WAAT,CAAqBhpG,QAArB,EAA+B;AAC3BuO,UAAKqW,OAAL,CAAa,UAAUne,KAAV,EAAiB8H,IAAjB,EAAuB;AAChC,aAAI9H,KAAJ,EAAW;AACP9G,oBAAOsB,IAAP,CAAY,uBAAZ,EAAqCwF,KAArC;AACH;AACDzG,kBAAS,IAAT,EAAeuO,IAAf;AACH,MALD;AAMH;;AAED,UAAS46F,YAAT,CAAsBnpG,QAAtB,EAAgC;AAC5B8sB,eAAUqB,UAAV,CAAqB,UAAU1nB,KAAV,EAAiBg2C,OAAjB,EAA0B;AAC3C,aAAIh2C,KAAJ,EAAW;AACP9G,oBAAOsB,IAAP,CAAY,wBAAZ,EAAsCwF,KAAtC;AACH;AACDzG,kBAAS,IAAT,EAAey8C,OAAf;AACH,MALD;AAMH;;AAED,UAASssD,sBAAT,CAAgC/oG,QAAhC,EAA0C;AACtC,SAAImrB,UAAUrL,WAAW+E,KAAX,CAAiB3hB,GAAjB,CAAqB,UAAUi1C,KAAV,EAAiB;AAChD,gBAAOhmC,SAASmG,eAAT,CAAyB6/B,MAAMt2C,GAA/B,CAAP;AACH,MAFa,CAAd;AAGA7B,cAAS,IAAT,EAAemrB,OAAf;AACH;;AAED,UAASwzC,UAAT,CAAoB3+D,QAApB,EAA8B;AAC1B2oG,gBAAW,EAACxiB,WAAW,CAAZ,EAAX,EAA2B,UAAU1nC,OAAV,EAAmB;AAC1Cz+C,kBAAS,IAAT,EAAewpG,gBAAgB/qD,OAAhB,CAAf;AACH,MAFD;AAGH;;AAED,UAAS+qD,eAAT,CAAyB15D,IAAzB,EAA+B;AAC3B,YAAOA,KAAKwb,IAAL,CAAU,UAAUr1B,CAAV,EAAa61B,CAAb,EAAgB;AAC7B;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAAOA,EAAEu8B,aAAT,EAAyBpyD,EAAEoyD,aAA3B;AACH,MAFM,CAAP;AAGH;;AAED,UAASghB,mBAAT,CAA6BrpG,QAA7B,EAAuC;AACnC4oG,mBAAc34F,GAAd,CAAkB,UAAUxJ,KAAV,EAAiBqO,MAAjB,EAAyB;AACvC,aAAIrO,KAAJ,EAAW;AACP9G,oBAAOsB,IAAP,CAAY,yBAAZ,EAAuCwF,KAAvC;AACH;AACDzG,kBAAS,IAAT,EAAe8U,MAAf;AACH,MALD;AAMH;;AAED,UAASw0F,sBAAT,CAAgCx8E,SAAhC,EAA2Cs8E,gBAA3C,EAA6D;AACzD,SAAIhkF,SAASqkF,wBAAwBL,gBAAxB,EAA0Ct8E,SAA1C,CAAb;AACA,YAAO1H,OAAOkmC,IAAP,CAAYoE,MAAZ,CAAP;AACH;;AAED,UAAS+5C,uBAAT,CAAiC35D,IAAjC,EAAuChjB,SAAvC,EAAkD;AAC9C,SAAI48E,iBAAiB,EAArB;AACA,UAAK,IAAItmG,IAAI,CAAb,EAAgBA,IAAI0pB,UAAU9pB,MAA9B,EAAsCI,GAAtC,EAA2C;AACvC,aAAIumG,oBAAoBC,4BAA4B98E,UAAU1pB,CAAV,CAA5B,CAAxB;AACA,aAAIymG,YAAYzrF,KAAK0xB,IAAL,EAAW,KAAX,EAAkB65D,kBAAkB9nG,GAApC,CAAhB;AACA,aAAIgoG,SAAJ,EAAe;AACXA,uBAAUjqC,MAAV;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,eAAoBiqC,UAAUjqC,MAAV,IAAoB,CAAxC,EAA6CipC,cAA7C;AACH,UAFD,MAEO;AACHa,4BAAezmG,IAAf,CAAoB0mG,iBAApB;AACH;AACJ;AACD,YAAO75D,KAAKwX,MAAL,CAAYoiD,cAAZ,CAAP;AACH;;AAED,UAASE,2BAAT,CAAqCl8E,QAArC,EAA+C;AAC3C,YAAO;AACH7rB,cAAK6rB,SAAS7rB,GADX;AAEHqlB,gBAAOwG,SAASxG,KAFb;AAGH04C,iBAAQipC;AAHL,MAAP;AAKH,E;;;;;;ACrID;;;;AAIA;;AAEA,KAAI12F,WAAW,mBAAAvT,CAAQ,EAAR,CAAf;AACA,KAAIw6C,QAAQ,mBAAAx6C,CAAQ,GAAR,CAAZ;AACA,KAAIssB,YAAY,mBAAAtsB,CAAQ,GAAR,CAAhB;;AAEA,KAAIkrG,mBAAmB,EAAvB;AACA,KAAIC,YAAY,EAAhB;;AAEA;;;;;;;;AAQA5oG,QAAOpB,OAAP,GAAiB,UAAU8K,IAAV,EAAgBw9F,MAAhB,EAAwBroG,QAAxB,EAAkC;AAC/CkrB,eAAUy5D,aAAV,CAAwB,UAAUC,gBAAV,EAA4B;AAChD,aAAIx/D,SAASva,KAAKua,MAAlB;AACAA,kBAAS4kF,gBAAgB5kF,MAAhB,EAAwBva,KAAKi+F,mBAA7B,EAAkDlkB,gBAAlD,CAAT;AACAx/D,kBAAS6kF,aAAa7kF,MAAb,EAAqBijF,MAArB,CAAT;AACAjjF,kBAASA,OAAOliB,GAAP,CAAWk2C,MAAM4C,QAAjB,CAAT;AACAh8C,kBAASolB,MAAT;AACH,MAND;AAOH,EARD;;AAUA,UAAS4kF,eAAT,CAAyBE,SAAzB,EAAoCpB,mBAApC,EAAyDlkB,gBAAzD,EAA2E;AACvE,SAAI9vE,SAAS,EAAb;AACA,SAAIq1F,mBAAmBrB,mBAAvB;AACA,UAAK,IAAI1lG,IAAI,CAAb,EAAgBA,IAAI8mG,UAAUlnG,MAA9B,EAAsCI,GAAtC,EAA2C;AACvC,aAAI0R,OAAO9R,MAAP,IAAiB8mG,gBAArB,EAAuC;AACnC;AACH;AACD,aAAID,YAAYK,UAAU9mG,CAAV,CAAhB;AACA,aAAIgnG,cAAcj4F,SAASmG,eAAT,CAAyBuxF,UAAUhoG,GAAnC,CAAlB;AACA,aAAIwoG,gBAAgBR,SAAhB,EAA2BO,WAA3B,EAAwCD,gBAAxC,EAA0DvlB,gBAA1D,CAAJ,EAAiF;AAC7EulB,8BAAiBlnG,IAAjB,CAAsBmnG,WAAtB;AACAt1F,oBAAO7R,IAAP,CAAY4mG,SAAZ;AACH;AACJ;AACD,YAAO/0F,MAAP;AACH;;AAED,UAASu1F,eAAT,CAAyBR,SAAzB,EAAoCO,WAApC,EAAiDD,gBAAjD,EAAmEvlB,gBAAnE,EAAqF;AACjF,YAAO;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,wBAAiBnrE,OAAjB,CAAyB2wF,WAAzB,GAA0C,CAAC,CAA3C,KACA,CAACxlB,iBAAiBO,QAAjB,CAA0B0kB,UAAUhoG,GAApC,EAAyCuoG,WAAzC,CADD,IAEAj4F,SAASuH,QAAT,CAAkBmwF,UAAUhoG,GAA5B,CAFP;AAGH;;AAED,UAASooG,YAAT,CAAsBn6D,IAAtB,EAA4Bu4D,MAA5B,EAAoC;AAChCA,cAASA,UAAU,CAAnB;AACA,YAAOv4D,KAAK5X,MAAL,CAAYmwE,MAAZ,EAAoB0B,SAApB,CAAP;AACH,E;;;;;;ACzDD;;;;AAIA;;AAEA,KAAIxmF,YAAY,mBAAA3kB,CAAQ,GAAR,CAAhB;AACA,KAAIg6E,kBAAkB,mBAAAh6E,CAAQ,GAAR,CAAtB;AACA,KAAIe,SAAS,mBAAAf,CAAQ,CAAR,EAA8BgB,MAA9B,CAAqC,QAArC,CAAb;AACA,KAAI4L,SAAS,mBAAA5M,CAAQ,GAAR,CAAb;;AAEAuC,QAAOpB,OAAP,GAAiB;AACb0T,WAAM,gBAAY;AACd8P,mBAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgBoyB,oBAA7B,EAAmD,UAAUtzB,GAAV,EAAe;AAC9DpjB,oBAAOsB,IAAP,CAAY,YAAZ,EAA0B8hB,IAAIunF,UAA9B;AACA,qBAAQvnF,IAAIunF,UAAZ;AACI,sBAAK,WAAL;AACI1xB,qCAAgB0B,mBAAhB;AACA;AACJ,sBAAK,SAAL;AACI1B,qCAAgB2B,iBAAhB;AACA;AACJ,sBAAK,WAAL;AACI3B,qCAAgB4B,mBAAhB;AACA;AACJ;AACI76E,4BAAO2jB,IAAP,CAAY,uBAAZ,EAAqCP,IAAIunF,UAAzC;AAXR;AAaH,UAfD;AAgBH;AAlBY,EAAjB,C;;;;;;ACXA;;;AAGA;;;;;;AAEA,KAAI/mF,YAAY,mBAAA3kB,CAAQ,GAAR,CAAhB;AACA,KAAIuT,WAAW,mBAAAvT,CAAQ,EAAR,CAAf;AACA,KAAI4hB,gBAAgB,mBAAA5hB,CAAQ,EAAR,CAApB;AACA,KAAI4M,SAAS,mBAAA5M,CAAQ,GAAR,CAAb;;AAEA,KAAI2rG,iBAAiB,UAArB;;AAEA,KAAIC,oDACCh/F,OAAOyY,QAAP,CAAgBgyB,cADjB,EACkC;AAC9B/lC,SAAI,CAD0B;AAE9B7O,SAAI,mBAAAzC,CAAQ,GAAR;AAF0B,EADlC,6BAKC4M,OAAOyY,QAAP,CAAgBiyB,gBALjB,EAKoC;AAChChmC,SAAI,CAD4B;AAEhC7O,SAAI,mBAAAzC,CAAQ,GAAR;AAF4B,EALpC,6BASC4M,OAAOyY,QAAP,CAAgBkyB,kBATjB,EASsC;AAClCjmC,SAAI,CAD8B;AAElC7O,SAAI,mBAAAzC,CAAQ,GAAR;AAF8B,EATtC,6BAaC4M,OAAOyY,QAAP,CAAgB+xB,UAbjB,EAa8B;AAC1B9lC,SAAI,CADsB;AAE1B7O,SAAI,mBAAAzC,CAAQ,GAAR;AAFsB,EAb9B,YAAJ;;AAmBAuC,QAAOpB,OAAP,GAAiB;AACb0T,WAAM,gBAAY;AACdxN,gBAAOC,IAAP,CAAYskG,OAAZ,EAAqBlmG,OAArB,CAA6BmmG,sBAA7B;AACH;AAHY,EAAjB;;AAMA,UAASA,sBAAT,CAAgCC,OAAhC,EAAyC;AACrCnnF,eAAUV,EAAV,CAAa6nF,OAAb,EAAsB,UAAU3nF,GAAV,EAAeC,MAAf,EAAuBC,YAAvB,EAAqC;AACvD,aAAIzU,QAAQuU,IAAI4nF,IAAJ,IAAY5nF,IAAIvU,KAA5B;AACA,aAAIo8F,SAASJ,QAAQE,OAAR,CAAb;AACAE,gBAAOvpG,EAAP,CAAUmN,KAAV,EAAiB,UAAUtJ,GAAV,EAAe2f,KAAf,EAAsB;AACnC5B,0BAAa;AACT2nF,yBAAQA,OAAO16F,EADN;AAET1B,wBAAOuU,IAAIvU,KAFF;AAGT3D,uBAAM3F,MAAM,EAAN,GAAW2lG,aAAahmF,KAAb;AAHR,cAAb;AAKH,UAND;AAOA,gBAAO,IAAP;AACH,MAXD;AAYH;;AAED;;;;AAIA,UAASgmF,YAAT,CAAsBhmF,KAAtB,EAA6B;AACzB,SAAI,CAACxK,MAAMC,OAAN,CAAcuK,KAAd,CAAL,EAA2B;AACvB,gBAAO,EAAP;AACH;AACD,YAAOA,MAAMxZ,MAAN,CAAa,UAAUyJ,MAAV,EAAkB5M,IAAlB,EAAwB;AACxC,aAAI,CAAC4iG,SAAS5iG,KAAKrG,GAAd,CAAL,EAAyB;AACrBqG,kBAAKrG,GAAL,GAAWsQ,SAASkG,cAAT,CAAwBnQ,KAAKrG,GAA7B,CAAX;AACAiT,oBAAO7R,IAAP,CAAYiF,IAAZ;AACH;AACD,gBAAO4M,MAAP;AACH,MANM,EAMJ,EANI,CAAP;AAOH;;AAED;;;;AAIA,UAASg2F,QAAT,CAAkBjpG,GAAlB,EAAuB;AACnB,YAAOsQ,SAASyH,WAAT,CAAqB4G,cAAcuE,eAAnC,EAAoDljB,GAApD,KACHsQ,SAASyH,WAAT,CAAqB4G,cAAcs4D,sBAAnC,EAA2Dj3E,GAA3D,CADG,IAEH0oG,eAAe1nG,IAAf,CAAoBhB,GAApB,CAFJ;AAGH,E;;;;;;AC7ED;;;AAGA;;AAEA,KAAIsd,WAAW,mBAAAvgB,CAAQ,GAAR,CAAf;AACA,KAAImsG,UAAU,mBAAAnsG,CAAQ,GAAR,CAAd;AACA,KAAIosG,UAAU,mBAAApsG,CAAQ,GAAR,CAAd;AACA,KAAIqsG,YAAY,mBAAArsG,CAAQ,GAAR,EAA+ByjB,GAA/B,CAAmCG,OAAnD;AACA,KAAImM,YAAY,mBAAA/vB,CAAQ,CAAR,CAAhB;AACA,KAAIe,SAAS,mBAAAf,CAAQ,CAAR,EAA8BgB,MAA9B,CAAqC,4BAArC,CAAb;AACA,KAAImC,cAAc,mBAAAnD,CAAQ,EAAR,CAAlB;;AAEA,KAAIssG,0BAA0B,GAA9B;AACA,KAAIC,0BAA0B,IAA9B;AACA,KAAIC,eAAe,EAAnB;;AAEA;;;;;AAKAjqG,QAAOpB,OAAP,GAAiB,UAAUyO,KAAV,EAAiBxO,QAAjB,EAA2B;AACxCqrG,mBAAc78F,KAAd,EAAqB,UAAUtJ,GAAV,EAAe2hF,YAAf,EAA6B;AAC9C,aAAI3hF,GAAJ,EAAS;AACLvF,oBAAO8G,KAAP,CAAa,6BAAb,EAA4CvB,GAA5C;AACAlF,sBAASkF,GAAT;AACH,UAHD,MAGO;AACH,iBAAI2f,QAAQymF,gBAAgB98F,KAAhB,EAAuBq4E,YAAvB,CAAZ;AACA0kB,0BAAa/8F,KAAb,EAAoBqW,KAApB;AACA7kB,sBAAS,IAAT,EAAe6kB,KAAf;AACH;AACJ,MATD;AAUH,EAXD;;AAaA;;;;AAIA,UAASwmF,aAAT,CAAuB78F,KAAvB,EAA8BxO,QAA9B,EAAwC;AACpC,SAAIwhD,QAAQ,CAACgqD,oBAAoBhnG,IAApB,CAAyB,IAAzB,EAA+BgK,KAA/B,CAAD,CAAZ;AACA,SAAIzM,YAAYwmD,QAAZ,EAAJ,EAA4B;AACxB;AACA;AACA;AACA/G,eAAMv+C,IAAN,CAAWwoG,oBAAoBjnG,IAApB,CAAyB,IAAzB,EAA+BgK,KAA/B,CAAX;AACH;AACD2Q,cAAS4wB,QAAT,CAAkByR,KAAlB,EAAyB,UAAUt8C,GAAV,EAAe2F,IAAf,EAAqB;AAC1C7K,kBAASkF,GAAT,EAAc2F,OAAOkgG,QAAQlgG,IAAR,CAAP,GAAuB,EAArC;AACH,MAFD;AAGH;;AAED;;;;;AAKA,UAAS4gG,mBAAT,CAA6Bj9F,KAA7B,EAAoCxO,QAApC,EAA8C;AAC1CsO,YAAOmwC,OAAP,CAAe1lC,MAAf,CAAsB;AAClB3S,eAAM,EADY;AAElBggF,qBAAY+kB,uBAFM;AAGlBjqG;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAAWjB,KAAKC,GAAL,EAAX,EAAwByuB,UAAUuuB,OAAlC;AAHkB,MAAtB,EAIG,UAAU2pC,YAAV,EAAwB;AACvB,aAAIhiE,QAAQ6mF,gBAAgB7kB,YAAhB,EAA8Br4E,KAA9B,CAAZ;AACAxO,kBAAS,IAAT,EAAe6kB,KAAf;AACH,MAPD;AAQH;;AAED;;;;;AAKA,UAAS2mF,mBAAT,CAA6Bh9F,KAA7B,EAAoCxO,QAApC,EAA8C;AAC1CsO,YAAOmwC,OAAP,CAAe1lC,MAAf,CAAsB;AAClB3S,eAAMoI,KADY;AAElB43E,qBAAY8kB;AAFM,MAAtB,EAGG,UAAUrkB,YAAV,EAAwB;AACvB7mF,kBAAS,IAAT,EAAe6mF,YAAf;AACH,MALD;AAMH;;AAED;;;;;;AAMA,UAAS6kB,eAAT,CAAyB7kB,YAAzB,EAAuCr4E,KAAvC,EAA8C;AAC1C,YAAOq4E,aAAatoE,MAAb,CAAoB,UAAUrW,IAAV,EAAgB;AACvC,gBAAQA,KAAKrG,GAAL;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAAYqG,KAAKrG,GAAL,CAAS4X,OAAT,CAAiBjL,KAAjB,CAAZ,EAAwC,CAAC,CAAzC,CAAD,IACCtG,KAAKgf,KAAL;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAAchf,KAAKgf,KAAL,CAAWzN,OAAX,CAAmBjL,KAAnB,CAAd,EAA4C,CAAC,CAA7C,CADR;AAEH,MAHM,CAAP;AAIH;;AAED;;;;;AAKA,UAAS88F,eAAT,CAAyB98F,KAAzB,EAAgCm9F,aAAhC,EAA+C;AAC3C,SAAI9mF,QAAQ8mF,cAAczoG,GAAd,CAAkB0oG,uBAAlB,CAAZ;AACA,YAAOZ,QAAQa,IAAR,CAAar9F,KAAb,EAAoBqW,KAApB,EAA2BumF,YAA3B,EAAyC,IAAzC,CAAP;AACH;;AAED;;;;AAIA,UAASQ,uBAAT,CAAiC1jB,WAAjC,EAA8C;AAC1C,YAAO8iB,QAAQ3yD,OAAR,CACH6vC,YAAYrmF,GADT,EAEHqmF,YAAYhhE,KAFT;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAGH,IAAIghE,YAAY4jB,UAHb,EAG0B5jB,YAAYC,UAHtC,EAAP;AAKH;;AAED;;;;AAIA,UAASojB,YAAT,CAAsB/8F,KAAtB,EAA6BqW,KAA7B,EAAoC;AAChC,SAAI,CAAComF,SAAL,EAAgB;AACZD,iBAAQ3P,UAAR;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAAmB,kBAAnB,EAAwC7sF,KAAxC,GAA+CqW,KAA/C;AACH;AACJ,E;;;;;;AC7HD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,QAAQ;AACnB,aAAY,OAAO;AACnB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA;;AAEA,KAAI1S,WAAW,mBAAAvT,CAAQ,EAAR,CAAf;;AAEA;;;AAGA,UAASmtG,WAAT,CAAqBC,SAArB,EAAgC7iG,GAAhC,EAAqC;AACjC,YAAO6iG,UAAU3gG,MAAV,CAAiB,UAAU2kC,GAAV,EAAe/W,CAAf,EAAkB;AACtC,aAAIyF,QAAQv1B,IAAIsQ,OAAJ,CAAYwf,CAAZ,CAAZ;AACA,aAAIyF,SAAS,CAAb,EAAgB;AACZsR,iBAAI/W,CAAJ,IAAS,IAAT;AACH;AACD,gBAAO+W,GAAP;AACH,MANM,EAMJ,EANI,CAAP;AAOH;;AAED,UAASi8D,cAAT,CAAwB/jG,IAAxB,EAA8BgkG,IAA9B,EAAoCluE,OAApC,EAA6C;AACzC;AACA,SAAI13B;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAM,OAAO4lG,IAAb,EAAqBluE,UAAU,MAAMA,OAAN,GAAgB,GAA1B,GAAgC,EAArD,CAAJ;AACA91B,UAAKqhB,GAAL,GAAWrhB,KAAKqhB,GAAL,IAAY,CAACrhB,KAAKikG,MAAN,CAAvB;AACAjkG,UAAKqhB,GAAL,CAAStmB,IAAT,CAAcqD,GAAd;AACA4B,UAAKikG,MAAL;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAcjkG,KAAKikG,MAAnB,EAA4BD,IAA5B;AACH;;AAED,UAASE,aAAT,CAAuB59F,KAAvB,EAA8B;AAC1B,YAAO,UAAS3L,IAAT,CAAc2L,KAAd;AAAP;AACH;;AAED,UAAS69F,gBAAT,CAA0B79F,KAA1B,EAAiCtG,IAAjC,EAAuC;AACnC;AACA,SAAIA,KAAKokG,UAAL,CAAgB99F,KAAhB,CAAJ,EAA4B;AACxBy9F,wBAAe/jG,IAAf,EAAqB,GAArB,EAA0B,qBAA1B;AACH,MAFD,MAEO,IAAIA,KAAKqkG,YAAL,CAAkB/9F,KAAlB,CAAJ,EAA8B;AACjC;AACAy9F,wBAAe/jG,IAAf,EAAqB,EAArB,EAAyB,uBAAzB;AACH;AACD,YAAOA,IAAP;AACH;;AAED,UAASskG,kBAAT,CAA4Bh+F,KAA5B,EAAmCtG,IAAnC,EAAyC;AACrC;AACA,SAAIukG,WAAW,SAAXA,QAAW,CAAUhpG,CAAV,EAAa;AAAC;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAAOA,CAAP,EAAa+K,KAAb;AAAoB,MAAjD;AACA,SAAIk+F,aAAazmG,OAAOC,IAAP,CAAYgC,KAAKokG,UAAjB,EAA6B/tF,MAA7B,CAAoCkuF,QAApC,EAA8CzpG,MAA/D;AACA,SAAI2pG,eAAe1mG,OAAOC,IAAP,CAAYgC,KAAKqkG,YAAjB,EAA+BhuF,MAA/B,CAAsCkuF,QAAtC,EAAgDzpG,MAAnE;AACAipG,oBAAe/jG,IAAf,EAAqB,EAArB,EAAyB,MAAzB;AACA+jG,oBAAe/jG,IAAf;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAsBwkG,UAAtB,EAAmCC,YAAnC,GAAkD,qCAAlD;AACA;AACA,SAAIzkG,KAAKokG,UAAL,CAAgB99F,KAAhB,KAA0BtG,KAAKqkG,YAAL,CAAkB/9F,KAAlB,CAA9B,EAAwD;AACpDy9F,wBAAe/jG,IAAf,EAAqB,GAArB,EAA0B,mBAA1B;AACH;AACD,YAAOA,IAAP;AACH;;AAED,UAAS0kG,kBAAT,CAA4Bp+F,KAA5B,EAAmCtG,IAAnC,EAAyC;AACrC;AACA,SAAIiB,MAAM;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAACjB,KAAKrG,GAAL,GAAW,GAAZ,EAAkBqG,KAAKgf,KAAvB,EACL7jB,OADK,CACG,SADH,EACc,IADd,EAELA,OAFK,CAEG,SAFH,EAEc,IAFd,CAAV;;AAIA;AACA;AACA,SAAIwpG,SAAS1jG,IAAI1G,KAAJ,CAAU,kBAAV,CAAb;AACA;AACAoqG,cAASA,OAAO5kG,KAAP,CAAa,CAAb,CAAT;AACA;AACA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAI4kG,OAAO,CAAP,CAAJ,EAAkB,KAAlB,GAAyB;AACrBA,kBAASA,OAAO5kG,KAAP,CAAa,CAAb,CAAT;AACH;AACD;AACA;AACA;AACA;AACA;AACA4kG,YAAO/pG,KAAP,CAAa,UAAUgqG,KAAV,EAAiBC,GAAjB,EAAsB;AAC/B,aAAID;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAASA,MAAMrzF,OAAN,CAAcjL,KAAd,CAAT,EAAkC,CAAlC,CAAJ,EAAyC;AACrCy9F,4BAAe/jG,IAAf,EAAqBiG,KAAKqP,GAAL;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,eAAU,GAAV,EAAgB,KAAKuvF,GAArB,GAA2B,CAA3B,CAArB;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,eAAoD,aAAaA,MAAM,CAAnB,CAApD,EAA4E,QAA5E;AACA,oBAAO,KAAP;AACH,UAHD,MAGO;AACH,oBAAO,IAAP;AACH;AACJ,MAPD;AAQA,YAAO7kG,IAAP;AACH;;AAED/G,QAAOpB,OAAP,GAAiB;AACb;;;;;;;AAOAs4C,cAAS,iBAAUx2C,GAAV,EAAeqlB,KAAf,EAAsBilF,MAAtB,EAA8B;AACnC,gBAAO;AACHtqG,kBAAKA,GADF;AAEHqlB,oBAAOA,KAFJ;AAGHilF,qBAAQA;AAHL,UAAP;AAKH,MAdY;AAeb;;;;;;;;;;;;;;;;;AAiBAN,WAAM,cAAUr9F,KAAV,EAAiBqW,KAAjB,EAAwBqhC,KAAxB,EAA+B8mD,QAA/B,EAAyC;AAC3Cx+F,iBAAQA,MAAMwQ,IAAN,GAAa3V,WAAb,EAAR;;AAEA;AACA,aAAI4jG,QAAQz+F,MAAM/L,KAAN,CAAY,KAAZ,CAAZ;AACAwqG,iBAAQA,MAAMjqG,MAAN,GAAe,CAAf,GAAmBiqG,KAAnB,GAA2B,EAAnC;;AAEA;AACA,aAAIC,WAAW,CAAC1+F,KAAD,EAAQ84C,MAAR,CAAe2lD,KAAf,CAAf;;AAEA;AACApoF,iBAAQA,MAAMtG,MAAN,CAAa,UAAUrW,IAAV,EAAgB;AACjCA,kBAAK2N,GAAL,GAAW1D,SAASwD,SAAT,CAAmBzN,KAAKrG,GAAxB,CAAX;AACA,oBAAOsnB,QAAQjhB,KAAK2N,GAAb,CAAP;AACH,UAHO,CAAR;;AAKAgP,iBAAQA,MAAM3hB,GAAN,CAAU,SAASiqG,SAAT,CAAmBjlG,IAAnB,EAAyB;AACvC;AACA,iBAAI2N,MAAM3N,KAAK2N,GAAf;AACA,iBAAI8B,WAAWzP,KAAKrG,GAApB;AACA,iBAAI;AACA;AACA8V,4BAAW9B,IAAI8B,QAAJ,EAAX;AACH,cAHD,CAGE,OAAO5Y,CAAP,EAAU,CAAE;;AAEd,iBAAImoB,QAAQhf,KAAKgf,KAAL,IAAc,EAA1B;;AAEA,iBAAIkmF,UAAU;AACVvrG,sBAAK8V,SAAStO,WAAT,EADK,EACmB;AAC7BwM,sBAAKA,GAFK;AAGVw3F,8BAAanmF,KAHH,EAGoB;AAC9BA,wBAAOA,MAAM7d,WAAN,EAJG;AAKV8iG,yBAAQjkG,KAAKikG;AALH,cAAd;;AAQA;AACAiB,qBAAQd,UAAR,GAAqBP,YAAYmB,QAAZ,EAAsBE,QAAQvrG,GAA9B,CAArB;AACA;AACAurG,qBAAQb,YAAR,GAAuBR,YAAYmB,QAAZ,EAAsBE,QAAQlmF,KAA9B,CAAvB;;AAEA,oBAAOkmF,OAAP;AACH,UAzBO,CAAR;;AA2BA;AACA;AACA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAAIJ,QAAJ,EAAiB,KAAjB,GAAwB;AACpBnoF,qBAAQA,MAAMtG,MAAN,CAAa,UAAUrW,IAAV,EAAgB;AACjC;AACA,wBAAOjC,OAAOC,IAAP,CAAYgC,KAAKokG,UAAjB,EAA6BtpG,MAA7B,IACAiD,OAAOC,IAAP,CAAYgC,KAAKqkG,YAAjB,EAA+BvpG,MADtC;AAEH,cAJO,EAILub,MAJK,CAIE,UAAUrW,IAAV,EAAgB;AACtB;AACA,wBAAOihB,QAAQjhB,KAAK2N,GAAL,CAASsC,QAAT,EAAR,CAAP;AACH,cAPO,CAAR;AAQH;;AAED0M,iBAAQA,MAAM3hB,GAAN,CAAU,UAAUgF,IAAV,EAAgB;AAC9B;AACA,iBAAI+kG,MAAMjqG,MAAN,KAAiBkF,KAAKokG,UAAL,CAAgB99F,KAAhB,KAA0BtG,KAAKqkG,YAAL,CAAkB/9F,KAAlB,CAA3C,CAAJ,EAA0E;AACtEy9F,gCAAe/jG,IAAf,EAAqB+kG,MAAMjqG,MAA3B,EAAmC,cAAnC;AACH;;AAED;AACA;AACA,iBAAI;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,oBAAK6S,GAAL,CAAS+C,IAAT,IAAoB,GAApB;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,eAA2B1Q,KAAK2N,GAAL,CAASkD,MAAT,EAA3B,EAAiD,EAAjD;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,eAAuD7Q,KAAK2N,GAAL,CAASqsD,IAAT,EAAvD,EAA2E,EAA3E,CAAJ,EAAmF;AAC/E+pC,gCAAe/jG,IAAf,EAAqB,CAArB,EAAwB,aAAxB;AACH;AACD,oBAAOA,IAAP;AACH,UAZO,CAAR;;AAcA;AACA;AACA,aAAIkkG,cAAc59F,KAAd,CAAJ,EAA0B;AACtBqW,qBAAQA,MAAM3hB,GAAN,CAAUmpG,iBAAiB7nG,IAAjB,CAAsB,IAAtB,EAA4BgK,KAA5B,CAAV,CAAR;;AAEJ;AACC,UAJD,MAIO,IAAIy+F,MAAMjqG,MAAV,EAAkB;AACrB6hB,qBAAQA,MAAM3hB,GAAN,CAAUspG,mBAAmBhoG,IAAnB,CAAwB,IAAxB,EAA8BgK,KAA9B,CAAV,CAAR;;AAEJ;AACC,UAJM,MAIA;AACHqW,qBAAQA,MAAM3hB,GAAN,CAAU0pG,mBAAmBpoG,IAAnB,CAAwB,IAAxB,EAA8BgK,KAA9B,CAAV,CAAR;AACH;;AAED;AACA,aAAI8+F,YAAYzoF,MAAMxZ,MAAN,CAAa,UAAU2kC,GAAV,EAAe9nC,IAAf,EAAqB;AAC9C,iBAAIqlG,OAAOrlG,KAAK2N,GAAL,CAASsC,QAAT,EAAX;AACA,iBAAI,CAAC63B,IAAIu9D,IAAJ,CAAD,IAAcv9D,IAAIu9D,IAAJ,EAAUpB,MAAV,GAAmBjkG,KAAKikG,MAA1C,EAAkD;AAC9Cn8D,qBAAIu9D,IAAJ,IAAYrlG,IAAZ;AACH;AACD,oBAAO8nC,GAAP;AACH,UANe,EAMb,EANa,CAAhB;;AAQA;AACAnrB,iBAAQ5e,OAAOC,IAAP,CAAYonG,SAAZ,EAAuBpqG,GAAvB,CAA2B,UAAUiV,QAAV,EAAoB;AACnD,iBAAIjQ,OAAOolG,UAAUn1F,QAAV,CAAX;AACA,iBAAIi1F,UAAU;AACV;AACAvrG,sBAAKqG,KAAK2N,GAAL,CAASnS,QAAT,EAFK;AAGVwjB,wBAAOhf,KAAKmlG,WAHF;AAIV50F,yBAAQN,QAJE;AAKVg0F,yBAAQjkG,KAAKikG,MALH;AAMV5iF,sBAAKlP,MAAMC,OAAN,CAAcpS,KAAKqhB,GAAnB,IAA0BrhB,KAAKqhB,GAAL,CAAShhB,IAAT,CAAc,GAAd,CAA1B,GAA+C;AAN1C,cAAd;;AASA,oBAAO6kG,OAAP;AACH,UAZO,CAAR;;AAcA;AACAvoF,eAAMymC,IAAN,CAAW,UAAUr1B,CAAV,EAAa61B,CAAb,EAAgB;AACvB;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,eAAOA,EAAEqgD,MAAT,EAAkBl2E,EAAEk2E,MAApB;AACH,UAFD;;AAIA;AACA,aAAIjmD,KAAJ,EAAW;AACPrhC,qBAAQA,MAAM5c,KAAN,CAAY,CAAZ,EAAei+C,KAAf,CAAR;AACH;;AAED,gBAAOrhC,KAAP;AACH,MAvJY;;AAyJb;;;AAGAw2E,iBAAY,oBAAUn0E,KAAV,EAAiBrC,KAAjB,EAAwB;AAChC,aAAIupD,UAAUjkE,OAAOikE,OAArB,CADgC,CACF;AAC9B;AACA,aAAIA,WAAWA,QAAQ1hB,KAAvB,EAA8B;AAC1B,iBAAI7nC,SAASA,MAAM7hB,MAAnB,EAA2B;AACvBorE,yBAAQ7kD,GAAR,CAAYrC,KAAZ,EADuB,CACH;AACpB;AACAknD,yBAAQ1hB,KAAR,CAAc7nC,KAAd,EAAqB,CAAC,QAAD,EAAW,KAAX,EAAkB,OAAlB,EAA2B,KAA3B,CAArB;AACH,cAJD,MAIO;AACHupD,yBAAQ7kD,GAAR,CAAYrC,KAAZ,EAAmB,gBAAnB,EADG,CACmC;AACzC;AACJ;AACJ;AAxKY,EAAjB,C;;;;;;ACrFA;;;AAGA;;AAEA,KAAI8jF,UAAU,mBAAApsG,CAAQ,GAAR,CAAd;AACA,KAAIqsG,YAAY,mBAAArsG,CAAQ,GAAR,EAA+ByjB,GAA/B,CAAmCG,OAAnD;;AAEA,KAAIgrF,iBAAiB,CAArB;AACA,KAAIpC,eAAe,CAAnB;;AAEAjqG,QAAOpB,OAAP,GAAiB,UAAUyO,KAAV,EAAiBxO,QAAjB,EAA2B;AACxCsO,YAAOwe,SAAP,CAAiB/T,MAAjB,CAAwBvK,KAAxB,EAA+B,UAAUse,SAAV,EAAqB;AAChD,aAAIjI,QAAQiI,UAAU5pB,GAAV,CAAcuqG,aAAd,CAAZ;AACA5oF,iBAAQmmF,QAAQa,IAAR,CAAar9F,KAAb,EAAoBqW,KAApB,EAA2BumF,YAA3B,EAAyC,IAAzC,CAAR;AACAprG,kBAAS,IAAT,EAAe6kB,KAAf;AACA0mF,sBAAa/8F,KAAb,EAAoBqW,KAApB;AACH,MALD;AAMH,EAPD;;AASA,UAAS4oF,aAAT,CAAuB//E,QAAvB,EAAiC;AAC7B,YAAOs9E,QAAQ3yD,OAAR,CACH3qB,SAAS7rB,GADN,EAEH6rB,SAASxG,KAFN,EAGHsmF,cAHG,CAAP;AAKH;;AAED,UAASjC,YAAT,CAAsB/8F,KAAtB,EAA6BqW,KAA7B,EAAoC;AAChC,SAAI,CAAComF,SAAL,EAAgB;AACZD,iBAAQ3P,UAAR;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAAmB,oBAAnB,EAA0C7sF,KAA1C,GAAiDqW,KAAjD;AACH;AACJ,E;;;;;;AChCD;;;AAGA;;AAEA,KAAIuhF,YAAY,mBAAAxnG,CAAQ,GAAR,CAAhB;AACA,KAAIosG,UAAU,mBAAApsG,CAAQ,GAAR,CAAd;AACA,KAAIqsG,YAAY,mBAAArsG,CAAQ,GAAR,EAA+ByjB,GAA/B,CAAmCG,OAAnD;;AAEA,KAAIgrF,iBAAiB,CAArB;AACA,KAAIpC,eAAe,CAAnB;;AAEAjqG,QAAOpB,OAAP,GAAiB,UAAUyO,KAAV,EAAiBxO,QAAjB,EAA2B;AACxComG,eAAUxhF,OAAV,CAAkB,UAAU1f,GAAV,EAAeqJ,IAAf,EAAqB;AACnC,aAAIrJ,GAAJ,EAAS;AACLlF,sBAASkF,GAAT;AACH,UAFD,MAEO;AACH,iBAAI2f,QAAQtW,KAAKrL,GAAL,CAASuqG,aAAT,CAAZ;AACA5oF,qBAAQmmF,QAAQa,IAAR,CAAar9F,KAAb,EAAoBqW,KAApB,EAA2BumF,YAA3B,EAAyC,IAAzC,CAAR;AACAprG,sBAAS,IAAT,EAAe6kB,KAAf;AACA0mF,0BAAa/8F,KAAb,EAAoBqW,KAApB;AACH;AACJ,MATD;AAUH,EAXD;;AAaA,UAAS4oF,aAAT,CAAuBtpF,GAAvB,EAA4B;AACxB,YAAO6mF,QAAQ3yD,OAAR,CACHl0B,IAAItiB,GADD,EAEHsiB,IAAI+C,KAFD,EAGHsmF,cAHG,CAAP;AAKH;;AAED,UAASjC,YAAT,CAAsB/8F,KAAtB,EAA6BqW,KAA7B,EAAoC;AAChC,SAAI,CAAComF,SAAL,EAAgB;AACZD,iBAAQ3P,UAAR;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAAmB,sBAAnB,EAA4C7sF,KAA5C,GAAmDqW,KAAnD;AACH;AACJ,E;;;;;;ACrCD;;;AAGA;;AAEA,KAAI9E,WAAW,mBAAAnhB,CAAQ,GAAR,CAAf;AACA,KAAIsD,QAAQ,mBAAAtD,CAAQ,GAAR,CAAZ;AACA,KAAI2C,MAAM,mBAAA3C,CAAQ,EAAR,CAAV;AACA,KAAIuT,WAAW,mBAAAvT,CAAQ,EAAR,CAAf;AACA,KAAIosG,UAAU,mBAAApsG,CAAQ,GAAR,CAAd;AACA,KAAIqsG,YAAY,mBAAArsG,CAAQ,GAAR,EAA+ByjB,GAA/B,CAAmCG,OAAnD;;AAEA,KAAI4oF,eAAe,EAAnB;;AAEA;;;;AAIAjqG,QAAOpB,OAAP,GAAiB,UAAUyO,KAAV,EAAiBxO,QAAjB,EAA2B;AACxCuB,SAAI;AACAM,cAAKksB,OAAOvf,KAAP,CADL;AAEAhI,mBAAU,IAFV;AAGAnB,gBAAO;AAHP,MAAJ,EAIG,UAAUH,GAAV,EAAeuD,IAAf,EAAqB;AACpB,aAAIvD,GAAJ,EAAS;AACLlF,sBAASkF,GAAT;AACH,UAFD,MAEO;AACH,iBAAI2f,QAAQg9B,cAAcp5C,IAAd,EAAoBvF,GAApB,CAAwBuqG,aAAxB,CAAZ;AACA5oF,qBAAQmmF,QAAQa,IAAR,CAAar9F,KAAb,EAAoBqW,KAApB,EAA2BumF,YAA3B,EAAyC,KAAzC,CAAR;AACAprG,sBAAS,IAAT,EAAe6kB,KAAf;AACA0mF,0BAAa/8F,KAAb,EAAoBqW,KAApB;AACH;AACJ,MAbD;AAcH,EAfD;;AAiBA,UAASkJ,MAAT,CAAgBvf,KAAhB,EAAuB;AACnB,YAAOtM,MAAMgd,aAAN,CAAoBa,SAASqF,MAAT,CAAgBoB,UAApC,EAAgD;AACnDknF,sBAAal/F;AADsC,MAAhD,CAAP;AAGH;;AAED,UAASqzC,aAAT,CAAuB8rD,GAAvB,EAA4B;AACxB,SAAI9iD,OAAO8iD,IAAI,CAAJ,CAAX;AACA,SAAI3c,SAAS2c,IAAI,CAAJ,CAAb;AACA,YAAO9iD,KAAK3nD,GAAL,CAAS,UAAUrB,GAAV,EAAeuB,CAAf,EAAkB;AAC9B,gBAAO;AACHvB,kBAAKsQ,SAASyF,YAAT,CAAsB/V,GAAtB,CADF;AAEHqlB,oBAAO8pE,OAAO5tF,CAAP;AAFJ,UAAP;AAIH,MALM,CAAP;AAMH;;AAED,UAASqqG,aAAT,CAAuBG,OAAvB,EAAgCxqG,CAAhC,EAAmC;AAC/B,YAAO4nG,QAAQ3yD,OAAR,CACHu1D,QAAQ/rG,GADL,EAEH+rG,QAAQ1mF,KAFL,EAGH/Y,KAAKqP,GAAL;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAAS,GAAT,EAAepa,IAAI,EAAnB,GAAuB,GAAvB,EAA4ByqG,OAA5B,CAAoC,CAApC,CAHG,CAAP;AAKH;;AAED,UAAStC,YAAT,CAAsB/8F,KAAtB,EAA6BqW,KAA7B,EAAoC;AAChC,SAAI,CAAComF,SAAL,EAAgB;AACZD,iBAAQ3P,UAAR;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAAmB,cAAnB,EAAoC7sF,KAApC,GAA2CqW,KAA3C;AACH;AACJ,E;;;;;;AChED;;;;AAIA;;AAEA,KAAItB,YAAY,mBAAA3kB,CAAQ,GAAR,CAAhB;AACA,KAAIw9D,cAAc,mBAAAx9D,CAAQ,GAAR,CAAlB;AACA,KAAI4M,SAAS,mBAAA5M,CAAQ,GAAR,CAAb;;AAEAmB,SAAQ0T,IAAR,GAAe,YAAY;AACvB8P,eAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgBmyB,YAA7B,EAA2C,UAAUrzB,GAAV,EAAeC,MAAf,EAAuB;AAC9D,aAAIpP,SAAS;AACT/R,kBAAKkhB,IAAIlhB,GADA;AAET+gB,oBAAOI,OAAOmB,GAAP,IAAcnB,OAAOmB,GAAP,CAAWjU,EAFvB;AAGTrJ,qBAAQkc,IAAIlc,MAHH;AAIT41D,4BAAe15C,IAAI2b;AAJV,UAAb;AAMA09B,qBAAYW,EAAZ,CAAenpD,MAAf;AACH,MARD;AASH,EAVD,C;;;;;;ACVA;;;AAGA;;AAEA,KAAI2P,YAAY,mBAAA3kB,CAAQ,GAAR,CAAhB;AACA,KAAI4M,SAAS,mBAAA5M,CAAQ,GAAR,CAAb;;AAEA;;;AAGAmB,SAAQ0T,IAAR,GAAe,YAAY;AACvB8P,aAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgB6xB,gBAA7B,EAA+C,YAAY;AACvD;AACH,IAFD;AAGH,EAJD,C;;;;;;ACXA;;;AAGA;;AAEA,KAAIvyB,YAAY,mBAAA3kB,CAAQ,GAAR,CAAhB;AACA,KAAIkvG,gBAAgB,mBAAAlvG,CAAQ,GAAR,CAApB;AACA,KAAI4M,SAAS,mBAAA5M,CAAQ,GAAR,CAAb;;AAEA;;;AAGAmB,SAAQ0T,IAAR,GAAe,YAAY;AACvB8P,aAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgB8xB,WAA7B,EAA0C,UAAUhzB,GAAV,EAAeC,MAAf,EAAuBC,YAAvB,EAAqC;AAC3E6qF,mBAAc79F,GAAd,CAAkB8S,IAAIvU,KAAtB,EAA6ByU,YAA7B;AACA,YAAO,IAAP;AACH,IAHD;AAIH,EALD,C;;;;;;ACZA;;;AAGA;;AAEA,KAAItjB,SAAS,mBAAAf,CAAQ,CAAR,EAA8BgB,MAA9B,CAAqC,gBAArC,CAAb;AACA,KAAImgB,WAAW,mBAAAnhB,CAAQ,GAAR,CAAf;AACA,KAAI2C,MAAM,mBAAA3C,CAAQ,EAAR,CAAV;AACA,KAAIsD,QAAQ,mBAAAtD,CAAQ,GAAR,CAAZ;;AAEA;AACA,KAAImvG,aAAJ;;AAEA,KAAIC,yBAAyB,IAA7B;;AAEA;;;;;AAKAjuG,SAAQkQ,GAAR,GAAc,UAAUg+F,WAAV,EAAuBjuG,QAAvB,EAAiC;AAC3CL,YAAOsB,IAAP,CAAY,+BAAZ,EAA6CgtG,WAA7C;AACA,SAAIC,aAAahsG,MAAMgd,aAAN,CAAoBa,SAAShH,MAAT,CAAgB6N,OAApC,EAA6C,EAAC8mF,aAAaO,WAAd,EAA7C,CAAjB;AACAF,qBAAgBxsG,IAAI;AAChBM,cAAKqsG,UADW;AAEhB9oG,kBAAS4oG,sBAFO;AAGhBxnG,mBAAU,IAHM;AAIhBnB,gBAAO;AAJS,MAAJ,EAKb,UAAUH,GAAV,EAAegC,YAAf,EAA6Bb,GAA7B,EAAkC;AACjC;AACA,aAAInB;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAAO6oG,aAAP,EAAyB1nG,IAAIQ,MAA7B,CAAJ,EAAyC;AACrC7G,sBAAS,EAAT;AACH,UAFD,MAEO;AACHA,sBAASkH,YAAT;AACH;AACJ,MAZe,CAAhB;AAaH,EAhBD,C;;;;;;ACpBA;;;;AAIA;;AAEA,KAAMqc,YAAY,mBAAA3kB,CAAQ,GAAR,CAAlB;AACA,KAAM6oB,YAAY,mBAAA7oB,CAAQ,GAAR,CAAlB;AACA,KAAM4M,SAAS,mBAAA5M,CAAQ,GAAR,CAAf;;AAEA;;;AAGAmB,SAAQ0T,IAAR,GAAe,YAAY;AACvBgU,eAAUk7B,SAAV,CAAoBlzC,WAApB,CAAgC1P,QAAQsE,IAAxC;AACAojB,eAAUumC,gBAAV,CAA2Bv+C,WAA3B,CAAuC1P,QAAQsE,IAA/C;AACH,EAHD;;AAKA;;;AAGAtE,SAAQsE,IAAR,GAAe,YAAY;AACvB,SAAIojB,UAAUI,WAAV,EAAJ,EAA6B;AACzB,aAAIJ,UAAU+lC,SAAV,EAAJ,EAA2B;AACvB,oBAAO/lC,UAAUQ,OAAV,GAAoBxZ,IAApB,CAAyB,UAAC5D,IAAD,EAAU;AACtC0Y,2BAAUlf,IAAV,CAAemH,OAAOU,OAAP,CAAe0qC,SAA9B,EAAyC/rC,IAAzC;AACH,cAFM,CAAP;AAGH;AACD0Y,mBAAUlf,IAAV,CAAemH,OAAOU,OAAP,CAAe0qC,SAA9B,EAAyC,IAAzC;AACH;AACJ,EATD,C;;;;;;ACrBA;;;;AAIA;;AAEA,KAAMrzB,YAAY,mBAAA3kB,CAAQ,GAAR,CAAlB;AACA,KAAMe,SAAS,mBAAAf,CAAQ,CAAR,EAA8BgB,MAA9B,CAAqC,gBAArC,CAAf;AACA,KAAMuuG,QAAQ,mBAAAvvG,CAAQ,GAAR,CAAd;AACA,KAAMwvG,cAAc,mBAAAxvG,CAAQ,GAAR,CAApB;AACA,KAAM4M,SAAS,mBAAA5M,CAAQ,GAAR,CAAf;;AAEAuC,QAAOpB,OAAP,GAAiB;AACb0T,SADa,kBACN;AACH,aAAI46F,cAAJ;;AAEA9qF,mBAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgBqyB,UAA7B,EAAyC,UAAC1kC,OAAD,EAAUoR,MAAV,EAAqB;AAC1D,iBAAIqrF,KAAJ,EAAW;AACPA,uBAAMztG,QAAN;AACH;;AAEDytG,qBAAQF,MAAMG,sBAAN,CAA6BtrF,OAAOmB,GAAP,CAAWjU,EAAxC,EACH67C,MADG,EAAR;AAEH,UAPD;;AASAxoC,mBAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgBsyB,UAA7B,EAAyC,YAAM;AAC3C,iBAAI83D,KAAJ,EAAW;AACPA,uBAAMztG,QAAN;AACH;AACJ,UAJD;;AAMAwtG,qBAAYG,UAAZ,CAAuB9+F,WAAvB,CAAmC,gBAAmB;AAAA,iBAAjBmT,KAAiB,QAAjBA,KAAiB;AAAA,iBAAVxc,IAAU,QAAVA,IAAU;;AAClDmd,uBAAUlf,IAAV,CAAemH,OAAOU,OAAP,CAAewrC,cAA9B,EAA8C,EAACtxC,UAAD,EAA9C,EAAsDwc,KAAtD;AACH,UAFD;;AAIAwrF,qBAAYI,OAAZ,CAAoB/+F,WAApB,CAAgC,iBAAa;AAAA,iBAAXmT,KAAW,SAAXA,KAAW;;AACzCW,uBAAUlf,IAAV,CAAemH,OAAOU,OAAP,CAAeurC,WAA9B,EAA2C,IAA3C,EAAiD70B,KAAjD;AACH,UAFD;;AAIAwrF,qBAAYp9E,OAAZ,CAAoBvhB,WAApB,CAAgC,iBAAqB;AAAA,iBAAnBmT,KAAmB,SAAnBA,KAAmB;AAAA,iBAAZ1jB,MAAY,SAAZA,MAAY;;AACjDqkB,uBAAUlf,IAAV,CAAemH,OAAOU,OAAP,CAAe0rC,WAA9B,EAA2C,EAAC14C,cAAD,EAA3C,EAAqD0jB,KAArD;AACH,UAFD;;AAIAwrF,qBAAYK,gBAAZ,CAA6Bh/F,WAA7B,CAAyC,iBAAmB;AAAA,iBAAjBmT,KAAiB,SAAjBA,KAAiB;AAAA,iBAAVxc,IAAU,SAAVA,IAAU;;AACxDmd,uBAAUlf,IAAV,CAAemH,OAAOU,OAAP,CAAeyrC,YAA9B,EAA4C,EAACvxC,UAAD,EAA5C,EAAoDwc,KAApD;AACH,UAFD;;AAIAwrF,qBAAYM,OAAZ,CAAoBj/F,WAApB,CAAgC,iBAAa;AAAA,iBAAXmT,KAAW,SAAXA,KAAW;;AACzCW,uBAAUlf,IAAV,CAAemH,OAAOU,OAAP,CAAe2rC,WAA9B,EAA2C,IAA3C,EAAiDj1B,KAAjD;AACH,UAFD;;AAIAjjB,gBAAOsB,IAAP,CAAY,aAAZ;AACH;AAxCY,EAAjB,C;;;;;;ACZA;;;AAGA;;;;;;AAEA,KAAMtB,SAAS,mBAAAf,CAAQ,CAAR,EAA8BgB,MAA9B,CAAqC,OAArC,CAAf;;gBAC2B,mBAAAhB,CAAQ,GAAR,C;KAApB4+F,gB,YAAAA,gB;;AACP,KAAMmR,kBAAkB,mBAAA/vG,CAAQ,EAAR,CAAxB;AACA,KAAM6M,mBAAmB,mBAAA7M,CAAQ,EAAR,CAAzB;AACA,KAAM4M,SAAS,mBAAA5M,CAAQ,GAAR,CAAf;AACA,KAAMgwG,gBAAgB,mBAAAhwG,CAAQ,GAAR,CAAtB;AACA,KAAMiwG,gBAAgB,mBAAAjwG,CAAQ,GAAR,CAAtB;AACA,KAAMkwG,WAAW,mBAAAlwG,CAAQ,GAAR,CAAjB;AACA,KAAMooD,aAAa,mBAAApoD,CAAQ,GAAR,CAAnB;AACA,KAAM8gB,WAAW,mBAAA9gB,CAAQ,GAAR,CAAjB;;iBAOI,mBAAAA,CAAQ,GAAR,C;KALA8sF,a,aAAAA,a;KACAc,oB,aAAAA,oB;KACAF,Y,aAAAA,Y;KACAI,kB,aAAAA,kB;KACAb,M,aAAAA,M;;KAGEsiB,K;AACF;;;;AAIA,oBAAavrF,KAAb,EAAoB;AAAA;;AAChB,cAAKmsF,SAAL,GAAiB,EAAjB;AACA,cAAKC,YAAL,GAAoB,EAApB;AACA,cAAKpsF,KAAL,GAAaA,KAAb;;AAEA,cAAKqsF,2BAAL,GAAmC,KAAKC,qBAAL,CAA2B1qG,IAA3B,CAAgC,IAAhC,CAAnC;AACA,cAAK2qG,8BAAL,GAAsC,KAAKC,wBAAL,CAA8B5qG,IAA9B,CAAmC,IAAnC,CAAtC;AACA,cAAK6qG,6BAAL,GAAqC,KAAKC,uBAAL,CAA6B9qG,IAA7B,CAAkC,IAAlC,CAArC;;AAEA,cAAKsC,MAAL,GAAc+kF,OAAOC,KAArB;;AAEAnsF,gBAAOsB,IAAP,CAAY,mBAAZ;AACH;;AAED;;;;;;;;;;;iDAOwB8hB,G,EAAK;AACzB,iBAAI,CAACA,IAAIlY,IAAT,EAAe;AACX;AACA;AACH;;AAED,qBAAQkY,IAAI9W,IAAZ;AACI,sBAAK0iG,gBAAgBniG,SAAhB,CAA0BgB,cAA/B;AACI,0BAAK+hG,YAAL,CAAkBxsF,IAAIlY,IAAtB;AACA;AACJ,sBAAK8jG,gBAAgBniG,SAAhB,CAA0BiB,eAA/B;AACI,0BAAK+hG,WAAL,CAAiBzsF,IAAIlY,IAAJ,CAAS3L,MAA1B;AACA;AACJ;AACI;AARR;AAUH;;AAED;;;;;;;;;;0CAOiB;AAAA;;AACb,iBAAMc,WAAW,SAAXA,QAAW,CAACf,OAAD,EAAa;AAAA,qBACnB8M,MADmB,GACT9M,OADS,CACnB8M,MADmB;;AAE1B,qBAAIA,MAAJ,EAAY;AACR,2BAAKyjG,WAAL,CAAiBzjG,OAAO9M,OAAxB;AACH,kBAFD,MAEO;AACH,2BAAKwwG,YAAL;AACH;AACJ,cAPD;;AASA,iBAAMzjG,UACF,EAACC,MAAM0iG,gBAAgBziG,OAAhB,CAAwBwB,cAA/B,EAA+C7C,MAAM,EAArD,EAAyD6kG,MAAM,IAA/D,EADJ;AAEAjkG,8BAAiBW,WAAjB,CACIJ,OADJ,EACa,0BADb,EACyChM,QADzC;AAEH;;AAED;;;;;;;;0CAKiB;AAAA;;AACb,iBAAMA,WAAW,SAAXA,QAAW,CAACf,OAAD,EAAa;AAAA,qBACnB8M,MADmB,GACT9M,OADS,CACnB8M,MADmB;;AAE1B,qBAAIA,MAAJ,EAAY;AACR,4BAAKyjG,WAAL,CAAiBzjG,OAAO9M,OAAxB;AACH,kBAFD,MAEO;AACHwM,sCAAiBkkG,YAAjB;AACH;AACJ,cAPD;;AASA,iBAAM3jG,UACF,EAACC,MAAM0iG,gBAAgBziG,OAAhB,CAAwByB,cAA/B,EAA+C9C,MAAM,EAArD,EAAyD6kG,MAAM,IAA/D,EADJ;AAEAjkG,8BAAiBW,WAAjB,CACIJ,OADJ,EACa,0BADb,EACyChM,QADzC;AAEH;;AAED;;;;;;;;qCAKa4vG,Q,EAAU;AACnB,kBAAKb,SAAL,CAAe9rG,IAAf,CAAoB2sG,QAApB;AACH;;AAED;;;;;;;;kCAKU;AACN,kBAAK9oG,MAAL,GAAc+kF,OAAOE,UAArB;;AAEA,kBAAK8jB,cAAL;;AAEApkG,8BAAiBqkG,oBAAjB,CAAsC,KAAKT,6BAA3C;AACA/gG,oBAAOC,IAAP,CAAY21F,WAAZ,CAAwBz0F,WAAxB,CAAoC,KAAKw/F,2BAAzC;AACA3gG,oBAAO+vC,OAAP,CAAe0xD,cAAf,CAA8BtgG,WAA9B,CAA0C,KAAKw/F,2BAA/C;AACA3gG,oBAAO4rF,aAAP,CAAqBkK,gBAArB,CAAsC30F,WAAtC,CAAkD,KAAK0/F,8BAAvD;AACA;AACA;AACA7gG,oBAAO4rF,aAAP,CAAqB8V,WAArB,CAAiCvgG,WAAjC,CAA6C,KAAK0/F,8BAAlD;;AAEA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,eAAIzvF,SAASzP,GAAT,CAAay7E,aAAb,CAAJ,EAAoC,IAApC,GAA0C;AACtChsE,0BAAS5O,GAAT,CAAa46E,aAAb,EAA4B,IAA5B;AACH;;AAED,oBAAO,IAAP;AACH;;AAED;;;;;;;;yCAKiB;AACb,iBAAI,CAAC,KAAKukB,WAAV,EAAuB;AACnB;AACH;;AAED17F,0BAAa,KAAK27F,cAAlB;;AAEA,kBAAKlB,YAAL,GAAoB,EAApB;AACA,kBAAKmB,cAAL;;AAEAxwG,oBAAOsB,IAAP,CAAY,uBAAZ;AACH;;AAED;;;;;;;oCAIoC;AAAA,iBAA1B6F,MAA0B,uEAAjB+kF,OAAOK,QAAU;;AAChC,iBAAI,KAAKkkB,UAAT,EAAqB;AACjB;AACH;;AAED,kBAAKC,aAAL;;AAEA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,eAAI,KAAKvpG,MAAT,EAAoB+kF,OAAOI,UAA3B,GAAuC;AACnC,sBAAK8iB,SAAL,CAAezqG,OAAf,CAAuB;AAAA,4BAAYsrG,SAAS7Q,IAAT,EAAZ;AAAA,kBAAvB;AACH;;AAED,kBAAKj4F,MAAL,GAAcA,MAAd;;AAEA2E,8BAAiB6kG,uBAAjB,CAAyC,KAAKjB,6BAA9C;AACA/gG,oBAAOC,IAAP,CAAY21F,WAAZ,CAAwBl1F,cAAxB,CAAuC,KAAKigG,2BAA5C;AACA3gG,oBAAO+vC,OAAP,CAAe0xD,cAAf,CAA8B/gG,cAA9B,CAA6C,KAAKigG,2BAAlD;AACA3gG,oBAAO4rF,aAAP,CAAqBkK,gBAArB,CAAsCp1F,cAAtC,CAAqD,KAAKmgG,8BAA1D;AACA7gG,oBAAO4rF,aAAP,CAAqB8V,WAArB,CAAiChhG,cAAjC,CAAgD,KAAKmgG,8BAArD;;AAEAxvG,oBAAOsB,IAAP,CAAY,WAAZ;AACH;;AAED;;;;;;;;wCAKgB;AAAA;;AACZ,kBAAK6F,MAAL,GAAc+kF,OAAOG,MAArB;AACA,kBAAKkkB,cAAL,GAAsB77F,WAAW;AAAA,wBAAM,OAAKm7F,WAAL,CAAiBljB,aAAaC,OAA9B,CAAN;AAAA,cAAX,EAAyDG,kBAAzD,CAAtB;;AAEAlhF,oBAAOgjG,OAAP,CAAetkF,QAAf,CAAwB;AACpBtH,wBAAO,KAAKA;AADQ,cAAxB;AAGH;;AAED;;;;;;;;iDAKyB;AAAA;;AACrB,iBAAMA,QAAQ,KAAKA,KAAnB;;AAEA;AACA;AACAokC,wBAAWz4C,IAAX,CACK0B,GADL,CACS2S,KADT,EAEKnU,IAFL,CAEU,YAAM;AACR,qBAAI,OAAKkvD,OAAL,IAAgB,OAAKsyC,WAAzB,EAAsC;AAClC,4BAAKM,UAAL,CAAgB,IAAhB;AACH;AACJ,cANL,EAOKv/F,KAPL,CAOW;AAAA,wBAAM,OAAKu/F,UAAL,EAAN;AAAA,cAPX;AAQH;;AAED;;;;;;;;;sCAMiC;AAAA,iBAArBC,WAAqB,uEAAP,KAAO;;AAC7B,kBAAK5vG,QAAL,CAAcirF,OAAOM,WAArB;;AAEA,iBAAIqkB,WAAJ,EAAiB;AACbhlG,wBAAOkjG,OAAP,CAAexkF,QAAf,CAAwB;AACpBtH,4BAAO,KAAKA;AADQ,kBAAxB;AAGH;AACJ;;AAED;;;;;;;;;wDAMmC;AAAA,iBAARA,KAAQ,QAARA,KAAQ;;AAC/B;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,eAAIA,KAAJ,EAAc,KAAKA,KAAnB,GAA0B;AACtB,sBAAK2tF,UAAL;AACH;AACJ;;;qCAEYrxG,M,EAAQ;AACjB;AACA,iBAAI,KAAKuxG,SAAT,EAAoB;AAChB,sBAAK7vG,QAAL,CAAcirF,OAAOO,KAArB;;AAEA5gF,wBAAOwlB,OAAP,CAAe9G,QAAf,CAAwB;AACpBtH,4BAAO,KAAKA,KADQ;AAEpB1jB;AAFoB,kBAAxB;AAIH;AACJ;;AAED;;;;;;;;;;;;6CAS2B;AAAA;;AAAA,iBAAbkH,IAAa,SAAbA,IAAa;AAAA,iBAAPs5E,IAAO,SAAPA,IAAO;;AACvB;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,eAAI,KAAK54E,MAAT,EAAoB+kF,OAAOG,MAA3B,GAAmC;AAC/B;AACH;;AAED,iBAAM0kB;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,eAAgBtqG,IAAhB,EAAyB,KAAK4oG,YAA9B,CAAN;AACA,iBAAM2B,eAAeD,iBAAiBhxB,IAAtC;;AAEA,iBAAI,CAACixB,YAAL,EAAmB;AACf;AACH;;AAEDp8F,0BAAa,KAAK27F,cAAlB;;AAEA,iBAAMttF,QAAQ,KAAKA,KAAnB;AACA,kBAAKosF,YAAL,GAAoB5oG,IAApB;;AAEAoF,oBAAO+iG,UAAP,CAAkBrkF,QAAlB,CAA2B;AACvBtH,6BADuB;AAEvBxc;AAFuB,cAA3B;;AAKA,iBAAIs5E,IAAJ,EAAU;AACN,sBAAK2wB,aAAL;AACA,sBAAKvpG,MAAL,GAAc+kF,OAAOI,UAArB;;AAEAzgF,wBAAOijG,gBAAP,CAAwBvkF,QAAxB,CAAiC;AAC7BtH,iCAD6B;AAE7Bxc;AAF6B,kBAAjC;;AAKA,sBAAKwqG,UAAL,CAAgBxqG,IAAhB,EACK4K,KADL,CACW,yBAAiB;AACpB,yBAAI6/F,yBAAyB/B,QAA7B,EAAuC;AACnC,gCAAOz+F,QAAQF,OAAR,CAAgB0gG,aAAhB,CAAP;AACH;AACJ,kBALL,EAMKpiG,IANL,CAMU;AAAA,4BAAe,OAAKqiG,wBAAL,CAA8B1qG,IAA9B,EAAoC2qG,WAApC,CAAf;AAAA,kBANV,EAOKtiG,IAPL,CAOU;AAAA,4BAAesiG,YAAY5xG,GAAZ,EAAf;AAAA,kBAPV,EAQKsP,IARL,CAQU;AAAA,4BAAM,OAAK7N,QAAL,EAAN;AAAA,kBARV,EASKoQ,KATL,CASW;AAAA,4BAAM,OAAKpQ,QAAL,CAAcirF,OAAOM,WAArB,CAAN;AAAA,kBATX;AAUH;AACJ;;AAED;;;;;;;;;oCAMY/lF,I,EAAM;AAAA;;AACd,oBAAO,KAAK2oG,SAAL,CAAe1jG,MAAf,CAAsB,UAAC2H,OAAD,EAAU48F,QAAV,EAAuB;AAChD,wBAAO58F,QAAQvE,IAAR,CAAa,YAAM;AACtB,4BAAO,OAAKuiG,aAAL,CAAmBpB,QAAnB,EAA6BxpG,IAA7B,CAAP;AACH,kBAFM,CAAP;AAGH,cAJM,EAIJiK,QAAQF,OAAR,CAAgB,IAAhB,CAJI,CAAP;AAKH;;AAED;;;;;;;;;uCAMe8gG,e,EAAiB7qG,I,EAAM;AAClC;AACA;AACA,iBAAI,KAAKgqG,UAAT,EAAqB;AACjB,wBAAO//F,QAAQP,MAAR,EAAP;AACH;;AAED,oBAAOmhG,gBAAgBz9B,KAAhB,CAAsBptE,IAAtB,EACFqI,IADE,CACG;AAAA,wBAAiByiG,gBAAgB7gG,QAAQP,MAAR,CAAemhG,eAAf,CAAhB,GAAkD,IAAnE;AAAA,cADH,CAAP;AAEH;;AAED;;;;;;;;;;kDAO0B7qG,I,EAAMyqG,a,EAAe;AAC3C,iBAAIA,aAAJ,EAAmB;AACfrlG,wBAAO2lG,YAAP,CAAoBjnF,QAApB,CAA6B;AACzBtH,4BAAO,KAAKA,KADa;AAEzBxc,+BAFyB;AAGzBwpG,+BAAUiB;AAHe,kBAA7B;AAKH,cAND,MAMO;AACHrlG,wBAAO4lG,eAAP,CAAuBlnF,QAAvB,CAAgC;AAC5BtH,4BAAO,KAAKA,KADgB;AAE5Bxc;AAF4B,kBAAhC;AAIH;;AAED,oBAAOyqG,aAAP;AACH;;;6BAEkB;AACf,oBAAO,CAAC,KAAKlzC,OAAN,IAAiB,KAAK72D,MAAL,GAAc+kF,OAAOI,UAA7C;AACH;;;6BAEgB;AACb,oBAAO,CAAC,KAAKtuB,OAAN,IAAiB,CAAC,KAAKyyC,UAA9B;AACH;;;6BAEc;AACX;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,eAAO,KAAKtpG,MAAZ,EAAuB+kF,OAAOC,KAA9B;AACH;;;6BAEiB;AACd,oBAAO,KAAKhlF,MAAL,IAAe+kF,OAAOK,QAA7B;AACH;;AAED;;;;;;;;;;gDAO+BtpE,K,EAAO;AAClC,iBAAMyrF,QAAQ,IAAIF,KAAJ,CAAUvrF,KAAV,CAAd;;AAEAyrF,mBAAMgD,WAAN,CAAkB,IAAIxC,aAAJ,CAAkBjsF,KAAlB,EAAyB4pE,oBAAzB,CAAlB;AACA6hB,mBAAMgD,WAAN,CAAkB,IAAIzC,aAAJ,CAAkBhsF,KAAlB,EAAyB4pE,oBAAzB,CAAlB;;AAEA,oBAAO6hB,KAAP;AACH;;;;;;AAGLltG,QAAOpB,OAAP,GAAiBouG,KAAjB,C;;;;;;ACpZA;;;AAGA;;AAEA,KAAM37C,UAAU,mBAAA5zD,CAAQ,EAAR,CAAhB;;AAEAuC,QAAOpB,OAAP,GAAiB;AACb;;;AAGA0uG,qBAAkB,IAAIj8C,OAAJ,CAAY,kBAAZ,CAJL;;AAMb;;;AAGA+7C,eAAY,IAAI/7C,OAAJ,CAAY,YAAZ,CATC;;AAWb;;;AAGAg8C,YAAS,IAAIh8C,OAAJ,CAAY,SAAZ,CAdI;;AAgBb;;;AAGAk8C,YAAS,IAAIl8C,OAAJ,CAAY,SAAZ,CAnBI;;AAqBb;;;AAGAxhC,YAAS,IAAIwhC,OAAJ,CAAY,SAAZ,CAxBI;;AA0Bb;;;AAGA4+C,oBAAiB,IAAI5+C,OAAJ,CAAY,iBAAZ,CA7BJ;;AA+Bb;;;AAGA2+C,iBAAc,IAAI3+C,OAAJ,CAAY,cAAZ;AAlCD,EAAjB,C;;;;;;ACPA;;;;;;;;;;AAEA,KAAM4J,cAAc,mBAAAx9D,CAAQ,GAAR,CAApB;AACA,KAAMmhB,WAAW,mBAAAnhB,CAAQ,GAAR,CAAjB;AACA,KAAMsD,QAAQ,mBAAAtD,CAAQ,GAAR,CAAd;AACA,KAAMkwG,WAAW,mBAAAlwG,CAAQ,GAAR,CAAjB;AACA,KAAM0yG,gBAAgB,mBAAA1yG,CAAQ,GAAR,CAAtB;;AAEA;;;;;;KAKMgwG,a;;;AACF;;;;;;;AAOA,4BAAahsF,KAAb,EAAgE;AAAA,aAA5C06E,KAA4C,uEAApC,CAAoC;AAAA,aAAjCz2F,MAAiC,uEAAxBu1D,YAAYM,MAAZ,CAAmBC,GAAK;;AAAA;;AAAA;;AAE5D,eAAK2gC,KAAL,GAAaA,KAAb;AACA,eAAKz2F,MAAL,GAAcA,MAAd;AACA,eAAK+b,KAAL,GAAaA,KAAb;AAJ4D;AAK/D;;AAED;;;;;;;;+BAIOxc,I,EAAM;AACT,kBAAKmrG,WAAL,GAAmBnrG,IAAnB;AACA,oBAAOiK,QAAQF,OAAR,CAAgB,IAAhB,CAAP;AACH;;AAED;;;;;;;+BAIkB;AAAA;;AAAA,4FAAJ,EAAI;AAAA,iBAAZ/J,IAAY,QAAZA,IAAY;;AACdA,oBAAOA,QAAQ,KAAKmrG,WAApB;AACA,kBAAKnsG,OAAL,GAAe,IAAIksG,aAAJ,CAAkB,KAAKhU,KAAvB,CAAf;;AAEA;AACA,oBAAO,KAAKl4F,OAAL,CACFqJ,IADE,CACG;AAAA,wBAAM,OAAK+iG,SAAL,CAAeprG,IAAf,CAAN;AAAA,cADH,EAEF4K,KAFE,CAEI;AAAA,wBAAMX,QAAQF,OAAR,EAAN;AAAA,cAFJ,CAAP;AAGH;;AAED;;;;;;gCAGQ;AACJ,iBAAI,KAAK/K,OAAT,EAAkB;AACd,sBAAKA,OAAL,CAAa25F,IAAb;AACH;AACJ;;AAED;;;;;;;;;mCAMWvwF,K,EAAO;AACd,iBAAM3M,MAAMK,MAAMgd,aAAN,CAAoBa,SAAShH,MAAT,CAAgBlX,GAApC,EAAyC,EAAC6rG,aAAal/F,KAAd,EAAzC,CAAZ;AACA4tD,yBAAYW,EAAZ,CAAe;AACXl7D,yBADW;AAEXgF,yBAAQ,KAAKA,MAFF;AAGX+b,wBAAO,KAAKA;AAHD,cAAf;AAKH;;;;GA5DuBksF,Q;;AA+D5B3tG,QAAOpB,OAAP,GAAiB6uG,aAAjB,C;;;;;;AC5EA;;AAEA;;;;;;;;;;;;KAOME,Q;;;;;;;;AACF;;;;;;;;;;6BAUO;AACH,aAAM,IAAIpoG,KAAJ,CAAU,iBAAV,CAAN;AACH;AACD;;;;;;;;;2BAMM;AACF,aAAM,IAAIA,KAAJ,CAAU,iBAAV,CAAN;AACH;;AAED;;;;;;4BAGO;AACH,aAAM,IAAIA,KAAJ,CAAU,iBAAV,CAAN;AACH;;;;;;AAGLvF,QAAOpB,OAAP,GAAiB+uG,QAAjB,C;;;;;;ACzCA;;;AAGA;;;;;;KAEMwC,a;AACF;;;;AAIA,4BAAahU,KAAb,EAAoB;AAAA;;AAAA;;AAChB,cAAKtqF,OAAL,GAAe,IAAI3C,OAAJ,CAAY,UAACF,OAAD,EAAUL,MAAV,EAAqB;AAC5C,mBAAKy5D,SAAL,GAAiBl1D,WAAWlE,OAAX,EAAoBmtF,KAApB,CAAjB;AACA,mBAAKmU,OAAL,GAAe3hG,MAAf;AACH,UAHc,CAAf;AAIH;;AAED;;;;;;;gCAGQ;AACJyE,0BAAa,KAAKg1D,SAAlB;AACA,kBAAKkoC,OAAL;AACH;;AAED;;;;;;;;;;8BAOMzxG,Q,EAAU+xC,O,EAAS;AACrB,oBAAO,KAAK/+B,OAAL,CAAavE,IAAb,CAAkBzO,QAAlB,EAA4B+xC,OAA5B,CAAP;AACH;;AAED;;;;;;;;;gCAMOA,O,EAAS;AACZ,oBAAO,KAAK/+B,OAAL,CAAahC,KAAb,CAAmB+gC,OAAnB,CAAP;AACH;;;;;;AAGL5wC,QAAOpB,OAAP,GAAiBuxG,aAAjB,C;;;;;;AC/CA;;;;AAIA;;;;;;;;;;AAEA,KAAMxC,WAAW,mBAAAlwG,CAAQ,GAAR,CAAjB;AACA,KAAMgwG,gBAAgB,mBAAAhwG,CAAQ,GAAR,CAAtB;AACA,KAAM8yG,UAAU,mBAAA9yG,CAAQ,EAAR,CAAhB;AACA,KAAMw9D,cAAc,mBAAAx9D,CAAQ,GAAR,CAApB;AACA,KAAM+yG,eAAe,mBAAA/yG,CAAQ,GAAR,CAArB;AACA,KAAM0yG,gBAAgB,mBAAA1yG,CAAQ,GAAR,CAAtB;;KAEMiwG,a;;;AACF;;;;;;;AAOA,4BAAajsF,KAAb,EAAgE;AAAA,aAA5C06E,KAA4C,uEAApC,CAAoC;AAAA,aAAjCz2F,MAAiC,uEAAxBu1D,YAAYM,MAAZ,CAAmBC,GAAK;;AAAA;;AAAA;;AAE5D,eAAK2gC,KAAL,GAAaA,KAAb;AACA,eAAKz2F,MAAL,GAAcA,MAAd;AACA,eAAK+b,KAAL,GAAaA,KAAb;AACA,eAAK9b,MAAL,GAAc+kF,OAAOC,KAArB;AAL4D;AAM/D;;AAED;;;;;;;;;;+BAMO1lF,I,EAAM;AAAA;;AACT,iBAAMvE;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,eAAM+vG,cAAN,EAAuBv1F,mBAAmBjW,IAAnB,CAAvB,CAAN;AACA,kBAAKU,MAAL,GAAc+kF,OAAOgmB,QAArB;;AAEA,oBAAOH,QAAQ7vG,GAAR,EAAa;AAChByD,+BAAc;AADE,cAAb,EAGFmJ,IAHE,CAGG;AAAA,wBAAU,OAAKqjG,cAAL,CAAoBh9F,MAApB,CAAV;AAAA,cAHH,EAIF9D,KAJE,CAII;AAAA,wBAAM,KAAN;AAAA,cAJJ,CAAP;AAKH;;AAED;;;;;;+BAGO;AAAA;;AACH,kBAAKlK,MAAL,GAAc+kF,OAAOkmB,UAArB;;AAEA;AACA,iBAAI,KAAKR,WAAL,CAAiBx0F,cAAjB,CAAgC,MAAhC,CAAJ,EAA6C;AACzC,sBAAKi1F,aAAL,GAAqB,IAAIpD,aAAJ,CAAkB,KAAKhsF,KAAvB,EAA8B,KAAK06E,KAAnC,EAA0C,KAAKz2F,MAA/C,CAArB;AACA,wBAAO,KAAKmrG,aAAL,CAAmB7yG,GAAnB,CAAuB,KAAKoyG,WAA5B,CAAP;AACH;;AAED;AACA,kBAAKnsG,OAAL,GAAe,IAAIksG,aAAJ,CAAkB,KAAKhU,KAAvB,CAAf;;AAEA;AACA,oBAAO,KAAKl4F,OAAL,CACFqJ,IADE,CACG;AAAA,wBAAM,OAAKwjG,SAAL,CAAe,OAAKV,WAAL,CAAiB1vG,GAAhC,CAAN;AAAA,cADH,EAEFmP,KAFE,CAEI;AAAA,wBAAMX,QAAQF,OAAR,EAAN;AAAA,cAFJ,CAAP;AAGH;;AAED;;;;;;;;;;wCAOgB2E,M,EAAQ;AACpB;AACA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,eAAI,KAAKhO,MAAT,EAAoB+kF,OAAOqmB,OAA3B,GAAoC;AAChC,wBAAO,KAAP;AACH;;AAJmB;AAAA;AAAA;;AAAA;AAMpB,sCAAsCp9F,OAAOmvE,UAA7C,8HAAyD;AAAA;AAAA,yBAA/CvvD,IAA+C,eAA/CA,IAA+C;AAAA,yBAAzC7yB,GAAyC,eAAzCA,GAAyC;AAAA,yBAApCsqG,MAAoC,eAApCA,MAAoC;AAAA,yBAA5B/lG,IAA4B,eAA5BA,IAA4B;;AACrD;AACA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAAI+lG,MAAJ,EAAe,CAAf,GAAkB;AACd,gCAAO,KAAP;AACH;;AAED;AACA;AACA,yBAAIwF,aAAaj9E,IAAb,EAAmBy9E,QAAnB,EAA6BnvG,MAAjC,EAAyC;AACrC;AACH;;AAED,yBAAI,CAACnB,GAAL,EAAU;AACN;AACA;AACA,6BAAIuE;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,2BAAQsuB,KAAKjb,OAAL,CAAa24F,UAAb,CAAR,EAAqC,CAAC,CAAtC,CAAJ,EAA6C;AACzC,kCAAKb,WAAL,GAAmB,EAACnrG,UAAD,EAAnB;AACA,oCAAO,IAAP;AACH;;AAED;AACH;;AAED,0BAAKmrG,WAAL,GAAmB,EAAC1vG,QAAD,EAAnB;AACA,4BAAO,IAAP;AACH;AA/BmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAgCpB,oBAAO,KAAP;AACH;;AAED;;;;;;gCAGQ;AACJ,iBAAI,KAAKuD,OAAT,EAAkB;AACd,sBAAKA,OAAL,CAAa25F,IAAb;AACH,cAFD,MAEO,IAAI,KAAKiT,aAAT,EAAwB;AAC3B,sBAAKA,aAAL,CAAmBjT,IAAnB;AACH;;AAED,kBAAKj4F,MAAL,GAAc+kF,OAAOqmB,OAArB;AACH;;AAED;;;;;;;;;mCAMWrwG,G,EAAK;AACZu6D,yBAAYW,EAAZ,CAAe;AACXl7D,yBADW;AAEXgF,yBAAQ,KAAKA,MAFF;AAGX+b,wBAAO,KAAKA;AAHD,cAAf;;AAMA,oBAAO,IAAP;AACH;;;;GA3HuBksF,Q;;AA8H5B,KAAM8C,iBAAiB,gDAAvB;;AAEA,KAAMO,WAAW,CACb,QADa,EAEb,MAFa,EAGb,QAHa,EAIb,OAJa,EAKb,KALa,EAMb,MANa,EAOb,cAPa,CAAjB;;AAUA,KAAMC,aAAa,QAAnB;;AAEA,KAAMvmB,SAAS;AACX;AACAC,YAAO,CAFI;AAGX;AACA+lB,eAAU,CAJC;AAKX;AACAE,iBAAY,CAND;AAOX;AACAG,cAAS;AARE,EAAf;;AAWA/wG,QAAOpB,OAAP,GAAiB8uG,aAAjB,C;;;;;;ACpKA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;ACzDA;;;;AAIA;;AAEA,KAAMzyC,cAAc,mBAAAx9D,CAAQ,GAAR,CAApB;AACA,KAAM4hB,gBAAgB,mBAAA5hB,CAAQ,EAAR,CAAtB;AACA,KAAM2kB,YAAY,mBAAA3kB,CAAQ,GAAR,CAAlB;AACA,KAAM4M,SAAS,mBAAA5M,CAAQ,GAAR,CAAf;;AAEAuC,QAAOpB,OAAP,GAAiB;AACb0T,SADa,kBACL;AACJ8P,mBAAUV,EAAV,CAAarX,OAAOyY,QAAP,CAAgBuyB,eAA7B,EAA8C,UAAU5kC,OAAV,EAAmBoR,MAAnB,EAA2B;AACrEqvF,0BAAarvF,OAAOmB,GAAP,CAAWjU,EAAxB;AACH,UAFD;AAGH;AALY,EAAjB;;AAQA;;;AAGA,UAASmiG,YAAT,CAAsBzvF,KAAtB,EAA6B;AACzBw5C,iBAAYW,EAAZ,CAAe;AACXl7D,cAAK2e,cAAcuE,eADR;AAEXle,iBAAQu1D,YAAYM,MAAZ,CAAmBC,GAFhB;AAGX/5C,gBAAOA;AAHI,MAAf;AAKH,E;;;;;;AC5BD;;;AAGA;;AAEA,KAAMwjC,UAAU,mBAAAxnD,CAAQ,GAAR,CAAhB;AACA,KAAM8gB,WAAW,mBAAA9gB,CAAQ,GAAR,CAAjB;AACA,KAAMklB,MAAM,mBAAAllB,CAAQ,GAAR,CAAZ;AACA,KAAM4hB,gBAAgB,mBAAA5hB,CAAQ,EAAR,CAAtB;AACA,KAAM2P,OAAO,mBAAA3P,CAAQ,GAAR,CAAb;AACA,KAAM2kB,YAAY,mBAAA3kB,CAAQ,GAAR,CAAlB;AACA,KAAM4M,SAAS,mBAAA5M,CAAQ,GAAR,CAAf;;AAEAuC,QAAOpB,OAAP,GAAiB;AACb0T,WAAM,gBAAY;AAAA;;AACdiM,kBAASiI,SAAT,CAAmBlY,WAAnB,CAA+B;AAAA,iBAAE2Y,GAAF,QAAEA,GAAF;AAAA,iBAAOF,QAAP,QAAOA,QAAP;AAAA,oBAAqB;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,oBAAQ,SAAR,KAAqBA,QAArB,IAAiC,MAAKvD,aAAL,EAAtD;AAAA,UAA/B;AACH,MAHY;;AAKbA,oBAAe,uBAAU/B,KAAV,EAAiB;AAC5BvS,iBAAQ81C,GAAR,CAAYC,QAAQ0tC,eAApB,EACKrlF,IADL,CACU,YAAM;AACR,iBAAMg8C,SAAS3mC,IAAIwuF,SAAJ,EAAf;AACA,iBAAI1vF,KAAJ,EAAW;AACPW,2BAAUlf,IAAV,CAAemH,OAAOU,OAAP,CAAe4rC,UAA9B,EAA0C2S,MAA1C,EAAkD7nC,KAAlD;AACH,cAFD,MAEO;AACHrU,sBAAKqW,OAAL,CAAa,UAAC1f,GAAD,EAAM2f,KAAN,EAAgB;AACzB,sBAACA,SAAS,EAAV,EACKtG,MADL,CACY;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,2BAAO4F,IAAItiB,GAAX,EAAmB2e,cAAcuE,eAAjC;AAAA,sBADZ,EAEKzgB,OAFL,CAEa;AAAA,gCAAOif,UAAUlf,IAAV,CAAemH,OAAOU,OAAP,CAAe4rC,UAA9B,EAA0C2S,MAA1C,EAAkDtmC,IAAIjU,EAAtD,CAAP;AAAA,sBAFb;AAGH,kBAJD;AAKH;AACJ,UAZL;AAaH;AAnBY,EAAjB,C;;;;;;ACbA;;;;;;AAMA;;;;AAEA,KAAMuN,WAAW,mBAAA7e,CAAQ,GAAR,CAAjB;AACA,KAAMyG,QAAQ,mBAAAzG,CAAQ,GAAR,CAAd;AACA,KAAM8hB,OAAO,mBAAA9hB,CAAQ,GAAR,CAAb;AACA,KAAM0mD,UAAU,mBAAA1mD,CAAQ,EAAR,CAAhB;AACA,KAAMohB,cAAc,mBAAAphB,CAAQ,GAAR,CAApB;AACA,KAAM4gB,OAAO,mBAAA5gB,CAAQ,GAAR,CAAb;AACA,KAAMwnD,UAAU,mBAAAxnD,CAAQ,GAAR,CAAhB;AACA,KAAMwgB,SAAS,mBAAAxgB,CAAQ,CAAR,CAAf;AACA,KAAMe,SAAS,mBAAAf,CAAQ,CAAR,EAA8BgB,MAA9B,CAAqC,KAArC,CAAf;AACA,KAAM8f,WAAW,mBAAA9gB,CAAQ,GAAR,CAAjB;;AAEA,KAAM2zG,aAAa,sBAAnB;AACA,KAAMC,iBAAiB,EAAvB,C,CAA2B;AAC3B,KAAMC,kBAAkB,IAAxB,C,CAA8B;AAC9B,KAAMC,oBAAoB,YAA1B;AACA,KAAMC,8BAA8B,GAApC,C,CAAyC;AACzC,KAAMC,KAAKvtG,MAAMytF,UAAUC,SAAhB,CAAX;;AAEA,KAAI8f,kBAAkB,IAAtB;AACA,KAAMC,gBAAgBr1F,SAASs1F,SAAT,EAAoBJ,2BAApB,CAAtB;;AAEA5yG,SAAQ0T,IAAR,GAAe,YAAY;AACvBiM,cAASiI,SAAT,CAAmBlY,WAAnB,CAA+B,gBAAqB;AAAA,aAAnB2Y,GAAmB,QAAnBA,GAAmB;AAAA,aAAdF,QAAc,QAAdA,QAAc;;AAChD;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAAIE,GAAJ,EAAY,SAAZ,GAAuB;AACnB;AACH;AACD,aAAIF,QAAJ,EAAc;AACVutE;AACH,UAFD,MAEO;AACH0E;AACH;AACJ,MATD;AAUA,SAAIz6E,SAASzP,GAAT,CAAa,SAAb,CAAJ,EAA6B;AACzBwlF;AACH;AACJ,EAdD;;AAgBA11F,SAAQuyG,SAAR,GAAoB,YAAY;AAC5B,YAAO;AACHhqD,eAAM,GADH;AAEH1G,eAAMlhC,KAAK4E,MAAL,IAAe,IAFlB;AAGH0tF,yBAAgB,IAHb;AAIHC,oBAAW,aAJR;AAKHC,gBAAO;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAAY/tF,UAAZ,GAAyB6K,KAAzB,EAAmC,QAAnC,IAA8C,OAA9C,GAAwD,OAL5D;AAMHmjF,4BAAmB,KANhB;AAOHC,qBAAY,aAPT;AAQHC,kBAAS,IARN;AASHnxF,kBAAS,EATN;AAUHoxF,mBAAU;AACNC,uBAAU,KADJ;AAENC,wBAAW,IAFL;AAGNC,4BAAeb,GAAGc,MAAH,CAAUnvG,IAHnB;AAINovG,mCAAsBf,GAAGc,MAAH,CAAUxxF,OAJ1B;AAKN0xF,0BAAatuD,QAAQiD,QAAR,KAAqB,UAArB,GAAkCpgD,SALzC;AAMN0rG,iCAAoBvuD,QAAQiD,QAAR,KAAqBqqD,GAAGttD,OAAH,CAAWpjC,OAAhC,GAA0C/Z,SANxD;AAON2rG,0BAAalB,GAAGttD,OAAH,CAAW/gD,IAPlB;AAQNwvG,6BAAgBnB,GAAGttD,OAAH,CAAWpjC,OARrB;AASN8xF,uBAAUpB,GAAG56C,EAAH,CAAMzzD,IATV;AAUN0vG,wBAAWrB,GAAG56C,EAAH,CAAM91C;AAVX,UAVP;AAsBHgyF,oBAAW,KAtBR;AAuBHC,eAAM,EAvBH;AAwBHC,0BAAiB,IAxBd;AAyBHC,qCAA4B,CAzBzB;AA0BH72D,gBAAO;AACH8O,kBAAK;AACDi2C,yBAAQ+R,WADP;AAEDC,0BAAS;AAFR;AADF,UA1BJ;AAgCHC,mBAAU;AACNj0C,oBAAO/gD,KAAKmjF,cAAL,MAAyBx6F,SAD1B;AAENwqF,wBAAWnzE,KAAKkjF,YAAL,MAAuBv6F;AAF5B;AAhCP,MAAP;AAqCH,EAtCD;;AAwCA,UAASgyF,OAAT,GAAmB;AACfx6F,YAAOsB,IAAP,CAAY,eAAZ;AACAme,YAAOrP,KAAP,CAAa2iG,iBAAb;AACA+B;AACAruD,aAAQz+B,SAAR,CAAkB3Y,cAAlB,CAAiC8jG,aAAjC;AACH;;AAED,UAASrd,MAAT,GAAkB;AACd91F,YAAOsB,IAAP,CAAY,cAAZ;AACAoP,aAAQ81C,GAAR,CAAYC,QAAQ0tC,eAApB,EAAqCrlF,IAArC,CAA0C,YAAM;AAC5C2Q,gBAAOrP,KAAP,CAAa2iG,iBAAb;AACAK;AACA3sD,iBAAQz+B,SAAR,CAAkBlY,WAAlB,CAA8BqjG,aAA9B;AACH,MAJD;AAKH;;AAED,UAASC,SAAT,GAAqB;AACjBpzG,YAAOsB,IAAP,CAAY,mBAAZ;AACAwzG;AACAC,wBAAmBC,SAAnB;AACH;;AAED,UAASF,aAAT,GAAyB;AACrBG;AACAC;AACAzqG,cAASC,aAAT,CAAuB,MAAvB,EAA+ByqG,eAA/B,CAA+C,OAA/C,EAHqB,CAGoC;AACzD,YAAO3qG,OAAO4qG,SAAd;AACH;;AAED,UAASH,qBAAT,GAAiC;AAC7B,SAAI/B,eAAJ,EAAqB;AACjBzoG,kBAASpF,IAAT,CAAcgwG,WAAd,CAA0BnC,eAA1B;AACAA,2BAAkB,IAAlB;AACH;AACJ;;AAED,UAASgC,kBAAT,GAA8B;AAC1B,kCAAIzqG,SAASG,gBAAT,CAA0B,cAA1B,CAAJ,GACKgU,MADL,CACY,eAAO;AACX,gBAAOuW,OAAO,CAACA,IAAInD,IAAJ,IAAYmD,IAAIjE,GAAhB,IAAuB,EAAxB,EAA4BpX,OAA5B,CAAoC,eAApC,KAAwD,CAAtE;AACH,MAHL,EAIKnV,OAJL,CAIa;AAAA,gBAAOwwB,IAAImgF,UAAJ,CAAeD,WAAf,CAA2BlgF,GAA3B,CAAP;AAAA,MAJb;AAKH;;AAED,UAAS4/E,kBAAT,CAA4BQ,cAA5B,EAA4C;AACxCrC,uBAAkBzoG,SAASs5B,aAAT,CAAuB,QAAvB,CAAlB;AACAmvE,qBAAgBhiF,GAAhB,GAAsB0hF,UAAtB;AACAM,qBAAgBptG,MAAhB,GAAyByvG,cAAzB;AACA9qG,cAASpF,IAAT,CAAcmwG,WAAd,CAA0BtC,eAA1B;AACH;;AAED,UAAS8B,SAAT,GAAqB;AACjB,SAAMlqD,SAAS1qD,QAAQuyG,SAAR,EAAf;AACAyC,eAAUxmF,MAAV,CAAiB3uB,MAAjB,CAAwB6qD,MAAxB,EACKh8C,IADL,CACU2mG,cADV,EAEKpkG,KAFL,CAEWokG,cAFX;AAGH;;AAED,UAASA,cAAT,GAA0B;AACtBh2F,YAAOrP,KAAP,CAAa2iG,iBAAb;AACAtzF,YAAOgvC,QAAP,CAAgB;AACZ7pD,eAAMmuG,iBADM;AAEZv5C,yBAAgBq5C;AAFJ,MAAhB,EAGGO,SAHH;AAIA1+F,gBAAWogG,aAAX,EAA0BhC,eAA1B;AACH;;AAED,UAAS6B,SAAT,GAAqB;AACjB,SAAM/gB,YAAY/zE,KAAKkjF,YAAL,EAAlB;AACA,SAAMlP,cAAch0E,KAAKmjF,cAAL,EAApB;AACA,SAAIpP,aAAaC,WAAjB,EAA8B;AAC1B,gBAAO,CAACD,SAAD,EAAYC,WAAZ,EAAyBj1E,MAAzB,CAAgC4K,OAAhC,EAAyC5gB,IAAzC,CAA8C,GAA9C,CAAP;AACH;AACD,YAAO,UAAP;AACH,E;;;;;;AC/JD;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA,kFAAiF,iBAAiB;;AAElG;AACA,yCAAwC;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;;AAEA;AACA,gCAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC;AACrC;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA,sCAAqC;AACrC;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAoC;AACpC;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,+CAA8C,EAAE;AAChD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,uDAAsD;AACtD;;AAEA,gCAA+B;AAC/B;;AAEA,gDAA+C;AAC/C;;AAEA,wBAAuB;AACvB;;AAEA,uBAAsB,uBAAuB,gCAAgC;AAC7E;AACA;AACA;;AAEA;;AAEA,gCAA+B,QAAQ;AACvC;;AAEA;AACA;AACA;AACA;AACA;;AAEA,6BAA4B;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;;AAEA,0CAAyC,KAAK;AAC9C;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,qBAAoB;AACpB;AACA,qEAAoE;AACpE;AACA;;AAEA;AACA;AACA;AACA,4CAA2C,IAAI;AAC/C;;AAEA,uDAAsD,EAAE;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iCAAgC,EAAE,GAAG,MAAM,EAAE;AAC7C;;AAEA,iCAAgC,EAAE,GAAG,eAAe,IAAI;AACxD;AACA;AACA,qBAAoB;AACpB;;AAEA,8BAA6B;AAC7B;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;;AAEA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,0CAAyC;AACzC;AACA,gCAA+B;AAC/B;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA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EAAb;AACH;AACJ;;;gCAGMF,G,EAAKg2F,O,EAAS;AACjB,qBAAQh2F,IAAI9W,IAAZ;AACI,sBAAKT,OAAOU,OAAP,CAAewB,cAApB;AACI,0BAAK0sG,KAAL,CAAWr3F,IAAIlY,IAAf;AACA;AACJ,sBAAKW,OAAOU,OAAP,CAAeyB,cAApB;AACI,0BAAKk0G,KAAL,CAAW9+F,IAAIlY,IAAf;AACA;AACJ;AACI;AACA;AATR;;AAYA;AACA,oBAAO,IAAP;AACH;;;;;;AACJ;;AAED1J,QAAOpB,OAAP,GAAiB,IAAIqhH,gBAAJ,EAAjB,C;;;;;;AC1EA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oDAAoD,OAAO,6BAA6B;AACvG;AACA,iBAAgB,qDAAqD,OAAO,8BAA8B;AAC1G;AACA,iBAAgB,qDAAqD,OAAO,8BAA8B;AAC1G;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA;AACA,oBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA,uCAAsC;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA,cAAa;;AAEb;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,sBAAqB,aAAa;AAClC;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,sBAAqB,aAAa;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,sBAAqB,QAAQ;AAC7B;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,oBAAmB,wBAAwB;AAC3C,oBAAmB,oBAAoB;AACvC;AACA,wGAAuG;AACvG,wFAAuF;AACvF;AACA;AACA;AACA;AACA;AACA;AACA,yEAAwE,2BAA2B;AACnG;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA,4BAA2B,eAAe;AAC1C;AACA;;AAEA,qCAAoC,uBAAuB;AAC3D,UAAS;AACT;AACA;AACA,oBAAmB,qBAAqB;AACxC;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,UAAS;AACT;AACA,sBAAqB,QAAQ;AAC7B;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,oBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,sCAAqC,iBAAiB;AACtD,UAAS;AACT;AACA;AACA,oBAAmB,yBAAyB;AAC5C;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,sCAAqC,sBAAsB;AAC3D,UAAS;AACT;AACA;AACA,oBAAmB,qBAAqB;AACxC,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA,sCAAqC;;AAErC;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,UAAS;;AAET;AACA;;AAEA;AACA;AACA,gBAAe,6BAA6B;AAC5C,gBAAe,0BAA0B;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,kBAAiB;AACjB,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,uHAAuH;AACtI;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,eAAe;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,YAAY;AAC3B;AACA;;AAEA,EAAC;AACD;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,wCAAuC,+BAA+B;AACtE;AACA;AACA;;AAEA;AACA,oEAAmE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC;AACpC;AACA,4CAA2C;AAC3C,gDAA+C;AAC/C,oDAAmD;AACnD,oCAAmC;AACnC;AACA,qCAAoC;AACpC,+FAA8F;AAC9F,qGAAoG;AACpG,eAAc;AACd;AACA,mDAAkD;AAClD,kFAAiF;AACjF,0CAAyC;AACzC,oDAAmD;AACnD,wDAAuD;AACvD,uBAAsB;AACtB;AACA,kDAAiD;AACjD,gDAA+C;AAC/C,yCAAwC;AACxC,gDAA+C;AAC/C;AACA,kDAAiD;AACjD,gDAA+C;AAC/C,yCAAwC;AACxC,gDAA+C;AAC/C;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AACd,4BAA2B;AAC3B,WAAU;AACV;AACA,2DAA0D;AAC1D,6BAA4B,kBAAkB,mBAAmB;AACjE,8DAA6D;AAC7D,iFAAgF;AAChF,eAAc;AACd,WAAU;AACV;AACA,sDAAqD;AACrD,6BAA4B,mBAAmB,MAAM;AACrD,kEAAiE;AACjE,eAAc;AACd,WAAU;AACV;AACA,6CAA4C;AAC5C,oEAAmE;AACnE,8CAA6C;AAC7C;AACA;AACA,2CAA0C;AAC1C;AACA,+DAA8D;AAC9D;AACA,2CAA0C;AAC1C;AACA,4CAA2C;AAC3C;AACA,2CAA0C;AAC1C;AACA,0CAAyC;AACzC;AACA,qDAAoD;AACpD;AACA,sDAAqD;AACrD;AACA,6CAA4C;AAC5C;AACA,oEAAmE;AACnE;AACA,oDAAmD;AACnD;AACA,2CAA0C;AAC1C;AACA,4CAA2C;AAC3C;AACA,2DAA0D;AAC1D;AACA,iDAAgD;AAChD;AACA,0BAAyB;AACzB,WAAU;AACV;;AAEA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,sBAAsB;AACrC;AACA,gBAAe,sBAAsB;AACrC,gBAAe,uBAAuB;AACtC,gBAAe,OAAO;AACtB;AACA,gBAAe,OAAO;AACtB;AACA,gBAAe,oBAAoB;AACnC,gBAAe,OAAO;AACtB;AACA;AACA,gBAAe,QAAQ;AACvB,gBAAe,QAAQ;AACvB,gBAAe,OAAO;AACtB;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,uCAAsC;AACtC,yCAAwC;AACxC,wCAAuC;AACvC;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA,2CAA0C,4BAA4B;AACtE,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,qBAAoB;AACpB;AACA;AACA,cAAa;;AAEb;AACA;;AAEA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA,oBAAmB,YAAY;AAC/B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,4BAA2B,0BAA0B;AACrD,6DAA4D,0BAA0B;AACtF;AACA;;AAEA;AACA,6CAA4C,0BAA0B;AACtE,UAAS;AACT;AACA;AACA;AACA;AACA,6BAA4B,kBAAkB;AAC9C,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB,gBAAe,OAAO;AACtB;AACA;AACA,EAAC;AACD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,OAAO;AAC5B,uBAAsB,+BAA+B;AACrD,uBAAsB,gCAAgC;AACtD,uBAAsB,+BAA+B;AACrD,uBAAsB,+BAA+B;AACrD,uBAAsB,+BAA+B;AACrD,uBAAsB,QAAQ;AAC9B,uBAAsB,QAAQ;AAC9B,uBAAsB,OAAO;AAC7B,uBAAsB,OAAO;AAC7B,uBAAsB,oBAAoB;AAC1C,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,sBAAsB;AACzC,oBAAmB,uBAAuB;AAC1C,oBAAmB,sBAAsB;AACzC;AACA,oBAAmB,sBAAsB;AACzC,oBAAmB,sBAAsB;AACzC,oBAAmB,OAAO;AAC1B,qCAAoC,eAAe;AACnD,oBAAmB,QAAQ;AAC3B,oBAAmB,QAAQ;AAC3B,oBAAmB,OAAO;AAC1B;AACA,2DAA0D;AAC1D,iDAAgD;AAChD,oCAAmC;AACnC,mCAAkC;AAClC,sCAAqC;AACrC,qCAAoC;AACpC;AACA;AACA;AACA,wDAAuD,eAAe;AACtE;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA,wDAAuD,eAAe;AACtE;AACA,oBAAmB,oBAAoB;AACvC,oBAAmB,QAAQ;AAC3B,oBAAmB,OAAO;AAC1B;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gEAA+D;AAC/D;AACA,2DAA0D;AAC1D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA,8BAA6B;;AAE7B;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA,0BAAyB;AACzB;AACA;AACA,iEAAgE,sBAAsB,EAAE;AACxF;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB,sBAAqB;AACrB;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,sBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,wCAAwC;AACvD;AACA,gBAAe,yCAAyC;AACxD;AACA,gBAAe,mDAAmD;AAClE,gBAAe,OAAO;AACtB,iCAAgC,eAAe;AAC/C,gBAAe,OAAO;AACtB;AACA,+CAA8C;AAC9C,6CAA4C;AAC5C,gCAA+B;AAC/B,+BAA8B;AAC9B,kCAAiC;AACjC,iCAAgC;AAChC;AACA;AACA;AACA,oDAAmD,eAAe;AAClE;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA,oDAAmD,eAAe;AAClE;AACA,gBAAe,QAAQ;AACvB,gBAAe,OAAO;AACtB;AACA;;AAEA;AACA;;AAEA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB,gBAAe,OAAO;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,oBAAoB;AACnC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,yGAAyG;AACxH;AACA,gBAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA,uDAAsD;AACtD,0CAAyC;AACzC;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB;AACA,gEAA+D;AAC/D;AACA;AACA,gBAAe,MAAM;AACrB;AACA,gBAAe,MAAM;AACrB;AACA,gBAAe,QAAQ;AACvB,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C;AAC5C;AACA;AACA,kBAAiB;AACjB,cAAa;AACb;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA,2CAA0C,4BAA4B;AACtE,UAAS;AACT;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,SAAS;AAC5B,oBAAmB,WAAW;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,oBAAmB,WAAW;AAC9B,oBAAmB,WAAW;AAC9B;AACA;AACA;AACA;AACA,sBAAqB,WAAW;AAChC;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,cAAa;;AAEb;AACA;;AAEA;;AAEA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA,sBAAqB;AACrB,oCAAmC;AACnC;AACA,kBAAiB;AACjB,gCAA+B;AAC/B;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA,cAAa;;AAEb;AACA;AACA,2CAA0C,oBAAoB;AAC9D;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB,QAAQ;AAC7B;AACA;AACA;;AAEA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa;AACb,UAAS;AACT;;AAEA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,4CAA4C;AACzD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAuD,0BAA0B;AACjF;AACA,2CAA0C;AAC1C;AACA;AACA,mCAAkC;AAClC;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA,4CAA2C,6BAA6B;AACxE,kBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA,8BAA6B;AAC7B;AACA;AACA,0BAAyB;AACzB,iDAAgD;AAChD;AACA,8DAA6D;AAC7D;AACA;AACA;AACA,0BAAyB;AACzB,sBAAqB;AACrB;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mCAAkC;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,cAAa;AACb,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAa;AACb,UAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS;AACT;AACA,EAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,gCAA+B,aAAa;AAC5C;AACA;AACA,oCAAmC,gBAAgB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA,gBAAe,OAAO;AACtB,iCAAgC,eAAe;AAC/C,gBAAe,QAAQ;AACvB,gBAAe,OAAO;AACtB;AACA,+CAA8C;AAC9C,6CAA4C;AAC5C,gCAA+B;AAC/B,+BAA8B;AAC9B,kCAAiC;AACjC,iCAAgC;AAChC;AACA;AACA;AACA,oDAAmD,eAAe;AAClE;AACA,gBAAe,OAAO;AACtB;AACA,oDAAmD,eAAe;AAClE;AACA,gBAAe,oBAAoB;AACnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,0EAAyE;AACzE;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+EAA8E;AAC9E;;AAEA;AACA,+EAA8E;AAC9E;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,UAAU;AACrB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3CA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjCA;;;AAGA;;AAEA,KAAIwX,WAAW,mBAAA9gB,CAAQ,GAAR,CAAf;;AAEA,KAAI6kH,gBAAgB,gBAApB;;AAEA;;;AAGA1jH,SAAQijH,WAAR,GAAsB,UAAUR,QAAV,EAAoB;AACtC,OAAIA,QAAJ,EAAc;AACV9iG,cAAS5O,GAAT,CAAa2yG,aAAb,EAA4BjB,QAA5B;AACH;AACJ,EAJD;;AAMA;;;AAGAziH,SAAQkjH,WAAR,GAAsB,YAAY;AAC9B,UAAOvjG,SAASzP,GAAT,CAAawzG,aAAb,KAA+B,EAAtC;AACH,EAFD,C;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,oBAAoB;AAC/B,YAAW,uBAAuB;AAClC,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,WAAU,iBAAiB;AAC3B;AACA;AACA;AACA,OAAM,SAAS;AACf,OAAM;AACN;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjDA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,SAAS;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;;AAEA;A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","file":"bundle.js","sourcesContent":["/**\n * Входная точка\n */\n'use strict';\n\nconst errorBooster = require('./utils/error-booster');\n\nself.addEventListener('error', (e) => {\n    errorBooster.uncaught(e.message);\n});\n  \nself.addEventListener('unhandledrejection', (e) => {\n    errorBooster.uncaught(e.reason);\n});\n  \nrequire('./modules/startup').run();\n\n\n\n// WEBPACK FOOTER //\n// ./background.js","/**\n * Запуск основной логики (после bootstrap)\n */\n\n'use strict';\n\nvar utils = require('../../utils/utils');\nvar always = require('./always');\nvar runstate = require('./runstate');\nvar install = require('./install');\nvar upgrade = require('./upgrade');\nvar normalStart = require('./normal-start');\nvar bootstrap = require('./bootstrap');\nvar logger = require('../../utils/logger').create('Startup');\n\n// сохраняем колбэк чтобы не тянуть через все функции\nvar runCallback;\n// временная метка начала выполнения\nvar startExecuteTime;\n\n/**\n * Старт приложения\n */\nexports.run = function (callback) {\n    startExecuteTime = Date.now();\n    runCallback = callback || utils.noop;\n    always.prepare();\n\n    always.initCore(processRunstate);\n};\n\n/**\n * Инициализируем и обрабатываем runstate: install | upgrade | normal start\n */\nfunction processRunstate() {\n    runstate.detect(function () {\n        var moduleToRun = getModuleToRun();\n        moduleToRun.preInit(function () {\n            always.initNormal();\n            moduleToRun.run(finalize);\n        });\n    });\n}\n\nfunction getModuleToRun() {\n    return runstate.isInstall()\n        ? install\n        : runstate.isUpgrade()\n            ? upgrade\n            : normalStart;\n}\n\nfunction finalize() {\n    always.finalize(function () {\n        logTimes();\n        runCallback();\n    });\n}\n\nfunction logTimes() {\n    var runstateText = runstate.isInstall() ? 'install' : (runstate.isUpgrade() ? 'upgrade' : 'normal run');\n    var now = Date.now();\n    logger.info('Bundle times (%s): load (%i ms), execute (%i ms), total (%i ms)',\n        runstateText,\n        startExecuteTime - bootstrap.startTime,\n        now - startExecuteTime,\n        now - bootstrap.startTime\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/startup/index.js","/**\n * Утилиты\n */\n\n'use strict';\n\nmodule.exports = {\n    noop: require('./noop'),\n    noargs: function (fn) {return function () { fn();};},\n    misc: require('./misc'),\n    xhr: require('./xhr'),\n    formatDate: require('./date').format,\n    object: require('./object'),\n    versionCompare: require('./misc').versionCompare,\n    xml: require('./xml'),\n    url: require('./url'),\n    _: require('./lodash'),\n    browserInfo: require('./browser-info'),\n    guid: require('./misc').guid,\n    date: require('./date'),\n    curly: require('./curly'),\n    logger: require('./logger'),\n};\n\n\n\n// WEBPACK FOOTER //\n// ./utils/utils.js","/**\n * Разные функции\n */\n\n'use strict';\n\nmodule.exports = {\n    // see https://gist.github.com/TheDistantSea/8021359\n    versionCompare: function (v1, v2, options) {\n        var lexicographical = options && options.lexicographical;\n        var zeroExtend = options && options.zeroExtend;\n        var v1parts = v1.split('.');\n        var v2parts = v2.split('.');\n\n        function isValidPart(x) {\n            return (lexicographical ? /^\\d+[A-Za-z]*$/ : /^\\d+$/).test(x);\n        }\n\n        if (!v1parts.every(isValidPart) || !v2parts.every(isValidPart)) {\n            return NaN;\n        }\n\n        if (zeroExtend) {\n            while (v1parts.length < v2parts.length) {\n                v1parts.push('0');\n            }\n            while (v2parts.length < v1parts.length) {\n                v2parts.push('0');\n            }\n        }\n\n        if (!lexicographical) {\n            v1parts = v1parts.map(Number);\n            v2parts = v2parts.map(Number);\n        }\n\n        for (var i = 0; i < v1parts.length; ++i) {\n            if (v2parts.length === i) {\n                return 1;\n            }\n\n            if (v1parts[i] === v2parts[i]) {\n                continue;\n            } else if (v1parts[i] > v2parts[i]) {\n                return 1;\n            } else {\n                return -1;\n            }\n        }\n\n        if (v1parts.length !== v2parts.length) {\n            return -1;\n        }\n\n        return 0;\n    },\n\n    guid: function () {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n            var r = Math.random() * 16 | 0;\n            var v = (c === 'x') ? r : (r & 0x3 | 0x8);\n            return v.toString(16);\n        });\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./utils/misc.js","/**\n * XMLHttpRequest wrapper\n */\n'use strict';\n\nvar URI = require('urijs');\nvar xhrUtils = require('./xhr-utils');\nvar logger = require('./logger').create('XHR');\nvar isPlainObject = require('lodash/lang/isPlainObject');\nvar noop = require('lodash/utility/noop');\nvar formatMessage = require('./format-message');\n\nvar DEFAULT_TIMEOUT = 15000;\n\nvar platformXhr = require('../platform/xhr');\n\nvar PREDEFINED_PARSERS = require('./xhr-parsers');\n\n/**\n * @param {Object} options\n * @param {string} options.url\n * @param {?number} options.timeout\n * @param {?string} options.method\n * @param {*} options.body\n * @param {?string} options.responseType\n * @param {?boolean} options.withCredentials\n * @param {?boolean} options.logError\n * @param {?boolean} options.bypassCache\n * @param {?Object} options.headers\n * @param {?Function|string} options.parse\n * @param {?boolean} options.ignoreParseError\n * @param {?Function} callback\n * @param {*} [ctx]\n * @returns {XMLHttpRequest}\n */\nvar xhrRequest = module.exports = function (options, callback, ctx) {\n    return new Request(options, callback, ctx).send();\n};\n\n[\n    'isError',\n    'isNetworkError',\n    'isServerError',\n    'isServerError',\n    'isClientError',\n    'isRedirect',\n    'isSuccess',\n    'isInformal',\n].forEach(name => xhrRequest[name] = xhrUtils[name]);\n\n/**\n * Отдельный класс запроса, чтобы не тянуть через 100500 методов параметры options, callback, xhr\n *\n * @param {Object} options\n * @param {string} options.url\n * @param {?number} options.timeout\n * @param {?string} options.method\n * @param {*} options.body\n * @param {?string} options.responseType\n * @param {?boolean} options.withCredentials\n * @param {?boolean} options.logError\n * @param {?boolean} options.bypassCache\n * @param {?Object} options.headers\n * @param {?Function|string} options.parse\n * @param {?boolean} options.ignoreParseError\n * @param {Function} [callback]\n * @param {*} [ctx]\n * @constructor\n */\nfunction Request(options, callback, ctx) {\n    this.options = options || {};\n    this.callback = callback ? callback.bind(ctx) : noop;\n}\n\nRequest.prototype.send = function () {\n    if (!this._createXhr()) {\n        return this.xhr;\n    }\n    this._setProps();\n    this._setHeaders();\n    this._addEventListeners();\n    this._sendXhr();\n    return this.xhr;\n};\n\nRequest.prototype._createXhr = function () {\n    try {\n        this.xhr = platformXhr.create(this.options);\n        var method = this.options.method || (this.options.body ? 'POST' : 'GET');\n        this.xhr.open(method, this.options.url, true);\n    } catch (err) {\n        this._handleError(err.message);\n        return false;\n    }\n    return true;\n};\n\nRequest.prototype._setProps = function () {\n    var options = this.options;\n    var xhr = this.xhr;\n\n    if (options.timeout !== null) {\n        xhr.timeout = options.timeout || DEFAULT_TIMEOUT;\n    }\n\n    if (options.parse in PREDEFINED_PARSERS) {\n        options.parse = PREDEFINED_PARSERS[options.parse](xhr);\n    }\n\n    // выставление responseType должно быть после xhr.open()\n    // иначе ошибка в ие\n    if (options.responseType) {\n        try {\n            xhr.responseType = options.responseType;\n        } catch (err) {\n        }\n    }\n\n    if (options.withCredentials) {\n        try {\n            xhr.withCredentials = true;\n        } catch (ex) {\n        }\n    }\n};\n\nRequest.prototype._addEventListeners = function () {\n    this.xhr.onload = this._handleResponse.bind(this);\n    this.xhr.ontimeout = this._handleError.bind(this, 'Aborted by timeout ' + this.options.timeout + ' ms');\n    this.xhr.onabort = this._handleError.bind(this, 'Aborted');\n    this.xhr.onerror = this._handleError.bind(this, 'Error');\n};\n\nRequest.prototype._setHeaders = function () {\n    var options = this.options;\n    var headers = options.headers || {};\n    if (options.bypassCache) {\n        headers['If-Modified-Since'] = 'Sat, 1 Jan 2005 00:00:00 GMT';\n    }\n\n    if (typeof options.body === 'string') {\n        if (!headers['Content-Type']) {\n            headers['Content-Type'] = 'text/plain; charset=UTF-8';\n        }\n    } else if (isPlainObject(options.body)) {\n        options.body = URI.buildQuery(options.body);\n        if (!headers['Content-Type']) {\n            headers['Content-Type'] = 'application/x-www-form-urlencoded; charset=UTF-8';\n        }\n    }\n\n    Object.keys(headers).forEach(function (name) {\n        this.xhr.setRequestHeader(name, headers[name]);\n    }, this);\n};\n\nRequest.prototype._sendXhr = function () {\n    this.xhr.send(this.options.body || null);\n};\n\nRequest.prototype._handleError = function (text, evt) {\n    var msg = evt ? this._getErrorMessage(text, evt) : text;\n    if (this.options.logError) {\n        logger.error(msg);\n    }\n    this.callback(new Error(msg), null, evt);\n};\n\nRequest.prototype._handleResponse = function (evt) {\n    var options = this.options;\n\n    var isErrorStatus = xhrRequest.isError(evt.target.status);\n    if (isErrorStatus) {\n        this._handleError('', evt);\n        return;\n    }\n\n    var parsed = evt.target.response;\n    if (options.parse) {\n        try {\n            parsed = options.parse(evt);\n        } catch (e) {\n            if (!options.ignoreParseError) {\n                this._handleError(e.message, evt);\n                return;\n            }\n        }\n    }\n\n    this.callback(null, parsed, evt);\n};\n\nRequest.prototype._getErrorMessage = function (text, evt) {\n    var responseText = '';\n\n    // getting response text from blob request throws error\n    // see: https://st.yandex-team.ru/VB-5702\n    try {\n        responseText = evt.target.responseText;\n    } catch (e) {\n    }\n\n    return formatMessage(\n        '%i %s at %l \\nError: %l ResponseText: %l',\n        evt.target.status,\n        evt.target.statusText,\n        this.options.url,\n        text,\n        responseText\n    );\n};\n\nrequire('./overrides_v3/xhr').override(Request);\n\n\n\n// WEBPACK FOOTER //\n// ./utils/xhr.js","/*!\n * URI.js - Mutating URLs\n *\n * Version: 1.18.12\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n */\n(function (root, factory) {\n  'use strict';\n  // https://github.com/umdjs/umd/blob/master/returnExports.js\n  if (typeof module === 'object' && module.exports) {\n    // Node\n    module.exports = factory(require('./punycode'), require('./IPv6'), require('./SecondLevelDomains'));\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(['./punycode', './IPv6', './SecondLevelDomains'], factory);\n  } else {\n    // Browser globals (root is window)\n    root.URI = factory(root.punycode, root.IPv6, root.SecondLevelDomains, root);\n  }\n}(this, function (punycode, IPv6, SLD, root) {\n  'use strict';\n  /*global location, escape, unescape */\n  // FIXME: v2.0.0 renamce non-camelCase properties to uppercase\n  /*jshint camelcase: false */\n\n  // save current URI variable, if any\n  var _URI = root && root.URI;\n\n  function URI(url, base) {\n    var _urlSupplied = arguments.length >= 1;\n    var _baseSupplied = arguments.length >= 2;\n\n    // Allow instantiation without the 'new' keyword\n    if (!(this instanceof URI)) {\n      if (_urlSupplied) {\n        if (_baseSupplied) {\n          return new URI(url, base);\n        }\n\n        return new URI(url);\n      }\n\n      return new URI();\n    }\n\n    if (url === undefined) {\n      if (_urlSupplied) {\n        throw new TypeError('undefined is not a valid argument for URI');\n      }\n\n      if (typeof location !== 'undefined') {\n        url = location.href + '';\n      } else {\n        url = '';\n      }\n    }\n\n    if (url === null) {\n      if (_urlSupplied) {\n        throw new TypeError('null is not a valid argument for URI');\n      }\n    }\n\n    this.href(url);\n\n    // resolve to base according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#constructor\n    if (base !== undefined) {\n      return this.absoluteTo(base);\n    }\n\n    return this;\n  }\n\n  function isInteger(value) {\n    return /^[0-9]+$/.test(value);\n  }\n\n  URI.version = '1.18.12';\n\n  var p = URI.prototype;\n  var hasOwn = Object.prototype.hasOwnProperty;\n\n  function escapeRegEx(string) {\n    // https://github.com/medialize/URI.js/commit/85ac21783c11f8ccab06106dba9735a31a86924d#commitcomment-821963\n    return string.replace(/([.*+?^=!:${}()|[\\]\\/\\\\])/g, '\\\\$1');\n  }\n\n  function getType(value) {\n    // IE8 doesn't return [Object Undefined] but [Object Object] for undefined value\n    if (value === undefined) {\n      return 'Undefined';\n    }\n\n    return String(Object.prototype.toString.call(value)).slice(8, -1);\n  }\n\n  function isArray(obj) {\n    return getType(obj) === 'Array';\n  }\n\n  function filterArrayValues(data, value) {\n    var lookup = {};\n    var i, length;\n\n    if (getType(value) === 'RegExp') {\n      lookup = null;\n    } else if (isArray(value)) {\n      for (i = 0, length = value.length; i < length; i++) {\n        lookup[value[i]] = true;\n      }\n    } else {\n      lookup[value] = true;\n    }\n\n    for (i = 0, length = data.length; i < length; i++) {\n      /*jshint laxbreak: true */\n      var _match = lookup && lookup[data[i]] !== undefined\n        || !lookup && value.test(data[i]);\n      /*jshint laxbreak: false */\n      if (_match) {\n        data.splice(i, 1);\n        length--;\n        i--;\n      }\n    }\n\n    return data;\n  }\n\n  function arrayContains(list, value) {\n    var i, length;\n\n    // value may be string, number, array, regexp\n    if (isArray(value)) {\n      // Note: this can be optimized to O(n) (instead of current O(m * n))\n      for (i = 0, length = value.length; i < length; i++) {\n        if (!arrayContains(list, value[i])) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    var _type = getType(value);\n    for (i = 0, length = list.length; i < length; i++) {\n      if (_type === 'RegExp') {\n        if (typeof list[i] === 'string' && list[i].match(value)) {\n          return true;\n        }\n      } else if (list[i] === value) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function arraysEqual(one, two) {\n    if (!isArray(one) || !isArray(two)) {\n      return false;\n    }\n\n    // arrays can't be equal if they have different amount of content\n    if (one.length !== two.length) {\n      return false;\n    }\n\n    one.sort();\n    two.sort();\n\n    for (var i = 0, l = one.length; i < l; i++) {\n      if (one[i] !== two[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  function trimSlashes(text) {\n    var trim_expression = /^\\/+|\\/+$/g;\n    return text.replace(trim_expression, '');\n  }\n\n  URI._parts = function() {\n    return {\n      protocol: null,\n      username: null,\n      password: null,\n      hostname: null,\n      urn: null,\n      port: null,\n      path: null,\n      query: null,\n      fragment: null,\n      // state\n      duplicateQueryParameters: URI.duplicateQueryParameters,\n      escapeQuerySpace: URI.escapeQuerySpace\n    };\n  };\n  // state: allow duplicate query parameters (a=1&a=1)\n  URI.duplicateQueryParameters = false;\n  // state: replaces + with %20 (space in query strings)\n  URI.escapeQuerySpace = true;\n  // static properties\n  URI.protocol_expression = /^[a-z][a-z0-9.+-]*$/i;\n  URI.idn_expression = /[^a-z0-9\\._-]/i;\n  URI.punycode_expression = /(xn--)/i;\n  // well, 333.444.555.666 matches, but it sure ain't no IPv4 - do we care?\n  URI.ip4_expression = /^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/;\n  // credits to Rich Brown\n  // source: http://forums.intermapper.com/viewtopic.php?p=1096#1096\n  // specification: http://www.ietf.org/rfc/rfc4291.txt\n  URI.ip6_expression = /^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$/;\n  // expression used is \"gruber revised\" (@gruber v2) determined to be the\n  // best solution in a regex-golf we did a couple of ages ago at\n  // * http://mathiasbynens.be/demo/url-regex\n  // * http://rodneyrehm.de/t/url-regex.html\n  URI.find_uri_expression = /\\b((?:[a-z][\\w-]+:(?:\\/{1,3}|[a-z0-9%])|www\\d{0,3}[.]|[a-z0-9.\\-]+[.][a-z]{2,4}\\/)(?:[^\\s()<>]+|\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\))+(?:\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\)|[^\\s`!()\\[\\]{};:'\".,<>?«»“”‘’]))/ig;\n  URI.findUri = {\n    // valid \"scheme://\" or \"www.\"\n    start: /\\b(?:([a-z][a-z0-9.+-]*:\\/\\/)|www\\.)/gi,\n    // everything up to the next whitespace\n    end: /[\\s\\r\\n]|$/,\n    // trim trailing punctuation captured by end RegExp\n    trim: /[`!()\\[\\]{};:'\".,<>?«»“”„‘’]+$/,\n    // balanced parens inclusion (), [], {}, <>\n    parens: /(\\([^\\)]*\\)|\\[[^\\]]*\\]|\\{[^}]*\\}|<[^>]*>)/g,\n  };\n  // http://www.iana.org/assignments/uri-schemes.html\n  // http://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers#Well-known_ports\n  URI.defaultPorts = {\n    http: '80',\n    https: '443',\n    ftp: '21',\n    gopher: '70',\n    ws: '80',\n    wss: '443'\n  };\n  // list of protocols which always require a hostname\n  URI.hostProtocols = [\n    'http',\n    'https'\n  ];\n\n  // allowed hostname characters according to RFC 3986\n  // ALPHA DIGIT \"-\" \".\" \"_\" \"~\" \"!\" \"$\" \"&\" \"'\" \"(\" \")\" \"*\" \"+\" \",\" \";\" \"=\" %encoded\n  // I've never seen a (non-IDN) hostname other than: ALPHA DIGIT . - _\n  URI.invalid_hostname_characters = /[^a-zA-Z0-9\\.\\-:_]/;\n  // map DOM Elements to their URI attribute\n  URI.domAttributes = {\n    'a': 'href',\n    'blockquote': 'cite',\n    'link': 'href',\n    'base': 'href',\n    'script': 'src',\n    'form': 'action',\n    'img': 'src',\n    'area': 'href',\n    'iframe': 'src',\n    'embed': 'src',\n    'source': 'src',\n    'track': 'src',\n    'input': 'src', // but only if type=\"image\"\n    'audio': 'src',\n    'video': 'src'\n  };\n  URI.getDomAttribute = function(node) {\n    if (!node || !node.nodeName) {\n      return undefined;\n    }\n\n    var nodeName = node.nodeName.toLowerCase();\n    // <input> should only expose src for type=\"image\"\n    if (nodeName === 'input' && node.type !== 'image') {\n      return undefined;\n    }\n\n    return URI.domAttributes[nodeName];\n  };\n\n  function escapeForDumbFirefox36(value) {\n    // https://github.com/medialize/URI.js/issues/91\n    return escape(value);\n  }\n\n  // encoding / decoding according to RFC3986\n  function strictEncodeURIComponent(string) {\n    // see https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/encodeURIComponent\n    return encodeURIComponent(string)\n      .replace(/[!'()*]/g, escapeForDumbFirefox36)\n      .replace(/\\*/g, '%2A');\n  }\n  URI.encode = strictEncodeURIComponent;\n  URI.decode = decodeURIComponent;\n  URI.iso8859 = function() {\n    URI.encode = escape;\n    URI.decode = unescape;\n  };\n  URI.unicode = function() {\n    URI.encode = strictEncodeURIComponent;\n    URI.decode = decodeURIComponent;\n  };\n  URI.characters = {\n    pathname: {\n      encode: {\n        // RFC3986 2.1: For consistency, URI producers and normalizers should\n        // use uppercase hexadecimal digits for all percent-encodings.\n        expression: /%(24|26|2B|2C|3B|3D|3A|40)/ig,\n        map: {\n          // -._~!'()*\n          '%24': '$',\n          '%26': '&',\n          '%2B': '+',\n          '%2C': ',',\n          '%3B': ';',\n          '%3D': '=',\n          '%3A': ':',\n          '%40': '@'\n        }\n      },\n      decode: {\n        expression: /[\\/\\?#]/g,\n        map: {\n          '/': '%2F',\n          '?': '%3F',\n          '#': '%23'\n        }\n      }\n    },\n    reserved: {\n      encode: {\n        // RFC3986 2.1: For consistency, URI producers and normalizers should\n        // use uppercase hexadecimal digits for all percent-encodings.\n        expression: /%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,\n        map: {\n          // gen-delims\n          '%3A': ':',\n          '%2F': '/',\n          '%3F': '?',\n          '%23': '#',\n          '%5B': '[',\n          '%5D': ']',\n          '%40': '@',\n          // sub-delims\n          '%21': '!',\n          '%24': '$',\n          '%26': '&',\n          '%27': '\\'',\n          '%28': '(',\n          '%29': ')',\n          '%2A': '*',\n          '%2B': '+',\n          '%2C': ',',\n          '%3B': ';',\n          '%3D': '='\n        }\n      }\n    },\n    urnpath: {\n      // The characters under `encode` are the characters called out by RFC 2141 as being acceptable\n      // for usage in a URN. RFC2141 also calls out \"-\", \".\", and \"_\" as acceptable characters, but\n      // these aren't encoded by encodeURIComponent, so we don't have to call them out here. Also\n      // note that the colon character is not featured in the encoding map; this is because URI.js\n      // gives the colons in URNs semantic meaning as the delimiters of path segements, and so it\n      // should not appear unencoded in a segment itself.\n      // See also the note above about RFC3986 and capitalalized hex digits.\n      encode: {\n        expression: /%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/ig,\n        map: {\n          '%21': '!',\n          '%24': '$',\n          '%27': '\\'',\n          '%28': '(',\n          '%29': ')',\n          '%2A': '*',\n          '%2B': '+',\n          '%2C': ',',\n          '%3B': ';',\n          '%3D': '=',\n          '%40': '@'\n        }\n      },\n      // These characters are the characters called out by RFC2141 as \"reserved\" characters that\n      // should never appear in a URN, plus the colon character (see note above).\n      decode: {\n        expression: /[\\/\\?#:]/g,\n        map: {\n          '/': '%2F',\n          '?': '%3F',\n          '#': '%23',\n          ':': '%3A'\n        }\n      }\n    }\n  };\n  URI.encodeQuery = function(string, escapeQuerySpace) {\n    var escaped = URI.encode(string + '');\n    if (escapeQuerySpace === undefined) {\n      escapeQuerySpace = URI.escapeQuerySpace;\n    }\n\n    return escapeQuerySpace ? escaped.replace(/%20/g, '+') : escaped;\n  };\n  URI.decodeQuery = function(string, escapeQuerySpace) {\n    string += '';\n    if (escapeQuerySpace === undefined) {\n      escapeQuerySpace = URI.escapeQuerySpace;\n    }\n\n    try {\n      return URI.decode(escapeQuerySpace ? string.replace(/\\+/g, '%20') : string);\n    } catch(e) {\n      // we're not going to mess with weird encodings,\n      // give up and return the undecoded original string\n      // see https://github.com/medialize/URI.js/issues/87\n      // see https://github.com/medialize/URI.js/issues/92\n      return string;\n    }\n  };\n  // generate encode/decode path functions\n  var _parts = {'encode':'encode', 'decode':'decode'};\n  var _part;\n  var generateAccessor = function(_group, _part) {\n    return function(string) {\n      try {\n        return URI[_part](string + '').replace(URI.characters[_group][_part].expression, function(c) {\n          return URI.characters[_group][_part].map[c];\n        });\n      } catch (e) {\n        // we're not going to mess with weird encodings,\n        // give up and return the undecoded original string\n        // see https://github.com/medialize/URI.js/issues/87\n        // see https://github.com/medialize/URI.js/issues/92\n        return string;\n      }\n    };\n  };\n\n  for (_part in _parts) {\n    URI[_part + 'PathSegment'] = generateAccessor('pathname', _parts[_part]);\n    URI[_part + 'UrnPathSegment'] = generateAccessor('urnpath', _parts[_part]);\n  }\n\n  var generateSegmentedPathFunction = function(_sep, _codingFuncName, _innerCodingFuncName) {\n    return function(string) {\n      // Why pass in names of functions, rather than the function objects themselves? The\n      // definitions of some functions (but in particular, URI.decode) will occasionally change due\n      // to URI.js having ISO8859 and Unicode modes. Passing in the name and getting it will ensure\n      // that the functions we use here are \"fresh\".\n      var actualCodingFunc;\n      if (!_innerCodingFuncName) {\n        actualCodingFunc = URI[_codingFuncName];\n      } else {\n        actualCodingFunc = function(string) {\n          return URI[_codingFuncName](URI[_innerCodingFuncName](string));\n        };\n      }\n\n      var segments = (string + '').split(_sep);\n\n      for (var i = 0, length = segments.length; i < length; i++) {\n        segments[i] = actualCodingFunc(segments[i]);\n      }\n\n      return segments.join(_sep);\n    };\n  };\n\n  // This takes place outside the above loop because we don't want, e.g., encodeUrnPath functions.\n  URI.decodePath = generateSegmentedPathFunction('/', 'decodePathSegment');\n  URI.decodeUrnPath = generateSegmentedPathFunction(':', 'decodeUrnPathSegment');\n  URI.recodePath = generateSegmentedPathFunction('/', 'encodePathSegment', 'decode');\n  URI.recodeUrnPath = generateSegmentedPathFunction(':', 'encodeUrnPathSegment', 'decode');\n\n  URI.encodeReserved = generateAccessor('reserved', 'encode');\n\n  URI.parse = function(string, parts) {\n    var pos;\n    if (!parts) {\n      parts = {};\n    }\n    // [protocol\"://\"[username[\":\"password]\"@\"]hostname[\":\"port]\"/\"?][path][\"?\"querystring][\"#\"fragment]\n\n    // extract fragment\n    pos = string.indexOf('#');\n    if (pos > -1) {\n      // escaping?\n      parts.fragment = string.substring(pos + 1) || null;\n      string = string.substring(0, pos);\n    }\n\n    // extract query\n    pos = string.indexOf('?');\n    if (pos > -1) {\n      // escaping?\n      parts.query = string.substring(pos + 1) || null;\n      string = string.substring(0, pos);\n    }\n\n    // extract protocol\n    if (string.substring(0, 2) === '//') {\n      // relative-scheme\n      parts.protocol = null;\n      string = string.substring(2);\n      // extract \"user:pass@host:port\"\n      string = URI.parseAuthority(string, parts);\n    } else {\n      pos = string.indexOf(':');\n      if (pos > -1) {\n        parts.protocol = string.substring(0, pos) || null;\n        if (parts.protocol && !parts.protocol.match(URI.protocol_expression)) {\n          // : may be within the path\n          parts.protocol = undefined;\n        } else if (string.substring(pos + 1, pos + 3) === '//') {\n          string = string.substring(pos + 3);\n\n          // extract \"user:pass@host:port\"\n          string = URI.parseAuthority(string, parts);\n        } else {\n          string = string.substring(pos + 1);\n          parts.urn = true;\n        }\n      }\n    }\n\n    // what's left must be the path\n    parts.path = string;\n\n    // and we're done\n    return parts;\n  };\n  URI.parseHost = function(string, parts) {\n    // Copy chrome, IE, opera backslash-handling behavior.\n    // Back slashes before the query string get converted to forward slashes\n    // See: https://github.com/joyent/node/blob/386fd24f49b0e9d1a8a076592a404168faeecc34/lib/url.js#L115-L124\n    // See: https://code.google.com/p/chromium/issues/detail?id=25916\n    // https://github.com/medialize/URI.js/pull/233\n    string = string.replace(/\\\\/g, '/');\n\n    // extract host:port\n    var pos = string.indexOf('/');\n    var bracketPos;\n    var t;\n\n    if (pos === -1) {\n      pos = string.length;\n    }\n\n    if (string.charAt(0) === '[') {\n      // IPv6 host - http://tools.ietf.org/html/draft-ietf-6man-text-addr-representation-04#section-6\n      // I claim most client software breaks on IPv6 anyways. To simplify things, URI only accepts\n      // IPv6+port in the format [2001:db8::1]:80 (for the time being)\n      bracketPos = string.indexOf(']');\n      parts.hostname = string.substring(1, bracketPos) || null;\n      parts.port = string.substring(bracketPos + 2, pos) || null;\n      if (parts.port === '/') {\n        parts.port = null;\n      }\n    } else {\n      var firstColon = string.indexOf(':');\n      var firstSlash = string.indexOf('/');\n      var nextColon = string.indexOf(':', firstColon + 1);\n      if (nextColon !== -1 && (firstSlash === -1 || nextColon < firstSlash)) {\n        // IPv6 host contains multiple colons - but no port\n        // this notation is actually not allowed by RFC 3986, but we're a liberal parser\n        parts.hostname = string.substring(0, pos) || null;\n        parts.port = null;\n      } else {\n        t = string.substring(0, pos).split(':');\n        parts.hostname = t[0] || null;\n        parts.port = t[1] || null;\n      }\n    }\n\n    if (parts.hostname && string.substring(pos).charAt(0) !== '/') {\n      pos++;\n      string = '/' + string;\n    }\n\n    URI.ensureValidHostname(parts.hostname, parts.protocol);\n\n    if (parts.port) {\n      URI.ensureValidPort(parts.port);\n    }\n\n    return string.substring(pos) || '/';\n  };\n  URI.parseAuthority = function(string, parts) {\n    string = URI.parseUserinfo(string, parts);\n    return URI.parseHost(string, parts);\n  };\n  URI.parseUserinfo = function(string, parts) {\n    // extract username:password\n    var firstSlash = string.indexOf('/');\n    var pos = string.lastIndexOf('@', firstSlash > -1 ? firstSlash : string.length - 1);\n    var t;\n\n    // authority@ must come before /path\n    if (pos > -1 && (firstSlash === -1 || pos < firstSlash)) {\n      t = string.substring(0, pos).split(':');\n      parts.username = t[0] ? URI.decode(t[0]) : null;\n      t.shift();\n      parts.password = t[0] ? URI.decode(t.join(':')) : null;\n      string = string.substring(pos + 1);\n    } else {\n      parts.username = null;\n      parts.password = null;\n    }\n\n    return string;\n  };\n  URI.parseQuery = function(string, escapeQuerySpace) {\n    if (!string) {\n      return {};\n    }\n\n    // throw out the funky business - \"?\"[name\"=\"value\"&\"]+\n    string = string.replace(/&+/g, '&').replace(/^\\?*&*|&+$/g, '');\n\n    if (!string) {\n      return {};\n    }\n\n    var items = {};\n    var splits = string.split('&');\n    var length = splits.length;\n    var v, name, value;\n\n    for (var i = 0; i < length; i++) {\n      v = splits[i].split('=');\n      name = URI.decodeQuery(v.shift(), escapeQuerySpace);\n      // no \"=\" is null according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#collect-url-parameters\n      value = v.length ? URI.decodeQuery(v.join('='), escapeQuerySpace) : null;\n\n      if (hasOwn.call(items, name)) {\n        if (typeof items[name] === 'string' || items[name] === null) {\n          items[name] = [items[name]];\n        }\n\n        items[name].push(value);\n      } else {\n        items[name] = value;\n      }\n    }\n\n    return items;\n  };\n\n  URI.build = function(parts) {\n    var t = '';\n\n    if (parts.protocol) {\n      t += parts.protocol + ':';\n    }\n\n    if (!parts.urn && (t || parts.hostname)) {\n      t += '//';\n    }\n\n    t += (URI.buildAuthority(parts) || '');\n\n    if (typeof parts.path === 'string') {\n      if (parts.path.charAt(0) !== '/' && typeof parts.hostname === 'string') {\n        t += '/';\n      }\n\n      t += parts.path;\n    }\n\n    if (typeof parts.query === 'string' && parts.query) {\n      t += '?' + parts.query;\n    }\n\n    if (typeof parts.fragment === 'string' && parts.fragment) {\n      t += '#' + parts.fragment;\n    }\n    return t;\n  };\n  URI.buildHost = function(parts) {\n    var t = '';\n\n    if (!parts.hostname) {\n      return '';\n    } else if (URI.ip6_expression.test(parts.hostname)) {\n      t += '[' + parts.hostname + ']';\n    } else {\n      t += parts.hostname;\n    }\n\n    if (parts.port) {\n      t += ':' + parts.port;\n    }\n\n    return t;\n  };\n  URI.buildAuthority = function(parts) {\n    return URI.buildUserinfo(parts) + URI.buildHost(parts);\n  };\n  URI.buildUserinfo = function(parts) {\n    var t = '';\n\n    if (parts.username) {\n      t += URI.encode(parts.username);\n    }\n\n    if (parts.password) {\n      t += ':' + URI.encode(parts.password);\n    }\n\n    if (t) {\n      t += '@';\n    }\n\n    return t;\n  };\n  URI.buildQuery = function(data, duplicateQueryParameters, escapeQuerySpace) {\n    // according to http://tools.ietf.org/html/rfc3986 or http://labs.apache.org/webarch/uri/rfc/rfc3986.html\n    // being »-._~!$&'()*+,;=:@/?« %HEX and alnum are allowed\n    // the RFC explicitly states ?/foo being a valid use case, no mention of parameter syntax!\n    // URI.js treats the query string as being application/x-www-form-urlencoded\n    // see http://www.w3.org/TR/REC-html40/interact/forms.html#form-content-type\n\n    var t = '';\n    var unique, key, i, length;\n    for (key in data) {\n      if (hasOwn.call(data, key) && key) {\n        if (isArray(data[key])) {\n          unique = {};\n          for (i = 0, length = data[key].length; i < length; i++) {\n            if (data[key][i] !== undefined && unique[data[key][i] + ''] === undefined) {\n              t += '&' + URI.buildQueryParameter(key, data[key][i], escapeQuerySpace);\n              if (duplicateQueryParameters !== true) {\n                unique[data[key][i] + ''] = true;\n              }\n            }\n          }\n        } else if (data[key] !== undefined) {\n          t += '&' + URI.buildQueryParameter(key, data[key], escapeQuerySpace);\n        }\n      }\n    }\n\n    return t.substring(1);\n  };\n  URI.buildQueryParameter = function(name, value, escapeQuerySpace) {\n    // http://www.w3.org/TR/REC-html40/interact/forms.html#form-content-type -- application/x-www-form-urlencoded\n    // don't append \"=\" for null values, according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#url-parameter-serialization\n    return URI.encodeQuery(name, escapeQuerySpace) + (value !== null ? '=' + URI.encodeQuery(value, escapeQuerySpace) : '');\n  };\n\n  URI.addQuery = function(data, name, value) {\n    if (typeof name === 'object') {\n      for (var key in name) {\n        if (hasOwn.call(name, key)) {\n          URI.addQuery(data, key, name[key]);\n        }\n      }\n    } else if (typeof name === 'string') {\n      if (data[name] === undefined) {\n        data[name] = value;\n        return;\n      } else if (typeof data[name] === 'string') {\n        data[name] = [data[name]];\n      }\n\n      if (!isArray(value)) {\n        value = [value];\n      }\n\n      data[name] = (data[name] || []).concat(value);\n    } else {\n      throw new TypeError('URI.addQuery() accepts an object, string as the name parameter');\n    }\n  };\n  URI.removeQuery = function(data, name, value) {\n    var i, length, key;\n\n    if (isArray(name)) {\n      for (i = 0, length = name.length; i < length; i++) {\n        data[name[i]] = undefined;\n      }\n    } else if (getType(name) === 'RegExp') {\n      for (key in data) {\n        if (name.test(key)) {\n          data[key] = undefined;\n        }\n      }\n    } else if (typeof name === 'object') {\n      for (key in name) {\n        if (hasOwn.call(name, key)) {\n          URI.removeQuery(data, key, name[key]);\n        }\n      }\n    } else if (typeof name === 'string') {\n      if (value !== undefined) {\n        if (getType(value) === 'RegExp') {\n          if (!isArray(data[name]) && value.test(data[name])) {\n            data[name] = undefined;\n          } else {\n            data[name] = filterArrayValues(data[name], value);\n          }\n        } else if (data[name] === String(value) && (!isArray(value) || value.length === 1)) {\n          data[name] = undefined;\n        } else if (isArray(data[name])) {\n          data[name] = filterArrayValues(data[name], value);\n        }\n      } else {\n        data[name] = undefined;\n      }\n    } else {\n      throw new TypeError('URI.removeQuery() accepts an object, string, RegExp as the first parameter');\n    }\n  };\n  URI.hasQuery = function(data, name, value, withinArray) {\n    switch (getType(name)) {\n      case 'String':\n        // Nothing to do here\n        break;\n\n      case 'RegExp':\n        for (var key in data) {\n          if (hasOwn.call(data, key)) {\n            if (name.test(key) && (value === undefined || URI.hasQuery(data, key, value))) {\n              return true;\n            }\n          }\n        }\n\n        return false;\n\n      case 'Object':\n        for (var _key in name) {\n          if (hasOwn.call(name, _key)) {\n            if (!URI.hasQuery(data, _key, name[_key])) {\n              return false;\n            }\n          }\n        }\n\n        return true;\n\n      default:\n        throw new TypeError('URI.hasQuery() accepts a string, regular expression or object as the name parameter');\n    }\n\n    switch (getType(value)) {\n      case 'Undefined':\n        // true if exists (but may be empty)\n        return name in data; // data[name] !== undefined;\n\n      case 'Boolean':\n        // true if exists and non-empty\n        var _booly = Boolean(isArray(data[name]) ? data[name].length : data[name]);\n        return value === _booly;\n\n      case 'Function':\n        // allow complex comparison\n        return !!value(data[name], name, data);\n\n      case 'Array':\n        if (!isArray(data[name])) {\n          return false;\n        }\n\n        var op = withinArray ? arrayContains : arraysEqual;\n        return op(data[name], value);\n\n      case 'RegExp':\n        if (!isArray(data[name])) {\n          return Boolean(data[name] && data[name].match(value));\n        }\n\n        if (!withinArray) {\n          return false;\n        }\n\n        return arrayContains(data[name], value);\n\n      case 'Number':\n        value = String(value);\n        /* falls through */\n      case 'String':\n        if (!isArray(data[name])) {\n          return data[name] === value;\n        }\n\n        if (!withinArray) {\n          return false;\n        }\n\n        return arrayContains(data[name], value);\n\n      default:\n        throw new TypeError('URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter');\n    }\n  };\n\n\n  URI.joinPaths = function() {\n    var input = [];\n    var segments = [];\n    var nonEmptySegments = 0;\n\n    for (var i = 0; i < arguments.length; i++) {\n      var url = new URI(arguments[i]);\n      input.push(url);\n      var _segments = url.segment();\n      for (var s = 0; s < _segments.length; s++) {\n        if (typeof _segments[s] === 'string') {\n          segments.push(_segments[s]);\n        }\n\n        if (_segments[s]) {\n          nonEmptySegments++;\n        }\n      }\n    }\n\n    if (!segments.length || !nonEmptySegments) {\n      return new URI('');\n    }\n\n    var uri = new URI('').segment(segments);\n\n    if (input[0].path() === '' || input[0].path().slice(0, 1) === '/') {\n      uri.path('/' + uri.path());\n    }\n\n    return uri.normalize();\n  };\n\n  URI.commonPath = function(one, two) {\n    var length = Math.min(one.length, two.length);\n    var pos;\n\n    // find first non-matching character\n    for (pos = 0; pos < length; pos++) {\n      if (one.charAt(pos) !== two.charAt(pos)) {\n        pos--;\n        break;\n      }\n    }\n\n    if (pos < 1) {\n      return one.charAt(0) === two.charAt(0) && one.charAt(0) === '/' ? '/' : '';\n    }\n\n    // revert to last /\n    if (one.charAt(pos) !== '/' || two.charAt(pos) !== '/') {\n      pos = one.substring(0, pos).lastIndexOf('/');\n    }\n\n    return one.substring(0, pos + 1);\n  };\n\n  URI.withinString = function(string, callback, options) {\n    options || (options = {});\n    var _start = options.start || URI.findUri.start;\n    var _end = options.end || URI.findUri.end;\n    var _trim = options.trim || URI.findUri.trim;\n    var _parens = options.parens || URI.findUri.parens;\n    var _attributeOpen = /[a-z0-9-]=[\"']?$/i;\n\n    _start.lastIndex = 0;\n    while (true) {\n      var match = _start.exec(string);\n      if (!match) {\n        break;\n      }\n\n      var start = match.index;\n      if (options.ignoreHtml) {\n        // attribut(e=[\"']?$)\n        var attributeOpen = string.slice(Math.max(start - 3, 0), start);\n        if (attributeOpen && _attributeOpen.test(attributeOpen)) {\n          continue;\n        }\n      }\n\n      var end = start + string.slice(start).search(_end);\n      var slice = string.slice(start, end);\n      // make sure we include well balanced parens\n      var parensEnd = -1;\n      while (true) {\n        var parensMatch = _parens.exec(slice);\n        if (!parensMatch) {\n          break;\n        }\n\n        var parensMatchEnd = parensMatch.index + parensMatch[0].length;\n        parensEnd = Math.max(parensEnd, parensMatchEnd);\n      }\n\n      if (parensEnd > -1) {\n        slice = slice.slice(0, parensEnd) + slice.slice(parensEnd).replace(_trim, '');\n      } else {\n        slice = slice.replace(_trim, '');\n      }\n\n      if (slice.length <= match[0].length) {\n        // the extract only contains the starting marker of a URI,\n        // e.g. \"www\" or \"http://\"\n        continue;\n      }\n\n      if (options.ignore && options.ignore.test(slice)) {\n        continue;\n      }\n\n      end = start + slice.length;\n      var result = callback(slice, start, end, string);\n      if (result === undefined) {\n        _start.lastIndex = end;\n        continue;\n      }\n\n      result = String(result);\n      string = string.slice(0, start) + result + string.slice(end);\n      _start.lastIndex = start + result.length;\n    }\n\n    _start.lastIndex = 0;\n    return string;\n  };\n\n  URI.ensureValidHostname = function(v, protocol) {\n    // Theoretically URIs allow percent-encoding in Hostnames (according to RFC 3986)\n    // they are not part of DNS and therefore ignored by URI.js\n\n    var hasHostname = !!v; // not null and not an empty string\n    var hasProtocol = !!protocol;\n    var rejectEmptyHostname = false;\n\n    if (hasProtocol) {\n      rejectEmptyHostname = arrayContains(URI.hostProtocols, protocol);\n    }\n\n    if (rejectEmptyHostname && !hasHostname) {\n      throw new TypeError('Hostname cannot be empty, if protocol is ' + protocol);\n    } else if (v && v.match(URI.invalid_hostname_characters)) {\n      // test punycode\n      if (!punycode) {\n        throw new TypeError('Hostname \"' + v + '\" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');\n      }\n      if (punycode.toASCII(v).match(URI.invalid_hostname_characters)) {\n        throw new TypeError('Hostname \"' + v + '\" contains characters other than [A-Z0-9.-:_]');\n      }\n    }\n  };\n\n  URI.ensureValidPort = function (v) {\n    if (!v) {\n      return;\n    }\n\n    var port = Number(v);\n    if (isInteger(port) && (port > 0) && (port < 65536)) {\n      return;\n    }\n\n    throw new TypeError('Port \"' + v + '\" is not a valid port');\n  };\n\n  // noConflict\n  URI.noConflict = function(removeAll) {\n    if (removeAll) {\n      var unconflicted = {\n        URI: this.noConflict()\n      };\n\n      if (root.URITemplate && typeof root.URITemplate.noConflict === 'function') {\n        unconflicted.URITemplate = root.URITemplate.noConflict();\n      }\n\n      if (root.IPv6 && typeof root.IPv6.noConflict === 'function') {\n        unconflicted.IPv6 = root.IPv6.noConflict();\n      }\n\n      if (root.SecondLevelDomains && typeof root.SecondLevelDomains.noConflict === 'function') {\n        unconflicted.SecondLevelDomains = root.SecondLevelDomains.noConflict();\n      }\n\n      return unconflicted;\n    } else if (root.URI === this) {\n      root.URI = _URI;\n    }\n\n    return this;\n  };\n\n  p.build = function(deferBuild) {\n    if (deferBuild === true) {\n      this._deferred_build = true;\n    } else if (deferBuild === undefined || this._deferred_build) {\n      this._string = URI.build(this._parts);\n      this._deferred_build = false;\n    }\n\n    return this;\n  };\n\n  p.clone = function() {\n    return new URI(this);\n  };\n\n  p.valueOf = p.toString = function() {\n    return this.build(false)._string;\n  };\n\n\n  function generateSimpleAccessor(_part){\n    return function(v, build) {\n      if (v === undefined) {\n        return this._parts[_part] || '';\n      } else {\n        this._parts[_part] = v || null;\n        this.build(!build);\n        return this;\n      }\n    };\n  }\n\n  function generatePrefixAccessor(_part, _key){\n    return function(v, build) {\n      if (v === undefined) {\n        return this._parts[_part] || '';\n      } else {\n        if (v !== null) {\n          v = v + '';\n          if (v.charAt(0) === _key) {\n            v = v.substring(1);\n          }\n        }\n\n        this._parts[_part] = v;\n        this.build(!build);\n        return this;\n      }\n    };\n  }\n\n  p.protocol = generateSimpleAccessor('protocol');\n  p.username = generateSimpleAccessor('username');\n  p.password = generateSimpleAccessor('password');\n  p.hostname = generateSimpleAccessor('hostname');\n  p.port = generateSimpleAccessor('port');\n  p.query = generatePrefixAccessor('query', '?');\n  p.fragment = generatePrefixAccessor('fragment', '#');\n\n  p.search = function(v, build) {\n    var t = this.query(v, build);\n    return typeof t === 'string' && t.length ? ('?' + t) : t;\n  };\n  p.hash = function(v, build) {\n    var t = this.fragment(v, build);\n    return typeof t === 'string' && t.length ? ('#' + t) : t;\n  };\n\n  p.pathname = function(v, build) {\n    if (v === undefined || v === true) {\n      var res = this._parts.path || (this._parts.hostname ? '/' : '');\n      return v ? (this._parts.urn ? URI.decodeUrnPath : URI.decodePath)(res) : res;\n    } else {\n      if (this._parts.urn) {\n        this._parts.path = v ? URI.recodeUrnPath(v) : '';\n      } else {\n        this._parts.path = v ? URI.recodePath(v) : '/';\n      }\n      this.build(!build);\n      return this;\n    }\n  };\n  p.path = p.pathname;\n  p.href = function(href, build) {\n    var key;\n\n    if (href === undefined) {\n      return this.toString();\n    }\n\n    this._string = '';\n    this._parts = URI._parts();\n\n    var _URI = href instanceof URI;\n    var _object = typeof href === 'object' && (href.hostname || href.path || href.pathname);\n    if (href.nodeName) {\n      var attribute = URI.getDomAttribute(href);\n      href = href[attribute] || '';\n      _object = false;\n    }\n\n    // window.location is reported to be an object, but it's not the sort\n    // of object we're looking for:\n    // * location.protocol ends with a colon\n    // * location.query != object.search\n    // * location.hash != object.fragment\n    // simply serializing the unknown object should do the trick\n    // (for location, not for everything...)\n    if (!_URI && _object && href.pathname !== undefined) {\n      href = href.toString();\n    }\n\n    if (typeof href === 'string' || href instanceof String) {\n      this._parts = URI.parse(String(href), this._parts);\n    } else if (_URI || _object) {\n      var src = _URI ? href._parts : href;\n      for (key in src) {\n        if (hasOwn.call(this._parts, key)) {\n          this._parts[key] = src[key];\n        }\n      }\n    } else {\n      throw new TypeError('invalid input');\n    }\n\n    this.build(!build);\n    return this;\n  };\n\n  // identification accessors\n  p.is = function(what) {\n    var ip = false;\n    var ip4 = false;\n    var ip6 = false;\n    var name = false;\n    var sld = false;\n    var idn = false;\n    var punycode = false;\n    var relative = !this._parts.urn;\n\n    if (this._parts.hostname) {\n      relative = false;\n      ip4 = URI.ip4_expression.test(this._parts.hostname);\n      ip6 = URI.ip6_expression.test(this._parts.hostname);\n      ip = ip4 || ip6;\n      name = !ip;\n      sld = name && SLD && SLD.has(this._parts.hostname);\n      idn = name && URI.idn_expression.test(this._parts.hostname);\n      punycode = name && URI.punycode_expression.test(this._parts.hostname);\n    }\n\n    switch (what.toLowerCase()) {\n      case 'relative':\n        return relative;\n\n      case 'absolute':\n        return !relative;\n\n      // hostname identification\n      case 'domain':\n      case 'name':\n        return name;\n\n      case 'sld':\n        return sld;\n\n      case 'ip':\n        return ip;\n\n      case 'ip4':\n      case 'ipv4':\n      case 'inet4':\n        return ip4;\n\n      case 'ip6':\n      case 'ipv6':\n      case 'inet6':\n        return ip6;\n\n      case 'idn':\n        return idn;\n\n      case 'url':\n        return !this._parts.urn;\n\n      case 'urn':\n        return !!this._parts.urn;\n\n      case 'punycode':\n        return punycode;\n    }\n\n    return null;\n  };\n\n  // component specific input validation\n  var _protocol = p.protocol;\n  var _port = p.port;\n  var _hostname = p.hostname;\n\n  p.protocol = function(v, build) {\n    if (v !== undefined) {\n      if (v) {\n        // accept trailing ://\n        v = v.replace(/:(\\/\\/)?$/, '');\n\n        if (!v.match(URI.protocol_expression)) {\n          throw new TypeError('Protocol \"' + v + '\" contains characters other than [A-Z0-9.+-] or doesn\\'t start with [A-Z]');\n        }\n      }\n    }\n    return _protocol.call(this, v, build);\n  };\n  p.scheme = p.protocol;\n  p.port = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v !== undefined) {\n      if (v === 0) {\n        v = null;\n      }\n\n      if (v) {\n        v += '';\n        if (v.charAt(0) === ':') {\n          v = v.substring(1);\n        }\n\n        URI.ensureValidPort(v);\n      }\n    }\n    return _port.call(this, v, build);\n  };\n  p.hostname = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v !== undefined) {\n      var x = {};\n      var res = URI.parseHost(v, x);\n      if (res !== '/') {\n        throw new TypeError('Hostname \"' + v + '\" contains characters other than [A-Z0-9.-]');\n      }\n\n      v = x.hostname;\n      URI.ensureValidHostname(v, this._parts.protocol);\n    }\n    return _hostname.call(this, v, build);\n  };\n\n  // compound accessors\n  p.origin = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined) {\n      var protocol = this.protocol();\n      var authority = this.authority();\n      if (!authority) {\n        return '';\n      }\n\n      return (protocol ? protocol + '://' : '') + this.authority();\n    } else {\n      var origin = URI(v);\n      this\n        .protocol(origin.protocol())\n        .authority(origin.authority())\n        .build(!build);\n      return this;\n    }\n  };\n  p.host = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined) {\n      return this._parts.hostname ? URI.buildHost(this._parts) : '';\n    } else {\n      var res = URI.parseHost(v, this._parts);\n      if (res !== '/') {\n        throw new TypeError('Hostname \"' + v + '\" contains characters other than [A-Z0-9.-]');\n      }\n\n      this.build(!build);\n      return this;\n    }\n  };\n  p.authority = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined) {\n      return this._parts.hostname ? URI.buildAuthority(this._parts) : '';\n    } else {\n      var res = URI.parseAuthority(v, this._parts);\n      if (res !== '/') {\n        throw new TypeError('Hostname \"' + v + '\" contains characters other than [A-Z0-9.-]');\n      }\n\n      this.build(!build);\n      return this;\n    }\n  };\n  p.userinfo = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined) {\n      var t = URI.buildUserinfo(this._parts);\n      return t ? t.substring(0, t.length -1) : t;\n    } else {\n      if (v[v.length-1] !== '@') {\n        v += '@';\n      }\n\n      URI.parseUserinfo(v, this._parts);\n      this.build(!build);\n      return this;\n    }\n  };\n  p.resource = function(v, build) {\n    var parts;\n\n    if (v === undefined) {\n      return this.path() + this.search() + this.hash();\n    }\n\n    parts = URI.parse(v);\n    this._parts.path = parts.path;\n    this._parts.query = parts.query;\n    this._parts.fragment = parts.fragment;\n    this.build(!build);\n    return this;\n  };\n\n  // fraction accessors\n  p.subdomain = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    // convenience, return \"www\" from \"www.example.org\"\n    if (v === undefined) {\n      if (!this._parts.hostname || this.is('IP')) {\n        return '';\n      }\n\n      // grab domain and add another segment\n      var end = this._parts.hostname.length - this.domain().length - 1;\n      return this._parts.hostname.substring(0, end) || '';\n    } else {\n      var e = this._parts.hostname.length - this.domain().length;\n      var sub = this._parts.hostname.substring(0, e);\n      var replace = new RegExp('^' + escapeRegEx(sub));\n\n      if (v && v.charAt(v.length - 1) !== '.') {\n        v += '.';\n      }\n\n      if (v.indexOf(':') !== -1) {\n        throw new TypeError('Domains cannot contain colons');\n      }\n\n      if (v) {\n        URI.ensureValidHostname(v, this._parts.protocol);\n      }\n\n      this._parts.hostname = this._parts.hostname.replace(replace, v);\n      this.build(!build);\n      return this;\n    }\n  };\n  p.domain = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (typeof v === 'boolean') {\n      build = v;\n      v = undefined;\n    }\n\n    // convenience, return \"example.org\" from \"www.example.org\"\n    if (v === undefined) {\n      if (!this._parts.hostname || this.is('IP')) {\n        return '';\n      }\n\n      // if hostname consists of 1 or 2 segments, it must be the domain\n      var t = this._parts.hostname.match(/\\./g);\n      if (t && t.length < 2) {\n        return this._parts.hostname;\n      }\n\n      // grab tld and add another segment\n      var end = this._parts.hostname.length - this.tld(build).length - 1;\n      end = this._parts.hostname.lastIndexOf('.', end -1) + 1;\n      return this._parts.hostname.substring(end) || '';\n    } else {\n      if (!v) {\n        throw new TypeError('cannot set domain empty');\n      }\n\n      if (v.indexOf(':') !== -1) {\n        throw new TypeError('Domains cannot contain colons');\n      }\n\n      URI.ensureValidHostname(v, this._parts.protocol);\n\n      if (!this._parts.hostname || this.is('IP')) {\n        this._parts.hostname = v;\n      } else {\n        var replace = new RegExp(escapeRegEx(this.domain()) + '$');\n        this._parts.hostname = this._parts.hostname.replace(replace, v);\n      }\n\n      this.build(!build);\n      return this;\n    }\n  };\n  p.tld = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (typeof v === 'boolean') {\n      build = v;\n      v = undefined;\n    }\n\n    // return \"org\" from \"www.example.org\"\n    if (v === undefined) {\n      if (!this._parts.hostname || this.is('IP')) {\n        return '';\n      }\n\n      var pos = this._parts.hostname.lastIndexOf('.');\n      var tld = this._parts.hostname.substring(pos + 1);\n\n      if (build !== true && SLD && SLD.list[tld.toLowerCase()]) {\n        return SLD.get(this._parts.hostname) || tld;\n      }\n\n      return tld;\n    } else {\n      var replace;\n\n      if (!v) {\n        throw new TypeError('cannot set TLD empty');\n      } else if (v.match(/[^a-zA-Z0-9-]/)) {\n        if (SLD && SLD.is(v)) {\n          replace = new RegExp(escapeRegEx(this.tld()) + '$');\n          this._parts.hostname = this._parts.hostname.replace(replace, v);\n        } else {\n          throw new TypeError('TLD \"' + v + '\" contains characters other than [A-Z0-9]');\n        }\n      } else if (!this._parts.hostname || this.is('IP')) {\n        throw new ReferenceError('cannot set TLD on non-domain host');\n      } else {\n        replace = new RegExp(escapeRegEx(this.tld()) + '$');\n        this._parts.hostname = this._parts.hostname.replace(replace, v);\n      }\n\n      this.build(!build);\n      return this;\n    }\n  };\n  p.directory = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined || v === true) {\n      if (!this._parts.path && !this._parts.hostname) {\n        return '';\n      }\n\n      if (this._parts.path === '/') {\n        return '/';\n      }\n\n      var end = this._parts.path.length - this.filename().length - 1;\n      var res = this._parts.path.substring(0, end) || (this._parts.hostname ? '/' : '');\n\n      return v ? URI.decodePath(res) : res;\n\n    } else {\n      var e = this._parts.path.length - this.filename().length;\n      var directory = this._parts.path.substring(0, e);\n      var replace = new RegExp('^' + escapeRegEx(directory));\n\n      // fully qualifier directories begin with a slash\n      if (!this.is('relative')) {\n        if (!v) {\n          v = '/';\n        }\n\n        if (v.charAt(0) !== '/') {\n          v = '/' + v;\n        }\n      }\n\n      // directories always end with a slash\n      if (v && v.charAt(v.length - 1) !== '/') {\n        v += '/';\n      }\n\n      v = URI.recodePath(v);\n      this._parts.path = this._parts.path.replace(replace, v);\n      this.build(!build);\n      return this;\n    }\n  };\n  p.filename = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (typeof v !== 'string') {\n      if (!this._parts.path || this._parts.path === '/') {\n        return '';\n      }\n\n      var pos = this._parts.path.lastIndexOf('/');\n      var res = this._parts.path.substring(pos+1);\n\n      return v ? URI.decodePathSegment(res) : res;\n    } else {\n      var mutatedDirectory = false;\n\n      if (v.charAt(0) === '/') {\n        v = v.substring(1);\n      }\n\n      if (v.match(/\\.?\\//)) {\n        mutatedDirectory = true;\n      }\n\n      var replace = new RegExp(escapeRegEx(this.filename()) + '$');\n      v = URI.recodePath(v);\n      this._parts.path = this._parts.path.replace(replace, v);\n\n      if (mutatedDirectory) {\n        this.normalizePath(build);\n      } else {\n        this.build(!build);\n      }\n\n      return this;\n    }\n  };\n  p.suffix = function(v, build) {\n    if (this._parts.urn) {\n      return v === undefined ? '' : this;\n    }\n\n    if (v === undefined || v === true) {\n      if (!this._parts.path || this._parts.path === '/') {\n        return '';\n      }\n\n      var filename = this.filename();\n      var pos = filename.lastIndexOf('.');\n      var s, res;\n\n      if (pos === -1) {\n        return '';\n      }\n\n      // suffix may only contain alnum characters (yup, I made this up.)\n      s = filename.substring(pos+1);\n      res = (/^[a-z0-9%]+$/i).test(s) ? s : '';\n      return v ? URI.decodePathSegment(res) : res;\n    } else {\n      if (v.charAt(0) === '.') {\n        v = v.substring(1);\n      }\n\n      var suffix = this.suffix();\n      var replace;\n\n      if (!suffix) {\n        if (!v) {\n          return this;\n        }\n\n        this._parts.path += '.' + URI.recodePath(v);\n      } else if (!v) {\n        replace = new RegExp(escapeRegEx('.' + suffix) + '$');\n      } else {\n        replace = new RegExp(escapeRegEx(suffix) + '$');\n      }\n\n      if (replace) {\n        v = URI.recodePath(v);\n        this._parts.path = this._parts.path.replace(replace, v);\n      }\n\n      this.build(!build);\n      return this;\n    }\n  };\n  p.segment = function(segment, v, build) {\n    var separator = this._parts.urn ? ':' : '/';\n    var path = this.path();\n    var absolute = path.substring(0, 1) === '/';\n    var segments = path.split(separator);\n\n    if (segment !== undefined && typeof segment !== 'number') {\n      build = v;\n      v = segment;\n      segment = undefined;\n    }\n\n    if (segment !== undefined && typeof segment !== 'number') {\n      throw new Error('Bad segment \"' + segment + '\", must be 0-based integer');\n    }\n\n    if (absolute) {\n      segments.shift();\n    }\n\n    if (segment < 0) {\n      // allow negative indexes to address from the end\n      segment = Math.max(segments.length + segment, 0);\n    }\n\n    if (v === undefined) {\n      /*jshint laxbreak: true */\n      return segment === undefined\n        ? segments\n        : segments[segment];\n      /*jshint laxbreak: false */\n    } else if (segment === null || segments[segment] === undefined) {\n      if (isArray(v)) {\n        segments = [];\n        // collapse empty elements within array\n        for (var i=0, l=v.length; i < l; i++) {\n          if (!v[i].length && (!segments.length || !segments[segments.length -1].length)) {\n            continue;\n          }\n\n          if (segments.length && !segments[segments.length -1].length) {\n            segments.pop();\n          }\n\n          segments.push(trimSlashes(v[i]));\n        }\n      } else if (v || typeof v === 'string') {\n        v = trimSlashes(v);\n        if (segments[segments.length -1] === '') {\n          // empty trailing elements have to be overwritten\n          // to prevent results such as /foo//bar\n          segments[segments.length -1] = v;\n        } else {\n          segments.push(v);\n        }\n      }\n    } else {\n      if (v) {\n        segments[segment] = trimSlashes(v);\n      } else {\n        segments.splice(segment, 1);\n      }\n    }\n\n    if (absolute) {\n      segments.unshift('');\n    }\n\n    return this.path(segments.join(separator), build);\n  };\n  p.segmentCoded = function(segment, v, build) {\n    var segments, i, l;\n\n    if (typeof segment !== 'number') {\n      build = v;\n      v = segment;\n      segment = undefined;\n    }\n\n    if (v === undefined) {\n      segments = this.segment(segment, v, build);\n      if (!isArray(segments)) {\n        segments = segments !== undefined ? URI.decode(segments) : undefined;\n      } else {\n        for (i = 0, l = segments.length; i < l; i++) {\n          segments[i] = URI.decode(segments[i]);\n        }\n      }\n\n      return segments;\n    }\n\n    if (!isArray(v)) {\n      v = (typeof v === 'string' || v instanceof String) ? URI.encode(v) : v;\n    } else {\n      for (i = 0, l = v.length; i < l; i++) {\n        v[i] = URI.encode(v[i]);\n      }\n    }\n\n    return this.segment(segment, v, build);\n  };\n\n  // mutating query string\n  var q = p.query;\n  p.query = function(v, build) {\n    if (v === true) {\n      return URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n    } else if (typeof v === 'function') {\n      var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n      var result = v.call(this, data);\n      this._parts.query = URI.buildQuery(result || data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);\n      this.build(!build);\n      return this;\n    } else if (v !== undefined && typeof v !== 'string') {\n      this._parts.query = URI.buildQuery(v, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);\n      this.build(!build);\n      return this;\n    } else {\n      return q.call(this, v, build);\n    }\n  };\n  p.setQuery = function(name, value, build) {\n    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n\n    if (typeof name === 'string' || name instanceof String) {\n      data[name] = value !== undefined ? value : null;\n    } else if (typeof name === 'object') {\n      for (var key in name) {\n        if (hasOwn.call(name, key)) {\n          data[key] = name[key];\n        }\n      }\n    } else {\n      throw new TypeError('URI.addQuery() accepts an object, string as the name parameter');\n    }\n\n    this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);\n    if (typeof name !== 'string') {\n      build = value;\n    }\n\n    this.build(!build);\n    return this;\n  };\n  p.addQuery = function(name, value, build) {\n    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n    URI.addQuery(data, name, value === undefined ? null : value);\n    this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);\n    if (typeof name !== 'string') {\n      build = value;\n    }\n\n    this.build(!build);\n    return this;\n  };\n  p.removeQuery = function(name, value, build) {\n    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n    URI.removeQuery(data, name, value);\n    this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);\n    if (typeof name !== 'string') {\n      build = value;\n    }\n\n    this.build(!build);\n    return this;\n  };\n  p.hasQuery = function(name, value, withinArray) {\n    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);\n    return URI.hasQuery(data, name, value, withinArray);\n  };\n  p.setSearch = p.setQuery;\n  p.addSearch = p.addQuery;\n  p.removeSearch = p.removeQuery;\n  p.hasSearch = p.hasQuery;\n\n  // sanitizing URLs\n  p.normalize = function() {\n    if (this._parts.urn) {\n      return this\n        .normalizeProtocol(false)\n        .normalizePath(false)\n        .normalizeQuery(false)\n        .normalizeFragment(false)\n        .build();\n    }\n\n    return this\n      .normalizeProtocol(false)\n      .normalizeHostname(false)\n      .normalizePort(false)\n      .normalizePath(false)\n      .normalizeQuery(false)\n      .normalizeFragment(false)\n      .build();\n  };\n  p.normalizeProtocol = function(build) {\n    if (typeof this._parts.protocol === 'string') {\n      this._parts.protocol = this._parts.protocol.toLowerCase();\n      this.build(!build);\n    }\n\n    return this;\n  };\n  p.normalizeHostname = function(build) {\n    if (this._parts.hostname) {\n      if (this.is('IDN') && punycode) {\n        this._parts.hostname = punycode.toASCII(this._parts.hostname);\n      } else if (this.is('IPv6') && IPv6) {\n        this._parts.hostname = IPv6.best(this._parts.hostname);\n      }\n\n      this._parts.hostname = this._parts.hostname.toLowerCase();\n      this.build(!build);\n    }\n\n    return this;\n  };\n  p.normalizePort = function(build) {\n    // remove port of it's the protocol's default\n    if (typeof this._parts.protocol === 'string' && this._parts.port === URI.defaultPorts[this._parts.protocol]) {\n      this._parts.port = null;\n      this.build(!build);\n    }\n\n    return this;\n  };\n  p.normalizePath = function(build) {\n    var _path = this._parts.path;\n    if (!_path) {\n      return this;\n    }\n\n    if (this._parts.urn) {\n      this._parts.path = URI.recodeUrnPath(this._parts.path);\n      this.build(!build);\n      return this;\n    }\n\n    if (this._parts.path === '/') {\n      return this;\n    }\n\n    _path = URI.recodePath(_path);\n\n    var _was_relative;\n    var _leadingParents = '';\n    var _parent, _pos;\n\n    // handle relative paths\n    if (_path.charAt(0) !== '/') {\n      _was_relative = true;\n      _path = '/' + _path;\n    }\n\n    // handle relative files (as opposed to directories)\n    if (_path.slice(-3) === '/..' || _path.slice(-2) === '/.') {\n      _path += '/';\n    }\n\n    // resolve simples\n    _path = _path\n      .replace(/(\\/(\\.\\/)+)|(\\/\\.$)/g, '/')\n      .replace(/\\/{2,}/g, '/');\n\n    // remember leading parents\n    if (_was_relative) {\n      _leadingParents = _path.substring(1).match(/^(\\.\\.\\/)+/) || '';\n      if (_leadingParents) {\n        _leadingParents = _leadingParents[0];\n      }\n    }\n\n    // resolve parents\n    while (true) {\n      _parent = _path.search(/\\/\\.\\.(\\/|$)/);\n      if (_parent === -1) {\n        // no more ../ to resolve\n        break;\n      } else if (_parent === 0) {\n        // top level cannot be relative, skip it\n        _path = _path.substring(3);\n        continue;\n      }\n\n      _pos = _path.substring(0, _parent).lastIndexOf('/');\n      if (_pos === -1) {\n        _pos = _parent;\n      }\n      _path = _path.substring(0, _pos) + _path.substring(_parent + 3);\n    }\n\n    // revert to relative\n    if (_was_relative && this.is('relative')) {\n      _path = _leadingParents + _path.substring(1);\n    }\n\n    this._parts.path = _path;\n    this.build(!build);\n    return this;\n  };\n  p.normalizePathname = p.normalizePath;\n  p.normalizeQuery = function(build) {\n    if (typeof this._parts.query === 'string') {\n      if (!this._parts.query.length) {\n        this._parts.query = null;\n      } else {\n        this.query(URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace));\n      }\n\n      this.build(!build);\n    }\n\n    return this;\n  };\n  p.normalizeFragment = function(build) {\n    if (!this._parts.fragment) {\n      this._parts.fragment = null;\n      this.build(!build);\n    }\n\n    return this;\n  };\n  p.normalizeSearch = p.normalizeQuery;\n  p.normalizeHash = p.normalizeFragment;\n\n  p.iso8859 = function() {\n    // expect unicode input, iso8859 output\n    var e = URI.encode;\n    var d = URI.decode;\n\n    URI.encode = escape;\n    URI.decode = decodeURIComponent;\n    try {\n      this.normalize();\n    } finally {\n      URI.encode = e;\n      URI.decode = d;\n    }\n    return this;\n  };\n\n  p.unicode = function() {\n    // expect iso8859 input, unicode output\n    var e = URI.encode;\n    var d = URI.decode;\n\n    URI.encode = strictEncodeURIComponent;\n    URI.decode = unescape;\n    try {\n      this.normalize();\n    } finally {\n      URI.encode = e;\n      URI.decode = d;\n    }\n    return this;\n  };\n\n  p.readable = function() {\n    var uri = this.clone();\n    // removing username, password, because they shouldn't be displayed according to RFC 3986\n    uri.username('').password('').normalize();\n    var t = '';\n    if (uri._parts.protocol) {\n      t += uri._parts.protocol + '://';\n    }\n\n    if (uri._parts.hostname) {\n      if (uri.is('punycode') && punycode) {\n        t += punycode.toUnicode(uri._parts.hostname);\n        if (uri._parts.port) {\n          t += ':' + uri._parts.port;\n        }\n      } else {\n        t += uri.host();\n      }\n    }\n\n    if (uri._parts.hostname && uri._parts.path && uri._parts.path.charAt(0) !== '/') {\n      t += '/';\n    }\n\n    t += uri.path(true);\n    if (uri._parts.query) {\n      var q = '';\n      for (var i = 0, qp = uri._parts.query.split('&'), l = qp.length; i < l; i++) {\n        var kv = (qp[i] || '').split('=');\n        q += '&' + URI.decodeQuery(kv[0], this._parts.escapeQuerySpace)\n          .replace(/&/g, '%26');\n\n        if (kv[1] !== undefined) {\n          q += '=' + URI.decodeQuery(kv[1], this._parts.escapeQuerySpace)\n            .replace(/&/g, '%26');\n        }\n      }\n      t += '?' + q.substring(1);\n    }\n\n    t += URI.decodeQuery(uri.hash(), true);\n    return t;\n  };\n\n  // resolving relative and absolute URLs\n  p.absoluteTo = function(base) {\n    var resolved = this.clone();\n    var properties = ['protocol', 'username', 'password', 'hostname', 'port'];\n    var basedir, i, p;\n\n    if (this._parts.urn) {\n      throw new Error('URNs do not have any generally defined hierarchical components');\n    }\n\n    if (!(base instanceof URI)) {\n      base = new URI(base);\n    }\n\n    if (resolved._parts.protocol) {\n      // Directly returns even if this._parts.hostname is empty.\n      return resolved;\n    } else {\n      resolved._parts.protocol = base._parts.protocol;\n    }\n\n    if (this._parts.hostname) {\n      return resolved;\n    }\n\n    for (i = 0; (p = properties[i]); i++) {\n      resolved._parts[p] = base._parts[p];\n    }\n\n    if (!resolved._parts.path) {\n      resolved._parts.path = base._parts.path;\n      if (!resolved._parts.query) {\n        resolved._parts.query = base._parts.query;\n      }\n    } else {\n      if (resolved._parts.path.substring(-2) === '..') {\n        resolved._parts.path += '/';\n      }\n\n      if (resolved.path().charAt(0) !== '/') {\n        basedir = base.directory();\n        basedir = basedir ? basedir : base.path().indexOf('/') === 0 ? '/' : '';\n        resolved._parts.path = (basedir ? (basedir + '/') : '') + resolved._parts.path;\n        resolved.normalizePath();\n      }\n    }\n\n    resolved.build();\n    return resolved;\n  };\n  p.relativeTo = function(base) {\n    var relative = this.clone().normalize();\n    var relativeParts, baseParts, common, relativePath, basePath;\n\n    if (relative._parts.urn) {\n      throw new Error('URNs do not have any generally defined hierarchical components');\n    }\n\n    base = new URI(base).normalize();\n    relativeParts = relative._parts;\n    baseParts = base._parts;\n    relativePath = relative.path();\n    basePath = base.path();\n\n    if (relativePath.charAt(0) !== '/') {\n      throw new Error('URI is already relative');\n    }\n\n    if (basePath.charAt(0) !== '/') {\n      throw new Error('Cannot calculate a URI relative to another relative URI');\n    }\n\n    if (relativeParts.protocol === baseParts.protocol) {\n      relativeParts.protocol = null;\n    }\n\n    if (relativeParts.username !== baseParts.username || relativeParts.password !== baseParts.password) {\n      return relative.build();\n    }\n\n    if (relativeParts.protocol !== null || relativeParts.username !== null || relativeParts.password !== null) {\n      return relative.build();\n    }\n\n    if (relativeParts.hostname === baseParts.hostname && relativeParts.port === baseParts.port) {\n      relativeParts.hostname = null;\n      relativeParts.port = null;\n    } else {\n      return relative.build();\n    }\n\n    if (relativePath === basePath) {\n      relativeParts.path = '';\n      return relative.build();\n    }\n\n    // determine common sub path\n    common = URI.commonPath(relativePath, basePath);\n\n    // If the paths have nothing in common, return a relative URL with the absolute path.\n    if (!common) {\n      return relative.build();\n    }\n\n    var parents = baseParts.path\n      .substring(common.length)\n      .replace(/[^\\/]*$/, '')\n      .replace(/.*?\\//g, '../');\n\n    relativeParts.path = (parents + relativeParts.path.substring(common.length)) || './';\n\n    return relative.build();\n  };\n\n  // comparing URIs\n  p.equals = function(uri) {\n    var one = this.clone();\n    var two = new URI(uri);\n    var one_map = {};\n    var two_map = {};\n    var checked = {};\n    var one_query, two_query, key;\n\n    one.normalize();\n    two.normalize();\n\n    // exact match\n    if (one.toString() === two.toString()) {\n      return true;\n    }\n\n    // extract query string\n    one_query = one.query();\n    two_query = two.query();\n    one.query('');\n    two.query('');\n\n    // definitely not equal if not even non-query parts match\n    if (one.toString() !== two.toString()) {\n      return false;\n    }\n\n    // query parameters have the same length, even if they're permuted\n    if (one_query.length !== two_query.length) {\n      return false;\n    }\n\n    one_map = URI.parseQuery(one_query, this._parts.escapeQuerySpace);\n    two_map = URI.parseQuery(two_query, this._parts.escapeQuerySpace);\n\n    for (key in one_map) {\n      if (hasOwn.call(one_map, key)) {\n        if (!isArray(one_map[key])) {\n          if (one_map[key] !== two_map[key]) {\n            return false;\n          }\n        } else if (!arraysEqual(one_map[key], two_map[key])) {\n          return false;\n        }\n\n        checked[key] = true;\n      }\n    }\n\n    for (key in two_map) {\n      if (hasOwn.call(two_map, key)) {\n        if (!checked[key]) {\n          // two contains a parameter not present in one\n          return false;\n        }\n      }\n    }\n\n    return true;\n  };\n\n  // state\n  p.duplicateQueryParameters = function(v) {\n    this._parts.duplicateQueryParameters = !!v;\n    return this;\n  };\n\n  p.escapeQuerySpace = function(v) {\n    this._parts.escapeQuerySpace = !!v;\n    return this;\n  };\n\n  return URI;\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/urijs/src/URI.js\n// module id = 33\n// module chunks = 1","/*! https://mths.be/punycode v1.4.0 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.3.2',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/urijs/src/punycode.js\n// module id = 34\n// module chunks = 1","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/webpack/buildin/module.js\n// module id = 35\n// module chunks = 1","/*!\n * URI.js - Mutating URLs\n * IPv6 Support\n *\n * Version: 1.18.12\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n */\n\n(function (root, factory) {\n  'use strict';\n  // https://github.com/umdjs/umd/blob/master/returnExports.js\n  if (typeof module === 'object' && module.exports) {\n    // Node\n    module.exports = factory();\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(factory);\n  } else {\n    // Browser globals (root is window)\n    root.IPv6 = factory(root);\n  }\n}(this, function (root) {\n  'use strict';\n\n  /*\n  var _in = \"fe80:0000:0000:0000:0204:61ff:fe9d:f156\";\n  var _out = IPv6.best(_in);\n  var _expected = \"fe80::204:61ff:fe9d:f156\";\n\n  console.log(_in, _out, _expected, _out === _expected);\n  */\n\n  // save current IPv6 variable, if any\n  var _IPv6 = root && root.IPv6;\n\n  function bestPresentation(address) {\n    // based on:\n    // Javascript to test an IPv6 address for proper format, and to\n    // present the \"best text representation\" according to IETF Draft RFC at\n    // http://tools.ietf.org/html/draft-ietf-6man-text-addr-representation-04\n    // 8 Feb 2010 Rich Brown, Dartware, LLC\n    // Please feel free to use this code as long as you provide a link to\n    // http://www.intermapper.com\n    // http://intermapper.com/support/tools/IPV6-Validator.aspx\n    // http://download.dartware.com/thirdparty/ipv6validator.js\n\n    var _address = address.toLowerCase();\n    var segments = _address.split(':');\n    var length = segments.length;\n    var total = 8;\n\n    // trim colons (:: or ::a:b:c… or …a:b:c::)\n    if (segments[0] === '' && segments[1] === '' && segments[2] === '') {\n      // must have been ::\n      // remove first two items\n      segments.shift();\n      segments.shift();\n    } else if (segments[0] === '' && segments[1] === '') {\n      // must have been ::xxxx\n      // remove the first item\n      segments.shift();\n    } else if (segments[length - 1] === '' && segments[length - 2] === '') {\n      // must have been xxxx::\n      segments.pop();\n    }\n\n    length = segments.length;\n\n    // adjust total segments for IPv4 trailer\n    if (segments[length - 1].indexOf('.') !== -1) {\n      // found a \".\" which means IPv4\n      total = 7;\n    }\n\n    // fill empty segments them with \"0000\"\n    var pos;\n    for (pos = 0; pos < length; pos++) {\n      if (segments[pos] === '') {\n        break;\n      }\n    }\n\n    if (pos < total) {\n      segments.splice(pos, 1, '0000');\n      while (segments.length < total) {\n        segments.splice(pos, 0, '0000');\n      }\n    }\n\n    // strip leading zeros\n    var _segments;\n    for (var i = 0; i < total; i++) {\n      _segments = segments[i].split('');\n      for (var j = 0; j < 3 ; j++) {\n        if (_segments[0] === '0' && _segments.length > 1) {\n          _segments.splice(0,1);\n        } else {\n          break;\n        }\n      }\n\n      segments[i] = _segments.join('');\n    }\n\n    // find longest sequence of zeroes and coalesce them into one segment\n    var best = -1;\n    var _best = 0;\n    var _current = 0;\n    var current = -1;\n    var inzeroes = false;\n    // i; already declared\n\n    for (i = 0; i < total; i++) {\n      if (inzeroes) {\n        if (segments[i] === '0') {\n          _current += 1;\n        } else {\n          inzeroes = false;\n          if (_current > _best) {\n            best = current;\n            _best = _current;\n          }\n        }\n      } else {\n        if (segments[i] === '0') {\n          inzeroes = true;\n          current = i;\n          _current = 1;\n        }\n      }\n    }\n\n    if (_current > _best) {\n      best = current;\n      _best = _current;\n    }\n\n    if (_best > 1) {\n      segments.splice(best, _best, '');\n    }\n\n    length = segments.length;\n\n    // assemble remaining segments\n    var result = '';\n    if (segments[0] === '')  {\n      result = ':';\n    }\n\n    for (i = 0; i < length; i++) {\n      result += segments[i];\n      if (i === length - 1) {\n        break;\n      }\n\n      result += ':';\n    }\n\n    if (segments[length - 1] === '') {\n      result += ':';\n    }\n\n    return result;\n  }\n\n  function noConflict() {\n    /*jshint validthis: true */\n    if (root.IPv6 === this) {\n      root.IPv6 = _IPv6;\n    }\n\n    return this;\n  }\n\n  return {\n    best: bestPresentation,\n    noConflict: noConflict\n  };\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/urijs/src/IPv6.js\n// module id = 36\n// module chunks = 1","/*!\n * URI.js - Mutating URLs\n * Second Level Domain (SLD) Support\n *\n * Version: 1.18.12\n *\n * Author: Rodney Rehm\n * Web: http://medialize.github.io/URI.js/\n *\n * Licensed under\n *   MIT License http://www.opensource.org/licenses/mit-license\n *\n */\n\n(function (root, factory) {\n  'use strict';\n  // https://github.com/umdjs/umd/blob/master/returnExports.js\n  if (typeof module === 'object' && module.exports) {\n    // Node\n    module.exports = factory();\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(factory);\n  } else {\n    // Browser globals (root is window)\n    root.SecondLevelDomains = factory(root);\n  }\n}(this, function (root) {\n  'use strict';\n\n  // save current SecondLevelDomains variable, if any\n  var _SecondLevelDomains = root && root.SecondLevelDomains;\n\n  var SLD = {\n    // list of known Second Level Domains\n    // converted list of SLDs from https://github.com/gavingmiller/second-level-domains\n    // ----\n    // publicsuffix.org is more current and actually used by a couple of browsers internally.\n    // downside is it also contains domains like \"dyndns.org\" - which is fine for the security\n    // issues browser have to deal with (SOP for cookies, etc) - but is way overboard for URI.js\n    // ----\n    list: {\n      'ac':' com gov mil net org ',\n      'ae':' ac co gov mil name net org pro sch ',\n      'af':' com edu gov net org ',\n      'al':' com edu gov mil net org ',\n      'ao':' co ed gv it og pb ',\n      'ar':' com edu gob gov int mil net org tur ',\n      'at':' ac co gv or ',\n      'au':' asn com csiro edu gov id net org ',\n      'ba':' co com edu gov mil net org rs unbi unmo unsa untz unze ',\n      'bb':' biz co com edu gov info net org store tv ',\n      'bh':' biz cc com edu gov info net org ',\n      'bn':' com edu gov net org ',\n      'bo':' com edu gob gov int mil net org tv ',\n      'br':' adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ',\n      'bs':' com edu gov net org ',\n      'bz':' du et om ov rg ',\n      'ca':' ab bc mb nb nf nl ns nt nu on pe qc sk yk ',\n      'ck':' biz co edu gen gov info net org ',\n      'cn':' ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ',\n      'co':' com edu gov mil net nom org ',\n      'cr':' ac c co ed fi go or sa ',\n      'cy':' ac biz com ekloges gov ltd name net org parliament press pro tm ',\n      'do':' art com edu gob gov mil net org sld web ',\n      'dz':' art asso com edu gov net org pol ',\n      'ec':' com edu fin gov info med mil net org pro ',\n      'eg':' com edu eun gov mil name net org sci ',\n      'er':' com edu gov ind mil net org rochest w ',\n      'es':' com edu gob nom org ',\n      'et':' biz com edu gov info name net org ',\n      'fj':' ac biz com info mil name net org pro ',\n      'fk':' ac co gov net nom org ',\n      'fr':' asso com f gouv nom prd presse tm ',\n      'gg':' co net org ',\n      'gh':' com edu gov mil org ',\n      'gn':' ac com gov net org ',\n      'gr':' com edu gov mil net org ',\n      'gt':' com edu gob ind mil net org ',\n      'gu':' com edu gov net org ',\n      'hk':' com edu gov idv net org ',\n      'hu':' 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ',\n      'id':' ac co go mil net or sch web ',\n      'il':' ac co gov idf k12 muni net org ',\n      'in':' ac co edu ernet firm gen gov i ind mil net nic org res ',\n      'iq':' com edu gov i mil net org ',\n      'ir':' ac co dnssec gov i id net org sch ',\n      'it':' edu gov ',\n      'je':' co net org ',\n      'jo':' com edu gov mil name net org sch ',\n      'jp':' ac ad co ed go gr lg ne or ',\n      'ke':' ac co go info me mobi ne or sc ',\n      'kh':' com edu gov mil net org per ',\n      'ki':' biz com de edu gov info mob net org tel ',\n      'km':' asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ',\n      'kn':' edu gov net org ',\n      'kr':' ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ',\n      'kw':' com edu gov net org ',\n      'ky':' com edu gov net org ',\n      'kz':' com edu gov mil net org ',\n      'lb':' com edu gov net org ',\n      'lk':' assn com edu gov grp hotel int ltd net ngo org sch soc web ',\n      'lr':' com edu gov net org ',\n      'lv':' asn com conf edu gov id mil net org ',\n      'ly':' com edu gov id med net org plc sch ',\n      'ma':' ac co gov m net org press ',\n      'mc':' asso tm ',\n      'me':' ac co edu gov its net org priv ',\n      'mg':' com edu gov mil nom org prd tm ',\n      'mk':' com edu gov inf name net org pro ',\n      'ml':' com edu gov net org presse ',\n      'mn':' edu gov org ',\n      'mo':' com edu gov net org ',\n      'mt':' com edu gov net org ',\n      'mv':' aero biz com coop edu gov info int mil museum name net org pro ',\n      'mw':' ac co com coop edu gov int museum net org ',\n      'mx':' com edu gob net org ',\n      'my':' com edu gov mil name net org sch ',\n      'nf':' arts com firm info net other per rec store web ',\n      'ng':' biz com edu gov mil mobi name net org sch ',\n      'ni':' ac co com edu gob mil net nom org ',\n      'np':' com edu gov mil net org ',\n      'nr':' biz com edu gov info net org ',\n      'om':' ac biz co com edu gov med mil museum net org pro sch ',\n      'pe':' com edu gob mil net nom org sld ',\n      'ph':' com edu gov i mil net ngo org ',\n      'pk':' biz com edu fam gob gok gon gop gos gov net org web ',\n      'pl':' art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ',\n      'pr':' ac biz com edu est gov info isla name net org pro prof ',\n      'ps':' com edu gov net org plo sec ',\n      'pw':' belau co ed go ne or ',\n      'ro':' arts com firm info nom nt org rec store tm www ',\n      'rs':' ac co edu gov in org ',\n      'sb':' com edu gov net org ',\n      'sc':' com edu gov net org ',\n      'sh':' co com edu gov net nom org ',\n      'sl':' com edu gov net org ',\n      'st':' co com consulado edu embaixada gov mil net org principe saotome store ',\n      'sv':' com edu gob org red ',\n      'sz':' ac co org ',\n      'tr':' av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ',\n      'tt':' aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ',\n      'tw':' club com ebiz edu game gov idv mil net org ',\n      'mu':' ac co com gov net or org ',\n      'mz':' ac co edu gov org ',\n      'na':' co com ',\n      'nz':' ac co cri geek gen govt health iwi maori mil net org parliament school ',\n      'pa':' abo ac com edu gob ing med net nom org sld ',\n      'pt':' com edu gov int net nome org publ ',\n      'py':' com edu gov mil net org ',\n      'qa':' com edu gov mil net org ',\n      're':' asso com nom ',\n      'ru':' ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ',\n      'rw':' ac co com edu gouv gov int mil net ',\n      'sa':' com edu gov med net org pub sch ',\n      'sd':' com edu gov info med net org tv ',\n      'se':' a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ',\n      'sg':' com edu gov idn net org per ',\n      'sn':' art com edu gouv org perso univ ',\n      'sy':' com edu gov mil net news org ',\n      'th':' ac co go in mi net or ',\n      'tj':' ac biz co com edu go gov info int mil name net nic org test web ',\n      'tn':' agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ',\n      'tz':' ac co go ne or ',\n      'ua':' biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ',\n      'ug':' ac co go ne or org sc ',\n      'uk':' ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ',\n      'us':' dni fed isa kids nsn ',\n      'uy':' com edu gub mil net org ',\n      've':' co com edu gob info mil net org web ',\n      'vi':' co com k12 net org ',\n      'vn':' ac biz com edu gov health info int name net org pro ',\n      'ye':' co com gov ltd me net org plc ',\n      'yu':' ac co edu gov org ',\n      'za':' ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ',\n      'zm':' ac co com edu gov net org sch ',\n      // https://en.wikipedia.org/wiki/CentralNic#Second-level_domains\n      'com': 'ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ',\n      'net': 'gb jp se uk ',\n      'org': 'ae',\n      'de': 'com '\n    },\n    // gorhill 2013-10-25: Using indexOf() instead Regexp(). Significant boost\n    // in both performance and memory footprint. No initialization required.\n    // http://jsperf.com/uri-js-sld-regex-vs-binary-search/4\n    // Following methods use lastIndexOf() rather than array.split() in order\n    // to avoid any memory allocations.\n    has: function(domain) {\n      var tldOffset = domain.lastIndexOf('.');\n      if (tldOffset <= 0 || tldOffset >= (domain.length-1)) {\n        return false;\n      }\n      var sldOffset = domain.lastIndexOf('.', tldOffset-1);\n      if (sldOffset <= 0 || sldOffset >= (tldOffset-1)) {\n        return false;\n      }\n      var sldList = SLD.list[domain.slice(tldOffset+1)];\n      if (!sldList) {\n        return false;\n      }\n      return sldList.indexOf(' ' + domain.slice(sldOffset+1, tldOffset) + ' ') >= 0;\n    },\n    is: function(domain) {\n      var tldOffset = domain.lastIndexOf('.');\n      if (tldOffset <= 0 || tldOffset >= (domain.length-1)) {\n        return false;\n      }\n      var sldOffset = domain.lastIndexOf('.', tldOffset-1);\n      if (sldOffset >= 0) {\n        return false;\n      }\n      var sldList = SLD.list[domain.slice(tldOffset+1)];\n      if (!sldList) {\n        return false;\n      }\n      return sldList.indexOf(' ' + domain.slice(0, tldOffset) + ' ') >= 0;\n    },\n    get: function(domain) {\n      var tldOffset = domain.lastIndexOf('.');\n      if (tldOffset <= 0 || tldOffset >= (domain.length-1)) {\n        return null;\n      }\n      var sldOffset = domain.lastIndexOf('.', tldOffset-1);\n      if (sldOffset <= 0 || sldOffset >= (tldOffset-1)) {\n        return null;\n      }\n      var sldList = SLD.list[domain.slice(tldOffset+1)];\n      if (!sldList) {\n        return null;\n      }\n      if (sldList.indexOf(' ' + domain.slice(sldOffset+1, tldOffset) + ' ') < 0) {\n        return null;\n      }\n      return domain.slice(sldOffset+1);\n    },\n    noConflict: function(){\n      if (root.SecondLevelDomains === this) {\n        root.SecondLevelDomains = _SecondLevelDomains;\n      }\n      return this;\n    }\n  };\n\n  return SLD;\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/urijs/src/SecondLevelDomains.js\n// module id = 37\n// module chunks = 1","/**\n * Наборы различных утилит для работы с XHR\n */\n'use strict';\n\n// see: https://developer.mozilla.org/en-US/docs/Web/HTTP/Response_codes\nconst xhrUtils = {};\n\nxhrUtils.isInformal = function (code) {\n    return code >= 100 && code < 200;\n};\n\nxhrUtils.isSuccess = function (code) {\n    return code >= 200 && code < 300;\n};\n\nxhrUtils.isRedirect = function (code) {\n    return code >= 300 && code < 400;\n};\n\nxhrUtils.isClientError = function (code) {\n    return code >= 400 && code < 500;\n};\n\nxhrUtils.isServerError = function (code) {\n    return code >= 500 && code < 600;\n};\n\nxhrUtils.isNetworkError = function (code) {\n    return code === 0;\n};\n\nxhrUtils.isError = function (code) {\n    return this.isServerError(code)\n        || this.isClientError(code)\n        || this.isNetworkError(code);\n};\n\nmodule.exports = xhrUtils;\n\n\n\n// WEBPACK FOOTER //\n// ./utils/xhr-utils.js","var baseForIn = require('../internal/baseForIn'),\n    isArguments = require('./isArguments'),\n    isObjectLike = require('../internal/isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * **Note:** This method assumes objects created by the `Object` constructor\n * have no inherited enumerable properties.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  var Ctor;\n\n  // Exit early for non `Object` objects.\n  if (!(isObjectLike(value) && objToString.call(value) == objectTag && !isArguments(value)) ||\n      (!hasOwnProperty.call(value, 'constructor') && (Ctor = value.constructor, typeof Ctor == 'function' && !(Ctor instanceof Ctor)))) {\n    return false;\n  }\n  // IE < 9 iterates inherited properties before own properties. If the first\n  // iterated property is an object's own property then there are no inherited\n  // enumerable properties.\n  var result;\n  // In most environments an object's own properties are iterated before\n  // its inherited properties. If the last iterated property is an object's\n  // own property then there are no inherited enumerable properties.\n  baseForIn(value, function(subValue, key) {\n    result = key;\n  });\n  return result === undefined || hasOwnProperty.call(value, result);\n}\n\nmodule.exports = isPlainObject;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/lang/isPlainObject.js\n// module id = 39\n// module chunks = 1","var baseFor = require('./baseFor'),\n    keysIn = require('../object/keysIn');\n\n/**\n * The base implementation of `_.forIn` without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForIn(object, iteratee) {\n  return baseFor(object, iteratee, keysIn);\n}\n\nmodule.exports = baseForIn;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseForIn.js\n// module id = 40\n// module chunks = 1","var createBaseFor = require('./createBaseFor');\n\n/**\n * The base implementation of `baseForIn` and `baseForOwn` which iterates\n * over `object` properties returned by `keysFunc` invoking `iteratee` for\n * each property. Iteratee functions may exit iteration early by explicitly\n * returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseFor.js\n// module id = 41\n// module chunks = 1","var toObject = require('./toObject');\n\n/**\n * Creates a base function for `_.forIn` or `_.forInRight`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var iterable = toObject(object),\n        props = keysFunc(object),\n        length = props.length,\n        index = fromRight ? length : -1;\n\n    while ((fromRight ? index-- : ++index < length)) {\n      var key = props[index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/createBaseFor.js\n// module id = 42\n// module chunks = 1","var isObject = require('../lang/isObject');\n\n/**\n * Converts `value` to an object if it's not one.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {Object} Returns the object.\n */\nfunction toObject(value) {\n  return isObject(value) ? value : Object(value);\n}\n\nmodule.exports = toObject;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/toObject.js\n// module id = 43\n// module chunks = 1","/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/lang/isObject.js\n// module id = 44\n// module chunks = 1 2","var isArguments = require('../lang/isArguments'),\n    isArray = require('../lang/isArray'),\n    isIndex = require('../internal/isIndex'),\n    isLength = require('../internal/isLength'),\n    isObject = require('../lang/isObject');\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  if (object == null) {\n    return [];\n  }\n  if (!isObject(object)) {\n    object = Object(object);\n  }\n  var length = object.length;\n  length = (length && isLength(length) &&\n    (isArray(object) || isArguments(object)) && length) || 0;\n\n  var Ctor = object.constructor,\n      index = -1,\n      isProto = typeof Ctor == 'function' && Ctor.prototype === object,\n      result = Array(length),\n      skipIndexes = length > 0;\n\n  while (++index < length) {\n    result[index] = (index + '');\n  }\n  for (var key in object) {\n    if (!(skipIndexes && isIndex(key, length)) &&\n        !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = keysIn;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/object/keysIn.js\n// module id = 45\n// module chunks = 1 2","var isArrayLike = require('../internal/isArrayLike'),\n    isObjectLike = require('../internal/isObjectLike');\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Native method references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is classified as an `arguments` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  return isObjectLike(value) && isArrayLike(value) &&\n    hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n}\n\nmodule.exports = isArguments;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/lang/isArguments.js\n// module id = 46\n// module chunks = 1 2","var getLength = require('./getLength'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value));\n}\n\nmodule.exports = isArrayLike;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/isArrayLike.js\n// module id = 47\n// module chunks = 1 2","var baseProperty = require('./baseProperty');\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\nmodule.exports = getLength;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/getLength.js\n// module id = 48\n// module chunks = 1 2","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseProperty.js\n// module id = 49\n// module chunks = 1 2","/**\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/isLength.js\n// module id = 50\n// module chunks = 1 2","/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/isObjectLike.js\n// module id = 51\n// module chunks = 1 2","var getNative = require('../internal/getNative'),\n    isLength = require('../internal/isLength'),\n    isObjectLike = require('../internal/isObjectLike');\n\n/** `Object#toString` result references. */\nvar arrayTag = '[object Array]';\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeIsArray = getNative(Array, 'isArray');\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(function() { return arguments; }());\n * // => false\n */\nvar isArray = nativeIsArray || function(value) {\n  return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\n};\n\nmodule.exports = isArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/lang/isArray.js\n// module id = 52\n// module chunks = 1 2","var isNative = require('../lang/isNative');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = object == null ? undefined : object[key];\n  return isNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/getNative.js\n// module id = 53\n// module chunks = 1 2","var isFunction = require('./isFunction'),\n    isObjectLike = require('../internal/isObjectLike');\n\n/** Used to detect host constructors (Safari > 5). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar fnToString = Function.prototype.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * Checks if `value` is a native function.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n * @example\n *\n * _.isNative(Array.prototype.push);\n * // => true\n *\n * _.isNative(_);\n * // => false\n */\nfunction isNative(value) {\n  if (value == null) {\n    return false;\n  }\n  if (isFunction(value)) {\n    return reIsNative.test(fnToString.call(value));\n  }\n  return isObjectLike(value) && reIsHostCtor.test(value);\n}\n\nmodule.exports = isNative;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/lang/isNative.js\n// module id = 54\n// module chunks = 1 2","var isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]';\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in older versions of Chrome and Safari which return 'function' for regexes\n  // and Safari 8 which returns 'object' for typed array constructors.\n  return isObject(value) && objToString.call(value) == funcTag;\n}\n\nmodule.exports = isFunction;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/lang/isFunction.js\n// module id = 55\n// module chunks = 1 2","/** Used to detect unsigned integer values. */\nvar reIsUint = /^\\d+$/;\n\n/**\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return value > -1 && value % 1 == 0 && value < length;\n}\n\nmodule.exports = isIndex;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/isIndex.js\n// module id = 56\n// module chunks = 1 2","/**\n * A no-operation function that returns `undefined` regardless of the\n * arguments it receives.\n *\n * @static\n * @memberOf _\n * @category Utility\n * @example\n *\n * var object = { 'user': 'fred' };\n *\n * _.noop(object) === undefined;\n * // => true\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/utility/noop.js\n// module id = 57\n// module chunks = 1","/**\n * Replaces placeholders in passed strings\n */\n'use strict';\n\nvar logModule = require('lggr');\n\nvar replacer = new logModule.Replacer();\n\n/**\n * @returns {String}\n */\nmodule.exports = function () {\n    // inline arguments slice\n    // it allows runtime optimizations for js engines\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n        args[i] = arguments[i];\n    }\n    if (typeof args[0] !== 'string') {\n        return toString(args);\n    }\n    return replacer.replace(args[0], args.slice(1));\n};\n\nfunction toString(args) {\n    if (args.length === 0) {\n        return 'undefined';\n    }\n    return args.map(function (item) {\n        if (item === undefined) {\n            return 'undefined';\n        }\n        try {\n            return JSON.stringify(item);\n        } catch (e) {\n            return String(item);\n        }\n    }).join(' ');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/format-message.js","'use strict';\n\nexports.create = function () {\n    return new XMLHttpRequest();\n};\n\n\n\n// WEBPACK FOOTER //\n// ./platform/xhr.js","/**\n * Holds parsers for xhr module\n */\n'use strict';\n\nvar xml = require('./xml');\n\nmodule.exports = {\n    text: function () {\n        return function (evt) {\n            return evt.target.responseText;\n        };\n    },\n\n    // Don't use responseType = json, because it throws on .responseText:\n    // The value is only accessible if the object's 'responseType' is '' or 'text' (was 'json').\n    json: function () {\n        return function (evt) {\n            return JSON.parse(evt.target.responseText);\n        };\n    },\n\n    xml: function () {\n        return function (evt) {\n            return evt.target.responseXML\n                || xml.fromString(evt.target.responseText);\n        };\n    },\n\n    blob: function (xhr) {\n        xhr.responseType = 'blob';\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./utils/xhr-parsers.js","/*\n * Работа с xml\n * Взято из https://github.yandex-team.ru/desktop/slices-new/blob/master/common/adapter/api/xml.js\n */\n\n/* global Sizzle: true, ActiveXObject: true */\n\n'use strict';\n\nvar toArray = require('lodash/lang/toArray');\n\n// for escape/unescape\nvar rxEscape = /&|  |<|>|\\r\\n|\\n|'/g; // eslint-disable-line no-regex-spaces\nvar rxUnescape = /&amp;|&nbsp;|&lt;|&gt;|<(br|BR)\\s*\\/?>|&quot;/g;\nvar mapEscape = {\n    '&': '&amp;',\n    '  ': '&nbsp; ',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\\n': '<br />',\n    '\\r\\n': '<br />',\n    '\"': '&quot;'\n};\nvar mapUnescape = {\n    '&amp;': '&',\n    '&nbsp;': ' ',\n    '&lt;': '<',\n    '&gt;': '>',\n    '<br />': '\\n',\n    '<br/>': '\\n',\n    '<br>': '\\n',\n    '&quot;': '\"'\n};\nvar funcReplaceEscape = function (str) {\n    return mapEscape[str];\n};\nvar funcReplaceUnescape = function (str) {\n    return mapUnescape[str.toLowerCase()];\n};\n\nvar xml = {\n    mapEscape: mapEscape,\n    mapUnescape: mapUnescape,\n    escape: function (str) {\n        return str ? String(str).replace(rxEscape, funcReplaceEscape) : '';\n    },\n    unescape: function (str) {\n        return str ? String(str).replace(rxUnescape, funcReplaceUnescape) : '';\n    },\n    fromString: (typeof DOMParser === 'function'\n        ? function (string) {\n            return new DOMParser().parseFromString(string, 'text/xml');\n        }\n        : function (string) {\n            var xmlDocument = new ActiveXObject('Microsoft.XMLDOM');\n            xmlDocument.async = false;\n            xmlDocument.loadXML(string);\n            return xmlDocument;\n        }\n    ),\n    select: (typeof Sizzle === 'function'\n        ? function (selector, parent) {\n            return Sizzle(selector, parent || window.document)[0] || null;\n        }\n        : function (selector, parent) {\n            return (parent || window.document).querySelector(selector);\n        }\n    ),\n    selectAll: (typeof Sizzle === 'function'\n        ? function (selector, parent) {\n            return Sizzle(selector, parent || window.document);\n        }\n        : function (selector, parent) {\n            return toArray((parent || window.document).querySelectorAll(selector));\n        }\n    ),\n    getText: function (elem, selector) {\n        if (elem && selector) {\n            elem = xml.select(selector, elem);\n        }\n        // vitalets: кто нибудь знает для чего нам проверять elem.firstChild && elem.firstChild.data ?\n        // добавил elem.text, т.к. в ие не работало VB-5277\n        return elem\n            ? (elem.textContent || elem.innerText || (elem.firstChild && elem.firstChild.data) || elem.text || '')\n            : '';\n    },\n    setText: function (elem, text) {\n        if (elem) {\n            elem.textContent = text;\n            elem.innerText = text;\n        }\n    },\n    getAttr: function (elem, selector, attr) {\n        if (arguments.length === 2) {\n            attr = selector;\n            selector = null;\n        }\n        if (elem && selector) {\n            elem = xml.select(selector, elem);\n        }\n        return elem && elem.getAttribute(attr) || '';\n    },\n    getAttrs: function (node) {\n        return toArray(node.attributes).reduce(function (memo, attr) {\n            memo[attr.name] = attr.value;\n            return memo;\n        }, Object.create(null));\n    }\n};\n\nmodule.exports = xml;\n\nrequire('./overrides_v3/xml').override(xml);\n\n\n\n// WEBPACK FOOTER //\n// ./utils/xml.js","var arrayCopy = require('../internal/arrayCopy'),\n    getLength = require('../internal/getLength'),\n    isLength = require('../internal/isLength'),\n    values = require('../object/values');\n\n/**\n * Converts `value` to an array.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Array} Returns the converted array.\n * @example\n *\n * (function() {\n *   return _.toArray(arguments).slice(1);\n * }(1, 2, 3));\n * // => [2, 3]\n */\nfunction toArray(value) {\n  var length = value ? getLength(value) : 0;\n  if (!isLength(length)) {\n    return values(value);\n  }\n  if (!length) {\n    return [];\n  }\n  return arrayCopy(value);\n}\n\nmodule.exports = toArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/lang/toArray.js\n// module id = 62\n// module chunks = 1 2","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction arrayCopy(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayCopy;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/arrayCopy.js\n// module id = 63\n// module chunks = 1 2","var baseValues = require('../internal/baseValues'),\n    keys = require('./keys');\n\n/**\n * Creates an array of the own enumerable property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return baseValues(object, keys(object));\n}\n\nmodule.exports = values;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/object/values.js\n// module id = 64\n// module chunks = 1 2","/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  var index = -1,\n      length = props.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = object[props[index]];\n  }\n  return result;\n}\n\nmodule.exports = baseValues;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseValues.js\n// module id = 65\n// module chunks = 1 2","var getNative = require('../internal/getNative'),\n    isArrayLike = require('../internal/isArrayLike'),\n    isObject = require('../lang/isObject'),\n    shimKeys = require('../internal/shimKeys');\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = getNative(Object, 'keys');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nvar keys = !nativeKeys ? shimKeys : function(object) {\n  var Ctor = object == null ? undefined : object.constructor;\n  if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n      (typeof object != 'function' && isArrayLike(object))) {\n    return shimKeys(object);\n  }\n  return isObject(object) ? nativeKeys(object) : [];\n};\n\nmodule.exports = keys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/object/keys.js\n// module id = 66\n// module chunks = 1 2","var isArguments = require('../lang/isArguments'),\n    isArray = require('../lang/isArray'),\n    isIndex = require('./isIndex'),\n    isLength = require('./isLength'),\n    keysIn = require('../object/keysIn');\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A fallback implementation of `Object.keys` which creates an array of the\n * own enumerable property names of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction shimKeys(object) {\n  var props = keysIn(object),\n      propsLength = props.length,\n      length = propsLength && object.length;\n\n  var allowIndexes = !!length && isLength(length) &&\n    (isArray(object) || isArguments(object));\n\n  var index = -1,\n      result = [];\n\n  while (++index < propsLength) {\n    var key = props[index];\n    if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = shimKeys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/shimKeys.js\n// module id = 67\n// module chunks = 1 2","/**\n * XML util proxy override\n */\n'use strict';\n\nconst events = require('../../modules/offscreen/events');\nconst offscreenManager = require('../offscreen/offscreen-manager');\n\nexports.override = (xml) => {\n    if (typeof xml !== 'object') {\n        return;\n    }\n\n    // Keep functions that is going to be overrided\n    // to call them from the offscreen document.\n    xml.fromStringOriginal = xml.fromString.bind({});\n    xml.getAttrOriginal = xml.getAttr.bind({});\n    xml.getTextOriginal = xml.getText.bind({});\n    xml.selectAllOriginal = xml.selectAll.bind({});\n\n    /**\n     * Override XML.fromString method in the offscreen document.\n     */\n    xml.fromString = (string) => {\n        return string;\n    }\n\n    /**\n     * Override XML.getAttr method in the offscreen document.\n     */\n    xml.getAttr = (xmlString, selector, attr) => {\n        const callback = (message) => {\n            const {errObj, attr} = message;\n            if (errObj) {\n                throw new Error(errObj.message);\n            } else {\n                return attr;\n            }\n        };\n\n        const msgBody =\n            {type: events.backend.XML_GET_ATTR, data: {xmlString, selector, attr}};\n        return offscreenManager.sendMessage(\n            msgBody, 'XML getAttr timed out', callback);\n    }\n\n    /**\n     * Override XML.getText method in the offscreen document.\n     */\n    xml.getText = (xmlString, selector) => {\n        const callback = (message) => {\n            const {errObj, text} = message;\n            if (errObj) {\n                throw new Error(errObj.message);\n            } else {\n                return text;\n            }\n        };\n\n        const msgBody =\n            {type: events.backend.XML_GET_TEXT, data: {xmlString, selector}};\n        return offscreenManager.sendMessage(\n            msgBody, 'XML getText timed out', callback);\n    }\n\n    /**\n     * Override XML.selectAll method in the offscreen document.\n     */\n    xml.selectAll = (selector, parent) => {\n        const callback = (message) => {\n            const {errObj, selection} = message;\n            if (errObj) {\n                throw new Error(errObj.message);\n            } else {\n                return selection;\n            }\n        };\n\n        const msgBody =\n            {type: events.backend.XML_SELECT_ALL, data: {selector, parent}};\n        return offscreenManager.sendMessage(\n            msgBody, 'XML selectAll timed out', callback);\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./utils/overrides_v3/xml.js","/**\n * События (сообщения), которыми обмениваются оффскрин и бэкенд\n */\n'use strict';\n\nmodule.exports = {\n    /**\n     * События посылаемые от оффскрина к бэкенду\n     */\n    offscreen: {\n        /**\n         * COLORS\n         */\n        COLORS_DOMINANT_COLOR_BY_URL: 'Colors.calculateDominantColorByUrl.response',\n        COLORS_FONT_COLOR_BY_URL: 'Colors.calculateFontColorByUrl.response',\n\n        /**\n         * FILER\n         */\n        FILER_CD: 'Filer.cd.response',\n        FILER_CP: 'Filer.cp.response',\n        FILER_CREATE: 'Filer.create.response',\n        FILER_DF: 'Filer.df.response',\n        FILER_GET_ENTRY: 'Filer.getEntry.response',\n        FILER_INIT: 'Filer.init.response',\n        FILER_LS: 'Filer.ls.response',\n        FILER_MKDIR: 'Filer.mkdir.response',\n        FILER_MV: 'Filer.mv.response',\n        FILER_OPEN: 'Filer.open.response',\n        FILER_PATH_TO_FILESYSTEM_URL: 'Filer.pathToFilesystemUrl.response',\n        FILER_RM: 'Filer.rm.response',\n        FILER_WRITE: 'Filer.write.response',\n\n        /**\n         * SPEECHKIT\n         */\n        SPEECHKIT_DATA: 'Speechkit.data.response',\n        SPEECHKIT_ERROR: 'Speechkit.error.response',\n        SPEECHKIT_INIT: 'Speechkit.init.response',\n        SPEECHKIT_STOP: 'Speechkit.stop.response',\n\n        /**\n         * XML\n         */\n        XML_FROM_STRING: 'Filer.fromString.response',\n        XML_GET_ATTR: 'Filer.getAttr.response',\n        XML_GET_TEXT: 'Filer.getText.response',\n        XML_SELECT_ALL: 'Filer.selectAll.response',\n    },\n\n    /**\n     * События посылаемые от бэкенда к оффскрину\n     */\n    backend: {\n        /**\n         * COLORS\n         */\n        COLORS_DOMINANT_COLOR_BY_URL: 'Colors.calculateDominantColorByUrl.request',\n        COLORS_FONT_COLOR_BY_URL: 'Colors.calculateFontColorByUrl.request',\n\n        /**\n         * FILER\n         */\n        FILER_CD: 'Filer.cd.request',\n        FILER_CP: 'Filer.cp.request',\n        FILER_CREATE: 'Filer.create.request',\n        FILER_DF: 'Filer.df.request',\n        FILER_GET_ENTRY: 'Filer.getEntry.request',\n        FILER_INIT: 'Filer.init.request',\n        FILER_LS: 'Filer.ls.request',\n        FILER_MKDIR: 'Filer.mkdir.request',\n        FILER_MV: 'Filer.mv.request',\n        FILER_OPEN: 'Filer.open.request',\n        FILER_PATH_TO_FILESYSTEM_URL: 'Filer.pathToFilesystemUrl.request',\n        FILER_RM: 'Filer.rm.request',\n        FILER_WRITE: 'Filer.write.request',\n\n        /**\n         * SPEECHKIT\n         */\n        SPEECHKIT_STOP: 'Speechkit.stop.request',\n        SPEECHKIT_INIT: 'Speechkit.init.request',\n\n        /**\n         * XML\n         */\n        XML_FROM_STRING: 'Filer.fromString.request',\n        XML_GET_ATTR: 'Filer.getAttr.request',\n        XML_GET_TEXT: 'Filer.getText.request',\n        XML_SELECT_ALL: 'Filer.selectAll.request',\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/offscreen/events.js","const errorBooster = require('../error-booster');\n\nlet creationCount = 0;\n\nclass OffscreenManager {\n    constructor() {\n        this.maybeCloseOffscreen = this.maybeCloseOffscreen.bind(this);\n        this.messages = new Map();\n    }\n\n    static hasOffscreen() {\n        if ('getContexts' in chrome.runtime) {\n            return chrome.runtime.getContexts({\n                contextTypes: ['OFFSCREEN_DOCUMENT']\n            }).then(contexts => !!contexts.length);\n        } else {\n            return clients.matchAll().then(matchedClients =>\n                matchedClients.some(client =>\n                    client.url.includes(chrome.runtime.id)));\n        }\n    }\n\n    _getMessageId() {\n        let uniqueId;\n        do {\n            uniqueId = Math.random().toString(36).substr(2, 9);\n        } while (this.messages.has(uniqueId));\n        return uniqueId;\n    }\n\n    _isTabsLeft() {\n        return chrome.tabs.query({}).then((tabs) => tabs.length !== 0);\n    }\n    \n    _closeOffscreen() {\n        return OffscreenManager.hasOffscreen().then((hasDocument) => {\n            if (hasDocument) {\n                return chrome.offscreen.closeDocument();\n            }\n        }).finally(() => {\n            // Can create an offscreen from now on.\n            this.isCreatingOffscreenDocument = null;\n            \n            chrome.tabs.onRemoved.removeListener(this.maybeCloseOffscreen);\n        });\n    }\n\n    _createOffscreen() {\n        return OffscreenManager.hasOffscreen().then((hasDocument) => {\n            if (!hasDocument) {\n                return chrome.offscreen.createDocument({\n                    url: \"backend/offscreen.html\",\n                    reasons: Object.keys(justifications),\n                    justification: Object.values(justifications).join('; '),\n                }, () => {\n                    if (chrome.runtime.lastError) {\n                        // Attempt again on next sendMessage.\n                        this.isCreatingOffscreenDocument = null;\n                        errorBooster.uncaught(chrome.runtime.lastError, {creationCount});\n                    } else {\n                        creationCount += 1;\n                        errorBooster.info(\"Offscreen is created\", {creationCount});\n                    }\n                });\n            }\n        }).finally(() => {\n            // Can close an offscreen from now on.\n            this.isClosingOffscreenDocument = null;\n\n            chrome.tabs.onRemoved.addListener(this.maybeCloseOffscreen);\n        });\n    }\n\n    /**\n     * Creates a port connected to the offscreen.\n     */\n    _connectPort() {\n        this.port = chrome.runtime.connect({name: 'offscreen'});\n\n        this.port.onDisconnect.addListener(() => {\n            this.port = null;\n            for (const entry of this.messages.values()) {\n                if (typeof entry === 'object' && entry.reject) {\n                    entry.reject(new Error('Port was disconnected'));\n                }\n            }\n            this.messages.clear();\n        });\n\n        this.port.onMessage.addListener((message) => {\n            const entry = this.messages.get(message.id);\n            if (entry) {\n                entry.resolve(message);\n                this.messages.delete(message.id);\n            }\n        });\n\n        return Promise.resolve();\n    }\n\n    /**\n     * Ensures an offscreen is connected.\n     */\n    _ensurePortConnected() {\n        if (this.port) {\n            return Promise.resolve();\n        }\n\n        this.maybeCreateOffscreen();\n        return this.isCreatingOffscreenDocument.then(() => {\n            return this._connectPort();\n        });\n    }\n\n    /**\n     * Adds a callback to handle messages from the offscreen.\n     */\n    addOffscreenListener(callback) {\n        if (this.port) {\n            this.port.onMessage.addListener(callback);\n        }\n    }\n\n    /**\n     * Removes a callback to handle messages from the offscreen.\n     */\n    removeOffscreenListener(callback) {\n        if (this.port) {\n            this.port.onMessage.removeListener(callback);\n        }\n    }\n\n    /**\n     * Closes an offscreen if it exists.\n     */\n    maybeCloseOffscreen() {\n        if (!this.isClosingOffscreenDocument) {\n            this.isClosingOffscreenDocument = this._closeOffscreen();\n        }\n    }\n\n    /**\n     * Creates an offscreen if it do not exists.\n     */\n    maybeCreateOffscreen() {\n        if (!this.isCreatingOffscreenDocument) {\n            this.isCreatingOffscreenDocument = this._createOffscreen();\n        }\n    }\n\n    /**\n     * Sends message to the offscreen if it exists.\n     */\n    sendMessage(msgBody, _rejectMessage, callback, opt_errorHandler) {\n        msgBody.id = this._getMessageId();\n        return this._ensurePortConnected().then(() => {\n            return new Promise((resolve, reject) => {\n                this.messages.set(msgBody.id, {resolve, reject});\n                this.port.postMessage(msgBody);\n            });\n        }).then((message) => {\n            if (callback) {\n                return callback(message);\n            }\n        }).catch((error) => {\n            if (opt_errorHandler) {\n                opt_errorHandler(error);\n            }\n            if (error && error.message) {\n                errorBooster.uncaught(error.message);\n            }\n        });\n    }\n};\n\nmodule.exports = new OffscreenManager();\n\n\n\n// WEBPACK FOOTER //\n// ./utils/offscreen/offscreen-manager.js","/**\n * XMLHttpRequest util proxy override\n */\n'use strict';\n\nvar URI = require('urijs');\nvar isPlainObject = require('lodash/lang/isPlainObject');\n\nvar fetch = require('../fetch');\n\nexports.override = (Request) => {\n    if (typeof Request !== 'function') {\n        return;\n    }\n\n    Request.prototype.send = function () {\n        this.options = this._transformToFetchOptions(this.options);\n        if (this.options && this.options.body) {\n            this.options.method = 'POST';\n        }\n    \n        const evt = {target: {status: 'pending', url: this.options.url}};\n    \n        const request = fetch(this.options.url, this.options).then((data) => {\n            evt.target.status = 'fullfilled';\n            this.callback(null, data, Object.assign(evt, {target: request}));\n        }).catch((err) => {\n            evt.target.status = 'rejected';\n            this.callback(err, null, Object.assign(evt, {target: request}));\n        });\n    \n        return request;\n    };\n    \n    Request.prototype._transformToFetchOptions = function (options) {\n        return Object.assign(options, {\n            responseType: options.parse || 'text',\n            headers: this._getFetchHeaders(options)\n        });\n    }\n    \n    Request.prototype._getFetchHeaders = function () {\n        var options = this.options;\n        var headers = options.headers || {};\n        if (options.bypassCache) {\n            headers['If-Modified-Since'] = 'Sat, 1 Jan 2005 00:00:00 GMT';\n        }\n    \n        if (typeof options.body === 'string') {\n            if (!headers['Content-Type']) {\n                headers['Content-Type'] = 'text/plain; charset=UTF-8';\n            }\n        } else if (isPlainObject(options.body)) {\n            options.body = URI.buildQuery(options.body);\n            if (!headers['Content-Type']) {\n                headers['Content-Type'] = 'application/x-www-form-urlencoded; charset=UTF-8';\n            }\n        }\n    \n        return headers;\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/overrides_v3/xhr.js","/**\n * Обертка над window.fetch. С обратной совместимостью с xhr\n */\n'use strict';\n\nconst xml = require('./xml');\nconst xhrUtils = require('./xhr-utils');\nconst logger = require('./logger').create('Utils/fetch');\nconst isEmpty = require('lodash/lang/isEmpty');\nconst isString = require('lodash/lang/isString');\nconst isObject = require('lodash/lang/isObject');\nconst pick = require('lodash/object/pick');\nconst urlUtils = require('./url');\n\nconst CONTENT_TYPE = 'content-type';\nconst APPLICATION_JSON = 'application/json';\n\n/**\n * Опции window.fetch\n * {@link https://developer.mozilla.org/en-US/docs/Web/API/GlobalFetch/fetch}\n *\n * Плюс\n * {Object} params - query параметры\n *\n * @type {string[]}\n */\nconst OPTIONS = [\n    'params',\n    'body',\n    'method',\n    'headers',\n    'mode',\n    'credentials',\n    'cache',\n    'redirect',\n    'referrer',\n    'integrity',\n];\n\n/**\n * Опции из xhr\n *\n * @type {string[]}\n */\nconst POSTPROCESSOR_OPTIONS = [\n    'responseType',\n    'logError',\n    'timeout',\n];\n\n/**\n * Модификаторы запроса. Например, в случае, когда необходимо добавлять к каждому\n * запросу какой-либо хидер, то можно добавить соответствующий интерцептор.\n *\n * @example\n `\n fetchWrapper.addInterceptor(request => {\n        request.headers.set('x-auth-token', 'token');\n    });\n\n fetchWrapper.addInterceptor(request => {\n        request.credentials = 'include';\n    });\n `\n *\n * @type {Array<function>}\n */\nconst interceptors = [];\n\n/**\n * Опции по умолчанию\n *\n * @type {Object}\n */\nconst DEFAULT_OPTIONS = {\n    // Добавление кук к запросу\n    credentials: 'include',\n};\n\nmodule.exports = fetchWrapper;\n\n/**\n * Враппер над window.fetch, поддерживающий старые опции xhr\n * Подробнее\n * {@link https://developer.mozilla.org/en-US/docs/Web/API/GlobalFetch/fetch}\n *\n * @param {String|Request} url\n * @param {Object} options\n * @param {String} options.mode\n * @param {Object} options.params query-параметры\n * @param {String} options.credentials\n * @param {String} options.cache\n * @param {String} options.redirect\n * @param {String} options.referrer\n * @param {String} options.integrity\n * @param {Number} options.timeout\n * @param {String} options.method\n * @param {*} options.body\n * @param {String} options.responseType поддерживает blob, text, json, xml, raw (вернет оригинальный Response)\n * @param {Boolean} options.logError\n * @param {Object} options.headers\n *\n * @returns {Promise}\n */\nfunction fetchWrapper(url, options = {}) {\n    let [fetchOptions, postprocessorOptions] = parseOptions(options);\n    fetchOptions = Object.assign({}, DEFAULT_OPTIONS, fetchOptions);\n    return new Fetch(url, fetchOptions, postprocessorOptions).promise;\n}\n\nshortcutFactory('post', postArgsProvider, fetchWrapper);\nshortcutFactory('json', jsonArgsProvider, fetchWrapper);\nshortcutFactory('json', jsonArgsProvider, fetchWrapper.post);\nshortcutFactory('blob', blobArgsProvider, fetchWrapper);\nshortcutFactory('blob', blobArgsProvider, fetchWrapper.post);\n\n/**\n * Добавление интерцептора в очередь\n *\n * @param {function} interceptor\n */\nfetchWrapper.addInterceptor = function (interceptor) {\n    interceptors.push(interceptor);\n};\n\n/**\n * Удаление всех интерцепторов\n */\nfetchWrapper.removeAllInterceptors = function () {\n    interceptors.length = 0;\n};\n\n/**\n * @param {String} url\n * @param {Object} init\n * @param {Object} postprocessorOptions\n * @constructor\n */\nfunction Fetch(url, init = {}, postprocessorOptions = {}) {\n    this.postprocessorOptions = postprocessorOptions;\n    this.rejectedByTimeout = false;\n\n    init.headers = init.headers || {};\n    url = urlUtils.setQuery(url, init.params);\n\n    this._prepareBody(init);\n\n    const request = new Request(url, init);\n    this._executeInterceptors(request);\n\n    this.promise = new Promise((resolve, reject) => {\n        fetch(request)\n            .then(response => this._processRawResponse(response))\n            .then(response => this._transformToResponseType(response))\n            .catch(response => this._processError(response))\n            .then(resolve)\n            .catch(reject);\n\n        if (postprocessorOptions.timeout) {\n            this._setTimeout(reject);\n        }\n    });\n}\n\n/**\n * Пименеям интерцепторы к объекту запроса\n *\n * @param {Request} request\n * @private\n */\nFetch.prototype._executeInterceptors = function (request) {\n    interceptors.forEach(interceptor => interceptor(request));\n};\n\n/**\n * Eсли init.body является простым объектом или массивом, то автоматически преобразем его\n * в JSON строку и добавляем заголовок Content-Type = application/json\n *\n * В случае если body является FormData, fetch автоматически подставит заголовок\n * Content-Type = multipart/form-data\n *\n * Для Blob Content-Type берется из параметра type\n *\n * @param {Object} init\n */\nFetch.prototype._prepareBody = function (init) {\n    const {body} = init;\n\n    if (body === null || body === undefined) {\n        return;\n    }\n\n    if (shouldBeBodyStringifiedAsJson(body)) {\n        try {\n            init.body = JSON.stringify(body);\n            init.headers[CONTENT_TYPE] = APPLICATION_JSON;\n        } catch (e) {\n            // do nothing\n        }\n    }\n};\n\n/**\n * При срабатывании таймера, сам запрос не прервется так как fetch не поддерживает таймауты\n * и прерывания запроса, но промис зареджектится.\n *\n * @returns {Number}\n * @private\n */\nFetch.prototype._setTimeout = function (reject) {\n    const {timeout} = this.postprocessorOptions;\n\n    this.timeoutHandler = setTimeout(() => {\n        this.rejectedByTimeout = true;\n        reject(this._logError(`Aborted by timeout ${timeout} ms`));\n    }, timeout);\n};\n\n/**\n * Обрабатываем пришедший ответ\n *\n * @param {Response} response\n * @returns {Promise}\n * @private\n */\nFetch.prototype._processRawResponse = function (response) {\n    if (this.rejectedByTimeout) {\n        return Promise.reject();\n    }\n\n    clearTimeout(this.timeoutHandler);\n    // Так как fetch не все статусы распознает как ошибочные, добавляем проверку на статусы\n    // что бы ошибки не попадали в then\n    return this._checkStatus(response);\n};\n\n/**\n * Обработваем ошибку\n *\n * @param {Response|Error|string} response\n * @returns {Promise}\n * @private\n */\nFetch.prototype._processError = function (response) {\n    clearTimeout(this.timeoutHandler);\n\n    if (response instanceof Response) {\n        return this._parseError(response)\n            .then(msg => Promise.reject(msg));\n    } else {\n        return Promise.reject(response);\n    }\n};\n\n/**\n * В случае если хидер content-type = application/json, то парсим ответ в объект\n *\n * @param {Response} response\n * @returns {Promise}\n * @private\n */\nFetch.prototype._parseError = function (response) {\n    if (isContentType(response.headers, APPLICATION_JSON)) {\n        return response.json();\n    } else {\n        return response.text();\n    }\n};\n\n/**\n * Обработка ошибки\n *\n * @param {String} msg\n */\nFetch.prototype._logError = function (msg) {\n    if (this.postprocessorOptions.logError) {\n        logger.error(msg);\n    }\n\n    return msg;\n};\n\n/**\n * fetch не делает reject в случае ответа с ошибочным статусом. Поэтому делаем\n * свою обработку статусов.\n *\n * @param {Response} response\n * @returns {Promise}\n * @private\n */\nFetch.prototype._checkStatus = function (response) {\n    if (xhrUtils.isError(response.status)) {\n        return Promise.reject(response);\n    }\n\n    return Promise.resolve(response);\n};\n\n/**\n * Парсим ответ согласно responseType. Если параметр не задан, то метод вернет\n * ответ ввиде строки.\n *\n * @param {Response} response\n * @returns {Object|String|ArrayBuffer|Response|XML|Blob}\n * @private\n */\nFetch.prototype._transformToResponseType = function (response) {\n    let {responseType} = this.postprocessorOptions;\n\n    if (isEmpty(responseType)) {\n        return response.text();\n    }\n\n    switch (responseType.toLocaleLowerCase()) {\n        case 'raw':\n            return response;\n        case 'blob':\n            return response.blob();\n        case 'json':\n            return response.json();\n        case 'arraybuffer':\n            return response.arrayBuffer();\n        case 'xml':\n            return response.text()\n                .then(result => xml.fromString(result));\n        default:\n            return response.text();\n    }\n};\n\n/**\n * @param {Headers} headers\n * @param {string} type\n * @returns {boolean}\n */\nfunction isContentType(headers, type) {\n    const contentType = headers.get(CONTENT_TYPE);\n\n    return contentType === type;\n}\n\n/**\n * Разбиваем переданные параметры на родные опции фетч и построцессинга\n *\n * @param {Object} options\n * @returns {Array}\n */\nfunction parseOptions(options) {\n    const fetchOptions = pick(options, OPTIONS);\n    const postprocessorOptions = pick(options, POSTPROCESSOR_OPTIONS);\n\n    return [fetchOptions, postprocessorOptions];\n}\n\n/**\n * Проверяем нужно ли представлять тело запроса в виде JSON\n *\n * @param {*} obj\n * @returns {boolean}\n */\nfunction shouldBeBodyStringifiedAsJson(obj) {\n    if (isString(obj)) {\n        return false;\n    }\n\n    if (obj instanceof Blob) {\n        return false;\n    }\n\n    if (obj instanceof FormData) {\n        return false;\n    }\n\n    return isObject(obj);\n}\n\n/**\n * Фабрика для создания шортката для модификатора параметров к функции\n *\n * @param {String} name имя шортката\n * @param {Function} argsProvider провайдер новых аргументов,\n * с которым будет вызывана функция\n * @param {Function} func функция к которой будет добавлен шорткат\n */\nfunction shortcutFactory(name, argsProvider, func) {\n    func[name] = function () {\n        const args = argsProvider.apply(null, arguments);\n        return func.apply(null, args);\n    };\n}\n\n/**\n * Провайдер аргументов для обработки ответа как Blob\n *\n * @param {String} url\n * @param {Object} options\n * @returns {Array}\n */\nfunction blobArgsProvider(url, options = {}) {\n    return [url, Object.assign({}, options, {responseType: 'blob'})];\n}\n\n/**\n * Провайдер аргументов для обработки ответа как JSON строки\n *\n * @param {String} url\n * @param {Object} options\n * @returns {Array}\n */\nfunction jsonArgsProvider(url, options = {}) {\n    return [url, Object.assign({}, options, {responseType: 'json'})];\n}\n\n/**\n * Провайдер аргументов для отправки post\n *\n * @param {String} url\n * @param {Object} options\n * @returns {Array}\n */\nfunction postArgsProvider(url, options = {}) {\n    return [url, Object.assign({}, options, {method: 'post'})];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/fetch.js","var isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('../internal/isArrayLike'),\n    isFunction = require('./isFunction'),\n    isObjectLike = require('../internal/isObjectLike'),\n    isString = require('./isString'),\n    keys = require('../object/keys');\n\n/**\n * Checks if `value` is empty. A value is considered empty unless it's an\n * `arguments` object, array, string, or jQuery-like collection with a length\n * greater than `0` or an object with own enumerable properties.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {Array|Object|string} value The value to inspect.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) && (isArray(value) || isString(value) || isArguments(value) ||\n      (isObjectLike(value) && isFunction(value.splice)))) {\n    return !value.length;\n  }\n  return !keys(value).length;\n}\n\nmodule.exports = isEmpty;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/lang/isEmpty.js\n// module id = 73\n// module chunks = 1","var isObjectLike = require('../internal/isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' || (isObjectLike(value) && objToString.call(value) == stringTag);\n}\n\nmodule.exports = isString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/lang/isString.js\n// module id = 74\n// module chunks = 1","var baseFlatten = require('../internal/baseFlatten'),\n    bindCallback = require('../internal/bindCallback'),\n    pickByArray = require('../internal/pickByArray'),\n    pickByCallback = require('../internal/pickByCallback'),\n    restParam = require('../function/restParam');\n\n/**\n * Creates an object composed of the picked `object` properties. Property\n * names may be specified as individual arguments or as arrays of property\n * names. If `predicate` is provided it's invoked for each property of `object`\n * picking the properties `predicate` returns truthy for. The predicate is\n * bound to `thisArg` and invoked with three arguments: (value, key, object).\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {Function|...(string|string[])} [predicate] The function invoked per\n *  iteration or property names to pick, specified as individual property\n *  names or arrays of property names.\n * @param {*} [thisArg] The `this` binding of `predicate`.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'user': 'fred', 'age': 40 };\n *\n * _.pick(object, 'user');\n * // => { 'user': 'fred' }\n *\n * _.pick(object, _.isString);\n * // => { 'user': 'fred' }\n */\nvar pick = restParam(function(object, props) {\n  if (object == null) {\n    return {};\n  }\n  return typeof props[0] == 'function'\n    ? pickByCallback(object, bindCallback(props[0], props[1], 3))\n    : pickByArray(object, baseFlatten(props));\n});\n\nmodule.exports = pick;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/object/pick.js\n// module id = 75\n// module chunks = 1","var arrayPush = require('./arrayPush'),\n    isArguments = require('../lang/isArguments'),\n    isArray = require('../lang/isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.flatten` with added support for restricting\n * flattening and specifying the start index.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {boolean} [isDeep] Specify a deep flatten.\n * @param {boolean} [isStrict] Restrict flattening to arrays-like objects.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, isDeep, isStrict, result) {\n  result || (result = []);\n\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    if (isObjectLike(value) && isArrayLike(value) &&\n        (isStrict || isArray(value) || isArguments(value))) {\n      if (isDeep) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, isDeep, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseFlatten.js\n// module id = 76\n// module chunks = 1","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/arrayPush.js\n// module id = 77\n// module chunks = 1","var identity = require('../utility/identity');\n\n/**\n * A specialized version of `baseCallback` which only supports `this` binding\n * and specifying the number of arguments to provide to `func`.\n *\n * @private\n * @param {Function} func The function to bind.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {number} [argCount] The number of arguments to provide to `func`.\n * @returns {Function} Returns the callback.\n */\nfunction bindCallback(func, thisArg, argCount) {\n  if (typeof func != 'function') {\n    return identity;\n  }\n  if (thisArg === undefined) {\n    return func;\n  }\n  switch (argCount) {\n    case 1: return function(value) {\n      return func.call(thisArg, value);\n    };\n    case 3: return function(value, index, collection) {\n      return func.call(thisArg, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(thisArg, accumulator, value, index, collection);\n    };\n    case 5: return function(value, other, key, object, source) {\n      return func.call(thisArg, value, other, key, object, source);\n    };\n  }\n  return function() {\n    return func.apply(thisArg, arguments);\n  };\n}\n\nmodule.exports = bindCallback;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/bindCallback.js\n// module id = 78\n// module chunks = 1","/**\n * This method returns the first argument provided to it.\n *\n * @static\n * @memberOf _\n * @category Utility\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'user': 'fred' };\n *\n * _.identity(object) === object;\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/utility/identity.js\n// module id = 79\n// module chunks = 1","var toObject = require('./toObject');\n\n/**\n * A specialized version of `_.pick` which picks `object` properties specified\n * by `props`.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property names to pick.\n * @returns {Object} Returns the new object.\n */\nfunction pickByArray(object, props) {\n  object = toObject(object);\n\n  var index = -1,\n      length = props.length,\n      result = {};\n\n  while (++index < length) {\n    var key = props[index];\n    if (key in object) {\n      result[key] = object[key];\n    }\n  }\n  return result;\n}\n\nmodule.exports = pickByArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/pickByArray.js\n// module id = 80\n// module chunks = 1","var baseForIn = require('./baseForIn');\n\n/**\n * A specialized version of `_.pick` which picks `object` properties `predicate`\n * returns truthy for.\n *\n * @private\n * @param {Object} object The source object.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Object} Returns the new object.\n */\nfunction pickByCallback(object, predicate) {\n  var result = {};\n  baseForIn(object, function(value, key, object) {\n    if (predicate(value, key, object)) {\n      result[key] = value;\n    }\n  });\n  return result;\n}\n\nmodule.exports = pickByCallback;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/pickByCallback.js\n// module id = 81\n// module chunks = 1","/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that invokes `func` with the `this` binding of the\n * created function and arguments from `start` and beyond provided as an array.\n *\n * **Note:** This method is based on the [rest parameter](https://developer.mozilla.org/Web/JavaScript/Reference/Functions/rest_parameters).\n *\n * @static\n * @memberOf _\n * @category Function\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var say = _.restParam(function(what, names) {\n *   return what + ' ' + _.initial(names).join(', ') +\n *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n * });\n *\n * say('hello', 'fred', 'barney', 'pebbles');\n * // => 'hello fred, barney, & pebbles'\n */\nfunction restParam(func, start) {\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  start = nativeMax(start === undefined ? (func.length - 1) : (+start || 0), 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        rest = Array(length);\n\n    while (++index < length) {\n      rest[index] = args[start + index];\n    }\n    switch (start) {\n      case 0: return func.call(this, rest);\n      case 1: return func.call(this, args[0], rest);\n      case 2: return func.call(this, args[0], args[1], rest);\n    }\n    var otherArgs = Array(start + 1);\n    index = -1;\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = rest;\n    return func.apply(this, otherArgs);\n  };\n}\n\nmodule.exports = restParam;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/function/restParam.js\n// module id = 82\n// module chunks = 1","/**\n * Generic url utils module\n * Works with two types of urls: url and urn\n */\n'use strict';\n\nvar URI = require('urijs');\nvar GenericModule = require('../generic-module.js');\n\nvar urlImpl = require('./url-impl');\nvar urnImpl = require('./urn-impl');\n\nvar URL_TYPE = 'url';\nvar URN_TYPE = 'urn';\n\n/**\n * @param {String} string\n * @returns {URI|null}\n */\nfunction createURI(string) {\n    try {\n        return URI(string);\n    } catch (e) {\n        return null;\n    }\n}\n\n/**\n * This function can take arbitrary amount of arguments\n * It checks format of the first one (assuming it's a string)\n * @returns {String|null}\n */\nfunction typeChecker() {\n    if (arguments.length === 0) {\n        return null;\n    }\n    var uri = createURI(arguments[0]);\n    if (!uri) {\n        return null;\n    }\n    if (uri.is(URL_TYPE)) {\n        return URL_TYPE;\n    }\n    if (uri.is(URN_TYPE)) {\n        return URN_TYPE;\n    }\n    return null;\n}\n\nvar urlGeneric = new GenericModule(typeChecker);\nurlGeneric.addImplementation(URL_TYPE, urlImpl);\nurlGeneric.addImplementation(URN_TYPE, urnImpl);\nurlGeneric.setDefaultType(URL_TYPE);\n\nmodule.exports = urlGeneric;\n\n\n\n// WEBPACK FOOTER //\n// ./utils/url/index.js","/**\n * Helper for creating modules with generic methods\n * It's just a realization of multimethods (https://en.wikipedia.org/wiki/Multiple_dispatch)\n * on a level of module methods (not just single functions)\n * @see utils/url/index module for example\n */\n'use strict';\n\nvar MethodsTable = require('./methods-table');\n\n/**\n * @param {Function} typeChecker\n */\nfunction GenericModule(typeChecker) {\n    this._getType = typeChecker;\n    this._methodsTable = new MethodsTable();\n}\n\n/**\n * @param {String} type\n * @param {Object} module - {name: method} map\n */\nGenericModule.prototype.addImplementation = function (type, module) {\n    Object.keys(module).forEach(function (methodName) {\n        this._methodsTable.add(type, methodName, module[methodName]);\n        if (!this[methodName]) {\n            this[methodName] = createGenericMethod(\n                methodName, this._methodsTable, this._getType\n            );\n        }\n    }.bind(this));\n};\n\n/**\n * @param {String} type\n */\nGenericModule.prototype.setDefaultType = function (type) {\n    this._methodsTable.setDefaultType(type);\n};\n\n/**\n * @param {String} methodName\n * @param {MethodsTable} methodsTable\n * @param {Function} getType\n * @returns {Function}\n */\nfunction createGenericMethod(methodName, methodsTable, getType) {\n    return function () {\n        var type = getType.apply(null, arguments);\n        var method = methodsTable.get(type, methodName);\n        if (method) {\n            return method.apply(null, arguments);\n        }\n        return undefined;\n    };\n}\n\nmodule.exports = GenericModule;\n\n\n\n// WEBPACK FOOTER //\n// ./utils/generic-module.js","/**\n * Table with [name + type -> implementation] relation\n */\n'use strict';\n\nfunction MethodsTable() {\n    this._defaultType = null;\n    this._table = Object.create(null);\n}\n\nMethodsTable.prototype = {\n    /**\n     * @param {String} type\n     */\n    setDefaultType: function (type) {\n        this._defaultType = type;\n    },\n\n    /**\n     * @param {String} type\n     * @param {String} name\n     * @param {Function} implementation\n     */\n    add: function (type, name, implementation) {\n        if (!this._table[name]) {\n            this._table[name] = {};\n        }\n        this._table[name][type] = implementation;\n    },\n\n    /**\n     * @param {String} type\n     * @param {String} name\n     * @returns {Function|undefined};\n     */\n    get: function (type, name) {\n        if (this._table[name]) {\n            return this._table[name][type]\n                || this._table[name][this._defaultType];\n        }\n        return undefined;\n    }\n};\n\nmodule.exports = MethodsTable;\n\n\n\n// WEBPACK FOOTER //\n// ./utils/methods-table.js","/**\n * Implementation of url utils for 'url' type\n * It's default implementation for all urlUtils methods\n */\n\n'use strict';\n\nvar URI = require('urijs');\nvar createURI = require('./create-uri');\nvar buildInfo = require('../../platform/build-info');\nvar about = require('../../platform/about');\n\nvar YANDEX_DOMAINS = require('./yandex-domains');\n\nvar PROTOCOL_NORMALIZATION_MAP = {\n    https: 'http',\n    ftps: 'ftp'\n};\n\nvar REMOTE_PROTOCOLS = {\n    http: true,\n    https: true,\n    ftp: true,\n    ftps: true,\n};\n\nvar ALLOWED_FOR_DOWNLOAD_PROTOCOLS = {\n    http: true,\n    https: true,\n    file: true,\n    ftp: true,\n    ftps: true,\n};\n\n/**\n * Специальный параметр, добавляемый к техническим запросам на яндексовые хосты,\n * чтобы не портить статистику\n */\nvar TECHNICAL_PARAM = 'nugt';\n\n/**\n * Возвращает инстанс URI для любого ввода:\n * - если есть схема, то все ок, возвращаем URI\n * - если нет схемы, то дописываем DEFAULT_PROTOCOL и получаем URI\n * @param {String} [urlOrDomain]\n * @returns {URI|null}\n */\nexports.createURI = createURI;\n\n/**\n * @param {String} url\n * @returns {URI|null}\n */\nfunction createReadableURI(url) {\n    try {\n        var readableUrl = createURI(url).readable();\n        return createURI(readableUrl);\n    } catch (e) {\n        return null;\n    }\n}\n\n/**\n * Нормализация протокола (https -> http, ftps -> ftp) и/или удаление www из url.\n * Если протокола в url нет, то в него добавится http\n *\n * @param {String} url\n * @param {Object} [params]\n * @param {Boolean} [params.protocol=true] если true то нормализовать протокол.\n * @param {Boolean} [params.www=true] если true, то убрать www.\n * @returns {String}\n */\nexports.getNormalUrl = function (url, params) {\n    params = params || {};\n    var shouldNormalizeProtocol = params.protocol === true ? true : false;\n    var shouldNormalizeWWW = params.www === true ? true : false;\n\n    try {\n        var urlObject = createURI(url).normalize();\n\n        if (shouldNormalizeProtocol) {\n            var protocol = urlObject.protocol();\n            urlObject.protocol(PROTOCOL_NORMALIZATION_MAP[protocol] || protocol);\n        }\n\n        if (shouldNormalizeWWW) {\n            urlObject.hostname(normalizeHostname(urlObject));\n        }\n\n        return urlObject.toString();\n    } catch (e) {\n        return url;\n    }\n};\n\n/**\n * @param {String} [url]\n * @returns {String}\n */\nexports.getReadableUrl = function (url) {\n    var uri = createReadableURI(url);\n    if (uri) {\n        return uri.toString();\n    }\n    return url;\n};\n\n/**\n * Возвращает нормализованный домен без www\n * @param {String} [url]\n * @returns {String}\n */\nexports.getNormalDomain = function (url) {\n    try {\n        return normalizeHostname(createURI(url).normalize());\n    } catch (e) {\n        return '';\n    }\n};\n\n/**\n * @param {String} [url]\n * @returns {String}\n */\nexports.getReadableDomain = function (url) {\n    try {\n        return normalizeHostname(createReadableURI(url));\n    } catch (e) {\n        return '';\n    }\n};\n\n/**\n * Возвращает имя хоста без www\n * @param   {URI} uri\n * @returns {String}\n */\nfunction normalizeHostname (uri) {\n    var subdomain = uri.subdomain();\n\n    if (subdomain) {\n        subdomain = subdomain.replace(/^www(\\.|$)/, '');\n        return (subdomain ? subdomain + '.' : '') + uri.domain();\n    }\n\n    return uri.hostname();\n}\n\nvar LAST_SLASH_REG_EXP = /\\/$/;\n\n/**\n * Normalizes url and returns url path\n * @param {String} url\n * @returns {String}\n */\nexports.getNormalPath = function (url) {\n    try {\n        return createURI(url).normalize().path().replace(LAST_SLASH_REG_EXP, '');\n    } catch (e) {\n        return '';\n    }\n};\n\n/**\n * Returns index part of provided url.\n * Example: 'https://www.yandex.ru/path?search=hello'->'https://www.yandex.ru/'\n * @param {String} url\n * @returns {String}\n */\nexports.getIndexPart = function (url) {\n    try {\n        var uri = createURI(url).normalize();\n        return uri.protocol() + '://' + uri.hostname() + '/';\n    } catch (error) {\n        return '';\n    }\n};\n\n/**\n * Returns query object for passed url\n * @param {String} url\n * @returns {Object}\n */\nexports.getQueryObject = function (url) {\n    try {\n        return createURI(url).search(true);\n    } catch (e) {\n        return {};\n    }\n};\n\n/**\n * Adds 'rnd' param with random value to passed url.\n * If passed param isn't valid url or scheme is \"data:\", this method just returns it back.\n * @param {String} url\n * @returns {String}\n */\nexports.addRandomParam = function (url) {\n    if (!/^data:/.test(url)) {\n        try {\n            // TODO make sure that url with random params has only '/' slashes\n            // TODO use exports.setQuery\n            var randomValue = (Date.now() + Math.random()).toString(36);\n            return createURI(url).setQuery('rnd', randomValue).toString();\n        } catch (error) {}\n    }\n\n    return url;\n};\n\n/**\n * Is passed url is top level (without path)\n * @param {String} url\n * @returns {Boolean}\n */\nexports.isIndexPage = function (url) {\n    try {\n        var uri = createURI(url).normalize();\n        return exports.isYandexHost(url)\n            ? isYandexIndexPage(uri)\n            : isCommonIndexPage(uri);\n    } catch (e) {\n        return false;\n    }\n};\n\n/**\n * @param {URI} uri\n * @returns {Boolean}\n * @throws {Error}\n */\nfunction isYandexIndexPage(uri) {\n    return uri.path() === '/' && isYandexIndexQuery(uri);\n}\n\nvar YANDEX_INDEX_QUERIES = ['clid', 'from'];\n\n/**\n * @param {URI} uri\n * @returns {Boolean}\n * @throws {Error}\n */\nfunction isYandexIndexQuery(uri) {\n    var queryObject = uri.search(true);\n    return Object.keys(queryObject).every(function (name) {\n        return YANDEX_INDEX_QUERIES.indexOf(name) !== -1;\n    });\n}\n\n/**\n * @param {URI} uri\n * @returns {Boolean}\n * @throws {Error}\n */\nfunction isCommonIndexPage(uri) {\n    return uri.path() === '/' && uri.query() === '';\n}\n\n/**\n * Is passed url remote (has http/ftp protocols)\n * @param {String} url\n * @returns {Boolean}\n */\nexports.isRemote = function (url) {\n    try {\n        return createURI(url).normalize().protocol() in REMOTE_PROTOCOLS;\n    } catch (error) {\n        return false;\n    }\n};\n\n/**\n * Is url downloadable (has http/ftp/file protocols)\n * @param {String} url\n * @returns {Boolean}\n */\nexports.isAllowedForDownload = function (url) {\n    try {\n        return createURI(url).normalize().protocol() in ALLOWED_FOR_DOWNLOAD_PROTOCOLS;\n    } catch (error) {\n        return false;\n    }\n};\n\n/**\n * Сравнивает два урла\n * @param {String} url1\n * @param {String} url2\n * @returns {Boolean}\n */\nexports.isEqualUrls = function (url1, url2) {\n    // если урлы равны, то сразу возвращаем true\n    // see https://github.com/medialize/URI.js/issues/265\n    if (isEqualStrings(url1, url2)) {\n        return true;\n    }\n    var uri1 = createURI(url1);\n    var uri2 = createURI(url2);\n    return isEqualUris(uri1, uri2);\n};\n\n/**\n * @param {String} url\n * @param {Array<String>} urlList\n * @returns {Boolean}\n */\nexports.isUrlInList = function (url, urlList) {\n    if (!Array.isArray(urlList)) {\n        return false;\n    }\n    if (!url) {\n        return false;\n    }\n    return urlList.some(function (listUrl) {\n        return exports.isEqualUrls(listUrl, url);\n    });\n};\n\n/**\n * @param {String} url1\n * @param {String} url2\n * @returns {Boolean}\n */\nfunction isEqualStrings(url1, url2) {\n    var url1Lower = typeof url1 === 'string' ? url1.toLowerCase() : url1;\n    var url2Lower = typeof url2 === 'string' ? url2.toLowerCase() : url2;\n    return url1Lower === url2Lower;\n}\n\n/**\n * @param {URI} uri1\n * @param {URI} uri2\n * @returns {Boolean}\n */\nfunction isEqualUris(uri1, uri2) {\n    try {\n        return uri1.equals(uri2);\n    } catch (e) {\n        return false;\n    }\n}\n\n/**\n * @param {String} url\n * @returns {Boolean}\n */\nexports.isYandexHost = function (url) {\n    try {\n        return createURI(url).normalize().domain() in YANDEX_DOMAINS;\n    } catch (error) {\n        return false;\n    }\n};\n\n/**\n * @returns {Boolean}\n */\nexports.isDataUri = function () {\n    return false;\n};\n\n/**\n * Is url similar to \"foo:bar\"\n * @returns {Boolean}\n */\nexports.isSpecialUrl = function () {\n    return false;\n};\n\n/**\n * Adds nugt param to url, but only if passed url has yandex host\n * @param {String} url\n * @returns {String}\n */\nexports.addTechnicalParam = function (url) {\n    if (!exports.isYandexHost(url)) {\n        return url;\n    }\n    try {\n        return createURI(url).setQuery(TECHNICAL_PARAM, createTechnicalParam()).toString();\n    } catch (error) {\n        return url;\n    }\n};\n\n/**\n * Creates value for nugt param\n * @returns {String}\n */\nfunction createTechnicalParam() {\n    return about.yasoft + '-' + buildInfo.getVersion();\n}\n\n/**\n * Removes nugt params from urls with yandex hosts\n * @param {String} url\n * @returns {Boolean}\n */\nexports.deleteTechnicalParam = function (url) {\n    if (!exports.isYandexHost(url)) {\n        return url;\n    }\n    try {\n        return createURI(url).removeQuery(TECHNICAL_PARAM).toString();\n    } catch (error) {\n        return url;\n    }\n};\n\n/**\n * Creates absolute url from passed relativeUrl\n * @param {?String} siteUrl\n * @param {?String} baseUrl\n * @param {?String} relativeUrl\n * @returns {null|String}\n */\nexports.resolve = function (siteUrl, baseUrl, relativeUrl) {\n    try {\n        var siteURI = new URI(siteUrl);\n        var relativeURI = new URI(relativeUrl);\n        if (!siteURI.is('url') || !siteURI.is('absolute')\n            || !siteURI.protocol() || !relativeURI.is('url')) {\n            return null;\n        }\n        var baseURI = baseUrl ? new URI(baseUrl).absoluteTo(siteURI) : siteURI;\n        return relativeURI.absoluteTo(baseURI).toString();\n    } catch (e) {\n        return null;\n    }\n};\n\n/**\n * Adds query to url.\n * If passed param isn't valid url, this method just returns it back.\n * @param {String} url\n * @param {Object} params key-value data\n * @returns {String}\n */\nexports.setQuery = function (url, params) {\n    try {\n        return createURI(url).setQuery(params).toString();\n    } catch (error) {\n        return url;\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./utils/url/url-impl.js","/**\n * Helper for creating URIjs instances\n */\n'use strict';\n\nvar URI = require('urijs');\nvar logger = require('../logger').create('utils/uri-creator');\n\nvar DEFAULT_PROTOCOL = 'http';\n\n/**\n * Возвращает инстанс URI для любого ввода:\n * - если есть схема, то все ок, возвращаем URI\n * - если нет схемы, то дописываем DEFAULT_PROTOCOL и получаем URI\n * @param {String} [urlOrDomain]\n * @returns {URI|null}\n */\nmodule.exports = function (urlOrDomain) {\n    if (!urlOrDomain) {\n        return null;\n    }\n    try {\n        return createURIObject(urlOrDomain);\n    } catch (e) {\n        logger.error('Can not create URI for %s %s', urlOrDomain, e.message);\n        return null;\n    }\n};\n\n/**\n * Creates URIjs object.\n * @param {String} urlOrDomain\n * @returns {URIjs}\n */\nfunction createURIObject(urlOrDomain) {\n    urlOrDomain = convertWin1251ToUnicode(urlOrDomain);\n    var uri = new URI(urlOrDomain);\n    if (!uri.protocol()) {\n        // без toString не добавляется слэш в конце ориджина (если его не было\n        // в urlOrDomain)\n        // https://github.com/medialize/URI.js/issues/313\n        uri = new URI(uri.protocol(DEFAULT_PROTOCOL).toString());\n    }\n    return uri;\n}\n\n/**\n * Превращение адресов вида \"https://ru.wikipedia.org/wiki/%CF%E0%EA%E8%F1%F2%E0%ED\"\n * в \"https://ru.wikipedia.org/wiki/%D0%9F%D0%B0%D0%BA%D0%B8%D1%81%D1%82%D0%B0%D0%BD\"\n * (\"https://ru.wikipedia.org/wiki/Пакистан\").\n * Если функция `decodeURIComponent` упала с ошибкой и в адресе есть экранирование,\n * то пробуем развернуть экранированные значения как если бы они были в кодировке windows-1251.\n *\n * @see {@link https://st.yandex-team.ru/VB-5112}\n *\n * @param {string} url\n * @returns {string}\n */\nfunction convertWin1251ToUnicode(url) {\n    try {\n        decodeURIComponent(url);\n    } catch (e) {\n        if (/%[A-F0-9]{2}/.test(url)) {\n            var WIN1251_UNICODE_CHAR_SHIFT = 0x0410 - 0xC0; // Unicode \"A\" - ANSI \"A\"\n\n            url = url.replace(/%([A-F0-9]{2})/g, function (match, charCode) {\n                var charString = String.fromCharCode(parseInt('0x' + charCode, 16) + WIN1251_UNICODE_CHAR_SHIFT);\n                return encodeURIComponent(charString);\n            });\n        }\n    }\n    return url;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/url/create-uri.js","'use strict';\n\nmodule.exports = {\n    'yandex.ru': true,\n    'yandex.ua': true,\n    'yandex.by': true,\n    'yandex.kz': true,\n    'yandex.net': true,\n    'yandex.com': true,\n    'yandex.com.tr': true,\n    'ya.ru': true,\n    'kinopoisk.ru': true,\n    'auto.ru': true\n};\n\n\n\n// WEBPACK FOOTER //\n// ./utils/url/yandex-domains.js","/**\n * Implementation of url utils for 'urn' type\n */\n'use strict';\n\nvar createURI = require('./create-uri');\n\nvar DATA_URI_REG_EXP = /^data:/;\nvar PROTOCOL_SLASHES_REG_EXP = /:\\/\\//;\n\n/**\n * @param {String} [string]\n * @returns {URI|null}\n */\nexports.createURI = createURI;\n\n/**\n * @param {String} [url]\n * @returns {String}\n */\nexports.getNormalDomain = function (url) {\n    try {\n        var normalUri = createURI(url).normalize();\n        return normalUri.protocol() + ':' + normalUri.path();\n    } catch (e) {\n        return '';\n    }\n};\n\n/**\n * @param {String} [url]\n * @returns {String}\n */\nexports.getReadableUrl = function (url) {\n    try {\n        return createURI(url)\n            .readable()\n            .replace(PROTOCOL_SLASHES_REG_EXP, ':');\n    } catch (e) {\n        return url;\n    }\n};\n\n/**\n * @param {String} [url]\n * @returns {String}\n */\nexports.getReadableDomain = exports.getNormalDomain;\n\n/**\n * @param {String} url\n * @returns {String}\n */\nexports.getNormalPath = function (url) {\n    try {\n        return createURI(url).normalize().path();\n    } catch (e) {\n        return '';\n    }\n};\n\n/**\n * @returns {String}\n */\nexports.getIndexPart = function () {\n    return '';\n};\n\n/**\n * Is url similar to \"foo:bar\" (URN)\n * @returns {Boolean}\n */\nexports.isSpecialUrl = function () {\n    return true;\n};\n\n/**\n * Is passed url remote (has http/ftp protocols)\n * @returns {Boolean}\n */\nexports.isRemote = function () {\n    return false;\n};\n\n/**\n * Is url downloadable (has http/ftp/file protocols)\n * @returns {Boolean}\n */\nexports.isAllowedForDownload = function () {\n    return false;\n};\n\n/**\n * @param {String} url\n * @returns {Boolean}\n */\nexports.isDataUri = function (url) {\n    return DATA_URI_REG_EXP.test(url);\n};\n\n/**\n * Is passed url is top level (without path)\n * @param {String} url\n * @returns {Boolean}\n */\nexports.isIndexPage = function (url) {\n    try {\n        var uri = createURI(url).normalize();\n        return uri.query() === '';\n    } catch (e) {\n        return false;\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./utils/url/urn-impl.js","/**\n * Операции с объектами\n */\n\n'use strict';\n\nmodule.exports = {\n    // todo: remove in favor of _.merge\n    copyOwnProperties: function copyOwnProperties(from, to, deep) {\n        if (typeof from !== 'object' || typeof to !== 'object') {\n            throw new TypeError('Not an object');\n        }\n\n        for (var prop in from) {\n            if (from.hasOwnProperty(prop)) {\n                if (deep && typeof from[prop] === 'object' && from[prop] !== null) {\n                    to[prop] = {};\n                    copyOwnProperties(from[prop], to[prop]);\n                } else {\n                    to[prop] = from[prop];\n                }\n            }\n        }\n\n        return to;\n    },\n\n    /**\n     * Extends passed object with additional data.\n     * Main aim - extend native IE modules.\n     * @param {Object} module\n     * @param {Object} additionalData\n     * @returns {Object}\n     */\n    extendModule: function (module, additionalData) {\n        return Object.keys(module)\n            .reduce(function (newModule, fieldName) {\n                if (!newModule[fieldName]) {\n                    newModule[fieldName] = module[fieldName];\n                }\n                return newModule;\n            }, additionalData);\n    }\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./utils/object.js","/**\n * Избранное из lodash, чтобы не тянуть его целиком\n */\n'use strict';\n\nmodule.exports = {\n    defaults: require('lodash/object/defaults'),\n    groupBy: require('lodash/collection/groupBy'),\n    difference: require('lodash/array/difference'),\n    each: require('lodash/collection/each'),\n    map: require('lodash/collection/map'),\n    max: require('lodash/math/max'),\n    debounce: require('lodash/function/debounce'),\n    create: require('lodash/object/create'),\n    attempt: require('lodash/utility/attempt'),\n    throttle: require('lodash/function/throttle'),\n    values: require('lodash/object/values'),\n    pluck: require('lodash/collection/pluck'),\n    merge: require('lodash/object/merge'),\n    cloneDeep: require('lodash/lang/cloneDeep'),\n    ary: require('lodash/function/ary'),\n    endsWith: require('lodash/string/endsWith'),\n    repeat: require('lodash/string/repeat'),\n    extend: require('lodash/object/extend'),\n    get: require('lodash/object/get'),\n    noop: require('lodash/utility/noop'),\n    findKey: require('lodash/object/findKey'),\n    assign: require('lodash/object/assign'),\n    find: require('lodash/collection/find'),\n    uniq: require('lodash/array/uniq'),\n    isNumber: require('lodash/lang/isNumber'),\n    filter: require('lodash/collection/filter'),\n};\n\n\n\n// WEBPACK FOOTER //\n// ./utils/lodash.js","var assign = require('./assign'),\n    assignDefaults = require('../internal/assignDefaults'),\n    createDefaults = require('../internal/createDefaults');\n\n/**\n * Assigns own enumerable properties of source object(s) to the destination\n * object for all destination properties that resolve to `undefined`. Once a\n * property is set, additional values of the same property are ignored.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * _.defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n * // => { 'user': 'barney', 'age': 36 }\n */\nvar defaults = createDefaults(assign, assignDefaults);\n\nmodule.exports = defaults;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/object/defaults.js\n// module id = 92\n// module chunks = 1","var assignWith = require('../internal/assignWith'),\n    baseAssign = require('../internal/baseAssign'),\n    createAssigner = require('../internal/createAssigner');\n\n/**\n * Assigns own enumerable properties of source object(s) to the destination\n * object. Subsequent sources overwrite property assignments of previous sources.\n * If `customizer` is provided it's invoked to produce the assigned values.\n * The `customizer` is bound to `thisArg` and invoked with five arguments:\n * (objectValue, sourceValue, key, object, source).\n *\n * **Note:** This method mutates `object` and is based on\n * [`Object.assign`](http://ecma-international.org/ecma-262/6.0/#sec-object.assign).\n *\n * @static\n * @memberOf _\n * @alias extend\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {*} [thisArg] The `this` binding of `customizer`.\n * @returns {Object} Returns `object`.\n * @example\n *\n * _.assign({ 'user': 'barney' }, { 'age': 40 }, { 'user': 'fred' });\n * // => { 'user': 'fred', 'age': 40 }\n *\n * // using a customizer callback\n * var defaults = _.partialRight(_.assign, function(value, other) {\n *   return _.isUndefined(value) ? other : value;\n * });\n *\n * defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n * // => { 'user': 'barney', 'age': 36 }\n */\nvar assign = createAssigner(function(object, source, customizer) {\n  return customizer\n    ? assignWith(object, source, customizer)\n    : baseAssign(object, source);\n});\n\nmodule.exports = assign;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/object/assign.js\n// module id = 93\n// module chunks = 1","var keys = require('../object/keys');\n\n/**\n * A specialized version of `_.assign` for customizing assigned values without\n * support for argument juggling, multiple sources, and `this` binding `customizer`\n * functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {Function} customizer The function to customize assigned values.\n * @returns {Object} Returns `object`.\n */\nfunction assignWith(object, source, customizer) {\n  var index = -1,\n      props = keys(source),\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index],\n        value = object[key],\n        result = customizer(value, source[key], key, object, source);\n\n    if ((result === result ? (result !== value) : (value === value)) ||\n        (value === undefined && !(key in object))) {\n      object[key] = result;\n    }\n  }\n  return object;\n}\n\nmodule.exports = assignWith;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/assignWith.js\n// module id = 94\n// module chunks = 1","var baseCopy = require('./baseCopy'),\n    keys = require('../object/keys');\n\n/**\n * The base implementation of `_.assign` without support for argument juggling,\n * multiple sources, and `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return source == null\n    ? object\n    : baseCopy(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseAssign.js\n// module id = 95\n// module chunks = 1","/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property names to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @returns {Object} Returns `object`.\n */\nfunction baseCopy(source, props, object) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n    object[key] = source[key];\n  }\n  return object;\n}\n\nmodule.exports = baseCopy;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseCopy.js\n// module id = 96\n// module chunks = 1","var bindCallback = require('./bindCallback'),\n    isIterateeCall = require('./isIterateeCall'),\n    restParam = require('../function/restParam');\n\n/**\n * Creates a `_.assign`, `_.defaults`, or `_.merge` function.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return restParam(function(object, sources) {\n    var index = -1,\n        length = object == null ? 0 : sources.length,\n        customizer = length > 2 ? sources[length - 2] : undefined,\n        guard = length > 2 ? sources[2] : undefined,\n        thisArg = length > 1 ? sources[length - 1] : undefined;\n\n    if (typeof customizer == 'function') {\n      customizer = bindCallback(customizer, thisArg, 5);\n      length -= 2;\n    } else {\n      customizer = typeof thisArg == 'function' ? thisArg : undefined;\n      length -= (customizer ? 1 : 0);\n    }\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/createAssigner.js\n// module id = 97\n// module chunks = 1","var isArrayLike = require('./isArrayLike'),\n    isIndex = require('./isIndex'),\n    isObject = require('../lang/isObject');\n\n/**\n * Checks if the provided arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n      ? (isArrayLike(object) && isIndex(index, object.length))\n      : (type == 'string' && index in object)) {\n    var other = object[index];\n    return value === value ? (value === other) : (other !== other);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/isIterateeCall.js\n// module id = 98\n// module chunks = 1","/**\n * Used by `_.defaults` to customize its `_.assign` use.\n *\n * @private\n * @param {*} objectValue The destination object property value.\n * @param {*} sourceValue The source object property value.\n * @returns {*} Returns the value to assign to the destination object.\n */\nfunction assignDefaults(objectValue, sourceValue) {\n  return objectValue === undefined ? sourceValue : objectValue;\n}\n\nmodule.exports = assignDefaults;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/assignDefaults.js\n// module id = 99\n// module chunks = 1","var restParam = require('../function/restParam');\n\n/**\n * Creates a `_.defaults` or `_.defaultsDeep` function.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @param {Function} customizer The function to customize assigned values.\n * @returns {Function} Returns the new defaults function.\n */\nfunction createDefaults(assigner, customizer) {\n  return restParam(function(args) {\n    var object = args[0];\n    if (object == null) {\n      return object;\n    }\n    args.push(customizer);\n    return assigner.apply(undefined, args);\n  });\n}\n\nmodule.exports = createDefaults;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/createDefaults.js\n// module id = 100\n// module chunks = 1","var createAggregator = require('../internal/createAggregator');\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` through `iteratee`. The corresponding value\n * of each key is an array of the elements responsible for generating the key.\n * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n * (value, index|key, collection).\n *\n * If a property name is provided for `iteratee` the created `_.property`\n * style callback returns the property value of the given element.\n *\n * If a value is also provided for `thisArg` the created `_.matchesProperty`\n * style callback returns `true` for elements that have a matching property\n * value, else `false`.\n *\n * If an object is provided for `iteratee` the created `_.matches` style\n * callback returns `true` for elements that have the properties of the given\n * object, else `false`.\n *\n * @static\n * @memberOf _\n * @category Collection\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n *  per iteration.\n * @param {*} [thisArg] The `this` binding of `iteratee`.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([4.2, 6.1, 6.4], function(n) {\n *   return Math.floor(n);\n * });\n * // => { '4': [4.2], '6': [6.1, 6.4] }\n *\n * _.groupBy([4.2, 6.1, 6.4], function(n) {\n *   return this.floor(n);\n * }, Math);\n * // => { '4': [4.2], '6': [6.1, 6.4] }\n *\n * // using the `_.property` callback shorthand\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    result[key] = [value];\n  }\n});\n\nmodule.exports = groupBy;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/collection/groupBy.js\n// module id = 101\n// module chunks = 1","var baseCallback = require('./baseCallback'),\n    baseEach = require('./baseEach'),\n    isArray = require('../lang/isArray');\n\n/**\n * Creates a `_.countBy`, `_.groupBy`, `_.indexBy`, or `_.partition` function.\n *\n * @private\n * @param {Function} setter The function to set keys and values of the accumulator object.\n * @param {Function} [initializer] The function to initialize the accumulator object.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee, thisArg) {\n    var result = initializer ? initializer() : {};\n    iteratee = baseCallback(iteratee, thisArg, 3);\n\n    if (isArray(collection)) {\n      var index = -1,\n          length = collection.length;\n\n      while (++index < length) {\n        var value = collection[index];\n        setter(result, value, iteratee(value, index, collection), collection);\n      }\n    } else {\n      baseEach(collection, function(value, key, collection) {\n        setter(result, value, iteratee(value, key, collection), collection);\n      });\n    }\n    return result;\n  };\n}\n\nmodule.exports = createAggregator;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/createAggregator.js\n// module id = 102\n// module chunks = 1","var baseMatches = require('./baseMatches'),\n    baseMatchesProperty = require('./baseMatchesProperty'),\n    bindCallback = require('./bindCallback'),\n    identity = require('../utility/identity'),\n    property = require('../utility/property');\n\n/**\n * The base implementation of `_.callback` which supports specifying the\n * number of arguments to provide to `func`.\n *\n * @private\n * @param {*} [func=_.identity] The value to convert to a callback.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {number} [argCount] The number of arguments to provide to `func`.\n * @returns {Function} Returns the callback.\n */\nfunction baseCallback(func, thisArg, argCount) {\n  var type = typeof func;\n  if (type == 'function') {\n    return thisArg === undefined\n      ? func\n      : bindCallback(func, thisArg, argCount);\n  }\n  if (func == null) {\n    return identity;\n  }\n  if (type == 'object') {\n    return baseMatches(func);\n  }\n  return thisArg === undefined\n    ? property(func)\n    : baseMatchesProperty(func, thisArg);\n}\n\nmodule.exports = baseCallback;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseCallback.js\n// module id = 103\n// module chunks = 1","var baseIsMatch = require('./baseIsMatch'),\n    getMatchData = require('./getMatchData'),\n    toObject = require('./toObject');\n\n/**\n * The base implementation of `_.matches` which does not clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    var key = matchData[0][0],\n        value = matchData[0][1];\n\n    return function(object) {\n      if (object == null) {\n        return false;\n      }\n      return object[key] === value && (value !== undefined || (key in toObject(object)));\n    };\n  }\n  return function(object) {\n    return baseIsMatch(object, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseMatches.js\n// module id = 104\n// module chunks = 1","var baseIsEqual = require('./baseIsEqual'),\n    toObject = require('./toObject');\n\n/**\n * The base implementation of `_.isMatch` without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Array} matchData The propery names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparing objects.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = toObject(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var result = customizer ? customizer(objValue, srcValue, key) : undefined;\n      if (!(result === undefined ? baseIsEqual(srcValue, objValue, customizer, true) : result)) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseIsMatch.js\n// module id = 105\n// module chunks = 1","var baseIsEqualDeep = require('./baseIsEqualDeep'),\n    isObject = require('../lang/isObject'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` without support for `this` binding\n * `customizer` functions.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [customizer] The function to customize comparing values.\n * @param {boolean} [isLoose] Specify performing partial comparisons.\n * @param {Array} [stackA] Tracks traversed `value` objects.\n * @param {Array} [stackB] Tracks traversed `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, customizer, isLoose, stackA, stackB) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObject(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, baseIsEqual, customizer, isLoose, stackA, stackB);\n}\n\nmodule.exports = baseIsEqual;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseIsEqual.js\n// module id = 106\n// module chunks = 1","var equalArrays = require('./equalArrays'),\n    equalByTag = require('./equalByTag'),\n    equalObjects = require('./equalObjects'),\n    isArray = require('../lang/isArray'),\n    isTypedArray = require('../lang/isTypedArray');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparing objects.\n * @param {boolean} [isLoose] Specify performing partial comparisons.\n * @param {Array} [stackA=[]] Tracks traversed `value` objects.\n * @param {Array} [stackB=[]] Tracks traversed `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = arrayTag,\n      othTag = arrayTag;\n\n  if (!objIsArr) {\n    objTag = objToString.call(object);\n    if (objTag == argsTag) {\n      objTag = objectTag;\n    } else if (objTag != objectTag) {\n      objIsArr = isTypedArray(object);\n    }\n  }\n  if (!othIsArr) {\n    othTag = objToString.call(other);\n    if (othTag == argsTag) {\n      othTag = objectTag;\n    } else if (othTag != objectTag) {\n      othIsArr = isTypedArray(other);\n    }\n  }\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && !(objIsArr || objIsObj)) {\n    return equalByTag(object, other, objTag);\n  }\n  if (!isLoose) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      return equalFunc(objIsWrapped ? object.value() : object, othIsWrapped ? other.value() : other, customizer, isLoose, stackA, stackB);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  // For more information on detecting circular references see https://es5.github.io/#JO.\n  stackA || (stackA = []);\n  stackB || (stackB = []);\n\n  var length = stackA.length;\n  while (length--) {\n    if (stackA[length] == object) {\n      return stackB[length] == other;\n    }\n  }\n  // Add `object` and `other` to the stack of traversed objects.\n  stackA.push(object);\n  stackB.push(other);\n\n  var result = (objIsArr ? equalArrays : equalObjects)(object, other, equalFunc, customizer, isLoose, stackA, stackB);\n\n  stackA.pop();\n  stackB.pop();\n\n  return result;\n}\n\nmodule.exports = baseIsEqualDeep;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseIsEqualDeep.js\n// module id = 107\n// module chunks = 1","var arraySome = require('./arraySome');\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparing arrays.\n * @param {boolean} [isLoose] Specify performing partial comparisons.\n * @param {Array} [stackA] Tracks traversed `value` objects.\n * @param {Array} [stackB] Tracks traversed `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, equalFunc, customizer, isLoose, stackA, stackB) {\n  var index = -1,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isLoose && othLength > arrLength)) {\n    return false;\n  }\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index],\n        result = customizer ? customizer(isLoose ? othValue : arrValue, isLoose ? arrValue : othValue, index) : undefined;\n\n    if (result !== undefined) {\n      if (result) {\n        continue;\n      }\n      return false;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (isLoose) {\n      if (!arraySome(other, function(othValue) {\n            return arrValue === othValue || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB);\n          })) {\n        return false;\n      }\n    } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB))) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = equalArrays;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/equalArrays.js\n// module id = 108\n// module chunks = 1","/**\n * A specialized version of `_.some` for arrays without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/arraySome.js\n// module id = 109\n// module chunks = 1","/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    stringTag = '[object String]';\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag) {\n  switch (tag) {\n    case boolTag:\n    case dateTag:\n      // Coerce dates and booleans to numbers, dates to milliseconds and booleans\n      // to `1` or `0` treating invalid dates coerced to `NaN` as not equal.\n      return +object == +other;\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case numberTag:\n      // Treat `NaN` vs. `NaN` as equal.\n      return (object != +object)\n        ? other != +other\n        : object == +other;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings primitives and string\n      // objects as equal. See https://es5.github.io/#x15.10.6.4 for more details.\n      return object == (other + '');\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/equalByTag.js\n// module id = 110\n// module chunks = 1","var keys = require('../object/keys');\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparing values.\n * @param {boolean} [isLoose] Specify performing partial comparisons.\n * @param {Array} [stackA] Tracks traversed `value` objects.\n * @param {Array} [stackB] Tracks traversed `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n  var objProps = keys(object),\n      objLength = objProps.length,\n      othProps = keys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isLoose) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isLoose ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  var skipCtor = isLoose;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key],\n        result = customizer ? customizer(isLoose ? othValue : objValue, isLoose? objValue : othValue, key) : undefined;\n\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(result === undefined ? equalFunc(objValue, othValue, customizer, isLoose, stackA, stackB) : result)) {\n      return false;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (!skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = equalObjects;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/equalObjects.js\n// module id = 111\n// module chunks = 1","var isLength = require('../internal/isLength'),\n    isObjectLike = require('../internal/isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dateTag] = typedArrayTags[errorTag] =\ntypedArrayTags[funcTag] = typedArrayTags[mapTag] =\ntypedArrayTags[numberTag] = typedArrayTags[objectTag] =\ntypedArrayTags[regexpTag] = typedArrayTags[setTag] =\ntypedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nfunction isTypedArray(value) {\n  return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objToString.call(value)];\n}\n\nmodule.exports = isTypedArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/lang/isTypedArray.js\n// module id = 112\n// module chunks = 1","var isStrictComparable = require('./isStrictComparable'),\n    pairs = require('../object/pairs');\n\n/**\n * Gets the propery names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = pairs(object),\n      length = result.length;\n\n  while (length--) {\n    result[length][2] = isStrictComparable(result[length][1]);\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/getMatchData.js\n// module id = 113\n// module chunks = 1","var isObject = require('../lang/isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/isStrictComparable.js\n// module id = 114\n// module chunks = 1","var keys = require('./keys'),\n    toObject = require('../internal/toObject');\n\n/**\n * Creates a two dimensional array of the key-value pairs for `object`,\n * e.g. `[[key1, value1], [key2, value2]]`.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the new array of key-value pairs.\n * @example\n *\n * _.pairs({ 'barney': 36, 'fred': 40 });\n * // => [['barney', 36], ['fred', 40]] (iteration order is not guaranteed)\n */\nfunction pairs(object) {\n  object = toObject(object);\n\n  var index = -1,\n      props = keys(object),\n      length = props.length,\n      result = Array(length);\n\n  while (++index < length) {\n    var key = props[index];\n    result[index] = [key, object[key]];\n  }\n  return result;\n}\n\nmodule.exports = pairs;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/object/pairs.js\n// module id = 115\n// module chunks = 1","var baseGet = require('./baseGet'),\n    baseIsEqual = require('./baseIsEqual'),\n    baseSlice = require('./baseSlice'),\n    isArray = require('../lang/isArray'),\n    isKey = require('./isKey'),\n    isStrictComparable = require('./isStrictComparable'),\n    last = require('../array/last'),\n    toObject = require('./toObject'),\n    toPath = require('./toPath');\n\n/**\n * The base implementation of `_.matchesProperty` which does not clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to compare.\n * @returns {Function} Returns the new function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  var isArr = isArray(path),\n      isCommon = isKey(path) && isStrictComparable(srcValue),\n      pathKey = (path + '');\n\n  path = toPath(path);\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    var key = pathKey;\n    object = toObject(object);\n    if ((isArr || !isCommon) && !(key in object)) {\n      object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n      if (object == null) {\n        return false;\n      }\n      key = last(path);\n      object = toObject(object);\n    }\n    return object[key] === srcValue\n      ? (srcValue !== undefined || (key in object))\n      : baseIsEqual(srcValue, object[key], undefined, true);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseMatchesProperty.js\n// module id = 116\n// module chunks = 1","var toObject = require('./toObject');\n\n/**\n * The base implementation of `get` without support for string paths\n * and default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path of the property to get.\n * @param {string} [pathKey] The key representation of path.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path, pathKey) {\n  if (object == null) {\n    return;\n  }\n  if (pathKey !== undefined && pathKey in toObject(object)) {\n    path = [pathKey];\n  }\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[path[index++]];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseGet.js\n// module id = 117\n// module chunks = 1","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  start = start == null ? 0 : (+start || 0);\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = (end === undefined || end > length) ? length : (+end || 0);\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseSlice.js\n// module id = 118\n// module chunks = 1","var isArray = require('../lang/isArray'),\n    toObject = require('./toObject');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  var type = typeof value;\n  if ((type == 'string' && reIsPlainProp.test(value)) || type == 'number') {\n    return true;\n  }\n  if (isArray(value)) {\n    return false;\n  }\n  var result = !reIsDeepProp.test(value);\n  return result || (object != null && value in toObject(object));\n}\n\nmodule.exports = isKey;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/isKey.js\n// module id = 119\n// module chunks = 1","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array ? array.length : 0;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/array/last.js\n// module id = 120\n// module chunks = 1","var baseToString = require('./baseToString'),\n    isArray = require('../lang/isArray');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `value` to property path array if it's not one.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {Array} Returns the property path array.\n */\nfunction toPath(value) {\n  if (isArray(value)) {\n    return value;\n  }\n  var result = [];\n  baseToString(value).replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n}\n\nmodule.exports = toPath;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/toPath.js\n// module id = 121\n// module chunks = 1","/**\n * Converts `value` to a string if it's not one. An empty string is returned\n * for `null` or `undefined` values.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  return value == null ? '' : (value + '');\n}\n\nmodule.exports = baseToString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseToString.js\n// module id = 122\n// module chunks = 1","var baseProperty = require('../internal/baseProperty'),\n    basePropertyDeep = require('../internal/basePropertyDeep'),\n    isKey = require('../internal/isKey');\n\n/**\n * Creates a function that returns the property value at `path` on a\n * given object.\n *\n * @static\n * @memberOf _\n * @category Utility\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': { 'c': 2 } } },\n *   { 'a': { 'b': { 'c': 1 } } }\n * ];\n *\n * _.map(objects, _.property('a.b.c'));\n * // => [2, 1]\n *\n * _.pluck(_.sortBy(objects, _.property(['a', 'b', 'c'])), 'a.b.c');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(path) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/utility/property.js\n// module id = 123\n// module chunks = 1","var baseGet = require('./baseGet'),\n    toPath = require('./toPath');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction basePropertyDeep(path) {\n  var pathKey = (path + '');\n  path = toPath(path);\n  return function(object) {\n    return baseGet(object, path, pathKey);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/basePropertyDeep.js\n// module id = 124\n// module chunks = 1","var baseForOwn = require('./baseForOwn'),\n    createBaseEach = require('./createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object|string} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseEach.js\n// module id = 125\n// module chunks = 1","var baseFor = require('./baseFor'),\n    keys = require('../object/keys');\n\n/**\n * The base implementation of `_.forOwn` without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseForOwn.js\n// module id = 126\n// module chunks = 1","var getLength = require('./getLength'),\n    isLength = require('./isLength'),\n    toObject = require('./toObject');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    var length = collection ? getLength(collection) : 0;\n    if (!isLength(length)) {\n      return eachFunc(collection, iteratee);\n    }\n    var index = fromRight ? length : -1,\n        iterable = toObject(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/createBaseEach.js\n// module id = 127\n// module chunks = 1","var baseDifference = require('../internal/baseDifference'),\n    baseFlatten = require('../internal/baseFlatten'),\n    isArrayLike = require('../internal/isArrayLike'),\n    isObjectLike = require('../internal/isObjectLike'),\n    restParam = require('../function/restParam');\n\n/**\n * Creates an array of unique `array` values not included in the other\n * provided arrays using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @static\n * @memberOf _\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The arrays of values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * _.difference([1, 2, 3], [4, 2]);\n * // => [1, 3]\n */\nvar difference = restParam(function(array, values) {\n  return (isObjectLike(array) && isArrayLike(array))\n    ? baseDifference(array, baseFlatten(values, false, true))\n    : [];\n});\n\nmodule.exports = difference;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/array/difference.js\n// module id = 128\n// module chunks = 1","var baseIndexOf = require('./baseIndexOf'),\n    cacheIndexOf = require('./cacheIndexOf'),\n    createCache = require('./createCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.difference` which accepts a single array\n * of values to exclude.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values) {\n  var length = array ? array.length : 0,\n      result = [];\n\n  if (!length) {\n    return result;\n  }\n  var index = -1,\n      indexOf = baseIndexOf,\n      isCommon = true,\n      cache = (isCommon && values.length >= LARGE_ARRAY_SIZE) ? createCache(values) : null,\n      valuesLength = values.length;\n\n  if (cache) {\n    indexOf = cacheIndexOf;\n    isCommon = false;\n    values = cache;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index];\n\n    if (isCommon && value === value) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === value) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (indexOf(values, value, 0) < 0) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseDifference.js\n// module id = 129\n// module chunks = 1","var indexOfNaN = require('./indexOfNaN');\n\n/**\n * The base implementation of `_.indexOf` without support for binary searches.\n *\n * @private\n * @param {Array} array The array to search.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  if (value !== value) {\n    return indexOfNaN(array, fromIndex);\n  }\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseIndexOf;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseIndexOf.js\n// module id = 130\n// module chunks = 1","/**\n * Gets the index at which the first occurrence of `NaN` is found in `array`.\n *\n * @private\n * @param {Array} array The array to search.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched `NaN`, else `-1`.\n */\nfunction indexOfNaN(array, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 0 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    var other = array[index];\n    if (other !== other) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = indexOfNaN;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/indexOfNaN.js\n// module id = 131\n// module chunks = 1","var isObject = require('../lang/isObject');\n\n/**\n * Checks if `value` is in `cache` mimicking the return signature of\n * `_.indexOf` by returning `0` if the value is found, else `-1`.\n *\n * @private\n * @param {Object} cache The cache to search.\n * @param {*} value The value to search for.\n * @returns {number} Returns `0` if `value` is found, else `-1`.\n */\nfunction cacheIndexOf(cache, value) {\n  var data = cache.data,\n      result = (typeof value == 'string' || isObject(value)) ? data.set.has(value) : data.hash[value];\n\n  return result ? 0 : -1;\n}\n\nmodule.exports = cacheIndexOf;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/cacheIndexOf.js\n// module id = 132\n// module chunks = 1","var SetCache = require('./SetCache'),\n    getNative = require('./getNative');\n\n/** Native method references. */\nvar Set = getNative(global, 'Set');\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeCreate = getNative(Object, 'create');\n\n/**\n * Creates a `Set` cache object to optimize linear searches of large arrays.\n *\n * @private\n * @param {Array} [values] The values to cache.\n * @returns {null|Object} Returns the new cache object if `Set` is supported, else `null`.\n */\nfunction createCache(values) {\n  return (nativeCreate && Set) ? new SetCache(values) : null;\n}\n\nmodule.exports = createCache;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/createCache.js\n// module id = 133\n// module chunks = 1","var cachePush = require('./cachePush'),\n    getNative = require('./getNative');\n\n/** Native method references. */\nvar Set = getNative(global, 'Set');\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeCreate = getNative(Object, 'create');\n\n/**\n *\n * Creates a cache object to store unique values.\n *\n * @private\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var length = values ? values.length : 0;\n\n  this.data = { 'hash': nativeCreate(null), 'set': new Set };\n  while (length--) {\n    this.push(values[length]);\n  }\n}\n\n// Add functions to the `Set` cache.\nSetCache.prototype.push = cachePush;\n\nmodule.exports = SetCache;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/SetCache.js\n// module id = 134\n// module chunks = 1","var isObject = require('../lang/isObject');\n\n/**\n * Adds `value` to the cache.\n *\n * @private\n * @name push\n * @memberOf SetCache\n * @param {*} value The value to cache.\n */\nfunction cachePush(value) {\n  var data = this.data;\n  if (typeof value == 'string' || isObject(value)) {\n    data.set.add(value);\n  } else {\n    data.hash[value] = true;\n  }\n}\n\nmodule.exports = cachePush;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/cachePush.js\n// module id = 135\n// module chunks = 1","module.exports = require('./forEach');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/collection/each.js\n// module id = 136\n// module chunks = 1","var arrayEach = require('../internal/arrayEach'),\n    baseEach = require('../internal/baseEach'),\n    createForEach = require('../internal/createForEach');\n\n/**\n * Iterates over elements of `collection` invoking `iteratee` for each element.\n * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n * (value, index|key, collection). Iteratee functions may exit iteration early\n * by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\" property\n * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n * may be used for object iteration.\n *\n * @static\n * @memberOf _\n * @alias each\n * @category Collection\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [thisArg] The `this` binding of `iteratee`.\n * @returns {Array|Object|string} Returns `collection`.\n * @example\n *\n * _([1, 2]).forEach(function(n) {\n *   console.log(n);\n * }).value();\n * // => logs each value from left to right and returns the array\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(n, key) {\n *   console.log(n, key);\n * });\n * // => logs each value-key pair and returns the object (iteration order is not guaranteed)\n */\nvar forEach = createForEach(arrayEach, baseEach);\n\nmodule.exports = forEach;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/collection/forEach.js\n// module id = 137\n// module chunks = 1","/**\n * A specialized version of `_.forEach` for arrays without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/arrayEach.js\n// module id = 138\n// module chunks = 1","var bindCallback = require('./bindCallback'),\n    isArray = require('../lang/isArray');\n\n/**\n * Creates a function for `_.forEach` or `_.forEachRight`.\n *\n * @private\n * @param {Function} arrayFunc The function to iterate over an array.\n * @param {Function} eachFunc The function to iterate over a collection.\n * @returns {Function} Returns the new each function.\n */\nfunction createForEach(arrayFunc, eachFunc) {\n  return function(collection, iteratee, thisArg) {\n    return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n      ? arrayFunc(collection, iteratee)\n      : eachFunc(collection, bindCallback(iteratee, thisArg, 3));\n  };\n}\n\nmodule.exports = createForEach;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/createForEach.js\n// module id = 139\n// module chunks = 1","var arrayMap = require('../internal/arrayMap'),\n    baseCallback = require('../internal/baseCallback'),\n    baseMap = require('../internal/baseMap'),\n    isArray = require('../lang/isArray');\n\n/**\n * Creates an array of values by running each element in `collection` through\n * `iteratee`. The `iteratee` is bound to `thisArg` and invoked with three\n * arguments: (value, index|key, collection).\n *\n * If a property name is provided for `iteratee` the created `_.property`\n * style callback returns the property value of the given element.\n *\n * If a value is also provided for `thisArg` the created `_.matchesProperty`\n * style callback returns `true` for elements that have a matching property\n * value, else `false`.\n *\n * If an object is provided for `iteratee` the created `_.matches` style\n * callback returns `true` for elements that have the properties of the given\n * object, else `false`.\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `callback`, `chunk`, `clone`, `create`, `curry`, `curryRight`,\n * `drop`, `dropRight`, `every`, `fill`, `flatten`, `invert`, `max`, `min`,\n * `parseInt`, `slice`, `sortBy`, `take`, `takeRight`, `template`, `trim`,\n * `trimLeft`, `trimRight`, `trunc`, `random`, `range`, `sample`, `some`,\n * `sum`, `uniq`, and `words`\n *\n * @static\n * @memberOf _\n * @alias collect\n * @category Collection\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n *  per iteration.\n * @param {*} [thisArg] The `this` binding of `iteratee`.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function timesThree(n) {\n *   return n * 3;\n * }\n *\n * _.map([1, 2], timesThree);\n * // => [3, 6]\n *\n * _.map({ 'a': 1, 'b': 2 }, timesThree);\n * // => [3, 6] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // using the `_.property` callback shorthand\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee, thisArg) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  iteratee = baseCallback(iteratee, thisArg, 3);\n  return func(collection, iteratee);\n}\n\nmodule.exports = map;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/collection/map.js\n// module id = 140\n// module chunks = 1","/**\n * A specialized version of `_.map` for arrays without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/arrayMap.js\n// module id = 141\n// module chunks = 1","var baseEach = require('./baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for callback shorthands\n * and `this` binding.\n *\n * @private\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseMap.js\n// module id = 142\n// module chunks = 1","var createExtremum = require('../internal/createExtremum'),\n    gt = require('../lang/gt');\n\n/** Used as references for `-Infinity` and `Infinity`. */\nvar NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY;\n\n/**\n * Gets the maximum value of `collection`. If `collection` is empty or falsey\n * `-Infinity` is returned. If an iteratee function is provided it's invoked\n * for each value in `collection` to generate the criterion by which the value\n * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n * arguments: (value, index, collection).\n *\n * If a property name is provided for `iteratee` the created `_.property`\n * style callback returns the property value of the given element.\n *\n * If a value is also provided for `thisArg` the created `_.matchesProperty`\n * style callback returns `true` for elements that have a matching property\n * value, else `false`.\n *\n * If an object is provided for `iteratee` the created `_.matches` style\n * callback returns `true` for elements that have the properties of the given\n * object, else `false`.\n *\n * @static\n * @memberOf _\n * @category Math\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n * @param {*} [thisArg] The `this` binding of `iteratee`.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => -Infinity\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 40 }\n * ];\n *\n * _.max(users, function(chr) {\n *   return chr.age;\n * });\n * // => { 'user': 'fred', 'age': 40 }\n *\n * // using the `_.property` callback shorthand\n * _.max(users, 'age');\n * // => { 'user': 'fred', 'age': 40 }\n */\nvar max = createExtremum(gt, NEGATIVE_INFINITY);\n\nmodule.exports = max;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/math/max.js\n// module id = 143\n// module chunks = 1","var arrayExtremum = require('./arrayExtremum'),\n    baseCallback = require('./baseCallback'),\n    baseExtremum = require('./baseExtremum'),\n    isArray = require('../lang/isArray'),\n    isIterateeCall = require('./isIterateeCall'),\n    toIterable = require('./toIterable');\n\n/**\n * Creates a `_.max` or `_.min` function.\n *\n * @private\n * @param {Function} comparator The function used to compare values.\n * @param {*} exValue The initial extremum value.\n * @returns {Function} Returns the new extremum function.\n */\nfunction createExtremum(comparator, exValue) {\n  return function(collection, iteratee, thisArg) {\n    if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n      iteratee = undefined;\n    }\n    iteratee = baseCallback(iteratee, thisArg, 3);\n    if (iteratee.length == 1) {\n      collection = isArray(collection) ? collection : toIterable(collection);\n      var result = arrayExtremum(collection, iteratee, comparator, exValue);\n      if (!(collection.length && result === exValue)) {\n        return result;\n      }\n    }\n    return baseExtremum(collection, iteratee, comparator, exValue);\n  };\n}\n\nmodule.exports = createExtremum;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/createExtremum.js\n// module id = 144\n// module chunks = 1","/**\n * A specialized version of `baseExtremum` for arrays which invokes `iteratee`\n * with one argument: (value).\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} comparator The function used to compare values.\n * @param {*} exValue The initial extremum value.\n * @returns {*} Returns the extremum value.\n */\nfunction arrayExtremum(array, iteratee, comparator, exValue) {\n  var index = -1,\n      length = array.length,\n      computed = exValue,\n      result = computed;\n\n  while (++index < length) {\n    var value = array[index],\n        current = +iteratee(value);\n\n    if (comparator(current, computed)) {\n      computed = current;\n      result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayExtremum;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/arrayExtremum.js\n// module id = 145\n// module chunks = 1","var baseEach = require('./baseEach');\n\n/**\n * Gets the extremum value of `collection` invoking `iteratee` for each value\n * in `collection` to generate the criterion by which the value is ranked.\n * The `iteratee` is invoked with three arguments: (value, index|key, collection).\n *\n * @private\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} comparator The function used to compare values.\n * @param {*} exValue The initial extremum value.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(collection, iteratee, comparator, exValue) {\n  var computed = exValue,\n      result = computed;\n\n  baseEach(collection, function(value, index, collection) {\n    var current = +iteratee(value, index, collection);\n    if (comparator(current, computed) || (current === exValue && current === result)) {\n      computed = current;\n      result = value;\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseExtremum;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseExtremum.js\n// module id = 146\n// module chunks = 1","var isArrayLike = require('./isArrayLike'),\n    isObject = require('../lang/isObject'),\n    values = require('../object/values');\n\n/**\n * Converts `value` to an array-like object if it's not one.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {Array|Object} Returns the array-like object.\n */\nfunction toIterable(value) {\n  if (value == null) {\n    return [];\n  }\n  if (!isArrayLike(value)) {\n    return values(value);\n  }\n  return isObject(value) ? value : Object(value);\n}\n\nmodule.exports = toIterable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/toIterable.js\n// module id = 147\n// module chunks = 1","/**\n * Checks if `value` is greater than `other`.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`, else `false`.\n * @example\n *\n * _.gt(3, 1);\n * // => true\n *\n * _.gt(3, 3);\n * // => false\n *\n * _.gt(1, 3);\n * // => false\n */\nfunction gt(value, other) {\n  return value > other;\n}\n\nmodule.exports = gt;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/lang/gt.js\n// module id = 148\n// module chunks = 1","var isObject = require('../lang/isObject'),\n    now = require('../date/now');\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed invocations. Provide an options object to indicate that `func`\n * should be invoked on the leading and/or trailing edge of the `wait` timeout.\n * Subsequent calls to the debounced function return the result of the last\n * `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n * on the trailing edge of the timeout only if the the debounced function is\n * invoked more than once during the `wait` timeout.\n *\n * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options] The options object.\n * @param {boolean} [options.leading=false] Specify invoking on the leading\n *  edge of the timeout.\n * @param {number} [options.maxWait] The maximum time `func` is allowed to be\n *  delayed before it's invoked.\n * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n *  edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // avoid costly calculations while the window size is in flux\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // invoke `sendMail` when the click event is fired, debouncing subsequent calls\n * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // ensure `batchLog` is invoked once after 1 second of debounced calls\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', _.debounce(batchLog, 250, {\n *   'maxWait': 1000\n * }));\n *\n * // cancel a debounced call\n * var todoChanges = _.debounce(batchLog, 1000);\n * Object.observe(models.todo, todoChanges);\n *\n * Object.observe(models, function(changes) {\n *   if (_.find(changes, { 'user': 'todo', 'type': 'delete'})) {\n *     todoChanges.cancel();\n *   }\n * }, ['delete']);\n *\n * // ...at some point `models.todo` is changed\n * models.todo.completed = true;\n *\n * // ...before 1 second has passed `models.todo` is deleted\n * // which cancels the debounced `todoChanges` call\n * delete models.todo;\n */\nfunction debounce(func, wait, options) {\n  var args,\n      maxTimeoutId,\n      result,\n      stamp,\n      thisArg,\n      timeoutId,\n      trailingCall,\n      lastCalled = 0,\n      maxWait = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = wait < 0 ? 0 : (+wait || 0);\n  if (options === true) {\n    var leading = true;\n    trailing = false;\n  } else if (isObject(options)) {\n    leading = !!options.leading;\n    maxWait = 'maxWait' in options && nativeMax(+options.maxWait || 0, wait);\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function cancel() {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n    if (maxTimeoutId) {\n      clearTimeout(maxTimeoutId);\n    }\n    lastCalled = 0;\n    maxTimeoutId = timeoutId = trailingCall = undefined;\n  }\n\n  function complete(isCalled, id) {\n    if (id) {\n      clearTimeout(id);\n    }\n    maxTimeoutId = timeoutId = trailingCall = undefined;\n    if (isCalled) {\n      lastCalled = now();\n      result = func.apply(thisArg, args);\n      if (!timeoutId && !maxTimeoutId) {\n        args = thisArg = undefined;\n      }\n    }\n  }\n\n  function delayed() {\n    var remaining = wait - (now() - stamp);\n    if (remaining <= 0 || remaining > wait) {\n      complete(trailingCall, maxTimeoutId);\n    } else {\n      timeoutId = setTimeout(delayed, remaining);\n    }\n  }\n\n  function maxDelayed() {\n    complete(trailing, timeoutId);\n  }\n\n  function debounced() {\n    args = arguments;\n    stamp = now();\n    thisArg = this;\n    trailingCall = trailing && (timeoutId || !leading);\n\n    if (maxWait === false) {\n      var leadingCall = leading && !timeoutId;\n    } else {\n      if (!maxTimeoutId && !leading) {\n        lastCalled = stamp;\n      }\n      var remaining = maxWait - (stamp - lastCalled),\n          isCalled = remaining <= 0 || remaining > maxWait;\n\n      if (isCalled) {\n        if (maxTimeoutId) {\n          maxTimeoutId = clearTimeout(maxTimeoutId);\n        }\n        lastCalled = stamp;\n        result = func.apply(thisArg, args);\n      }\n      else if (!maxTimeoutId) {\n        maxTimeoutId = setTimeout(maxDelayed, remaining);\n      }\n    }\n    if (isCalled && timeoutId) {\n      timeoutId = clearTimeout(timeoutId);\n    }\n    else if (!timeoutId && wait !== maxWait) {\n      timeoutId = setTimeout(delayed, wait);\n    }\n    if (leadingCall) {\n      isCalled = true;\n      result = func.apply(thisArg, args);\n    }\n    if (isCalled && !timeoutId && !maxTimeoutId) {\n      args = thisArg = undefined;\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  return debounced;\n}\n\nmodule.exports = debounce;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/function/debounce.js\n// module id = 149\n// module chunks = 1","var getNative = require('../internal/getNative');\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeNow = getNative(Date, 'now');\n\n/**\n * Gets the number of milliseconds that have elapsed since the Unix epoch\n * (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @category Date\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => logs the number of milliseconds it took for the deferred function to be invoked\n */\nvar now = nativeNow || function() {\n  return new Date().getTime();\n};\n\nmodule.exports = now;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/date/now.js\n// module id = 150\n// module chunks = 1","var baseAssign = require('../internal/baseAssign'),\n    baseCreate = require('../internal/baseCreate'),\n    isIterateeCall = require('../internal/isIterateeCall');\n\n/**\n * Creates an object that inherits from the given `prototype` object. If a\n * `properties` object is provided its own enumerable properties are assigned\n * to the created object.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} prototype The object to inherit from.\n * @param {Object} [properties] The properties to assign to the object.\n * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n * @returns {Object} Returns the new object.\n * @example\n *\n * function Shape() {\n *   this.x = 0;\n *   this.y = 0;\n * }\n *\n * function Circle() {\n *   Shape.call(this);\n * }\n *\n * Circle.prototype = _.create(Shape.prototype, {\n *   'constructor': Circle\n * });\n *\n * var circle = new Circle;\n * circle instanceof Circle;\n * // => true\n *\n * circle instanceof Shape;\n * // => true\n */\nfunction create(prototype, properties, guard) {\n  var result = baseCreate(prototype);\n  if (guard && isIterateeCall(prototype, properties, guard)) {\n    properties = undefined;\n  }\n  return properties ? baseAssign(result, properties) : result;\n}\n\nmodule.exports = create;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/object/create.js\n// module id = 151\n// module chunks = 1","var isObject = require('../lang/isObject');\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(prototype) {\n    if (isObject(prototype)) {\n      object.prototype = prototype;\n      var result = new object;\n      object.prototype = undefined;\n    }\n    return result || {};\n  };\n}());\n\nmodule.exports = baseCreate;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseCreate.js\n// module id = 152\n// module chunks = 1","var isError = require('../lang/isError'),\n    restParam = require('../function/restParam');\n\n/**\n * Attempts to invoke `func`, returning either the result or the caught error\n * object. Any additional arguments are provided to `func` when it's invoked.\n *\n * @static\n * @memberOf _\n * @category Utility\n * @param {Function} func The function to attempt.\n * @returns {*} Returns the `func` result or error object.\n * @example\n *\n * // avoid throwing errors for invalid selectors\n * var elements = _.attempt(function(selector) {\n *   return document.querySelectorAll(selector);\n * }, '>_>');\n *\n * if (_.isError(elements)) {\n *   elements = [];\n * }\n */\nvar attempt = restParam(function(func, args) {\n  try {\n    return func.apply(undefined, args);\n  } catch(e) {\n    return isError(e) ? e : new Error(e);\n  }\n});\n\nmodule.exports = attempt;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/utility/attempt.js\n// module id = 153\n// module chunks = 1","var isObjectLike = require('../internal/isObjectLike');\n\n/** `Object#toString` result references. */\nvar errorTag = '[object Error]';\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/**\n * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n * `SyntaxError`, `TypeError`, or `URIError` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n * @example\n *\n * _.isError(new Error);\n * // => true\n *\n * _.isError(Error);\n * // => false\n */\nfunction isError(value) {\n  return isObjectLike(value) && typeof value.message == 'string' && objToString.call(value) == errorTag;\n}\n\nmodule.exports = isError;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/lang/isError.js\n// module id = 154\n// module chunks = 1","var debounce = require('./debounce'),\n    isObject = require('../lang/isObject');\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed invocations. Provide an options object to indicate\n * that `func` should be invoked on the leading and/or trailing edge of the\n * `wait` timeout. Subsequent calls to the throttled function return the\n * result of the last `func` call.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n * on the trailing edge of the timeout only if the the throttled function is\n * invoked more than once during the `wait` timeout.\n *\n * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options] The options object.\n * @param {boolean} [options.leading=true] Specify invoking on the leading\n *  edge of the timeout.\n * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n *  edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // avoid excessively updating the position while scrolling\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // invoke `renewToken` when the click event is fired, but not more than once every 5 minutes\n * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n *   'trailing': false\n * }));\n *\n * // cancel a trailing throttled call\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (options === false) {\n    leading = false;\n  } else if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, { 'leading': leading, 'maxWait': +wait, 'trailing': trailing });\n}\n\nmodule.exports = throttle;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/function/throttle.js\n// module id = 155\n// module chunks = 1","var map = require('./map'),\n    property = require('../utility/property');\n\n/**\n * Gets the property value of `path` from all elements in `collection`.\n *\n * @static\n * @memberOf _\n * @category Collection\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Array|string} path The path of the property to pluck.\n * @returns {Array} Returns the property values.\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 40 }\n * ];\n *\n * _.pluck(users, 'user');\n * // => ['barney', 'fred']\n *\n * var userIndex = _.indexBy(users, 'user');\n * _.pluck(userIndex, 'age');\n * // => [36, 40] (iteration order is not guaranteed)\n */\nfunction pluck(collection, path) {\n  return map(collection, property(path));\n}\n\nmodule.exports = pluck;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/collection/pluck.js\n// module id = 156\n// module chunks = 1","var baseMerge = require('../internal/baseMerge'),\n    createAssigner = require('../internal/createAssigner');\n\n/**\n * Recursively merges own enumerable properties of the source object(s), that\n * don't resolve to `undefined` into the destination object. Subsequent sources\n * overwrite property assignments of previous sources. If `customizer` is\n * provided it's invoked to produce the merged values of the destination and\n * source properties. If `customizer` returns `undefined` merging is handled\n * by the method instead. The `customizer` is bound to `thisArg` and invoked\n * with five arguments: (objectValue, sourceValue, key, object, source).\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {*} [thisArg] The `this` binding of `customizer`.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var users = {\n *   'data': [{ 'user': 'barney' }, { 'user': 'fred' }]\n * };\n *\n * var ages = {\n *   'data': [{ 'age': 36 }, { 'age': 40 }]\n * };\n *\n * _.merge(users, ages);\n * // => { 'data': [{ 'user': 'barney', 'age': 36 }, { 'user': 'fred', 'age': 40 }] }\n *\n * // using a customizer callback\n * var object = {\n *   'fruits': ['apple'],\n *   'vegetables': ['beet']\n * };\n *\n * var other = {\n *   'fruits': ['banana'],\n *   'vegetables': ['carrot']\n * };\n *\n * _.merge(object, other, function(a, b) {\n *   if (_.isArray(a)) {\n *     return a.concat(b);\n *   }\n * });\n * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot'] }\n */\nvar merge = createAssigner(baseMerge);\n\nmodule.exports = merge;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/object/merge.js\n// module id = 157\n// module chunks = 1","var arrayEach = require('./arrayEach'),\n    baseMergeDeep = require('./baseMergeDeep'),\n    isArray = require('../lang/isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isObject = require('../lang/isObject'),\n    isObjectLike = require('./isObjectLike'),\n    isTypedArray = require('../lang/isTypedArray'),\n    keys = require('../object/keys');\n\n/**\n * The base implementation of `_.merge` without support for argument juggling,\n * multiple sources, and `this` binding `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Array} [stackA=[]] Tracks traversed source objects.\n * @param {Array} [stackB=[]] Associates values with source counterparts.\n * @returns {Object} Returns `object`.\n */\nfunction baseMerge(object, source, customizer, stackA, stackB) {\n  if (!isObject(object)) {\n    return object;\n  }\n  var isSrcArr = isArrayLike(source) && (isArray(source) || isTypedArray(source)),\n      props = isSrcArr ? undefined : keys(source);\n\n  arrayEach(props || source, function(srcValue, key) {\n    if (props) {\n      key = srcValue;\n      srcValue = source[key];\n    }\n    if (isObjectLike(srcValue)) {\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n      baseMergeDeep(object, source, key, baseMerge, customizer, stackA, stackB);\n    }\n    else {\n      var value = object[key],\n          result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n          isCommon = result === undefined;\n\n      if (isCommon) {\n        result = srcValue;\n      }\n      if ((result !== undefined || (isSrcArr && !(key in object))) &&\n          (isCommon || (result === result ? (result !== value) : (value === value)))) {\n        object[key] = result;\n      }\n    }\n  });\n  return object;\n}\n\nmodule.exports = baseMerge;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseMerge.js\n// module id = 158\n// module chunks = 1","var arrayCopy = require('./arrayCopy'),\n    isArguments = require('../lang/isArguments'),\n    isArray = require('../lang/isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isPlainObject = require('../lang/isPlainObject'),\n    isTypedArray = require('../lang/isTypedArray'),\n    toPlainObject = require('../lang/toPlainObject');\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Array} [stackA=[]] Tracks traversed source objects.\n * @param {Array} [stackB=[]] Associates values with source counterparts.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseMergeDeep(object, source, key, mergeFunc, customizer, stackA, stackB) {\n  var length = stackA.length,\n      srcValue = source[key];\n\n  while (length--) {\n    if (stackA[length] == srcValue) {\n      object[key] = stackB[length];\n      return;\n    }\n  }\n  var value = object[key],\n      result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n      isCommon = result === undefined;\n\n  if (isCommon) {\n    result = srcValue;\n    if (isArrayLike(srcValue) && (isArray(srcValue) || isTypedArray(srcValue))) {\n      result = isArray(value)\n        ? value\n        : (isArrayLike(value) ? arrayCopy(value) : []);\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      result = isArguments(value)\n        ? toPlainObject(value)\n        : (isPlainObject(value) ? value : {});\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  // Add the source value to the stack of traversed objects and associate\n  // it with its merged value.\n  stackA.push(srcValue);\n  stackB.push(result);\n\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    object[key] = mergeFunc(result, srcValue, customizer, stackA, stackB);\n  } else if (result === result ? (result !== value) : (value === value)) {\n    object[key] = result;\n  }\n}\n\nmodule.exports = baseMergeDeep;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseMergeDeep.js\n// module id = 159\n// module chunks = 1","var baseCopy = require('../internal/baseCopy'),\n    keysIn = require('../object/keysIn');\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable\n * properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return baseCopy(value, keysIn(value));\n}\n\nmodule.exports = toPlainObject;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/lang/toPlainObject.js\n// module id = 160\n// module chunks = 1","var baseClone = require('../internal/baseClone'),\n    bindCallback = require('../internal/bindCallback');\n\n/**\n * Creates a deep clone of `value`. If `customizer` is provided it's invoked\n * to produce the cloned values. If `customizer` returns `undefined` cloning\n * is handled by the method instead. The `customizer` is bound to `thisArg`\n * and invoked with up to three argument; (value [, index|key, object]).\n *\n * **Note:** This method is loosely based on the\n * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n * The enumerable properties of `arguments` objects and objects created by\n * constructors other than `Object` are cloned to plain `Object` objects. An\n * empty object is returned for uncloneable values such as functions, DOM nodes,\n * Maps, Sets, and WeakMaps.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to deep clone.\n * @param {Function} [customizer] The function to customize cloning values.\n * @param {*} [thisArg] The `this` binding of `customizer`.\n * @returns {*} Returns the deep cloned value.\n * @example\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * var deep = _.cloneDeep(users);\n * deep[0] === users[0];\n * // => false\n *\n * // using a customizer callback\n * var el = _.cloneDeep(document.body, function(value) {\n *   if (_.isElement(value)) {\n *     return value.cloneNode(true);\n *   }\n * });\n *\n * el === document.body\n * // => false\n * el.nodeName\n * // => BODY\n * el.childNodes.length;\n * // => 20\n */\nfunction cloneDeep(value, customizer, thisArg) {\n  return typeof customizer == 'function'\n    ? baseClone(value, true, bindCallback(customizer, thisArg, 3))\n    : baseClone(value, true);\n}\n\nmodule.exports = cloneDeep;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/lang/cloneDeep.js\n// module id = 161\n// module chunks = 1","var arrayCopy = require('./arrayCopy'),\n    arrayEach = require('./arrayEach'),\n    baseAssign = require('./baseAssign'),\n    baseForOwn = require('./baseForOwn'),\n    initCloneArray = require('./initCloneArray'),\n    initCloneByTag = require('./initCloneByTag'),\n    initCloneObject = require('./initCloneObject'),\n    isArray = require('../lang/isArray'),\n    isObject = require('../lang/isObject');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[boolTag] =\ncloneableTags[dateTag] = cloneableTags[float32Tag] =\ncloneableTags[float64Tag] = cloneableTags[int8Tag] =\ncloneableTags[int16Tag] = cloneableTags[int32Tag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[stringTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[mapTag] = cloneableTags[setTag] =\ncloneableTags[weakMapTag] = false;\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/**\n * The base implementation of `_.clone` without support for argument juggling\n * and `this` binding `customizer` functions.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @param {Function} [customizer] The function to customize cloning values.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The object `value` belongs to.\n * @param {Array} [stackA=[]] Tracks traversed source objects.\n * @param {Array} [stackB=[]] Associates clones with source counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, isDeep, customizer, key, object, stackA, stackB) {\n  var result;\n  if (customizer) {\n    result = object ? customizer(value, key, object) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return arrayCopy(value, result);\n    }\n  } else {\n    var tag = objToString.call(value),\n        isFunc = tag == funcTag;\n\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = initCloneObject(isFunc ? {} : value);\n      if (!isDeep) {\n        return baseAssign(result, value);\n      }\n    } else {\n      return cloneableTags[tag]\n        ? initCloneByTag(value, tag, isDeep)\n        : (object ? value : {});\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stackA || (stackA = []);\n  stackB || (stackB = []);\n\n  var length = stackA.length;\n  while (length--) {\n    if (stackA[length] == value) {\n      return stackB[length];\n    }\n  }\n  // Add the source value to the stack of traversed objects and associate it with its clone.\n  stackA.push(value);\n  stackB.push(result);\n\n  // Recursively populate clone (susceptible to call stack limits).\n  (isArr ? arrayEach : baseForOwn)(value, function(subValue, key) {\n    result[key] = baseClone(subValue, isDeep, customizer, key, value, stackA, stackB);\n  });\n  return result;\n}\n\nmodule.exports = baseClone;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseClone.js\n// module id = 162\n// module chunks = 1","/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add array properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nmodule.exports = initCloneArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/initCloneArray.js\n// module id = 163\n// module chunks = 1","var bufferClone = require('./bufferClone');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    stringTag = '[object String]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return bufferClone(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      var buffer = object.buffer;\n      return new Ctor(isDeep ? bufferClone(buffer) : buffer, object.byteOffset, object.length);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      var result = new Ctor(object.source, reFlags.exec(object));\n      result.lastIndex = object.lastIndex;\n  }\n  return result;\n}\n\nmodule.exports = initCloneByTag;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/initCloneByTag.js\n// module id = 164\n// module chunks = 1","/** Native method references. */\nvar ArrayBuffer = global.ArrayBuffer,\n    Uint8Array = global.Uint8Array;\n\n/**\n * Creates a clone of the given array buffer.\n *\n * @private\n * @param {ArrayBuffer} buffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction bufferClone(buffer) {\n  var result = new ArrayBuffer(buffer.byteLength),\n      view = new Uint8Array(result);\n\n  view.set(new Uint8Array(buffer));\n  return result;\n}\n\nmodule.exports = bufferClone;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/bufferClone.js\n// module id = 165\n// module chunks = 1","/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  var Ctor = object.constructor;\n  if (!(typeof Ctor == 'function' && Ctor instanceof Ctor)) {\n    Ctor = Object;\n  }\n  return new Ctor;\n}\n\nmodule.exports = initCloneObject;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/initCloneObject.js\n// module id = 166\n// module chunks = 1","var createWrapper = require('../internal/createWrapper'),\n    isIterateeCall = require('../internal/isIterateeCall');\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar ARY_FLAG = 128;\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that accepts up to `n` arguments ignoring any\n * additional arguments.\n *\n * @static\n * @memberOf _\n * @category Function\n * @param {Function} func The function to cap arguments for.\n * @param {number} [n=func.length] The arity cap.\n * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n * @returns {Function} Returns the new function.\n * @example\n *\n * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n * // => [6, 8, 10]\n */\nfunction ary(func, n, guard) {\n  if (guard && isIterateeCall(func, n, guard)) {\n    n = undefined;\n  }\n  n = (func && n == null) ? func.length : nativeMax(+n || 0, 0);\n  return createWrapper(func, ARY_FLAG, undefined, undefined, undefined, undefined, n);\n}\n\nmodule.exports = ary;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/function/ary.js\n// module id = 167\n// module chunks = 1","var baseSetData = require('./baseSetData'),\n    createBindWrapper = require('./createBindWrapper'),\n    createHybridWrapper = require('./createHybridWrapper'),\n    createPartialWrapper = require('./createPartialWrapper'),\n    getData = require('./getData'),\n    mergeData = require('./mergeData'),\n    setData = require('./setData');\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1,\n    BIND_KEY_FLAG = 2,\n    PARTIAL_FLAG = 32,\n    PARTIAL_RIGHT_FLAG = 64;\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that either curries or invokes `func` with optional\n * `this` binding and partially applied arguments.\n *\n * @private\n * @param {Function|string} func The function or method name to reference.\n * @param {number} bitmask The bitmask of flags.\n *  The bitmask may be composed of the following flags:\n *     1 - `_.bind`\n *     2 - `_.bindKey`\n *     4 - `_.curry` or `_.curryRight` of a bound function\n *     8 - `_.curry`\n *    16 - `_.curryRight`\n *    32 - `_.partial`\n *    64 - `_.partialRight`\n *   128 - `_.rearg`\n *   256 - `_.ary`\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to be partially applied.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createWrapper(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n  var isBindKey = bitmask & BIND_KEY_FLAG;\n  if (!isBindKey && typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var length = partials ? partials.length : 0;\n  if (!length) {\n    bitmask &= ~(PARTIAL_FLAG | PARTIAL_RIGHT_FLAG);\n    partials = holders = undefined;\n  }\n  length -= (holders ? holders.length : 0);\n  if (bitmask & PARTIAL_RIGHT_FLAG) {\n    var partialsRight = partials,\n        holdersRight = holders;\n\n    partials = holders = undefined;\n  }\n  var data = isBindKey ? undefined : getData(func),\n      newData = [func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity];\n\n  if (data) {\n    mergeData(newData, data);\n    bitmask = newData[1];\n    arity = newData[9];\n  }\n  newData[9] = arity == null\n    ? (isBindKey ? 0 : func.length)\n    : (nativeMax(arity - length, 0) || 0);\n\n  if (bitmask == BIND_FLAG) {\n    var result = createBindWrapper(newData[0], newData[2]);\n  } else if ((bitmask == PARTIAL_FLAG || bitmask == (BIND_FLAG | PARTIAL_FLAG)) && !newData[4].length) {\n    result = createPartialWrapper.apply(undefined, newData);\n  } else {\n    result = createHybridWrapper.apply(undefined, newData);\n  }\n  var setter = data ? baseSetData : setData;\n  return setter(result, newData);\n}\n\nmodule.exports = createWrapper;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/createWrapper.js\n// module id = 168\n// module chunks = 1","var identity = require('../utility/identity'),\n    metaMap = require('./metaMap');\n\n/**\n * The base implementation of `setData` without support for hot loop detection.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar baseSetData = !metaMap ? identity : function(func, data) {\n  metaMap.set(func, data);\n  return func;\n};\n\nmodule.exports = baseSetData;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseSetData.js\n// module id = 169\n// module chunks = 1","var getNative = require('./getNative');\n\n/** Native method references. */\nvar WeakMap = getNative(global, 'WeakMap');\n\n/** Used to store function metadata. */\nvar metaMap = WeakMap && new WeakMap;\n\nmodule.exports = metaMap;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/metaMap.js\n// module id = 170\n// module chunks = 1","var createCtorWrapper = require('./createCtorWrapper');\n\n/**\n * Creates a function that wraps `func` and invokes it with the `this`\n * binding of `thisArg`.\n *\n * @private\n * @param {Function} func The function to bind.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @returns {Function} Returns the new bound function.\n */\nfunction createBindWrapper(func, thisArg) {\n  var Ctor = createCtorWrapper(func);\n\n  function wrapper() {\n    var fn = (this && this !== global && this instanceof wrapper) ? Ctor : func;\n    return fn.apply(thisArg, arguments);\n  }\n  return wrapper;\n}\n\nmodule.exports = createBindWrapper;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/createBindWrapper.js\n// module id = 171\n// module chunks = 1","var baseCreate = require('./baseCreate'),\n    isObject = require('../lang/isObject');\n\n/**\n * Creates a function that produces an instance of `Ctor` regardless of\n * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n *\n * @private\n * @param {Function} Ctor The constructor to wrap.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCtorWrapper(Ctor) {\n  return function() {\n    // Use a `switch` statement to work with class constructors.\n    // See http://ecma-international.org/ecma-262/6.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n    // for more details.\n    var args = arguments;\n    switch (args.length) {\n      case 0: return new Ctor;\n      case 1: return new Ctor(args[0]);\n      case 2: return new Ctor(args[0], args[1]);\n      case 3: return new Ctor(args[0], args[1], args[2]);\n      case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n      case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n      case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n      case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n    }\n    var thisBinding = baseCreate(Ctor.prototype),\n        result = Ctor.apply(thisBinding, args);\n\n    // Mimic the constructor's `return` behavior.\n    // See https://es5.github.io/#x13.2.2 for more details.\n    return isObject(result) ? result : thisBinding;\n  };\n}\n\nmodule.exports = createCtorWrapper;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/createCtorWrapper.js\n// module id = 172\n// module chunks = 1","var arrayCopy = require('./arrayCopy'),\n    composeArgs = require('./composeArgs'),\n    composeArgsRight = require('./composeArgsRight'),\n    createCtorWrapper = require('./createCtorWrapper'),\n    isLaziable = require('./isLaziable'),\n    reorder = require('./reorder'),\n    replaceHolders = require('./replaceHolders'),\n    setData = require('./setData');\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1,\n    BIND_KEY_FLAG = 2,\n    CURRY_BOUND_FLAG = 4,\n    CURRY_FLAG = 8,\n    CURRY_RIGHT_FLAG = 16,\n    PARTIAL_FLAG = 32,\n    PARTIAL_RIGHT_FLAG = 64,\n    ARY_FLAG = 128;\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that wraps `func` and invokes it with optional `this`\n * binding of, partial application, and currying.\n *\n * @private\n * @param {Function|string} func The function or method name to reference.\n * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [partialsRight] The arguments to append to those provided to the new function.\n * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createHybridWrapper(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n  var isAry = bitmask & ARY_FLAG,\n      isBind = bitmask & BIND_FLAG,\n      isBindKey = bitmask & BIND_KEY_FLAG,\n      isCurry = bitmask & CURRY_FLAG,\n      isCurryBound = bitmask & CURRY_BOUND_FLAG,\n      isCurryRight = bitmask & CURRY_RIGHT_FLAG,\n      Ctor = isBindKey ? undefined : createCtorWrapper(func);\n\n  function wrapper() {\n    // Avoid `arguments` object use disqualifying optimizations by\n    // converting it to an array before providing it to other functions.\n    var length = arguments.length,\n        index = length,\n        args = Array(length);\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    if (partials) {\n      args = composeArgs(args, partials, holders);\n    }\n    if (partialsRight) {\n      args = composeArgsRight(args, partialsRight, holdersRight);\n    }\n    if (isCurry || isCurryRight) {\n      var placeholder = wrapper.placeholder,\n          argsHolders = replaceHolders(args, placeholder);\n\n      length -= argsHolders.length;\n      if (length < arity) {\n        var newArgPos = argPos ? arrayCopy(argPos) : undefined,\n            newArity = nativeMax(arity - length, 0),\n            newsHolders = isCurry ? argsHolders : undefined,\n            newHoldersRight = isCurry ? undefined : argsHolders,\n            newPartials = isCurry ? args : undefined,\n            newPartialsRight = isCurry ? undefined : args;\n\n        bitmask |= (isCurry ? PARTIAL_FLAG : PARTIAL_RIGHT_FLAG);\n        bitmask &= ~(isCurry ? PARTIAL_RIGHT_FLAG : PARTIAL_FLAG);\n\n        if (!isCurryBound) {\n          bitmask &= ~(BIND_FLAG | BIND_KEY_FLAG);\n        }\n        var newData = [func, bitmask, thisArg, newPartials, newsHolders, newPartialsRight, newHoldersRight, newArgPos, ary, newArity],\n            result = createHybridWrapper.apply(undefined, newData);\n\n        if (isLaziable(func)) {\n          setData(result, newData);\n        }\n        result.placeholder = placeholder;\n        return result;\n      }\n    }\n    var thisBinding = isBind ? thisArg : this,\n        fn = isBindKey ? thisBinding[func] : func;\n\n    if (argPos) {\n      args = reorder(args, argPos);\n    }\n    if (isAry && ary < args.length) {\n      args.length = ary;\n    }\n    if (this && this !== global && this instanceof wrapper) {\n      fn = Ctor || createCtorWrapper(func);\n    }\n    return fn.apply(thisBinding, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createHybridWrapper;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/createHybridWrapper.js\n// module id = 173\n// module chunks = 1","/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array that is the composition of partially applied arguments,\n * placeholders, and provided arguments into a single array of arguments.\n *\n * @private\n * @param {Array|Object} args The provided arguments.\n * @param {Array} partials The arguments to prepend to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgs(args, partials, holders) {\n  var holdersLength = holders.length,\n      argsIndex = -1,\n      argsLength = nativeMax(args.length - holdersLength, 0),\n      leftIndex = -1,\n      leftLength = partials.length,\n      result = Array(leftLength + argsLength);\n\n  while (++leftIndex < leftLength) {\n    result[leftIndex] = partials[leftIndex];\n  }\n  while (++argsIndex < holdersLength) {\n    result[holders[argsIndex]] = args[argsIndex];\n  }\n  while (argsLength--) {\n    result[leftIndex++] = args[argsIndex++];\n  }\n  return result;\n}\n\nmodule.exports = composeArgs;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/composeArgs.js\n// module id = 174\n// module chunks = 1","/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This function is like `composeArgs` except that the arguments composition\n * is tailored for `_.partialRight`.\n *\n * @private\n * @param {Array|Object} args The provided arguments.\n * @param {Array} partials The arguments to append to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgsRight(args, partials, holders) {\n  var holdersIndex = -1,\n      holdersLength = holders.length,\n      argsIndex = -1,\n      argsLength = nativeMax(args.length - holdersLength, 0),\n      rightIndex = -1,\n      rightLength = partials.length,\n      result = Array(argsLength + rightLength);\n\n  while (++argsIndex < argsLength) {\n    result[argsIndex] = args[argsIndex];\n  }\n  var offset = argsIndex;\n  while (++rightIndex < rightLength) {\n    result[offset + rightIndex] = partials[rightIndex];\n  }\n  while (++holdersIndex < holdersLength) {\n    result[offset + holders[holdersIndex]] = args[argsIndex++];\n  }\n  return result;\n}\n\nmodule.exports = composeArgsRight;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/composeArgsRight.js\n// module id = 175\n// module chunks = 1","var LazyWrapper = require('./LazyWrapper'),\n    getData = require('./getData'),\n    getFuncName = require('./getFuncName'),\n    lodash = require('../chain/lodash');\n\n/**\n * Checks if `func` has a lazy counterpart.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` has a lazy counterpart, else `false`.\n */\nfunction isLaziable(func) {\n  var funcName = getFuncName(func),\n      other = lodash[funcName];\n\n  if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n    return false;\n  }\n  if (func === other) {\n    return true;\n  }\n  var data = getData(other);\n  return !!data && func === data[0];\n}\n\nmodule.exports = isLaziable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/isLaziable.js\n// module id = 176\n// module chunks = 1","var baseCreate = require('./baseCreate'),\n    baseLodash = require('./baseLodash');\n\n/** Used as references for `-Infinity` and `Infinity`. */\nvar POSITIVE_INFINITY = Number.POSITIVE_INFINITY;\n\n/**\n * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n *\n * @private\n * @param {*} value The value to wrap.\n */\nfunction LazyWrapper(value) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__dir__ = 1;\n  this.__filtered__ = false;\n  this.__iteratees__ = [];\n  this.__takeCount__ = POSITIVE_INFINITY;\n  this.__views__ = [];\n}\n\nLazyWrapper.prototype = baseCreate(baseLodash.prototype);\nLazyWrapper.prototype.constructor = LazyWrapper;\n\nmodule.exports = LazyWrapper;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/LazyWrapper.js\n// module id = 177\n// module chunks = 1","/**\n * The function whose prototype all chaining wrappers inherit from.\n *\n * @private\n */\nfunction baseLodash() {\n  // No operation performed.\n}\n\nmodule.exports = baseLodash;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseLodash.js\n// module id = 178\n// module chunks = 1","var metaMap = require('./metaMap'),\n    noop = require('../utility/noop');\n\n/**\n * Gets metadata for `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {*} Returns the metadata for `func`.\n */\nvar getData = !metaMap ? noop : function(func) {\n  return metaMap.get(func);\n};\n\nmodule.exports = getData;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/getData.js\n// module id = 179\n// module chunks = 1","var realNames = require('./realNames');\n\n/**\n * Gets the name of `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {string} Returns the function name.\n */\nfunction getFuncName(func) {\n  var result = (func.name + ''),\n      array = realNames[result],\n      length = array ? array.length : 0;\n\n  while (length--) {\n    var data = array[length],\n        otherFunc = data.func;\n    if (otherFunc == null || otherFunc == func) {\n      return data.name;\n    }\n  }\n  return result;\n}\n\nmodule.exports = getFuncName;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/getFuncName.js\n// module id = 180\n// module chunks = 1","/** Used to lookup unminified function names. */\nvar realNames = {};\n\nmodule.exports = realNames;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/realNames.js\n// module id = 181\n// module chunks = 1","var LazyWrapper = require('../internal/LazyWrapper'),\n    LodashWrapper = require('../internal/LodashWrapper'),\n    baseLodash = require('../internal/baseLodash'),\n    isArray = require('../lang/isArray'),\n    isObjectLike = require('../internal/isObjectLike'),\n    wrapperClone = require('../internal/wrapperClone');\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates a `lodash` object which wraps `value` to enable implicit chaining.\n * Methods that operate on and return arrays, collections, and functions can\n * be chained together. Methods that retrieve a single value or may return a\n * primitive value will automatically end the chain returning the unwrapped\n * value. Explicit chaining may be enabled using `_.chain`. The execution of\n * chained methods is lazy, that is, execution is deferred until `_#value`\n * is implicitly or explicitly called.\n *\n * Lazy evaluation allows several methods to support shortcut fusion. Shortcut\n * fusion is an optimization strategy which merge iteratee calls; this can help\n * to avoid the creation of intermediate data structures and greatly reduce the\n * number of iteratee executions.\n *\n * Chaining is supported in custom builds as long as the `_#value` method is\n * directly or indirectly included in the build.\n *\n * In addition to lodash methods, wrappers have `Array` and `String` methods.\n *\n * The wrapper `Array` methods are:\n * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`,\n * `splice`, and `unshift`\n *\n * The wrapper `String` methods are:\n * `replace` and `split`\n *\n * The wrapper methods that support shortcut fusion are:\n * `compact`, `drop`, `dropRight`, `dropRightWhile`, `dropWhile`, `filter`,\n * `first`, `initial`, `last`, `map`, `pluck`, `reject`, `rest`, `reverse`,\n * `slice`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `toArray`,\n * and `where`\n *\n * The chainable wrapper methods are:\n * `after`, `ary`, `assign`, `at`, `before`, `bind`, `bindAll`, `bindKey`,\n * `callback`, `chain`, `chunk`, `commit`, `compact`, `concat`, `constant`,\n * `countBy`, `create`, `curry`, `debounce`, `defaults`, `defaultsDeep`,\n * `defer`, `delay`, `difference`, `drop`, `dropRight`, `dropRightWhile`,\n * `dropWhile`, `fill`, `filter`, `flatten`, `flattenDeep`, `flow`, `flowRight`,\n * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,\n * `functions`, `groupBy`, `indexBy`, `initial`, `intersection`, `invert`,\n * `invoke`, `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`,\n * `matchesProperty`, `memoize`, `merge`, `method`, `methodOf`, `mixin`,\n * `modArgs`, `negate`, `omit`, `once`, `pairs`, `partial`, `partialRight`,\n * `partition`, `pick`, `plant`, `pluck`, `property`, `propertyOf`, `pull`,\n * `pullAt`, `push`, `range`, `rearg`, `reject`, `remove`, `rest`, `restParam`,\n * `reverse`, `set`, `shuffle`, `slice`, `sort`, `sortBy`, `sortByAll`,\n * `sortByOrder`, `splice`, `spread`, `take`, `takeRight`, `takeRightWhile`,\n * `takeWhile`, `tap`, `throttle`, `thru`, `times`, `toArray`, `toPlainObject`,\n * `transform`, `union`, `uniq`, `unshift`, `unzip`, `unzipWith`, `values`,\n * `valuesIn`, `where`, `without`, `wrap`, `xor`, `zip`, `zipObject`, `zipWith`\n *\n * The wrapper methods that are **not** chainable by default are:\n * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clone`, `cloneDeep`,\n * `deburr`, `endsWith`, `escape`, `escapeRegExp`, `every`, `find`, `findIndex`,\n * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `findWhere`, `first`,\n * `floor`, `get`, `gt`, `gte`, `has`, `identity`, `includes`, `indexOf`,\n * `inRange`, `isArguments`, `isArray`, `isBoolean`, `isDate`, `isElement`,\n * `isEmpty`, `isEqual`, `isError`, `isFinite` `isFunction`, `isMatch`,\n * `isNative`, `isNaN`, `isNull`, `isNumber`, `isObject`, `isPlainObject`,\n * `isRegExp`, `isString`, `isUndefined`, `isTypedArray`, `join`, `kebabCase`,\n * `last`, `lastIndexOf`, `lt`, `lte`, `max`, `min`, `noConflict`, `noop`,\n * `now`, `pad`, `padLeft`, `padRight`, `parseInt`, `pop`, `random`, `reduce`,\n * `reduceRight`, `repeat`, `result`, `round`, `runInContext`, `shift`, `size`,\n * `snakeCase`, `some`, `sortedIndex`, `sortedLastIndex`, `startCase`,\n * `startsWith`, `sum`, `template`, `trim`, `trimLeft`, `trimRight`, `trunc`,\n * `unescape`, `uniqueId`, `value`, and `words`\n *\n * The wrapper method `sample` will return a wrapped value when `n` is provided,\n * otherwise an unwrapped value is returned.\n *\n * @name _\n * @constructor\n * @category Chain\n * @param {*} value The value to wrap in a `lodash` instance.\n * @returns {Object} Returns the new `lodash` wrapper instance.\n * @example\n *\n * var wrapped = _([1, 2, 3]);\n *\n * // returns an unwrapped value\n * wrapped.reduce(function(total, n) {\n *   return total + n;\n * });\n * // => 6\n *\n * // returns a wrapped value\n * var squares = wrapped.map(function(n) {\n *   return n * n;\n * });\n *\n * _.isArray(squares);\n * // => false\n *\n * _.isArray(squares.value());\n * // => true\n */\nfunction lodash(value) {\n  if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n    if (value instanceof LodashWrapper) {\n      return value;\n    }\n    if (hasOwnProperty.call(value, '__chain__') && hasOwnProperty.call(value, '__wrapped__')) {\n      return wrapperClone(value);\n    }\n  }\n  return new LodashWrapper(value);\n}\n\n// Ensure wrappers are instances of `baseLodash`.\nlodash.prototype = baseLodash.prototype;\n\nmodule.exports = lodash;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/chain/lodash.js\n// module id = 182\n// module chunks = 1","var baseCreate = require('./baseCreate'),\n    baseLodash = require('./baseLodash');\n\n/**\n * The base constructor for creating `lodash` wrapper objects.\n *\n * @private\n * @param {*} value The value to wrap.\n * @param {boolean} [chainAll] Enable chaining for all wrapper methods.\n * @param {Array} [actions=[]] Actions to peform to resolve the unwrapped value.\n */\nfunction LodashWrapper(value, chainAll, actions) {\n  this.__wrapped__ = value;\n  this.__actions__ = actions || [];\n  this.__chain__ = !!chainAll;\n}\n\nLodashWrapper.prototype = baseCreate(baseLodash.prototype);\nLodashWrapper.prototype.constructor = LodashWrapper;\n\nmodule.exports = LodashWrapper;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/LodashWrapper.js\n// module id = 183\n// module chunks = 1","var LazyWrapper = require('./LazyWrapper'),\n    LodashWrapper = require('./LodashWrapper'),\n    arrayCopy = require('./arrayCopy');\n\n/**\n * Creates a clone of `wrapper`.\n *\n * @private\n * @param {Object} wrapper The wrapper to clone.\n * @returns {Object} Returns the cloned wrapper.\n */\nfunction wrapperClone(wrapper) {\n  return wrapper instanceof LazyWrapper\n    ? wrapper.clone()\n    : new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__, arrayCopy(wrapper.__actions__));\n}\n\nmodule.exports = wrapperClone;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/wrapperClone.js\n// module id = 184\n// module chunks = 1","var arrayCopy = require('./arrayCopy'),\n    isIndex = require('./isIndex');\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Reorder `array` according to the specified indexes where the element at\n * the first index is assigned as the first element, the element at\n * the second index is assigned as the second element, and so on.\n *\n * @private\n * @param {Array} array The array to reorder.\n * @param {Array} indexes The arranged array indexes.\n * @returns {Array} Returns `array`.\n */\nfunction reorder(array, indexes) {\n  var arrLength = array.length,\n      length = nativeMin(indexes.length, arrLength),\n      oldArray = arrayCopy(array);\n\n  while (length--) {\n    var index = indexes[length];\n    array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n  }\n  return array;\n}\n\nmodule.exports = reorder;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/reorder.js\n// module id = 185\n// module chunks = 1","/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/**\n * Replaces all `placeholder` elements in `array` with an internal placeholder\n * and returns an array of their indexes.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {*} placeholder The placeholder to replace.\n * @returns {Array} Returns the new array of placeholder indexes.\n */\nfunction replaceHolders(array, placeholder) {\n  var index = -1,\n      length = array.length,\n      resIndex = -1,\n      result = [];\n\n  while (++index < length) {\n    if (array[index] === placeholder) {\n      array[index] = PLACEHOLDER;\n      result[++resIndex] = index;\n    }\n  }\n  return result;\n}\n\nmodule.exports = replaceHolders;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/replaceHolders.js\n// module id = 186\n// module chunks = 1","var baseSetData = require('./baseSetData'),\n    now = require('../date/now');\n\n/** Used to detect when a function becomes hot. */\nvar HOT_COUNT = 150,\n    HOT_SPAN = 16;\n\n/**\n * Sets metadata for `func`.\n *\n * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n * period of time, it will trip its breaker and transition to an identity function\n * to avoid garbage collection pauses in V8. See [V8 issue 2070](https://code.google.com/p/v8/issues/detail?id=2070)\n * for more details.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar setData = (function() {\n  var count = 0,\n      lastCalled = 0;\n\n  return function(key, value) {\n    var stamp = now(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return key;\n      }\n    } else {\n      count = 0;\n    }\n    return baseSetData(key, value);\n  };\n}());\n\nmodule.exports = setData;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/setData.js\n// module id = 187\n// module chunks = 1","var createCtorWrapper = require('./createCtorWrapper');\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` and invokes it with the optional `this`\n * binding of `thisArg` and the `partials` prepended to those provided to\n * the wrapper.\n *\n * @private\n * @param {Function} func The function to partially apply arguments to.\n * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} partials The arguments to prepend to those provided to the new function.\n * @returns {Function} Returns the new bound function.\n */\nfunction createPartialWrapper(func, bitmask, thisArg, partials) {\n  var isBind = bitmask & BIND_FLAG,\n      Ctor = createCtorWrapper(func);\n\n  function wrapper() {\n    // Avoid `arguments` object use disqualifying optimizations by\n    // converting it to an array before providing it `func`.\n    var argsIndex = -1,\n        argsLength = arguments.length,\n        leftIndex = -1,\n        leftLength = partials.length,\n        args = Array(leftLength + argsLength);\n\n    while (++leftIndex < leftLength) {\n      args[leftIndex] = partials[leftIndex];\n    }\n    while (argsLength--) {\n      args[leftIndex++] = arguments[++argsIndex];\n    }\n    var fn = (this && this !== global && this instanceof wrapper) ? Ctor : func;\n    return fn.apply(isBind ? thisArg : this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createPartialWrapper;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/createPartialWrapper.js\n// module id = 188\n// module chunks = 1","var arrayCopy = require('./arrayCopy'),\n    composeArgs = require('./composeArgs'),\n    composeArgsRight = require('./composeArgsRight'),\n    replaceHolders = require('./replaceHolders');\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1,\n    CURRY_BOUND_FLAG = 4,\n    CURRY_FLAG = 8,\n    ARY_FLAG = 128,\n    REARG_FLAG = 256;\n\n/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Merges the function metadata of `source` into `data`.\n *\n * Merging metadata reduces the number of wrappers required to invoke a function.\n * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n * may be applied regardless of execution order. Methods like `_.ary` and `_.rearg`\n * augment function arguments, making the order in which they are executed important,\n * preventing the merging of metadata. However, we make an exception for a safe\n * common case where curried functions have `_.ary` and or `_.rearg` applied.\n *\n * @private\n * @param {Array} data The destination metadata.\n * @param {Array} source The source metadata.\n * @returns {Array} Returns `data`.\n */\nfunction mergeData(data, source) {\n  var bitmask = data[1],\n      srcBitmask = source[1],\n      newBitmask = bitmask | srcBitmask,\n      isCommon = newBitmask < ARY_FLAG;\n\n  var isCombo =\n    (srcBitmask == ARY_FLAG && bitmask == CURRY_FLAG) ||\n    (srcBitmask == ARY_FLAG && bitmask == REARG_FLAG && data[7].length <= source[8]) ||\n    (srcBitmask == (ARY_FLAG | REARG_FLAG) && bitmask == CURRY_FLAG);\n\n  // Exit early if metadata can't be merged.\n  if (!(isCommon || isCombo)) {\n    return data;\n  }\n  // Use source `thisArg` if available.\n  if (srcBitmask & BIND_FLAG) {\n    data[2] = source[2];\n    // Set when currying a bound function.\n    newBitmask |= (bitmask & BIND_FLAG) ? 0 : CURRY_BOUND_FLAG;\n  }\n  // Compose partial arguments.\n  var value = source[3];\n  if (value) {\n    var partials = data[3];\n    data[3] = partials ? composeArgs(partials, value, source[4]) : arrayCopy(value);\n    data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : arrayCopy(source[4]);\n  }\n  // Compose partial right arguments.\n  value = source[5];\n  if (value) {\n    partials = data[5];\n    data[5] = partials ? composeArgsRight(partials, value, source[6]) : arrayCopy(value);\n    data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : arrayCopy(source[6]);\n  }\n  // Use source `argPos` if available.\n  value = source[7];\n  if (value) {\n    data[7] = arrayCopy(value);\n  }\n  // Use source `ary` if it's smaller.\n  if (srcBitmask & ARY_FLAG) {\n    data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n  }\n  // Use source `arity` if one is not provided.\n  if (data[9] == null) {\n    data[9] = source[9];\n  }\n  // Use source `func` and merge bitmasks.\n  data[0] = source[0];\n  data[1] = newBitmask;\n\n  return data;\n}\n\nmodule.exports = mergeData;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/mergeData.js\n// module id = 189\n// module chunks = 1","var baseToString = require('../internal/baseToString');\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Checks if `string` ends with the given target string.\n *\n * @static\n * @memberOf _\n * @category String\n * @param {string} [string=''] The string to search.\n * @param {string} [target] The string to search for.\n * @param {number} [position=string.length] The position to search from.\n * @returns {boolean} Returns `true` if `string` ends with `target`, else `false`.\n * @example\n *\n * _.endsWith('abc', 'c');\n * // => true\n *\n * _.endsWith('abc', 'b');\n * // => false\n *\n * _.endsWith('abc', 'b', 2);\n * // => true\n */\nfunction endsWith(string, target, position) {\n  string = baseToString(string);\n  target = (target + '');\n\n  var length = string.length;\n  position = position === undefined\n    ? length\n    : nativeMin(position < 0 ? 0 : (+position || 0), length);\n\n  position -= target.length;\n  return position >= 0 && string.indexOf(target, position) == position;\n}\n\nmodule.exports = endsWith;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/string/endsWith.js\n// module id = 190\n// module chunks = 1","var baseToString = require('../internal/baseToString');\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeFloor = Math.floor,\n    nativeIsFinite = global.isFinite;\n\n/**\n * Repeats the given string `n` times.\n *\n * @static\n * @memberOf _\n * @category String\n * @param {string} [string=''] The string to repeat.\n * @param {number} [n=0] The number of times to repeat the string.\n * @returns {string} Returns the repeated string.\n * @example\n *\n * _.repeat('*', 3);\n * // => '***'\n *\n * _.repeat('abc', 2);\n * // => 'abcabc'\n *\n * _.repeat('abc', 0);\n * // => ''\n */\nfunction repeat(string, n) {\n  var result = '';\n  string = baseToString(string);\n  n = +n;\n  if (n < 1 || !string || !nativeIsFinite(n)) {\n    return result;\n  }\n  // Leverage the exponentiation by squaring algorithm for a faster repeat.\n  // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n  do {\n    if (n % 2) {\n      result += string;\n    }\n    n = nativeFloor(n / 2);\n    string += string;\n  } while (n);\n\n  return result;\n}\n\nmodule.exports = repeat;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/string/repeat.js\n// module id = 191\n// module chunks = 1","module.exports = require('./assign');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/object/extend.js\n// module id = 192\n// module chunks = 1","var baseGet = require('../internal/baseGet'),\n    toPath = require('../internal/toPath');\n\n/**\n * Gets the property value at `path` of `object`. If the resolved value is\n * `undefined` the `defaultValue` is used in its place.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, toPath(path), (path + ''));\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/object/get.js\n// module id = 193\n// module chunks = 1","var baseForOwn = require('../internal/baseForOwn'),\n    createFindKey = require('../internal/createFindKey');\n\n/**\n * This method is like `_.find` except that it returns the key of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * If a property name is provided for `predicate` the created `_.property`\n * style callback returns the property value of the given element.\n *\n * If a value is also provided for `thisArg` the created `_.matchesProperty`\n * style callback returns `true` for elements that have a matching property\n * value, else `false`.\n *\n * If an object is provided for `predicate` the created `_.matches` style\n * callback returns `true` for elements that have the properties of the given\n * object, else `false`.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to search.\n * @param {Function|Object|string} [predicate=_.identity] The function invoked\n *  per iteration.\n * @param {*} [thisArg] The `this` binding of `predicate`.\n * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n * @example\n *\n * var users = {\n *   'barney':  { 'age': 36, 'active': true },\n *   'fred':    { 'age': 40, 'active': false },\n *   'pebbles': { 'age': 1,  'active': true }\n * };\n *\n * _.findKey(users, function(chr) {\n *   return chr.age < 40;\n * });\n * // => 'barney' (iteration order is not guaranteed)\n *\n * // using the `_.matches` callback shorthand\n * _.findKey(users, { 'age': 1, 'active': true });\n * // => 'pebbles'\n *\n * // using the `_.matchesProperty` callback shorthand\n * _.findKey(users, 'active', false);\n * // => 'fred'\n *\n * // using the `_.property` callback shorthand\n * _.findKey(users, 'active');\n * // => 'barney'\n */\nvar findKey = createFindKey(baseForOwn);\n\nmodule.exports = findKey;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/object/findKey.js\n// module id = 194\n// module chunks = 1","var baseCallback = require('./baseCallback'),\n    baseFind = require('./baseFind');\n\n/**\n * Creates a `_.findKey` or `_.findLastKey` function.\n *\n * @private\n * @param {Function} objectFunc The function to iterate over an object.\n * @returns {Function} Returns the new find function.\n */\nfunction createFindKey(objectFunc) {\n  return function(object, predicate, thisArg) {\n    predicate = baseCallback(predicate, thisArg, 3);\n    return baseFind(object, predicate, objectFunc, true);\n  };\n}\n\nmodule.exports = createFindKey;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/createFindKey.js\n// module id = 195\n// module chunks = 1","/**\n * The base implementation of `_.find`, `_.findLast`, `_.findKey`, and `_.findLastKey`,\n * without support for callback shorthands and `this` binding, which iterates\n * over `collection` using the provided `eachFunc`.\n *\n * @private\n * @param {Array|Object|string} collection The collection to search.\n * @param {Function} predicate The function invoked per iteration.\n * @param {Function} eachFunc The function to iterate over `collection`.\n * @param {boolean} [retKey] Specify returning the key of the found element\n *  instead of the element itself.\n * @returns {*} Returns the found element or its key, else `undefined`.\n */\nfunction baseFind(collection, predicate, eachFunc, retKey) {\n  var result;\n  eachFunc(collection, function(value, key, collection) {\n    if (predicate(value, key, collection)) {\n      result = retKey ? key : value;\n      return false;\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFind;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseFind.js\n// module id = 196\n// module chunks = 1","var baseEach = require('../internal/baseEach'),\n    createFind = require('../internal/createFind');\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n * invoked with three arguments: (value, index|key, collection).\n *\n * If a property name is provided for `predicate` the created `_.property`\n * style callback returns the property value of the given element.\n *\n * If a value is also provided for `thisArg` the created `_.matchesProperty`\n * style callback returns `true` for elements that have a matching property\n * value, else `false`.\n *\n * If an object is provided for `predicate` the created `_.matches` style\n * callback returns `true` for elements that have the properties of the given\n * object, else `false`.\n *\n * @static\n * @memberOf _\n * @alias detect\n * @category Collection\n * @param {Array|Object|string} collection The collection to search.\n * @param {Function|Object|string} [predicate=_.identity] The function invoked\n *  per iteration.\n * @param {*} [thisArg] The `this` binding of `predicate`.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.result(_.find(users, function(chr) {\n *   return chr.age < 40;\n * }), 'user');\n * // => 'barney'\n *\n * // using the `_.matches` callback shorthand\n * _.result(_.find(users, { 'age': 1, 'active': true }), 'user');\n * // => 'pebbles'\n *\n * // using the `_.matchesProperty` callback shorthand\n * _.result(_.find(users, 'active', false), 'user');\n * // => 'fred'\n *\n * // using the `_.property` callback shorthand\n * _.result(_.find(users, 'active'), 'user');\n * // => 'barney'\n */\nvar find = createFind(baseEach);\n\nmodule.exports = find;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/collection/find.js\n// module id = 197\n// module chunks = 1","var baseCallback = require('./baseCallback'),\n    baseFind = require('./baseFind'),\n    baseFindIndex = require('./baseFindIndex'),\n    isArray = require('../lang/isArray');\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(eachFunc, fromRight) {\n  return function(collection, predicate, thisArg) {\n    predicate = baseCallback(predicate, thisArg, 3);\n    if (isArray(collection)) {\n      var index = baseFindIndex(collection, predicate, fromRight);\n      return index > -1 ? collection[index] : undefined;\n    }\n    return baseFind(collection, predicate, eachFunc);\n  };\n}\n\nmodule.exports = createFind;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/createFind.js\n// module id = 198\n// module chunks = 1","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for callback shorthands and `this` binding.\n *\n * @private\n * @param {Array} array The array to search.\n * @param {Function} predicate The function invoked per iteration.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromRight) {\n  var length = array.length,\n      index = fromRight ? length : -1;\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseFindIndex.js\n// module id = 199\n// module chunks = 1","var baseCallback = require('../internal/baseCallback'),\n    baseUniq = require('../internal/baseUniq'),\n    isIterateeCall = require('../internal/isIterateeCall'),\n    sortedUniq = require('../internal/sortedUniq');\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurence of each element\n * is kept. Providing `true` for `isSorted` performs a faster search algorithm\n * for sorted arrays. If an iteratee function is provided it's invoked for\n * each element in the array to generate the criterion by which uniqueness\n * is computed. The `iteratee` is bound to `thisArg` and invoked with three\n * arguments: (value, index, array).\n *\n * If a property name is provided for `iteratee` the created `_.property`\n * style callback returns the property value of the given element.\n *\n * If a value is also provided for `thisArg` the created `_.matchesProperty`\n * style callback returns `true` for elements that have a matching property\n * value, else `false`.\n *\n * If an object is provided for `iteratee` the created `_.matches` style\n * callback returns `true` for elements that have the properties of the given\n * object, else `false`.\n *\n * @static\n * @memberOf _\n * @alias unique\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {boolean} [isSorted] Specify the array is sorted.\n * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n * @param {*} [thisArg] The `this` binding of `iteratee`.\n * @returns {Array} Returns the new duplicate-value-free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n *\n * // using `isSorted`\n * _.uniq([1, 1, 2], true);\n * // => [1, 2]\n *\n * // using an iteratee function\n * _.uniq([1, 2.5, 1.5, 2], function(n) {\n *   return this.floor(n);\n * }, Math);\n * // => [1, 2.5]\n *\n * // using the `_.property` callback shorthand\n * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniq(array, isSorted, iteratee, thisArg) {\n  var length = array ? array.length : 0;\n  if (!length) {\n    return [];\n  }\n  if (isSorted != null && typeof isSorted != 'boolean') {\n    thisArg = iteratee;\n    iteratee = isIterateeCall(array, isSorted, thisArg) ? undefined : isSorted;\n    isSorted = false;\n  }\n  iteratee = iteratee == null ? iteratee : baseCallback(iteratee, thisArg, 3);\n  return (isSorted)\n    ? sortedUniq(array, iteratee)\n    : baseUniq(array, iteratee);\n}\n\nmodule.exports = uniq;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/array/uniq.js\n// module id = 200\n// module chunks = 1","var baseIndexOf = require('./baseIndexOf'),\n    cacheIndexOf = require('./cacheIndexOf'),\n    createCache = require('./createCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniq` without support for callback shorthands\n * and `this` binding.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The function invoked per iteration.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee) {\n  var index = -1,\n      indexOf = baseIndexOf,\n      length = array.length,\n      isCommon = true,\n      isLarge = isCommon && length >= LARGE_ARRAY_SIZE,\n      seen = isLarge ? createCache() : null,\n      result = [];\n\n  if (seen) {\n    indexOf = cacheIndexOf;\n    isCommon = false;\n  } else {\n    isLarge = false;\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value, index, array) : value;\n\n    if (isCommon && value === value) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (indexOf(seen, computed, 0) < 0) {\n      if (iteratee || isLarge) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseUniq.js\n// module id = 201\n// module chunks = 1","/**\n * An implementation of `_.uniq` optimized for sorted arrays without support\n * for callback shorthands and `this` binding.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The function invoked per iteration.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction sortedUniq(array, iteratee) {\n  var seen,\n      index = -1,\n      length = array.length,\n      resIndex = -1,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value, index, array) : value;\n\n    if (!index || seen !== computed) {\n      seen = computed;\n      result[++resIndex] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = sortedUniq;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/sortedUniq.js\n// module id = 202\n// module chunks = 1","var isObjectLike = require('../internal/isObjectLike');\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are classified\n * as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isNumber(8.4);\n * // => true\n *\n * _.isNumber(NaN);\n * // => true\n *\n * _.isNumber('8.4');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' || (isObjectLike(value) && objToString.call(value) == numberTag);\n}\n\nmodule.exports = isNumber;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/lang/isNumber.js\n// module id = 203\n// module chunks = 1","var arrayFilter = require('../internal/arrayFilter'),\n    baseCallback = require('../internal/baseCallback'),\n    baseFilter = require('../internal/baseFilter'),\n    isArray = require('../lang/isArray');\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n * invoked with three arguments: (value, index|key, collection).\n *\n * If a property name is provided for `predicate` the created `_.property`\n * style callback returns the property value of the given element.\n *\n * If a value is also provided for `thisArg` the created `_.matchesProperty`\n * style callback returns `true` for elements that have a matching property\n * value, else `false`.\n *\n * If an object is provided for `predicate` the created `_.matches` style\n * callback returns `true` for elements that have the properties of the given\n * object, else `false`.\n *\n * @static\n * @memberOf _\n * @alias select\n * @category Collection\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function|Object|string} [predicate=_.identity] The function invoked\n *  per iteration.\n * @param {*} [thisArg] The `this` binding of `predicate`.\n * @returns {Array} Returns the new filtered array.\n * @example\n *\n * _.filter([4, 5, 6], function(n) {\n *   return n % 2 == 0;\n * });\n * // => [4, 6]\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * // using the `_.matches` callback shorthand\n * _.pluck(_.filter(users, { 'age': 36, 'active': true }), 'user');\n * // => ['barney']\n *\n * // using the `_.matchesProperty` callback shorthand\n * _.pluck(_.filter(users, 'active', false), 'user');\n * // => ['fred']\n *\n * // using the `_.property` callback shorthand\n * _.pluck(_.filter(users, 'active'), 'user');\n * // => ['barney']\n */\nfunction filter(collection, predicate, thisArg) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  predicate = baseCallback(predicate, thisArg, 3);\n  return func(collection, predicate);\n}\n\nmodule.exports = filter;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/collection/filter.js\n// module id = 204\n// module chunks = 1","/**\n * A specialized version of `_.filter` for arrays without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array.length,\n      resIndex = -1,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[++resIndex] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/arrayFilter.js\n// module id = 205\n// module chunks = 1","var baseEach = require('./baseEach');\n\n/**\n * The base implementation of `_.filter` without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFilter;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseFilter.js\n// module id = 206\n// module chunks = 1","/**\n * Replace vars in string templates\n */\n'use strict';\n\nvar CURLY_RX = /\\{([^}]+)\\}/g;\nvar _ = require('./lodash');\n\n/**\n * Finds all entries like {foo.bar} and replaces them with string provided by object\n *\n * @example\n * curly.insertVars('{ns.greet} {ns.who}!', {\n *   ns: {\n *     who: 'world',\n *     greet: 'Hello'\n *   }\n * });\n *\n * @param {string} tmpl\n * @param {Object} vars\n * @param {Object} [options]\n * @param {Function} [options.encode]\n * @param {Regexp} [options.regex]\n * @param {Function} [options.getter] value getter that receives obj and path\n * @returns {string}\n */\nexports.insertVars = function (tmpl, vars, options) {\n    if (typeof tmpl !== 'string') {\n        return tmpl;\n    }\n\n    if (!vars || typeof vars !== 'object') {\n        return tmpl;\n    }\n\n    options = _.defaults({}, options, {\n        regex: CURLY_RX,\n        getter: _.get,\n        encode: null,\n    });\n\n    return tmpl.replace(options.regex, function (match, varName) {\n        varName = varName.trim();\n        var replacement = options.getter(vars, varName);\n        if (replacement === undefined) {\n            return match;\n        } else {\n            return options.encode ? options.encode(replacement) : replacement;\n        }\n    });\n};\n\n/**\n * Insert vars for url with encodeURIComponent\n *\n * @param {string} tmpl\n * @param {Object} vars\n * @param {Object} [options]\n * @param {Function} [options.encode]\n * @param {Regexp} [options.regex]\n * @returns {string}\n */\nexports.insertUrlVars = function (tmpl, vars, options) {\n    options = options || {};\n    options.encode = options.encode || encodeURIComponent;\n    return exports.insertVars(tmpl, vars, options);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./utils/curly.js","/**\n * Действия, которые выполняются всегда (при инстале, апгрейде и обычном старте)\n */\n\n'use strict';\n\nvar asyncLib = require('async');\nvar alarms = require('../../utils/alarms');\nvar frontendMessaging = require('../frontend/messaging');\nvar frontendInitSender = require('../frontend/init-sender');\nvar cookiesYasoft = require('../cookies/yasoft');\nvar auth = require('../auth');\nvar uninstall = require('./uninstall');\nvar settings = require('../settings/settings');\nvar settingsPlatformBridge = require('../settings/platform-bridge');\nvar database = require('../database/database');\nvar pickup = require('../pickup/pickup');\nvar collection = require('../thumbs/collection');\nvar branding = require('../branding');\nvar backgrounds = require('../backgrounds');\nvar closedTabs = require('../closed-tabs');\nvar platformConfigure = require('../../platform/configure');\nvar cookiesYs = require('../cookies/ys');\nvar gpauto = require('../cookies/gpauto');\nvar remoteConfig = require('../remote-config');\nvar advertisement = require('../advertisement');\nvar backup = require('../backup');\nvar formatMessage = require('../../utils/format-message');\nvar error = require('../error/error');\nvar buildInfo = require('../../platform/build-info');\nvar platformAbout = require('../../platform/about');\nvar platformClid = require('../../platform/clid');\nvar browserInfo = require('../../utils/browser-info');\nvar i18n = require('../i18n');\nvar buildData = require('../debug/build-data');\nvar logLevels = require('../settings/log-levels');\nvar experiments = require('../experiments');\nvar runstate = require('./runstate');\n\nvar logger = require('../../utils/logger').create('Startup');\n\n// модули, у которых вызывается init() после загрузки базовых settings / thumbs / branding\nvar normalModules = [\n    logLevels,\n    // experiments should be upper as some modules may use it inside init\n    experiments,\n    collection,\n    pickup,\n    require('../site-info'),\n    require('../favicon'),\n    backgrounds,\n    cookiesYs,\n    cookiesYasoft,\n    require('../blacklist/blacklist'),\n    require('../screenshots/screenshots'),\n    require('../maintenance'),\n    require('../debug/log'),\n    remoteConfig,\n    advertisement,\n    require('../debug/log'),\n    require('../statistics'),\n    require('../frontend'),\n    backup,\n    closedTabs,\n    gpauto,\n    require('../guide'),\n    require('../custom-logo'),\n    require('../sync'),\n    require('../branding/applier'),\n    require('../informers'),\n    require('../host-permissions'),\n    require('../host-permissions/notification'),\n];\n\n// выствляем глобальную переменную debug для отладки\nwindow.debug = require('../debug/debug').getters;\n\n/**\n * подготовка к запуску:\n * - выставляем уровни логирования\n * - кешируем алармы\n * - слушаем глобальные ошибки\n */\nexports.prepare = function () {\n    // выставляем уровни логирования\n    logLevels.prepare();\n\n    // пишем в лог шапку\n    logHeader();\n\n    // подписываемся на window.onerror\n    error.attach(window);\n};\n\n/**\n * Загружаем базовые модули, которые нужны многим остальным:\n * - бд\n * - настройки\n * - файловая система\n * - брендинг\n * @param {Function} callback\n */\nexports.initCore = function (callback) {\n    asyncLib.series([\n        platformClid.init.bind(platformClid),\n        database.open.bind(database),\n        settings.load.bind(settings),\n        settingsPlatformBridge.init.bind(settingsPlatformBridge),\n        branding.init.bind(branding),\n    ], function (err) {\n        if (err) {\n            logger.error('Error during init core modules: %s', err.message);\n        }\n\n        try {\n            platformConfigure({showZen: false});\n            platformConfigure({fileDownloader: true});\n            platformConfigure({browserAction: true});\n            i18n.init(branding.vars.defaultLocale);\n        } catch (err) {\n            logger.error('Error during platform configuration: %s', err.message);\n        } finally {\n            callback();\n        }\n    });\n};\n\n/**\n * Синхронно инициализируем обычные модули, которые зависят от core (settings / thumbs / branding)\n */\nexports.initNormal = function () {\n    normalModules.forEach(function (module) {\n        if (module.init) {\n            module.init();\n        } else {\n            throw new Error(formatMessage('No `init` method for module %j', module));\n        }\n    });\n\n    platformConfigure({removeIfAnotherInstance: true});\n    platformConfigure({softExport: 'init'});\n    platformConfigure({barNavig: 'init'});\n    platformConfigure({ybImport: 'init'});\n};\n\n/**\n * Финальная функция, запускает обработку таймеров, отправляет инит во все фронтенды.\n * @param {Function} callback\n */\nexports.finalize = function (callback) {\n    // обрабатываем таймеры, пришедшие в процессе загрузки\n    alarms.stopCaching();\n\n    // Send 'init' to all (possibly opened) frontends and start messaging\n    frontendMessaging.run();\n    frontendInitSender.sendAll();\n\n    // часть инициализации продолжаем после отправки на фронтенд,\n\n    // авторизация\n    // todo: move to initNormalModules or rename\n    auth.init();\n\n    // выводим список текущий таймеров\n    alarms.logAll();\n\n    // пишем yasoft в куку\n    cookiesYasoft.set();\n\n    // конфигурим действия при деинсталяции\n    uninstall.setup();\n\n    // выставляем ready флаг\n    runstate.setReady();\n\n    callback();\n};\n\nfunction logHeader() {\n    logger.info('======================== Initializing.. ========================');\n    logger.info('Browser: %s %s', browserInfo.name, browserInfo.version);\n    logger.info('Platform: %s %s-%s %s',\n        platformAbout.id,\n        buildInfo.getVersion(),\n        buildInfo.getRevision(),\n        !buildInfo.isDebug() ? 'PROD' : 'DEV'\n    );\n    logger.info('Common backend: %s-%s (%s) %s',\n        buildData.version,\n        buildData.git.buildNumber,\n        buildData.git.sha,\n        buildData.git.release ? 'PROD' : 'DEV'\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/startup/always.js","/*!\n * async\n * https://github.com/caolan/async\n *\n * Copyright 2010-2014 Caolan McMahon\n * Released under the MIT license\n */\n(function () {\n\n    var async = {};\n    function noop() {}\n    function identity(v) {\n        return v;\n    }\n    function toBool(v) {\n        return !!v;\n    }\n    function notId(v) {\n        return !v;\n    }\n\n    // global on the server, window in the browser\n    var previous_async;\n\n    // Establish the root object, `window` (`self`) in the browser, `global`\n    // on the server, or `this` in some virtual machines. We use `self`\n    // instead of `window` for `WebWorker` support.\n    var root = typeof self === 'object' && self.self === self && self ||\n            typeof global === 'object' && global.global === global && global ||\n            this;\n\n    if (root != null) {\n        previous_async = root.async;\n    }\n\n    async.noConflict = function () {\n        root.async = previous_async;\n        return async;\n    };\n\n    function only_once(fn) {\n        return function() {\n            if (fn === null) throw new Error(\"Callback was already called.\");\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    function _once(fn) {\n        return function() {\n            if (fn === null) return;\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    //// cross-browser compatiblity functions ////\n\n    var _toString = Object.prototype.toString;\n\n    var _isArray = Array.isArray || function (obj) {\n        return _toString.call(obj) === '[object Array]';\n    };\n\n    // Ported from underscore.js isObject\n    var _isObject = function(obj) {\n        var type = typeof obj;\n        return type === 'function' || type === 'object' && !!obj;\n    };\n\n    function _isArrayLike(arr) {\n        return _isArray(arr) || (\n            // has a positive integer length property\n            typeof arr.length === \"number\" &&\n            arr.length >= 0 &&\n            arr.length % 1 === 0\n        );\n    }\n\n    function _arrayEach(arr, iterator) {\n        var index = -1,\n            length = arr.length;\n\n        while (++index < length) {\n            iterator(arr[index], index, arr);\n        }\n    }\n\n    function _map(arr, iterator) {\n        var index = -1,\n            length = arr.length,\n            result = Array(length);\n\n        while (++index < length) {\n            result[index] = iterator(arr[index], index, arr);\n        }\n        return result;\n    }\n\n    function _range(count) {\n        return _map(Array(count), function (v, i) { return i; });\n    }\n\n    function _reduce(arr, iterator, memo) {\n        _arrayEach(arr, function (x, i, a) {\n            memo = iterator(memo, x, i, a);\n        });\n        return memo;\n    }\n\n    function _forEachOf(object, iterator) {\n        _arrayEach(_keys(object), function (key) {\n            iterator(object[key], key);\n        });\n    }\n\n    function _indexOf(arr, item) {\n        for (var i = 0; i < arr.length; i++) {\n            if (arr[i] === item) return i;\n        }\n        return -1;\n    }\n\n    var _keys = Object.keys || function (obj) {\n        var keys = [];\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                keys.push(k);\n            }\n        }\n        return keys;\n    };\n\n    function _keyIterator(coll) {\n        var i = -1;\n        var len;\n        var keys;\n        if (_isArrayLike(coll)) {\n            len = coll.length;\n            return function next() {\n                i++;\n                return i < len ? i : null;\n            };\n        } else {\n            keys = _keys(coll);\n            len = keys.length;\n            return function next() {\n                i++;\n                return i < len ? keys[i] : null;\n            };\n        }\n    }\n\n    // Similar to ES6's rest param (http://ariya.ofilabs.com/2013/03/es6-and-rest-parameter.html)\n    // This accumulates the arguments passed into an array, after a given index.\n    // From underscore.js (https://github.com/jashkenas/underscore/pull/2140).\n    function _restParam(func, startIndex) {\n        startIndex = startIndex == null ? func.length - 1 : +startIndex;\n        return function() {\n            var length = Math.max(arguments.length - startIndex, 0);\n            var rest = Array(length);\n            for (var index = 0; index < length; index++) {\n                rest[index] = arguments[index + startIndex];\n            }\n            switch (startIndex) {\n                case 0: return func.call(this, rest);\n                case 1: return func.call(this, arguments[0], rest);\n            }\n            // Currently unused but handle cases outside of the switch statement:\n            // var args = Array(startIndex + 1);\n            // for (index = 0; index < startIndex; index++) {\n            //     args[index] = arguments[index];\n            // }\n            // args[startIndex] = rest;\n            // return func.apply(this, args);\n        };\n    }\n\n    function _withoutIndex(iterator) {\n        return function (value, index, callback) {\n            return iterator(value, callback);\n        };\n    }\n\n    //// exported async module functions ////\n\n    //// nextTick implementation with browser-compatible fallback ////\n\n    // capture the global reference to guard against fakeTimer mocks\n    var _setImmediate = typeof setImmediate === 'function' && setImmediate;\n\n    var _delay = _setImmediate ? function(fn) {\n        // not a direct alias for IE10 compatibility\n        _setImmediate(fn);\n    } : function(fn) {\n        setTimeout(fn, 0);\n    };\n\n    if (typeof process === 'object' && typeof process.nextTick === 'function') {\n        async.nextTick = process.nextTick;\n    } else {\n        async.nextTick = _delay;\n    }\n    async.setImmediate = _setImmediate ? _delay : async.nextTick;\n\n\n    async.forEach =\n    async.each = function (arr, iterator, callback) {\n        return async.eachOf(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachSeries =\n    async.eachSeries = function (arr, iterator, callback) {\n        return async.eachOfSeries(arr, _withoutIndex(iterator), callback);\n    };\n\n\n    async.forEachLimit =\n    async.eachLimit = function (arr, limit, iterator, callback) {\n        return _eachOfLimit(limit)(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachOf =\n    async.eachOf = function (object, iterator, callback) {\n        callback = _once(callback || noop);\n        object = object || [];\n\n        var iter = _keyIterator(object);\n        var key, completed = 0;\n\n        while ((key = iter()) != null) {\n            completed += 1;\n            iterator(object[key], key, only_once(done));\n        }\n\n        if (completed === 0) callback(null);\n\n        function done(err) {\n            completed--;\n            if (err) {\n                callback(err);\n            }\n            // Check key is null in case iterator isn't exhausted\n            // and done resolved synchronously.\n            else if (key === null && completed <= 0) {\n                callback(null);\n            }\n        }\n    };\n\n    async.forEachOfSeries =\n    async.eachOfSeries = function (obj, iterator, callback) {\n        callback = _once(callback || noop);\n        obj = obj || [];\n        var nextKey = _keyIterator(obj);\n        var key = nextKey();\n        function iterate() {\n            var sync = true;\n            if (key === null) {\n                return callback(null);\n            }\n            iterator(obj[key], key, only_once(function (err) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    key = nextKey();\n                    if (key === null) {\n                        return callback(null);\n                    } else {\n                        if (sync) {\n                            async.setImmediate(iterate);\n                        } else {\n                            iterate();\n                        }\n                    }\n                }\n            }));\n            sync = false;\n        }\n        iterate();\n    };\n\n\n\n    async.forEachOfLimit =\n    async.eachOfLimit = function (obj, limit, iterator, callback) {\n        _eachOfLimit(limit)(obj, iterator, callback);\n    };\n\n    function _eachOfLimit(limit) {\n\n        return function (obj, iterator, callback) {\n            callback = _once(callback || noop);\n            obj = obj || [];\n            var nextKey = _keyIterator(obj);\n            if (limit <= 0) {\n                return callback(null);\n            }\n            var done = false;\n            var running = 0;\n            var errored = false;\n\n            (function replenish () {\n                if (done && running <= 0) {\n                    return callback(null);\n                }\n\n                while (running < limit && !errored) {\n                    var key = nextKey();\n                    if (key === null) {\n                        done = true;\n                        if (running <= 0) {\n                            callback(null);\n                        }\n                        return;\n                    }\n                    running += 1;\n                    iterator(obj[key], key, only_once(function (err) {\n                        running -= 1;\n                        if (err) {\n                            callback(err);\n                            errored = true;\n                        }\n                        else {\n                            replenish();\n                        }\n                    }));\n                }\n            })();\n        };\n    }\n\n\n    function doParallel(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOf, obj, iterator, callback);\n        };\n    }\n    function doParallelLimit(fn) {\n        return function (obj, limit, iterator, callback) {\n            return fn(_eachOfLimit(limit), obj, iterator, callback);\n        };\n    }\n    function doSeries(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOfSeries, obj, iterator, callback);\n        };\n    }\n\n    function _asyncMap(eachfn, arr, iterator, callback) {\n        callback = _once(callback || noop);\n        arr = arr || [];\n        var results = _isArrayLike(arr) ? [] : {};\n        eachfn(arr, function (value, index, callback) {\n            iterator(value, function (err, v) {\n                results[index] = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.map = doParallel(_asyncMap);\n    async.mapSeries = doSeries(_asyncMap);\n    async.mapLimit = doParallelLimit(_asyncMap);\n\n    // reduce only has a series version, as doing reduce in parallel won't\n    // work in many situations.\n    async.inject =\n    async.foldl =\n    async.reduce = function (arr, memo, iterator, callback) {\n        async.eachOfSeries(arr, function (x, i, callback) {\n            iterator(memo, x, function (err, v) {\n                memo = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, memo);\n        });\n    };\n\n    async.foldr =\n    async.reduceRight = function (arr, memo, iterator, callback) {\n        var reversed = _map(arr, identity).reverse();\n        async.reduce(reversed, memo, iterator, callback);\n    };\n\n    async.transform = function (arr, memo, iterator, callback) {\n        if (arguments.length === 3) {\n            callback = iterator;\n            iterator = memo;\n            memo = _isArray(arr) ? [] : {};\n        }\n\n        async.eachOf(arr, function(v, k, cb) {\n            iterator(memo, v, k, cb);\n        }, function(err) {\n            callback(err, memo);\n        });\n    };\n\n    function _filter(eachfn, arr, iterator, callback) {\n        var results = [];\n        eachfn(arr, function (x, index, callback) {\n            iterator(x, function (v) {\n                if (v) {\n                    results.push({index: index, value: x});\n                }\n                callback();\n            });\n        }, function () {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    }\n\n    async.select =\n    async.filter = doParallel(_filter);\n\n    async.selectLimit =\n    async.filterLimit = doParallelLimit(_filter);\n\n    async.selectSeries =\n    async.filterSeries = doSeries(_filter);\n\n    function _reject(eachfn, arr, iterator, callback) {\n        _filter(eachfn, arr, function(value, cb) {\n            iterator(value, function(v) {\n                cb(!v);\n            });\n        }, callback);\n    }\n    async.reject = doParallel(_reject);\n    async.rejectLimit = doParallelLimit(_reject);\n    async.rejectSeries = doSeries(_reject);\n\n    function _createTester(eachfn, check, getResult) {\n        return function(arr, limit, iterator, cb) {\n            function done() {\n                if (cb) cb(getResult(false, void 0));\n            }\n            function iteratee(x, _, callback) {\n                if (!cb) return callback();\n                iterator(x, function (v) {\n                    if (cb && check(v)) {\n                        cb(getResult(true, x));\n                        cb = iterator = false;\n                    }\n                    callback();\n                });\n            }\n            if (arguments.length > 3) {\n                eachfn(arr, limit, iteratee, done);\n            } else {\n                cb = iterator;\n                iterator = limit;\n                eachfn(arr, iteratee, done);\n            }\n        };\n    }\n\n    async.any =\n    async.some = _createTester(async.eachOf, toBool, identity);\n\n    async.someLimit = _createTester(async.eachOfLimit, toBool, identity);\n\n    async.all =\n    async.every = _createTester(async.eachOf, notId, notId);\n\n    async.everyLimit = _createTester(async.eachOfLimit, notId, notId);\n\n    function _findGetResult(v, x) {\n        return x;\n    }\n    async.detect = _createTester(async.eachOf, identity, _findGetResult);\n    async.detectSeries = _createTester(async.eachOfSeries, identity, _findGetResult);\n    async.detectLimit = _createTester(async.eachOfLimit, identity, _findGetResult);\n\n    async.sortBy = function (arr, iterator, callback) {\n        async.map(arr, function (x, callback) {\n            iterator(x, function (err, criteria) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    callback(null, {value: x, criteria: criteria});\n                }\n            });\n        }, function (err, results) {\n            if (err) {\n                return callback(err);\n            }\n            else {\n                callback(null, _map(results.sort(comparator), function (x) {\n                    return x.value;\n                }));\n            }\n\n        });\n\n        function comparator(left, right) {\n            var a = left.criteria, b = right.criteria;\n            return a < b ? -1 : a > b ? 1 : 0;\n        }\n    };\n\n    async.auto = function (tasks, concurrency, callback) {\n        if (typeof arguments[1] === 'function') {\n            // concurrency is optional, shift the args.\n            callback = concurrency;\n            concurrency = null;\n        }\n        callback = _once(callback || noop);\n        var keys = _keys(tasks);\n        var remainingTasks = keys.length;\n        if (!remainingTasks) {\n            return callback(null);\n        }\n        if (!concurrency) {\n            concurrency = remainingTasks;\n        }\n\n        var results = {};\n        var runningTasks = 0;\n\n        var hasError = false;\n\n        var listeners = [];\n        function addListener(fn) {\n            listeners.unshift(fn);\n        }\n        function removeListener(fn) {\n            var idx = _indexOf(listeners, fn);\n            if (idx >= 0) listeners.splice(idx, 1);\n        }\n        function taskComplete() {\n            remainingTasks--;\n            _arrayEach(listeners.slice(0), function (fn) {\n                fn();\n            });\n        }\n\n        addListener(function () {\n            if (!remainingTasks) {\n                callback(null, results);\n            }\n        });\n\n        _arrayEach(keys, function (k) {\n            if (hasError) return;\n            var task = _isArray(tasks[k]) ? tasks[k]: [tasks[k]];\n            var taskCallback = _restParam(function(err, args) {\n                runningTasks--;\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                if (err) {\n                    var safeResults = {};\n                    _forEachOf(results, function(val, rkey) {\n                        safeResults[rkey] = val;\n                    });\n                    safeResults[k] = args;\n                    hasError = true;\n\n                    callback(err, safeResults);\n                }\n                else {\n                    results[k] = args;\n                    async.setImmediate(taskComplete);\n                }\n            });\n            var requires = task.slice(0, task.length - 1);\n            // prevent dead-locks\n            var len = requires.length;\n            var dep;\n            while (len--) {\n                if (!(dep = tasks[requires[len]])) {\n                    throw new Error('Has nonexistent dependency in ' + requires.join(', '));\n                }\n                if (_isArray(dep) && _indexOf(dep, k) >= 0) {\n                    throw new Error('Has cyclic dependencies');\n                }\n            }\n            function ready() {\n                return runningTasks < concurrency && _reduce(requires, function (a, x) {\n                    return (a && results.hasOwnProperty(x));\n                }, true) && !results.hasOwnProperty(k);\n            }\n            if (ready()) {\n                runningTasks++;\n                task[task.length - 1](taskCallback, results);\n            }\n            else {\n                addListener(listener);\n            }\n            function listener() {\n                if (ready()) {\n                    runningTasks++;\n                    removeListener(listener);\n                    task[task.length - 1](taskCallback, results);\n                }\n            }\n        });\n    };\n\n\n\n    async.retry = function(times, task, callback) {\n        var DEFAULT_TIMES = 5;\n        var DEFAULT_INTERVAL = 0;\n\n        var attempts = [];\n\n        var opts = {\n            times: DEFAULT_TIMES,\n            interval: DEFAULT_INTERVAL\n        };\n\n        function parseTimes(acc, t){\n            if(typeof t === 'number'){\n                acc.times = parseInt(t, 10) || DEFAULT_TIMES;\n            } else if(typeof t === 'object'){\n                acc.times = parseInt(t.times, 10) || DEFAULT_TIMES;\n                acc.interval = parseInt(t.interval, 10) || DEFAULT_INTERVAL;\n            } else {\n                throw new Error('Unsupported argument type for \\'times\\': ' + typeof t);\n            }\n        }\n\n        var length = arguments.length;\n        if (length < 1 || length > 3) {\n            throw new Error('Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)');\n        } else if (length <= 2 && typeof times === 'function') {\n            callback = task;\n            task = times;\n        }\n        if (typeof times !== 'function') {\n            parseTimes(opts, times);\n        }\n        opts.callback = callback;\n        opts.task = task;\n\n        function wrappedTask(wrappedCallback, wrappedResults) {\n            function retryAttempt(task, finalAttempt) {\n                return function(seriesCallback) {\n                    task(function(err, result){\n                        seriesCallback(!err || finalAttempt, {err: err, result: result});\n                    }, wrappedResults);\n                };\n            }\n\n            function retryInterval(interval){\n                return function(seriesCallback){\n                    setTimeout(function(){\n                        seriesCallback(null);\n                    }, interval);\n                };\n            }\n\n            while (opts.times) {\n\n                var finalAttempt = !(opts.times-=1);\n                attempts.push(retryAttempt(opts.task, finalAttempt));\n                if(!finalAttempt && opts.interval > 0){\n                    attempts.push(retryInterval(opts.interval));\n                }\n            }\n\n            async.series(attempts, function(done, data){\n                data = data[data.length - 1];\n                (wrappedCallback || opts.callback)(data.err, data.result);\n            });\n        }\n\n        // If a callback is passed, run this as a controll flow\n        return opts.callback ? wrappedTask() : wrappedTask;\n    };\n\n    async.waterfall = function (tasks, callback) {\n        callback = _once(callback || noop);\n        if (!_isArray(tasks)) {\n            var err = new Error('First argument to waterfall must be an array of functions');\n            return callback(err);\n        }\n        if (!tasks.length) {\n            return callback();\n        }\n        function wrapIterator(iterator) {\n            return _restParam(function (err, args) {\n                if (err) {\n                    callback.apply(null, [err].concat(args));\n                }\n                else {\n                    var next = iterator.next();\n                    if (next) {\n                        args.push(wrapIterator(next));\n                    }\n                    else {\n                        args.push(callback);\n                    }\n                    ensureAsync(iterator).apply(null, args);\n                }\n            });\n        }\n        wrapIterator(async.iterator(tasks))();\n    };\n\n    function _parallel(eachfn, tasks, callback) {\n        callback = callback || noop;\n        var results = _isArrayLike(tasks) ? [] : {};\n\n        eachfn(tasks, function (task, key, callback) {\n            task(_restParam(function (err, args) {\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                results[key] = args;\n                callback(err);\n            }));\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.parallel = function (tasks, callback) {\n        _parallel(async.eachOf, tasks, callback);\n    };\n\n    async.parallelLimit = function(tasks, limit, callback) {\n        _parallel(_eachOfLimit(limit), tasks, callback);\n    };\n\n    async.series = function(tasks, callback) {\n        _parallel(async.eachOfSeries, tasks, callback);\n    };\n\n    async.iterator = function (tasks) {\n        function makeCallback(index) {\n            function fn() {\n                if (tasks.length) {\n                    tasks[index].apply(null, arguments);\n                }\n                return fn.next();\n            }\n            fn.next = function () {\n                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n            };\n            return fn;\n        }\n        return makeCallback(0);\n    };\n\n    async.apply = _restParam(function (fn, args) {\n        return _restParam(function (callArgs) {\n            return fn.apply(\n                null, args.concat(callArgs)\n            );\n        });\n    });\n\n    function _concat(eachfn, arr, fn, callback) {\n        var result = [];\n        eachfn(arr, function (x, index, cb) {\n            fn(x, function (err, y) {\n                result = result.concat(y || []);\n                cb(err);\n            });\n        }, function (err) {\n            callback(err, result);\n        });\n    }\n    async.concat = doParallel(_concat);\n    async.concatSeries = doSeries(_concat);\n\n    async.whilst = function (test, iterator, callback) {\n        callback = callback || noop;\n        if (test()) {\n            var next = _restParam(function(err, args) {\n                if (err) {\n                    callback(err);\n                } else if (test.apply(this, args)) {\n                    iterator(next);\n                } else {\n                    callback.apply(null, [null].concat(args));\n                }\n            });\n            iterator(next);\n        } else {\n            callback(null);\n        }\n    };\n\n    async.doWhilst = function (iterator, test, callback) {\n        var calls = 0;\n        return async.whilst(function() {\n            return ++calls <= 1 || test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.until = function (test, iterator, callback) {\n        return async.whilst(function() {\n            return !test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.doUntil = function (iterator, test, callback) {\n        return async.doWhilst(iterator, function() {\n            return !test.apply(this, arguments);\n        }, callback);\n    };\n\n    async.during = function (test, iterator, callback) {\n        callback = callback || noop;\n\n        var next = _restParam(function(err, args) {\n            if (err) {\n                callback(err);\n            } else {\n                args.push(check);\n                test.apply(this, args);\n            }\n        });\n\n        var check = function(err, truth) {\n            if (err) {\n                callback(err);\n            } else if (truth) {\n                iterator(next);\n            } else {\n                callback(null);\n            }\n        };\n\n        test(check);\n    };\n\n    async.doDuring = function (iterator, test, callback) {\n        var calls = 0;\n        async.during(function(next) {\n            if (calls++ < 1) {\n                next(null, true);\n            } else {\n                test.apply(this, arguments);\n            }\n        }, iterator, callback);\n    };\n\n    function _queue(worker, concurrency, payload) {\n        if (concurrency == null) {\n            concurrency = 1;\n        }\n        else if(concurrency === 0) {\n            throw new Error('Concurrency must not be zero');\n        }\n        function _insert(q, data, pos, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0 && q.idle()) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    callback: callback || noop\n                };\n\n                if (pos) {\n                    q.tasks.unshift(item);\n                } else {\n                    q.tasks.push(item);\n                }\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n            });\n            async.setImmediate(q.process);\n        }\n        function _next(q, tasks) {\n            return function(){\n                workers -= 1;\n\n                var removed = false;\n                var args = arguments;\n                _arrayEach(tasks, function (task) {\n                    _arrayEach(workersList, function (worker, index) {\n                        if (worker === task && !removed) {\n                            workersList.splice(index, 1);\n                            removed = true;\n                        }\n                    });\n\n                    task.callback.apply(task, args);\n                });\n                if (q.tasks.length + workers === 0) {\n                    q.drain();\n                }\n                q.process();\n            };\n        }\n\n        var workers = 0;\n        var workersList = [];\n        var q = {\n            tasks: [],\n            concurrency: concurrency,\n            payload: payload,\n            saturated: noop,\n            empty: noop,\n            drain: noop,\n            started: false,\n            paused: false,\n            push: function (data, callback) {\n                _insert(q, data, false, callback);\n            },\n            kill: function () {\n                q.drain = noop;\n                q.tasks = [];\n            },\n            unshift: function (data, callback) {\n                _insert(q, data, true, callback);\n            },\n            process: function () {\n                while(!q.paused && workers < q.concurrency && q.tasks.length){\n\n                    var tasks = q.payload ?\n                        q.tasks.splice(0, q.payload) :\n                        q.tasks.splice(0, q.tasks.length);\n\n                    var data = _map(tasks, function (task) {\n                        return task.data;\n                    });\n\n                    if (q.tasks.length === 0) {\n                        q.empty();\n                    }\n                    workers += 1;\n                    workersList.push(tasks[0]);\n                    var cb = only_once(_next(q, tasks));\n                    worker(data, cb);\n                }\n            },\n            length: function () {\n                return q.tasks.length;\n            },\n            running: function () {\n                return workers;\n            },\n            workersList: function () {\n                return workersList;\n            },\n            idle: function() {\n                return q.tasks.length + workers === 0;\n            },\n            pause: function () {\n                q.paused = true;\n            },\n            resume: function () {\n                if (q.paused === false) { return; }\n                q.paused = false;\n                var resumeCount = Math.min(q.concurrency, q.tasks.length);\n                // Need to call q.process once per concurrent\n                // worker to preserve full concurrency after pause\n                for (var w = 1; w <= resumeCount; w++) {\n                    async.setImmediate(q.process);\n                }\n            }\n        };\n        return q;\n    }\n\n    async.queue = function (worker, concurrency) {\n        var q = _queue(function (items, cb) {\n            worker(items[0], cb);\n        }, concurrency, 1);\n\n        return q;\n    };\n\n    async.priorityQueue = function (worker, concurrency) {\n\n        function _compareTasks(a, b){\n            return a.priority - b.priority;\n        }\n\n        function _binarySearch(sequence, item, compare) {\n            var beg = -1,\n                end = sequence.length - 1;\n            while (beg < end) {\n                var mid = beg + ((end - beg + 1) >>> 1);\n                if (compare(item, sequence[mid]) >= 0) {\n                    beg = mid;\n                } else {\n                    end = mid - 1;\n                }\n            }\n            return beg;\n        }\n\n        function _insert(q, data, priority, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    priority: priority,\n                    callback: typeof callback === 'function' ? callback : noop\n                };\n\n                q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item);\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n                async.setImmediate(q.process);\n            });\n        }\n\n        // Start with a normal queue\n        var q = async.queue(worker, concurrency);\n\n        // Override push to accept second parameter representing priority\n        q.push = function (data, priority, callback) {\n            _insert(q, data, priority, callback);\n        };\n\n        // Remove unshift function\n        delete q.unshift;\n\n        return q;\n    };\n\n    async.cargo = function (worker, payload) {\n        return _queue(worker, 1, payload);\n    };\n\n    function _console_fn(name) {\n        return _restParam(function (fn, args) {\n            fn.apply(null, args.concat([_restParam(function (err, args) {\n                if (typeof console === 'object') {\n                    if (err) {\n                        if (console.error) {\n                            console.error(err);\n                        }\n                    }\n                    else if (console[name]) {\n                        _arrayEach(args, function (x) {\n                            console[name](x);\n                        });\n                    }\n                }\n            })]));\n        });\n    }\n    async.log = _console_fn('log');\n    async.dir = _console_fn('dir');\n    /*async.info = _console_fn('info');\n    async.warn = _console_fn('warn');\n    async.error = _console_fn('error');*/\n\n    async.memoize = function (fn, hasher) {\n        var memo = {};\n        var queues = {};\n        var has = Object.prototype.hasOwnProperty;\n        hasher = hasher || identity;\n        var memoized = _restParam(function memoized(args) {\n            var callback = args.pop();\n            var key = hasher.apply(null, args);\n            if (has.call(memo, key)) {   \n                async.setImmediate(function () {\n                    callback.apply(null, memo[key]);\n                });\n            }\n            else if (has.call(queues, key)) {\n                queues[key].push(callback);\n            }\n            else {\n                queues[key] = [callback];\n                fn.apply(null, args.concat([_restParam(function (args) {\n                    memo[key] = args;\n                    var q = queues[key];\n                    delete queues[key];\n                    for (var i = 0, l = q.length; i < l; i++) {\n                        q[i].apply(null, args);\n                    }\n                })]));\n            }\n        });\n        memoized.memo = memo;\n        memoized.unmemoized = fn;\n        return memoized;\n    };\n\n    async.unmemoize = function (fn) {\n        return function () {\n            return (fn.unmemoized || fn).apply(null, arguments);\n        };\n    };\n\n    function _times(mapper) {\n        return function (count, iterator, callback) {\n            mapper(_range(count), iterator, callback);\n        };\n    }\n\n    async.times = _times(async.map);\n    async.timesSeries = _times(async.mapSeries);\n    async.timesLimit = function (count, limit, iterator, callback) {\n        return async.mapLimit(_range(count), limit, iterator, callback);\n    };\n\n    async.seq = function (/* functions... */) {\n        var fns = arguments;\n        return _restParam(function (args) {\n            var that = this;\n\n            var callback = args[args.length - 1];\n            if (typeof callback == 'function') {\n                args.pop();\n            } else {\n                callback = noop;\n            }\n\n            async.reduce(fns, args, function (newargs, fn, cb) {\n                fn.apply(that, newargs.concat([_restParam(function (err, nextargs) {\n                    cb(err, nextargs);\n                })]));\n            },\n            function (err, results) {\n                callback.apply(that, [err].concat(results));\n            });\n        });\n    };\n\n    async.compose = function (/* functions... */) {\n        return async.seq.apply(null, Array.prototype.reverse.call(arguments));\n    };\n\n\n    function _applyEach(eachfn) {\n        return _restParam(function(fns, args) {\n            var go = _restParam(function(args) {\n                var that = this;\n                var callback = args.pop();\n                return eachfn(fns, function (fn, _, cb) {\n                    fn.apply(that, args.concat([cb]));\n                },\n                callback);\n            });\n            if (args.length) {\n                return go.apply(this, args);\n            }\n            else {\n                return go;\n            }\n        });\n    }\n\n    async.applyEach = _applyEach(async.eachOf);\n    async.applyEachSeries = _applyEach(async.eachOfSeries);\n\n\n    async.forever = function (fn, callback) {\n        var done = only_once(callback || noop);\n        var task = ensureAsync(fn);\n        function next(err) {\n            if (err) {\n                return done(err);\n            }\n            task(next);\n        }\n        next();\n    };\n\n    function ensureAsync(fn) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            args.push(function () {\n                var innerArgs = arguments;\n                if (sync) {\n                    async.setImmediate(function () {\n                        callback.apply(null, innerArgs);\n                    });\n                } else {\n                    callback.apply(null, innerArgs);\n                }\n            });\n            var sync = true;\n            fn.apply(this, args);\n            sync = false;\n        });\n    }\n\n    async.ensureAsync = ensureAsync;\n\n    async.constant = _restParam(function(values) {\n        var args = [null].concat(values);\n        return function (callback) {\n            return callback.apply(this, args);\n        };\n    });\n\n    async.wrapSync =\n    async.asyncify = function asyncify(func) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            var result;\n            try {\n                result = func.apply(this, args);\n            } catch (e) {\n                return callback(e);\n            }\n            // if result is Promise object\n            if (_isObject(result) && typeof result.then === \"function\") {\n                result.then(function(value) {\n                    callback(null, value);\n                })[\"catch\"](function(err) {\n                    callback(err.message ? err : new Error(err));\n                });\n            } else {\n                callback(null, result);\n            }\n        });\n    };\n\n    // Node.js\n    if (typeof module === 'object' && module.exports) {\n        module.exports = async;\n    }\n    // AMD / RequireJS\n    else if (typeof define === 'function' && define.amd) {\n        define([], function () {\n            return async;\n        });\n    }\n    // included directly via <script> tag\n    else {\n        root.async = async;\n    }\n\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/async/lib/async.js\n// module id = 209\n// module chunks = 1","var apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\nexports.setImmediate = setImmediate;\nexports.clearImmediate = clearImmediate;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/webpack/~/timers-browserify/main.js\n// module id = 210\n// module chunks = 1","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/setimmediate/setImmediate.js\n// module id = 211\n// module chunks = 1","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/process/browser.js\n// module id = 212\n// module chunks = 1","/**\n * Messages exchange with frontend\n * Messages going from background to frontend has structure: {type: 'someCommand', data: 'someData'}\n * Messages going from frontend to background has structure: {action: 'someAction', param1: 'value1', ...}\n */\n\n'use strict';\n\nvar utils = require('../../utils/utils');\nvar logger = require('../../utils/logger').create('Frontend/messaging');\nvar formatMessage = require('../../utils/format-message');\n\n// flag: are messages going through\nvar isRunning = false;\n\nvar listeners = {};\n\n/**\n * Run messaging\n */\nexports.run = function () {\n    isRunning = true;\n    chrome.runtime.onMessage.addListener(onMessage);\n    logger.info('Start messaging');\n};\n\n/**\n * Send message to frontend\n *\n * @param {String} command\n * @param {*} data\n * @param {Number} [tabId]\n */\nexports.send = function (command, data, tabId) {\n    if (!isRunning) {\n        // logger.error('Can not send message %s as module is not running', command);\n        return;\n    }\n\n    var msgBody = {\n        type: command,\n        data: data\n    };\n\n    if (tabId) {\n        logger.info('Message sent to frontend in tab %i: %s %j', tabId, command, data);\n        chrome.tabs.sendMessage(parseInt(tabId, 10), msgBody);\n    } else {\n        logger.info('Message sent to all frontends: %s %j', command, data);\n        // Pass noop to stop message passing to background page self (chrome-only)\n        chrome.runtime.sendMessage(msgBody, utils.noop);\n    }\n};\n\n/**\n * Listen message from frontend\n *\n * @param {String} action\n * @param {Function} fn\n */\nexports.on = function (action, fn) {\n    if (typeof fn !== 'function') {\n        throw new Error(formatMessage('Function required for listener: %s', action));\n    }\n\n    // Only ONE listener per message (because listener return value defines sync/async sendResponse call)\n    // see: https://developer.chrome.com/extensions/runtime#event-onMessage\n    if (listeners[action]) {\n        throw new Error(formatMessage('Dublicate action listener: %s', action));\n    } else {\n        listeners[action] = fn;\n    }\n};\n\nfunction onMessage(req, sender, sendResponse) {\n    if (!isRunning) {\n        logger.error('Can not process frontend action %j as module is not running', req);\n        return;\n    }\n\n    var action = req && req.action;\n    if (!action) {\n        // не нужно логировать пустой action, т.к. бэкенд сам получает свои же сообщения\n        // logger.error('Empty action: %j ', req);\n        return;\n    }\n\n    if (listeners[action]) {\n        var sendResponseSafe = wrapSendResponse(action, sendResponse);\n        return listeners[action](req, sender, sendResponseSafe);\n    } else {\n        logger.error('Listener not found for action: %s', action);\n    }\n}\n\n/**\n * Оборачиваем sendResponse в try..catch\n * Иначе может быть ошибка Attempting to use a disconnected port object,\n * когда мы отправляем ответ несуществующему получателю (например, когда таб с вз уже выгрузился, VB-3562)\n * @param {String} action\n * @param {Function} sendResponse\n */\nfunction wrapSendResponse(action, sendResponse) {\n    return function () {\n        try {\n            // We can't use apply directly on sendResponse in IE\n            Function.prototype.apply.call(sendResponse, null, arguments);\n        } catch (e) {\n            logger.warn('sendResponse failed for action %s: %s', action, e.message);\n        }\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/messaging.js","/**\n * Инициализация фронтенда (ответ на сообщение request-init)\n */\n\n'use strict';\n\nvar logger = require('../../utils/logger').create('Frontend-init');\nvar messaging = require('./messaging');\nvar checkboxes = require('./settings-checkboxes');\nvar settings = require('../settings/settings');\nvar buildData = require('../debug/build-data');\nvar closedTabs = require('../closed-tabs');\nvar experiments = require('../experiments');\nvar tabs = require('../../utils/tabs');\nvar platformAbout = require('../../platform/about');\nvar debugPanel = require('./debug-panel');\nvar customLogo = require('./custom-logo');\nvar advertisement = require('./advertisement');\nvar aboutPlatform = require('../../platform/about');\nvar branding = require('../branding');\nvar frontendInformers = require('./informers');\nvar events = require('./events');\nvar initChecker = require('./init-checker');\nvar auth = require('./auth');\nvar zen = require('./zen');\n\n// если запущена функция sendAll, то входящие запросы от фронтендов нужно обработать и запомнить,\n// чтобы дважды не отправлять\nvar isSendingToAll = false;\nvar processedTabIds = [];\n\n/**\n * Init\n */\nexports.init = function () {\n    messaging.on(events.frontend.INIT, function (req, sender) {\n        if (sender && sender.tab) {\n            var tab = sender.tab;\n            logger.info('Got init request from tab %i', tab.id);\n            if (isSendingToAll) {\n                processedTabIds.push(tab.id);\n            }\n            exports.send(tab);\n\n            // фиксируем начало инициализации фронтенда\n            initChecker.started(tab.id);\n        }\n    });\n\n    messaging.on(events.frontend.DRAW_FINISHED, function (req, sender) {\n        initChecker.loaded(sender.tab.id);\n    });\n};\n\n/**\n * Отправка сообщения init в конкретный таб\n * @param {Object} tab\n */\nexports.send = function (tab) {\n    if (!tab.id) {\n        logger.error('Empty tab.id');\n        return;\n    }\n\n    if (!tab.windowId) {\n        logger.error('Empty tab.windowId');\n        return;\n    }\n\n    var result = collectInitData({windowId: tab.windowId, tabId: tab.id});\n    messaging.send(events.backend.INIT, result, tab.id);\n\n    // Браузерные закладки отправляем отдельно, чтобы не тормозить отрисовку\n    if (result.showBookmarks) {\n        require('./bookmarks').sendRootItems(tab.id);\n    }\n\n    // Дзен отправляем отдельно т.к. при старте браузера/расширения, надо подождать авторизацию\n    // @see https://st.yandex-team.ru/VB-6188\n    if (result.zen) {\n        zen.sendZenConfig(tab.id);\n    }\n\n    // информеры отправляем отдельно\n    frontendInformers.send();\n\n    // debug panel\n    if (result.debug) {\n        debugPanel.send(tab.id);\n    }\n};\n\n/**\n * Отправка сообщения init во все табы с вз\n * (вызывается только при старте)\n */\nexports.sendAll = function () {\n    logger.info('Trying send init to all open frontends...');\n    isSendingToAll = true;\n    tabs.getOpen(function (err, items) {\n        items = Array.isArray(items) ? items : [];\n        var frontends = items.filter(function (tab) {\n            return tab.url === platformAbout.visbookmarksUrl\n                && processedTabIds.indexOf(tab.id) === -1;\n        });\n        isSendingToAll = false;\n        processedTabIds.length = 0;\n        logger.info('Frontends found: %i', frontends.length);\n        frontends.forEach(exports.send);\n    });\n};\n\nfunction collectInitData(info) {\n    logger.info('Collecting init data..');\n\n    var checkValues = checkboxes.getValues();\n\n    var result = {};\n    result.background = require('./backgrounds').getCurrent();\n    result.thumbs = require('./thumb-sender').getAll();\n    result.locale = require('../i18n').locale;\n    result.branding = getBranding();\n    result.auth = auth.getAuth();\n    result.debug = !buildData.git.release;\n    result.debugMode = settings.get('debugMode');\n    result.showBookmarks = checkValues.showBookmarks;\n    result.showSearchForm = checkValues.showSearchForm;\n    result.advertisement = advertisement.get();\n    result.hasClosedTabs = closedTabs.hasClosed(info.windowId);\n    result.experiments = getExperiments();\n    result.customLogo = customLogo.getCurrent();\n    result.vbID = aboutPlatform.type;\n    result.zen = settings.get('showZen');\n\n    // FIXME:\n    result.hasApps = false;\n    result.sync = {\n        status: 4\n    };\n\n    return result;\n}\n\nfunction getBranding() {\n    return {\n        regionBrandId: branding.getRegionBrandId(),\n        customBrandId: branding.getCustomBrandId(),\n        productName: branding.info.productName,\n        productShortName: branding.info.productShortName,\n        thumbSuggestURL: branding.thumbs.suggestUrl,\n        logo: getLogo(),\n        search: getSearch(),\n    };\n}\n\nfunction getSearch() {\n    return {\n        url: branding.search.url,\n        suggest: branding.search.suggest,\n        navigateTitle: branding.search.navigateTitle,\n        // https://st.yandex-team.ru/VB-5663#1459159603000\n        // placeholder: branding.search.placeholder,\n    };\n}\n\nfunction getLogo() {\n    return {\n        url: branding.logo.url,\n        img: branding.logo.imgClear,\n        imgDark: branding.logo.imgDark,\n        alt: branding.logo.alt,\n        title: branding.logo.title,\n    };\n}\n\nfunction getExperiments() {\n    return experiments\n        .getExperimentsList()\n        .map(function (experiment) {\n            return {\n                testId: experiment.testId,\n                name: experiment.name,\n                data: experiment.data,\n                bucket: experiment.bucket\n            };\n        });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/init-sender.js","/**\n * Настройки: галочки и выпадушки\n */\n\n'use strict';\n\nvar logger = require('../../utils/logger').create('Frontend/settings-checkboxes');\nvar settings = require('../settings/settings');\nvar messaging = require('./messaging');\nvar frontendBookmarks = require('./bookmarks');\nvar frontendThumbSender = require('./thumb-sender');\nvar informers = require('../informers');\nvar events = require('./events');\n\n// допустимые имена настроек\nvar NAMES = [\n    'uiThumbsType',\n    'showBookmarks',\n    'showSearchForm',\n    'showAdvertisement',\n    'geolocation',\n    'boroda',\n    'sendUsageStat',\n    'backgroundRotation',\n];\n\n/**\n * Инициализация\n */\nexports.init = function () {\n    settings.onChanged.addListener(onSettingChanged);\n    // пока галку информеров показываем только в yandex брендинге\n    if (informers.isSupported()) {\n        NAMES.push('showInformers');\n    }\n    NAMES.push('showZen');\n};\n\n/**\n * Применение настройки\n * {String} name\n * {*} value\n */\nexports.apply = function (name, value) {\n    if (isValidName(name)) {\n        applySettingValue(name, value);\n    } else {\n        logger.error('Unknown setting: %s', name);\n    }\n};\n\n/**\n * Возвращает значения настроек\n */\nexports.getValues = function () {\n    return NAMES.reduce(function (result, name) {\n        result[name] = settings.get(name);\n        return result;\n    }, {});\n};\n\n/**\n * Валидно ли переданное имя настройки\n *\n * @param {String} name\n */\nfunction isValidName(name) {\n    return NAMES.indexOf(name) >= 0;\n}\n\n/**\n * Обычная настройка\n *\n * @param {String} name\n * @param {Boolean|Number} value\n */\nfunction applySettingValue(name, value) {\n    var oldValue = settings.get(name);\n    if (oldValue !== value) {\n        logger.info('Change setting %s from %s to %s', name, oldValue, value);\n        settings.set(name, value);\n    }\n}\n\n/**\n * Данные специфичны для некоторых настроек\n * https://st.yandex-team.ru/VB-5412\n *\n * @param {String} name\n * @param {Boolean|Number} newValue\n * @param {Function} callback\n */\nfunction getData(name, newValue, callback) {\n    if (name === 'showBookmarks' && newValue === true) {\n        frontendBookmarks.getRootItems(callback);\n    } else if (name === 'uiThumbsType') {\n        callback(frontendThumbSender.getAll());\n    } else {\n        callback(null);\n    }\n}\n\n/**\n * Слушаем изменение настроек и отправляем событие во фронтенд\n * (кроме sendStat, его отправляем явно, т.к. события нет)\n *\n * @param {Object} info\n */\nfunction onSettingChanged(info) {\n    if (isValidName(info.key)) {\n        sendSettingChanged(info.key, info.oldValue, info.newValue);\n    }\n}\n\nfunction sendSettingChanged(name, oldValue, newValue) {\n    getData(name, newValue, function (data) {\n        messaging.send(events.backend.SETTING_CHANGE, {\n            id: name,\n            oldValue: oldValue,\n            newValue: newValue,\n            data: data,\n        });\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/settings-checkboxes.js","/**\n * Базовые действия с настройками: загрузить, считать, записать.\n */\n\n'use strict';\n\nvar defaults = require('./defaults.js');\nvar utils = require('../../utils/utils');\nvar isPlainObject = require('lodash/lang/isPlainObject');\nvar channel = require('../../utils/channel');\nvar logger = require('../../utils/logger').create('Settings');\n\n// все наши настройки храним с этим префиксом\nvar PREFIX = 'settings.';\n\nvar currentPrefs = Object.create(null);\n\nvar RESETEABLE_SETTINGS = [\n    'showBookmarks', /* показывать панель закладок */\n    'showSearchForm', /* показывать форму поиска */\n    'showAdvertisement', /* показывать рекламу */\n    'uiThumbsType', /* тип отображения тумб: 1 - логотипы и заголовки, 2 - логотипы и скриншоты, 3 - скриншоты */\n    'geolocation', /* отправлять данные о местоположении */\n    'boroda', /* показывать закладки при клике в адресную строку */\n    'showInformers', /* показывать информеры */\n    'backgroundRotation', /* меняем фон каждый день, VB-5700 */\n    'showZen', /* показывать дзен */\n];\n\nvar settings = module.exports = {\n    /**\n     * Загрузка настроек\n     * @param {Function} callback\n     */\n    load: function Settings_load(callback) {\n        addListeners();\n        load(callback);\n    },\n\n    /**\n     * Считать настройку\n     * @param {string} key\n     * @returns {*}\n     */\n    get: function Settings_get(key) {\n        var prefixedKey = getPrefixedKey(key);\n        return isValidPrefixedKey(prefixedKey) ? currentPrefs[prefixedKey].value : null;\n    },\n\n    /**\n     * Сохранение настройки\n     * @param {String} key\n     * @param {*} value\n     * @param {Object} [options]\n     * @param {Boolean} [options.log] - логировать ли факт записи в настройки\n     * @param {Boolean} [options.isDefault]\n     */\n    set: function Settings_set(key, value, options) {\n        options = options || {};\n\n        var prefixedKey = getPrefixedKey(key);\n        if (!isValidPrefixedKey(prefixedKey)) {\n            return;\n        }\n\n        currentPrefs[prefixedKey].value = value;\n        currentPrefs[prefixedKey].isDefault = Boolean(options.isDefault);\n\n        var storageData = {};\n        storageData[prefixedKey] = value;\n        chrome.storage.local.set(storageData);\n\n        if (options.log) {\n            logger.info('Setting %s changed to %j', key, value);\n        }\n    },\n\n    /**\n     * Является ли значение настройки установленным пользователем вручную\n     * @return {Boolean}\n     */\n    hasUserValue: function Settings_hasUserValue(key) {\n        var prefixedKey = getPrefixedKey(key);\n        return isValidPrefixedKey(prefixedKey) ? !currentPrefs[prefixedKey].isDefault : false;\n    },\n\n    /**\n     * Загружены ли настройки\n     */\n    isLoaded: isLoaded,\n\n    get __items() {\n        return currentPrefs;\n    },\n\n    /**\n     * Сброс пользовательских настроек\n     */\n    resetDefaults: function () {\n        var changes = [];\n\n        RESETEABLE_SETTINGS.forEach(function (key) {\n            var oldValue = currentPrefs[getPrefixedKey(key)] || {};\n            var defaultValue = defaults[key];\n\n            // Если старое значение является дефолтным,\n            // то пропускаем эту настройку\n            if (oldValue.isDefault) {\n                return;\n            }\n\n            this.set(key, defaultValue, {isDefault: true});\n            changes.push(key);\n        }, this);\n\n        if (changes.length === 0) {\n            logger.info('All settings are defaults');\n            return;\n        }\n\n        logger.info('%i item(s) were restored to default ', changes.length);\n    },\n\n    /**\n     * событие изменения значения ключа\n     */\n    onChanged: channel.create(),\n};\n\nfunction getPrefixedKey(key) {\n    return PREFIX + key;\n}\n\nfunction getUnprefixedKey(prefixedKey) {\n    return prefixedKey.indexOf(PREFIX) === 0\n        ? prefixedKey.replace(PREFIX, '')\n        : prefixedKey;\n}\n\nfunction isValidPrefixedKey(prefixedKey) {\n    if (!currentPrefs[prefixedKey]) {\n        logger.error('Can\\'t use preference (' + prefixedKey + ') which was not described in defaults');\n        return false;\n    } else {\n        return true;\n    }\n}\n\nfunction isLoaded() {\n    return Object.keys(currentPrefs).length > 0;\n}\n\n/**\n * Если настройка изменилась, обновляем у себя в памяти\n */\nfunction onChanged(changes, areaName) {\n    // работаем только с storage.local\n    if (areaName !== 'local') {\n        return;\n    }\n\n    Object.keys(changes).forEach(function (prefixedKey) {\n        if (prefixedKey.indexOf(PREFIX) === 0 && currentPrefs[prefixedKey]) {\n            currentPrefs[prefixedKey].value = changes[prefixedKey].newValue;\n            dispatchOnChanged(prefixedKey, changes[prefixedKey].oldValue, changes[prefixedKey].newValue);\n        }\n    });\n}\n\n/**\n * Отправляем событие settings.onChanged\n * @param {String} prefixedKey\n * @param {*} oldValue\n * @param {*} newValue\n */\nfunction dispatchOnChanged(prefixedKey, oldValue, newValue) {\n    if (oldValue === newValue) {\n        return;\n    }\n\n    settings.onChanged.dispatch({\n        key: getUnprefixedKey(prefixedKey),\n        oldValue: oldValue,\n        newValue: newValue,\n    });\n}\n\nfunction load(callback) {\n    callback = callback || utils.noop;\n    chrome.storage.local.get(null, function (values) {\n        // Если результат `chrome.storage.local` по каким-то причинам не является объектом,\n        // то пишем ошибку в лог и продолжаем работать, заменив этот результат на пустой объект.\n        if (!isPlainObject(values)) {\n            logger.error('values is not an object');\n            values = Object.create(null);\n        }\n\n        Object.keys(defaults).forEach(function (key) {\n            var prefixedKey = getPrefixedKey(key);\n            var isDefault = values[prefixedKey] === undefined;\n            currentPrefs[prefixedKey] = {\n                value: isDefault ? defaults[key] : values[prefixedKey],\n                isDefault: isDefault\n            };\n        });\n        logger.info('Loaded %i item(s)', Object.keys(currentPrefs).length);\n        callback();\n    });\n}\n\nfunction addListeners() {\n    chrome.storage.onChanged.addListener(onChanged);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/settings/settings.js","'use strict';\n\nvar buildData = require('../debug/build-data');\n\nvar consoleLevels = buildData.git.release ? [] : ['info', 'warn', 'error'];\n\nmodule.exports = {\n    // окно настроек\n    showBookmarks: false, /* показывать панель закладок */\n    showSearchForm: true, /* показывать форму поиска */\n    showAdvertisement: true, /* показывать рекламу */\n    uiThumbsType: 1, /* тип отображения тумб: 1 - логотипы и заголовки, 2 - логотипы и скриншоты, 3 - скриншоты */\n    backgroundImage: '', /* id фона */\n    geolocation: true, /* отправлять данные о местоположении */\n    boroda: false, /* показывать закладки при клике в адресную строку */\n    showInformers: true, /* показывать информеры */\n    backgroundRotation: false, /* меняем фон каждый день, VB-5700 */\n    showZen: false, /* показывать дзен */\n\n    // внутренние\n    appInstallTime: 0, /* timestamp установки расширения */\n    backgroundImagePath: null, /* локальный путь к текущему фону */\n    backgroundImagesFontColors: {}, /* список соответствий фонов и цветов шрифта на них */\n    backgroundImagesList: [], /* список фонов из Облака */\n    backgroundImagesVersion: 0, /* версия списка фонов из Облака */\n    backgroundMissingCloudData: null, /* данные о фоне, бывшем текущим, но удаленным из новой версии облачных фонов */\n    backgroundRotationIndex: 0, /* индекс текущего облачного фона в ротации, VB-5700 */\n    blacklist: {\n        domains: [],\n        regexps: []\n    },\n    debug: false, /* флаг отладки (сборка на релизной ветке или нет, в новых ВЗ с общим бэкендом пока не используется!)*/\n    debugMode: false, /* флаг режима отладки (режим отладки включается через дебаг панель) */\n    lastDayUseSendTime: 0, /* timestamp последней отправки данных в dayuse */\n    lastDayUseExpSendTime: 0, /* lastDayuseExpTime последней отправки данных о dayuse experiments */\n\n    consoleLogLevels: consoleLevels, /* Уровни логирования для console */\n    platformLogLevels: ['info', 'warn', 'error'], /* Уровни логирования для платформы (файла) */\n\n    maxAvailableIncreased: false, /* использовать сетку 7x7 при миграции с 1.x */\n    refreshThumbsBackgroundsTime: 0, /* timestamp последнего обновления картинок-фонов для тумб */\n    advertisementState: { /* текущее состояние блоков рекламы (сработал ли триггер, последний показ, кол-во отказов) */\n        blocks: {}\n    },\n    hasUserAddedThumb: false, /* добавлял ли пользователь тумбу вручную, нужно для показа обучалки кнопки добавления */\n    versionsHistory: [], /* история версий расширения */\n    lastScrollTimeOn: 0, /* timestamp последнего показа ВЗ с вертикальным скроллом */\n    lastScrollTimeOff: 0, /* timestamp последнего показа ВЗ без вертикального скролла */\n    bannerid: null, /* значение bnrd ключа в ys куке */\n    remoteConfig: {}, /* удаленный конфиг */\n    experiments: [], /* список текущих активных экспериментов */\n    closedTabs: [], /* список закрытых табов */\n    searchExamples: [], /* список примеров запросов */\n    customLogos: [],  /* информация о всплесках */\n    remoteBrandingData: null, /* данные кастомного брендинга, который может скачаться по сети */\n    informerReginfo: null, /* данные информеров: погода + пробки */\n    informerQuotes: null, /* данные информеров: курсы валюты */\n\n    // синхроницация\n    remoteSyncTimestamp: 0, /* Время последнего удаленного изменения */\n    localSyncSnapshot: {}, /* Текущие данные для синхронизации */\n\n    // только в хроме\n    brandingPackage: '', /* текущий региональный (базовый) брендинг, выставляется при установке.\n                            Кастомный брендинг лежит в customBrandingData */\n    statUID: '', /* uid текущей установки (в других платформах получается из ручки)*/\n    r1String: '', /* r1-строка для barnavig (пока барнавиг отправляется не в общем коде) */\n    sendUsageStat: false, /* отправлять ли статистику, синхронизируется с элементами через платформу */\n    isVoiceUsed: false, /* Пользовался ли пользователь голосовым модулем */\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/settings/defaults.js","module.exports = {\n    \"git\": {\n        \"buildNumber\": 0,\n        \"branch\": \"853da22032669810298f59629d864bcc4e628855\",\n        \"sha\": \"853da22032669810298f59629d864bcc4e628855\",\n        \"release\": false,\n        \"branchVersion\": \"\"\n    },\n    \"version\": \"3.0.6\",\n    \"time\": 1729683607247\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./modules/debug/build-data.js\n// module id = 218\n// module chunks = 1","/**\n * Реализует общение между фронтом для показа панели закладок (открывается при включении в настройках)\n */\n'use strict';\n\nvar messaging = require('./messaging');\nvar logger = require('../../utils/logger').create('Frontend/bookmarks');\nvar bookmarks = require('../bookmarks/bookmarks');\nvar favicon = require('../favicon');\nvar faviconYandex = require('../favicon/yandex');\nvar urlUtils = require('../../utils/url');\nvar events = require('./events');\n\n/**\n * Отправляем закладки первого уровня\n * @param {Number} tabId\n */\nexports.sendRootItems = function (tabId) {\n    exports.getRootItems(function (children) {\n        messaging.send(events.backend.BOOKMARKS_CHANGED, children, tabId);\n    });\n};\n\n/**\n * Получаем закладки первого уровня\n */\nexports.getRootItems = function (callback) {\n    getChildren(bookmarks.BOOKMARKS_BAR_ID, callback);\n};\n\n/**\n * Init\n */\nexports.init = function () {\n    messaging.on(events.frontend.REQUEST_BOOKMARKS_BRANCH, function (req, sender, sendResponse) {\n        if (req.id) {\n            logger.info('requestBookmarksBranch id %s', req.id);\n            getChildren(req.id, sendResponse);\n            return true;\n        } else {\n            logger.error('Empty req.id');\n        }\n    });\n\n    bookmarks.onChanged.addListener(exports.sendRootItems);\n};\n\n/**\n * Отдаем закладки заданного уровня\n */\nfunction getChildren(levelId, callback) {\n    bookmarks.getChildren(levelId, function (children) {\n        var normalized = normalizeBookmarks(children);\n        callback(normalized);\n    });\n}\n\n/**\n * Приводит букмарки к виду для фронтенда\n * @returns {Array} вида: [{url, title, favicon, isFolder, id}, ...]\n */\nfunction normalizeBookmarks(bookmarks) {\n    return Array.isArray(bookmarks)\n        ? bookmarks.map(normalizeBookmark)\n        : [];\n}\n\n/**\n * @param {Object} bookmark\n * @returns {Object}\n */\nfunction normalizeBookmark(bookmark) {\n    return {\n        favicon: getFaviconUrl(bookmark.url),\n        url: bookmark.url,\n        title: bookmark.title || urlUtils.getReadableUrl(bookmark.url),\n        id: bookmark.id,\n        isFolder: !bookmark.url\n    };\n}\n\nfunction getFaviconUrl(siteUrl) {\n    var cached = favicon.getCached(siteUrl);\n    if (cached && cached.url) {\n        return cached.url;\n    } else {\n        return urlUtils.isRemote(siteUrl) ? faviconYandex.getUrl(siteUrl) : '';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/bookmarks.js","/**\n * Содержит методы для работы с закладками\n */\n\n'use strict';\n\nvar channel = require('../../utils/channel');\nvar platformBookmarks = require('../../platform/bookmarks');\n\n// В Firefox необходимо фильтровать служебные адреса (например, \"Часто посещаемые\"),\n// так как открытие таких адресов приводит к ошибке.\n// @see https://st.yandex-team.ru/VB-6121\nconst FIREFOX_INTERNAL_URL_REGEXP = /^(place|about):/;\n\nexports.ROOT_ID = platformBookmarks.ROOT_ID;\nexports.BOOKMARKS_BAR_ID = platformBookmarks.BOOKMARKS_BAR_ID;\n\nexports.requestAll = function (callback) {\n    chrome.bookmarks.search({}, function (nodes) {\n        var children = nodes.filter(function (item) {\n            return Boolean(item.url) && !FIREFOX_INTERNAL_URL_REGEXP.test(item.url);\n        });\n        callback(null, children);\n    });\n};\n\nexports.onChanged = channel.create('bookmarks.onChanged');\n\nexports.init = function () {\n    [\n        'onCreated',\n        'onRemoved',\n        'onChanged',\n        'onMoved',\n        'onChildrenReordered',\n        'onImportEnded'\n    ].forEach(function (eventName) {\n        chrome.bookmarks[eventName].addListener(\n            this.onChanged.dispatch.bind(this.onChanged)\n        );\n    }, this);\n};\n\nexports.getChildren = function (id, callback) {\n    chrome.bookmarks.getChildren(id, function (children) {\n        children = children.filter(function (child) {\n            return !(Boolean(child.url) && FIREFOX_INTERNAL_URL_REGEXP.test(child.url));\n        });\n        callback(children);\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/bookmarks/bookmarks.js","'use strict';\n\nmodule.exports = {\n    // https://code.google.com/p/chromium/issues/detail?id=21330#c4\n    ROOT_ID: '0',\n    BOOKMARKS_BAR_ID: '1',\n    /*\n    OTHER_BOOKMARKS_ID: '2',\n    */\n};\n\n\n\n// WEBPACK FOOTER //\n// ./platform/bookmarks.js","/**\n * Получение фавиконок для урла\n */\n\n'use strict';\n\nvar loader = require('./loader');\nvar urlUtils = require('../../utils/url');\nvar colors = require('../../utils/colors');\nvar asyncLib = require('async');\nvar logger = require('../../utils/logger').create('favicon');\nvar ResourceLoader = require('../../utils/resource-loader');\nvar FileStorage = require('../../utils/file-storage');\nvar dateUtils = require('../../utils/date');\nvar formatMessage = require('../../utils/format-message');\n\nvar fileStorage;\nvar resourceLoader;\n\nexports.FAVICON_DIR = 'favicons';\n\n/**\n * Инициализация\n */\nexports.init = function () {\n    fileStorage = new FileStorage(exports.FAVICON_DIR);\n    resourceLoader = new ResourceLoader({\n        succesValidatePeriodMs: 2 * dateUtils.DAY_MS,\n        errorValidatePeriodMs: dateUtils.HOUR_MS\n    });\n};\n\n/**\n * Получить фавиконку\n * @param {String} siteUrl\n * @param {Function} callback\n */\nexports.getFavicon = function (siteUrl, callback) {\n    resourceLoader.load({\n        id: urlUtils.getNormalDomain(siteUrl),\n        loadMethod: loadMethod.bind(null, siteUrl),\n        callback: callback\n    });\n};\n\n/**\n * Получить фавиконку из кеша (если есть)\n * @param {String} siteUrl\n */\nexports.getCached = function (siteUrl) {\n    var domain = urlUtils.getNormalDomain(siteUrl);\n    return resourceLoader.getCache(domain, 1);\n};\n\n/**\n * Есть ли фавиконка в кеше для заданного урла\n * @param {String} siteUrl\n */\nexports.hasCached = function (siteUrl) {\n    var domain = urlUtils.getNormalDomain(siteUrl);\n    return resourceLoader.hasCache(domain);\n};\n\n/**\n * Очистить старые записи в кеше\n */\nexports.clearExpired = function () {\n    logger.info('Clear expired items');\n    resourceLoader.clearExpired();\n};\n\nfunction loadMethod(siteUrl, callback) {\n    asyncLib.waterfall([\n        init.bind(null, siteUrl),\n        load,\n        save,\n        calcColor,\n    ], function (err, data) {\n        if (err || !data) {\n            callback(err || new Error('Empty data'));\n        } else {\n            clearData(data);\n            callback(null, data);\n        }\n    });\n}\n\nfunction init(siteUrl, next) {\n    next(null, {\n        siteUrl: siteUrl,\n        domain: '',\n        img: null,\n        url: '',\n        filePath: '',\n        remoteUrl: '',\n        color: ''\n    });\n}\n\nfunction load(data, next) {\n    loader.loadFavicon(data.siteUrl, function (err, faviconData) {\n        if (faviconData) {\n            data.remoteUrl = faviconData.url;\n            data.img = faviconData.img;\n        }\n        next(err, data);\n    });\n}\n\nfunction save(data, next) {\n    data.domain = urlUtils.getNormalDomain(data.siteUrl);\n    fileStorage.saveAnyUrl(data.remoteUrl, data.domain, function (err, storageData) {\n        if (err || !storageData || !storageData.url) {\n            var message = formatMessage('Can not save icon from %s %j', data.remoteUrl, err);\n            next(new Error(message));\n            return;\n        }\n        data.url = storageData.url;\n        data.filePath = storageData.path;\n        next(null, data);\n    });\n}\n\nfunction calcColor(data, next) {\n    if (data && data.url) {\n        colors.calculateDominantColorByUrl(data.url, {}, function (color) {\n            data.color = color;\n            next(null, data);\n        });\n    } else {\n        next(null, data);\n    }\n}\n\n/**\n * Очищаем лишние данные перед тем как вернуть\n */\nfunction clearData(data) {\n    delete data.img;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/favicon/index.js","/**\n * Загружает фавиконку с фавиконницы / из сайта\n */\n'use strict';\n\nvar loadImage = require('../../utils/load-image');\nvar asyncLib = require('async');\n\nvar faviconSite = require('./site');\nvar faviconYandex = require('./yandex');\n\nvar MIN_WIDTH = 2;\nvar MIN_HEIGHT = 2;\n\nexports.loadFavicon = function (siteUrl, callback) {\n    asyncLib.eachSeries(\n        [\n            function (callback) {\n                var url = faviconYandex.getUrl(siteUrl);\n                callback(url);\n            },\n            function (callback) {\n                faviconSite.getUrl(siteUrl, function (err, url) {\n                    callback(url);\n                });\n            },\n        ],\n\n        getFaviconUrl,\n\n        function (faviconData) {\n            if (!faviconData) {\n                callback(new Error('Can not find favicon image for ' + siteUrl));\n            } else {\n                callback(null, faviconData);\n            }\n        }\n    );\n\n};\n\nfunction getFaviconUrl(fn, next) {\n    fn(function (url) {\n        if (url) {\n            checkImage(url, next);\n        } else {\n            next(null);\n        }\n    });\n}\n\nfunction checkImage(url, callback) {\n    loadImage({url: url}, function (err, img) {\n        if (err || img.width < MIN_WIDTH || img.height < MIN_HEIGHT) {\n            callback(null);\n        } else {\n            callback({url: url, img: img});\n        }\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/favicon/loader.js","'use strict';\n\nvar urlUtils = require('./url');\nvar xhr = require('./xhr');\n\n/**\n * @param {Object} options\n * @param {String} options.url\n * @param {Boolean} [options.noCache]\n * @param {Function} callback\n */\nmodule.exports = function (options, callback) {\n    options = options || {};\n    const src = options.noCache ? urlUtils.addRandomParam(options.url) : options.url;\n    xhr({url: src}, (err, img) => {\n        if (!err) {\n            onLoad(img, callback);\n        } else {\n            onError({src}, callback)\n        }\n    });\n};\n\n/**\n * @param {String} img\n * @param {Function} callback\n */\nfunction onLoad(img, callback) {\n    // setTimeout is for IE9\n    // @see https://st.yandex-team.ru/VB-4833#1443021905000\n    setTimeout(function () {\n        callback(null, img);\n    }, 0);\n}\n\n/**\n * @param {String} img\n * @param {Function} callback\n */\nfunction onError(img, callback) {\n    callback(new Error('Image load error: ' + img.src), img);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/load-image.js","/**\n * Ищет путь к фавиконке на сайте в тегах <link href=\"\"> или дефолтный /favicon.ico\n */\n'use strict';\n\nvar siteLoader = require('../site-info/site-loader');\nvar urlUtils = require('../../utils/url');\nvar get = require('lodash/object/get');\n\nvar LINK_RELS = ['icon', 'shortcut icon'];\nvar DEFAULT_FAVICON_PATH = '/favicon.ico';\n\n/**\n * Получает урл фавиконки из ХТМЛ сайта\n * @param {String} siteUrl\n * @param {Function} callback\n */\nexports.getUrl = function (siteUrl, callback) {\n    var indexSiteUrl = urlUtils.getIndexPart(siteUrl);\n    if (indexSiteUrl) {\n        siteLoader.load(indexSiteUrl, function (err, rootNode) {\n            if (err) {\n                callback(err);\n            } else {\n                callback(null, parseSite(indexSiteUrl, rootNode));\n            }\n        });\n    } else {\n        callback(new Error('Can not get index part of siteUrl ' + siteUrl));\n    }\n};\n\nfunction parseSite(siteUrl, data) {\n    var iconHref = getIconHref(data) || DEFAULT_FAVICON_PATH;\n    if (urlUtils.isDataUri(iconHref)) {\n        return iconHref;\n    } else {\n        var baseUrl = get(data, 'base[0].attributes.href');\n        return urlUtils.resolve(siteUrl, baseUrl, iconHref);\n    }\n}\n\nfunction getIconHref(data) {\n    var favIconLinks = [];\n\n    try {\n        favIconLinks = data.link.filter(function (link) {\n            return link.attributes.href && LINK_RELS.indexOf(link.attributes.rel) >= 0;\n        });\n    } catch (e) {}\n\n    return favIconLinks.length\n        ? favIconLinks[0].attributes.href\n        : '';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/favicon/site.js","/**\n * Wrapper around utils/site-loader\n * Adds additional search params to urls\n */\n'use strict';\n\nvar urlUtils = require('../../utils/url');\nvar xhr = require('../../utils/xhr');\nvar SaxParser = require('../../utils/sax-parser');\nvar ResourceLoader = require('../../utils/resource-loader');\n\nvar resourceLoader;\n\nvar PARSER_OPTIONS = {\n    tagToParse: 'head',\n    children: ['link', 'base', 'title', 'meta'],\n    parseOptions: {\n        lowercase: true,\n        normalize: true,\n        noscript: true\n    }\n};\n\n/**\n * Parses HEAD tag of provided html string\n * @returns {Object|null} result\n */\nfunction saxParse(htmlString) {\n    try {\n        var parser = new SaxParser(PARSER_OPTIONS);\n        return parser.parse(htmlString);\n    } catch (e) {\n        return null;\n    }\n}\n\n/**\n * Creates instance of ResourceLoader\n */\nexports.init = function () {\n    resourceLoader = new ResourceLoader();\n};\n\n/**\n * Loads site's markup\n * @param {String} url\n * @param {Function} callback\n */\nexports.load = function (url, callback) {\n    resourceLoader.load({\n        id: url,\n        loadMethod: loadMethod.bind(null, url),\n        callback: callback\n    });\n};\n\n/**\n * @param {String} url\n * @param {Function} callback\n */\nfunction loadMethod(url, callback) {\n    xhr({\n        url: urlUtils.addTechnicalParam(url),\n        parse: 'text'\n    }, function (err, htmlString) {\n        callback(err, saxParse(htmlString));\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/site-info/site-loader.js","/**\n * Parses html/xml string using sax parser\n */\n'use strict';\n\nvar sax = require('../libs/sax');\n\n/**\n * Creates parser with provided options\n * @constructor\n * @param {Object} options\n * @param {Boolean} options.strict - use false for html mode\n * @param {Object} options.parseOptions - options to sax parser\n * @param {String} options.tagToParse - insides of which tag to parse\n * @param {Array} options.children - which tags to collect into result object\n */\nfunction Parser(options) {\n    this._parser = sax.parser(options.strict, options.parseOptions);\n    this._inTagToParse = false;\n    this._currentTag = null;\n    this._tagToParse = options.tagToParse;\n    this._children = options.children;\n    this._result = createResultObject(this._children);\n    this._addListeners();\n}\n\n/**\n * Parses provided string and returns result object\n * @returns {Object}\n */\nParser.prototype.parse = function (str) {\n    this._parser.write(str).close();\n    return this._result;\n};\n\n/**\n * Adds listeners to sax parser\n */\nParser.prototype._addListeners = function () {\n    this._parser.onerror = this._onerror.bind(this);\n    this._parser.onopentag = this._onopentag.bind(this);\n    this._parser.ontext = this._ontext.bind(this);\n    this._parser.onclosetag = this._onclosetag.bind(this);\n};\n\n/**\n * @param {*} error\n */\nParser.prototype._onerror = function (error) {\n    if (this._inTagToParse) {\n        this._result.error.push(error);\n        this._parser.resume();\n    }\n};\n\n/**\n * @param {Object} node\n * @param {String} node.name\n * @param {Object} node.attributes\n */\nParser.prototype._onopentag = function (node) {\n    if (!node) {\n        return;\n    }\n    if (node.name === this._tagToParse) {\n        this._inTagToParse = true;\n    } else {\n        this._parseChild(node);\n    }\n};\n\n/**\n * @param {Object} node\n * @param {String} node.name\n * @param {Object} node.attributes\n */\nParser.prototype._parseChild = function (node) {\n    if (this._inTagToParse && this._children.indexOf(node.name) !== -1) {\n        this._currentTag = node;\n        this._result[node.name].push(node);\n    }\n};\n\n/**\n * @param {String} text\n */\nParser.prototype._ontext = function (text) {\n    if (this._currentTag) {\n        this._currentTag.value = text;\n    }\n};\n\n/**\n * @param {Object} node\n * @param {String} node.name\n * @param {Object} node.attributes\n */\nParser.prototype._onclosetag = function (node) {\n    if (node && node.name === this._tagToParse) {\n        this._inTagToParse = false;\n        this._parser.end();\n    }\n    this._currentTag = null;\n};\n\n/**\n * Creates result object based on tag names\n * @param {Array<String>} tagNames\n * @returns {Object}\n */\nfunction createResultObject(tagNames) {\n    return tagNames.reduce(function (result, tagName) {\n        result[tagName] = [];\n        return result;\n    }, {error: []});\n}\n\n/**\n * Sax parser\n * @constructor\n */\nmodule.exports = Parser;\n\n\n\n// WEBPACK FOOTER //\n// ./utils/sax-parser.js",";(function (sax) { // wrapper for non-node envs\n  sax.parser = function (strict, opt) { return new SAXParser(strict, opt) }\n  sax.SAXParser = SAXParser\n  sax.SAXStream = SAXStream\n  sax.createStream = createStream\n\n  // When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n  // When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n  // since that's the earliest that a buffer overrun could occur.  This way, checks are\n  // as rare as required, but as often as necessary to ensure never crossing this bound.\n  // Furthermore, buffers are only tested at most once per write(), so passing a very\n  // large string into write() might have undesirable effects, but this is manageable by\n  // the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n  // edge case, result in creating at most one complete copy of the string passed in.\n  // Set to Infinity to have unlimited buffers.\n  sax.MAX_BUFFER_LENGTH = 64 * 1024\n\n  var buffers = [\n    'comment', 'sgmlDecl', 'textNode', 'tagName', 'doctype',\n    'procInstName', 'procInstBody', 'entity', 'attribName',\n    'attribValue', 'cdata', 'script'\n  ]\n\n  sax.EVENTS = [\n    'text',\n    'processinginstruction',\n    'sgmldeclaration',\n    'doctype',\n    'comment',\n    'attribute',\n    'opentag',\n    'closetag',\n    'opencdata',\n    'cdata',\n    'closecdata',\n    'error',\n    'end',\n    'ready',\n    'script',\n    'opennamespace',\n    'closenamespace'\n  ]\n\n  function SAXParser (strict, opt) {\n    if (!(this instanceof SAXParser)) {\n      return new SAXParser(strict, opt)\n    }\n\n    var parser = this\n    clearBuffers(parser)\n    parser.q = parser.c = ''\n    parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH\n    parser.opt = opt || {}\n    parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags\n    parser.looseCase = parser.opt.lowercase ? 'toLowerCase' : 'toUpperCase'\n    parser.tags = []\n    parser.closed = parser.closedRoot = parser.sawRoot = false\n    parser.tag = parser.error = null\n    parser.strict = !!strict\n    parser.noscript = !!(strict || parser.opt.noscript)\n    parser.state = S.BEGIN\n    parser.strictEntities = parser.opt.strictEntities\n    parser.ENTITIES = parser.strictEntities ? Object.create(sax.XML_ENTITIES) : Object.create(sax.ENTITIES)\n    parser.attribList = []\n\n    // namespaces form a prototype chain.\n    // it always points at the current tag,\n    // which protos to its parent tag.\n    if (parser.opt.xmlns) {\n      parser.ns = Object.create(rootNS)\n    }\n\n    // mostly just for error reporting\n    parser.trackPosition = parser.opt.position !== false\n    if (parser.trackPosition) {\n      parser.position = parser.line = parser.column = 0\n    }\n    emit(parser, 'onready')\n  }\n\n  if (!Object.create) {\n    Object.create = function (o) {\n      function F () {}\n      F.prototype = o\n      var newf = new F()\n      return newf\n    }\n  }\n\n  if (!Object.keys) {\n    Object.keys = function (o) {\n      var a = []\n      for (var i in o) if (o.hasOwnProperty(i)) a.push(i)\n      return a\n    }\n  }\n\n  function checkBufferLength (parser) {\n    var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10)\n    var maxActual = 0\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      var len = parser[buffers[i]].length\n      if (len > maxAllowed) {\n        // Text/cdata nodes can get big, and since they're buffered,\n        // we can get here under normal conditions.\n        // Avoid issues by emitting the text node now,\n        // so at least it won't get any bigger.\n        switch (buffers[i]) {\n          case 'textNode':\n            closeText(parser)\n            break\n\n          case 'cdata':\n            emitNode(parser, 'oncdata', parser.cdata)\n            parser.cdata = ''\n            break\n\n          case 'script':\n            emitNode(parser, 'onscript', parser.script)\n            parser.script = ''\n            break\n\n          default:\n            error(parser, 'Max buffer length exceeded: ' + buffers[i])\n        }\n      }\n      maxActual = Math.max(maxActual, len)\n    }\n    // schedule the next check for the earliest possible buffer overrun.\n    var m = sax.MAX_BUFFER_LENGTH - maxActual\n    parser.bufferCheckPosition = m + parser.position\n  }\n\n  function clearBuffers (parser) {\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      parser[buffers[i]] = ''\n    }\n  }\n\n  function flushBuffers (parser) {\n    closeText(parser)\n    if (parser.cdata !== '') {\n      emitNode(parser, 'oncdata', parser.cdata)\n      parser.cdata = ''\n    }\n    if (parser.script !== '') {\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n  }\n\n  SAXParser.prototype = {\n    end: function () { end(this) },\n    write: write,\n    resume: function () { this.error = null; return this },\n    close: function () { return this.write(null) },\n    flush: function () { flushBuffers(this) }\n  }\n\n  var Stream\n  try {\n    Stream = require('stream').Stream\n  } catch (ex) {\n    Stream = function () {}\n  }\n\n  var streamWraps = sax.EVENTS.filter(function (ev) {\n    return ev !== 'error' && ev !== 'end'\n  })\n\n  function createStream (strict, opt) {\n    return new SAXStream(strict, opt)\n  }\n\n  function SAXStream (strict, opt) {\n    if (!(this instanceof SAXStream)) {\n      return new SAXStream(strict, opt)\n    }\n\n    Stream.apply(this)\n\n    this._parser = new SAXParser(strict, opt)\n    this.writable = true\n    this.readable = true\n\n    var me = this\n\n    this._parser.onend = function () {\n      me.emit('end')\n    }\n\n    this._parser.onerror = function (er) {\n      me.emit('error', er)\n\n      // if didn't throw, then means error was handled.\n      // go ahead and clear error, so we can write again.\n      me._parser.error = null\n    }\n\n    this._decoder = null\n\n    streamWraps.forEach(function (ev) {\n      Object.defineProperty(me, 'on' + ev, {\n        get: function () {\n          return me._parser['on' + ev]\n        },\n        set: function (h) {\n          if (!h) {\n            me.removeAllListeners(ev)\n            me._parser['on' + ev] = h\n            return h\n          }\n          me.on(ev, h)\n        },\n        enumerable: true,\n        configurable: false\n      })\n    })\n  }\n\n  SAXStream.prototype = Object.create(Stream.prototype, {\n    constructor: {\n      value: SAXStream\n    }\n  })\n\n  SAXStream.prototype.write = function (data) {\n    if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n      if (!this._decoder) {\n        var SD = require('string_decoder').StringDecoder\n        this._decoder = new SD('utf8')\n      }\n      data = this._decoder.write(data)\n    }\n\n    this._parser.write(data.toString())\n    this.emit('data', data)\n    return true\n  }\n\n  SAXStream.prototype.end = function (chunk) {\n    if (chunk && chunk.length) {\n      this.write(chunk)\n    }\n    this._parser.end()\n    return true\n  }\n\n  SAXStream.prototype.on = function (ev, handler) {\n    var me = this\n    if (!me._parser['on' + ev] && streamWraps.indexOf(ev) !== -1) {\n      me._parser['on' + ev] = function () {\n        var args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments)\n        args.splice(0, 0, ev)\n        me.emit.apply(me, args)\n      }\n    }\n\n    return Stream.prototype.on.call(me, ev, handler)\n  }\n\n  // character classes and tokens\n  var whitespace = '\\r\\n\\t '\n\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  var number = '0124356789'\n  var letter = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'\n\n  // (Letter | \"_\" | \":\")\n  var quote = '\\'\"'\n  var attribEnd = whitespace + '>'\n  var CDATA = '[CDATA['\n  var DOCTYPE = 'DOCTYPE'\n  var XML_NAMESPACE = 'http://www.w3.org/XML/1998/namespace'\n  var XMLNS_NAMESPACE = 'http://www.w3.org/2000/xmlns/'\n  var rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE }\n\n  // turn all the string character sets into character class objects.\n  whitespace = charClass(whitespace)\n  number = charClass(number)\n  letter = charClass(letter)\n\n  // http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n  // This implementation works on strings, a single character at a time\n  // as such, it cannot ever support astral-plane characters (10000-EFFFF)\n  // without a significant breaking change to either this  parser, or the\n  // JavaScript language.  Implementation of an emoji-capable xml parser\n  // is left as an exercise for the reader.\n  var nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n\n  var nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040\\.\\d-]/\n\n  var entityStart = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n  var entityBody = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040\\.\\d-]/\n\n  quote = charClass(quote)\n  attribEnd = charClass(attribEnd)\n\n  function charClass (str) {\n    return str.split('').reduce(function (s, c) {\n      s[c] = true\n      return s\n    }, {})\n  }\n\n  function isRegExp (c) {\n    return Object.prototype.toString.call(c) === '[object RegExp]'\n  }\n\n  function is (charclass, c) {\n    return isRegExp(charclass) ? !!c.match(charclass) : charclass[c]\n  }\n\n  function not (charclass, c) {\n    return !is(charclass, c)\n  }\n\n  var S = 0\n  sax.STATE = {\n    BEGIN: S++, // leading byte order mark or whitespace\n    BEGIN_WHITESPACE: S++, // leading whitespace\n    TEXT: S++, // general stuff\n    TEXT_ENTITY: S++, // &amp and such.\n    OPEN_WAKA: S++, // <\n    SGML_DECL: S++, // <!BLARG\n    SGML_DECL_QUOTED: S++, // <!BLARG foo \"bar\n    DOCTYPE: S++, // <!DOCTYPE\n    DOCTYPE_QUOTED: S++, // <!DOCTYPE \"//blah\n    DOCTYPE_DTD: S++, // <!DOCTYPE \"//blah\" [ ...\n    DOCTYPE_DTD_QUOTED: S++, // <!DOCTYPE \"//blah\" [ \"foo\n    COMMENT_STARTING: S++, // <!-\n    COMMENT: S++, // <!--\n    COMMENT_ENDING: S++, // <!-- blah -\n    COMMENT_ENDED: S++, // <!-- blah --\n    CDATA: S++, // <![CDATA[ something\n    CDATA_ENDING: S++, // ]\n    CDATA_ENDING_2: S++, // ]]\n    PROC_INST: S++, // <?hi\n    PROC_INST_BODY: S++, // <?hi there\n    PROC_INST_ENDING: S++, // <?hi \"there\" ?\n    OPEN_TAG: S++, // <strong\n    OPEN_TAG_SLASH: S++, // <strong /\n    ATTRIB: S++, // <a\n    ATTRIB_NAME: S++, // <a foo\n    ATTRIB_NAME_SAW_WHITE: S++, // <a foo _\n    ATTRIB_VALUE: S++, // <a foo=\n    ATTRIB_VALUE_QUOTED: S++, // <a foo=\"bar\n    ATTRIB_VALUE_CLOSED: S++, // <a foo=\"bar\"\n    ATTRIB_VALUE_UNQUOTED: S++, // <a foo=bar\n    ATTRIB_VALUE_ENTITY_Q: S++, // <foo bar=\"&quot;\"\n    ATTRIB_VALUE_ENTITY_U: S++, // <foo bar=&quot\n    CLOSE_TAG: S++, // </a\n    CLOSE_TAG_SAW_WHITE: S++, // </a   >\n    SCRIPT: S++, // <script> ...\n    SCRIPT_ENDING: S++ // <script> ... <\n  }\n\n  sax.XML_ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\"\n  }\n\n  sax.ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\",\n    'AElig': 198,\n    'Aacute': 193,\n    'Acirc': 194,\n    'Agrave': 192,\n    'Aring': 197,\n    'Atilde': 195,\n    'Auml': 196,\n    'Ccedil': 199,\n    'ETH': 208,\n    'Eacute': 201,\n    'Ecirc': 202,\n    'Egrave': 200,\n    'Euml': 203,\n    'Iacute': 205,\n    'Icirc': 206,\n    'Igrave': 204,\n    'Iuml': 207,\n    'Ntilde': 209,\n    'Oacute': 211,\n    'Ocirc': 212,\n    'Ograve': 210,\n    'Oslash': 216,\n    'Otilde': 213,\n    'Ouml': 214,\n    'THORN': 222,\n    'Uacute': 218,\n    'Ucirc': 219,\n    'Ugrave': 217,\n    'Uuml': 220,\n    'Yacute': 221,\n    'aacute': 225,\n    'acirc': 226,\n    'aelig': 230,\n    'agrave': 224,\n    'aring': 229,\n    'atilde': 227,\n    'auml': 228,\n    'ccedil': 231,\n    'eacute': 233,\n    'ecirc': 234,\n    'egrave': 232,\n    'eth': 240,\n    'euml': 235,\n    'iacute': 237,\n    'icirc': 238,\n    'igrave': 236,\n    'iuml': 239,\n    'ntilde': 241,\n    'oacute': 243,\n    'ocirc': 244,\n    'ograve': 242,\n    'oslash': 248,\n    'otilde': 245,\n    'ouml': 246,\n    'szlig': 223,\n    'thorn': 254,\n    'uacute': 250,\n    'ucirc': 251,\n    'ugrave': 249,\n    'uuml': 252,\n    'yacute': 253,\n    'yuml': 255,\n    'copy': 169,\n    'reg': 174,\n    'nbsp': 160,\n    'iexcl': 161,\n    'cent': 162,\n    'pound': 163,\n    'curren': 164,\n    'yen': 165,\n    'brvbar': 166,\n    'sect': 167,\n    'uml': 168,\n    'ordf': 170,\n    'laquo': 171,\n    'not': 172,\n    'shy': 173,\n    'macr': 175,\n    'deg': 176,\n    'plusmn': 177,\n    'sup1': 185,\n    'sup2': 178,\n    'sup3': 179,\n    'acute': 180,\n    'micro': 181,\n    'para': 182,\n    'middot': 183,\n    'cedil': 184,\n    'ordm': 186,\n    'raquo': 187,\n    'frac14': 188,\n    'frac12': 189,\n    'frac34': 190,\n    'iquest': 191,\n    'times': 215,\n    'divide': 247,\n    'OElig': 338,\n    'oelig': 339,\n    'Scaron': 352,\n    'scaron': 353,\n    'Yuml': 376,\n    'fnof': 402,\n    'circ': 710,\n    'tilde': 732,\n    'Alpha': 913,\n    'Beta': 914,\n    'Gamma': 915,\n    'Delta': 916,\n    'Epsilon': 917,\n    'Zeta': 918,\n    'Eta': 919,\n    'Theta': 920,\n    'Iota': 921,\n    'Kappa': 922,\n    'Lambda': 923,\n    'Mu': 924,\n    'Nu': 925,\n    'Xi': 926,\n    'Omicron': 927,\n    'Pi': 928,\n    'Rho': 929,\n    'Sigma': 931,\n    'Tau': 932,\n    'Upsilon': 933,\n    'Phi': 934,\n    'Chi': 935,\n    'Psi': 936,\n    'Omega': 937,\n    'alpha': 945,\n    'beta': 946,\n    'gamma': 947,\n    'delta': 948,\n    'epsilon': 949,\n    'zeta': 950,\n    'eta': 951,\n    'theta': 952,\n    'iota': 953,\n    'kappa': 954,\n    'lambda': 955,\n    'mu': 956,\n    'nu': 957,\n    'xi': 958,\n    'omicron': 959,\n    'pi': 960,\n    'rho': 961,\n    'sigmaf': 962,\n    'sigma': 963,\n    'tau': 964,\n    'upsilon': 965,\n    'phi': 966,\n    'chi': 967,\n    'psi': 968,\n    'omega': 969,\n    'thetasym': 977,\n    'upsih': 978,\n    'piv': 982,\n    'ensp': 8194,\n    'emsp': 8195,\n    'thinsp': 8201,\n    'zwnj': 8204,\n    'zwj': 8205,\n    'lrm': 8206,\n    'rlm': 8207,\n    'ndash': 8211,\n    'mdash': 8212,\n    'lsquo': 8216,\n    'rsquo': 8217,\n    'sbquo': 8218,\n    'ldquo': 8220,\n    'rdquo': 8221,\n    'bdquo': 8222,\n    'dagger': 8224,\n    'Dagger': 8225,\n    'bull': 8226,\n    'hellip': 8230,\n    'permil': 8240,\n    'prime': 8242,\n    'Prime': 8243,\n    'lsaquo': 8249,\n    'rsaquo': 8250,\n    'oline': 8254,\n    'frasl': 8260,\n    'euro': 8364,\n    'image': 8465,\n    'weierp': 8472,\n    'real': 8476,\n    'trade': 8482,\n    'alefsym': 8501,\n    'larr': 8592,\n    'uarr': 8593,\n    'rarr': 8594,\n    'darr': 8595,\n    'harr': 8596,\n    'crarr': 8629,\n    'lArr': 8656,\n    'uArr': 8657,\n    'rArr': 8658,\n    'dArr': 8659,\n    'hArr': 8660,\n    'forall': 8704,\n    'part': 8706,\n    'exist': 8707,\n    'empty': 8709,\n    'nabla': 8711,\n    'isin': 8712,\n    'notin': 8713,\n    'ni': 8715,\n    'prod': 8719,\n    'sum': 8721,\n    'minus': 8722,\n    'lowast': 8727,\n    'radic': 8730,\n    'prop': 8733,\n    'infin': 8734,\n    'ang': 8736,\n    'and': 8743,\n    'or': 8744,\n    'cap': 8745,\n    'cup': 8746,\n    'int': 8747,\n    'there4': 8756,\n    'sim': 8764,\n    'cong': 8773,\n    'asymp': 8776,\n    'ne': 8800,\n    'equiv': 8801,\n    'le': 8804,\n    'ge': 8805,\n    'sub': 8834,\n    'sup': 8835,\n    'nsub': 8836,\n    'sube': 8838,\n    'supe': 8839,\n    'oplus': 8853,\n    'otimes': 8855,\n    'perp': 8869,\n    'sdot': 8901,\n    'lceil': 8968,\n    'rceil': 8969,\n    'lfloor': 8970,\n    'rfloor': 8971,\n    'lang': 9001,\n    'rang': 9002,\n    'loz': 9674,\n    'spades': 9824,\n    'clubs': 9827,\n    'hearts': 9829,\n    'diams': 9830\n  }\n\n  Object.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key]\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e\n    sax.ENTITIES[key] = s\n  })\n\n  for (var s in sax.STATE) {\n    sax.STATE[sax.STATE[s]] = s\n  }\n\n  // shorthand\n  S = sax.STATE\n\n  function emit (parser, event, data) {\n    parser[event] && parser[event](data)\n  }\n\n  function emitNode (parser, nodeType, data) {\n    if (parser.textNode) closeText(parser)\n    emit(parser, nodeType, data)\n  }\n\n  function closeText (parser) {\n    parser.textNode = textopts(parser.opt, parser.textNode)\n    if (parser.textNode) emit(parser, 'ontext', parser.textNode)\n    parser.textNode = ''\n  }\n\n  function textopts (opt, text) {\n    if (opt.trim) text = text.trim()\n    if (opt.normalize) text = text.replace(/\\s+/g, ' ')\n    return text\n  }\n\n  function error (parser, er) {\n    closeText(parser)\n    if (parser.trackPosition) {\n      er += '\\nLine: ' + parser.line +\n        '\\nColumn: ' + parser.column +\n        '\\nChar: ' + parser.c\n    }\n    er = new Error(er)\n    parser.error = er\n    emit(parser, 'onerror', er)\n    return parser\n  }\n\n  function end (parser) {\n    if (parser.sawRoot && !parser.closedRoot) strictFail(parser, 'Unclosed root tag')\n    if ((parser.state !== S.BEGIN) &&\n      (parser.state !== S.BEGIN_WHITESPACE) &&\n      (parser.state !== S.TEXT)) {\n      error(parser, 'Unexpected end')\n    }\n    closeText(parser)\n    parser.c = ''\n    parser.closed = true\n    emit(parser, 'onend')\n    SAXParser.call(parser, parser.strict, parser.opt)\n    return parser\n  }\n\n  function strictFail (parser, message) {\n    if (typeof parser !== 'object' || !(parser instanceof SAXParser)) {\n      throw new Error('bad call to strictFail')\n    }\n    if (parser.strict) {\n      error(parser, message)\n    }\n  }\n\n  function newTag (parser) {\n    if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]()\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    var tag = parser.tag = { name: parser.tagName, attributes: {} }\n\n    // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n    if (parser.opt.xmlns) {\n      tag.ns = parent.ns\n    }\n    parser.attribList.length = 0\n  }\n\n  function qname (name, attribute) {\n    var i = name.indexOf(':')\n    var qualName = i < 0 ? [ '', name ] : name.split(':')\n    var prefix = qualName[0]\n    var local = qualName[1]\n\n    // <x \"xmlns\"=\"http://foo\">\n    if (attribute && name === 'xmlns') {\n      prefix = 'xmlns'\n      local = ''\n    }\n\n    return { prefix: prefix, local: local }\n  }\n\n  function attrib (parser) {\n    if (!parser.strict) {\n      parser.attribName = parser.attribName[parser.looseCase]()\n    }\n\n    if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n      parser.attribName = parser.attribValue = ''\n      return\n    }\n\n    if (parser.opt.xmlns) {\n      var qn = qname(parser.attribName, true)\n      var prefix = qn.prefix\n      var local = qn.local\n\n      if (prefix === 'xmlns') {\n        // namespace binding attribute. push the binding into scope\n        if (local === 'xml' && parser.attribValue !== XML_NAMESPACE) {\n          strictFail(parser,\n            'xml: prefix must be bound to ' + XML_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else if (local === 'xmlns' && parser.attribValue !== XMLNS_NAMESPACE) {\n          strictFail(parser,\n            'xmlns: prefix must be bound to ' + XMLNS_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else {\n          var tag = parser.tag\n          var parent = parser.tags[parser.tags.length - 1] || parser\n          if (tag.ns === parent.ns) {\n            tag.ns = Object.create(parent.ns)\n          }\n          tag.ns[local] = parser.attribValue\n        }\n      }\n\n      // defer onattribute events until all attributes have been seen\n      // so any new bindings can take effect. preserve attribute order\n      // so deferred events can be emitted in document order\n      parser.attribList.push([parser.attribName, parser.attribValue])\n    } else {\n      // in non-xmlns mode, we can emit the event right away\n      parser.tag.attributes[parser.attribName] = parser.attribValue\n      emitNode(parser, 'onattribute', {\n        name: parser.attribName,\n        value: parser.attribValue\n      })\n    }\n\n    parser.attribName = parser.attribValue = ''\n  }\n\n  function openTag (parser, selfClosing) {\n    if (parser.opt.xmlns) {\n      // emit namespace binding events\n      var tag = parser.tag\n\n      // add namespace info to tag\n      var qn = qname(parser.tagName)\n      tag.prefix = qn.prefix\n      tag.local = qn.local\n      tag.uri = tag.ns[qn.prefix] || ''\n\n      if (tag.prefix && !tag.uri) {\n        strictFail(parser, 'Unbound namespace prefix: ' +\n          JSON.stringify(parser.tagName))\n        tag.uri = qn.prefix\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (tag.ns && parent.ns !== tag.ns) {\n        Object.keys(tag.ns).forEach(function (p) {\n          emitNode(parser, 'onopennamespace', {\n            prefix: p,\n            uri: tag.ns[p]\n          })\n        })\n      }\n\n      // handle deferred onattribute events\n      // Note: do not apply default ns to attributes:\n      //   http://www.w3.org/TR/REC-xml-names/#defaulting\n      for (var i = 0, l = parser.attribList.length; i < l; i++) {\n        var nv = parser.attribList[i]\n        var name = nv[0]\n        var value = nv[1]\n        var qualName = qname(name, true)\n        var prefix = qualName.prefix\n        var local = qualName.local\n        var uri = prefix === '' ? '' : (tag.ns[prefix] || '')\n        var a = {\n          name: name,\n          value: value,\n          prefix: prefix,\n          local: local,\n          uri: uri\n        }\n\n        // if there's any attributes with an undefined namespace,\n        // then fail on them now.\n        if (prefix && prefix !== 'xmlns' && !uri) {\n          strictFail(parser, 'Unbound namespace prefix: ' +\n            JSON.stringify(prefix))\n          a.uri = prefix\n        }\n        parser.tag.attributes[name] = a\n        emitNode(parser, 'onattribute', a)\n      }\n      parser.attribList.length = 0\n    }\n\n    parser.tag.isSelfClosing = !!selfClosing\n\n    // process the tag\n    parser.sawRoot = true\n    parser.tags.push(parser.tag)\n    emitNode(parser, 'onopentag', parser.tag)\n    if (!selfClosing) {\n      // special case for <script> in non-strict mode.\n      if (!parser.noscript && parser.tagName.toLowerCase() === 'script') {\n        parser.state = S.SCRIPT\n      } else {\n        parser.state = S.TEXT\n      }\n      parser.tag = null\n      parser.tagName = ''\n    }\n    parser.attribName = parser.attribValue = ''\n    parser.attribList.length = 0\n  }\n\n  function closeTag (parser) {\n    if (!parser.tagName) {\n      strictFail(parser, 'Weird empty close tag.')\n      parser.textNode += '</>'\n      parser.state = S.TEXT\n      return\n    }\n\n    if (parser.script) {\n      if (parser.tagName !== 'script') {\n        parser.script += '</' + parser.tagName + '>'\n        parser.tagName = ''\n        parser.state = S.SCRIPT\n        return\n      }\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n\n    // first make sure that the closing tag actually exists.\n    // <a><b></c></b></a> will close everything, otherwise.\n    var t = parser.tags.length\n    var tagName = parser.tagName\n    if (!parser.strict) {\n      tagName = tagName[parser.looseCase]()\n    }\n    var closeTo = tagName\n    while (t--) {\n      var close = parser.tags[t]\n      if (close.name !== closeTo) {\n        // fail the first time in strict mode\n        strictFail(parser, 'Unexpected close tag')\n      } else {\n        break\n      }\n    }\n\n    // didn't find it.  we already failed for strict, so just abort.\n    if (t < 0) {\n      strictFail(parser, 'Unmatched closing tag: ' + parser.tagName)\n      parser.textNode += '</' + parser.tagName + '>'\n      parser.state = S.TEXT\n      return\n    }\n    parser.tagName = tagName\n    var s = parser.tags.length\n    while (s-- > t) {\n      var tag = parser.tag = parser.tags.pop()\n      parser.tagName = parser.tag.name\n      emitNode(parser, 'onclosetag', parser.tagName)\n\n      var x = {}\n      for (var i in tag.ns) {\n        x[i] = tag.ns[i]\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (parser.opt.xmlns && tag.ns !== parent.ns) {\n        // remove namespace bindings introduced by tag\n        Object.keys(tag.ns).forEach(function (p) {\n          var n = tag.ns[p]\n          emitNode(parser, 'onclosenamespace', { prefix: p, uri: n })\n        })\n      }\n    }\n    if (t === 0) parser.closedRoot = true\n    parser.tagName = parser.attribValue = parser.attribName = ''\n    parser.attribList.length = 0\n    parser.state = S.TEXT\n  }\n\n  function parseEntity (parser) {\n    var entity = parser.entity\n    var entityLC = entity.toLowerCase()\n    var num\n    var numStr = ''\n\n    if (parser.ENTITIES[entity]) {\n      return parser.ENTITIES[entity]\n    }\n    if (parser.ENTITIES[entityLC]) {\n      return parser.ENTITIES[entityLC]\n    }\n    entity = entityLC\n    if (entity.charAt(0) === '#') {\n      if (entity.charAt(1) === 'x') {\n        entity = entity.slice(2)\n        num = parseInt(entity, 16)\n        numStr = num.toString(16)\n      } else {\n        entity = entity.slice(1)\n        num = parseInt(entity, 10)\n        numStr = num.toString(10)\n      }\n    }\n    entity = entity.replace(/^0+/, '')\n    if (isNaN(num) || num < 0 || num > 0x10FFFF\n          || numStr.toLowerCase() !== entity) {\n      strictFail(parser, 'Invalid character entity')\n      return '&' + parser.entity + ';'\n    }\n\n    return String.fromCodePoint(num)\n  }\n\n  function beginWhiteSpace (parser, c) {\n    if (c === '<') {\n      parser.state = S.OPEN_WAKA\n      parser.startTagPosition = parser.position\n    } else if (not(whitespace, c)) {\n      // have to process this as a text node.\n      // weird, but happens.\n      strictFail(parser, 'Non-whitespace before first tag.')\n      parser.textNode = c\n      parser.state = S.TEXT\n    }\n  }\n\n  function charAt (chunk, i) {\n    var result = ''\n    if (i < chunk.length) {\n      result = chunk.charAt(i)\n    }\n    return result\n  }\n\n  function write (chunk) {\n    var parser = this\n    if (this.error) {\n      throw this.error\n    }\n    if (parser.closed) {\n      return error(parser,\n        'Cannot write after close. Assign an onready handler.')\n    }\n    if (chunk === null) {\n      return end(parser)\n    }\n    var i = 0\n    var c = ''\n    while (true) {\n      c = charAt(chunk, i++)\n      parser.c = c\n      if (!c) {\n        break\n      }\n      if (parser.trackPosition) {\n        parser.position++\n        if (c === '\\n') {\n          parser.line++\n          parser.column = 0\n        } else {\n          parser.column++\n        }\n      }\n      switch (parser.state) {\n        case S.BEGIN:\n          parser.state = S.BEGIN_WHITESPACE\n          if (c === '\\uFEFF') {\n            continue\n          }\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.BEGIN_WHITESPACE:\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.TEXT:\n          if (parser.sawRoot && !parser.closedRoot) {\n            var starti = i - 1\n            while (c && c !== '<' && c !== '&') {\n              c = charAt(chunk, i++)\n              if (c && parser.trackPosition) {\n                parser.position++\n                if (c === '\\n') {\n                  parser.line++\n                  parser.column = 0\n                } else {\n                  parser.column++\n                }\n              }\n            }\n            parser.textNode += chunk.substring(starti, i - 1)\n          }\n          if (c === '<' && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {\n            parser.state = S.OPEN_WAKA\n            parser.startTagPosition = parser.position\n          } else {\n            if (not(whitespace, c) && (!parser.sawRoot || parser.closedRoot)) {\n              strictFail(parser, 'Text data outside of root node.')\n            }\n            if (c === '&') {\n              parser.state = S.TEXT_ENTITY\n            } else {\n              parser.textNode += c\n            }\n          }\n          continue\n\n        case S.SCRIPT:\n          // only non-strict\n          if (c === '<') {\n            parser.state = S.SCRIPT_ENDING\n          } else {\n            parser.script += c\n          }\n          continue\n\n        case S.SCRIPT_ENDING:\n          if (c === '/') {\n            parser.state = S.CLOSE_TAG\n          } else {\n            parser.script += '<' + c\n            parser.state = S.SCRIPT\n          }\n          continue\n\n        case S.OPEN_WAKA:\n          // either a /, ?, !, or text is coming next.\n          if (c === '!') {\n            parser.state = S.SGML_DECL\n            parser.sgmlDecl = ''\n          } else if (is(whitespace, c)) {\n            // wait for it...\n          } else if (is(nameStart, c)) {\n            parser.state = S.OPEN_TAG\n            parser.tagName = c\n          } else if (c === '/') {\n            parser.state = S.CLOSE_TAG\n            parser.tagName = ''\n          } else if (c === '?') {\n            parser.state = S.PROC_INST\n            parser.procInstName = parser.procInstBody = ''\n          } else {\n            strictFail(parser, 'Unencoded <')\n            // if there was some whitespace, then add that in.\n            if (parser.startTagPosition + 1 < parser.position) {\n              var pad = parser.position - parser.startTagPosition\n              c = new Array(pad).join(' ') + c\n            }\n            parser.textNode += '<' + c\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.SGML_DECL:\n          if ((parser.sgmlDecl + c).toUpperCase() === CDATA) {\n            emitNode(parser, 'onopencdata')\n            parser.state = S.CDATA\n            parser.sgmlDecl = ''\n            parser.cdata = ''\n          } else if (parser.sgmlDecl + c === '--') {\n            parser.state = S.COMMENT\n            parser.comment = ''\n            parser.sgmlDecl = ''\n          } else if ((parser.sgmlDecl + c).toUpperCase() === DOCTYPE) {\n            parser.state = S.DOCTYPE\n            if (parser.doctype || parser.sawRoot) {\n              strictFail(parser,\n                'Inappropriately located doctype declaration')\n            }\n            parser.doctype = ''\n            parser.sgmlDecl = ''\n          } else if (c === '>') {\n            emitNode(parser, 'onsgmldeclaration', parser.sgmlDecl)\n            parser.sgmlDecl = ''\n            parser.state = S.TEXT\n          } else if (is(quote, c)) {\n            parser.state = S.SGML_DECL_QUOTED\n            parser.sgmlDecl += c\n          } else {\n            parser.sgmlDecl += c\n          }\n          continue\n\n        case S.SGML_DECL_QUOTED:\n          if (c === parser.q) {\n            parser.state = S.SGML_DECL\n            parser.q = ''\n          }\n          parser.sgmlDecl += c\n          continue\n\n        case S.DOCTYPE:\n          if (c === '>') {\n            parser.state = S.TEXT\n            emitNode(parser, 'ondoctype', parser.doctype)\n            parser.doctype = true // just remember that we saw it.\n          } else {\n            parser.doctype += c\n            if (c === '[') {\n              parser.state = S.DOCTYPE_DTD\n            } else if (is(quote, c)) {\n              parser.state = S.DOCTYPE_QUOTED\n              parser.q = c\n            }\n          }\n          continue\n\n        case S.DOCTYPE_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.q = ''\n            parser.state = S.DOCTYPE\n          }\n          continue\n\n        case S.DOCTYPE_DTD:\n          parser.doctype += c\n          if (c === ']') {\n            parser.state = S.DOCTYPE\n          } else if (is(quote, c)) {\n            parser.state = S.DOCTYPE_DTD_QUOTED\n            parser.q = c\n          }\n          continue\n\n        case S.DOCTYPE_DTD_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.state = S.DOCTYPE_DTD\n            parser.q = ''\n          }\n          continue\n\n        case S.COMMENT:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDING\n          } else {\n            parser.comment += c\n          }\n          continue\n\n        case S.COMMENT_ENDING:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDED\n            parser.comment = textopts(parser.opt, parser.comment)\n            if (parser.comment) {\n              emitNode(parser, 'oncomment', parser.comment)\n            }\n            parser.comment = ''\n          } else {\n            parser.comment += '-' + c\n            parser.state = S.COMMENT\n          }\n          continue\n\n        case S.COMMENT_ENDED:\n          if (c !== '>') {\n            strictFail(parser, 'Malformed comment')\n            // allow <!-- blah -- bloo --> in non-strict mode,\n            // which is a comment of \" blah -- bloo \"\n            parser.comment += '--' + c\n            parser.state = S.COMMENT\n          } else {\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.CDATA:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING\n          } else {\n            parser.cdata += c\n          }\n          continue\n\n        case S.CDATA_ENDING:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING_2\n          } else {\n            parser.cdata += ']' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.CDATA_ENDING_2:\n          if (c === '>') {\n            if (parser.cdata) {\n              emitNode(parser, 'oncdata', parser.cdata)\n            }\n            emitNode(parser, 'onclosecdata')\n            parser.cdata = ''\n            parser.state = S.TEXT\n          } else if (c === ']') {\n            parser.cdata += ']'\n          } else {\n            parser.cdata += ']]' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.PROC_INST:\n          if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else if (is(whitespace, c)) {\n            parser.state = S.PROC_INST_BODY\n          } else {\n            parser.procInstName += c\n          }\n          continue\n\n        case S.PROC_INST_BODY:\n          if (!parser.procInstBody && is(whitespace, c)) {\n            continue\n          } else if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else {\n            parser.procInstBody += c\n          }\n          continue\n\n        case S.PROC_INST_ENDING:\n          if (c === '>') {\n            emitNode(parser, 'onprocessinginstruction', {\n              name: parser.procInstName,\n              body: parser.procInstBody\n            })\n            parser.procInstName = parser.procInstBody = ''\n            parser.state = S.TEXT\n          } else {\n            parser.procInstBody += '?' + c\n            parser.state = S.PROC_INST_BODY\n          }\n          continue\n\n        case S.OPEN_TAG:\n          if (is(nameBody, c)) {\n            parser.tagName += c\n          } else {\n            newTag(parser)\n            if (c === '>') {\n              openTag(parser)\n            } else if (c === '/') {\n              parser.state = S.OPEN_TAG_SLASH\n            } else {\n              if (not(whitespace, c)) {\n                strictFail(parser, 'Invalid character in tag name')\n              }\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.OPEN_TAG_SLASH:\n          if (c === '>') {\n            openTag(parser, true)\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Forward-slash in opening tag not followed by >')\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.ATTRIB:\n          // haven't read the attribute name yet.\n          if (is(whitespace, c)) {\n            continue\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (is(nameStart, c)) {\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (c === '>') {\n            strictFail(parser, 'Attribute without value')\n            parser.attribValue = parser.attribName\n            attrib(parser)\n            openTag(parser)\n          } else if (is(whitespace, c)) {\n            parser.state = S.ATTRIB_NAME_SAW_WHITE\n          } else if (is(nameBody, c)) {\n            parser.attribName += c\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME_SAW_WHITE:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (is(whitespace, c)) {\n            continue\n          } else {\n            strictFail(parser, 'Attribute without value')\n            parser.tag.attributes[parser.attribName] = ''\n            parser.attribValue = ''\n            emitNode(parser, 'onattribute', {\n              name: parser.attribName,\n              value: ''\n            })\n            parser.attribName = ''\n            if (c === '>') {\n              openTag(parser)\n            } else if (is(nameStart, c)) {\n              parser.attribName = c\n              parser.state = S.ATTRIB_NAME\n            } else {\n              strictFail(parser, 'Invalid attribute name')\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.ATTRIB_VALUE:\n          if (is(whitespace, c)) {\n            continue\n          } else if (is(quote, c)) {\n            parser.q = c\n            parser.state = S.ATTRIB_VALUE_QUOTED\n          } else {\n            strictFail(parser, 'Unquoted attribute value')\n            parser.state = S.ATTRIB_VALUE_UNQUOTED\n            parser.attribValue = c\n          }\n          continue\n\n        case S.ATTRIB_VALUE_QUOTED:\n          if (c !== parser.q) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_Q\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          parser.q = ''\n          parser.state = S.ATTRIB_VALUE_CLOSED\n          continue\n\n        case S.ATTRIB_VALUE_CLOSED:\n          if (is(whitespace, c)) {\n            parser.state = S.ATTRIB\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (is(nameStart, c)) {\n            strictFail(parser, 'No whitespace between attributes')\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_VALUE_UNQUOTED:\n          if (not(attribEnd, c)) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_U\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          if (c === '>') {\n            openTag(parser)\n          } else {\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.CLOSE_TAG:\n          if (!parser.tagName) {\n            if (is(whitespace, c)) {\n              continue\n            } else if (not(nameStart, c)) {\n              if (parser.script) {\n                parser.script += '</' + c\n                parser.state = S.SCRIPT\n              } else {\n                strictFail(parser, 'Invalid tagname in closing tag.')\n              }\n            } else {\n              parser.tagName = c\n            }\n          } else if (c === '>') {\n            closeTag(parser)\n          } else if (is(nameBody, c)) {\n            parser.tagName += c\n          } else if (parser.script) {\n            parser.script += '</' + parser.tagName\n            parser.tagName = ''\n            parser.state = S.SCRIPT\n          } else {\n            if (not(whitespace, c)) {\n              strictFail(parser, 'Invalid tagname in closing tag')\n            }\n            parser.state = S.CLOSE_TAG_SAW_WHITE\n          }\n          continue\n\n        case S.CLOSE_TAG_SAW_WHITE:\n          if (is(whitespace, c)) {\n            continue\n          }\n          if (c === '>') {\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Invalid characters in closing tag')\n          }\n          continue\n\n        case S.TEXT_ENTITY:\n        case S.ATTRIB_VALUE_ENTITY_Q:\n        case S.ATTRIB_VALUE_ENTITY_U:\n          var returnState\n          var buffer\n          switch (parser.state) {\n            case S.TEXT_ENTITY:\n              returnState = S.TEXT\n              buffer = 'textNode'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_Q:\n              returnState = S.ATTRIB_VALUE_QUOTED\n              buffer = 'attribValue'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_U:\n              returnState = S.ATTRIB_VALUE_UNQUOTED\n              buffer = 'attribValue'\n              break\n          }\n\n          if (c === ';') {\n            parser[buffer] += parseEntity(parser)\n            parser.entity = ''\n            parser.state = returnState\n          } else if (is(parser.entity.length ? entityBody : entityStart, c)) {\n            parser.entity += c\n          } else {\n            strictFail(parser, 'Invalid character in entity name')\n            parser[buffer] += '&' + parser.entity + c\n            parser.entity = ''\n            parser.state = returnState\n          }\n\n          continue\n\n        default:\n          throw new Error(parser, 'Unknown state: ' + parser.state)\n      }\n    } // while\n\n    if (parser.position >= parser.bufferCheckPosition) {\n      checkBufferLength(parser)\n    }\n    return parser\n  }\n\n  /*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\n  if (!String.fromCodePoint) {\n    (function () {\n      var stringFromCharCode = String.fromCharCode\n      var floor = Math.floor\n      var fromCodePoint = function () {\n        var MAX_SIZE = 0x4000\n        var codeUnits = []\n        var highSurrogate\n        var lowSurrogate\n        var index = -1\n        var length = arguments.length\n        if (!length) {\n          return ''\n        }\n        var result = ''\n        while (++index < length) {\n          var codePoint = Number(arguments[index])\n          if (\n            !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n            codePoint < 0 || // not a valid Unicode code point\n            codePoint > 0x10FFFF || // not a valid Unicode code point\n            floor(codePoint) !== codePoint // not an integer\n          ) {\n            throw RangeError('Invalid code point: ' + codePoint)\n          }\n          if (codePoint <= 0xFFFF) { // BMP code point\n            codeUnits.push(codePoint)\n          } else { // Astral code point; split in surrogate halves\n            // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n            codePoint -= 0x10000\n            highSurrogate = (codePoint >> 10) + 0xD800\n            lowSurrogate = (codePoint % 0x400) + 0xDC00\n            codeUnits.push(highSurrogate, lowSurrogate)\n          }\n          if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n            result += stringFromCharCode.apply(null, codeUnits)\n            codeUnits.length = 0\n          }\n        }\n        return result\n      }\n      if (Object.defineProperty) {\n        Object.defineProperty(String, 'fromCodePoint', {\n          value: fromCodePoint,\n          configurable: true,\n          writable: true\n        })\n      } else {\n        String.fromCodePoint = fromCodePoint\n      }\n    }())\n  }\n})(typeof exports === 'undefined' ? this.sax = {} : exports)\n\n\n\n// WEBPACK FOOTER //\n// ./libs/sax.js","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/buffer/index.js\n// module id = 229\n// module chunks = 1","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction placeHoldersCount (b64) {\n  var len = b64.length\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  return b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n}\n\nfunction byteLength (b64) {\n  // base64 is 4/3 + up to two characters of the original data\n  return (b64.length * 3 / 4) - placeHoldersCount(b64)\n}\n\nfunction toByteArray (b64) {\n  var i, l, tmp, placeHolders, arr\n  var len = b64.length\n  placeHolders = placeHoldersCount(b64)\n\n  arr = new Arr((len * 3 / 4) - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0; i < l; i += 4) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/base64-js/index.js\n// module id = 230\n// module chunks = 1","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/ieee754/index.js\n// module id = 231\n// module chunks = 1","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/isarray/index.js\n// module id = 232\n// module chunks = 1","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Stream;\n\nvar EE = require('events').EventEmitter;\nvar inherits = require('inherits');\n\ninherits(Stream, EE);\nStream.Readable = require('readable-stream/readable.js');\nStream.Writable = require('readable-stream/writable.js');\nStream.Duplex = require('readable-stream/duplex.js');\nStream.Transform = require('readable-stream/transform.js');\nStream.PassThrough = require('readable-stream/passthrough.js');\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\n\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/stream-browserify/index.js\n// module id = 233\n// module chunks = 1","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/events/events.js\n// module id = 234\n// module chunks = 1","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/inherits/inherits_browser.js\n// module id = 235\n// module chunks = 1","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/stream-browserify/~/readable-stream/readable-browser.js\n// module id = 236\n// module chunks = 1","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar processNextTick = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function (emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n// TODO(bmeurer): Change this back to const once hole checks are\n// properly optimized away early in Ignition+TurboFan.\n/*<replacement>*/\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n/*</replacement>*/\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug = void 0;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/BufferList');\nvar destroyImpl = require('./internal/streams/destroy');\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') {\n    return emitter.prependListener(event, fn);\n  } else {\n    // This is a hack to make sure that our error handler is attached before any\n    // userland ones.  NEVER DO THIS. This is here only because this code needs\n    // to continue to work with older versions of Node.js that do not include\n    // the prependListener() method. The goal is to eventually remove this hack.\n    if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n  }\n}\n\nfunction ReadableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = hwm || hwm === 0 ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\n\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  this.push(null);\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      stream.emit('error', er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) stream.emit('error', new Error('stream.unshift() after end event'));else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        stream.emit('error', new Error('stream.push() after EOF'));\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n    }\n  }\n\n  return needMoreData(state);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    stream.emit('data', chunk);\n    stream.read(0);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) processNextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    processNextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('_read() is not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) processNextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = { hasUnpiped: false };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, unpipeInfo);\n    }return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this, unpipeInfo);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        processNextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    processNextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], self.emit.bind(self, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    processNextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction forEach(xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/stream-browserify/~/readable-stream/lib/_stream_readable.js\n// module id = 237\n// module chunks = 1","'use strict';\n\nif (!process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = nextTick;\n} else {\n  module.exports = process.nextTick;\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/process-nextick-args/index.js\n// module id = 238\n// module chunks = 1","module.exports = require('events').EventEmitter;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/stream-browserify/~/readable-stream/lib/internal/streams/stream-browser.js\n// module id = 239\n// module chunks = 1","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/safe-buffer/index.js\n// module id = 240\n// module chunks = 1","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\nfunction isArray(arg) {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return objectToString(arg) === '[object Array]';\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = Buffer.isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/core-util-is/lib/util.js\n// module id = 241\n// module chunks = 1","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// util (ignored)\n// module id = 242\n// module chunks = 1","'use strict';\n\n/*<replacement>*/\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nfunction copyBuffer(src, target, offset) {\n  src.copy(target, offset);\n}\n\nmodule.exports = function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  BufferList.prototype.push = function push(v) {\n    var entry = { data: v, next: null };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.unshift = function unshift(v) {\n    var entry = { data: v, next: this.head };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  BufferList.prototype.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  BufferList.prototype.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) {\n      ret += s + p.data;\n    }return ret;\n  };\n\n  BufferList.prototype.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    if (this.length === 1) return this.head.data;\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  };\n\n  return BufferList;\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/stream-browserify/~/readable-stream/lib/internal/streams/BufferList.js\n// module id = 243\n// module chunks = 1","'use strict';\n\n/*<replacement>*/\n\nvar processNextTick = require('process-nextick-args');\n/*</replacement>*/\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {\n      processNextTick(emitErrorNT, this, err);\n    }\n    return;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      processNextTick(emitErrorNT, _this, err);\n      if (_this._writableState) {\n        _this._writableState.errorEmitted = true;\n      }\n    } else if (cb) {\n      cb(err);\n    }\n  });\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/stream-browserify/~/readable-stream/lib/internal/streams/destroy.js\n// module id = 244\n// module chunks = 1","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\n\nvar processNextTick = require('process-nextick-args');\n/*</replacement>*/\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\nvar keys = objectKeys(Writable.prototype);\nfor (var v = 0; v < keys.length; v++) {\n  var method = keys[v];\n  if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  processNextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});\n\nDuplex.prototype._destroy = function (err, cb) {\n  this.push(null);\n  this.end();\n\n  processNextTick(cb, err);\n};\n\nfunction forEach(xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/stream-browserify/~/readable-stream/lib/_stream_duplex.js\n// module id = 245\n// module chunks = 1","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar processNextTick = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : processNextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = hwm || hwm === 0 ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  processNextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    processNextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = _isUint8Array(chunk) && !state.objectMode;\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    processNextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    processNextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequestCount = 0;\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      processNextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) processNextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n  if (state.corkedRequestsFree) {\n    state.corkedRequestsFree.next = corkReq;\n  } else {\n    state.corkedRequestsFree = corkReq;\n  }\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/stream-browserify/~/readable-stream/lib/_stream_writable.js\n// module id = 246\n// module chunks = 1","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/util-deprecate/browser.js\n// module id = 247\n// module chunks = 1","'use strict';\n\nvar Buffer = require('safe-buffer').Buffer;\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return -1;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// UTF-8 replacement characters ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd'.repeat(p);\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd'.repeat(p + 1);\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd'.repeat(p + 2);\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character for each buffered byte of a (partial)\n// character needs to be added to the output.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd'.repeat(this.lastTotal - this.lastNeed);\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/stream-browserify/~/string_decoder/lib/string_decoder.js\n// module id = 248\n// module chunks = 1","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\nfunction TransformState(stream) {\n  this.afterTransform = function (er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n  this.writeencoding = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) {\n    return stream.emit('error', new Error('write callback called multiple times'));\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data !== null && data !== undefined) stream.push(data);\n\n  cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = new TransformState(this);\n\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.once('prefinish', function () {\n    if (typeof this._flush === 'function') this._flush(function (er, data) {\n      done(stream, er, data);\n    });else done(stream);\n  });\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('_transform() is not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  var _this = this;\n\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n    _this.emit('close');\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n\n  if (data !== null && data !== undefined) stream.push(data);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var ts = stream._transformState;\n\n  if (ws.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (ts.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/stream-browserify/~/readable-stream/lib/_stream_transform.js\n// module id = 249\n// module chunks = 1","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/stream-browserify/~/readable-stream/lib/_stream_passthrough.js\n// module id = 250\n// module chunks = 1","module.exports = require('./lib/_stream_writable.js');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/stream-browserify/~/readable-stream/writable-browser.js\n// module id = 251\n// module chunks = 1","module.exports = require('./lib/_stream_duplex.js');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/stream-browserify/~/readable-stream/duplex-browser.js\n// module id = 252\n// module chunks = 1","module.exports = require('./readable').Transform\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/stream-browserify/~/readable-stream/transform.js\n// module id = 253\n// module chunks = 1","module.exports = require('./readable').PassThrough\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/stream-browserify/~/readable-stream/passthrough.js\n// module id = 254\n// module chunks = 1","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar Buffer = require('buffer').Buffer;\n\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nvar StringDecoder = exports.StringDecoder = function(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/string_decoder/index.js\n// module id = 255\n// module chunks = 1","/**\n * Модуль для загрузки и кеширования асинхронно получаемых данных (в памяти).\n *\n * Выполняет две основные функции:\n * 1. если запрос данных выполняется в данный момент, то другие запросы не запускаются, а дожидаются его завершения\n * 2. если в кеше уже есть данные завершенного запроса, то новым запросам отдается кеш\n *\n * Использует 2 периода инвалидации кеша:\n * - options.succesLifetimeMs для успешных данных\n * - options.errorLifetimeMs для ошибочных данных\n *\n * Успешность / ошибочность данных определяется как в ноде, по первому параметру колбэка.\n */\n\n'use strict';\n\nvar LoaderItem = require('./resource-loader-item');\n\n/**\n * @constructor\n * @param {Object} [options]\n * @param {Number} [options.succesLifetimeMs] lifetime of success cache\n * @param {Number} [options.errorLifetimeMs] lifetime of error cache\n */\nvar ResourceLoader = module.exports = function (options) {\n    this._options = options;\n    this._items = [];\n};\n\n/**\n * Loads resource using passed loadMethod.\n * If resource with given id exist in cache,\n * loader doesn't invoke loadMethod, and gives resource from cache.\n * If resource with given id is being loaded,\n * loader doesn't invoke loadMethod, and waits for load process to be completed.\n * In any case, callback will be called with lodaded/cached data (or errors)\n * Loader doesn't save errors to cache, but it can be overriden by cacheErrors option\n * @param {Object} options\n * @param {String} options.id\n * @param {Function} options.loadMethod\n * @param {Function} options.callback\n */\nResourceLoader.prototype.load = function (options) {\n    var loaderItem = this._getItem(options.id);\n    if (!loaderItem) {\n        loaderItem = this._createItem(options.id);\n    }\n    loaderItem.addCallback(options.callback);\n    loaderItem.loadAttempt(options.loadMethod);\n};\n\n/**\n * Clear items with expired lifetime\n */\nResourceLoader.prototype.clearExpired = function () {\n    this._items = this._items.filter(function (item) {\n        return !item.isExpired();\n    });\n};\n\n/**\n * Returns cache for resource with given id.\n * If index is passed, returns data from particular cache position (argument position in loadMethod callback).\n * @param {String} id\n * @param {Number} [argumentIndex]\n * @returns {null|Array|*}\n */\nResourceLoader.prototype.getCache = function (id, argumentIndex) {\n    var loaderItem = this._getItem(id);\n    if (!loaderItem) {\n        return null;\n    }\n    var data = loaderItem.getData();\n    if (data && argumentIndex !== undefined) {\n        return data[argumentIndex];\n    }\n    return data;\n};\n\n/**\n * Checks cache for resource with given id\n * @param {String} id\n * @returns {Boolean}\n */\nResourceLoader.prototype.hasCache = function (id) {\n    var loaderItem = this._getItem(id);\n    return loaderItem ? Boolean(loaderItem.getData()) : false;\n};\n\n/**\n * @param {String} id\n * @returns {LoaderItem|null}\n */\nResourceLoader.prototype._getItem = function (id) {\n    for (var i = 0; i < this._items.length; i++) {\n        if (this._items[i].id === id) {\n            return this._items[i];\n        }\n    }\n    return null;\n};\n\n/**\n * Create item\n */\nResourceLoader.prototype._createItem = function (id) {\n    var item = new LoaderItem(id, this._options);\n    this._items.push(item);\n    return item;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./utils/resource-loader.js","/**\n * Элемент в списке для resource-loader: загрузка с определенным id и кеш данных по ней\n *\n */\n\n'use strict';\n\n// стандартное время жизни кеша успещных вызовов\nvar DEFAULT_SUCCESS_LIFETIME_MS = 24 * 60 * 60 * 1000;\n// стандартное время жизни кеша ошибочных вызовов\nvar DEFAULT_ERROR_LIFETIME_MS = 0;\n\n/**\n * @constructor\n * @param {String} id\n * @param {Object} [options]\n * @param {Number} [options.succesLifetimeMs] lifetime of success cache\n * @param {Number} [options.errorLifetimeMs] lifetime of error cache\n */\nvar LoaderItem = module.exports = function (id, options) {\n    options = options || {};\n    this.id = id;\n    this._pending = false;\n    this._data = null;\n    this._callbacks = [];\n    this._lastCallTimestamp = 0;\n    this._successLifetimeMs = options.successLifetimeMs || DEFAULT_SUCCESS_LIFETIME_MS;\n    this._errorLifetimeMs = options.errorLifetimeMs || DEFAULT_ERROR_LIFETIME_MS;\n};\n\n/**\n * Запускает loadMethod если в кеше нет данных\n * и в текущий момент не происходит процесс загрузки,\n * иначе вызывает коллбеки с кешем\n * @param {Function} loadMethod\n */\nLoaderItem.prototype.loadAttempt = function (loadMethod) {\n    if (this.getData()) {\n        this._applyCallbacks();\n    } else if (!this._pending) {\n        this._pending = true;\n        loadMethod(this._finish.bind(this));\n    }\n};\n\n/**\n * Добавляем колбэк в очередь\n * @param {Function} callback\n */\nLoaderItem.prototype.addCallback = function (callback) {\n    if (typeof callback === 'function') {\n        this._callbacks.push(callback);\n    } else {\n        throw new TypeError('Сallback is not a function');\n    }\n};\n\n/**\n * Отдает массив данных, если они есть в кеше и актуальны\n * @returns {Array|null}\n */\nLoaderItem.prototype.getData = function () {\n    return this._hasData() && !this.isExpired() ? this._data : null;\n};\n\n/**\n * Просрочились ли данные\n * @returns {Boolean}\n */\nLoaderItem.prototype.isExpired = function () {\n    var now = Date.now();\n    if (now < this._lastCallTimestamp) {\n        return true;\n    } else {\n        var lifeTime = this._isSuccessData() ? this._successLifetimeMs : this._errorLifetimeMs;\n        return now > this._lastCallTimestamp + lifeTime;\n    }\n};\n\n/**\n * Кешируем результат, вызываем накопленные колбэки.\n * Не сохраняет данные в кеш, если есть ошибки.\n * Предполагается node-style, т.е. callback(error, param1, param2, ... )\n */\nLoaderItem.prototype._finish = function () {\n    this._pending = false;\n    this._lastCallTimestamp = Date.now();\n    this._data = [].slice.call(arguments);\n    this._applyCallbacks();\n};\n\n/**\n * Вызываем колбэки\n */\nLoaderItem.prototype._applyCallbacks = function () {\n    for (var i = 0, len = this._callbacks.length; i < len; i++) {\n        var callback = this._callbacks.pop();\n        callback.apply(null, this._data);\n    }\n};\n\n/**\n * Без ошибки ли данные (первый аргумент пустой, node-style)\n * @returns {Boolean}\n */\nLoaderItem.prototype._isSuccessData = function () {\n    return this._data && !this._data[0];\n};\n\n/**\n * Есть ли закешированные данные\n * @returns {Boolean}\n */\nLoaderItem.prototype._hasData = function () {\n    return Array.isArray(this._data);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./utils/resource-loader-item.js","/**\n * Возвращает путь к фавиконке на фавиконнице яндекса\n */\n'use strict';\n\nvar urlUtils = require('../../utils/url');\nvar FAVICON_SERVICE_URL = 'https://favicon.yandex.net/favicon/';\n\nexports.getUrl = function (siteUrl) {\n    return FAVICON_SERVICE_URL + urlUtils.getNormalDomain(siteUrl);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/favicon/yandex.js","/**\n * Модуль, ответственный за определения цвета шрифта для изображения\n */\n\n'use strict';\n\nvar loadImage = require('./offscreen/load-image');\n\nvar FONT_COLOR_THRESHOLD = 170;\nvar COLOR_BLACK = 0;\nvar COLOR_WHITE = 1;\nvar CANVAS_SIZE_THRESHOLD = 800;\nvar MAX_THRESHOLD = 238;\nvar MIN_THRESHOLD = 20;\nvar PASTEL_THRESHOLD = 92;\nvar OPACITY_TRESHOLD = 230;\nvar WHITE_TRESHOLD = 253;\nvar BLACK_TRESHOLD = 10;\n\nexports.DEFAULT_BGCOLOR = 'e5e5e5';\nexports.OVERLAY_COLOR_WHITE = 'ffffff';\nexports.OVERLAY_COLOR_BLACK = '000000';\n\nfunction toRGB(num) {\n    return (num < 16 ? '0' : '') + num.toString(16);\n}\n\nfunction isAcidColor(red, green, blue) {\n    var sum = red + green + blue;\n\n    // один из цветов меньше MIN_THRESHOLD, а сумма больше 2 * MAX_THRESHOLD\n    if ((sum >= MAX_THRESHOLD * 2) && (red <= MIN_THRESHOLD || green <= MIN_THRESHOLD || blue <= MIN_THRESHOLD)) {\n        return true;\n    }\n\n    // один из цветов больше MAX_THRESHOLD, а сумма меньше MAX_THRESHOLD + 2 * MIN_THRESHOLD\n    if ((sum <= MAX_THRESHOLD + MIN_THRESHOLD * 2) && (red >= MAX_THRESHOLD || green >= MAX_THRESHOLD || blue >= MAX_THRESHOLD)) {\n        return true;\n    }\n\n    return false;\n}\n\nfunction isAlmostTransparent(opacity) {\n    return (opacity < OPACITY_TRESHOLD);\n}\n\nfunction isAlmostWhite(rgb) {\n    return (rgb[0] > WHITE_TRESHOLD && rgb[1] > WHITE_TRESHOLD && rgb[2] > WHITE_TRESHOLD);\n}\n\nfunction isAlmostBlack(rgb) {\n    return (rgb[0] < BLACK_TRESHOLD && rgb[1] < BLACK_TRESHOLD && rgb[2] < BLACK_TRESHOLD);\n}\n\nfunction isLightGrey(rgb) {\n    var meanValue = (rgb[0] + rgb[1] + rgb[2]) / 3;\n    return (Math.abs(meanValue - rgb[0]) + Math.abs(meanValue - rgb[1]) + Math.abs(meanValue - rgb[2]) < 15);\n}\n\nexports.calculateFontColorForImage = function (img) {\n    var color = exports.getDominant(img, {\n        bottomQuarter: true,\n        rightHalf: false,\n        minifyCanvas: true,\n        preventSkipColors: true\n    });\n    var fontColorNum = exports.getFontColorByBackgroundColor(color);\n    var fontColor = (fontColorNum === 1) ? exports.OVERLAY_COLOR_WHITE : exports.OVERLAY_COLOR_BLACK;\n    return fontColor;\n};\n\nexports.getFontOverlayColorForBackgroundColor = function (bgColor) {\n    var fontColorNum = exports.getFontColorByBackgroundColor(bgColor);\n    return fontColorNum === COLOR_WHITE ? exports.OVERLAY_COLOR_WHITE : exports.OVERLAY_COLOR_BLACK;\n};\n\nfunction getRGBValues(colorString) {\n    return {\n        red: parseInt(colorString.substr(0, 2), 16),\n        green: parseInt(colorString.substr(2, 2), 16),\n        blue: parseInt(colorString.substr(4, 2), 16)\n    };\n}\n\nvar COLOR_NAMES = require('./color-names');\nexports.normalize = function (str) {\n    if (!str) {\n        return null;\n    }\n    str = String(str).trim().toLowerCase();\n    return str in COLOR_NAMES\n        ? COLOR_NAMES[str]\n        : normalizeHexValue(str);\n};\n\nvar HEX_COLOR_RX = /^#?([\\da-f]{3}(?:[\\da-f]{3})?)/;\nfunction normalizeHexValue(val) {\n    if (!HEX_COLOR_RX.test(val)) {\n        return null;\n    }\n    val = HEX_COLOR_RX.exec(val)[1];\n    return val.length === 3\n        ? color3to6(val)\n        : val;\n}\n\nfunction color3to6(str) {\n    return str[0] + str[0]\n       + str[1] + str[1]\n       + str[2] + str[2];\n}\n\nexports.calculateDominantColorByUrl = function (imageUrl, options, callback) {\n    loadImage({url: imageUrl}, function (err, img) {\n        var color = err\n            ? null\n            : exports.getDominant(img, options);\n        callback(color);\n    });\n};\n\nexports.calculateFontColorByUrl = function (imageUrl, callback) {\n    loadImage({url: imageUrl}, function (err, img) {\n        if (err) {\n            return callback(null);\n        }\n        var color = exports.calculateFontColorForImage(img);\n        callback(color);\n    });\n};\n\nexports.getFontColorByBackgroundColor = function (bgColor) {\n    bgColor = bgColor || exports.DEFAULT_BGCOLOR;\n    var rgb = getRGBValues(bgColor);\n    var tone = (rgb.red + rgb.green + rgb.blue) / 3;\n    if ((tone < FONT_COLOR_THRESHOLD) &&\n        (rgb.red < FONT_COLOR_THRESHOLD || rgb.green < FONT_COLOR_THRESHOLD)) {\n        return COLOR_WHITE;\n    } else {\n        return COLOR_BLACK;\n    }\n};\n\nexports.getDominant = function (img, options) {\n    options = options || {};\n\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n\n    var canvasWidth = img.width;\n    var canvasHeight = img.height;\n\n    if (img.width > img.height) {\n        if (options.minifyCanvas && img.width > CANVAS_SIZE_THRESHOLD) {\n            canvasWidth = CANVAS_SIZE_THRESHOLD;\n            canvasHeight = Math.round(canvasWidth * img.height / img.width);\n        }\n    } else {\n        if (options.minifyCanvas && img.height > CANVAS_SIZE_THRESHOLD) {\n            canvasHeight = CANVAS_SIZE_THRESHOLD;\n            canvasWidth = Math.round(canvasHeight * img.width / img.height);\n        }\n    }\n\n    canvas.setAttribute('width', canvasWidth);\n    canvas.setAttribute('height', canvasHeight);\n    ctx.drawImage(img, 0, 0, canvasWidth, canvasHeight);\n    // here can be DOM Exception: SECURITY_ERR\n    var imgPixels;\n    try {\n        imgPixels = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    } catch (e) {\n        // Do nothing.\n        return '';\n    }\n    var maxValueKey = null;\n    var colorsContainer = {};\n    var pixelColorData = new Array(4);\n\n    var startY = (options.bottomQuarter) ? Math.round(imgPixels.height * 0.75) : 0;\n    var startX = (options.rightHalf) ? Math.round(imgPixels.width / 2) : 0;\n\n    for (var y = startY; y < imgPixels.height; y++) {\n        for (var x = startX; x < imgPixels.width; x++) {\n            var index = (y * 4) * imgPixels.width + x * 4;\n\n            // VB-1902\n            if (isAlmostTransparent(imgPixels.data[index + 3])) {\n                continue;\n            }\n\n            // чистые цвета\n            pixelColorData[0] = imgPixels.data[index]; // red\n            pixelColorData[1] = imgPixels.data[index + 1]; // green\n            pixelColorData[2] = imgPixels.data[index + 2]; // blue\n            pixelColorData[3] = imgPixels.data[index + 3]; // opacity\n\n            if (pixelColorData[3] !== 255) {\n                // color       | opacity\n                // ------------+--------\n                // clean color | 255\n                // 255         | 1\n\n                // накладываем цвет на белый фон\n                for (var z = 0; z < 3; z++) {\n                    var colorStep = (255 - pixelColorData[z]) / 255;\n                    pixelColorData[z] = Math.round(255 - colorStep * pixelColorData[3]);\n                }\n            }\n\n            if (!options.preventSkipColors &&\n                (isAlmostWhite(pixelColorData) ||\n                 isAlmostBlack(pixelColorData) ||\n                 isLightGrey(pixelColorData))) {\n                continue;\n            }\n\n            var color = toRGB(pixelColorData[0]) + toRGB(pixelColorData[1]) + toRGB(pixelColorData[2]);\n            colorsContainer[color] = colorsContainer[color] || 0;\n            colorsContainer[color] += 1;\n\n            if (maxValueKey === null || colorsContainer[maxValueKey] < colorsContainer[color]) {\n                maxValueKey = color;\n            }\n        }\n    }\n\n    if (maxValueKey) {\n        // VB-607\n        var rgb = getRGBValues(maxValueKey);\n        if (isAcidColor(rgb.red, rgb.green, rgb.blue)) {\n            rgb.red = Math.max(rgb.red, PASTEL_THRESHOLD);\n            rgb.green = Math.max(rgb.green, PASTEL_THRESHOLD);\n            rgb.blue = Math.max(rgb.blue, PASTEL_THRESHOLD);\n\n            maxValueKey = toRGB(rgb.red) + toRGB(rgb.green) + toRGB(rgb.blue);\n        }\n    }\n\n    return maxValueKey || exports.DEFAULT_BGCOLOR;\n};\n\n/**\n * Возвращает пиксель по координатам (0-based)\n */\nfunction getIndexByXY(x, y, imgPixels) {\n    return 4 * (imgPixels.width * y + x);\n}\n\n/**\n * Является ли скриншот черным\n *\n * @param {ImageData} imgPixels\n * @return {Boolean}\n */\nexports.isBlack = function (imgPixels) {\n    var halfX = Math.floor(imgPixels.width / 2);\n    var halfY = Math.floor(imgPixels.height / 2);\n    var listToCheck = [];\n\n    // полоса слева направо\n    for (var x = 0; x < imgPixels.width - 1; x++) {\n        listToCheck.push(getIndexByXY(x, halfY, imgPixels));\n    }\n\n    // полоса сверху вниз\n    for (var y = 0; y < imgPixels.height - 1; y++) {\n        listToCheck.push(getIndexByXY(halfX, y, imgPixels));\n    }\n\n    // углы\n    listToCheck.push(getIndexByXY(0, 0, imgPixels));\n    listToCheck.push(getIndexByXY(imgPixels.width - 1, 0, imgPixels));\n    listToCheck.push(getIndexByXY(0, imgPixels.height - 1, imgPixels));\n    listToCheck.push(getIndexByXY(imgPixels.width - 1, imgPixels.height - 1, imgPixels));\n\n    return listToCheck.every(function (index) {\n        var red = imgPixels.data[index];\n        var green = imgPixels.data[index + 1];\n        var blue = imgPixels.data[index + 2];\n        var opacity = imgPixels.data[index + 3];\n\n        // opacity 0 || 255, т.к. иногда хром оставляет прозрачную полоску\n        return (red === 0 && green === 0 && blue === 0 && (opacity === 255 || opacity === 0));\n    });\n};\n\nrequire('./overrides_v3/colors').override(exports);\n\n\n\n// WEBPACK FOOTER //\n// ./utils/colors.js","'use strict';\n\n/**\n * @param {Object} options\n * @param {String} options.url\n * @param {Boolean} [options.noCache]\n * @param {Function} callback\n * @returns {Image}\n */\nmodule.exports = function loadImage(options, callback) {\n    var img = new window.Image();\n    img.onload = onLoad.bind(null, img, callback);\n    img.onerror = onError.bind(null, img, callback);\n    img.src = options.url;\n    return img;\n}\n\n/**\n * @param {Image} img\n * @param {Function} callback\n */\nfunction onLoad(img, callback) {\n    setTimeout(function () {\n        callback(null, img);\n    }, 0);\n}\n\n/**\n * @param {Image} img\n * @param {Function} callback\n */\nfunction onError(img, callback) {\n    callback(new Error('Image load error: ' + img.src), img);\n}\n\n\n// WEBPACK FOOTER //\n// ./utils/offscreen/load-image.js","// https://drafts.csswg.org/css-color/#named-colors\n'use strict';\n\nmodule.exports = {\n    aliceblue: 'f0f8ff',\n    antiquewhite: 'faebd7',\n    aqua: '00ffff',\n    aquamarine: '7fffd4',\n    azure: 'f0ffff',\n    beige: 'f5f5dc',\n    bisque: 'ffe4c4',\n    black: '000000',\n    blanchedalmond: 'ffebcd',\n    blue: '0000ff',\n    blueviolet: '8a2be2',\n    brown: 'a52a2a',\n    burlywood: 'deb887',\n    cadetblue: '5f9ea0',\n    chartreuse: '7fff00',\n    chocolate: 'd2691e',\n    coral: 'ff7f50',\n    cornflowerblue: '6495ed',\n    cornsilk: 'fff8dc',\n    crimson: 'dc143c',\n    cyan: '00ffff',\n    darkblue: '00008b',\n    darkcyan: '008b8b',\n    darkgoldenrod: 'b8860b',\n    darkgray: 'a9a9a9',\n    darkgreen: '006400',\n    darkgrey: 'a9a9a9',\n    darkkhaki: 'bdb76b',\n    darkmagenta: '8b008b',\n    darkolivegreen: '556b2f',\n    darkorange: 'ff8c00',\n    darkorchid: '9932cc',\n    darkred: '8b0000',\n    darksalmon: 'e9967a',\n    darkseagreen: '8fbc8f',\n    darkslateblue: '483d8b',\n    darkslategray: '2f4f4f',\n    darkslategrey: '2f4f4f',\n    darkturquoise: '00ced1',\n    darkviolet: '9400d3',\n    deeppink: 'ff1493',\n    deepskyblue: '00bfff',\n    dimgray: '696969',\n    dimgrey: '696969',\n    dodgerblue: '1e90ff',\n    firebrick: 'b22222',\n    floralwhite: 'fffaf0',\n    forestgreen: '228b22',\n    fuchsia: 'ff00ff',\n    gainsboro: 'dcdcdc',\n    ghostwhite: 'f8f8ff',\n    gold: 'ffd700',\n    goldenrod: 'daa520',\n    gray: '808080',\n    green: '008000',\n    greenyellow: 'adff2f',\n    grey: '808080',\n    honeydew: 'f0fff0',\n    hotpink: 'ff69b4',\n    indianred: 'cd5c5c',\n    indigo: '4b0082',\n    ivory: 'fffff0',\n    khaki: 'f0e68c',\n    lavender: 'e6e6fa',\n    lavenderblush: 'fff0f5',\n    lawngreen: '7cfc00',\n    lemonchiffon: 'fffacd',\n    lightblue: 'add8e6',\n    lightcoral: 'f08080',\n    lightcyan: 'e0ffff',\n    lightgoldenrodyellow: 'fafad2',\n    lightgray: 'd3d3d3',\n    lightgreen: '90ee90',\n    lightgrey: 'd3d3d3',\n    lightpink: 'ffb6c1',\n    lightsalmon: 'ffa07a',\n    lightseagreen: '20b2aa',\n    lightskyblue: '87cefa',\n    lightslategray: '778899',\n    lightslategrey: '778899',\n    lightsteelblue: 'b0c4de',\n    lightyellow: 'ffffe0',\n    lime: '00ff00',\n    limegreen: '32cd32',\n    linen: 'faf0e6',\n    magenta: 'ff00ff',\n    maroon: '800000',\n    mediumaquamarine: '66cdaa',\n    mediumblue: '0000cd',\n    mediumorchid: 'ba55d3',\n    mediumpurple: '9370db',\n    mediumseagreen: '3cb371',\n    mediumslateblue: '7b68ee',\n    mediumspringgreen: '00fa9a',\n    mediumturquoise: '48d1cc',\n    mediumvioletred: 'c71585',\n    midnightblue: '191970',\n    mintcream: 'f5fffa',\n    mistyrose: 'ffe4e1',\n    moccasin: 'ffe4b5',\n    navajowhite: 'ffdead',\n    navy: '000080',\n    oldlace: 'fdf5e6',\n    olive: '808000',\n    olivedrab: '6b8e23',\n    orange: 'ffa500',\n    orangered: 'ff4500',\n    orchid: 'da70d6',\n    palegoldenrod: 'eee8aa',\n    palegreen: '98fb98',\n    paleturquoise: 'afeeee',\n    palevioletred: 'db7093',\n    papayawhip: 'ffefd5',\n    peachpuff: 'ffdab9',\n    peru: 'cd853f',\n    pink: 'ffc0cb',\n    plum: 'dda0dd',\n    powderblue: 'b0e0e6',\n    purple: '800080',\n    rebeccapurple: '663399',\n    red: 'ff0000',\n    rosybrown: 'bc8f8f',\n    royalblue: '4169e1',\n    saddlebrown: '8b4513',\n    salmon: 'fa8072',\n    sandybrown: 'f4a460',\n    seagreen: '2e8b57',\n    seashell: 'fff5ee',\n    sienna: 'a0522d',\n    silver: 'c0c0c0',\n    skyblue: '87ceeb',\n    slateblue: '6a5acd',\n    slategray: '708090',\n    slategrey: '708090',\n    snow: 'fffafa',\n    springgreen: '00ff7f',\n    steelblue: '4682b4',\n    tan: 'd2b48c',\n    teal: '008080',\n    thistle: 'd8bfd8',\n    tomato: 'ff6347',\n    turquoise: '40e0d0',\n    violet: 'ee82ee',\n    wheat: 'f5deb3',\n    white: 'ffffff',\n    whitesmoke: 'f5f5f5',\n    yellow: 'ffff00',\n    yellowgreen: '9acd32'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./utils/color-names.js","/**\n * Colors util proxy override\n */\n'use strict';\n\nconst events = require('../../modules/offscreen/events');\nconst offscreenManager = require('../offscreen/offscreen-manager');\n\nexports.override = (colors) => {\n    if (typeof colors !== 'object') {\n        return;\n    }\n\n    // Keep functions that is going to be overrided\n    // to call them from the offscreen document.\n    colors.calculateDominantColorByUrlOriginal =\n        colors.calculateDominantColorByUrl.bind({});\n    colors.calculateFontColorByUrlOriginal =\n        colors.calculateFontColorByUrl.bind({});\n\n    /**\n     * Proxy request to the Colors.calculateDominantColorByUrl method\n     * in the offscreen document.\n     */\n    colors.calculateDominantColorByUrl = (imgUrl, options, successCallback) => {\n        const callback = (message) => {\n            const {errObj, color} = message;\n            if (errObj) {\n                throw new Error(errObj.message);\n            } else {\n                return successCallback(color);\n            }\n        };\n\n        const msgBody =\n            {type: events.backend.COLORS_DOMINANT_COLOR_BY_URL, data: {imgUrl, options}};\n        return offscreenManager.sendMessage(\n            msgBody, 'Colors calculateDominantColorByUrl timed out', callback);\n    };\n\n    /**\n     * Proxy request to the Colors.calculateFontColorByUrl method\n     * in the offscreen document.\n     */\n    colors.calculateFontColorByUrl = (imgUrl, successCallback) => {\n        const callback = (message) => {\n            const {errObj, color} = message;\n            if (errObj) {\n                throw new Error(errObj.message);\n            } else {\n                return successCallback(color);\n            }\n        };\n\n        const msgBody =\n            {type: events.backend.COLORS_FONT_COLOR_BY_URL, data: {imgUrl}};\n        return offscreenManager.sendMessage(\n            msgBody, 'Colors calculateFontColorByUrl timed out', callback);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/overrides_v3/colors.js","/**\n * Класс для скачивания и просмотра файлов в определенной папке файловой песочницы\n */\n\n'use strict';\n\nvar fs = require('../platform/file-storage');\nvar fileUtils = require('./file-utils');\nvar urlUtils = require('./url');\nvar asyncLib = require('async');\n\n/**\n * Constructor\n * @param {String} directory\n * @constructor\n */\nfunction FileStorage(directory) {\n    if (!directory) {\n        throw new Error('Directory must be specified');\n    }\n    this.directory = fileUtils.wrapSeparator(directory);\n}\n\n/**\n * Returns map with all files in directory\n * @param {Function} callback\n */\nFileStorage.prototype.getAll = function (callback) {\n    asyncLib.waterfall([\n        this._getFileList.bind(this),\n        this._getLocalUrls.bind(this),\n        this._createFilesMap.bind(this),\n    ], callback);\n};\n\n/**\n * Loads file and saves it to file system\n * @param {String} url\n * @param {String} [name]\n * @param {Function} callback\n */\nFileStorage.prototype.download = function (url, name, callback) {\n    var filePath = this.getFilePath(name || url);\n    fs.download(url, filePath, function (error) {\n        if (error) {\n            callback(error);\n        } else {\n            this._getFileUrl(filePath, callback);\n        }\n    }.bind(this));\n};\n\n/**\n * Returns local url for given file name\n * @param {String} fileName\n * @param {Function} callback\n */\nFileStorage.prototype.getLocalUrl = function (fileName, callback) {\n    var filePath = this.getFilePath(fileName);\n    this._getFileUrl(filePath, callback);\n};\n\n/**\n * Removes file from file stystem\n * @param {String} fileName\n * @param {Function} callback\n */\nFileStorage.prototype.remove = function (fileName, callback) {\n    var filePath = this.getFilePath(fileName);\n    fs.remove(filePath, callback);\n};\n\n/**\n * Copies file from srcPath to current directory with given name\n * Returns local url for copied file\n * @param {String} srcPath\n * @param {String} newName\n * @param {Function} callback\n */\nFileStorage.prototype.copy = function (srcPath, newName, callback) {\n    var newFilePath = this.getFilePath(newName);\n    fs.copy(srcPath, newFilePath, function (error) {\n        if (error) {\n            callback(error);\n        } else {\n            this._getFileUrl(newFilePath, callback);\n        }\n    }.bind(this));\n};\n\n/**\n * Saves data uri to file storage with specified fileName\n * Returns local url for saved file\n * @param {String} dataURI\n * @param {String} fileName\n * @param {Function} callback\n */\nFileStorage.prototype.saveDataURI = function (dataURI, fileName, callback) {\n    var newFilePath = this.getFilePath(fileName);\n    fs.saveDataURI(dataURI, newFilePath, function (error) {\n        if (error) {\n            callback(error);\n        } else {\n            this._getFileUrl(newFilePath, callback);\n        }\n    }.bind(this));\n};\n\n/**\n * Saves data uri / or normal url to file storage with specified fileName\n * Returns local url for saved file\n * @param {String} url or dataURI\n * @param {String} fileName\n * @param {Function} callback\n */\nFileStorage.prototype.saveAnyUrl = function (url, fileName, callback) {\n    return urlUtils.isDataUri(url)\n        ? this.saveDataURI(url, fileName, callback)\n        : this.download(url, fileName, callback);\n};\n\n/**\n * Copies file to new location then deletes old file\n * @param {String} oldPath\n * @param {String} newPath\n * @param {Function} callback\n */\nFileStorage.prototype.move = function (oldPath, newPath, callback) {\n    fs.copy(oldPath, newPath, function (error) {\n        if (error) {\n            callback(error);\n        } else {\n            this.remove(oldPath, callback);\n        }\n    }.bind(this));\n};\n\n/**\n * Retrieves local file url and passes it to callback\n * along with file path as third parameter\n */\nFileStorage.prototype._getFileUrl = function (filePath, callback) {\n    fs.getFileUrl(filePath, function (error, fileURL) {\n        callback(error, {url: fileURL, path: filePath});\n    });\n};\n\n/**\n * Returns full path to file, e.g. 'file.txt' -> '/dir/file.txt'\n * @param {String} fileName\n * @returns {String}\n */\nFileStorage.prototype.getFilePath = function (fileName) {\n    return this.directory + fileName;\n};\n\nFileStorage.prototype._getFileList = function (callback) {\n    fs.list(this.directory, callback);\n};\n\nFileStorage.prototype._getLocalUrls = function (list, callback) {\n    asyncLib.parallel(list.map(function (filePath) {\n        // can't use .bind with fs functions (it fails in ie)\n        return function (next) {\n            fs.getFileUrl(filePath, next);\n        };\n    }), callback);\n};\n\nFileStorage.prototype._createFilesMap = function (list, callback) {\n    var result = list.reduce(function (res, filePath) {\n        var fileName = fileUtils.extractName(filePath);\n        res[fileName] = filePath;\n        return res;\n    }, {});\n    callback(null, result);\n};\n\nmodule.exports = FileStorage;\n\n\n\n// WEBPACK FOOTER //\n// ./utils/file-storage.js","/**\n * Wrapper of HTML5's FileSystem Api\n */\n'use strict';\n\nvar Filer = require('../modules/overrides_v3/filer'); \nvar fileUtils = require('../utils/file-utils');\nvar readAsText = require('../utils/blob-utils').readAsText;\n\nvar filer = new Filer();\nvar NOT_FOUND_ERR_NAME = 'NotFoundError';\n\nvar fileStorage = {\n    /**\n     * Init\n     */\n    init: function (callback) {\n        // Return a promise for the asyncLib.series\n        // method call to work properly in always.js file.\n        return filer.init({persistent: true, size: 0}, function () {\n            callback();\n        }, function (err) {\n            callback(err);\n        });\n    },\n\n    /**\n     * Is initialized?\n     */\n    get isInitialized() {\n        return Boolean(filer);\n    },\n\n    /**\n     * Downloads url\n     * Set later from platform/file-downloader to exclude cyclic deps\n     */\n    download: function () {\n        throw new Error('platform.fileStorage.download should be overwritten by file-downloader');\n    },\n\n    /**\n     * Сохраняет переданный data uri в виде картинки\n     * @param {string} dataURI - base64 данные\n     * @param {string} fileName - имя файла куда записываются данные\n     * @param {function} callback\n     */\n    saveDataURI: function (dataURI, fileName, callback) {\n        var objectUrl = window.URL.createObjectURL(dataUrlToBlob(dataURI));\n        this.download(objectUrl, fileName, function (error) {\n            window.URL.revokeObjectURL(objectUrl);\n            callback(error);\n        });\n    },\n\n    /**\n     * Удаляет локальный файл\n     * @param {string} fileName - имя файла\n     * @param {function} callback - функция с параметрами\n     *   {object} error\n     */\n    remove: function (fileName, callback) {\n        filer.rm(fileName, callback.bind(null, null), callback);\n    },\n\n    /**\n     * Получает список файлов удовлетворяющих условию\n     * @param {string} path - директория\n     * @param {function} callback - функция с параметрами\n     *   {object} error\n     *   {array of string} - список файлов\n     */\n    list: function (path, callback) {\n        filer.ls(path, function (entries) {\n            callback(null, entries.map(function (entry) {\n                return entry.fullPath;\n            }));\n        }, this._onListError.bind(this, callback));\n    },\n\n    _onListError: function (callback, error) {\n        // В Chrome 54 интерфейс FileError был заменен на DOMError\n        // В связи с этим код ошибки NOT_FOUND_ERR стал 8\n        // Для обратной совместимости проверяем имя ошибки а не код\n        // {@see https://st.yandex-team.ru/VB-5953}\n        if (error.name === NOT_FOUND_ERR_NAME) {\n            callback(null, []);\n        } else {\n            callback(error);\n        }\n    },\n\n    /**\n     * Пишем в файл\n     * @see https://github.com/ebidel/filer.js/#write\n     */\n    write: function (fileName, data, callback) {\n        filer.write(fileName, data, function (fileEntry, fileWriter) {\n            callback(null, fileEntry, fileWriter);\n        }, callback);\n    },\n\n    /**\n     * Читаем файл как строку\n     * @see https://github.com/ebidel/filer.js/#open\n     */\n    readAsText: function (fileName, callback) {\n        filer.open(fileName, function (file) {\n            readAsText(file)\n                .then(result => callback(null, result))\n                .catch(error => callback(error));\n        }, callback);\n    },\n\n    /**\n     * Перемещаем файл\n     * @see https://github.com/ebidel/filer.js/#mv\n     */\n    move: function (srcFile, destDir, destFileName, callback) {\n        filer.mv(srcFile, destDir, destFileName, function (fileEntry) {\n            callback(null, fileEntry);\n        }, callback);\n    },\n\n    /**\n     * Копирует файл\n     * @param {string} srcFile - откуда\n     * @param {string} destFile - куда\n     * @param {function} callback - функция с параметрами\n     *   {object} error\n     */\n    copy: function (srcFile, destFile, callback) {\n        this.createDirectory(destFile, function () {\n            var dirPath = fileUtils.extractDirectoryName(destFile) || '.';\n            var fileName = fileUtils.extractName(destFile);\n            filer.cp(srcFile, dirPath, fileName, callback.bind(null, null), callback);\n        }.bind(this), callback);\n    },\n\n    /**\n     * Возвращает урл по которому файл доступен из фронтенда\n     * @param {string} fileName - путь к файлу\n     * @param {function} callback\n     */\n    getFileUrl: function (fileName, callback) {\n        // Return a promise for the asyncLib.series\n        // method call to work properly.\n        return filer.getEntry(fileName, function (entry) {\n            callback(null, entry);\n        }, callback);\n    },\n\n    /**\n     * Creates directory if needed\n     * @param {string} fileName - путь к файлу\n     * @param {function} callback\n     * @param {function} errback\n     */\n    createDirectory: function (fileName, callback, errback) {\n        var dirName = fileUtils.extractDirectoryName(fileName);\n        if (dirName) {\n            filer.mkdir(dirName, false, callback, errback);\n        } else {\n            callback();\n        }\n    }\n};\n\nfunction dataUrlToBlob(dataUrl) {\n    // convert base64/URLEncoded data component to raw binary data held in a string\n    var byteString;\n    if (dataUrl.split(',')[0].indexOf('base64') >= 0) {\n        byteString = window.atob(dataUrl.split(',')[1]);\n    } else {\n        byteString = window.unescape(dataUrl.split(',')[1]);\n    }\n\n    // separate out the mime component\n    var mimeString = dataUrl.split(',')[0].split(':')[1].split(';')[0];\n\n    // write the bytes of the string to a typed array\n    var ia = new Uint8Array(byteString.length);\n    for (var i = 0; i < byteString.length; i++) {\n        ia[i] = byteString.charCodeAt(i);\n    }\n\n    return new window.Blob([ia], {type: mimeString});\n}\n\nmodule.exports = fileStorage;\n\n\n\n// WEBPACK FOOTER //\n// ./platform/file-storage.js","/**\n * Filer proxy\n */\n'use strict';\n\nconst events = require('../offscreen/events');\nconst offscreenManager = require('../../utils/offscreen/offscreen-manager');\n\nclass Filer {\n    constructor() {}\n\n    /**\n     * Override Filer.pathToFilesystemURL method.\n     */\n    pathToFilesystemURL(path) {\n        return chrome.runtime.getURL(path);\n    }\n\n    /**\n     * Proxy request to the Filer.init method in the offscreen document.\n     */\n    init(opt_initObj, opt_successCallback, opt_errorHandler) {\n        const callback = (message) => {\n            const {errObj} = message;\n            if (errObj) {\n                const err = new Error(errObj.message);\n                opt_errorHandler && opt_errorHandler(err);\n            } else {\n                opt_successCallback && opt_successCallback();\n            }\n        };\n\n        const msgBody =\n            {type: events.backend.FILER_INIT, data: {opt_initObj}};\n        return offscreenManager.sendMessage(\n            msgBody, 'Filer init timed out', callback, opt_errorHandler);\n    }\n\n    /**\n     * Proxy request to the Filer.ls method in the offscreen document.\n     */\n    ls(dirEntryOrPath, successCallback, opt_errorHandler) {\n        const callback = (message) => {\n            const {errObj} = message;\n            if (errObj) {\n                const err = new Error(errObj.message);\n                opt_errorHandler && opt_errorHandler(err);\n            } else {\n                successCallback(message.entries);\n            }\n        };\n\n        const msgBody =\n            {type: events.backend.FILER_LS, data: {dirEntryOrPath}};\n        return offscreenManager.sendMessage(\n            msgBody, 'Filer ls timed out', callback, opt_errorHandler);\n    }\n\n    /**\n     * Proxy request to the Filer.mkdir method in the offscreen document.\n     */\n    mkdir(path, opt_exclusive, opt_successCallback, opt_errorHandler) {\n        const callback = (message) => {\n            const {errObj, entry} = message;\n            if (errObj) {\n                const err = new Error(errObj.message);\n                opt_errorHandler && opt_errorHandler(err);\n            } else {\n                opt_successCallback && opt_successCallback(entry);\n            }\n        };\n\n        const msgBody =\n            {type: events.backend.FILER_MKDIR, data: {path, opt_exclusive}};\n        return offscreenManager.sendMessage(\n            msgBody, 'Filer mkdir timed out', callback, opt_errorHandler);\n    }\n\n    /**\n     * Proxy request to the Filer.open method in the offscreen document.\n     */\n    open(entryOrPath, successCallback, opt_errorHandler) {\n        const callback = (message) => {\n            const {errObj, file} = message;\n            if (errObj) {\n                const err = new Error(errObj.message);\n                opt_errorHandler && opt_errorHandler(err);\n            } else {\n                successCallback(file);\n            }\n        };\n\n        const msgBody =\n            {type: events.backend.FILER_OPEN, data: {entryOrPath}};\n        return offscreenManager.sendMessage(\n            msgBody, 'Filer open timed out', callback, opt_errorHandler);\n    }\n\n    /**\n     * Proxy request to the Filer.create method in the offscreen document.\n     */\n    create(path, opt_exclusive, successCallback, opt_errorHandler) {\n        const callback = (message) => {\n            const {errObj} = message;\n            if (errObj) {\n                const err = new Error(errObj.message);\n                opt_errorHandler && opt_errorHandler(err);\n            } else {\n                successCallback();\n            }\n        };\n\n        const msgBody =\n            {type: events.backend.FILER_CREATE, data: {path, opt_exclusive}};\n        return offscreenManager.sendMessage(\n            msgBody, 'Filer create timed out', callback, opt_errorHandler);\n    }\n\n    /**\n     * Proxy request to the Filer.mv method in the offscreen document.\n     */\n    mv(src, dest, opt_newName, opt_successCallback, opt_errorHandler) {\n        const callback = (message) => {\n            const {errObj, entry} = message;\n            if (errObj) {\n                const err = new Error(errObj.message);\n                opt_errorHandler && opt_errorHandler(err);\n            } else {\n                opt_successCallback && opt_successCallback(entry);\n            }\n        };\n\n        const msgBody =\n            {type: events.backend.FILER_MV, data: {src, dest, opt_newName}};\n        return offscreenManager.sendMessage(\n            msgBody, 'Filer mv timed out', callback, opt_errorHandler);\n    }\n\n    /**\n     * Proxy request to the Filer.rm method in the offscreen document.\n     */\n    rm(entryOrPath, successCallback, opt_errorHandler) {\n        const callback = (message) => {\n            const {errObj} = message;\n            if (errObj) {\n                const err = new Error(errObj.message);\n                opt_errorHandler && opt_errorHandler(err);\n            } else {\n                successCallback();\n            }\n        };\n\n        const msgBody =\n            {type: events.backend.FILER_RM, data: {entryOrPath}};\n        return offscreenManager.sendMessage(\n            msgBody, 'Filer rm timed out', callback, opt_errorHandler);\n    }\n\n    /**\n     * Proxy request to the Filer.cd method in the offscreen document.\n     */\n    cd(dirEntryOrPath, opt_successCallback, opt_errorHandler) {\n        const callback = (message) => {\n            const {errObj, entry} = message;\n            if (errObj) {\n                const err = new Error(errObj.message);\n                opt_errorHandler && opt_errorHandler(err);\n            } else {\n                opt_successCallback && opt_successCallback(entry);\n            }\n        };\n\n        const msgBody =\n            {type: events.backend.FILER_CD, data: {dirEntryOrPath}};\n        return offscreenManager.sendMessage(\n            msgBody, 'Filer cd timed out', callback, opt_errorHandler);\n    }\n\n    /**\n     * Proxy request to the Filer.cp method in the offscreen document.\n     */\n    cp(src, dest, opt_newName, opt_successCallback, opt_errorHandler) {\n        const callback = (message) => {\n            const {errObj, entry} = message;\n            if (errObj) {\n                const err = new Error(errObj.message);\n                opt_errorHandler && opt_errorHandler(err);\n            } else {\n                opt_successCallback && opt_successCallback(entry);\n            }\n        };\n\n        const msgBody =\n            {type: events.backend.FILER_CP, data: {src, dest, opt_newName}};\n        return offscreenManager.sendMessage(\n            msgBody, 'Filer cp timed out', callback, opt_errorHandler);\n    }\n\n    /**\n     * Proxy request to the Filer.write method in the offscreen document.\n     */\n    write(entryOrPath, writeData, opt_successCallback, opt_errorHandler) {\n        const callback = (message) => {\n            const {errObj, entry} = message;\n            if (errObj) {\n                const err = new Error(errObj.message);\n                opt_errorHandler && opt_errorHandler(err);\n            } else {\n                opt_successCallback && opt_successCallback(entry);\n            }\n        };\n\n        const msgBody =\n            {type: events.backend.FILER_WRITE, data: {entryOrPath, writeData}};\n        return offscreenManager.sendMessage(\n            msgBody, 'Filer write timed out', callback, opt_errorHandler);\n    }\n\n    /**\n     * Proxy request to the Filer.df method in the offscreen document.\n     */\n    df() {\n        // Do nothing, not being used.\n    }\n\n    /**\n     * Proxy request to the Filer.getEntry method in the offscreen document.\n     */\n    getEntry(fileName, opt_successCallback, opt_errorHandler) {\n        const callback = (message) => {\n            const {errObj, entry} = message;\n            if (errObj) {\n                const err = new Error(errObj.message);\n                opt_errorHandler && opt_errorHandler(err);\n            } else {\n                opt_successCallback && opt_successCallback(entry);\n            }\n        };\n\n        const msgBody =\n            {type: events.backend.FILER_GET_ENTRY, data: {fileName}};\n        return offscreenManager.sendMessage(\n            msgBody, 'Filer getEntry timed out', callback, opt_errorHandler);\n    }\n}\n\nmodule.exports = Filer;\n\n\n\n// WEBPACK FOOTER //\n// ./modules/overrides_v3/filer.js","/**\n * Утилитарные методы работы с файлами\n */\n\n'use strict';\n\nvar FIRST_SLASH_REG = /^\\//;\nvar SLASH_BACKSLASH_REG = /\\\\+|\\/+/g;\n\nvar fileUtils = {\n    /**\n     * Extracts file name from passed file path\n     * @param {String} filePath\n     * @returns {String}\n     */\n    extractName: function (filePath) {\n        var slashIndex = filePath.lastIndexOf('/');\n        return filePath.slice(slashIndex + 1);\n    },\n\n    /**\n     * Получаем расширение файла\n     * @param {String} filePath\n     * @returns {String}\n     */\n    extractExtension: function (filePath) {\n        var dotIndex = (filePath || '').lastIndexOf('.');\n        return dotIndex >= 0 ? filePath.slice(dotIndex + 1) : '';\n    },\n\n    /**\n     * Extracts dir name from passed filePath\n     * @param {String} filePath\n     * @returns {String|null}\n     */\n    extractDirectoryName: function (filePath) {\n        var slashIndex = filePath.lastIndexOf('/');\n        if (slashIndex > 0) {\n            return filePath.slice(0, slashIndex);\n        }\n        return null;\n    },\n\n    /**\n     * Wraps path with \"/\" separator\n     * Example:\n     * \"path/to\" --> \"/path/to/\"\n     *\n     * @param {String} path\n     */\n    wrapSeparator: function (path) {\n        if (typeof path !== 'string') {\n            throw new Error('Invalid path');\n        }\n        if (path === '') {\n            return '/';\n        }\n        return '/' + path.replace(/^\\/+|\\/+$/g, '') + '/';\n    },\n\n    /**\n     * Replaces duplicated slashes/backslashes with singular slash.\n     * Also removes leading slash, if it exists.\n     * @param {?String} path\n     * @returns {String}\n     */\n    normalizePath: function (path) {\n        if (path) {\n            return path\n                .replace(SLASH_BACKSLASH_REG, '/')\n                .replace(FIRST_SLASH_REG, '');\n        } else {\n            return '';\n        }\n    }\n};\n\nmodule.exports = fileUtils;\n\n\n\n\n// WEBPACK FOOTER //\n// ./utils/file-utils.js","/**\n * Набор утилит для чтения данных из Blob|File\n */\n\n'use strict';\n\nconst blobUtils = {\n    /**\n     * Читает файл или блоб с JSON строкой и пытается распарсить\n     *\n     * @param {File|Blob} file\n     * @returns {Promise.<Object>}\n     */\n    readAsJson: function (file) {\n        return blobUtils.readAsText(file)\n            .then(JSON.parse);\n    },\n\n    /**\n     * @see FileReader.readAsText\n     *\n     * @param {File|Blob} file\n     * @returns {Promise.<Object>}\n     */\n    readAsText: readAsFactory('readAsText'),\n\n    /**\n     * @see FileReader.readAsArrayBuffer\n     *\n     * @param {File|Blob} file\n     * @returns {Promise.<Object>}\n     */\n    readAsArrayBuffer: readAsFactory('readAsArrayBuffer'),\n\n    /**\n     * @see FileReader.readAsBinaryString\n     *\n     * @param {File|Blob} file\n     * @returns {Promise.<Object>}\n     */\n    readAsBinaryString: readAsFactory('readAsBinaryString'),\n\n    /**\n     * @see FileReader.readAsDataUrl\n     *\n     * @param {File|Blob} file\n     * @returns {Promise.<Object>}\n     */\n    readAsDataURL: readAsFactory('readAsDataURL'),\n};\n\n/**\n * @param {string} as название метода чения файла:\n * 'readAsText', 'readAsArrayBuffer', 'readAsBinaryString', 'readAsDataURL'\n *\n * @returns {function}\n */\nfunction readAsFactory(as) {\n    /**\n     * @param {Blob|File} file\n     * @return {Promise}\n     */\n    return function readAs(file) {\n        return new Promise((resolve, reject) => {\n            var reader = new FileReader();\n\n            reader.addEventListener('load', () => resolve(reader.result));\n            reader.addEventListener('error', reject);\n            reader.addEventListener('abort', reject);\n\n            reader[as](file);\n        });\n    };\n}\n\nmodule.exports = blobUtils;\n\n\n\n\n// WEBPACK FOOTER //\n// ./utils/blob-utils.js","/**\n * События (сообщения), которыми обмениваются фронтенд и бэкенд\n * Этот файл подтягивается во фронтенд из бэкенда\n */\n'use strict';\n\nmodule.exports = {\n    /**\n     * События посылаемые от фронтенда к бэкенду\n     */\n    frontend: {\n        /**\n         * Init\n         */\n        INIT: 'init',\n\n        /**\n         * Log\n         */\n        LOG_FRONTEND_DATA: 'logFrontendData',\n\n        /**\n         * Advertisement\n         */\n        ADV_REFUSE: 'Advertisement.refuse',\n        ADV_ACCEPT: 'Advertisement.accept',\n\n        /**\n         * Applications\n         */\n        REQUEST_APPS_LIST: 'requestAppsList',\n\n        /**\n         * Auth\n         */\n        AUTH_LOGIN: 'Auth.login',\n        AUTH_LOGOUT: 'Auth.logout',\n        AUTH_NAVIGATE: 'Auth.navigate',\n\n        /**\n         * Background\n         */\n        SET_BACKGROUND_IMAGE: 'setBackgroundImage',\n        UPLOAD_USER_BACKGROUND: 'uploadUserBackground',\n\n        /**\n         * Bookmarks\n         */\n        REQUEST_BOOKMARKS_BRANCH: 'requestBookmarksBranch',\n\n        /**\n         * Debug\n         */\n        DEBUG_COMMAND: 'debugCommand',\n        DEBUG_SHOW: 'debugShow',\n\n        /**\n         * Thumbs\n         */\n        ADD_THUMB: 'addThumbClick',\n        PIN_THUMB: 'pinThumb',\n        UNPIN_THUMB: 'unpinThumb',\n        REQUEST_LAST_VISITED: 'requestLastVisited',\n        REQUEST_POPULAR_SITES: 'requestPopularSites',\n        REQUEST_THUMB_DATA: 'requestThumbData',\n        SAVE_THUMB: 'saveThumb',\n        REMOVE_THUMB: 'removeThumb',\n        SWAP_THUMB: 'swapThumbs',\n\n        /**\n         * Settings\n         */\n        APPLY_SETTING: 'applySetting',\n        REQUEST_SETTINGS: 'requestSettings',\n        MAKE_BACKUP: 'makeBackup',\n        LOAD_BACKUP: 'loadBackup',\n\n        /**\n         * Closed tabs\n         */\n        RESTORE_TAB: 'restoreTab',\n        REQUEST_CLOSED_PAGES_LIST: 'requestClosedPagesList',\n\n        /**\n         * Statistics\n         */\n        SEND_FRONTEND_STAT: 'sendFrontendStat',\n        SET_SCROLL_STATE: 'setScrollState',\n\n        /**\n         * Search\n         */\n        SEARCH_MAIN: 'searchMain',\n        SEARCH_WEB: 'searchWeb',\n        SEARCH_HISTORY: 'searchHistory',\n        SEARCH_BOOKMARKS: 'searchBookmarks',\n        SEARCH_OPENED_TABS: 'searchOpenedTabs',\n\n        /**\n         * Browser navigate\n         */\n        NAVIGATE_URL: 'navigateURL',\n        OPEN_EXTERNAL_WINDOW: 'openExternalWindow',\n\n        /**\n         * System\n         */\n        DRAW_FINISHED: 'system.drawFinished',\n\n        /**\n         * Voice\n         */\n        VOICE_INIT: 'voice.init',\n        VOICE_STOP: 'voice.stop',\n\n        /**\n         * Pages events\n         */\n        PAGE_VBNAVIGATE: 'vb-navigate',\n    },\n\n    /**\n     * События посылаемые от бэкенда к фронтенду\n     */\n    backend: {\n        /**\n         * Init\n         */\n        INIT: 'init',\n\n        /**\n         * Bookmarks\n         */\n        BOOKMARKS_CHANGED: 'bookmarksStateChanged',\n        /**\n         * Background\n         */\n        BACKGROUND_CHANGED: 'backgroundChanged',\n\n        /**\n         * Debug\n         */\n        DEBUG_PANEL: 'debug',\n\n        /**\n         * Auth\n         */\n        AUTH: 'auth',\n\n        /**\n         * Informers\n         */\n        INFORMERS: 'informers',\n\n        /**\n         * Closed tabs\n         */\n        CLOSED_TABS_LIST_CHANGED: 'closedTabsListChanged',\n\n        /**\n         * Actions\n         */\n        ACTION: 'action',\n        POST: 'post',\n        CLOSE_POPUPS: 'closePopups',\n\n        /**\n         * Advertisement\n         */\n        ADVERTISEMENT: 'advertisement',\n        ADVERTISEMENT_ATOM: 'advertisement.atom',\n\n        /**\n         * Settings\n         */\n        SETTING_CHANGE: 'settingChanged',\n        OPEN_SETTINGS: 'openSettings',\n        CLOSE_SETTINGS: 'closeSettings',\n        START_PAGE_CHANGED: 'startPageChanged',\n\n        /**\n         * Thumbs\n         */\n        HISTORY_THUMB_CHANGED: 'historyThumbChanged',\n        THUMB_CHANGED: 'thumbChanged',\n        EDIT_THUMB: 'editThumb',\n        REMOVE_THUMB: 'removeThumb',\n\n        /**\n         * Voice\n         */\n        VOICE_START: 'voice.start',\n        VOICE_PROGRESS: 'voice.progress',\n        VOICE_FINISH: 'voice.finish',\n        VOICE_ERROR: 'voice.error',\n        VOICE_CLOSE: 'voice.close',\n\n        /**\n         * Zen\n         */\n        ZEN_CONFIG: 'zen.config'\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/events.js","/**\n * Форматирование тумб для фронтенда и отправка сообщений thumbChanged\n */\n\n'use strict';\n\nvar messaging = require('./messaging');\nvar collection = require('../thumbs/collection');\nvar settings = require('../settings/settings');\nvar colorUtils = require('../../utils/colors');\nvar urlUtils = require('../../utils/url');\nvar events = require('./events');\n\nmodule.exports = {\n    sendAll: function () {\n        var positions = Object.keys(collection.items);\n        messaging.send(events.backend.THUMB_CHANGED, getDataByPositions(positions));\n    },\n\n    sendThumbData: function (thumb, tabId) {\n        messaging.send(events.backend.HISTORY_THUMB_CHANGED, formatThumbForFrontend(thumb), tabId);\n    },\n\n    /**\n     * Данные для сообщения frontend-init\n     * @returns {*}\n     */\n    getAll: function () {\n        return getDataByPositions(Object.keys(collection.items));\n    },\n\n    formatThumbForFrontend: formatThumbForFrontend\n};\n\nfunction getDataByPositions(positions) {\n    return (positions || []).reduce(function (data, position) {\n        var thumb = collection.getItem(position);\n        data[position] = formatThumbForFrontend(thumb);\n        return data;\n    }, {});\n}\n\n/**\n * Возращяет данные о тумбе для фронтенда\n *\n * Сейчас бэкенд решает, что пололжить в backgroundImage в зависимости от настроект и имеющихся данных.\n *\n * todo: В будущем лучше пусть отправляются все данные, какие есть, а фронтенд уже отрендерит как надо.\n * todo: Также, в этом случае при переключении в настройках не нужно будет заново отправлять все тумбы во фронтенды.\n *\n * @param {Thumb} item\n */\nfunction formatThumbForFrontend(item) {\n    if (!item) {\n        return null;\n    }\n\n    var frontendThumb = {\n        pinned: Boolean(item.pinned),\n        url: urlUtils.getReadableUrl(item.url),\n        isIndexPage: urlUtils.isIndexPage(item.url),\n        title: item.title\n    };\n\n    // favicon\n    frontendThumb.favicon = item.faviconUrl;\n    frontendThumb.backgroundColor = item.faviconColor;\n\n    // cloud\n    if (item.cloudImage) {\n        frontendThumb.backgroundImage = frontendThumb.isIndexPage ?\n            item.cloudImage : (item.cloudImageSub || item.cloudImage);\n        frontendThumb.backgroundColor = item.cloudColor;\n    }\n\n    // tableau\n    if (item.tableauImage) {\n        frontendThumb.backgroundImage = item.tableauImage;\n        frontendThumb.backgroundColor = item.tableauColor;\n    }\n\n    // TODO delete second condition after\n    // impementing color normalization in site-info modules\n    if (!frontendThumb.backgroundColor || frontendThumb.backgroundColor.length < 6) {\n        frontendThumb.backgroundColor = colorUtils.DEFAULT_BGCOLOR;\n    }\n\n    frontendThumb.fontColor = colorUtils.getFontColorByBackgroundColor(frontendThumb.backgroundColor);\n\n    // screenshot\n    if (item.screenshotImage) {\n        // Если в настройках выбрано скриншоты и логотипы или только скриншоты, пытаемся подцепить скриншот\n        var uiThumbsType = settings.get('uiThumbsType');\n        if ((uiThumbsType === 2 && !frontendThumb.backgroundImage) || uiThumbsType === 3) {\n            frontendThumb.screenshot = {\n                url: item.screenshotImage,\n                color: item.screenshotBgColor,\n                fontColor: item.screenshotFontColor\n            };\n        }\n    }\n\n    return frontendThumb;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/thumb-sender.js","/**\n * Список видимых тумб\n */\n\n'use strict';\n\nvar utils = require('../../utils/utils');\nvar Thumb = require('./thumb');\nvar storage = require('./storage');\nvar channel = require('../../utils/channel');\nvar assert = require('../../utils/assert');\nvar settings = require('../settings/settings');\nvar logger = require('../../utils/logger').create('Thumbs collection');\n\nvar MAX_THUMBS_COUNT = 25; // стандартная сетка 5х5\nvar MAX_THUMBS_COUNT_INCREASED = 49; // сетка 7х7, доставшаяся после миграции с 1.х. См. maxAvailableIncreased\n\n// массив видимых тумб\nvar items = [];\n\nvar collection = module.exports = {\n    init: function () {\n        // todo: обсуждали с Максом, решили сделать отдельный файл thumbs/index.js,\n        // который свяжет между собой коллекцию и загрузчик коллекции\n        // https://github.yandex-team.ru/desktop/visbookmarks-backend/pull/79#discussion_r332215\n        storage.init(this);\n        return this;\n    },\n\n    // событие изменения тмб в уже загруженной коллекции\n    onChanged: channel.create(),\n\n    // событие загрузки коллекции из базы\n    onLoaded: channel.create(),\n\n    // occurs after failed attempt to save new thumb to collection\n    // passes thumb's position as dispatch data\n    onUpdateError: channel.create(),\n\n    /**\n     * Загрузка тумб из базы\n     */\n    loadFromDB: function (callback) {\n        storage.load(function (err, thumbs) {\n            if (err) {\n                logger.error('Can not load from db %j', err);\n                callback(err);\n            } else {\n                logger.info('Loaded thumbs from db: %i', thumbs.length);\n                // при загрузке из базы не дергаем onChanged, т.к на него подписан storage,\n                // который начнет все пытаться сохранить обратно в базу\n                collection.onChanged.mute();\n                var logData = thumbs.map(function (thumb, position) {\n                    collection.setItem(position, thumb);\n                    return `${position} ${thumb.url}${thumb.pinned ? ' (pinned)' : ''}`;\n                }).join('; ');\n\n                logger.info(logData);\n\n                collection.onChanged.unmute();\n                collection.onLoaded.dispatch(collection);\n                callback();\n            }\n        }.bind(this));\n    },\n\n    // [deprecated] use collection.items instead\n    toArray: function () {\n        return items.map(function (thumb, position) {\n            return {position: position, thumb: thumb};\n        });\n    },\n\n    get items() {\n        return items;\n    },\n\n    get length() {\n        return items.length;\n    },\n\n    get maxLength() {\n        return settings.get('maxAvailableIncreased')\n            ? MAX_THUMBS_COUNT_INCREASED\n            : MAX_THUMBS_COUNT;\n    },\n\n    clear: function () {\n        logger.info('Cleared');\n        items.length = 0;\n        return this;\n    },\n\n    getItem: function (position) {\n        return items[position];\n    },\n\n    /**\n     * Sets thumb to passed position\n     * Replaces current thumb on this position\n     * @param {Number} position\n     * @param {Thumb} thumb\n     */\n    setItem: function (position, thumb) {\n        return this._appendItem(position, thumb, function () {\n            items[position] = thumb;\n        });\n    },\n\n    /**\n     * Inserts thumb to passed position\n     * Does not replace current thumb on this position,\n     * just moves all thumbs after position to right\n     * @param {Number} position\n     * @param {Thumb} thumb\n     */\n    insertItem: function (position, thumb) {\n        return this._appendItem(position, thumb, function () {\n            items.splice(position, 0, thumb);\n        });\n    },\n\n    /**\n     * Удаление тумбы\n     */\n    removeItem: function (position) {\n        if (position >= 0 && position < this.length) {\n            var removedThumbs = items.splice(position, 1);\n            if (removedThumbs.length) {\n                removeListenersFromThumb(removedThumbs[0]);\n            }\n            this.onChanged.dispatch(this);\n        } else {\n            logger.warn('Try to remove nonexistent position %i', position);\n        }\n        return this;\n    },\n\n    /**\n     * Загружаем недостающие данные для тумб\n     * @param {Object} options\n     * @param {Object} options.force грузим все данные заново\n     * @param {Array} options.positions позиции для обновления\n     */\n    loadMissingData: function (options) {\n        options = options || {};\n        logger.info('Loading missing data with options %j', options);\n        var positions = Array.isArray(options.positions) ? options.positions : Object.keys(this.items);\n        positions.forEach(function (position) {\n            var thumb = this.getItem(position);\n            if (thumb) {\n                thumb.update(Boolean(options.force));\n            }\n        }, this);\n    },\n\n    /**\n     * Есть ли тумбы с таким же доменом\n     * @param {String} normalDomain\n     */\n    hasDomain: function (normalDomain) {\n        return items.some(function (thumb) {\n            return utils.url.getNormalDomain(thumb.url) === normalDomain;\n        });\n    },\n\n    /**\n     * Есть ли тумбы с таким же урлом\n     * @param {String} url\n     */\n    hasUrl: function (url) {\n        return items.some(function (thumb) {\n            return utils.url.isEqualUrls(thumb.url, url);\n        });\n    },\n\n    _appendItem: function (position, thumb, appendAction) {\n        assert.type(thumb, Thumb, 'Thumb param should be instance of Thumb!');\n        if (position >= 0) {\n            appendAction();\n            addListenersToThumb(thumb);\n            this.onChanged.dispatch(this);\n        } else {\n            // only waring for bad position, because it can happen in runtime\n            // assert on type - it's for developers happiness\n            logger.warn('Try to append item to incorrect position %i', position);\n        }\n        return this;\n    },\n};\n\n/**\n * Adds onChanged listener to thumb, if there is no one\n * {Thumb} thumb\n */\nfunction addListenersToThumb(thumb) {\n    if (!thumb.onChanged.hasListener(onItemChanged)) {\n        thumb.onChanged.addListener(onItemChanged);\n    }\n}\n\n/**\n * Removes onChanged listener from thumb\n */\nfunction removeListenersFromThumb(thumb) {\n    thumb.onChanged.removeListener(onItemChanged);\n}\n\n/**\n * Обработчик изменения тумбы\n */\nfunction onItemChanged() {\n    collection.onChanged.dispatch(collection);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/thumbs/collection.js","/**\n * Все данные про тумбу, кроме позиции.\n * Позиции хранятся в коллекции\n */\n\n'use strict';\n\nvar asyncLib = require('async');\nvar utils = require('../../utils/utils');\nvar channel = require('../../utils/channel');\nvar pick = require('lodash/object/pick');\nvar merge = require('lodash/object/merge');\nvar pluck = require('lodash/collection/pluck');\n\nvar titleLoader = require('../site-info/title');\nvar faviconLoader = require('../favicon');\nvar tableauLoader = require('../site-info/tableau');\nvar cloudLogo = require('../cloud-logo');\nvar screenshotsCache = require('../screenshots/cache');\nvar assert = require('../../utils/assert');\nvar dateUtils = require('../../utils/date');\n\nvar logger = require('../../utils/logger').create('Thumb');\nvar urlUtils = utils.url;\n\n// Levels for thumb's props.\n// When reseting thumb props with some level,\n// all props with this and higher livels would be reseted.\nvar DOMAIN_LEVEL = 0;\nvar URL_LEVEL = 1;\n\nvar THUMB_FIELDS_DESCRIPTORS = [\n    {name: 'url', level: DOMAIN_LEVEL},\n    {name: 'pinned', level: DOMAIN_LEVEL, default: 0},\n    {name: 'title', level: URL_LEVEL},\n    {name: 'visits', level: DOMAIN_LEVEL, default: 0},\n\n    {name: 'faviconUrl', level: DOMAIN_LEVEL},\n    {name: 'faviconColor', level: DOMAIN_LEVEL},\n    {name: 'faviconFsPath', level: DOMAIN_LEVEL},\n\n    {name: 'tableauImage', level: DOMAIN_LEVEL},\n    {name: 'tableauColor', level: DOMAIN_LEVEL},\n    {name: 'tableauFsPath', level: DOMAIN_LEVEL},\n    {name: 'tableauUpdateTime', level: DOMAIN_LEVEL},\n\n    {name: 'cloudColor', level: DOMAIN_LEVEL},\n    {name: 'cloudImage', level: DOMAIN_LEVEL},\n    {name: 'cloudImageSub', level: DOMAIN_LEVEL},\n    {name: 'cloudImageFsPath', level: DOMAIN_LEVEL},\n    {name: 'cloudImageSubFsPath', level: DOMAIN_LEVEL},\n\n    {name: 'screenshotImage', level: URL_LEVEL},\n    {name: 'screenshotBgColor', level: URL_LEVEL},\n    {name: 'screenshotFontColor', level: URL_LEVEL},\n    {name: 'screenshotUpdateTime', level: URL_LEVEL},\n    {name: 'screenshotFsPath', level: URL_LEVEL}\n];\n\nvar THUMB_FIELDS = pluck(THUMB_FIELDS_DESCRIPTORS, 'name');\n\n/**\n * Constructor\n * @constructor\n */\nfunction Thumb(url) {\n    this._resetProps(DOMAIN_LEVEL);\n    if (url) {\n        this.url = url;\n    }\n    this.onChanged = channel.create();\n}\n\nThumb.prototype = {\n    /**\n     * Устанавливает урл тумбы и очищает свойства, если поменялся домен\n     */\n    set url(newUrl) {\n        assert.notEmpty(newUrl, 'Can not set empty url');\n        newUrl = urlUtils.getNormalUrl(newUrl);\n        if (this._url && !urlUtils.isEqualUrls(this._url, newUrl)) {\n            logger.info('Url %s changed to %s', this._url, newUrl);\n            if (this._checkForNewDomain(newUrl)) {\n                this._resetProps(DOMAIN_LEVEL);\n            } else {\n                this._resetProps(URL_LEVEL);\n            }\n        }\n        this._url = newUrl;\n    },\n\n    get url() {\n        return this._url;\n    },\n\n    set pinned(value) {\n        this._pinned = value ? 1 : 0;\n        if (this.onChanged) {\n            this.onChanged.dispatch(this);\n        }\n    },\n\n    get pinned() {\n        return this._pinned;\n    }\n};\n\n/**\n * Загружает данные о тумбе из json\n */\nThumb.fromJSON = function (json) {\n    if (!json || !json.url) {\n        throw new Error('Invalid json');\n    }\n    var thumb = new Thumb();\n    var allowedFields = pick(json, THUMB_FIELDS);\n    return merge(thumb, allowedFields);\n};\n\n/**\n * Возвращает данные о тумбе в виде json для бд\n */\nThumb.prototype.toJSON = function () {\n    if (!this.url) {\n        throw new Error('Cant get json for thumb without url');\n    }\n    return pick(this, THUMB_FIELDS);\n};\n\n/**\n * Обновляет данные тумбы\n */\nThumb.prototype.update = function (force, callback) {\n    callback = callback || utils.noop;\n    if (urlUtils.isAllowedForDownload(this.url)) {\n        this._runUpdateTasks(force, callback);\n    } else {\n        var err = new Error('Can not update thumb using bad url: ' + this.url);\n        logger.info('Update error: %s', err.message);\n        callback(err);\n    }\n};\n\nThumb.prototype._runUpdateTasks = function (force, callback) {\n    asyncLib.parallel([\n        this._updateCloud.bind(this, force),\n        this._updateTableau.bind(this, force),\n        this._updateTitle.bind(this, force),\n        this._updateFavicon.bind(this, force),\n        this._updateScreenshot.bind(this, force)\n    ], (error, results) => {\n        var errors = [];\n        var msgs = [];\n\n        results.forEach(([error, msg] = []) => {\n            if (error) {\n                errors.push(error);\n            }\n            if (msg) {\n                msgs.push(msg);\n            }\n        });\n\n        if (msgs.length) {\n            logger.info('Fields %s were updated for %s', msgs.join(', '), this.url);\n        }\n\n        callback(errors);\n    });\n};\n\n/**\n * Загружает логотип из облака\n */\nThumb.prototype._updateCloud = function (force, callback) {\n    if (force || !this.cloudImage || !this.cloudColor) {\n        this._loadCloudData(callback);\n    } else {\n        callback();\n    }\n};\n\nThumb.prototype._loadCloudData = function (callback) {\n    cloudLogo.get(this.url, function (err, data) {\n        var changed = this._batchChange(data, [\n            {dest: 'cloudImage', src: 'logo'},\n            {dest: 'cloudImageSub', src: 'logoSub'},\n            {dest: 'cloudImageFsPath', src: 'logoPath'},\n            {dest: 'cloudImageSubFsPath', src: 'logoSubPath'},\n            {dest: 'cloudColor', src: 'color'},\n        ]);\n\n        callback(null, [err, changed ? 'cloud data' : '']);\n    }.bind(this));\n};\n\nThumb.prototype._updateTableau = function (force, callback) {\n    if (force || this._isTableauNeedUpdate()) {\n        this._loadTableauData(callback);\n    } else {\n        callback();\n    }\n};\n\nThumb.prototype._isTableauNeedUpdate = function () {\n    return !this.tableauUpdateTime\n        || Math.abs(Date.now() - this.tableauUpdateTime) > dateUtils.WEEK_MS;\n};\n\nThumb.prototype._loadTableauData = function (callback) {\n    tableauLoader.getManifest(this.url, function (err, data) {\n        // Set tableauUpdateTime even after errors.\n        // Tableau manifest is a very rare thing in the internet,\n        // we don't want constantly attempt to load it.\n        this.tableauUpdateTime = Date.now();\n        var changed = this._batchChange(data, [\n            {dest: 'tableauImage', src: 'url'},\n            {dest: 'tableauColor', src: 'color'},\n            {dest: 'tableauFsPath', src: 'filePath'},\n        ]);\n\n        callback(null, [err, changed ? 'tablo data' : '']);\n    }.bind(this));\n};\n\nThumb.prototype._updateFavicon = function (force, callback) {\n    if (force || !this.faviconUrl) {\n        this._loadFaviconData(callback);\n    } else {\n        callback();\n    }\n};\n\nThumb.prototype._loadFaviconData = function (callback) {\n    faviconLoader.getFavicon(this.url, function (err, data) {\n        var changed = this._batchChange(data, [\n            {dest: 'faviconUrl', src: 'url'},\n            {dest: 'faviconColor', src: 'color'},\n            {dest: 'faviconFsPath', src: 'filePath'},\n        ]);\n\n        callback(null, [err, changed ? 'favicon' : '']);\n    }.bind(this));\n};\n\nThumb.prototype._updateTitle = function (force, callback) {\n    // тайтл никогда не обновляем в текущей реализации,\n    // т.к. мы не знаем, пользовательский это тайтл или нет\n    // todo: понимать, менял пользователь тайтл или нет\n    if (this.title === undefined) {\n        this._loadTitleData(callback);\n    } else {\n        callback();\n    }\n};\n\nThumb.prototype._loadTitleData = function (callback) {\n    titleLoader.getTitle(this.url, function (err, data) {\n        var changed = this._batchChange(data, [{dest: 'title'}]);\n        callback(null, [err, changed ? 'title' : '']);\n    }.bind(this));\n};\n\nThumb.prototype._updateScreenshot = function (force, callback) {\n    if (force || !this.screenshotImage) {\n        this._loadScreenshotData(callback);\n    } else {\n        callback();\n    }\n};\n\nThumb.prototype._loadScreenshotData = function (callback) {\n    var cache = screenshotsCache.get(this.url);\n    var changed = this._batchChange(cache, [\n        {dest: 'screenshotImage'},\n        {dest: 'screenshotBgColor'},\n        {dest: 'screenshotFontColor'},\n        {dest: 'screenshotUpdateTime'},\n        {dest: 'screenshotFsPath'},\n    ]);\n\n    callback(null, [null, changed ? 'screenshot' : '']);\n};\n\nThumb.prototype._checkForNewDomain = function (newUrl) {\n    var oldDomain = this.url ? urlUtils.getNormalDomain(this.url) : '';\n    var newDomain = urlUtils.getNormalDomain(newUrl);\n    return newDomain !== oldDomain;\n};\n\nThumb.prototype._resetProps = function (level) {\n    THUMB_FIELDS_DESCRIPTORS.forEach(function (fieldDescriptor) {\n        if (fieldDescriptor.level >= level) {\n            this._resetProperty(fieldDescriptor);\n        }\n    }, this);\n};\n\nThumb.prototype._resetProperty = function (fieldDescriptor) {\n    if (fieldDescriptor.default !== undefined) {\n        this[fieldDescriptor.name] = fieldDescriptor.default;\n    } else {\n        delete this[fieldDescriptor.name];\n    }\n};\n/**\n * Sets fields from passed object if current value differs\n * @param {Object} srcObj object with new values\n * @param {Array} fieldsMap array of {dest, src} props map\n */\nThumb.prototype._batchChange = function (srcObj, fieldsMap) {\n    if (!srcObj) {\n        return false;\n    }\n\n    var changed = false;\n    fieldsMap.forEach(function (item) {\n        var destKey = item.dest;\n        var srcKey = item.src || destKey;\n        var srcValue = srcObj[srcKey];\n        if (this[destKey] !== srcValue) {\n            this[destKey] = srcValue;\n            changed = true;\n        }\n    }, this);\n\n    if (changed) {\n        this.onChanged.dispatch(this);\n    }\n\n    return changed;\n};\n\nmodule.exports = Thumb;\n\n\n\n// WEBPACK FOOTER //\n// ./modules/thumbs/thumb.js","/**\n * Хранилище титлов страниц сайтов\n */\n'use strict';\n\nvar siteLoader = require('./site-loader');\nvar asyncLib = require('async');\nvar find = require('lodash/collection/find');\nvar get = require('lodash/object/get');\nvar urlUtils = require('../../utils/url');\nvar ResourceLoader = require('../../utils/resource-loader');\n\nvar resourceLoader;\n\nvar findMethods = {\n    openTabs: function (normalUrl, callback) {\n        chrome.windows.getAll({populate: true}, function (windows) {\n            var title = null;\n            windows.some(function (windowItem) {\n                title = findTitle(windowItem.tabs, normalUrl);\n                return Boolean(title);\n            });\n            callback(null, title);\n        });\n    },\n\n    history: function (normalUrl, callback) {\n        chrome.history.search({text: normalUrl}, function (items) {\n            var title = findTitle(items, normalUrl);\n            callback(null, title);\n        });\n    }\n};\n\nmodule.exports = {\n    init: function () {\n        resourceLoader = new ResourceLoader();\n    },\n\n    getTitle: function (siteUrl, callback) {\n        resourceLoader.load({\n            id: siteUrl,\n            loadMethod: loadMethod.bind(null, siteUrl),\n            callback: callback\n        });\n    },\n\n    clearExpired: function () {\n        resourceLoader.clearExpired();\n    }\n};\n\nfunction loadMethod(siteUrl, callback) {\n    var normalUrl = urlUtils.getNormalUrl(siteUrl);\n    asyncLib.parallel({\n        tabs: findMethods.openTabs.bind(null, normalUrl),\n        history: findMethods.history.bind(null, normalUrl)\n    }, function (error, results) {\n        var title = results.tabs\n                || results.history;\n        if (title) {\n            callback(null, {title: title});\n        } else {\n            siteLoader.load(siteUrl, function (err, rootNode) {\n                callback(err, {title: parseTitle(rootNode)});\n            });\n        }\n    });\n}\n\nfunction parseTitle(data) {\n    return get(data, 'title[0].value', undefined);\n}\n\nfunction findTitle(items, normalUrl) {\n    var item = find(items, function (item) {\n        return urlUtils.getNormalUrl(item.url) === normalUrl;\n    });\n    return item && item.title || '';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/site-info/title.js","/**\n * Хранилище манифестов для табло\n */\n'use strict';\n\n// <link rel=\"yandex-tableau-widget\" href=\"/manifest.json\" />\n/*\n{\n    \"version\": \"2\",\n    \"api_version\": 3,\n    \"layout\": {\n        \"logo\": \"https://www.linux.org.ru/tango/img/ya-widget.png\",\n        \"color\": \"#2e3436\",\n        \"show_title\": false\n    },\n}\n*/\n\n// <meta name=\"yandex-tableau-widget\" content=\"logo=http://sitename.tld/images/logo.png, color=#ffffff, feed=feed.json\" />\n\nvar siteLoader = require('./site-loader');\nvar urlUtils = require('../../utils/url');\nvar colorUtil = require('../../utils/colors');\nvar xhr = require('../../utils/xhr');\nvar logger = require('../../utils/logger').create('site-info/tableau');\nvar asyncLib = require('async');\nvar find = require('lodash/collection/find');\nvar get = require('lodash/object/get');\nvar colorUtils = require('../../utils/colors');\nvar FileStorage = require('../../utils/file-storage');\nvar ResourceLoader = require('../../utils/resource-loader');\n\nvar fileStorage;\nvar resourceLoader;\n\nvar MANIFEST_LINK_REL = 'yandex-tableau-widget';\nvar VALID_KEYS = ['logo', 'color', 'feed'];\n\nmodule.exports = {\n    TABLEAU_DIR: 'tableau',\n\n    init: function () {\n        fileStorage = new FileStorage(module.exports.TABLEAU_DIR);\n        resourceLoader = new ResourceLoader();\n    },\n\n    getManifest: function (siteUrl, callback) {\n        siteUrl = urlUtils.getIndexPart(siteUrl);\n        resourceLoader.load({\n            id: siteUrl,\n            loadMethod: loadMethod.bind(null, siteUrl),\n            callback: callback\n        });\n    },\n\n    clearExpired: function () {\n        resourceLoader.clearExpired();\n    }\n};\n\nfunction loadMethod(siteUrl, callback) {\n    siteLoader.load(siteUrl, function (err, rootNode) {\n        if (err) {\n            callback(err);\n        } else {\n            parseSite(siteUrl, rootNode, callback);\n        }\n    });\n}\n\nfunction parseSite(siteUrl, rootNode, callback) {\n    asyncLib.waterfall([\n            function (next) {\n                next(null, {\n                    doWarn: false,\n                    siteUrl: siteUrl,\n                    domain: urlUtils.getNormalDomain(siteUrl),\n\n                    fileUrl: null,\n                    remoteUrl: null,\n                    color: null,\n\n                    rootNode: rootNode,\n\n                    manifestUrl: null,\n                    text: null,\n                    remoteColor: null,\n                });\n            },\n\n            // test DOM\n            function (data, next) {\n                // temp keys, used in steps\n                var err = !data.rootNode\n                    ? new Error('Root node is missing')\n                    : null;\n                next(err, data);\n            },\n\n            // get manifest.json url\n            function (data, next) {\n                data.manifestUrl = getUrlToManifestJson(data.rootNode, data.siteUrl);\n                data.metaContent = getMetaContent(data.rootNode);\n                var err = !data.manifestUrl && !data.metaContent\n                    ? new Error('No tableau manifest')\n                    : null;\n                next(err, data);\n            },\n\n            // load manifest.json or parse meta tag content attribute to `manifest.json like` object\n            function (data, next) {\n                if (data.manifestUrl) {\n                    xhr({\n                        url: data.manifestUrl,\n                        ignoreParseError: true,\n                        parse: 'json',\n                    }, function (err, responseJson) {\n                        if (err) {\n                            data.doWarn = true;\n                        } else {\n                            data.json = responseJson;\n                        }\n                        next(err, data);\n                    });\n                } else {\n                    data.json = parseMetaContent(data.metaContent);\n                    next(null, data);\n                }\n            },\n\n            // parse manifest.json\n            function (data, next) {\n                var layout = data.json && data.json.layout || {};\n                if (!layout.logo) {\n                    next(new Error('No logo in tableau manifest'), data);\n                } else {\n                    var uri = urlUtils.createURI(layout.logo);\n                    if (!uri) {\n                        next(new Error('Invalid url ' + layout.logo), data);\n                    } else {\n                        data.remoteUrl = uri.absoluteTo(data.siteUrl);\n                        data.remoteColor = layout.color;\n                        next(null, data);\n                    }\n                }\n            },\n\n            // download logo image\n            function (data, next) {\n                fileStorage.download(data.remoteUrl, data.domain, function (err, storageData) {\n                    data.doWarn = Boolean(err) || !storageData || !storageData.url;\n                    if (storageData) {\n                        data.fileUrl = storageData.url;\n                        data.filePath = storageData.path;\n                    }\n                    next(err, data);\n                });\n            },\n\n            // normalize color\n            function (data, next) {\n                if (data.remoteColor) {\n                    data.color = colorUtil.normalize(data.remoteColor);\n                    next(null, data);\n                } else {\n                    colorUtils.calculateDominantColorByUrl(data.fileUrl, null, function (color) {\n                        data.color = color;\n                        next(null, data);\n                    });\n                }\n            },\n        ],\n\n        function (err, data) {\n            if (err) {\n                if (data.doWarn) {\n                    logger.warn('Error with tableau manifest domain: %s; url: %s %s',\n                        data.domain,\n                        data.siteUrl,\n                        err.message\n                    );\n                }\n                callback(err);\n            } else {\n                callback(null, {\n                    url: data.fileUrl,\n                    remoteUrl: data.remoteUrl,\n                    color: data.color,\n                    filePath: data.filePath\n                });\n            }\n        }\n    );\n}\n\nfunction getUrlToManifestJson(data, siteUrl) {\n    var manifestHref = extractManifestHref(data);\n    var baseUrl = get(data, 'base[0].attributes.href');\n    return urlUtils.resolve(siteUrl, baseUrl, manifestHref);\n}\n\nfunction extractManifestHref(data) {\n    data = data || {};\n    var link = find(data.link, function (linkData) {\n        return get(linkData, 'attributes.rel') === MANIFEST_LINK_REL;\n    });\n    return get(link, 'attributes.href', null);\n}\n\n/**\n * @param {Object} data\n * @returns {String}\n */\nfunction getMetaContent(data) {\n    data = data || {};\n    const meta = find(data.meta, metaData => get(metaData, 'attributes.name') === MANIFEST_LINK_REL);\n    return get(meta, 'attributes.content', null);\n}\n\n/**\n * @param {String} content\n * @returns {Object}\n */\nfunction parseMetaContent(content) {\n    const parts = content.split(',');\n    const params = Object.create(null);\n    parts.forEach(part => {\n        const [key, ...value] = part.trim().split('=');\n        if (key && VALID_KEYS.indexOf(key) >= 0) {\n            params[key] = value.join('=');\n        }\n    });\n    return {\n        api_version: 4,\n        layout: {\n            logo: params.logo || undefined,\n            color: params.color || undefined\n        },\n        feed: params.feed || undefined\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/site-info/tableau.js","/**\n * Загружает логотипы и возвращает локальные урлы\n */\n\n'use strict';\n\nvar saver = require('./saver');\nvar urlUtils = require('../../utils/url');\nvar cloudLogoLoader = require('./loader');\nvar ResourceLoader = require('../../utils/resource-loader');\n\nvar resourceLoader;\n\nmodule.exports = {\n    get: function (url, callback) {\n        var domain = urlUtils.getNormalDomain(url);\n        resourceLoader = resourceLoader || new ResourceLoader();\n        resourceLoader.load({\n            id: domain,\n            loadMethod: loadCloudLogo.bind(null, domain),\n            callback: callback\n        });\n    },\n\n    clearExpired: function () {\n        if (resourceLoader) {\n            resourceLoader.clearExpired();\n        }\n    }\n};\n\nfunction loadCloudLogo(domain, callback) {\n    cloudLogoLoader.loadFromServer(domain, function (err, loaderRes) {\n        if (err) {\n            callback(err);\n        } else if (!loaderRes) {\n            callback();\n        } else {\n            saveCloudLogo(loaderRes, domain, callback);\n        }\n    });\n}\n\nfunction saveCloudLogo(cloudData, domain, callback) {\n    saver.save(cloudData.logo, cloudData.logoSub, domain, function (err, localData) {\n        if (err) {\n            // мы не можем оставить не-локальные урлы, т.к. для них не рассчитается цвет в ИЕ\n            // из-за same origin policy, поэтому вызываем колбэки не кешируя результат\n            // (может в следующий раз получится сохранить и получить локальные урлы)\n            callback(err);\n        } else {\n            var result = constructResult(localData.logoData, localData.logoSubData, cloudData.color);\n            callback(null, result);\n        }\n    });\n}\n\nfunction constructResult(logoData, logoSubData, color) {\n    return {\n        logo: logoData.url,\n        logoPath: logoData.path,\n        logoSub: logoSubData.url,\n        logoSubPath: logoSubData.path,\n        color: color\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/cloud-logo/index.js","/**\n * Сохраняет логотипы тумб локально\n */\n\n'use strict';\n\nvar FileStorage = require('../../utils/file-storage');\nvar asyncLib = require('async');\nvar logger = require('../../utils/logger').create('Cloud-logo/saver');\n\nexports.CLOUD_LOGO_DIR = 'logo';\nexports.CLOUD_LOGO_SUB_DIR = 'logo-sub';\n\nvar storage = {\n    get main() {\n        return this._main || (this._main = new FileStorage(exports.CLOUD_LOGO_DIR));\n    },\n    get sub() {\n        return this._sub || (this._sub = new FileStorage(exports.CLOUD_LOGO_SUB_DIR));\n    }\n};\n\nexports.save = function (remoteUrl, remoteUrlSub, domain, callback) {\n    if (!remoteUrl) {\n        callback(new Error('Empty remoteURL'));\n        return;\n    }\n\n    var tasks = {};\n    tasks.logoData = function (callback) {\n        storage.main.download(remoteUrl, domain, callback);\n    };\n\n    if (remoteUrlSub) {\n        tasks.logoSubData = function (callback) {\n            storage.sub.download(remoteUrlSub, domain, callback);\n        };\n    }\n\n    asyncLib.parallel(tasks, function (err, res) {\n        if (err) {\n            logger.error('Error while downloading logos: %s, %s', remoteUrl, remoteUrlSub);\n            callback(err);\n        } else {\n            logger.info('Logo downloaded for domain: %s', domain);\n            res.logoSubData = res.logoSubData || {};\n            callback(null, res);\n        }\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/cloud-logo/saver.js","/**\n * Загружает логотипы тумб из облака (по домену)\n * TODO: загружать для нескольких доменов сразу\n *\n * Пример ответа сервера:\n * [\n * {\n *  \"id\":\"ru.yandex\",\n *  \"nodes\":[\"yandex.ru\",\"m.yandex.ru\",\"yandex.ua\",\"yandex.by\",\"yandex.kz\"],\n *  \"bgcolor\":\"#ffffff\",\n *  \"resources\":{\n *      \"logo_main\":\"https://storage.ape.yandex.net/get/dashboard3/043_a0eb4e320436fddf835a44b665e27eef.png\",\n *      \"logo_sub\":\"https://storage.ape.yandex.net/get/dashboard3/043_a0eb4e320436fddf835a44b665e27eef.png\"\n *  }}]\n */\n\n'use strict';\n\nvar utils = require('../../utils/utils');\nvar branding = require('../branding');\nvar curly = require('../../utils/curly');\nvar i18n = require('../i18n');\nvar logger = require('../../utils/logger').create('Cloud-logo/loader');\n\nvar URL_TPL = 'https://api.browser.yandex.ru/dashboard3/get/?nodes={nodes}&brandID={brandId}&lang={lang}&scale=0.43';\n\nmodule.exports = {\n    loadFromServer: function (domain, callback) {\n        var url = curly.insertUrlVars(URL_TPL, {\n            nodes: domain,\n            brandId: branding.vars.regionId,\n            lang: i18n.locale\n        });\n\n        logger.info('Loading logo for domain: %s', domain);\n\n        utils.xhr({\n            url: url,\n            logError: true,\n            parse: 'json',\n        }, function (err, json) {\n            callback(err, err ? null : parseResponse(json, url));\n        });\n    }\n};\n\n/**\n * Парсим ответ сервера\n * @param {*} json\n * @param {string} url\n */\nfunction parseResponse(json, url) {\n    if (!json || !Array.isArray(json)) {\n        logger.warn('JSON for url %s is not array %j', url, json);\n        return null;\n    }\n\n    var item = json[0];\n\n    if (!item) {\n        return null;\n    }\n\n    var res = typeof item === 'object' ? item.resources : null;\n\n    var hasRequiredFields =\n        res && typeof res === 'object'\n        && res.logo_main && typeof res.logo_main === 'string'\n        && item.bgcolor && typeof item.bgcolor === 'string';\n\n    if (!hasRequiredFields) {\n        logger.warn('JSON for url %s does not contain required fields %j', url, json);\n        return null;\n    }\n\n    return {\n        logo: res.logo_main,\n        logoSub: res.logo_sub !== res.logo_main\n            ? res.logo_sub\n            : null,\n        color: item.bgcolor.replace(/^#/, '')\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/cloud-logo/loader.js","/**\n * Работа с данными брендирования\n */\n'use strict';\n\nvar platformBranding = require('../../platform/branding');\nvar blocks = require('./blocks');\nvar i18n = require('../i18n');\nvar logger = require('../../utils/logger').create('Branding');\nvar platformClid = require('../../platform/clid');\nvar curly = require('../../utils/curly');\nvar _ = require('../../utils/lodash');\nvar remoteBrandingStorage = require('./remote/storage');\nvar channel = require('../../utils/channel');\n\nvar cache = {};\n\nexports.REGION_BRANDINGS = {\n    YANDEX: 'yandex',\n    UA: 'ua',\n    TB: 'tb',\n};\n\n/**\n * Init\n */\nexports.init = function (callback) {\n    platformBranding.init().then(function () {\n        reset();\n        logger.info('Branding initialized. Regional = %s, custom = %s, available = [%s]',\n            exports.getRegionBrandId(),\n            exports.getCustomBrandId() || '(empty)',\n            platformBranding.getAvailableBrandIds().join(', ')\n        );\n        remoteBrandingStorage.onUpdated.addListener(onRemoteBrandingLoaded);\n        callback();\n    });\n};\n\n/**\n * Возвращает данные блока по имени. Внутри использует кеш.\n * Если блока не существует, вернет пустой объект.\n *\n * @param {String} name\n * @returns {Object}\n */\nexports.getBlock = function (name) {\n    if (!cache[name]) {\n        cache[name] = blocks.getMerged(name, {\n            i18n: cache.i18n,\n            expandUrl: exports.expandUrl,\n        });\n    }\n    return cache[name];\n};\n\n/**\n * Возвращает региональный брендинг\n * тут нельзя использовать platformBuildInfo.getRegionBrandId(), потому что брендинг может выбираться динамически\n * (например в фф или нашей миграционной сборке)\n * @returns {string}\n */\nexports.getRegionBrandId = function () {\n    return platformBranding.getData().vars.brandId;\n};\n\n/**\n * Возвращает кастомный / удаленный брендинг\n * тут нельзя использовать platformBuildInfo.getCustomBrandId(), потому что может прилететь удаленный брендинг по сети\n * @returns {string}\n */\nexports.getCustomBrandId = function () {\n    var regionBrandId = exports.getRegionBrandId();\n    return exports.vars.brandId !== regionBrandId ? exports.vars.brandId : '';\n};\n\n/**\n * Возвращает урл файла из данных текущего регионального брендинга\n * Путь указывается относительно папки брендинга.\n * Например, чтобы получить файл из brandings/yandex/assets/backgrounds/image.png, нужно передать\n * path = assets/backgrounds/image.png, а имя брендинга подставится автоматически.\n *\n * @param {String} path\n * @returns {string}\n */\nexports.getFileUrl = function (path) {\n    if (typeof path !== 'string' || !path) {\n        return path;\n    }\n    path = path.replace(/^\\/+/, '');\n    var regionBrandId = exports.getRegionBrandId();\n    return platformBranding.getFileUrl(regionBrandId + '/' + path);\n};\n\n/**\n * Вставляет в урл следующие переменные:\n * - regionTld\n * - regionId\n * - localeTld\n * - locale\n * - clidX\n * - (любые дополнительные переменные vars)\n * Это функция немного больше, чем про брендинг, но очень удобно иметь ее тут\n *\n */\nexports.expandUrl = function (url, vars) {\n    vars = _.merge({\n        regionId: exports.vars.regionId,\n        regionTld: exports.vars.regionTld,\n        locale: i18n.locale,\n        localeTld: i18n.localeTld,\n    }, vars);\n    return curly.insertUrlVars(url, vars, {\n        getter: urlVarGetter\n    });\n};\n\n/**\n * On remote branding loaded event\n */\nexports.onRemoteLoaded = channel.create('branding.onRemoteLoaded');\n\nfunction initBaseBlocks() {\n    cache.i18n = blocks.getMerged('i18n');\n    cache.vars = blocks.getMerged('vars');\n}\n\nfunction makeGetters() {\n    blocks.getNames().forEach(makeGetter);\n}\n\nfunction makeGetter(blockName) {\n    Object.defineProperty(exports, blockName, {\n        configurable: true,\n        get: function () {\n            return exports.getBlock(blockName);\n        }\n    });\n}\n\nfunction urlVarGetter(obj, path) {\n    return path.indexOf('clid') === 0\n        ? platformClid.getByName(path)\n        : _.get(obj, path);\n}\n\nfunction reset() {\n    cache = {};\n    initBaseBlocks();\n    makeGetters();\n}\n\nfunction onRemoteBrandingLoaded() {\n    reset();\n    exports.onRemoteLoaded.dispatch();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/branding/index.js","/**\n * Platform.branding\n * - выставляет региональный брендинг (из build-info)\n * - читает данные из любого брендинга, включенного в сборку\n */\n\n'use strict';\n\nvar buildInfo = require('./build-info');\nvar settings = require('../modules/settings/settings');\nvar logger = require('../utils/logger').create('Platform/branding');\nvar browserInfo = require('../utils/browser-info');\nvar brandingSuggestor = require('./branding-suggestor');\nvar platformClid = require('./clid');\n\n// Настройка, которая хранит факт проверки необходимости миграции брендинга в Firefox\n// Это временное решение, через некоторое время (3 месяца после раскатки) его можно удалить.\n// @see https://st.yandex-team.ru/VB-6187\nvar SETTING_BRANDING_MIGRATION_NAME = 'brandingFirefoxTasteMigrated';\n\n// настройка, которая хранит имя регионального брендинга\nvar REGION_BRANDING_SETTING_NAME = 'brandingPackage';\n\n// папка с ресурсами брендингов\nvar BRANDINGS_DIR = 'brandings';\n\n// данные о всех брендингах, собраны в глобальной window.vbBrandings на этапе сборки\nvar vbBrandings = window.vbBrandings;\n\nmodule.exports = {\n    /**\n     * Инициализация (выставляем региональный брендинг и проверяем его корректность)\n     */\n    init: function () {\n        return Promise.resolve()\n            .then(() => {\n                // Для Firefox в случае отсутствия брендинга пробуем установить его\n                // на основе данных о куках на порталах Яндекса и локали расширения.\n                if (browserInfo.isFirefox()) {\n                    var regionalBranding = getRegionBranding();\n                    logger.info('regionalBranding = %s', regionalBranding);\n                    if (!regionalBranding) {\n                        return brandingSuggestor.suggest().then(setRegionBranding);\n                    }\n\n                    if (!settings.get(SETTING_BRANDING_MIGRATION_NAME)) {\n                        settings.set(SETTING_BRANDING_MIGRATION_NAME, true);\n                        // Это временное решение, через некоторое время (3 месяца после раскатки) его можно удалить.\n                        // @see https://st.yandex-team.ru/VB-6187\n                        if (['yandex', 'ua'].indexOf(regionalBranding) !== -1) {\n                            var clid8 = platformClid.getByNumber(8);\n                            logger.info('clid8 = %s', clid8);\n                            if (clid8 === '1929745') {\n                                return brandingSuggestor.ensureBrowserDistribution().then(brandId => {\n                                    if (brandId) {\n                                        setRegionBranding(brandId);\n                                    }\n                                });\n                            }\n                        }\n                    }\n                }\n\n            })\n            .then(initRegionBranding, initRegionBranding);\n    },\n\n    /**\n     * Возвращает данные указанного брендинга из сборки\n     *\n     * @param {String} brandId\n     * @returns {Object|undefined}\n     */\n    getData: function (brandId) {\n        brandId = brandId || getRegionBranding();\n        return vbBrandings[brandId];\n    },\n\n    /**\n     * Возвращает список доступных брендингов\n     * @returns {Array}\n     */\n    getAvailableBrandIds: function () {\n        return Object.keys(vbBrandings);\n    },\n\n    /**\n     * Урл на файл внутри брендингов. Путь указывается отностительно папки, где лежат все брендинги!\n     * Например: yandex/assets/logo/yandex.png\n     *\n     * @param {String} path\n     * @returns {String}\n     */\n    getFileUrl: function (path) {\n        if (typeof path !== 'string') {\n            logger.error('Invalid path to branding file: %j', path);\n            return '';\n        } else {\n            // убираем '/' в начале строки\n            path = path.replace(/^\\/+/, '');\n        }\n        return chrome.runtime.getURL([BRANDINGS_DIR, path].join('/'));\n    },\n};\n\nfunction initRegionBranding() {\n    if (!getRegionBranding()) {\n        // выставляем региональный брендинг при установке\n        setRegionBranding(buildInfo.getRegionBrandId());\n    } else {\n        migrateToNewBrandingNames();\n    }\n\n    // список доступных региональных брендингов\n    var availableRegionalBrandIds = Object.keys(vbBrandings).filter(function (brandId) {\n        return Boolean(vbBrandings[brandId].vars && vbBrandings[brandId].vars.regionId);\n    });\n\n    // если в сборке нет нужного регионального брендинга, фолбэчимся на первый\n    if (availableRegionalBrandIds.indexOf(getRegionBranding()) === -1) {\n        var fallbackBrandId = availableRegionalBrandIds[0];\n        logger.error(\n            'Regional branding (%s) not found in build. Available brandings: %s. Fallback to %s',\n            getRegionBranding(),\n            availableRegionalBrandIds.join(', '),\n            fallbackBrandId\n        );\n        setRegionBranding(fallbackBrandId);\n    }\n\n    buildInfo.ensureBrandedBuildInfo(getRegionBranding());\n}\n\nfunction setRegionBranding(value) {\n    logger.info('Set regional branding: %s', value);\n    settings.set(REGION_BRANDING_SETTING_NAME, value);\n}\n\nfunction getRegionBranding() {\n    return settings.get(REGION_BRANDING_SETTING_NAME);\n}\n\n/**\n * В 2.27 поменялись названия брендингов в связи с переходом на json:\n * turkey-elements --> tb\n * default --> yandex\n * Т.к. брендинг инициализируется раньше, чем миграция, то проверку-миграцию делаем на каждом старте\n */\nfunction migrateToNewBrandingNames() {\n    var regionalBranding = getRegionBranding();\n    if (['turkey-elements', 'turkey_elements'].indexOf(regionalBranding) >= 0) {\n        logger.info('Migrate brandId: %s --> tb', regionalBranding);\n        setRegionBranding('tb');\n    }\n    if (regionalBranding === 'default') {\n        logger.info('Migrate brandId: %s --> yandex', regionalBranding);\n        setRegionBranding('yandex');\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./platform/branding.js","/**\n * Platform.branding-suggestor\n * - выставляет брендинг на основе данных о бразуре, содержимого кук и текущей локали расширения\n */\n\n'use strict';\n\nvar i18n = require('../modules/i18n');\nvar tabUtils = require('../utils/tabs');\nvar platformClid = require('./clid');\nvar logger = require('../utils/logger').create('Platform/branding-suggestor');\n\nmodule.exports = {\n    suggest: function () {\n        return suggest();\n    },\n\n    ensureBrowserDistribution: function () {\n        return ensureBrowserDistribution();\n    }\n};\n\n// В сборках \"со вкусом\" нужно убедиться, что вместо самоходных клидов\n// прописаны клиды \"со вкусом\".\n// Это временное решение, через некоторое время (3 месяца после раскатки) его можно удалить.\n// @see https://st.yandex-team.ru/VB-6187\nfunction ensureBrowserDistribution() {\n    return new Promise(resolve => {\n        onTabsReady().then(() => {\n            suggestBrandIdByBrowserDistribution().then(brandId => {\n                if (brandId === 'firefox-taste-ru' || brandId === 'firefox-taste-ua') {\n                    chrome.storage.local.set({\n                        'yandex.statistics.clid.1': '1923014',\n                        'yandex.statistics.clid.2': '1923015',\n                        'yandex.statistics.clid.4': '1923016',\n                        'yandex.statistics.clid.5': '1923017',\n                        'yandex.statistics.clid.6': '1923018',\n                        'yandex.statistics.clid.7': '1923019',\n                        'yandex.statistics.clid.8': '1923020',\n                        'yandex.statistics.clid.9': '1923021',\n                        'yandex.statistics.clid.10': '1923022',\n                        'yandex.statistics.clid.11': '1923023',\n                        'yandex.statistics.clid.12': '1923024',\n                        'yandex.statistics.clid.13': '1923025',\n                        'yandex.statistics.clid.14': '1923026',\n                        'yandex.statistics.clid.15': '2164525',\n                        'yandex.statistics.clid.17': '2164526',\n                        'yandex.statistics.clid.18': '2164527',\n                        'yandex.statistics.clid.20': '2161617'\n                    }, () => {\n                        platformClid.init(() => {\n                            resolve(brandId);\n                        });\n                    });\n                } else if (brandId === 'firefox-taste-mz') {\n                    chrome.storage.local.set({\n                        'yandex.statistics.clid.1': '2320516',\n                        'yandex.statistics.clid.2': '2320517',\n                        'yandex.statistics.clid.4': '2320518',\n                        'yandex.statistics.clid.5': '2320519',\n                        'yandex.statistics.clid.6': '2320520',\n                        'yandex.statistics.clid.7': '2320521',\n                        'yandex.statistics.clid.8': '2320522',\n                        'yandex.statistics.clid.9': '2320523',\n                        'yandex.statistics.clid.10': '2320524',\n                        'yandex.statistics.clid.11': '2320525',\n                        'yandex.statistics.clid.12': '2320526',\n                        'yandex.statistics.clid.13': '2320527',\n                        'yandex.statistics.clid.14': '2320528',\n                        'yandex.statistics.clid.15': '2320529',\n                        'yandex.statistics.clid.17': '2320530',\n                        'yandex.statistics.clid.18': '2320531',\n                        'yandex.statistics.clid.20': '2320532'\n                    }, () => {\n                        platformClid.init(() => {\n                            resolve(brandId);\n                        });\n                    });\n                } else {\n                    resolve(brandId);\n                }\n            });\n        });\n    });\n}\n\nfunction suggest() {\n    return new Promise(resolve => {\n        var suggestor = function () {\n            suggestBrandIdByBrowserDistribution().then(brandId => {\n                if (brandId) {\n                    logger.info('Suggested brandId (browser distribution) - \"%s\"', brandId);\n                    resolve(brandId);\n                    return;\n                }\n\n                suggestBrandIdByCookies().then(brandId => {\n                    if (brandId) {\n                        logger.info('Suggested brandId (cookies) - \"%s\"', brandId);\n                    } else {\n                        brandId = suggestBrandIdByLocale();\n                        logger.info('Suggested brandId (locale) - \"%s\"', brandId);\n                    }\n\n                    resolve(brandId);\n                });\n            });\n        };\n\n        onTabsReady().then(suggestor);\n    });\n}\n\n// В сборках \"со вкусом\" применение закладок из distribution.ini происходит не сразу.\n// Перед применением брендинга необходимо убедиться, что есть открытые окна.\nfunction onTabsReady() {\n    return new Promise(resolve => {\n        var i = 0;\n        var tabsStatusCheckerInterval = setInterval(function () {\n            tabUtils.getOpen(function (error, tabs) {\n                var loaded = !error && tabs.some(function (tab) {\n                    return tab.status === 'complete';\n                });\n\n                if (loaded || i++ > 20) {\n                    clearInterval(tabsStatusCheckerInterval);\n                    setTimeout(function () {\n                        logger.info('On tabs ready');\n                        resolve();\n                    }, 1000);\n                }\n            });\n        }, 500);\n    });\n}\n\nfunction suggestBrandIdByBrowserDistribution() {\n    return new Promise(resolve => {\n        suggestBrandIdByBrowserHomepage().then(brandId => {\n            if (brandId) {\n                logger.info('Suggested brandId (browser distribution; homepage) - \"%s\"', brandId);\n                resolve(brandId);\n                return;\n            }\n\n            suggestBrandIdByBrowserBookmarks().then(brandId => {\n                if (brandId) {\n                    logger.info('Suggested brandId (browser distribution; bookmarks) - \"%s\"', brandId);\n                    resolve(brandId);\n                    return;\n                }\n\n                resolve(null);\n            });\n        });\n    });\n}\n\nfunction suggestBrandIdByBrowserHomepage() {\n    return new Promise(resolve => {\n        try {\n            browser.browserSettings.homepageOverride.get({}).then(result => {\n                if (result && String(result.value).indexOf('clid=2320518') !== -1) {\n                    resolve('firefox-taste-mz');\n                } else {\n                    resolve(null);\n                }\n            });\n        } catch (e) {\n            logger.error(e);\n            resolve(null);\n        }\n    });\n}\n\nfunction suggestBrandIdByBrowserBookmarks() {\n    return new Promise(resolve => {\n        chrome.bookmarks.getSubTree('toolbar_____', tree => {\n            var brandId = null;\n\n            var yandexRuFlagsCount = 0;\n            var yandexUaFlagsCount = 0;\n\n            if (tree && tree.length === 1) {\n                var toolbarBookmarks = tree[0].children;\n\n                if (Array.isArray(toolbarBookmarks)) {\n                    toolbarBookmarks.forEach(function (treeNode) {\n                        if (treeNode.type === 'bookmark') {\n                            if (treeNode.title === 'Главная страница Яндекса') {\n                                yandexRuFlagsCount++;\n                            } else if (treeNode.title === 'Головна сторінка Яндекса') {\n                                yandexUaFlagsCount++;\n                            }\n                        } else if (treeNode.type === 'folder') {\n                            if (treeNode.title === 'Сервисы Яндекса') {\n                                yandexRuFlagsCount++;\n                            } else if (treeNode.title === 'Сервіси Яндекса') {\n                                yandexUaFlagsCount++;\n                            }\n                        }\n                    });\n                }\n            }\n\n            if (yandexRuFlagsCount === 2) {\n                brandId = 'firefox-taste-ru';\n            } else if (yandexUaFlagsCount === 2) {\n                brandId = 'firefox-taste-ua';\n            }\n\n            resolve(brandId);\n        });\n    });\n}\n\nfunction suggestBrandIdByCookies() {\n    var cookiesData = [\n        {\n            brandId: 'yandex',\n            cookieDesc: {\n                domain: 'yandex.ru'\n            },\n        },\n        {\n            brandId: 'ua',\n            cookieDesc: {\n                domain: 'yandex.ua'\n            },\n        },\n        {\n            brandId: 'tb',\n            cookieDesc: {\n                domain: 'yandex.com.tr'\n            },\n        },\n    ];\n\n    var brandIdWithMaxCookies = null;\n    // Считаем, что брендинг можно устанавливать в зависимости от кук на домене\n    // только в том случае, если кук больше 7. Потому что на yandex.ru в любом случае\n    // будут куки; даже если почистить их и установить расширение.\n    var count = 7;\n\n    return Promise.all(cookiesData.map(({brandId, cookieDesc}) => {\n        return new Promise(resolve => {\n            chrome.cookies.getAll(cookieDesc, cookies => {\n                if (Array.isArray(cookies) && cookies.length > count) {\n                    brandIdWithMaxCookies = brandId;\n                    count = cookies.length;\n                }\n                resolve();\n            });\n        });\n    })).then(() => brandIdWithMaxCookies);\n}\n\nfunction suggestBrandIdByLocale() {\n    var brandId = 'yandex';\n\n    switch (i18n.browserLocale) {\n        case 'uk':\n            brandId = 'ua';\n            break;\n        case 'tr':\n            brandId = 'tb';\n            break;\n    }\n\n    return brandId;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./platform/branding-suggestor.js","/**\n * i18n\n */\n\n'use strict';\n\nvar platformLocale = require('../../platform/locale');\nvar logger = require('../../utils/logger').create('I18n');\n\nvar AVAILABLE_LOCALES = {\n    be: {tld: 'by'},\n    en: {tld: 'com'},\n    ru: {tld: 'ru'},\n    tr: {tld: 'com.tr'},\n    uk: {tld: 'ua'},\n};\n\nvar FALLBACK_LOCALE = 'ru';\n\nvar locale;\n\nvar i18n = module.exports = {\n    /**\n     * Init\n     * @param {String} defaultLocale\n     */\n    init: function (defaultLocale) {\n        if (!defaultLocale) {\n            logger.error('No default locale passed! Fallback to: %s', FALLBACK_LOCALE);\n            defaultLocale = FALLBACK_LOCALE;\n        }\n        var browserLocale = i18n.browserLocale;\n        locale = AVAILABLE_LOCALES[browserLocale] ? browserLocale : defaultLocale;\n        logger.info('Platform locale: %s, app locale: %s', browserLocale, locale);\n    },\n\n    /**\n     * Returns original browser locale\n     * @returns {String}\n     */\n    get browserLocale() {\n        return platformLocale.get();\n    },\n\n    /**\n     * Returns current locale with fallback\n     * @returns {String}\n     */\n    get locale() {\n        return locale;\n    },\n\n    /**\n     * Returns current locale tld\n     * @returns {String}\n     */\n    get localeTld() {\n        return AVAILABLE_LOCALES[locale].tld;\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/i18n/index.js","/**\n * platform.locale\n */\n\n'use strict';\n\nmodule.exports = {\n    /**\n     * Returns current browser locale (without fallback)\n     */\n    get: function () {\n        return chrome.i18n.getMessage('@@ui_locale').split('_')[0];\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./platform/locale.js","/**\n * Содержит методы для работы с табами\n */\n\n'use strict';\n\nvar {visbookmarksUrl} = require('../platform/about');\nvar thenChrome = require('then-chrome');\n\n/**\n * Получение табов с ВЗ сгруппированных по окнам\n * @return {Promise<Map<Number, Array<Tab>>>}\n */\nexports.getFrontendTabs = function () {\n    return thenChrome.windows.getAll({\n            populate: true\n        })\n        .then(windows => {\n            return windows.reduce((windowsMap, {id: windowId, tabs}) => {\n                tabs = tabs.filter(tab => visbookmarksUrl === tab.url);\n\n                if (tabs.length) {\n                    windowsMap.set(windowId, tabs);\n                }\n\n                return windowsMap;\n            }, new Map());\n        });\n}\n\nexports.getOpen = function (callback) {\n    chrome.windows.getAll({\n        populate: true\n    }, function (windows) {\n        if (chrome.runtime.lastError) {\n            callback(chrome.runtime.lastError);\n        } else {\n            callback(null, getTabsFromWindows(windows));\n        }\n    });\n};\n\nfunction getTabsFromWindows(windows) {\n    return windows.reduce(function (tabList, windowElem) {\n        return tabList.concat(windowElem.tabs);\n    }, []);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/tabs.js","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _api = require('./api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar Thenable = getNativePromise();\n\n/**\n * Get native promise constructor\n * @returns {*}\n */\nfunction getNativePromise() {\n    if (typeof window !== 'undefined' && window.Promise) {\n        return window.Promise;\n    }\n    if (typeof global !== 'undefined' && global.Promise) {\n        return global.Promise;\n    }\n}\n\nif (!Thenable) {\n    throw new TypeError('Native promise does not support in your environment. Use /out/api function directly');\n}\n\n/**\n * @type {ThenChrome}\n */\nexports['default'] = (0, _api2['default'])(Thenable);\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/then-chrome/out/index.js\n// module id = 283\n// module chunks = 1","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\nexports['default'] = create;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _config = require('./config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _wrapper = require('./wrapper');\n\nvar _object = require('./object');\n\n/**\n * @param {Function} Thenable\n * @returns {ThenChrome}\n */\n\nfunction create(Thenable) {\n    return Object.keys(_config2['default']).reduce(function (result, namespace) {\n        createNamespace(result, namespace);\n        return wrapMethods(result, namespace, _config2['default'][namespace], Thenable);\n    }, {});\n}\n\n/**\n * Create namespace\n * @param {Object} obj\n * @param {String} namespace\n * @returns {*}\n */\nfunction createNamespace(obj, namespace) {\n    var chromeNamespace = (0, _object.get)(obj, namespace);\n    if (!chromeNamespace) {\n        (0, _object.set)(obj, namespace);\n    }\n    return obj;\n}\n\n/**\n * @param {Object} obj\n * @param {String} namespace\n * @param {Object} data\n * @param {Array<String>} data.async\n * @param {Array<String>} data.sync\n * @param {Function} Promise constructor\n * @returns {Object}\n */\nfunction wrapMethods(obj, namespace, data, Promise) {\n    (0, _wrapper.wrapAsyncMethods)(obj, namespace, data.async, Promise);\n    (0, _wrapper.wrapSyncMethods)(obj, namespace, data.sync, Promise);\n    return obj;\n}\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/then-chrome/out/api.js\n// module id = 284\n// module chunks = 1","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\nexports['default'] = {\n    alarms: {\n        async: ['get', 'getAll', 'clear', 'clearAll'],\n        sync: ['create']\n    },\n    bookmarks: {\n        async: ['get', 'getChildren', 'getRecent', 'getTree', 'getSubTree', 'search', 'create', 'move', 'update', 'remove', 'removeTree']\n    },\n    browserAction: {\n        async: ['getTitle', 'setIcon', 'getPopup', 'getBadgeText', 'getBadgeBackgroundColor'],\n        sync: ['setTitle', 'setPopup', 'setBadgeText', 'setBadgeBackgroundColor', 'enable', 'disable']\n    },\n    browsingData: {\n        async: ['settings', 'remove', 'removeAppcache', 'removeCache', 'removeCookies', 'removeDownloads', 'removeFileSystems', 'removeFormData', 'removeHistory', 'removeIndexedDB', 'removeLocalStorage', 'removePluginData', 'removePasswords', 'removeWebSQL']\n    },\n    commands: {\n        async: ['getAll']\n    },\n    contextMenus: {\n        async: ['create', 'update', 'remove', 'removeAll']\n    },\n    cookies: {\n        async: ['get', 'getAll', 'set', 'remove', 'getAllCookieStores']\n    },\n    'debugger': {\n        async: ['attach', 'detach', 'sendCommand', 'getTargets']\n    },\n    desktopCapture: {\n        async: ['chooseDesktopMedia'],\n        sync: ['cancelChooseDesktopMedia']\n    },\n    'devtools.inspectedWindow': {\n        async: ['eval', 'getResources'],\n        sync: ['reload']\n    },\n    'devtools.network': {\n        async: ['getHAR']\n    },\n    'devtools.panels': {\n        async: ['create', 'setOpenResourceHandler', 'openResource']\n    },\n    dial: {\n        async: ['discoverNow', 'fetchDeviceDescription']\n    },\n    downloads: {\n        async: ['download', 'search', 'pause', 'resume', 'cancel', 'getFileIcon', 'erase', 'removeFile', 'acceptDanger'],\n        sync: ['open', 'show', 'showDefaultFolder', 'drag', 'setShelfEnabled']\n    },\n    extension: {\n        async: ['isAllowedIncognitoAccess', 'isAllowedFileSchemeAccess'],\n        sync: ['getURL', 'getViews', 'getBackgroundPage', 'getExtensionTabs', 'setUpdateUrlData']\n    },\n    fontSettings: {\n        async: ['clearFont', 'getFont', 'setFont', 'getFontList', 'clearDefaultFontSize', 'getDefaultFontSize', 'setDefaultFontSize', 'clearDefaultFixedFontSize', 'getDefaultFixedFontSize', 'setDefaultFixedFontSize', 'clearMinimumFontSize', 'getMinimumFontSize', 'setMinimumFontSize']\n    },\n    gcm: {\n        async: ['register', 'unregister', 'send']\n    },\n    history: {\n        async: ['search', 'getVisits', 'addUrl', 'deleteUrl', 'deleteRange', 'deleteAll']\n    },\n    i18n: {\n        async: ['getAcceptLanguages', 'detectLanguage'],\n        sync: ['getMessage', 'getUILanguage']\n    },\n    identity: {\n        async: ['getAccounts', 'getAuthToken', 'getProfileUserInfo', 'removeCachedAuthToken', 'launchWebAuthFlow'],\n        sync: ['getRedirectURL']\n    },\n    idle: {\n        async: ['queryState'],\n        sync: ['setDetectionInterval']\n    },\n    instanceID: {\n        async: ['getID', 'getCreationTime', 'getToken', 'deleteToken', 'deleteID']\n    },\n    management: {\n        async: ['getAll', 'get', 'getSelf', 'getPermissionWarningsById', 'getPermissionWarningsByManifest', 'setEnabled', 'uninstall', 'uninstallSelf', 'launchApp', 'createAppShortcut', 'setLaunchType', 'generateAppForLink']\n    },\n    notifications: {\n        async: ['create', 'update', 'clear', 'getAll', 'getPermissionLevel']\n    },\n    omnibox: {\n        sync: ['setDefaultSuggestion']\n    },\n    pageAction: {\n        async: ['getTitle', 'setIcon', 'getPopup'],\n        sync: ['show', 'hide', 'setTitle', 'setPopup']\n    },\n    pageCapture: {\n        async: ['saveAsMHTML']\n    },\n    permissions: {\n        async: ['getAll', 'contains', 'request', 'remove']\n    },\n    'privacy.network.networkPredictionEnabled': {\n        async: ['get', 'set', 'clear']\n    },\n    'privacy.services.alternateErrorPagesEnabled': {\n        async: ['get', 'set', 'clear']\n    },\n    'privacy.services.autofillEnabled': {\n        async: ['get', 'set', 'clear']\n    },\n    'privacy.services.passwordSavingEnabled': {\n        async: ['get', 'set', 'clear']\n    },\n    'privacy.services.safeBrowsingEnabled': {\n        async: ['get', 'set', 'clear']\n    },\n    'privacy.services.searchSuggestEnabled': {\n        async: ['get', 'set', 'clear']\n    },\n    'privacy.services.spellingServiceEnabled': {\n        async: ['get', 'set', 'clear']\n    },\n    'privacy.services.translationServiceEnabled': {\n        async: ['get', 'set', 'clear']\n    },\n    'privacy.websites.hyperlinkAuditingEnabled': {\n        async: ['get', 'set', 'clear']\n    },\n    'privacy.websites.referrersEnabled': {\n        async: ['get', 'set', 'clear']\n    },\n    'privacy.websites.thirdPartyCookiesAllowed': {\n        async: ['get', 'set', 'clear']\n    },\n    'proxy.settings': {\n        async: ['get', 'set', 'clear']\n    },\n    runtime: {\n        async: ['getBackgroundPage', 'openOptionsPage', 'setUninstallURL', 'requestUpdateCheck', 'sendMessage', 'sendNativeMessage', 'getPlatformInfo', 'getPackageDirectoryEntry'],\n        sync: ['getManifest', 'getURL', 'reload', 'restart', 'connect', 'connectNative']\n    },\n    sessions: {\n        async: ['getRecentlyClosed', 'getDevices', 'restore']\n    },\n    'storage.local': {\n        async: ['clear', 'get', 'set', 'remove', 'getBytesInUse']\n    },\n    'storage.managed': {\n        async: ['clear', 'get', 'set', 'remove', 'getBytesInUse']\n    },\n    'storage.sync': {\n        async: ['clear', 'get', 'set', 'remove', 'getBytesInUse']\n    },\n    'system.cpu': {\n        async: ['getInfo']\n    },\n    'system.memory': {\n        async: ['getInfo']\n    },\n    'system.storage': {\n        async: ['getInfo', 'ejectDevice', 'getAvailableCapacity']\n    },\n    tabCapture: {\n        async: ['capture', 'getCapturedTabs']\n    },\n    tabs: {\n        async: ['get', 'getCurrent', 'sendRequest', 'sendMessage', 'getSelected', 'getAllInWindow', 'create', 'duplicate', 'query', 'highlight', 'update', 'move', 'reload', 'remove', 'detectLanguage', 'captureVisibleTab', 'executeScript', 'insertCSS', 'setZoom', 'getZoom', 'setZoomSettings', 'getZoomSettings'],\n        sync: ['connect']\n    },\n    topSites: {\n        async: ['get']\n    },\n    tts: {\n        async: ['speak', 'isSpeaking', 'getVoices'],\n        sync: ['stop', 'pause', 'resume']\n    },\n    webNavigation: {\n        async: ['getFrame', 'getAllFrames']\n    },\n    webRequest: {\n        async: ['handlerBehaviorChanged']\n    },\n    windows: {\n        async: ['get', 'getCurrent', 'getLastFocused', 'getAll', 'create', 'update', 'remove']\n    }\n};\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/then-chrome/out/config.js\n// module id = 285\n// module chunks = 1","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\nexports.wrapAsyncMethods = wrapAsyncMethods;\nexports.wrapSyncMethods = wrapSyncMethods;\n\nvar _object = require('./object');\n\n/**\n * chrome api object\n * @see https://developer.chrome.com/extensions/api_index\n */\nvar chromeApi = getChromeApi();\n\n/**\n * Create getters for async methods\n * @param {Object} obj\n * @param {String} namespace\n * @param {Array<String>} asyncMethods\n * @param {Function} Thenable\n * @returns {Object}\n */\n\nfunction wrapAsyncMethods(obj, namespace, asyncMethods, Thenable) {\n    if (asyncMethods === undefined) asyncMethods = [];\n\n    return asyncMethods.reduce(function (result, method) {\n        return appendAsyncMethod(obj, namespace, method, Thenable);\n    }, obj);\n}\n\n/**\n * Wrap sync methods to promise\n * @param {Object} obj\n * @param {String} namespace\n * @param {Array<String>} syncMethods\n * @param {Function} Thenable\n * @returns {*}\n */\n\nfunction wrapSyncMethods(obj, namespace, syncMethods, Thenable) {\n    if (syncMethods === undefined) syncMethods = [];\n\n    return syncMethods.reduce(function (result, method) {\n        return appendSyncMethod(obj, namespace, method, Thenable);\n    }, obj);\n}\n\n/**\n * Get chrome api object\n * @returns {chrome}\n */\nfunction getChromeApi() {\n    if (typeof window !== 'undefined' && window.chrome) {\n        return window.chrome;\n    }\n    if (typeof global !== 'undefined' && global.chrome) {\n        return global.chrome;\n    }\n}\n\n/**\n * Append async method to data\n * @param {Object} obj\n * @param {String} namespace\n * @param {String} method\n * @param {Function} Thenable\n * @returns {Object}\n */\nfunction appendAsyncMethod(obj, namespace, method, Thenable) {\n    var data = (0, _object.get)(obj, namespace);\n    Object.defineProperty(data, method, {\n        get: function get() {\n            return wrapAsyncMethod(Thenable, namespace, method);\n        }\n    });\n    return obj;\n}\n\n/**\n * Wrap sync method\n * @param {Function} Thenable\n * @param {String} namespace\n * @param {String} method\n * @returns {Function}\n */\nfunction wrapAsyncMethod(Thenable, namespace, method) {\n    var _this = this;\n\n    return function () {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return new Thenable(function (resolve, reject) {\n            var chromeNamespace = (0, _object.get)(chromeApi, namespace);\n            args.push(getResolver(resolve, reject, _this));\n            apply(chromeNamespace[method], chromeNamespace, args);\n        });\n    };\n}\n\n/**\n *\n * @param {Function} resolve\n * @param {Function} reject\n * @param {*} context\n * @returns {Function}\n */\nfunction getResolver(resolve, reject, context) {\n    return function () {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n        }\n\n        if (chromeApi.runtime.lastError) {\n            return reject(chromeApi.runtime.lastError);\n        }\n        return apply(resolve, context, args);\n    };\n}\n\n/**\n * Append sync method\n * @param {Object} obj\n * @param {String} namespace\n * @param {String} method\n * @param {Function} PromiseConstructor\n * @returns {Object}\n */\nfunction appendSyncMethod(obj, namespace, method, PromiseConstructor) {\n    var data = (0, _object.get)(obj, namespace);\n    Object.defineProperty(data, method, {\n        get: function get() {\n            return wrapSyncMethod(PromiseConstructor, namespace, method);\n        }\n    });\n    return obj;\n}\n\n/**\n * Wrap sync method\n * @param {Function} Thenable\n * @param {String} namespace\n * @param {String} method\n * @returns {Function}\n */\nfunction wrapSyncMethod(Thenable, namespace, method) {\n    return function () {\n        for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            args[_key3] = arguments[_key3];\n        }\n\n        return new Thenable(function (resolve, reject) {\n            var chromeNamespace = (0, _object.get)(chromeApi, namespace);\n            try {\n                return resolve(apply(chromeNamespace[method], chromeNamespace, args));\n            } catch (e) {\n                return reject(e);\n            }\n        });\n    };\n}\n\n/**\n * For IE compatibility we can't use method.apply.\n *\n * Function apply\n * @param {Function} method\n * @param {*} context\n * @param {Array} args\n * @returns {*}\n */\nfunction apply(method, context, args) {\n    return Function.prototype.apply.call(method, context, args);\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/then-chrome/out/wrapper.js\n// module id = 286\n// module chunks = 1","/**\n * Get nested object by path\n * @param {Object} object\n * @param {String} path\n * @param {String} [delimiter]\n * @returns {Object|Null}\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\nexports.get = get;\nexports.set = set;\n\nfunction get(object, path) {\n    var delimiter = arguments.length <= 2 || arguments[2] === undefined ? '.' : arguments[2];\n\n    var keys = path.split(delimiter);\n    var data = object;\n\n    for (var i = 0; i < keys.length; i++) {\n        var key = keys[i];\n        if (!data[key]) {\n            return null;\n        }\n        data = data[key];\n    }\n    return data;\n}\n\n/**\n * Create nested object by path\n * @param {Object} obj\n * @param {String} path\n * @param {String} [delimiter]\n * @returns {*}\n */\n\nfunction set(obj, path) {\n    var delimiter = arguments.length <= 2 || arguments[2] === undefined ? '.' : arguments[2];\n\n    return createNestedObject(obj, path.split(delimiter));\n}\n\n/**\n * Create nested objects\n * @param {Object} obj\n * @param {Array<String>} keys\n * @returns {*}\n */\nfunction createNestedObject(obj, keys) {\n    if (keys.length) {\n        var nested = obj[keys[0]] = typeof obj[keys[0]] === 'undefined' ? {} : obj[keys[0]];\n        createNestedObject(nested, keys.slice(1, keys.length));\n    }\n    return obj;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/then-chrome/out/object.js\n// module id = 287\n// module chunks = 1","'use strict';\n\nvar logger = require('../utils/logger').create('Platform/clid');\nvar buildInfo = require('./build-info');\nvar browserInfo = require('../utils/browser-info');\nvar isPlainObject = require('lodash/lang/isPlainObject');\n\nclass ClidStorage {\n    constructor() {\n        this.storage = new Map();\n    }\n\n    setItem(key, value) {\n        this.storage.set(key, String(value));\n    }\n\n    getItem(key) {\n        return this.storage.has(key) ? this.storage.get(key) : null;\n    }\n\n    removeItem(key) {\n        this.storage.delete(key);\n    }\n\n    clear() {\n        this.storage.clear();\n    }\n\n    key(index) {\n        const keys = Array.from(this.storage.keys());\n        return keys[index] || null;\n    }\n\n    get length() {\n        return this.storage.size;\n    }\n}\n\nconst clidStorage = new ClidStorage();\n\nconst CLID_STORAGE_KEY_CHROME_PREFIX = 'clid';\nconst CLID_STORAGE_KEY_PREFIX = 'yandex.statistics.clid.';\n\nexports.init = function (callback) {\n    if (browserInfo.isFirefox()) {\n        importChromeStorageClids(callback, window.localStorage);\n    } else {\n        importChromeStorageClids(callback, clidStorage);\n    }\n};\n\nexports.getByName = function (name) {\n    var number = getClidNumberByName(name);\n    return exports.getByNumber(number);\n};\n\nexports.getByNumber = function (number) {\n    return getClidFromStorage(number) || getClidFromBuild(number);\n};\n\n/**\n * Возвращает портальный (не коммерческий) клид по номеру.\n * Портальные клиды лежат в xml, коммерческие - в localStorage\n * Логика тут такая: если в сторадже есть такой клид, то возвращаем пустую строку, т.к. это коммерческий,\n * а не портальный клид.\n * @param {Integer} number\n */\nexports.getPortalClidByNumber = function (number) {\n    var clidFromStorage = getClidFromStorage(number);\n    return clidFromStorage ? '' : getClidFromBuild(number);\n};\n\n/**\n * Возвращает клид из сборки по номеру\n * @param {Integer} number\n * @returns {String}\n */\nfunction getClidFromBuild(number) {\n    var clids = buildInfo.getClids() || {};\n    var name = getClidNameByNumber(number);\n    return clids[name] || '';\n}\n\n/**\n * Получаем клид из localStorage (туда его прописывает инсталятор)\n * @param {Integer} number\n * @returns {String}\n */\nfunction getClidFromStorage(number) {\n    var keyName = CLID_STORAGE_KEY_PREFIX + number;\n    var clid = browserInfo.isChrome() ? clidStorage.getItem(keyName) :\n        window.localStorage.getItem(keyName);\n    return filterClidValue(clid, keyName);\n}\n\nfunction filterClidValue(clid, keyName) {\n    clid = String(clid || '').trim().replace(/[\"']/g, '');\n\n    if (clid && !/^[a-z0-9-]+$/.test(clid)) {\n        logger.error('Invalid clid %s from storage: %s', keyName, clid);\n        clid = '';\n    }\n\n    return clid;\n}\n\nfunction getClidNameByNumber(number) {\n    return 'clid' + number;\n}\n\nfunction getClidNumberByName(name) {\n    return String(name).replace('clid', '');\n}\n\n/**\n * Посредством создания $profile/browser-extension-data/vb@yandex.ru/storage.js\n * инсталлятор прописывает клиды в `chrome.storage.local`. Необходимо перенести\n * их в `window.localStorage`. Причём переносить нужно всякий раз, так как\n * браузер может очищать `window.localStorage`.\n * @see https://st.yandex-team.ru/VB-6144\n * @param {Function} callback\n * @param {Object} storage\n */\nfunction importChromeStorageClids(callback, storage) {\n    chrome.storage.local.get(null, values => {\n        if (!isPlainObject(values)) {\n            logger.error('values is not an object');\n            values = Object.create(null);\n        }\n\n        // Метод вызывается при инициализации расширения и должен отрабатывать всегда.\n        // Поэтому на всякий случай заворачиваем в try/catch.\n        try {\n            Object.keys(values)\n                .filter(key => (\n                    key.indexOf(CLID_STORAGE_KEY_PREFIX) === 0 ||\n                    storage instanceof ClidStorage &&\n                    key.indexOf(CLID_STORAGE_KEY_CHROME_PREFIX) === 0\n                ))\n                .map(key => {\n                    var clid = filterClidValue(values[key], key);\n                    if (clid && storage.getItem(key) === null) {\n                        storage.setItem(key, clid);\n                    }\n                });\n        } catch (err) {\n            logger.error('Error importing clids from chrome storage %s', err);\n        }\n\n        callback();\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./platform/clid.js","/**\n * Мердж и получение блоков брендинга\n */\n'use strict';\n\nvar traverse = require('traverse');\nvar _ = require('../../utils/lodash');\nvar i18n = require('../i18n');\nvar curly = require('../../utils/curly');\nvar platformBuildInfo = require('../../platform/build-info');\nvar platformBranding = require('../../platform/branding');\nvar remoteBrandingStorage = require('./remote/storage');\n\nvar I18N_REGEXP = /\\{@([^}]+)\\}/g;\nvar ASSETS_PLACEHOLDER = '__assets__';\nvar MERGE_INFO_KEY = 'mergeInfo';\n\n/**\n * Возвращает данные для ключа первого уровня из брендинга.\n * Смотрит последовательно в трех местах и делает merge:\n * - региональный брендинг\n * - кастомный брендинг, указанный при сборке\n * - кастомный брендинг, полученный по сети (по bannerid)\n *\n * @param {String} name\n * @param {Object} [options]\n * @param {Object} [options.i18n]\n * @param {Function} [options.expandUrl]\n */\nexports.getMerged = function (name, options) {\n    options = options || {};\n    var regionBlock = extractBlock(getRegionData(), name, Boolean(options.i18n));\n    var customBlock = extractBlock(getCustomData(), name, Boolean(options.i18n));\n    var remoteBlock = extractBlock(remoteBrandingStorage.getData(), name);\n    var block = _.assign({}, regionBlock);\n    mergeBlocks(block, customBlock);\n    mergeBlocks(block, remoteBlock);\n    if (options.i18n || options.expandUrl) {\n        replacePlaceholders(block, options);\n    }\n    return block;\n};\n\n/**\n * Возвращает список имен доступных блоков\n */\nexports.getNames = function () {\n    return _.uniq([]\n        .concat(Object.keys(getRegionData()))\n        .concat(Object.keys(getCustomData()))\n        .concat(Object.keys(remoteBrandingStorage.getData()))\n    );\n};\n\nfunction extractBlock(data, name, hasAssets) {\n    var block = data[name];\n    if (hasAssets) {\n        resolveAssets(block, data);\n    }\n    return block;\n}\n\nfunction getRegionData() {\n    return platformBranding.getData() || {};\n}\n\nfunction getCustomData() {\n    var brandId = platformBuildInfo.getCustomBrandId();\n    return brandId\n        ? platformBranding.getData(brandId) || {}\n        : {};\n}\n\nfunction replacePlaceholders(block, options) {\n    traverse(block).forEach(function (item) {\n        if (typeof item === 'string') {\n            // заменяем локализацию {@key} --> value\n            var newItem = replaceI18n(item, options.i18n);\n            // автоматом подставляем стандартные параметры в ссылки\n            if (options.expandUrl && /^https?:\\/\\//.test(newItem)) {\n                newItem = options.expandUrl(newItem);\n            }\n            if (newItem !== item) {\n                this.update(newItem);\n            }\n        }\n    });\n}\n\nfunction replaceI18n(str, i18nData) {\n    var localeData = i18nData && i18nData[i18n.locale];\n    return curly.insertVars(str, localeData, {regex: I18N_REGEXP});\n}\n\n/**\n * Рекурсивно заменяем __assets__ на полный локальный урл внутри папки брендингов\n */\nfunction resolveAssets(block, brandingData) {\n    if (brandingData.vars && brandingData.vars.brandId) {\n        var assetsPath = brandingData.vars.brandId + '/assets';\n        traverse(block).forEach(function (item) {\n            if (typeof item === 'string' && item.indexOf(ASSETS_PLACEHOLDER) === 0) {\n                var itemPath = item.replace(ASSETS_PLACEHOLDER, assetsPath);\n                var itemUrl = platformBranding.getFileUrl(itemPath);\n                this.update(itemUrl);\n            }\n        });\n    }\n}\n\n/**\n * Мерджит два блока с учетом информации, находящейся в ключе arrayMergeInfo.\n * arrayMergeInfo может иметь вид:\n * {\n *   items1: 'merge',\n *   items2: 'insertFirst',\n * }\n *\n * @param {Object} to\n * @param {Object} from\n */\nfunction mergeBlocks(to, from) {\n    from = from || {};\n    var mergeInfo = from[MERGE_INFO_KEY] || {};\n    Object.keys(from).forEach(function (key) {\n        if (key === MERGE_INFO_KEY) {\n            return;\n        }\n        var fromValue = from[key];\n        if (fromValue === undefined) {\n            return;\n        }\n        if (fromValue && typeof fromValue === 'object') {\n            if (Array.isArray(fromValue)) {\n                var mergeType = mergeInfo[key] || 'merge';\n                to[key] = combineArrays(to[key] || [], fromValue, mergeType);\n            } else {\n                // объектные значения по умолчанию мерджим\n                // (пока это используется только для i18n)\n                to[key] = _.merge(to[key] || {}, fromValue);\n            }\n        } else {\n            to[key] = fromValue;\n        }\n    });\n}\n\n/**\n * Соединяет два массива с учетом mergeType:\n * - merge (default)\n * - insertFirst\n * - insertLast\n * - overwrite\n *\n * @param {Object|Array} leftValue\n * @param {Object|Array} rightValue\n * @param {String} mergeType\n */\nfunction combineArrays(leftValue, rightValue, mergeType) {\n    switch (mergeType) {\n        case 'overwrite':\n            return rightValue;\n        case 'insertFirst':\n            return rightValue.concat(leftValue);\n        case 'insertLast':\n            return leftValue.concat(rightValue);\n        // merge\n        default:\n            // используем assign, т.к. _.merge мерджит еще и содержимое элементов массива\n            return _.assign(leftValue, rightValue);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/branding/blocks.js","var traverse = module.exports = function (obj) {\n    return new Traverse(obj);\n};\n\nfunction Traverse (obj) {\n    this.value = obj;\n}\n\nTraverse.prototype.get = function (ps) {\n    var node = this.value;\n    for (var i = 0; i < ps.length; i ++) {\n        var key = ps[i];\n        if (!node || !hasOwnProperty.call(node, key)) {\n            node = undefined;\n            break;\n        }\n        node = node[key];\n    }\n    return node;\n};\n\nTraverse.prototype.has = function (ps) {\n    var node = this.value;\n    for (var i = 0; i < ps.length; i ++) {\n        var key = ps[i];\n        if (!node || !hasOwnProperty.call(node, key)) {\n            return false;\n        }\n        node = node[key];\n    }\n    return true;\n};\n\nTraverse.prototype.set = function (ps, value) {\n    var node = this.value;\n    for (var i = 0; i < ps.length - 1; i ++) {\n        var key = ps[i];\n        if (!hasOwnProperty.call(node, key)) node[key] = {};\n        node = node[key];\n    }\n    node[ps[i]] = value;\n    return value;\n};\n\nTraverse.prototype.map = function (cb) {\n    return walk(this.value, cb, true);\n};\n\nTraverse.prototype.forEach = function (cb) {\n    this.value = walk(this.value, cb, false);\n    return this.value;\n};\n\nTraverse.prototype.reduce = function (cb, init) {\n    var skip = arguments.length === 1;\n    var acc = skip ? this.value : init;\n    this.forEach(function (x) {\n        if (!this.isRoot || !skip) {\n            acc = cb.call(this, acc, x);\n        }\n    });\n    return acc;\n};\n\nTraverse.prototype.paths = function () {\n    var acc = [];\n    this.forEach(function (x) {\n        acc.push(this.path); \n    });\n    return acc;\n};\n\nTraverse.prototype.nodes = function () {\n    var acc = [];\n    this.forEach(function (x) {\n        acc.push(this.node);\n    });\n    return acc;\n};\n\nTraverse.prototype.clone = function () {\n    var parents = [], nodes = [];\n    \n    return (function clone (src) {\n        for (var i = 0; i < parents.length; i++) {\n            if (parents[i] === src) {\n                return nodes[i];\n            }\n        }\n        \n        if (typeof src === 'object' && src !== null) {\n            var dst = copy(src);\n            \n            parents.push(src);\n            nodes.push(dst);\n            \n            forEach(objectKeys(src), function (key) {\n                dst[key] = clone(src[key]);\n            });\n            \n            parents.pop();\n            nodes.pop();\n            return dst;\n        }\n        else {\n            return src;\n        }\n    })(this.value);\n};\n\nfunction walk (root, cb, immutable) {\n    var path = [];\n    var parents = [];\n    var alive = true;\n    \n    return (function walker (node_) {\n        var node = immutable ? copy(node_) : node_;\n        var modifiers = {};\n        \n        var keepGoing = true;\n        \n        var state = {\n            node : node,\n            node_ : node_,\n            path : [].concat(path),\n            parent : parents[parents.length - 1],\n            parents : parents,\n            key : path.slice(-1)[0],\n            isRoot : path.length === 0,\n            level : path.length,\n            circular : null,\n            update : function (x, stopHere) {\n                if (!state.isRoot) {\n                    state.parent.node[state.key] = x;\n                }\n                state.node = x;\n                if (stopHere) keepGoing = false;\n            },\n            'delete' : function (stopHere) {\n                delete state.parent.node[state.key];\n                if (stopHere) keepGoing = false;\n            },\n            remove : function (stopHere) {\n                if (isArray(state.parent.node)) {\n                    state.parent.node.splice(state.key, 1);\n                }\n                else {\n                    delete state.parent.node[state.key];\n                }\n                if (stopHere) keepGoing = false;\n            },\n            keys : null,\n            before : function (f) { modifiers.before = f },\n            after : function (f) { modifiers.after = f },\n            pre : function (f) { modifiers.pre = f },\n            post : function (f) { modifiers.post = f },\n            stop : function () { alive = false },\n            block : function () { keepGoing = false }\n        };\n        \n        if (!alive) return state;\n        \n        function updateState() {\n            if (typeof state.node === 'object' && state.node !== null) {\n                if (!state.keys || state.node_ !== state.node) {\n                    state.keys = objectKeys(state.node)\n                }\n                \n                state.isLeaf = state.keys.length == 0;\n                \n                for (var i = 0; i < parents.length; i++) {\n                    if (parents[i].node_ === node_) {\n                        state.circular = parents[i];\n                        break;\n                    }\n                }\n            }\n            else {\n                state.isLeaf = true;\n                state.keys = null;\n            }\n            \n            state.notLeaf = !state.isLeaf;\n            state.notRoot = !state.isRoot;\n        }\n        \n        updateState();\n        \n        // use return values to update if defined\n        var ret = cb.call(state, state.node);\n        if (ret !== undefined && state.update) state.update(ret);\n        \n        if (modifiers.before) modifiers.before.call(state, state.node);\n        \n        if (!keepGoing) return state;\n        \n        if (typeof state.node == 'object'\n        && state.node !== null && !state.circular) {\n            parents.push(state);\n            \n            updateState();\n            \n            forEach(state.keys, function (key, i) {\n                path.push(key);\n                \n                if (modifiers.pre) modifiers.pre.call(state, state.node[key], key);\n                \n                var child = walker(state.node[key]);\n                if (immutable && hasOwnProperty.call(state.node, key)) {\n                    state.node[key] = child.node;\n                }\n                \n                child.isLast = i == state.keys.length - 1;\n                child.isFirst = i == 0;\n                \n                if (modifiers.post) modifiers.post.call(state, child);\n                \n                path.pop();\n            });\n            parents.pop();\n        }\n        \n        if (modifiers.after) modifiers.after.call(state, state.node);\n        \n        return state;\n    })(root).node;\n}\n\nfunction copy (src) {\n    if (typeof src === 'object' && src !== null) {\n        var dst;\n        \n        if (isArray(src)) {\n            dst = [];\n        }\n        else if (isDate(src)) {\n            dst = new Date(src.getTime ? src.getTime() : src);\n        }\n        else if (isRegExp(src)) {\n            dst = new RegExp(src);\n        }\n        else if (isError(src)) {\n            dst = { message: src.message };\n        }\n        else if (isBoolean(src)) {\n            dst = new Boolean(src);\n        }\n        else if (isNumber(src)) {\n            dst = new Number(src);\n        }\n        else if (isString(src)) {\n            dst = new String(src);\n        }\n        else if (Object.create && Object.getPrototypeOf) {\n            dst = Object.create(Object.getPrototypeOf(src));\n        }\n        else if (src.constructor === Object) {\n            dst = {};\n        }\n        else {\n            var proto =\n                (src.constructor && src.constructor.prototype)\n                || src.__proto__\n                || {}\n            ;\n            var T = function () {};\n            T.prototype = proto;\n            dst = new T;\n        }\n        \n        forEach(objectKeys(src), function (key) {\n            dst[key] = src[key];\n        });\n        return dst;\n    }\n    else return src;\n}\n\nvar objectKeys = Object.keys || function keys (obj) {\n    var res = [];\n    for (var key in obj) res.push(key)\n    return res;\n};\n\nfunction toS (obj) { return Object.prototype.toString.call(obj) }\nfunction isDate (obj) { return toS(obj) === '[object Date]' }\nfunction isRegExp (obj) { return toS(obj) === '[object RegExp]' }\nfunction isError (obj) { return toS(obj) === '[object Error]' }\nfunction isBoolean (obj) { return toS(obj) === '[object Boolean]' }\nfunction isNumber (obj) { return toS(obj) === '[object Number]' }\nfunction isString (obj) { return toS(obj) === '[object String]' }\n\nvar isArray = Array.isArray || function isArray (xs) {\n    return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nvar forEach = function (xs, fn) {\n    if (xs.forEach) return xs.forEach(fn)\n    else for (var i = 0; i < xs.length; i++) {\n        fn(xs[i], i, xs);\n    }\n};\n\nforEach(objectKeys(Traverse.prototype), function (key) {\n    traverse[key] = function (obj) {\n        var args = [].slice.call(arguments, 1);\n        var t = new Traverse(obj);\n        return t[key].apply(t, args);\n    };\n});\n\nvar hasOwnProperty = Object.hasOwnProperty || function (obj, key) {\n    return key in obj;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/traverse/index.js\n// module id = 290\n// module chunks = 1","/**\n * Доступ к данным брендинга, загруженного с сервера\n * https://st.yandex-team.ru/VB-5598\n */\n\n'use strict';\n\nvar settings = require('../../settings/settings');\nvar channel = require('../../../utils/channel');\n\nvar REMOTE_BRANDING_SETTING_NAME = 'remoteBrandingData';\n\n/**\n * @returns {Object}\n */\nexports.getData = function () {\n    return settings.get(REMOTE_BRANDING_SETTING_NAME) || {};\n};\n\n/**\n * @param {Object|null} config\n */\nexports.setData = function (config) {\n    settings.set(REMOTE_BRANDING_SETTING_NAME, config);\n    exports.onUpdated.dispatch(config);\n};\n\n/**\n * On onUpdated event\n */\nexports.onUpdated = channel.create('branding.remote.storage.onUpdated');\n\n\n\n// WEBPACK FOOTER //\n// ./modules/branding/remote/storage.js","/**\n * Screenshots in-memory-cache\n */\n'use strict';\n\nvar pick = require('lodash/object/pick');\n\nvar cache = {};\n\nvar screenshotFileds = [\n    'screenshotImage',\n    'screenshotBgColor',\n    'screenshotFontColor',\n    'screenshotUpdateTime',\n    'screenshotFsPath'\n];\n\nexports.updateFromThumbs = function (thumbs) {\n    thumbs.forEach(function (thumb) {\n        if (thumb.screenshotImage) {\n            exports.set(thumb.url, pick(thumb, screenshotFileds));\n        }\n    });\n};\n\nexports.get = function (url) {\n    return cache[url];\n};\n\nexports.set = function (url, data) {\n    cache[url] = data;\n};\n\nexports.remove = function (url) {\n    delete cache[url];\n};\n\nexports.clear = function () {\n    cache = {};\n};\n\nexports.forEach = function (fn) {\n    Object.keys(cache).forEach(fn);\n};\n\nexports.getFirstMatch = function (urls) {\n    for (var i = 0; i < urls.length; i++) {\n        var cachedData = exports.get(urls[i]);\n        if (cachedData) {\n            return cachedData;\n        }\n    }\n    return null;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/screenshots/cache.js","'use strict';\n\n/**\n * Checks type of passed value\n * @param {*} instance\n * @param {*} Class\n * @param {*} message\n * @throws {Error}\n */\nexports.type = function (instance, Class, message) {\n    if (!(instance instanceof Class)) {\n        throw new Error(message);\n    }\n};\n\n/**\n * Checks that passed value isn't empty.\n * Uses simple \"!value\" check.\n * @param {*} value\n * @param {*} message\n * @throws {Error}\n */\nexports.notEmpty = function (value, message) {\n    if (!value) {\n        throw new Error(message);\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./utils/assert.js","/**\n * Модуль загрузки тумб из бд и избирательного сохранения при изменениях\n */\n\n'use strict';\n\nvar _ = require('../../utils/lodash');\nvar asyncLib = require('async');\nvar database = require('../database/database');\nvar Differ = require('../../utils/collection-differ');\nvar Thumb = require('./thumb');\nvar logger = require('../../utils/logger').create('Сollection storage');\n\nvar TABLE_NAME = 'thumbs_shown';\nvar DUMP_DELAY_MS = 200;\n\nvar differ;\n\nmodule.exports = {\n    init: function (collection) {\n        collection.onChanged.addListener(_.debounce(this.save.bind(this), DUMP_DELAY_MS));\n    },\n    load: function (callback) {\n        database.get(TABLE_NAME, {}, function (err, records) {\n            if (err) {\n                callback(err);\n            } else {\n                records = records || [];\n                sort(records);\n                // важно создавать differ на неотфильтрованных данных, чтобы потом почистить шлак в бд\n                differ = new Differ(records);\n                var thumbs = constructThumbs(records);\n                callback(null, thumbs);\n            }\n        });\n    },\n    save: function (collection) {\n        if (!differ) {\n            differ = new Differ([]);\n        }\n\n        var items = collection.items.map(function (thumb, position) {\n            var json = thumb.toJSON();\n            json.position = position;\n            return json;\n        });\n\n        if (items.length === 0) {\n            logger.error('Try save empty array, aborting..');\n            return;\n        }\n\n        var diff = differ.update(items);\n        var upsertPositions = diff.changed.concat(diff.added);\n        var tasks = []\n            .concat(diff.removed.length ? [getDeleteTask(diff.removed)] : [])\n            .concat(upsertPositions.length ? [getUpsertTask(upsertPositions)] : []);\n\n        if (tasks.length) {\n            logger.info('Saving...');\n            asyncLib.waterfall(tasks, function () {\n                logger.info('Save complete');\n            });\n        }\n    }\n};\n\n/**\n * Сортируем (база может вернуть тумбы в любом порядке)\n */\nfunction sort(records) {\n    records.sort(function (a, b) {\n        return a.position - b.position;\n    });\n}\n\n/**\n * Создаем тумбы из тех данных, где это можно\n */\nfunction constructThumbs(records) {\n    var thumbs = [];\n    records.forEach(function (record) {\n        try {\n            var thumb = Thumb.fromJSON(record);\n            thumbs.push(thumb);\n        } catch (e) {\n            logger.warn(e.message + ' for db record: %i %j', record.position, record);\n        }\n    });\n    return thumbs;\n}\n\nfunction getUpsertTask(positions) {\n    return function (callback) {\n        var items = positions.map(function (position) {\n            return differ.collection[position];\n        });\n\n\n        database.upsert(TABLE_NAME, items, function (err) {\n            if (err) {\n                logger.warn('Can not upsert thumbs %s', err.message);\n            } else {\n                logger.info('Thumbs were upserted to %s', positions.join(', '));\n            }\n\n            callback();\n        });\n    };\n}\n\nfunction getDeleteTask(positions) {\n    return function (callback) {\n        database.delete(TABLE_NAME, positions, function (err) {\n            if (err) {\n                logger.warn('Can not delete thumbs %s', err.message);\n            } else {\n                logger.info('Thumbs were deleted from %s', positions.join(', '));\n            }\n\n            callback();\n        });\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/thumbs/storage.js","/**\n * БД\n */\n\n'use strict';\n\nvar sklad = require('sklad/dist/sklad.min');\nvar utils = require('../../utils/utils');\nvar structure = require('./structure');\nvar pluck = require('lodash/collection/pluck');\nvar logger = require('../../utils/logger').create('Database');\n\nvar db;\n\n// Need DbError class to convert DOMError into readable string.\n// @see https://github.com/1999/sklad/wiki/Migration-guide-from-0.x-to-1.x\nvar DbError = function (err) {\n    this.message = err.name + ': ' + err.message;\n};\nDbError.prototype = new Error();\n\nfunction ensureDb() {\n    if (!db) {\n        throw new Error('Database not available');\n    }\n}\n\nvar api = module.exports = {\n    /**\n     * Открытие базы и накатывание миграций структуры таблиц\n     * @param {Function} callback\n     */\n    open: function (callback) {\n        logger.info('Opening %s...', structure.name);\n        sklad.open(structure.name, structure)\n            .then(function (database) {\n                if (!database) {\n                    logger.error('Opened db object is empty %s', structure.name);\n                    callback(new Error());\n                } else {\n                    logger.info('Successfully opened %s', structure.name);\n                    db = database;\n                    callback(null, db);\n                }\n            })\n            .catch(function (err) {\n                logger.error('Error while opening db %s %s', err.message, structure.name);\n                callback(err);\n            });\n    },\n    /**\n     * Возвращает инстанс базы\n     */\n    conn: function () {\n        ensureDb();\n        return db;\n    },\n\n    /**\n     * Удаляет БД\n     * @param {?Function} callback\n     * @returns {Promise}\n     */\n    deleteDatabase: function (callback) {\n        callback = callback || utils.noop;\n        return sklad.deleteDatabase(structure.name).then(utils.noargs(callback), callback);\n    },\n\n    /**\n     * Очищает таблицу и пишет заново данные\n     * @param {Object} table\n     * @param {Array} items\n     * @param {Function} callback\n     */\n    clearAndInsert: function (table, items, callback) {\n        ensureDb();\n        callback = callback || utils.noop;\n        db.clear(table)\n            .then(function () {\n                api.upsert(table, items, callback);\n            })\n            .catch(callback);\n    },\n\n    upsert: function (table, items, callback) {\n        ensureDb();\n        callback = callback || utils.noop;\n        var data = prepareData(table, items);\n        db.upsert(data).then(utils.noargs(callback), callback);\n    },\n\n    delete: function (table, keys, callback) {\n        ensureDb();\n        callback = callback || utils.noop;\n        var data = prepareData(table, keys);\n        db.delete(data).then(utils.noargs(callback), callback);\n    },\n\n    get: function (table, options, callback) {\n        ensureDb();\n        db.get(table, options)\n            .then(function (records) {\n                var result = pluck(records, 'value');\n                callback(null, result);\n            })\n            .catch(callback);\n    },\n\n    /**\n     * Конструктор ошибки бд\n     */\n    DbError: DbError\n};\n\n/**\n * Методы upsert/delete у склада принимают параметры в двух вариантах:\n * upsert(table, data) или upsert({table: [data]})\n * Второй вариант всегда удобнее, т.к. позволяет работать с несколькими записями,\n * поэтому потребовалась функция, которая превращает входные данные в такой формат\n */\nfunction prepareData(table, items) {\n    var data = {};\n    // when we passes to sklad {table:items} map,\n    // we need to make sure that 'items' object is array\n    data[table] = Array.isArray(items) ? items : [items];\n    return data;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/database/database.js","!function(t,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports.sklad=n():t.sklad=n()}(this,function(){return function(t){function n(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var r={};return n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,\"a\",r),r},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p=\"\",n(n.s=114)}([function(t,n,r){var e=r(2),o=r(24),i=r(11),u=r(12),c=r(25),a=function(t,n,r){var f,s,l,v,h=t&a.F,p=t&a.G,d=t&a.S,y=t&a.P,g=t&a.B,b=p?e:d?e[n]||(e[n]={}):(e[n]||{}).prototype,m=p?o:o[n]||(o[n]={}),x=m.prototype||(m.prototype={});p&&(r=n);for(f in r)s=!h&&b&&void 0!==b[f],l=(s?b:r)[f],v=g&&s?c(l,e):y&&\"function\"==typeof l?c(Function.call,l):l,b&&u(b,f,l,t&a.U),m[f]!=l&&i(m,f,v),y&&x[f]!=l&&(x[f]=l)};e.core=o,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,n,r){var e=r(4);t.exports=function(t){if(!e(t))throw TypeError(t+\" is not an object!\");return t}},function(t,n){var r=t.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=r)},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n){t.exports=function(t){return\"object\"==typeof t?null!==t:\"function\"==typeof t}},function(t,n,r){var e=r(48)(\"wks\"),o=r(31),i=r(2).Symbol,u=\"function\"==typeof i;(t.exports=function(t){return e[t]||(e[t]=u&&i[t]||(u?i:o)(\"Symbol.\"+t))}).store=e},function(t,n,r){t.exports=!r(3)(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a})},function(t,n,r){var e=r(1),o=r(86),i=r(21),u=Object.defineProperty;n.f=r(6)?Object.defineProperty:function(t,n,r){if(e(t),n=i(n,!0),e(r),o)try{return u(t,n,r)}catch(t){}if(\"get\"in r||\"set\"in r)throw TypeError(\"Accessors not supported!\");return\"value\"in r&&(t[n]=r.value),t}},function(t,n,r){var e=r(30),o=Math.min;t.exports=function(t){return t>0?o(e(t),9007199254740991):0}},function(t,n,r){var e=r(19);t.exports=function(t){return Object(e(t))}},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n,r){var e=r(7),o=r(28);t.exports=r(6)?function(t,n,r){return e.f(t,n,o(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){var e=r(2),o=r(11),i=r(10),u=r(31)(\"src\"),c=Function.toString,a=(\"\"+c).split(\"toString\");r(24).inspectSource=function(t){return c.call(t)},(t.exports=function(t,n,r,c){var f=\"function\"==typeof r;f&&(i(r,\"name\")||o(r,\"name\",n)),t[n]!==r&&(f&&(i(r,u)||o(r,u,t[n]?\"\"+t[n]:a.join(String(n)))),t===e?t[n]=r:c?t[n]?t[n]=r:o(t,n,r):(delete t[n],o(t,n,r)))})(Function.prototype,\"toString\",function(){return\"function\"==typeof this&&this[u]||c.call(this)})},function(t,n){t.exports=function(t){if(\"function\"!=typeof t)throw TypeError(t+\" is not a function!\");return t}},function(t,n,r){var e=r(45),o=r(19);t.exports=function(t){return e(o(t))}},function(t,n,r){var e=r(0),o=r(3),i=r(19),u=/\"/g,c=function(t,n,r,e){var o=String(i(t)),c=\"<\"+n;return\"\"!==r&&(c+=\" \"+r+'=\"'+String(e).replace(u,\"&quot;\")+'\"'),c+\">\"+o+\"</\"+n+\">\"};t.exports=function(t,n){var r={};r[t]=n(c),e(e.P+e.F*o(function(){var n=\"\"[t]('\"');return n!==n.toLowerCase()||n.split('\"').length>3}),\"String\",r)}},function(t,n,r){var e=r(46),o=r(28),i=r(14),u=r(21),c=r(10),a=r(86),f=Object.getOwnPropertyDescriptor;n.f=r(6)?f:function(t,n){if(t=i(t),n=u(n,!0),a)try{return f(t,n)}catch(t){}if(c(t,n))return o(!e.f.call(t,n),t[n])}},function(t,n,r){var e=r(10),o=r(9),i=r(61)(\"IE_PROTO\"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),e(t,i)?t[i]:\"function\"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError(\"Can't call method on  \"+t);return t}},function(t,n,r){var e=r(3);t.exports=function(t,n){return!!t&&e(function(){n?t.call(null,function(){},1):t.call(null)})}},function(t,n,r){var e=r(4);t.exports=function(t,n){if(!e(t))return t;var r,o;if(n&&\"function\"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;if(\"function\"==typeof(r=t.valueOf)&&!e(o=r.call(t)))return o;if(!n&&\"function\"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;throw TypeError(\"Can't convert object to primitive value\")}},function(t,n,r){var e=r(0),o=r(24),i=r(3);t.exports=function(t,n){var r=(o.Object||{})[t]||Object[t],u={};u[t]=n(r),e(e.S+e.F*i(function(){r(1)}),\"Object\",u)}},function(t,n,r){var e=r(25),o=r(45),i=r(9),u=r(8),c=r(206);t.exports=function(t,n){var r=1==t,a=2==t,f=3==t,s=4==t,l=6==t,v=5==t||l,h=n||c;return function(n,c,p){for(var d,y,g=i(n),b=o(g),m=e(c,p,3),x=u(b.length),w=0,S=r?h(n,x):a?h(n,0):void 0;x>w;w++)if((v||w in b)&&(d=b[w],y=m(d,w,g),t))if(r)S[w]=y;else if(y)switch(t){case 3:return!0;case 5:return d;case 6:return w;case 2:S.push(d)}else if(s)return!1;return l?-1:f||s?s:S}}},function(t,n){var r=t.exports={version:\"2.4.0\"};\"number\"==typeof __e&&(__e=r)},function(t,n,r){var e=r(13);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,o){return t.call(n,r,e,o)}}return function(){return t.apply(n,arguments)}}},function(t,n,r){\"use strict\";if(r(6)){var e=r(32),o=r(2),i=r(3),u=r(0),c=r(57),a=r(84),f=r(25),s=r(38),l=r(28),v=r(11),h=r(39),p=r(30),d=r(8),y=r(34),g=r(21),b=r(10),m=r(92),x=r(47),w=r(4),S=r(9),_=r(76),E=r(35),O=r(17),P=r(36).f,A=r(78),j=r(31),I=r(5),N=r(23),F=r(49),R=r(81),M=r(80),T=r(42),k=r(53),D=r(37),L=r(79),C=r(101),B=r(7),U=r(16),W=B.f,V=U.f,G=o.RangeError,Y=o.TypeError,z=o.Uint8Array,K=Array.prototype,J=a.ArrayBuffer,q=a.DataView,Q=N(0),X=N(2),$=N(3),H=N(4),Z=N(5),tt=N(6),nt=F(!0),rt=F(!1),et=M.values,ot=M.keys,it=M.entries,ut=K.lastIndexOf,ct=K.reduce,at=K.reduceRight,ft=K.join,st=K.sort,lt=K.slice,vt=K.toString,ht=K.toLocaleString,pt=I(\"iterator\"),dt=I(\"toStringTag\"),yt=j(\"typed_constructor\"),gt=j(\"def_constructor\"),bt=c.CONSTR,mt=c.TYPED,xt=c.VIEW,wt=N(1,function(t,n){return At(R(t,t[gt]),n)}),St=i(function(){return 1===new z(new Uint16Array([1]).buffer)[0]}),_t=!!z&&!!z.prototype.set&&i(function(){new z(1).set({})}),Et=function(t,n){if(void 0===t)throw Y(\"Wrong length!\");var r=+t,e=d(t);if(n&&!m(r,e))throw G(\"Wrong length!\");return e},Ot=function(t,n){var r=p(t);if(r<0||r%n)throw G(\"Wrong offset!\");return r},Pt=function(t){if(w(t)&&mt in t)return t;throw Y(t+\" is not a typed array!\")},At=function(t,n){if(!(w(t)&&yt in t))throw Y(\"It is not a typed array constructor!\");return new t(n)},jt=function(t,n){return It(R(t,t[gt]),n)},It=function(t,n){for(var r=0,e=n.length,o=At(t,e);e>r;)o[r]=n[r++];return o},Nt=function(t,n,r){W(t,n,{get:function(){return this._d[r]}})},Ft=function(t){var n,r,e,o,i,u,c=S(t),a=arguments.length,s=a>1?arguments[1]:void 0,l=void 0!==s,v=A(c);if(void 0!=v&&!_(v)){for(u=v.call(c),e=[],n=0;!(i=u.next()).done;n++)e.push(i.value);c=e}for(l&&a>2&&(s=f(s,arguments[2],2)),n=0,r=d(c.length),o=At(this,r);r>n;n++)o[n]=l?s(c[n],n):c[n];return o},Rt=function(){for(var t=0,n=arguments.length,r=At(this,n);n>t;)r[t]=arguments[t++];return r},Mt=!!z&&i(function(){ht.call(new z(1))}),Tt=function(){return ht.apply(Mt?lt.call(Pt(this)):Pt(this),arguments)},kt={copyWithin:function(t,n){return C.call(Pt(this),t,n,arguments.length>2?arguments[2]:void 0)},every:function(t){return H(Pt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return L.apply(Pt(this),arguments)},filter:function(t){return jt(this,X(Pt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Z(Pt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Pt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Q(Pt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return rt(Pt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return nt(Pt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ft.apply(Pt(this),arguments)},lastIndexOf:function(t){return ut.apply(Pt(this),arguments)},map:function(t){return wt(Pt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ct.apply(Pt(this),arguments)},reduceRight:function(t){return at.apply(Pt(this),arguments)},reverse:function(){for(var t,n=this,r=Pt(n).length,e=Math.floor(r/2),o=0;o<e;)t=n[o],n[o++]=n[--r],n[r]=t;return n},some:function(t){return $(Pt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return st.call(Pt(this),t)},subarray:function(t,n){var r=Pt(this),e=r.length,o=y(t,e);return new(R(r,r[gt]))(r.buffer,r.byteOffset+o*r.BYTES_PER_ELEMENT,d((void 0===n?e:y(n,e))-o))}},Dt=function(t,n){return jt(this,lt.call(Pt(this),t,n))},Lt=function(t){Pt(this);var n=Ot(arguments[1],1),r=this.length,e=S(t),o=d(e.length),i=0;if(o+n>r)throw G(\"Wrong length!\");for(;i<o;)this[n+i]=e[i++]},Ct={entries:function(){return it.call(Pt(this))},keys:function(){return ot.call(Pt(this))},values:function(){return et.call(Pt(this))}},Bt=function(t,n){return w(t)&&t[mt]&&\"symbol\"!=typeof n&&n in t&&String(+n)==String(n)},Ut=function(t,n){return Bt(t,n=g(n,!0))?l(2,t[n]):V(t,n)},Wt=function(t,n,r){return!(Bt(t,n=g(n,!0))&&w(r)&&b(r,\"value\"))||b(r,\"get\")||b(r,\"set\")||r.configurable||b(r,\"writable\")&&!r.writable||b(r,\"enumerable\")&&!r.enumerable?W(t,n,r):(t[n]=r.value,t)};bt||(U.f=Ut,B.f=Wt),u(u.S+u.F*!bt,\"Object\",{getOwnPropertyDescriptor:Ut,defineProperty:Wt}),i(function(){vt.call({})})&&(vt=ht=function(){return ft.call(this)});var Vt=h({},kt);h(Vt,Ct),v(Vt,pt,Ct.values),h(Vt,{slice:Dt,set:Lt,constructor:function(){},toString:vt,toLocaleString:Tt}),Nt(Vt,\"buffer\",\"b\"),Nt(Vt,\"byteOffset\",\"o\"),Nt(Vt,\"byteLength\",\"l\"),Nt(Vt,\"length\",\"e\"),W(Vt,dt,{get:function(){return this[mt]}}),t.exports=function(t,n,r,a){a=!!a;var f=t+(a?\"Clamped\":\"\")+\"Array\",l=\"Uint8Array\"!=f,h=\"get\"+t,p=\"set\"+t,y=o[f],g=y||{},b=y&&O(y),m=!y||!c.ABV,S={},_=y&&y.prototype,A=function(t,r){var e=t._d;return e.v[h](r*n+e.o,St)},j=function(t,r,e){var o=t._d;a&&(e=(e=Math.round(e))<0?0:e>255?255:255&e),o.v[p](r*n+o.o,e,St)},I=function(t,n){W(t,n,{get:function(){return A(this,n)},set:function(t){return j(this,n,t)},enumerable:!0})};m?(y=r(function(t,r,e,o){s(t,y,f,\"_d\");var i,u,c,a,l=0,h=0;if(w(r)){if(!(r instanceof J||\"ArrayBuffer\"==(a=x(r))||\"SharedArrayBuffer\"==a))return mt in r?It(y,r):Ft.call(y,r);i=r,h=Ot(e,n);var p=r.byteLength;if(void 0===o){if(p%n)throw G(\"Wrong length!\");if((u=p-h)<0)throw G(\"Wrong length!\")}else if((u=d(o)*n)+h>p)throw G(\"Wrong length!\");c=u/n}else c=Et(r,!0),u=c*n,i=new J(u);for(v(t,\"_d\",{b:i,o:h,l:u,e:c,v:new q(i)});l<c;)I(t,l++)}),_=y.prototype=E(Vt),v(_,\"constructor\",y)):k(function(t){new y(null),new y(t)},!0)||(y=r(function(t,r,e,o){s(t,y,f);var i;return w(r)?r instanceof J||\"ArrayBuffer\"==(i=x(r))||\"SharedArrayBuffer\"==i?void 0!==o?new g(r,Ot(e,n),o):void 0!==e?new g(r,Ot(e,n)):new g(r):mt in r?It(y,r):Ft.call(y,r):new g(Et(r,l))}),Q(b!==Function.prototype?P(g).concat(P(b)):P(g),function(t){t in y||v(y,t,g[t])}),y.prototype=_,e||(_.constructor=y));var N=_[pt],F=!!N&&(\"values\"==N.name||void 0==N.name),R=Ct.values;v(y,yt,!0),v(_,mt,f),v(_,xt,!0),v(_,gt,y),(a?new y(1)[dt]==f:dt in _)||W(_,dt,{get:function(){return f}}),S[f]=y,u(u.G+u.W+u.F*(y!=g),S),u(u.S,f,{BYTES_PER_ELEMENT:n,from:Ft,of:Rt}),\"BYTES_PER_ELEMENT\"in _||v(_,\"BYTES_PER_ELEMENT\",n),u(u.P,f,kt),D(f),u(u.P+u.F*_t,f,{set:Lt}),u(u.P+u.F*!F,f,Ct),u(u.P+u.F*(_.toString!=vt),f,{toString:vt}),u(u.P+u.F*i(function(){new y(1).slice()}),f,{slice:Dt}),u(u.P+u.F*(i(function(){return[1,2].toLocaleString()!=new y([1,2]).toLocaleString()})||!i(function(){_.toLocaleString.call([1,2])})),f,{toLocaleString:Tt}),T[f]=F?N:R,e||F||v(_,pt,R)}}else t.exports=function(){}},function(t,n,r){var e=r(104),o=r(0),i=r(48)(\"metadata\"),u=i.store||(i.store=new(r(107))),c=function(t,n,r){var o=u.get(t);if(!o){if(!r)return;u.set(t,o=new e)}var i=o.get(n);if(!i){if(!r)return;o.set(n,i=new e)}return i},a=function(t,n,r){var e=c(n,r,!1);return void 0!==e&&e.has(t)},f=function(t,n,r){var e=c(n,r,!1);return void 0===e?void 0:e.get(t)},s=function(t,n,r,e){c(r,e,!0).set(t,n)},l=function(t,n){var r=c(t,n,!1),e=[];return r&&r.forEach(function(t,n){e.push(n)}),e},v=function(t){return void 0===t||\"symbol\"==typeof t?t:String(t)},h=function(t){o(o.S,\"Reflect\",t)};t.exports={store:u,map:c,has:a,get:f,set:s,keys:l,key:v,exp:h}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n,r){var e=r(31)(\"meta\"),o=r(4),i=r(10),u=r(7).f,c=0,a=Object.isExtensible||function(){return!0},f=!r(3)(function(){return a(Object.preventExtensions({}))}),s=function(t){u(t,e,{value:{i:\"O\"+ ++c,w:{}}})},l=function(t,n){if(!o(t))return\"symbol\"==typeof t?t:(\"string\"==typeof t?\"S\":\"P\")+t;if(!i(t,e)){if(!a(t))return\"F\";if(!n)return\"E\";s(t)}return t[e].i},v=function(t,n){if(!i(t,e)){if(!a(t))return!0;if(!n)return!1;s(t)}return t[e].w},h=function(t){return f&&p.NEED&&a(t)&&!i(t,e)&&s(t),t},p=t.exports={KEY:e,NEED:!1,fastKey:l,getWeak:v,onFreeze:h}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n){var r=0,e=Math.random();t.exports=function(t){return\"Symbol(\".concat(void 0===t?\"\":t,\")_\",(++r+e).toString(36))}},function(t,n){t.exports=!1},function(t,n,r){var e=r(88),o=r(62);t.exports=Object.keys||function(t){return e(t,o)}},function(t,n,r){var e=r(30),o=Math.max,i=Math.min;t.exports=function(t,n){return t=e(t),t<0?o(t+n,0):i(t,n)}},function(t,n,r){var e=r(1),o=r(89),i=r(62),u=r(61)(\"IE_PROTO\"),c=function(){},a=function(){var t,n=r(59)(\"iframe\"),e=i.length;for(n.style.display=\"none\",r(64).appendChild(n),n.src=\"javascript:\",t=n.contentWindow.document,t.open(),t.write(\"<script>document.F=Object<\\/script>\"),t.close(),a=t.F;e--;)delete a.prototype[i[e]];return a()};t.exports=Object.create||function(t,n){var r;return null!==t?(c.prototype=e(t),r=new c,c.prototype=null,r[u]=t):r=a(),void 0===n?r:o(r,n)}},function(t,n,r){var e=r(88),o=r(62).concat(\"length\",\"prototype\");n.f=Object.getOwnPropertyNames||function(t){return e(t,o)}},function(t,n,r){\"use strict\";var e=r(2),o=r(7),i=r(6),u=r(5)(\"species\");t.exports=function(t){var n=e[t];i&&n&&!n[u]&&o.f(n,u,{configurable:!0,get:function(){return this}})}},function(t,n){t.exports=function(t,n,r,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(r+\": incorrect invocation!\");return t}},function(t,n,r){var e=r(12);t.exports=function(t,n,r){for(var o in n)e(t,o,n[o],r);return t}},function(t,n,r){var e=r(7).f,o=r(10),i=r(5)(\"toStringTag\");t.exports=function(t,n,r){t&&!o(t=r?t:t.prototype,i)&&e(t,i,{configurable:!0,value:n})}},function(t,n,r){var e=r(0),o=r(19),i=r(3),u=r(66),c=\"[\"+u+\"]\",a=\"​\",f=RegExp(\"^\"+c+c+\"*\"),s=RegExp(c+c+\"*$\"),l=function(t,n,r){var o={},c=i(function(){return!!u[t]()||a[t]()!=a}),f=o[t]=c?n(v):u[t];r&&(o[r]=f),e(e.P+e.F*c,\"String\",o)},v=l.trim=function(t,n){return t=String(o(t)),1&n&&(t=t.replace(f,\"\")),2&n&&(t=t.replace(s,\"\")),t};t.exports=l},function(t,n){t.exports={}},function(t,n,r){var e=r(5)(\"unscopables\"),o=Array.prototype;void 0==o[e]&&r(11)(o,e,{}),t.exports=function(t){o[e][t]=!0}},function(t,n,r){var e=r(25),o=r(99),i=r(76),u=r(1),c=r(8),a=r(78),f={},s={},n=t.exports=function(t,n,r,l,v){var h,p,d,y,g=v?function(){return t}:a(t),b=e(r,l,n?2:1),m=0;if(\"function\"!=typeof g)throw TypeError(t+\" is not iterable!\");if(i(g)){for(h=c(t.length);h>m;m++)if((y=n?b(u(p=t[m])[0],p[1]):b(t[m]))===f||y===s)return y}else for(d=g.call(t);!(p=d.next()).done;)if((y=o(d,b,p.value,n))===f||y===s)return y};n.BREAK=f,n.RETURN=s},function(t,n,r){var e=r(18);t.exports=Object(\"z\").propertyIsEnumerable(0)?Object:function(t){return\"String\"==e(t)?t.split(\"\"):Object(t)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,r){var e=r(18),o=r(5)(\"toStringTag\"),i=\"Arguments\"==e(function(){return arguments}()),u=function(t,n){try{return t[n]}catch(t){}};t.exports=function(t){var n,r,c;return void 0===t?\"Undefined\":null===t?\"Null\":\"string\"==typeof(r=u(n=Object(t),o))?r:i?e(n):\"Object\"==(c=e(n))&&\"function\"==typeof n.callee?\"Arguments\":c}},function(t,n,r){var e=r(2),o=e[\"__core-js_shared__\"]||(e[\"__core-js_shared__\"]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,n,r){var e=r(14),o=r(8),i=r(34);t.exports=function(t){return function(n,r,u){var c,a=e(n),f=o(a.length),s=i(u,f);if(t&&r!=r){for(;f>s;)if((c=a[s++])!=c)return!0}else for(;f>s;s++)if((t||s in a)&&a[s]===r)return t||s||0;return!t&&-1}}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n){t.exports=function(t,n,r){var e=void 0===r;switch(n.length){case 0:return e?t():t.call(r);case 1:return e?t(n[0]):t.call(r,n[0]);case 2:return e?t(n[0],n[1]):t.call(r,n[0],n[1]);case 3:return e?t(n[0],n[1],n[2]):t.call(r,n[0],n[1],n[2]);case 4:return e?t(n[0],n[1],n[2],n[3]):t.call(r,n[0],n[1],n[2],n[3])}return t.apply(r,n)}},function(t,n,r){var e=r(4),o=r(18),i=r(5)(\"match\");t.exports=function(t){var n;return e(t)&&(void 0!==(n=t[i])?!!n:\"RegExp\"==o(t))}},function(t,n,r){var e=r(5)(\"iterator\"),o=!1;try{var i=[7][e]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,n){if(!n&&!o)return!1;var r=!1;try{var i=[7],u=i[e]();u.next=function(){return{done:r=!0}},i[e]=function(){return u},t(i)}catch(t){}return r}},function(t,n,r){\"use strict\";var e=r(1);t.exports=function(){var t=e(this),n=\"\";return t.global&&(n+=\"g\"),t.ignoreCase&&(n+=\"i\"),t.multiline&&(n+=\"m\"),t.unicode&&(n+=\"u\"),t.sticky&&(n+=\"y\"),n}},function(t,n,r){\"use strict\";var e=r(11),o=r(12),i=r(3),u=r(19),c=r(5);t.exports=function(t,n,r){var a=c(t),f=r(u,a,\"\"[t]),s=f[0],l=f[1];i(function(){var n={};return n[a]=function(){return 7},7!=\"\"[t](n)})&&(o(String.prototype,t,s),e(RegExp.prototype,a,2==n?function(t,n){return l.call(t,this,n)}:function(t){return l.call(t,this)}))}},function(t,n,r){\"use strict\";var e=r(2),o=r(0),i=r(12),u=r(39),c=r(29),a=r(44),f=r(38),s=r(4),l=r(3),v=r(53),h=r(40),p=r(67);t.exports=function(t,n,r,d,y,g){var b=e[t],m=b,x=y?\"set\":\"add\",w=m&&m.prototype,S={},_=function(t){var n=w[t];i(w,t,\"delete\"==t?function(t){return!(g&&!s(t))&&n.call(this,0===t?0:t)}:\"has\"==t?function(t){return!(g&&!s(t))&&n.call(this,0===t?0:t)}:\"get\"==t?function(t){return g&&!s(t)?void 0:n.call(this,0===t?0:t)}:\"add\"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,r){return n.call(this,0===t?0:t,r),this})};if(\"function\"==typeof m&&(g||w.forEach&&!l(function(){(new m).entries().next()}))){var E=new m,O=E[x](g?{}:-0,1)!=E,P=l(function(){E.has(1)}),A=v(function(t){new m(t)}),j=!g&&l(function(){for(var t=new m,n=5;n--;)t[x](n,n);return!t.has(-0)});A||(m=n(function(n,r){f(n,m,t);var e=p(new b,n,m);return void 0!=r&&a(r,y,e[x],e),e}),m.prototype=w,w.constructor=m),(P||j)&&(_(\"delete\"),_(\"has\"),y&&_(\"get\")),(j||O)&&_(x),g&&w.clear&&delete w.clear}else m=d.getConstructor(n,t,y,x),u(m.prototype,r),c.NEED=!0;return h(m,t),S[t]=m,o(o.G+o.W+o.F*(m!=b),S),g||d.setStrong(m,t,y),m}},function(t,n,r){for(var e,o=r(2),i=r(11),u=r(31),c=u(\"typed_array\"),a=u(\"view\"),f=!(!o.ArrayBuffer||!o.DataView),s=f,l=0,v=\"Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array\".split(\",\");l<9;)(e=o[v[l++]])?(i(e.prototype,c,!0),i(e.prototype,a,!0)):s=!1;t.exports={ABV:f,CONSTR:s,TYPED:c,VIEW:a}},function(t,n,r){t.exports=r(32)||!r(3)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete r(2)[t]})},function(t,n,r){var e=r(4),o=r(2).document,i=e(o)&&e(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,n,r){var e=r(2),o=r(24),i=r(32),u=r(87),c=r(7).f;t.exports=function(t){var n=o.Symbol||(o.Symbol=i?{}:e.Symbol||{});\"_\"==t.charAt(0)||t in n||c(n,t,{value:u.f(t)})}},function(t,n,r){var e=r(48)(\"keys\"),o=r(31);t.exports=function(t){return e[t]||(e[t]=o(t))}},function(t,n){t.exports=\"constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf\".split(\",\")},function(t,n,r){var e=r(18);t.exports=Array.isArray||function(t){return\"Array\"==e(t)}},function(t,n,r){t.exports=r(2).document&&document.documentElement},function(t,n,r){var e=r(4),o=r(1),i=function(t,n){if(o(t),!e(n)&&null!==n)throw TypeError(n+\": can't set as prototype!\")};t.exports={set:Object.setPrototypeOf||(\"__proto__\"in{}?function(t,n,e){try{e=r(25)(Function.call,r(16).f(Object.prototype,\"__proto__\").set,2),e(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,r){return i(t,r),n?t.__proto__=r:e(t,r),t}}({},!1):void 0),check:i}},function(t,n){t.exports=\"\\t\\n\\v\\f\\r   ᠎             　\\u2028\\u2029\\ufeff\"},function(t,n,r){var e=r(4),o=r(65).set;t.exports=function(t,n,r){var i,u=n.constructor;return u!==r&&\"function\"==typeof u&&(i=u.prototype)!==r.prototype&&e(i)&&o&&o(t,i),t}},function(t,n,r){\"use strict\";var e=r(30),o=r(19);t.exports=function(t){var n=String(o(this)),r=\"\",i=e(t);if(i<0||i==1/0)throw RangeError(\"Count can't be negative\");for(;i>0;(i>>>=1)&&(n+=n))1&i&&(r+=n);return r}},function(t,n){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,n){var r=Math.expm1;t.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:r},function(t,n,r){var e=r(30),o=r(19);t.exports=function(t){return function(n,r){var i,u,c=String(o(n)),a=e(r),f=c.length;return a<0||a>=f?t?\"\":void 0:(i=c.charCodeAt(a),i<55296||i>56319||a+1===f||(u=c.charCodeAt(a+1))<56320||u>57343?t?c.charAt(a):i:t?c.slice(a,a+2):u-56320+(i-55296<<10)+65536)}}},function(t,n,r){\"use strict\";var e=r(32),o=r(0),i=r(12),u=r(11),c=r(10),a=r(42),f=r(73),s=r(40),l=r(17),v=r(5)(\"iterator\"),h=!([].keys&&\"next\"in[].keys()),p=function(){return this};t.exports=function(t,n,r,d,y,g,b){f(r,n,d);var m,x,w,S=function(t){if(!h&&t in P)return P[t];switch(t){case\"keys\":case\"values\":return function(){return new r(this,t)}}return function(){return new r(this,t)}},_=n+\" Iterator\",E=\"values\"==y,O=!1,P=t.prototype,A=P[v]||P[\"@@iterator\"]||y&&P[y],j=A||S(y),I=y?E?S(\"entries\"):j:void 0,N=\"Array\"==n?P.entries||A:A;if(N&&(w=l(N.call(new t)))!==Object.prototype&&(s(w,_,!0),e||c(w,v)||u(w,v,p)),E&&A&&\"values\"!==A.name&&(O=!0,j=function(){return A.call(this)}),e&&!b||!h&&!O&&P[v]||u(P,v,j),a[n]=j,a[_]=p,y)if(m={values:E?j:S(\"values\"),keys:g?j:S(\"keys\"),entries:I},b)for(x in m)x in P||i(P,x,m[x]);else o(o.P+o.F*(h||O),n,m);return m}},function(t,n,r){\"use strict\";var e=r(35),o=r(28),i=r(40),u={};r(11)(u,r(5)(\"iterator\"),function(){return this}),t.exports=function(t,n,r){t.prototype=e(u,{next:o(1,r)}),i(t,n+\" Iterator\")}},function(t,n,r){var e=r(52),o=r(19);t.exports=function(t,n,r){if(e(n))throw TypeError(\"String#\"+r+\" doesn't accept regex!\");return String(o(t))}},function(t,n,r){var e=r(5)(\"match\");t.exports=function(t){var n=/./;try{\"/./\"[t](n)}catch(r){try{return n[e]=!1,!\"/./\"[t](n)}catch(t){}}return!0}},function(t,n,r){var e=r(42),o=r(5)(\"iterator\"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||i[o]===t)}},function(t,n,r){\"use strict\";var e=r(7),o=r(28);t.exports=function(t,n,r){n in t?e.f(t,n,o(0,r)):t[n]=r}},function(t,n,r){var e=r(47),o=r(5)(\"iterator\"),i=r(42);t.exports=r(24).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t[\"@@iterator\"]||i[e(t)]}},function(t,n,r){\"use strict\";var e=r(9),o=r(34),i=r(8);t.exports=function(t){for(var n=e(this),r=i(n.length),u=arguments.length,c=o(u>1?arguments[1]:void 0,r),a=u>2?arguments[2]:void 0,f=void 0===a?r:o(a,r);f>c;)n[c++]=t;return n}},function(t,n,r){\"use strict\";var e=r(43),o=r(102),i=r(42),u=r(14);t.exports=r(72)(Array,\"Array\",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,o(1)):\"keys\"==n?o(0,r):\"values\"==n?o(0,t[r]):o(0,[r,t[r]])},\"values\"),i.Arguments=i.Array,e(\"keys\"),e(\"values\"),e(\"entries\")},function(t,n,r){var e=r(1),o=r(13),i=r(5)(\"species\");t.exports=function(t,n){var r,u=e(t).constructor;return void 0===u||void 0==(r=e(u)[i])?n:o(r)}},function(t,n,r){var e,o,i,u=r(25),c=r(51),a=r(64),f=r(59),s=r(2),l=s.process,v=s.setImmediate,h=s.clearImmediate,p=s.MessageChannel,d=0,y={},g=function(){var t=+this;if(y.hasOwnProperty(t)){var n=y[t];delete y[t],n()}},b=function(t){g.call(t.data)};v&&h||(v=function(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return y[++d]=function(){c(\"function\"==typeof t?t:Function(t),n)},e(d),d},h=function(t){delete y[t]},\"process\"==r(18)(l)?e=function(t){l.nextTick(u(g,t,1))}:p?(o=new p,i=o.port2,o.port1.onmessage=b,e=u(i.postMessage,i,1)):s.addEventListener&&\"function\"==typeof postMessage&&!s.importScripts?(e=function(t){s.postMessage(t+\"\",\"*\")},s.addEventListener(\"message\",b,!1)):e=\"onreadystatechange\"in f(\"script\")?function(t){a.appendChild(f(\"script\")).onreadystatechange=function(){a.removeChild(this),g.call(t)}}:function(t){setTimeout(u(g,t,1),0)}),t.exports={set:v,clear:h}},function(t,n,r){var e=r(2),o=r(82).set,i=e.MutationObserver||e.WebKitMutationObserver,u=e.process,c=e.Promise,a=\"process\"==r(18)(u);t.exports=function(){var t,n,r,f=function(){var e,o;for(a&&(e=u.domain)&&e.exit();t;){o=t.fn,t=t.next;try{o()}catch(e){throw t?r():n=void 0,e}}n=void 0,e&&e.enter()};if(a)r=function(){u.nextTick(f)};else if(i){var s=!0,l=document.createTextNode(\"\");new i(f).observe(l,{characterData:!0}),r=function(){l.data=s=!s}}else if(c&&c.resolve){var v=c.resolve();r=function(){v.then(f)}}else r=function(){o.call(e,f)};return function(e){var o={fn:e,next:void 0};n&&(n.next=o),t||(t=o,r()),n=o}}},function(t,n,r){\"use strict\";var e=r(2),o=r(6),i=r(32),u=r(57),c=r(11),a=r(39),f=r(3),s=r(38),l=r(30),v=r(8),h=r(36).f,p=r(7).f,d=r(79),y=r(40),g=e.ArrayBuffer,b=e.DataView,m=e.Math,x=e.RangeError,w=e.Infinity,S=g,_=m.abs,E=m.pow,O=m.floor,P=m.log,A=m.LN2,j=o?\"_b\":\"buffer\",I=o?\"_l\":\"byteLength\",N=o?\"_o\":\"byteOffset\",F=function(t,n,r){var e,o,i,u=Array(r),c=8*r-n-1,a=(1<<c)-1,f=a>>1,s=23===n?E(2,-24)-E(2,-77):0,l=0,v=t<0||0===t&&1/t<0?1:0;for(t=_(t),t!=t||t===w?(o=t!=t?1:0,e=a):(e=O(P(t)/A),t*(i=E(2,-e))<1&&(e--,i*=2),t+=e+f>=1?s/i:s*E(2,1-f),t*i>=2&&(e++,i/=2),e+f>=a?(o=0,e=a):e+f>=1?(o=(t*i-1)*E(2,n),e+=f):(o=t*E(2,f-1)*E(2,n),e=0));n>=8;u[l++]=255&o,o/=256,n-=8);for(e=e<<n|o,c+=n;c>0;u[l++]=255&e,e/=256,c-=8);return u[--l]|=128*v,u},R=function(t,n,r){var e,o=8*r-n-1,i=(1<<o)-1,u=i>>1,c=o-7,a=r-1,f=t[a--],s=127&f;for(f>>=7;c>0;s=256*s+t[a],a--,c-=8);for(e=s&(1<<-c)-1,s>>=-c,c+=n;c>0;e=256*e+t[a],a--,c-=8);if(0===s)s=1-u;else{if(s===i)return e?NaN:f?-w:w;e+=E(2,n),s-=u}return(f?-1:1)*e*E(2,s-n)},M=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},T=function(t){return[255&t]},k=function(t){return[255&t,t>>8&255]},D=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},L=function(t){return F(t,52,8)},C=function(t){return F(t,23,4)},B=function(t,n,r){p(t.prototype,n,{get:function(){return this[r]}})},U=function(t,n,r,e){var o=+r,i=l(o);if(o!=i||i<0||i+n>t[I])throw x(\"Wrong index!\");var u=t[j]._b,c=i+t[N],a=u.slice(c,c+n);return e?a:a.reverse()},W=function(t,n,r,e,o,i){var u=+r,c=l(u);if(u!=c||c<0||c+n>t[I])throw x(\"Wrong index!\");for(var a=t[j]._b,f=c+t[N],s=e(+o),v=0;v<n;v++)a[f+v]=s[i?v:n-v-1]},V=function(t,n){s(t,g,\"ArrayBuffer\");var r=+n,e=v(r);if(r!=e)throw x(\"Wrong length!\");return e};if(u.ABV){if(!f(function(){new g})||!f(function(){new g(.5)})){g=function(t){return new S(V(this,t))};for(var G,Y=g.prototype=S.prototype,z=h(S),K=0;z.length>K;)(G=z[K++])in g||c(g,G,S[G]);i||(Y.constructor=g)}var J=new b(new g(2)),q=b.prototype.setInt8;J.setInt8(0,2147483648),J.setInt8(1,2147483649),!J.getInt8(0)&&J.getInt8(1)||a(b.prototype,{setInt8:function(t,n){q.call(this,t,n<<24>>24)},setUint8:function(t,n){q.call(this,t,n<<24>>24)}},!0)}else g=function(t){var n=V(this,t);this._b=d.call(Array(n),0),this[I]=n},b=function(t,n,r){s(this,b,\"DataView\"),s(t,g,\"DataView\");var e=t[I],o=l(n);if(o<0||o>e)throw x(\"Wrong offset!\");if(r=void 0===r?e-o:v(r),o+r>e)throw x(\"Wrong length!\");this[j]=t,this[N]=o,this[I]=r},o&&(B(g,\"byteLength\",\"_l\"),B(b,\"buffer\",\"_b\"),B(b,\"byteLength\",\"_l\"),B(b,\"byteOffset\",\"_o\")),a(b.prototype,{getInt8:function(t){return U(this,1,t)[0]<<24>>24},getUint8:function(t){return U(this,1,t)[0]},getInt16:function(t){var n=U(this,2,t,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=U(this,2,t,arguments[1]);return n[1]<<8|n[0]},getInt32:function(t){return M(U(this,4,t,arguments[1]))},getUint32:function(t){return M(U(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return R(U(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return R(U(this,8,t,arguments[1]),52,8)},setInt8:function(t,n){W(this,1,t,T,n)},setUint8:function(t,n){W(this,1,t,T,n)},setInt16:function(t,n){W(this,2,t,k,n,arguments[2])},setUint16:function(t,n){W(this,2,t,k,n,arguments[2])},setInt32:function(t,n){W(this,4,t,D,n,arguments[2])},setUint32:function(t,n){W(this,4,t,D,n,arguments[2])},setFloat32:function(t,n){W(this,4,t,C,n,arguments[2])},setFloat64:function(t,n){W(this,8,t,L,n,arguments[2])}});y(g,\"ArrayBuffer\"),y(b,\"DataView\"),c(b.prototype,u.VIEW,!0),n.ArrayBuffer=g,n.DataView=b},function(t,n){var r;r=function(){return this}();try{r=r||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(r=window)}t.exports=r},function(t,n,r){t.exports=!r(6)&&!r(3)(function(){return 7!=Object.defineProperty(r(59)(\"div\"),\"a\",{get:function(){return 7}}).a})},function(t,n,r){n.f=r(5)},function(t,n,r){var e=r(10),o=r(14),i=r(49)(!1),u=r(61)(\"IE_PROTO\");t.exports=function(t,n){var r,c=o(t),a=0,f=[];for(r in c)r!=u&&e(c,r)&&f.push(r);for(;n.length>a;)e(c,r=n[a++])&&(~i(f,r)||f.push(r));return f}},function(t,n,r){var e=r(7),o=r(1),i=r(33);t.exports=r(6)?Object.defineProperties:function(t,n){o(t);for(var r,u=i(n),c=u.length,a=0;c>a;)e.f(t,r=u[a++],n[r]);return t}},function(t,n,r){var e=r(14),o=r(36).f,i={}.toString,u=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return o(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&\"[object Window]\"==i.call(t)?c(t):o(e(t))}},function(t,n,r){\"use strict\";var e=r(33),o=r(50),i=r(46),u=r(9),c=r(45),a=Object.assign;t.exports=!a||r(3)(function(){var t={},n={},r=Symbol(),e=\"abcdefghijklmnopqrst\";return t[r]=7,e.split(\"\").forEach(function(t){n[t]=t}),7!=a({},t)[r]||Object.keys(a({},n)).join(\"\")!=e})?function(t,n){for(var r=u(t),a=arguments.length,f=1,s=o.f,l=i.f;a>f;)for(var v,h=c(arguments[f++]),p=s?e(h).concat(s(h)):e(h),d=p.length,y=0;d>y;)l.call(h,v=p[y++])&&(r[v]=h[v]);return r}:a},function(t,n){t.exports=Object.is||function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}},function(t,n,r){\"use strict\";var e=r(13),o=r(4),i=r(51),u=[].slice,c={},a=function(t,n,r){if(!(n in c)){for(var e=[],o=0;o<n;o++)e[o]=\"a[\"+o+\"]\";c[n]=Function(\"F,a\",\"return new F(\"+e.join(\",\")+\")\")}return c[n](t,r)};t.exports=Function.bind||function(t){var n=e(this),r=u.call(arguments,1),c=function(){var e=r.concat(u.call(arguments));return this instanceof c?a(n,e.length,e):i(n,e,t)};return o(n.prototype)&&(c.prototype=n.prototype),c}},function(t,n,r){var e=r(2).parseInt,o=r(41).trim,i=r(66),u=/^[\\-+]?0[xX]/;t.exports=8!==e(i+\"08\")||22!==e(i+\"0x16\")?function(t,n){var r=o(String(t),3);return e(r,n>>>0||(u.test(r)?16:10))}:e},function(t,n,r){var e=r(2).parseFloat,o=r(41).trim;t.exports=1/e(r(66)+\"-0\")!=-1/0?function(t){var n=o(String(t),3),r=e(n);return 0===r&&\"-\"==n.charAt(0)?-0:r}:e},function(t,n,r){var e=r(18);t.exports=function(t,n){if(\"number\"!=typeof t&&\"Number\"!=e(t))throw TypeError(n);return+t}},function(t,n,r){var e=r(4),o=Math.floor;t.exports=function(t){return!e(t)&&isFinite(t)&&o(t)===t}},function(t,n){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,n,r){var e=r(1);t.exports=function(t,n,r,o){try{return o?n(e(r)[0],r[1]):n(r)}catch(n){var i=t.return;throw void 0!==i&&e(i.call(t)),n}}},function(t,n,r){var e=r(13),o=r(9),i=r(45),u=r(8);t.exports=function(t,n,r,c,a){e(n);var f=o(t),s=i(f),l=u(f.length),v=a?l-1:0,h=a?-1:1;if(r<2)for(;;){if(v in s){c=s[v],v+=h;break}if(v+=h,a?v<0:l<=v)throw TypeError(\"Reduce of empty array with no initial value\")}for(;a?v>=0:l>v;v+=h)v in s&&(c=n(c,s[v],v,f));return c}},function(t,n,r){\"use strict\";var e=r(9),o=r(34),i=r(8);t.exports=[].copyWithin||function(t,n){var r=e(this),u=i(r.length),c=o(t,u),a=o(n,u),f=arguments.length>2?arguments[2]:void 0,s=Math.min((void 0===f?u:o(f,u))-a,u-c),l=1;for(a<c&&c<a+s&&(l=-1,a+=s-1,c+=s-1);s-- >0;)a in r?r[c]=r[a]:delete r[c],c+=l,a+=l;return r}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,r){r(6)&&\"g\"!=/./g.flags&&r(7).f(RegExp.prototype,\"flags\",{configurable:!0,get:r(54)})},function(t,n,r){\"use strict\";var e=r(105);t.exports=r(56)(\"Map\",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var n=e.getEntry(this,t);return n&&n.v},set:function(t,n){return e.def(this,0===t?0:t,n)}},e,!0)},function(t,n,r){\"use strict\";var e=r(7).f,o=r(35),i=r(39),u=r(25),c=r(38),a=r(19),f=r(44),s=r(72),l=r(102),v=r(37),h=r(6),p=r(29).fastKey,d=h?\"_s\":\"size\",y=function(t,n){var r,e=p(n);if(\"F\"!==e)return t._i[e];for(r=t._f;r;r=r.n)if(r.k==n)return r};t.exports={getConstructor:function(t,n,r,s){var l=t(function(t,e){c(t,l,n,\"_i\"),t._i=o(null),t._f=void 0,t._l=void 0,t[d]=0,void 0!=e&&f(e,r,t[s],t)});return i(l.prototype,{clear:function(){for(var t=this,n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[d]=0},delete:function(t){var n=this,r=y(n,t);if(r){var e=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=e),e&&(e.p=o),n._f==r&&(n._f=e),n._l==r&&(n._l=o),n[d]--}return!!r},forEach:function(t){c(this,l,\"forEach\");for(var n,r=u(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!y(this,t)}}),h&&e(l.prototype,\"size\",{get:function(){return a(this[d])}}),l},def:function(t,n,r){var e,o,i=y(t,n);return i?i.v=r:(t._l=i={i:o=p(n,!0),k:n,v:r,p:e=t._l,n:void 0,r:!1},t._f||(t._f=i),e&&(e.n=i),t[d]++,\"F\"!==o&&(t._i[o]=i)),t},getEntry:y,setStrong:function(t,n,r){s(t,n,function(t,n){this._t=t,this._k=n,this._l=void 0},function(){for(var t=this,n=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?\"keys\"==n?l(0,r.k):\"values\"==n?l(0,r.v):l(0,[r.k,r.v]):(t._t=void 0,l(1))},r?\"entries\":\"values\",!r,!0),v(n)}}},function(t,n,r){\"use strict\";var e=r(105);t.exports=r(56)(\"Set\",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return e.def(this,t=0===t?0:t,t)}},e)},function(t,n,r){\"use strict\";var e,o=r(23)(0),i=r(12),u=r(29),c=r(91),a=r(108),f=r(4),s=u.getWeak,l=Object.isExtensible,v=a.ufstore,h={},p=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},d={get:function(t){if(f(t)){var n=s(t);return!0===n?v(this).get(t):n?n[this._i]:void 0}},set:function(t,n){return a.def(this,t,n)}},y=t.exports=r(56)(\"WeakMap\",p,d,a,!0,!0);7!=(new y).set((Object.freeze||Object)(h),7).get(h)&&(e=a.getConstructor(p),c(e.prototype,d),u.NEED=!0,o([\"delete\",\"has\",\"get\",\"set\"],function(t){var n=y.prototype,r=n[t];i(n,t,function(n,o){if(f(n)&&!l(n)){this._f||(this._f=new e);var i=this._f[t](n,o);return\"set\"==t?this:i}return r.call(this,n,o)})}))},function(t,n,r){\"use strict\";var e=r(39),o=r(29).getWeak,i=r(1),u=r(4),c=r(38),a=r(44),f=r(23),s=r(10),l=f(5),v=f(6),h=0,p=function(t){return t._l||(t._l=new d)},d=function(){this.a=[]},y=function(t,n){return l(t.a,function(t){return t[0]===n})};d.prototype={get:function(t){var n=y(this,t);if(n)return n[1]},has:function(t){return!!y(this,t)},set:function(t,n){var r=y(this,t);r?r[1]=n:this.a.push([t,n])},delete:function(t){var n=v(this.a,function(n){return n[0]===t});return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,r,i){var f=t(function(t,e){c(t,f,n,\"_i\"),t._i=h++,t._l=void 0,void 0!=e&&a(e,r,t[i],t)});return e(f.prototype,{delete:function(t){if(!u(t))return!1;var n=o(t);return!0===n?p(this).delete(t):n&&s(n,this._i)&&delete n[this._i]},has:function(t){if(!u(t))return!1;var n=o(t);return!0===n?p(this).has(t):n&&s(n,this._i)}}),f},def:function(t,n,r){var e=o(i(n),!0);return!0===e?p(t).set(n,r):e[t._i]=r,t},ufstore:p}},function(t,n,r){var e=r(36),o=r(50),i=r(1),u=r(2).Reflect;t.exports=u&&u.ownKeys||function(t){var n=e.f(i(t)),r=o.f;return r?n.concat(r(t)):n}},function(t,n,r){var e=r(8),o=r(68),i=r(19);t.exports=function(t,n,r,u){var c=String(i(t)),a=c.length,f=void 0===r?\" \":String(r),s=e(n);if(s<=a||\"\"==f)return c;var l=s-a,v=o.call(f,Math.ceil(l/f.length));return v.length>l&&(v=v.slice(0,l)),u?v+c:c+v}},function(t,n,r){var e=r(33),o=r(14),i=r(46).f;t.exports=function(t){return function(n){for(var r,u=o(n),c=e(u),a=c.length,f=0,s=[];a>f;)i.call(u,r=c[f++])&&s.push(t?[r,u[r]]:u[r]);return s}}},function(t,n,r){var e=r(47),o=r(113);t.exports=function(t){return function(){if(e(this)!=t)throw TypeError(t+\"#toJSON isn't generic\");return o(this)}}},function(t,n,r){var e=r(44);t.exports=function(t,n){var r=[];return e(t,!1,r.push,r,n),r}},function(t,n,r){r(115),t.exports=r(298)},function(t,n,r){\"use strict\";(function(t){function n(t,n,r){t[n]||Object[e](t,n,{writable:!0,configurable:!0,value:r})}if(r(116),r(294),r(295),t._babelPolyfill)throw new Error(\"only one instance of babel-polyfill is allowed\");t._babelPolyfill=!0;var e=\"defineProperty\";n(String.prototype,\"padLeft\",\"\".padStart),n(String.prototype,\"padRight\",\"\".padEnd),\"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill\".split(\",\").forEach(function(t){[][t]&&n(Array,t,Function.call.bind([][t]))})}).call(n,r(85))},function(t,n,r){r(117),r(120),r(121),r(122),r(123),r(124),r(125),r(126),r(127),r(128),r(129),r(130),r(131),r(132),r(133),r(134),r(135),r(136),r(137),r(138),r(139),r(140),r(141),r(142),r(143),r(144),r(145),r(146),r(147),r(148),r(149),r(150),r(151),r(152),r(153),r(154),r(155),r(156),r(157),r(158),r(159),r(160),r(161),r(162),r(163),r(164),r(165),r(166),r(167),r(168),r(169),r(170),r(171),r(172),r(173),r(174),r(175),r(176),r(177),r(178),r(179),r(180),r(181),r(182),r(183),r(184),r(185),r(186),r(187),r(188),r(189),r(190),r(191),r(192),r(193),r(194),r(195),r(196),r(197),r(199),r(200),r(201),r(202),r(203),r(204),r(205),r(208),r(209),r(210),r(211),r(212),r(213),r(214),r(215),r(216),r(217),r(218),r(219),r(220),r(80),r(221),r(222),r(103),r(223),r(224),r(225),r(226),r(227),r(104),r(106),r(107),r(228),r(229),r(230),r(231),r(232),r(233),r(234),r(235),r(236),r(237),r(238),r(239),r(240),r(241),r(242),r(243),r(244),r(245),r(246),r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(255),r(256),r(257),r(258),r(259),r(260),r(261),r(262),r(263),r(264),r(265),r(266),r(267),r(268),r(269),r(270),r(271),r(272),r(273),r(274),r(275),r(276),r(277),r(278),r(279),r(280),r(281),r(282),r(283),r(284),r(285),r(286),r(287),r(288),r(289),r(292),r(293),t.exports=r(24)},function(t,n,r){\"use strict\";var e=r(2),o=r(10),i=r(6),u=r(0),c=r(12),a=r(29).KEY,f=r(3),s=r(48),l=r(40),v=r(31),h=r(5),p=r(87),d=r(60),y=r(118),g=r(119),b=r(63),m=r(1),x=r(14),w=r(21),S=r(28),_=r(35),E=r(90),O=r(16),P=r(7),A=r(33),j=O.f,I=P.f,N=E.f,F=e.Symbol,R=e.JSON,M=R&&R.stringify,T=h(\"_hidden\"),k=h(\"toPrimitive\"),D={}.propertyIsEnumerable,L=s(\"symbol-registry\"),C=s(\"symbols\"),B=s(\"op-symbols\"),U=Object.prototype,W=\"function\"==typeof F,V=e.QObject,G=!V||!V.prototype||!V.prototype.findChild,Y=i&&f(function(){return 7!=_(I({},\"a\",{get:function(){return I(this,\"a\",{value:7}).a}})).a})?function(t,n,r){var e=j(U,n);e&&delete U[n],I(t,n,r),e&&t!==U&&I(U,n,e)}:I,z=function(t){var n=C[t]=_(F.prototype);return n._k=t,n},K=W&&\"symbol\"==typeof F.iterator?function(t){return\"symbol\"==typeof t}:function(t){return t instanceof F},J=function(t,n,r){return t===U&&J(B,n,r),m(t),n=w(n,!0),m(r),o(C,n)?(r.enumerable?(o(t,T)&&t[T][n]&&(t[T][n]=!1),r=_(r,{enumerable:S(0,!1)})):(o(t,T)||I(t,T,S(1,{})),t[T][n]=!0),Y(t,n,r)):I(t,n,r)},q=function(t,n){m(t);for(var r,e=g(n=x(n)),o=0,i=e.length;i>o;)J(t,r=e[o++],n[r]);return t},Q=function(t,n){return void 0===n?_(t):q(_(t),n)},X=function(t){var n=D.call(this,t=w(t,!0));return!(this===U&&o(C,t)&&!o(B,t))&&(!(n||!o(this,t)||!o(C,t)||o(this,T)&&this[T][t])||n)},$=function(t,n){if(t=x(t),n=w(n,!0),t!==U||!o(C,n)||o(B,n)){var r=j(t,n);return!r||!o(C,n)||o(t,T)&&t[T][n]||(r.enumerable=!0),r}},H=function(t){for(var n,r=N(x(t)),e=[],i=0;r.length>i;)o(C,n=r[i++])||n==T||n==a||e.push(n);return e},Z=function(t){for(var n,r=t===U,e=N(r?B:x(t)),i=[],u=0;e.length>u;)!o(C,n=e[u++])||r&&!o(U,n)||i.push(C[n]);return i};W||(F=function(){if(this instanceof F)throw TypeError(\"Symbol is not a constructor!\");var t=v(arguments.length>0?arguments[0]:void 0),n=function(r){this===U&&n.call(B,r),o(this,T)&&o(this[T],t)&&(this[T][t]=!1),Y(this,t,S(1,r))};return i&&G&&Y(U,t,{configurable:!0,set:n}),z(t)},c(F.prototype,\"toString\",function(){return this._k}),O.f=$,P.f=J,r(36).f=E.f=H,r(46).f=X,r(50).f=Z,i&&!r(32)&&c(U,\"propertyIsEnumerable\",X,!0),p.f=function(t){return z(h(t))}),u(u.G+u.W+u.F*!W,{Symbol:F});for(var tt=\"hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables\".split(\",\"),nt=0;tt.length>nt;)h(tt[nt++]);for(var tt=A(h.store),nt=0;tt.length>nt;)d(tt[nt++]);u(u.S+u.F*!W,\"Symbol\",{for:function(t){return o(L,t+=\"\")?L[t]:L[t]=F(t)},keyFor:function(t){if(K(t))return y(L,t);throw TypeError(t+\" is not a symbol!\")},useSetter:function(){G=!0},useSimple:function(){G=!1}}),u(u.S+u.F*!W,\"Object\",{create:Q,defineProperty:J,defineProperties:q,getOwnPropertyDescriptor:$,getOwnPropertyNames:H,getOwnPropertySymbols:Z}),R&&u(u.S+u.F*(!W||f(function(){var t=F();return\"[null]\"!=M([t])||\"{}\"!=M({a:t})||\"{}\"!=M(Object(t))})),\"JSON\",{stringify:function(t){if(void 0!==t&&!K(t)){for(var n,r,e=[t],o=1;arguments.length>o;)e.push(arguments[o++]);return n=e[1],\"function\"==typeof n&&(r=n),!r&&b(n)||(n=function(t,n){if(r&&(n=r.call(this,t,n)),!K(n))return n}),e[1]=n,M.apply(R,e)}}}),F.prototype[k]||r(11)(F.prototype,k,F.prototype.valueOf),l(F,\"Symbol\"),l(Math,\"Math\",!0),l(e.JSON,\"JSON\",!0)},function(t,n,r){var e=r(33),o=r(14);t.exports=function(t,n){for(var r,i=o(t),u=e(i),c=u.length,a=0;c>a;)if(i[r=u[a++]]===n)return r}},function(t,n,r){var e=r(33),o=r(50),i=r(46);t.exports=function(t){var n=e(t),r=o.f;if(r)for(var u,c=r(t),a=i.f,f=0;c.length>f;)a.call(t,u=c[f++])&&n.push(u);return n}},function(t,n,r){var e=r(0);e(e.S,\"Object\",{create:r(35)})},function(t,n,r){var e=r(0);e(e.S+e.F*!r(6),\"Object\",{defineProperty:r(7).f})},function(t,n,r){var e=r(0);e(e.S+e.F*!r(6),\"Object\",{defineProperties:r(89)})},function(t,n,r){var e=r(14),o=r(16).f;r(22)(\"getOwnPropertyDescriptor\",function(){return function(t,n){return o(e(t),n)}})},function(t,n,r){var e=r(9),o=r(17);r(22)(\"getPrototypeOf\",function(){return function(t){return o(e(t))}})},function(t,n,r){var e=r(9),o=r(33);r(22)(\"keys\",function(){return function(t){return o(e(t))}})},function(t,n,r){r(22)(\"getOwnPropertyNames\",function(){return r(90).f})},function(t,n,r){var e=r(4),o=r(29).onFreeze;r(22)(\"freeze\",function(t){return function(n){return t&&e(n)?t(o(n)):n}})},function(t,n,r){var e=r(4),o=r(29).onFreeze;r(22)(\"seal\",function(t){return function(n){return t&&e(n)?t(o(n)):n}})},function(t,n,r){var e=r(4),o=r(29).onFreeze;r(22)(\"preventExtensions\",function(t){return function(n){return t&&e(n)?t(o(n)):n}})},function(t,n,r){var e=r(4);r(22)(\"isFrozen\",function(t){return function(n){return!e(n)||!!t&&t(n)}})},function(t,n,r){var e=r(4);r(22)(\"isSealed\",function(t){return function(n){return!e(n)||!!t&&t(n)}})},function(t,n,r){var e=r(4);r(22)(\"isExtensible\",function(t){return function(n){return!!e(n)&&(!t||t(n))}})},function(t,n,r){var e=r(0);e(e.S+e.F,\"Object\",{assign:r(91)})},function(t,n,r){var e=r(0);e(e.S,\"Object\",{is:r(92)})},function(t,n,r){var e=r(0);e(e.S,\"Object\",{setPrototypeOf:r(65).set})},function(t,n,r){\"use strict\";var e=r(47),o={};o[r(5)(\"toStringTag\")]=\"z\",o+\"\"!=\"[object z]\"&&r(12)(Object.prototype,\"toString\",function(){return\"[object \"+e(this)+\"]\"},!0)},function(t,n,r){var e=r(0);e(e.P,\"Function\",{bind:r(93)})},function(t,n,r){var e=r(7).f,o=r(28),i=r(10),u=Function.prototype,c=/^\\s*function ([^ (]*)/,a=Object.isExtensible||function(){return!0};\"name\"in u||r(6)&&e(u,\"name\",{configurable:!0,get:function(){try{var t=this,n=(\"\"+t).match(c)[1];return i(t,\"name\")||!a(t)||e(t,\"name\",o(5,n)),n}catch(t){return\"\"}}})},function(t,n,r){\"use strict\";var e=r(4),o=r(17),i=r(5)(\"hasInstance\"),u=Function.prototype;i in u||r(7).f(u,i,{value:function(t){if(\"function\"!=typeof this||!e(t))return!1;if(!e(this.prototype))return t instanceof this;for(;t=o(t);)if(this.prototype===t)return!0;return!1}})},function(t,n,r){var e=r(0),o=r(94);e(e.G+e.F*(parseInt!=o),{parseInt:o})},function(t,n,r){var e=r(0),o=r(95);e(e.G+e.F*(parseFloat!=o),{parseFloat:o})},function(t,n,r){\"use strict\";var e=r(2),o=r(10),i=r(18),u=r(67),c=r(21),a=r(3),f=r(36).f,s=r(16).f,l=r(7).f,v=r(41).trim,h=e.Number,p=h,d=h.prototype,y=\"Number\"==i(r(35)(d)),g=\"trim\"in String.prototype,b=function(t){var n=c(t,!1);if(\"string\"==typeof n&&n.length>2){n=g?n.trim():v(n,3);var r,e,o,i=n.charCodeAt(0);if(43===i||45===i){if(88===(r=n.charCodeAt(2))||120===r)return NaN}else if(48===i){switch(n.charCodeAt(1)){case 66:case 98:e=2,o=49;break;case 79:case 111:e=8,o=55;break;default:return+n}for(var u,a=n.slice(2),f=0,s=a.length;f<s;f++)if((u=a.charCodeAt(f))<48||u>o)return NaN;return parseInt(a,e)}}return+n};if(!h(\" 0o1\")||!h(\"0b1\")||h(\"+0x1\")){h=function(t){var n=arguments.length<1?0:t,r=this;return r instanceof h&&(y?a(function(){d.valueOf.call(r)}):\"Number\"!=i(r))?u(new p(b(n)),r,h):b(n)};for(var m,x=r(6)?f(p):\"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger\".split(\",\"),w=0;x.length>w;w++)o(p,m=x[w])&&!o(h,m)&&l(h,m,s(p,m));h.prototype=d,d.constructor=h,r(12)(e,\"Number\",h)}},function(t,n,r){\"use strict\";var e=r(0),o=r(30),i=r(96),u=r(68),c=1..toFixed,a=Math.floor,f=[0,0,0,0,0,0],s=\"Number.toFixed: incorrect invocation!\",l=function(t,n){for(var r=-1,e=n;++r<6;)e+=t*f[r],f[r]=e%1e7,e=a(e/1e7)},v=function(t){for(var n=6,r=0;--n>=0;)r+=f[n],f[n]=a(r/t),r=r%t*1e7},h=function(){for(var t=6,n=\"\";--t>=0;)if(\"\"!==n||0===t||0!==f[t]){var r=String(f[t]);n=\"\"===n?r:n+u.call(\"0\",7-r.length)+r}return n},p=function(t,n,r){return 0===n?r:n%2==1?p(t,n-1,r*t):p(t*t,n/2,r)},d=function(t){for(var n=0,r=t;r>=4096;)n+=12,r/=4096;for(;r>=2;)n+=1,r/=2;return n};e(e.P+e.F*(!!c&&(\"0.000\"!==8e-5.toFixed(3)||\"1\"!==.9.toFixed(0)||\"1.25\"!==1.255.toFixed(2)||\"1000000000000000128\"!==(0xde0b6b3a7640080).toFixed(0))||!r(3)(function(){c.call({})})),\"Number\",{toFixed:function(t){var n,r,e,c,a=i(this,s),f=o(t),y=\"\",g=\"0\";if(f<0||f>20)throw RangeError(s);if(a!=a)return\"NaN\";if(a<=-1e21||a>=1e21)return String(a);if(a<0&&(y=\"-\",a=-a),a>1e-21)if(n=d(a*p(2,69,1))-69,r=n<0?a*p(2,-n,1):a/p(2,n,1),r*=4503599627370496,(n=52-n)>0){for(l(0,r),e=f;e>=7;)l(1e7,0),e-=7;for(l(p(10,e,1),0),e=n-1;e>=23;)v(1<<23),e-=23;v(1<<e),l(1,1),v(2),g=h()}else l(0,r),l(1<<-n,0),g=h()+u.call(\"0\",f);return f>0?(c=g.length,g=y+(c<=f?\"0.\"+u.call(\"0\",f-c)+g:g.slice(0,c-f)+\".\"+g.slice(c-f))):g=y+g,g}})},function(t,n,r){\"use strict\";var e=r(0),o=r(3),i=r(96),u=1..toPrecision;e(e.P+e.F*(o(function(){return\"1\"!==u.call(1,void 0)})||!o(function(){u.call({})})),\"Number\",{toPrecision:function(t){var n=i(this,\"Number#toPrecision: incorrect invocation!\");return void 0===t?u.call(n):u.call(n,t)}})},function(t,n,r){var e=r(0);e(e.S,\"Number\",{EPSILON:Math.pow(2,-52)})},function(t,n,r){var e=r(0),o=r(2).isFinite;e(e.S,\"Number\",{isFinite:function(t){return\"number\"==typeof t&&o(t)}})},function(t,n,r){var e=r(0);e(e.S,\"Number\",{isInteger:r(97)})},function(t,n,r){var e=r(0);e(e.S,\"Number\",{isNaN:function(t){return t!=t}})},function(t,n,r){var e=r(0),o=r(97),i=Math.abs;e(e.S,\"Number\",{isSafeInteger:function(t){return o(t)&&i(t)<=9007199254740991}})},function(t,n,r){var e=r(0);e(e.S,\"Number\",{MAX_SAFE_INTEGER:9007199254740991})},function(t,n,r){var e=r(0);e(e.S,\"Number\",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,n,r){var e=r(0),o=r(95);e(e.S+e.F*(Number.parseFloat!=o),\"Number\",{parseFloat:o})},function(t,n,r){var e=r(0),o=r(94);e(e.S+e.F*(Number.parseInt!=o),\"Number\",{parseInt:o})},function(t,n,r){var e=r(0),o=r(98),i=Math.sqrt,u=Math.acosh;e(e.S+e.F*!(u&&710==Math.floor(u(Number.MAX_VALUE))&&u(1/0)==1/0),\"Math\",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:o(t-1+i(t-1)*i(t+1))}})},function(t,n,r){function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}var o=r(0),i=Math.asinh;o(o.S+o.F*!(i&&1/i(0)>0),\"Math\",{asinh:e})},function(t,n,r){var e=r(0),o=Math.atanh;e(e.S+e.F*!(o&&1/o(-0)<0),\"Math\",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,n,r){var e=r(0),o=r(69);e(e.S,\"Math\",{cbrt:function(t){return o(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,n,r){var e=r(0);e(e.S,\"Math\",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,n,r){var e=r(0),o=Math.exp;e(e.S,\"Math\",{cosh:function(t){return(o(t=+t)+o(-t))/2}})},function(t,n,r){var e=r(0),o=r(70);e(e.S+e.F*(o!=Math.expm1),\"Math\",{expm1:o})},function(t,n,r){var e=r(0),o=r(69),i=Math.pow,u=i(2,-52),c=i(2,-23),a=i(2,127)*(2-c),f=i(2,-126),s=function(t){return t+1/u-1/u};e(e.S,\"Math\",{fround:function(t){var n,r,e=Math.abs(t),i=o(t);return e<f?i*s(e/f/c)*f*c:(n=(1+c/u)*e,r=n-(n-e),r>a||r!=r?i*(1/0):i*r)}})},function(t,n,r){var e=r(0),o=Math.abs;e(e.S,\"Math\",{hypot:function(t,n){for(var r,e,i=0,u=0,c=arguments.length,a=0;u<c;)r=o(arguments[u++]),a<r?(e=a/r,i=i*e*e+1,a=r):r>0?(e=r/a,i+=e*e):i+=r;return a===1/0?1/0:a*Math.sqrt(i)}})},function(t,n,r){var e=r(0),o=Math.imul;e(e.S+e.F*r(3)(function(){return-5!=o(4294967295,5)||2!=o.length}),\"Math\",{imul:function(t,n){var r=+t,e=+n,o=65535&r,i=65535&e;return 0|o*i+((65535&r>>>16)*i+o*(65535&e>>>16)<<16>>>0)}})},function(t,n,r){var e=r(0);e(e.S,\"Math\",{log10:function(t){return Math.log(t)/Math.LN10}})},function(t,n,r){var e=r(0);e(e.S,\"Math\",{log1p:r(98)})},function(t,n,r){var e=r(0);e(e.S,\"Math\",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,n,r){var e=r(0);e(e.S,\"Math\",{sign:r(69)})},function(t,n,r){var e=r(0),o=r(70),i=Math.exp;e(e.S+e.F*r(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),\"Math\",{sinh:function(t){return Math.abs(t=+t)<1?(o(t)-o(-t))/2:(i(t-1)-i(-t-1))*(Math.E/2)}})},function(t,n,r){var e=r(0),o=r(70),i=Math.exp;e(e.S,\"Math\",{tanh:function(t){var n=o(t=+t),r=o(-t);return n==1/0?1:r==1/0?-1:(n-r)/(i(t)+i(-t))}})},function(t,n,r){var e=r(0);e(e.S,\"Math\",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,n,r){var e=r(0),o=r(34),i=String.fromCharCode,u=String.fromCodePoint;e(e.S+e.F*(!!u&&1!=u.length),\"String\",{fromCodePoint:function(t){for(var n,r=[],e=arguments.length,u=0;e>u;){if(n=+arguments[u++],o(n,1114111)!==n)throw RangeError(n+\" is not a valid code point\");r.push(n<65536?i(n):i(55296+((n-=65536)>>10),n%1024+56320))}return r.join(\"\")}})},function(t,n,r){var e=r(0),o=r(14),i=r(8);e(e.S,\"String\",{raw:function(t){for(var n=o(t.raw),r=i(n.length),e=arguments.length,u=[],c=0;r>c;)u.push(String(n[c++])),c<e&&u.push(String(arguments[c]));return u.join(\"\")}})},function(t,n,r){\"use strict\";r(41)(\"trim\",function(t){return function(){return t(this,3)}})},function(t,n,r){\"use strict\";var e=r(71)(!0);r(72)(String,\"String\",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})})},function(t,n,r){\"use strict\";var e=r(0),o=r(71)(!1);e(e.P,\"String\",{codePointAt:function(t){return o(this,t)}})},function(t,n,r){\"use strict\";var e=r(0),o=r(8),i=r(74),u=\"\".endsWith;e(e.P+e.F*r(75)(\"endsWith\"),\"String\",{endsWith:function(t){var n=i(this,t,\"endsWith\"),r=arguments.length>1?arguments[1]:void 0,e=o(n.length),c=void 0===r?e:Math.min(o(r),e),a=String(t);return u?u.call(n,a,c):n.slice(c-a.length,c)===a}})},function(t,n,r){\"use strict\";var e=r(0),o=r(74);e(e.P+e.F*r(75)(\"includes\"),\"String\",{includes:function(t){return!!~o(this,t,\"includes\").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,n,r){var e=r(0);e(e.P,\"String\",{repeat:r(68)})},function(t,n,r){\"use strict\";var e=r(0),o=r(8),i=r(74),u=\"\".startsWith;e(e.P+e.F*r(75)(\"startsWith\"),\"String\",{startsWith:function(t){var n=i(this,t,\"startsWith\"),r=o(Math.min(arguments.length>1?arguments[1]:void 0,n.length)),e=String(t);return u?u.call(n,e,r):n.slice(r,r+e.length)===e}})},function(t,n,r){\"use strict\";r(15)(\"anchor\",function(t){return function(n){return t(this,\"a\",\"name\",n)}})},function(t,n,r){\"use strict\";r(15)(\"big\",function(t){return function(){return t(this,\"big\",\"\",\"\")}})},function(t,n,r){\"use strict\";r(15)(\"blink\",function(t){return function(){return t(this,\"blink\",\"\",\"\")}})},function(t,n,r){\"use strict\";r(15)(\"bold\",function(t){return function(){return t(this,\"b\",\"\",\"\")}})},function(t,n,r){\"use strict\";r(15)(\"fixed\",function(t){return function(){return t(this,\"tt\",\"\",\"\")}})},function(t,n,r){\"use strict\";r(15)(\"fontcolor\",function(t){return function(n){return t(this,\"font\",\"color\",n)}})},function(t,n,r){\"use strict\";r(15)(\"fontsize\",function(t){return function(n){return t(this,\"font\",\"size\",n)}})},function(t,n,r){\"use strict\";r(15)(\"italics\",function(t){return function(){return t(this,\"i\",\"\",\"\")}})},function(t,n,r){\"use strict\";r(15)(\"link\",function(t){return function(n){return t(this,\"a\",\"href\",n)}})},function(t,n,r){\"use strict\";r(15)(\"small\",function(t){return function(){return t(this,\"small\",\"\",\"\")}})},function(t,n,r){\"use strict\";r(15)(\"strike\",function(t){return function(){return t(this,\"strike\",\"\",\"\")}})},function(t,n,r){\"use strict\";r(15)(\"sub\",function(t){return function(){return t(this,\"sub\",\"\",\"\")}})},function(t,n,r){\"use strict\";r(15)(\"sup\",function(t){return function(){return t(this,\"sup\",\"\",\"\")}})},function(t,n,r){var e=r(0);e(e.S,\"Date\",{now:function(){return(new Date).getTime()}})},function(t,n,r){\"use strict\";var e=r(0),o=r(9),i=r(21);e(e.P+e.F*r(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),\"Date\",{toJSON:function(t){var n=o(this),r=i(n);return\"number\"!=typeof r||isFinite(r)?n.toISOString():null}})},function(t,n,r){\"use strict\";var e=r(0),o=r(3),i=Date.prototype.getTime,u=function(t){return t>9?t:\"0\"+t};e(e.P+e.F*(o(function(){return\"0385-07-25T07:06:39.999Z\"!=new Date(-5e13-1).toISOString()})||!o(function(){new Date(NaN).toISOString()})),\"Date\",{toISOString:function(){if(!isFinite(i.call(this)))throw RangeError(\"Invalid time value\");var t=this,n=t.getUTCFullYear(),r=t.getUTCMilliseconds(),e=n<0?\"-\":n>9999?\"+\":\"\";return e+(\"00000\"+Math.abs(n)).slice(e?-6:-4)+\"-\"+u(t.getUTCMonth()+1)+\"-\"+u(t.getUTCDate())+\"T\"+u(t.getUTCHours())+\":\"+u(t.getUTCMinutes())+\":\"+u(t.getUTCSeconds())+\".\"+(r>99?r:\"0\"+u(r))+\"Z\"}})},function(t,n,r){var e=Date.prototype,o=e.toString,i=e.getTime;new Date(NaN)+\"\"!=\"Invalid Date\"&&r(12)(e,\"toString\",function(){var t=i.call(this);return t===t?o.call(this):\"Invalid Date\"})},function(t,n,r){var e=r(5)(\"toPrimitive\"),o=Date.prototype;e in o||r(11)(o,e,r(198))},function(t,n,r){\"use strict\";var e=r(1),o=r(21);t.exports=function(t){if(\"string\"!==t&&\"number\"!==t&&\"default\"!==t)throw TypeError(\"Incorrect hint\");return o(e(this),\"number\"!=t)}},function(t,n,r){var e=r(0);e(e.S,\"Array\",{isArray:r(63)})},function(t,n,r){\"use strict\";var e=r(25),o=r(0),i=r(9),u=r(99),c=r(76),a=r(8),f=r(77),s=r(78);o(o.S+o.F*!r(53)(function(t){Array.from(t)}),\"Array\",{from:function(t){var n,r,o,l,v=i(t),h=\"function\"==typeof this?this:Array,p=arguments.length,d=p>1?arguments[1]:void 0,y=void 0!==d,g=0,b=s(v);if(y&&(d=e(d,p>2?arguments[2]:void 0,2)),void 0==b||h==Array&&c(b))for(n=a(v.length),r=new h(n);n>g;g++)f(r,g,y?d(v[g],g):v[g]);else for(l=b.call(v),r=new h;!(o=l.next()).done;g++)f(r,g,y?u(l,d,[o.value,g],!0):o.value);return r.length=g,r}})},function(t,n,r){\"use strict\";var e=r(0),o=r(77);e(e.S+e.F*r(3)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),\"Array\",{of:function(){for(var t=0,n=arguments.length,r=new(\"function\"==typeof this?this:Array)(n);n>t;)o(r,t,arguments[t++]);return r.length=n,r}})},function(t,n,r){\"use strict\";var e=r(0),o=r(14),i=[].join;e(e.P+e.F*(r(45)!=Object||!r(20)(i)),\"Array\",{join:function(t){return i.call(o(this),void 0===t?\",\":t)}})},function(t,n,r){\"use strict\";var e=r(0),o=r(64),i=r(18),u=r(34),c=r(8),a=[].slice;e(e.P+e.F*r(3)(function(){o&&a.call(o)}),\"Array\",{slice:function(t,n){var r=c(this.length),e=i(this);if(n=void 0===n?r:n,\"Array\"==e)return a.call(this,t,n);for(var o=u(t,r),f=u(n,r),s=c(f-o),l=Array(s),v=0;v<s;v++)l[v]=\"String\"==e?this.charAt(o+v):this[o+v];return l}})},function(t,n,r){\"use strict\";var e=r(0),o=r(13),i=r(9),u=r(3),c=[].sort,a=[1,2,3];e(e.P+e.F*(u(function(){a.sort(void 0)})||!u(function(){a.sort(null)})||!r(20)(c)),\"Array\",{sort:function(t){return void 0===t?c.call(i(this)):c.call(i(this),o(t))}})},function(t,n,r){\"use strict\";var e=r(0),o=r(23)(0),i=r(20)([].forEach,!0);e(e.P+e.F*!i,\"Array\",{forEach:function(t){return o(this,t,arguments[1])}})},function(t,n,r){var e=r(207);t.exports=function(t,n){return new(e(t))(n)}},function(t,n,r){var e=r(4),o=r(63),i=r(5)(\"species\");t.exports=function(t){var n;return o(t)&&(n=t.constructor,\"function\"!=typeof n||n!==Array&&!o(n.prototype)||(n=void 0),e(n)&&null===(n=n[i])&&(n=void 0)),void 0===n?Array:n}},function(t,n,r){\"use strict\";var e=r(0),o=r(23)(1);e(e.P+e.F*!r(20)([].map,!0),\"Array\",{map:function(t){return o(this,t,arguments[1])}})},function(t,n,r){\"use strict\";var e=r(0),o=r(23)(2);e(e.P+e.F*!r(20)([].filter,!0),\"Array\",{filter:function(t){return o(this,t,arguments[1])}})},function(t,n,r){\"use strict\";var e=r(0),o=r(23)(3);e(e.P+e.F*!r(20)([].some,!0),\"Array\",{some:function(t){return o(this,t,arguments[1])}})},function(t,n,r){\"use strict\";var e=r(0),o=r(23)(4);e(e.P+e.F*!r(20)([].every,!0),\"Array\",{every:function(t){return o(this,t,arguments[1])}})},function(t,n,r){\"use strict\";var e=r(0),o=r(100);e(e.P+e.F*!r(20)([].reduce,!0),\"Array\",{reduce:function(t){return o(this,t,arguments.length,arguments[1],!1)}})},function(t,n,r){\"use strict\";var e=r(0),o=r(100);e(e.P+e.F*!r(20)([].reduceRight,!0),\"Array\",{reduceRight:function(t){return o(this,t,arguments.length,arguments[1],!0)}})},function(t,n,r){\"use strict\";var e=r(0),o=r(49)(!1),i=[].indexOf,u=!!i&&1/[1].indexOf(1,-0)<0;e(e.P+e.F*(u||!r(20)(i)),\"Array\",{indexOf:function(t){return u?i.apply(this,arguments)||0:o(this,t,arguments[1])}})},function(t,n,r){\"use strict\";var e=r(0),o=r(14),i=r(30),u=r(8),c=[].lastIndexOf,a=!!c&&1/[1].lastIndexOf(1,-0)<0;e(e.P+e.F*(a||!r(20)(c)),\"Array\",{lastIndexOf:function(t){if(a)return c.apply(this,arguments)||0;var n=o(this),r=u(n.length),e=r-1;for(arguments.length>1&&(e=Math.min(e,i(arguments[1]))),e<0&&(e=r+e);e>=0;e--)if(e in n&&n[e]===t)return e||0;return-1}})},function(t,n,r){var e=r(0);e(e.P,\"Array\",{copyWithin:r(101)}),r(43)(\"copyWithin\")},function(t,n,r){var e=r(0);e(e.P,\"Array\",{fill:r(79)}),r(43)(\"fill\")},function(t,n,r){\"use strict\";var e=r(0),o=r(23)(5),i=!0;\"find\"in[]&&Array(1).find(function(){i=!1}),e(e.P+e.F*i,\"Array\",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),r(43)(\"find\")},function(t,n,r){\"use strict\";var e=r(0),o=r(23)(6),i=\"findIndex\",u=!0;i in[]&&Array(1)[i](function(){u=!1}),e(e.P+e.F*u,\"Array\",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),r(43)(i)},function(t,n,r){r(37)(\"Array\")},function(t,n,r){var e=r(2),o=r(67),i=r(7).f,u=r(36).f,c=r(52),a=r(54),f=e.RegExp,s=f,l=f.prototype,v=/a/g,h=/a/g,p=new f(v)!==v;if(r(6)&&(!p||r(3)(function(){return h[r(5)(\"match\")]=!1,f(v)!=v||f(h)==h||\"/a/i\"!=f(v,\"i\")}))){f=function(t,n){var r=this instanceof f,e=c(t),i=void 0===n;return!r&&e&&t.constructor===f&&i?t:o(p?new s(e&&!i?t.source:t,n):s((e=t instanceof f)?t.source:t,e&&i?a.call(t):n),r?this:l,f)};for(var d=u(s),y=0;d.length>y;)!function(t){t in f||i(f,t,{configurable:!0,get:function(){return s[t]},set:function(n){s[t]=n}})}(d[y++]);l.constructor=f,f.prototype=l,r(12)(e,\"RegExp\",f)}r(37)(\"RegExp\")},function(t,n,r){\"use strict\";r(103);var e=r(1),o=r(54),i=r(6),u=/./.toString,c=function(t){r(12)(RegExp.prototype,\"toString\",t,!0)};r(3)(function(){return\"/a/b\"!=u.call({source:\"a\",flags:\"b\"})})?c(function(){var t=e(this);return\"/\".concat(t.source,\"/\",\"flags\"in t?t.flags:!i&&t instanceof RegExp?o.call(t):void 0)}):\"toString\"!=u.name&&c(function(){return u.call(this)})},function(t,n,r){r(55)(\"match\",1,function(t,n,r){return[function(r){\"use strict\";var e=t(this),o=void 0==r?void 0:r[n];return void 0!==o?o.call(r,e):new RegExp(r)[n](String(e))},r]})},function(t,n,r){r(55)(\"replace\",2,function(t,n,r){return[function(e,o){\"use strict\";var i=t(this),u=void 0==e?void 0:e[n];return void 0!==u?u.call(e,i,o):r.call(String(i),e,o)},r]})},function(t,n,r){r(55)(\"search\",1,function(t,n,r){return[function(r){\"use strict\";var e=t(this),o=void 0==r?void 0:r[n];return void 0!==o?o.call(r,e):new RegExp(r)[n](String(e))},r]})},function(t,n,r){r(55)(\"split\",2,function(t,n,e){\"use strict\";var o=r(52),i=e,u=[].push,c=\"length\";if(\"c\"==\"abbc\".split(/(b)*/)[1]||4!=\"test\".split(/(?:)/,-1)[c]||2!=\"ab\".split(/(?:ab)*/)[c]||4!=\".\".split(/(.?)(.?)/)[c]||\".\".split(/()()/)[c]>1||\"\".split(/.?/)[c]){var a=void 0===/()??/.exec(\"\")[1];e=function(t,n){var r=String(this);if(void 0===t&&0===n)return[];if(!o(t))return i.call(r,t,n);var e,f,s,l,v,h=[],p=(t.ignoreCase?\"i\":\"\")+(t.multiline?\"m\":\"\")+(t.unicode?\"u\":\"\")+(t.sticky?\"y\":\"\"),d=0,y=void 0===n?4294967295:n>>>0,g=new RegExp(t.source,p+\"g\");for(a||(e=new RegExp(\"^\"+g.source+\"$(?!\\\\s)\",p));(f=g.exec(r))&&!((s=f.index+f[0][c])>d&&(h.push(r.slice(d,f.index)),!a&&f[c]>1&&f[0].replace(e,function(){for(v=1;v<arguments[c]-2;v++)void 0===arguments[v]&&(f[v]=void 0)}),f[c]>1&&f.index<r[c]&&u.apply(h,f.slice(1)),l=f[0][c],d=s,h[c]>=y));)g.lastIndex===f.index&&g.lastIndex++;return d===r[c]?!l&&g.test(\"\")||h.push(\"\"):h.push(r.slice(d)),h[c]>y?h.slice(0,y):h}}else\"0\".split(void 0,0)[c]&&(e=function(t,n){return void 0===t&&0===n?[]:i.call(this,t,n)});return[function(r,o){var i=t(this),u=void 0==r?void 0:r[n];return void 0!==u?u.call(r,i,o):e.call(String(i),r,o)},e]})},function(t,n,r){\"use strict\";var e,o,i,u=r(32),c=r(2),a=r(25),f=r(47),s=r(0),l=r(4),v=r(13),h=r(38),p=r(44),d=r(81),y=r(82).set,g=r(83)(),b=c.TypeError,m=c.process,x=c.Promise,m=c.process,w=\"process\"==f(m),S=function(){},_=!!function(){try{var t=x.resolve(1),n=(t.constructor={})[r(5)(\"species\")]=function(t){t(S,S)};return(w||\"function\"==typeof PromiseRejectionEvent)&&t.then(S)instanceof n}catch(t){}}(),E=function(t,n){return t===n||t===x&&n===i},O=function(t){var n;return!(!l(t)||\"function\"!=typeof(n=t.then))&&n},P=function(t){return E(x,t)?new A(t):new o(t)},A=o=function(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw b(\"Bad Promise constructor\");n=t,r=e}),this.resolve=v(n),this.reject=v(r)},j=function(t){try{t()}catch(t){return{error:t}}},I=function(t,n){if(!t._n){t._n=!0;var r=t._c;g(function(){for(var e=t._v,o=1==t._s,i=0;r.length>i;)!function(n){var r,i,u=o?n.ok:n.fail,c=n.resolve,a=n.reject,f=n.domain;try{u?(o||(2==t._h&&R(t),t._h=1),!0===u?r=e:(f&&f.enter(),r=u(e),f&&f.exit()),r===n.promise?a(b(\"Promise-chain cycle\")):(i=O(r))?i.call(r,c,a):c(r)):a(e)}catch(t){a(t)}}(r[i++]);t._c=[],t._n=!1,n&&!t._h&&N(t)})}},N=function(t){y.call(c,function(){var n,r,e,o=t._v;if(F(t)&&(n=j(function(){w?m.emit(\"unhandledRejection\",o,t):(r=c.onunhandledrejection)?r({promise:t,reason:o}):(e=c.console)&&e.error&&e.error(\"Unhandled promise rejection\",o)}),t._h=w||F(t)?2:1),t._a=void 0,n)throw n.error})},F=function(t){if(1==t._h)return!1;for(var n,r=t._a||t._c,e=0;r.length>e;)if(n=r[e++],n.fail||!F(n.promise))return!1;return!0},R=function(t){y.call(c,function(){var n;w?m.emit(\"rejectionHandled\",t):(n=c.onrejectionhandled)&&n({promise:t,reason:t._v})})},M=function(t){var n=this;n._d||(n._d=!0,n=n._w||n,n._v=t,n._s=2,n._a||(n._a=n._c.slice()),I(n,!0))},T=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw b(\"Promise can't be resolved itself\");(n=O(t))?g(function(){var e={_w:r,_d:!1};try{n.call(t,a(T,e,1),a(M,e,1))}catch(t){M.call(e,t)}}):(r._v=t,r._s=1,I(r,!1))}catch(t){M.call({_w:r,_d:!1},t)}}};_||(x=function(t){h(this,x,\"Promise\",\"_h\"),v(t),e.call(this);try{t(a(T,this,1),a(M,this,1))}catch(t){M.call(this,t)}},e=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},e.prototype=r(39)(x.prototype,{then:function(t,n){var r=P(d(this,x));return r.ok=\"function\"!=typeof t||t,r.fail=\"function\"==typeof n&&n,r.domain=w?m.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&I(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),A=function(){var t=new e;this.promise=t,this.resolve=a(T,t,1),this.reject=a(M,t,1)}),s(s.G+s.W+s.F*!_,{Promise:x}),r(40)(x,\"Promise\"),r(37)(\"Promise\"),i=r(24).Promise,s(s.S+s.F*!_,\"Promise\",{reject:function(t){var n=P(this);return(0,n.reject)(t),n.promise}}),s(s.S+s.F*(u||!_),\"Promise\",{resolve:function(t){if(t instanceof x&&E(t.constructor,this))return t;var n=P(this);return(0,n.resolve)(t),n.promise}}),s(s.S+s.F*!(_&&r(53)(function(t){x.all(t).catch(S)})),\"Promise\",{all:function(t){var n=this,r=P(n),e=r.resolve,o=r.reject,i=j(function(){var r=[],i=0,u=1;p(t,!1,function(t){var c=i++,a=!1;r.push(void 0),u++,n.resolve(t).then(function(t){a||(a=!0,r[c]=t,--u||e(r))},o)}),--u||e(r)});return i&&o(i.error),r.promise},race:function(t){var n=this,r=P(n),e=r.reject,o=j(function(){p(t,!1,function(t){n.resolve(t).then(r.resolve,e)})});return o&&e(o.error),r.promise}})},function(t,n,r){\"use strict\";var e=r(108);r(56)(\"WeakSet\",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return e.def(this,t,!0)}},e,!1,!0)},function(t,n,r){\"use strict\";var e=r(0),o=r(57),i=r(84),u=r(1),c=r(34),a=r(8),f=r(4),s=r(2).ArrayBuffer,l=r(81),v=i.ArrayBuffer,h=i.DataView,p=o.ABV&&s.isView,d=v.prototype.slice,y=o.VIEW;e(e.G+e.W+e.F*(s!==v),{ArrayBuffer:v}),e(e.S+e.F*!o.CONSTR,\"ArrayBuffer\",{isView:function(t){return p&&p(t)||f(t)&&y in t}}),e(e.P+e.U+e.F*r(3)(function(){return!new v(2).slice(1,void 0).byteLength}),\"ArrayBuffer\",{slice:function(t,n){if(void 0!==d&&void 0===n)return d.call(u(this),t);for(var r=u(this).byteLength,e=c(t,r),o=c(void 0===n?r:n,r),i=new(l(this,v))(a(o-e)),f=new h(this),s=new h(i),p=0;e<o;)s.setUint8(p++,f.getUint8(e++));return i}}),r(37)(\"ArrayBuffer\")},function(t,n,r){var e=r(0);e(e.G+e.W+e.F*!r(57).ABV,{DataView:r(84).DataView})},function(t,n,r){r(26)(\"Int8\",1,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(26)(\"Uint8\",1,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(26)(\"Uint8\",1,function(t){return function(n,r,e){return t(this,n,r,e)}},!0)},function(t,n,r){r(26)(\"Int16\",2,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(26)(\"Uint16\",2,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(26)(\"Int32\",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(26)(\"Uint32\",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(26)(\"Float32\",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(26)(\"Float64\",8,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){var e=r(0),o=r(13),i=r(1),u=(r(2).Reflect||{}).apply,c=Function.apply;e(e.S+e.F*!r(3)(function(){u(function(){})}),\"Reflect\",{apply:function(t,n,r){var e=o(t),a=i(r);return u?u(e,n,a):c.call(e,n,a)}})},function(t,n,r){var e=r(0),o=r(35),i=r(13),u=r(1),c=r(4),a=r(3),f=r(93),s=(r(2).Reflect||{}).construct,l=a(function(){function t(){}return!(s(function(){},[],t)instanceof t)}),v=!a(function(){s(function(){})});e(e.S+e.F*(l||v),\"Reflect\",{construct:function(t,n){i(t),u(n);var r=arguments.length<3?t:i(arguments[2]);if(v&&!l)return s(t,n,r);if(t==r){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var e=[null];return e.push.apply(e,n),new(f.apply(t,e))}var a=r.prototype,h=o(c(a)?a:Object.prototype),p=Function.apply.call(t,h,n);return c(p)?p:h}})},function(t,n,r){var e=r(7),o=r(0),i=r(1),u=r(21);o(o.S+o.F*r(3)(function(){Reflect.defineProperty(e.f({},1,{value:1}),1,{value:2})}),\"Reflect\",{defineProperty:function(t,n,r){i(t),n=u(n,!0),i(r);try{return e.f(t,n,r),!0}catch(t){return!1}}})},function(t,n,r){var e=r(0),o=r(16).f,i=r(1);e(e.S,\"Reflect\",{deleteProperty:function(t,n){var r=o(i(t),n);return!(r&&!r.configurable)&&delete t[n]}})},function(t,n,r){\"use strict\";var e=r(0),o=r(1),i=function(t){this._t=o(t),this._i=0;var n,r=this._k=[];for(n in t)r.push(n)};r(73)(i,\"Object\",function(){var t,n=this,r=n._k;do{if(n._i>=r.length)return{value:void 0,done:!0}}while(!((t=r[n._i++])in n._t));return{value:t,done:!1}}),e(e.S,\"Reflect\",{enumerate:function(t){return new i(t)}})},function(t,n,r){function e(t,n){var r,c,s=arguments.length<3?t:arguments[2];return f(t)===s?t[n]:(r=o.f(t,n))?u(r,\"value\")?r.value:void 0!==r.get?r.get.call(s):void 0:a(c=i(t))?e(c,n,s):void 0}var o=r(16),i=r(17),u=r(10),c=r(0),a=r(4),f=r(1);c(c.S,\"Reflect\",{get:e})},function(t,n,r){var e=r(16),o=r(0),i=r(1);o(o.S,\"Reflect\",{getOwnPropertyDescriptor:function(t,n){return e.f(i(t),n)}})},function(t,n,r){var e=r(0),o=r(17),i=r(1);e(e.S,\"Reflect\",{getPrototypeOf:function(t){return o(i(t))}})},function(t,n,r){var e=r(0);e(e.S,\"Reflect\",{has:function(t,n){return n in t}})},function(t,n,r){var e=r(0),o=r(1),i=Object.isExtensible;e(e.S,\"Reflect\",{isExtensible:function(t){return o(t),!i||i(t)}})},function(t,n,r){var e=r(0);e(e.S,\"Reflect\",{ownKeys:r(109)})},function(t,n,r){var e=r(0),o=r(1),i=Object.preventExtensions;e(e.S,\"Reflect\",{preventExtensions:function(t){o(t);try{return i&&i(t),!0}catch(t){return!1}}})},function(t,n,r){function e(t,n,r){var a,v,h=arguments.length<4?t:arguments[3],p=i.f(s(t),n);if(!p){if(l(v=u(t)))return e(v,n,r,h);p=f(0)}return c(p,\"value\")?!(!1===p.writable||!l(h))&&(a=i.f(h,n)||f(0),a.value=r,o.f(h,n,a),!0):void 0!==p.set&&(p.set.call(h,r),!0)}var o=r(7),i=r(16),u=r(17),c=r(10),a=r(0),f=r(28),s=r(1),l=r(4);a(a.S,\"Reflect\",{set:e})},function(t,n,r){var e=r(0),o=r(65);o&&e(e.S,\"Reflect\",{setPrototypeOf:function(t,n){o.check(t,n);try{return o.set(t,n),!0}catch(t){return!1}}})},function(t,n,r){\"use strict\";var e=r(0),o=r(49)(!0);e(e.P,\"Array\",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),r(43)(\"includes\")},function(t,n,r){\"use strict\";var e=r(0),o=r(71)(!0);e(e.P,\"String\",{at:function(t){return o(this,t)}})},function(t,n,r){\"use strict\";var e=r(0),o=r(110);e(e.P,\"String\",{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,n,r){\"use strict\";var e=r(0),o=r(110);e(e.P,\"String\",{padEnd:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,n,r){\"use strict\";r(41)(\"trimLeft\",function(t){return function(){return t(this,1)}},\"trimStart\")},function(t,n,r){\"use strict\";r(41)(\"trimRight\",function(t){return function(){return t(this,2)}},\"trimEnd\")},function(t,n,r){\"use strict\";var e=r(0),o=r(19),i=r(8),u=r(52),c=r(54),a=RegExp.prototype,f=function(t,n){this._r=t,this._s=n};r(73)(f,\"RegExp String\",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),e(e.P,\"String\",{matchAll:function(t){if(o(this),!u(t))throw TypeError(t+\" is not a regexp!\");var n=String(this),r=\"flags\"in a?String(t.flags):c.call(t),e=new RegExp(t.source,~r.indexOf(\"g\")?r:\"g\"+r);return e.lastIndex=i(t.lastIndex),new f(e,n)}})},function(t,n,r){r(60)(\"asyncIterator\")},function(t,n,r){r(60)(\"observable\")},function(t,n,r){var e=r(0),o=r(109),i=r(14),u=r(16),c=r(77);e(e.S,\"Object\",{getOwnPropertyDescriptors:function(t){for(var n,r=i(t),e=u.f,a=o(r),f={},s=0;a.length>s;)c(f,n=a[s++],e(r,n));return f}})},function(t,n,r){var e=r(0),o=r(111)(!1);e(e.S,\"Object\",{values:function(t){return o(t)}})},function(t,n,r){var e=r(0),o=r(111)(!0);e(e.S,\"Object\",{entries:function(t){return o(t)}})},function(t,n,r){\"use strict\";var e=r(0),o=r(9),i=r(13),u=r(7);r(6)&&e(e.P+r(58),\"Object\",{__defineGetter__:function(t,n){u.f(o(this),t,{get:i(n),enumerable:!0,configurable:!0})}})},function(t,n,r){\"use strict\";var e=r(0),o=r(9),i=r(13),u=r(7);r(6)&&e(e.P+r(58),\"Object\",{__defineSetter__:function(t,n){u.f(o(this),t,{set:i(n),enumerable:!0,configurable:!0})}})},function(t,n,r){\"use strict\";var e=r(0),o=r(9),i=r(21),u=r(17),c=r(16).f;r(6)&&e(e.P+r(58),\"Object\",{__lookupGetter__:function(t){var n,r=o(this),e=i(t,!0);do{if(n=c(r,e))return n.get}while(r=u(r))}})},function(t,n,r){\"use strict\";var e=r(0),o=r(9),i=r(21),u=r(17),c=r(16).f;r(6)&&e(e.P+r(58),\"Object\",{__lookupSetter__:function(t){var n,r=o(this),e=i(t,!0);do{if(n=c(r,e))return n.set}while(r=u(r))}})},function(t,n,r){var e=r(0);e(e.P+e.R,\"Map\",{toJSON:r(112)(\"Map\")})},function(t,n,r){var e=r(0);e(e.P+e.R,\"Set\",{toJSON:r(112)(\"Set\")})},function(t,n,r){var e=r(0);e(e.S,\"System\",{global:r(2)})},function(t,n,r){var e=r(0),o=r(18);e(e.S,\"Error\",{isError:function(t){return\"Error\"===o(t)}})},function(t,n,r){var e=r(0);e(e.S,\"Math\",{iaddh:function(t,n,r,e){var o=t>>>0,i=n>>>0,u=r>>>0;return i+(e>>>0)+((o&u|(o|u)&~(o+u>>>0))>>>31)|0}})},function(t,n,r){var e=r(0);e(e.S,\"Math\",{isubh:function(t,n,r,e){var o=t>>>0,i=n>>>0,u=r>>>0;return i-(e>>>0)-((~o&u|~(o^u)&o-u>>>0)>>>31)|0}})},function(t,n,r){var e=r(0);e(e.S,\"Math\",{imulh:function(t,n){var r=+t,e=+n,o=65535&r,i=65535&e,u=r>>16,c=e>>16,a=(u*i>>>0)+(o*i>>>16);return u*c+(a>>16)+((o*c>>>0)+(65535&a)>>16)}})},function(t,n,r){var e=r(0);e(e.S,\"Math\",{umulh:function(t,n){var r=+t,e=+n,o=65535&r,i=65535&e,u=r>>>16,c=e>>>16,a=(u*i>>>0)+(o*i>>>16);return u*c+(a>>>16)+((o*c>>>0)+(65535&a)>>>16)}})},function(t,n,r){var e=r(27),o=r(1),i=e.key,u=e.set;e.exp({defineMetadata:function(t,n,r,e){u(t,n,o(r),i(e))}})},function(t,n,r){var e=r(27),o=r(1),i=e.key,u=e.map,c=e.store;e.exp({deleteMetadata:function(t,n){var r=arguments.length<3?void 0:i(arguments[2]),e=u(o(n),r,!1);if(void 0===e||!e.delete(t))return!1;if(e.size)return!0;var a=c.get(n);return a.delete(r),!!a.size||c.delete(n)}})},function(t,n,r){var e=r(27),o=r(1),i=r(17),u=e.has,c=e.get,a=e.key,f=function(t,n,r){if(u(t,n,r))return c(t,n,r);var e=i(n);return null!==e?f(t,e,r):void 0};e.exp({getMetadata:function(t,n){return f(t,o(n),arguments.length<3?void 0:a(arguments[2]))}})},function(t,n,r){var e=r(106),o=r(113),i=r(27),u=r(1),c=r(17),a=i.keys,f=i.key,s=function(t,n){var r=a(t,n),i=c(t);if(null===i)return r;var u=s(i,n);return u.length?r.length?o(new e(r.concat(u))):u:r};i.exp({getMetadataKeys:function(t){return s(u(t),arguments.length<2?void 0:f(arguments[1]))}})},function(t,n,r){var e=r(27),o=r(1),i=e.get,u=e.key;e.exp({getOwnMetadata:function(t,n){return i(t,o(n),arguments.length<3?void 0:u(arguments[2]))}})},function(t,n,r){var e=r(27),o=r(1),i=e.keys,u=e.key;e.exp({getOwnMetadataKeys:function(t){return i(o(t),arguments.length<2?void 0:u(arguments[1]))}})},function(t,n,r){var e=r(27),o=r(1),i=r(17),u=e.has,c=e.key,a=function(t,n,r){if(u(t,n,r))return!0;var e=i(n);return null!==e&&a(t,e,r)};e.exp({hasMetadata:function(t,n){return a(t,o(n),arguments.length<3?void 0:c(arguments[2]))}})},function(t,n,r){var e=r(27),o=r(1),i=e.has,u=e.key;e.exp({hasOwnMetadata:function(t,n){return i(t,o(n),arguments.length<3?void 0:u(arguments[2]))}})},function(t,n,r){var e=r(27),o=r(1),i=r(13),u=e.key,c=e.set;e.exp({metadata:function(t,n){return function(r,e){c(t,n,(void 0!==e?o:i)(r),u(e))}}})},function(t,n,r){var e=r(0),o=r(83)(),i=r(2).process,u=\"process\"==r(18)(i);e(e.G,{asap:function(t){var n=u&&i.domain;o(n?n.bind(t):t)}})},function(t,n,r){\"use strict\";var e=r(0),o=r(2),i=r(24),u=r(83)(),c=r(5)(\"observable\"),a=r(13),f=r(1),s=r(38),l=r(39),v=r(11),h=r(44),p=h.RETURN,d=function(t){return null==t?void 0:a(t)},y=function(t){var n=t._c;n&&(t._c=void 0,n())},g=function(t){return void 0===t._o},b=function(t){g(t)||(t._o=void 0,y(t))},m=function(t,n){f(t),this._c=void 0,this._o=t,t=new x(this);try{var r=n(t),e=r;null!=r&&(\"function\"==typeof r.unsubscribe?r=function(){e.unsubscribe()}:a(r),this._c=r)}catch(n){return void t.error(n)}g(this)&&y(this)};m.prototype=l({},{unsubscribe:function(){b(this)}});var x=function(t){this._s=t};x.prototype=l({},{next:function(t){var n=this._s;if(!g(n)){var r=n._o;try{var e=d(r.next);if(e)return e.call(r,t)}catch(t){try{b(n)}finally{throw t}}}},error:function(t){var n=this._s;if(g(n))throw t;var r=n._o;n._o=void 0;try{var e=d(r.error);if(!e)throw t;t=e.call(r,t)}catch(t){try{y(n)}finally{throw t}}return y(n),t},complete:function(t){var n=this._s;if(!g(n)){var r=n._o;n._o=void 0;try{var e=d(r.complete);t=e?e.call(r,t):void 0}catch(t){try{y(n)}finally{throw t}}return y(n),t}}});var w=function(t){s(this,w,\"Observable\",\"_f\")._f=a(t)};l(w.prototype,{subscribe:function(t){return new m(t,this._f)},forEach:function(t){var n=this;return new(i.Promise||o.Promise)(function(r,e){a(t);var o=n.subscribe({next:function(n){try{return t(n)}catch(t){e(t),o.unsubscribe()}},error:e,complete:r})})}}),l(w,{from:function(t){var n=\"function\"==typeof this?this:w,r=d(f(t)[c]);if(r){var e=f(r.call(t));return e.constructor===n?e:new n(function(t){return e.subscribe(t)})}return new n(function(n){var r=!1;return u(function(){if(!r){try{if(h(t,!1,function(t){if(n.next(t),r)return p})===p)return}catch(t){if(r)throw t;return void n.error(t)}n.complete()}}),function(){r=!0}})},of:function(){for(var t=0,n=arguments.length,r=Array(n);t<n;)r[t]=arguments[t++];return new(\"function\"==typeof this?this:w)(function(t){var n=!1;return u(function(){if(!n){for(var e=0;e<r.length;++e)if(t.next(r[e]),n)return;t.complete()}}),function(){n=!0}})}}),v(w.prototype,c,function(){return this}),e(e.G,{Observable:w}),r(37)(\"Observable\")},function(t,n,r){var e=r(2),o=r(0),i=r(51),u=r(290),c=e.navigator,a=!!c&&/MSIE .\\./.test(c.userAgent),f=function(t){return a?function(n,r){return t(i(u,[].slice.call(arguments,2),\"function\"==typeof n?n:Function(n)),r)}:t};o(o.G+o.B+o.F*a,{setTimeout:f(e.setTimeout),setInterval:f(e.setInterval)})},function(t,n,r){\"use strict\";var e=r(291),o=r(51),i=r(13);t.exports=function(){for(var t=i(this),n=arguments.length,r=Array(n),u=0,c=e._,a=!1;n>u;)(r[u]=arguments[u++])===c&&(a=!0);return function(){var e,i=this,u=arguments.length,f=0,s=0;if(!a&&!u)return o(t,r,i);if(e=r.slice(),a)for(;n>f;f++)e[f]===c&&(e[f]=arguments[s++]);for(;u>s;)e.push(arguments[s++]);return o(t,e,i)}}},function(t,n,r){t.exports=r(2)},function(t,n,r){var e=r(0),o=r(82);e(e.G+e.B,{setImmediate:o.set,clearImmediate:o.clear})},function(t,n,r){for(var e=r(80),o=r(12),i=r(2),u=r(11),c=r(42),a=r(5),f=a(\"iterator\"),s=a(\"toStringTag\"),l=c.Array,v=[\"NodeList\",\"DOMTokenList\",\"MediaList\",\"StyleSheetList\",\"CSSRuleList\"],h=0;h<5;h++){var p,d=v[h],y=i[d],g=y&&y.prototype;if(g){g[f]||u(g,f,l),g[s]||u(g,s,d),c[d]=l;for(p in e)g[p]||o(g,p,e[p],!0)}}},function(t,n,r){(function(n){!function(n){\"use strict\";function r(t,n,r,e){var i=n&&n.prototype instanceof o?n:o,u=Object.create(i.prototype),c=new h(e||[]);return u._invoke=f(t,r,c),u}function e(t,n,r){try{return{type:\"normal\",arg:t.call(n,r)}}catch(t){return{type:\"throw\",arg:t}}}function o(){}function i(){}function u(){}function c(t){[\"next\",\"throw\",\"return\"].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function a(t){function r(n,o,i,u){var c=e(t[n],t,o);if(\"throw\"!==c.type){var a=c.arg,f=a.value;return f&&\"object\"==typeof f&&b.call(f,\"__await\")?Promise.resolve(f.__await).then(function(t){r(\"next\",t,i,u)},function(t){r(\"throw\",t,i,u)}):Promise.resolve(f).then(function(t){a.value=t,i(a)},u)}u(c.arg)}function o(t,n){function e(){return new Promise(function(e,o){r(t,n,e,o)})}return i=i?i.then(e,e):e()}\"object\"==typeof n.process&&n.process.domain&&(r=n.process.domain.bind(r));var i;this._invoke=o}function f(t,n,r){var o=O;return function(i,u){if(o===A)throw new Error(\"Generator is already running\");if(o===j){if(\"throw\"===i)throw u;return d()}for(r.method=i,r.arg=u;;){var c=r.delegate;if(c){var a=s(c,r);if(a){if(a===I)continue;return a}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(o===O)throw o=j,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);o=A;var f=e(t,n,r);if(\"normal\"===f.type){if(o=r.done?j:P,f.arg===I)continue;return{value:f.arg,done:r.done}}\"throw\"===f.type&&(o=j,r.method=\"throw\",r.arg=f.arg)}}}function s(t,n){var r=t.iterator[n.method];if(r===y){if(n.delegate=null,\"throw\"===n.method){if(t.iterator.return&&(n.method=\"return\",n.arg=y,s(t,n),\"throw\"===n.method))return I;n.method=\"throw\",n.arg=new TypeError(\"The iterator does not provide a 'throw' method\")}return I}var o=e(r,t.iterator,n.arg);if(\"throw\"===o.type)return n.method=\"throw\",n.arg=o.arg,n.delegate=null,I;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,\"return\"!==n.method&&(n.method=\"next\",n.arg=y),n.delegate=null,I):i:(n.method=\"throw\",n.arg=new TypeError(\"iterator result is not an object\"),n.delegate=null,I)}function l(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function v(t){var n=t.completion||{};n.type=\"normal\",delete n.arg,t.completion=n}function h(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(l,this),this.reset(!0)}function p(t){if(t){var n=t[x];if(n)return n.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,e=function n(){for(;++r<t.length;)if(b.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=y,n.done=!0,n};return e.next=e}}return{next:d}}function d(){return{value:y,done:!0}}var y,g=Object.prototype,b=g.hasOwnProperty,m=\"function\"==typeof Symbol?Symbol:{},x=m.iterator||\"@@iterator\",w=m.asyncIterator||\"@@asyncIterator\",S=m.toStringTag||\"@@toStringTag\",_=\"object\"==typeof t,E=n.regeneratorRuntime;if(E)return void(_&&(t.exports=E));E=n.regeneratorRuntime=_?t.exports:{},E.wrap=r;var O=\"suspendedStart\",P=\"suspendedYield\",A=\"executing\",j=\"completed\",I={},N={};N[x]=function(){return this};var F=Object.getPrototypeOf,R=F&&F(F(p([])));R&&R!==g&&b.call(R,x)&&(N=R);var M=u.prototype=o.prototype=Object.create(N);i.prototype=M.constructor=u,u.constructor=i,u[S]=i.displayName=\"GeneratorFunction\",E.isGeneratorFunction=function(t){var n=\"function\"==typeof t&&t.constructor;return!!n&&(n===i||\"GeneratorFunction\"===(n.displayName||n.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,S in t||(t[S]=\"GeneratorFunction\")),t.prototype=Object.create(M),t},E.awrap=function(t){return{__await:t}},c(a.prototype),a.prototype[w]=function(){return this},E.AsyncIterator=a,E.async=function(t,n,e,o){var i=new a(r(t,n,e,o));return E.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},c(M),M[S]=\"Generator\",M[x]=function(){return this},M.toString=function(){return\"[object Generator]\"},E.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},E.values=p,h.prototype={constructor:h,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=y,this.tryEntries.forEach(v),!t)for(var n in this)\"t\"===n.charAt(0)&&b.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=y)},stop:function(){this.done=!0;var t=this.tryEntries[0],n=t.completion;if(\"throw\"===n.type)throw n.arg;return this.rval},dispatchException:function(t){function n(n,e){return i.type=\"throw\",i.arg=t,r.next=n,e&&(r.method=\"next\",r.arg=y),!!e}if(this.done)throw t;for(var r=this,e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e],i=o.completion;if(\"root\"===o.tryLoc)return n(\"end\");if(o.tryLoc<=this.prev){var u=b.call(o,\"catchLoc\"),c=b.call(o,\"finallyLoc\");if(u&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error(\"try statement without catch or finally\");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&b.call(e,\"finallyLoc\")&&this.prev<e.finallyLoc){var o=e;break}}o&&(\"break\"===t||\"continue\"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=n,o?(this.method=\"next\",this.next=o.finallyLoc,I):this.complete(i)},complete:function(t,n){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&n&&(this.next=n),I},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),v(r),I}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if(\"throw\"===e.type){var o=e.arg;v(r)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,n,r){return this.delegate={iterator:p(t),resultName:n,nextLoc:r},\"next\"===this.method&&(this.arg=y),I}}}(\"object\"==typeof n?n:\"object\"==typeof window?window:\"object\"==typeof self?self:this)}).call(n,r(85))},function(t,n,r){r(296),t.exports=r(24).RegExp.escape},function(t,n,r){var e=r(0),o=r(297)(/[\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\");e(e.S,\"RegExp\",{escape:function(t){return o(t)}})},function(t,n){t.exports=function(t,n){var r=n===Object(n)?function(t){return n[t]}:n;return function(n){return String(n).replace(t,r)}}},function(t,n,r){\"use strict\";function e(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function o(t,n,r){var e=Object.prototype.isPrototypeOf.call(p,r),o=e?r.value:r,i=h.get(t).get(n.name),u=e?r.key:void 0,f=n.keyPath||i.keyPath,s=n.autoIncrement||i.autoIncrement;if(null===f)s||void 0!==u||(u=(0,a.uuid)());else{if(\"object\"!==(void 0===r?\"undefined\":c(r)))return!1;s||void 0!==r[f]||(r[f]=(0,a.uuid)())}return u?[o,u]:[o]}function i(t){return t.every(function(t){return-1!==l.call(this.database.objectStoreNames,t)},this)}function u(t,n){var r=h.get(t.name),e=[];return n.forEach(function(n){if(!r.has(n)){var o=new Promise(function(e){var o=t.transaction([n],f.TRANSACTION_READWRITE);o.oncomplete=e,o.onabort=e;var i=o.objectStore(n);if(void 0!==i.autoIncrement)return void r.set(n,{autoIncrement:i.autoIncrement,keyPath:i.keyPath});var u=void 0;if(null!==i.keyPath)if(Array.isArray(i.keyPath))u=!1;else try{i.add({}),u=!0}catch(t){u=!1}else try{i.add(\"some value\"),u=!0}catch(t){u=!1}r.set(n,{autoIncrement:u,keyPath:i.keyPath}),o.abort()});e.push(o)}}),Promise.all(e)}/**\n * Copyright (c) 2013-2017 Dmitry Sorin <info@staypositive.ru>\n * https://github.com/1999/sklad\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n * @author Dmitrii Sorin <info@staypositive.ru>\n * @license http://www.opensource.org/licenses/mit-license.html MIT License\n */\nObject.defineProperty(n,\"__esModule\",{value:!0});var c=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},a=r(299),f=r(300),s={};s.ASC=f.SORT_ASC,s.ASC_UNIQUE=f.SORT_ASC_UNIQUE,s.DESC=f.SORT_DESC,s.DESC_UNIQUE=f.SORT_DESC_UNIQUE;var l=Array.prototype.indexOf,v=\"function\"==typeof IDBObjectStore.prototype.getAll&&\"function\"==typeof IDBObjectStore.prototype.getAllKeys,h=new Map,p=Object.create(null),d={insert:function(){var t=this,n=1===arguments.length,r=n?Object.keys(arguments[0]):[arguments[0]];if(!i.call(this,r)){var s=(0,a.createError)(\"NotFoundError\",\"Database \"+this.database.name+\" (version \"+this.database.version+\") doesn't contain all needed stores\");return Promise.reject(s)}var l=void 0;return n?l=arguments[0]:(l={},l[arguments[0]]=[arguments[1]]),u(this.database,r).then(function(){return new Promise(function(i,u){var s={},v=void 0,h=void 0;try{v=t.database.transaction(r,f.TRANSACTION_READWRITE)}catch(n){if(\"NotFoundError\"===n.name){var p={};r.forEach(function(n){var r=t.insert(e({},n,Array.isArray(l[n])?l[n]:[l[n]])).then(function(t){return t[n]});p[n]=r}),(0,a.resolveAllPromises)(p).then(i,u)}else u(n);return}v.oncomplete=v.onerror=v.onabort=function(t){var e=h||t.target.error;e||\"complete\"!==t.type?u((0,a.ensureError)(e)):i(n?s:s[r[0]][0]),\"error\"===t.type&&t.preventDefault()};for(var d in l){var y=function(n){for(var r=v.objectStore(n),e=0;e<l[n].length;e++){var i=function(e){var i=o(t.database.name,r,l[n][e]);if(!i)return h=(0,a.createError)(\"InvalidStateError\",\"You must supply objects to be saved in the object store with set keyPath\"),{v:{v:void 0}};var u=void 0;try{u=r.add.apply(r,i)}catch(t){return h=t,\"continue\"}u.onsuccess=function(t){s[n]=s[n]||[],s[n][e]=t.target.result}}(e);switch(i){case\"continue\":continue;default:if(\"object\"===(void 0===i?\"undefined\":c(i)))return i.v}}}(d);if(\"object\"===(void 0===y?\"undefined\":c(y)))return y.v}})})},upsert:function(){var t=this,n=1===arguments.length,r=n?Object.keys(arguments[0]):[arguments[0]];if(!i.call(this,r)){var s=(0,a.createError)(\"NotFoundError\",\"Database \"+this.database.name+\" (version \"+this.database.version+\") doesn't contain all needed stores\");return Promise.reject(s)}var l=void 0;return n?l=arguments[0]:(l={},l[arguments[0]]=[arguments[1]]),u(this.database,r).then(function(){return new Promise(function(i,u){var s={},v=void 0,h=void 0;try{v=t.database.transaction(r,f.TRANSACTION_READWRITE)}catch(n){if(\"NotFoundError\"===n.name){var p={};r.forEach(function(n){var r=t.upsert(e({},n,Array.isArray(l[n])?l[n]:[l[n]])).then(function(t){return t[n]});p[n]=r}),(0,a.resolveAllPromises)(p).then(i).catch(u)}else u(n);return}v.oncomplete=v.onerror=v.onabort=function(t){var e=h||t.target.error;e||\"complete\"!==t.type?u((0,a.ensureError)(e)):i(n?s:s[r[0]][0]),\"error\"===t.type&&t.preventDefault()};for(var d in l){var y=function(n){for(var r=v.objectStore(n),e=0;e<l[n].length;e++){var i=function(e){var i=o(t.database.name,r,l[n][e]);if(!i)return h=(0,a.createError)(\"InvalidStateError\",\"You must supply objects to be saved in the object store with set keyPath\"),{v:{v:void 0}};var u=void 0;try{u=r.put.apply(r,i)}catch(t){return h=t,\"continue\"}u.onsuccess=function(t){s[n]=s[n]||[],s[n][e]=t.target.result}}(e);switch(i){case\"continue\":continue;default:if(\"object\"===(void 0===i?\"undefined\":c(i)))return i.v}}}(d);if(\"object\"===(void 0===y?\"undefined\":c(y)))return y.v}})})},delete:function(){var t=this,n=1===arguments.length,r=n?Object.keys(arguments[0]):[arguments[0]];if(!i.call(this,r)){var e=(0,a.createError)(\"NotFoundError\",\"Database \"+this.database.name+\" (version \"+this.database.version+\") doesn't contain all needed stores\");return Promise.reject(e)}var o=void 0;return n?o=arguments[0]:(o={},o[arguments[0]]=[arguments[1]]),new Promise(function(n,e){var i=void 0,u=void 0;try{i=t.database.transaction(r,f.TRANSACTION_READWRITE)}catch(i){if(\"NotFoundError\"===i.name){var c=r.map(function(n){return t.delete(n,o[n])});Promise.all(c).then(function(){return n()}).catch(e)}else e(i);return}i.oncomplete=i.onerror=i.onabort=function(t){var r=u||t.target.error;r?e((0,a.ensureError)(r)):n(),\"error\"===t.type&&t.preventDefault()};for(var s in o)!function(t){var n=i.objectStore(t);o[t].forEach(function(t){if(!u)try{n.delete(t)}catch(t){u=t}})}(s)})},clear:function(t){var n=this;if(t=Array.isArray(t)?t:[t],!i.call(this,t)){var r=(0,a.createError)(\"NotFoundError\",\"Database \"+this.database.name+\" (version \"+this.database.version+\") doesn't contain all needed stores\");return Promise.reject(r)}return new Promise(function(r,e){var o=void 0,i=void 0;try{o=n.database.transaction(t,f.TRANSACTION_READWRITE)}catch(o){if(\"NotFoundError\"===o.name){var u=t.map(function(t){return n.clear([t])});Promise.all(u).then(function(){return r()}).catch(e)}else e(o);return}o.oncomplete=o.onerror=o.onabort=function(t){var n=i||t.target.error;n?e((0,a.ensureError)(n)):r(),\"error\"===t.type&&t.preventDefault()},t.forEach(function(t){var n=o.objectStore(t);if(!i)try{n.clear()}catch(t){i=t}})})},get:function(){var t=this,n=1===arguments.length&&\"object\"===c(arguments[0]),r=n?Object.keys(arguments[0]):[arguments[0]];if(!i.call(this,r)){var e=(0,a.createError)(\"NotFoundError\",\"Database \"+this.database.name+\" (version \"+this.database.version+\") doesn't contain all needed stores\");return Promise.reject(e)}var o={},u=void 0,l=void 0;return n?u=arguments[0]:(u={},u[arguments[0]]=arguments[1]),r.forEach(function(t){o[t]=[]}),new Promise(function(e,i){var h=void 0;try{h=t.database.transaction(r,f.TRANSACTION_READONLY)}catch(n){if(\"NotFoundError\"===n.name){var p={};r.forEach(function(n){var r=t.get(n,u[n]);p[n]=r}),(0,a.resolveAllPromises)(p).then(e).catch(i)}else i(n);return}h.oncomplete=h.onerror=h.onabort=function(t){var u=l||t.target.error;u||\"complete\"!==t.type?i((0,a.ensureError)(u)):e(n?o:o[r[0]]),\"error\"===t.type&&t.preventDefault()};for(var d in u){var y=function(t){var n=h.objectStore(t),r=u[t]||{},e=r.direction||s.ASC,i=r.range instanceof f.IDBKeyRangeRef?r.range:null,c=!1,p=void 0;if(v&&(c=Object.keys(r).every(function(t){return\"index\"!==t&&\"direction\"!==t})),r.index){if(!n.indexNames.contains(r.index))return l=(0,a.createError)(\"NotFoundError\",\"Object store \"+n.name+\" doesn't contain \\\"\"+r.index+'\" index'),{v:void 0};try{p=n.index(r.index).openCursor(i,e)}catch(t){return l=t,{v:void 0}}}else{if(c){var d=[i],y=0;r.limit&&(d.push(r.limit),r.offset&&(d[1]+=r.offset,y=r.offset));try{n.getAll.apply(n,d).onsuccess=function(n){n.target.result.forEach(function(n,r){if(!(r<y)){var e=r-y;o[t][e]=o[t][e]||{},o[t][e].value=n}})},n.getAllKeys.apply(n,d).onsuccess=function(n){n.target.result.forEach(function(n,r){if(!(r<y)){var e=r-y;o[t][e]=o[t][e]||{},o[t][e].key=n}})}}catch(t){l=t}return\"continue\"}try{p=n.openCursor(i,e)}catch(t){return l=t,{v:void 0}}}var g=!1;p.onsuccess=function(n){var e=n.target.result;if(e){if(r.offset&&!g)return g=!0,void e.advance(r.offset);o[t].push({key:e.key,value:e.value}),r.limit&&r.limit===o[t].length||e.continue()}}}(d);switch(y){case\"continue\":continue;default:if(\"object\"===(void 0===y?\"undefined\":c(y)))return y.v}}})},count:function(){var t=this,n=1===arguments.length&&\"object\"===c(arguments[0]),r=n?Object.keys(arguments[0]):[arguments[0]],e=void 0;if(n?e=arguments[0]:(e={},e[arguments[0]]=\"function\"==typeof arguments[1]?null:arguments[1]),!i.call(this,r)){var o=(0,a.createError)(\"NotFoundError\",\"Database \"+this.database.name+\" (version \"+this.database.version+\") doesn't contain all needed stores\");return Promise.reject(o)}return new Promise(function(o,i){var u={},s=void 0,l=void 0,v=void 0;try{s=t.database.transaction(r,f.TRANSACTION_READONLY)}catch(n){if(\"NotFoundError\"===n.name){var h={};r.forEach(function(n){var r=t.count(n,e[n]);h[n]=r}),(0,a.resolveAllPromises)(h).then(o).catch(i)}else i(n);return}s.oncomplete=s.onerror=s.onabort=function(t){var e=v||t.target.error;e||\"complete\"!==t.type?i((0,a.ensureError)(e)):o(n?u:u[r[0]]),\"error\"===t.type&&t.preventDefault()};for(var p in e){var d=function(t){var n=s.objectStore(t),r=e[t]||{},o=r.range instanceof f.IDBKeyRangeRef?[r.range]:[];if(r.index){if(!n.indexNames.contains(r.index))return v=(0,a.createError)(\"NotFoundError\",\"Object store \"+n.name+\" doesn't contain \\\"\"+r.index+'\" index'),{v:void 0};try{var i=n.index(r.index);l=i.count.apply(i,o)}catch(t){return v=t,{v:void 0}}}else try{l=n.count.apply(n,o)}catch(t){return v=t,{v:void 0}}l.onsuccess=function(n){u[t]=n.target.result||0}}(p);if(\"object\"===(void 0===d?\"undefined\":c(d)))return d.v}})},close:function(){this.database.close(),delete this.database}};s.open=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{version:1};return new Promise(function(r,e){if(!f.indexedDbRef)return void e((0,a.createError)(\"NotSupportedError\",\"Your browser doesn't support IndexedDB\"));var o=f.indexedDbRef.open(t,n.version),i=!1;o.onupgradeneeded=function(t){if(!i){n.migration=n.migration||{};for(var r=t.oldVersion+1;r<=t.newVersion;r++)n.migration[r]&&n.migration[r].call(this,this.result)}},o.onerror=function(t){i||(t.preventDefault(),e((0,a.ensureError)(t.target.error)),i=!0)},o.onsuccess=function(){if(!i){var u=this.result,c=parseInt(u.version||0,10);if(\"function\"==typeof u.setVersion&&c<n.version){var f=u.setVersion(n.version);return f.onsuccess=function(i){var a=new Event(\"upgradeneeded\");a.oldVersion=c,a.newVersion=n.version,o.onupgradeneeded.call({result:i.target.source},a),u.close(),s.open(t,n).then(r,e)},void(f.onerror=function(t){var n=t.target.errorMessage||t.target.webkitErrorMessage||t.target.mozErrorMessage||t.target.msErrorMessage||t.target.error.name;e((0,a.ensureError)(n))})}h.has(t)||h.set(t,new Map),r(Object.create(d,{database:{configurable:!0,enumerable:!1,value:u,writable:!1}})),i=!0}},o.onblocked=function(n){i||(n.preventDefault(),e((0,a.createError)(\"InvalidStateError\",\"Database \"+t+\" is blocked\")),i=!0)}})},s.deleteDatabase=function(t){return new Promise(function(n,r){if(!f.indexedDbRef)return void r((0,a.createError)(\"NotSupportedError\",\"Your browser doesn't support IndexedDB\"));var e=f.indexedDbRef.deleteDatabase(t);e.onsuccess=e.onerror=e.onblocked=function(e){var o=\"blocked\"===e.type?(0,a.createError)(\"InvalidStateError\",\"Database \"+t+\" is blocked\"):e.target.error;o?r((0,a.ensureError)(o)):n(),\"success\"!==e.type&&e.preventDefault()}})},s.keyValue=function(t,n){return Object.create(p,{key:{value:t,configurable:!1,writable:!1},value:{value:n,configurable:!1,writable:!1}})},n.default=s,t.exports=n.default},function(t,n,r){\"use strict\";function e(t){return function(){var n=t.apply(this,arguments);return new Promise(function(t,r){function e(o,i){try{var u=n[o](i),c=u.value}catch(t){return void r(t)}if(!u.done)return Promise.resolve(c).then(function(t){e(\"next\",t)},function(t){e(\"throw\",t)});t(c)}return e(\"next\")})}}Object.defineProperty(n,\"__esModule\",{value:!0});var o=(n.uuid=function(){return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(t){var n=16*Math.random()|0;return(\"x\"===t?n:3&n|8).toString(16)})},n.createError=function(t,n){var r=new Error(n);return r.name=t,r});n.ensureError=function(t){return t instanceof Error?t:o(t.name,t.message)},n.resolveAllPromises=function(){var t=e(regeneratorRuntime.mark(function t(n){var r,e,o,i,u,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[];for(e in n)r.push(n[e]);return t.next=4,Promise.all(r);case 4:o=t.sent,i={},u=0;for(c in n)i[c]=o[u],u++;return t.abrupt(\"return\",i);case 9:case\"end\":return t.stop()}},t,void 0)}));return function(n){return t.apply(this,arguments)}}()},function(t,n,r){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var e=\"undefined\"!=typeof window;n.indexedDbRef=e?window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB:indexedDB,n.IDBKeyRangeRef=e?window.IDBKeyRange||window.mozIDBKeyRange||window.webkitIDBKeyRange||window.msIDBKeyRange:IDBKeyRange,n.TRANSACTION_READONLY=e?window.IDBTransaction.READ_ONLY||\"readonly\":\"readonly\",n.TRANSACTION_READWRITE=e?window.IDBTransaction.READ_WRITE||\"readwrite\":\"readwrite\",n.SORT_ASC=e?window.IDBCursor.NEXT||\"next\":\"next\",n.SORT_ASC_UNIQUE=e?window.IDBCursor.NEXT_NO_DUPLICATE||\"nextunique\":\"nextunique\",n.SORT_DESC=e?window.IDBCursor.PREV||\"prev\":\"prev\",n.SORT_DESC_UNIQUE=e?window.IDBCursor.PREV_NO_DUPLICATE||\"prevunique\":\"prevunique\"}])});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/sklad/dist/sklad.min.js\n// module id = 296\n// module chunks = 1","/* eslint-disable max-len */\n/**\n * Структура БД\n */\n\n'use strict';\n\nmodule.exports = {\n    name: 'visualbookmarks',\n    version: 3,\n    migration: {\n        1: function (database) {\n            /* данные о тумбах, которые когда-либо появлялись в сетке:\n              {\n                    backgroundColor: '859bc9'\n                    favicon: 'https://favicon.yandex.net/favicon/mail.yandex.ru'\n                    title: 'Яндекс.Почта'\n                    url: 'https://mail.yandex.ru/?from=vb-chrome'\n                    visits: 10,\n                    tableau: {\n                       image: 'filesystem:chrome-extension://nkcpopggjcjkiicpenikeogioednjeac/persistent/logo/18f8b0d02d9305a87e3f262c46ec6f64.png'\n                       color: 'ffffff'\n                    },\n                    screenshot: {\n                       bgColor: 'ffffff',\n                       fontColor: 1\n                    }\n              }\n              ВНИМАНИЕ: В общем бэкенде не используется!\n             */\n            database.createObjectStore('thumbs', {keyPath: 'url'});\n\n            /* порнодомены, пополняются при каждом запросе на sba апи:\n                {\n                    domain: 'sex.com'\n                }\n             */\n            database.createObjectStore('unsafe_domains', {keyPath: 'domain'});\n\n            /* данные о тумбах, которые когда-либо появлялись в сетке, полученные из\n               апи браузера или из табло-манифеста сайта:\n              {\n                 backgroundColor: 'ffffff'\n                 backgroundImage: 'filesystem:chrome-extension://nkcpopggjcjkiicpenikeogioednjeac/persistent/logo/18f8b0d02d9305a87e3f262c46ec6f64.png'\n                 backgroundImageSub: 'filesystem:chrome-extension://nkcpopggjcjkiicpenikeogioednjeac/persistent/logo-sub/18f8b0d02d9305a87e3f262c46ec6f64.png'\n                 domain: 'disk.yandex.ru'\n              }\n             */\n            database.createObjectStore('cloud_data', {keyPath: 'domain'});\n            /* видимые тумбы:\n             {\n                 pinned: 1\n                 position: 0\n                 type: 'defthumb' (deprecated)\n                 url: 'https://yandex.ru'\n             }\n              в новой версии можно класть сюда все данные про тумбы, а от thumbs и cloud_data отказаться вообще\n             {\n                 pinned: 1\n                 position: 0\n                 url: 'https://yandex.ru/',\n                 title: 'Yandex',\n                 visits: 10,\n                 faviconUrl:\n                 faviconColor:\n                 tableauImage:\n                 tableauColor:\n                 cloudImage:\n                 cloudImageSub: (optional)\n                 cloudColor:\n                 screenshotImage:\n                 screenshotColor:\n             }\n             */\n            database.createObjectStore('thumbs_shown', {keyPath: 'position'});\n\n            /* пользовательский черный список доменов, пополняется при удалении тумбы вручную\n               {\n                  domain: 'google.com'\n               }\n             */\n            database.createObjectStore('blacklist', {keyPath: 'domain'});\n\n            /* статистика еженедельного использования, очищается каждую неделю:\n               {\n                  action: 'show'\n               }\n             */\n            // убрали\n            // week_usage: {autoIncrement: true}\n        },\n        2: function (database) {\n            /* залогиненные пользователи:\n             {\n                 displayName: 'extension-dev'\n                 lastAuthTime: 1434380919121\n                 login: 'extension-dev'\n                 status: 2\n                 uid: '235421167'\n             }\n             */\n            database.createObjectStore('users', {keyPath: 'uid'});\n        },\n        3: function (database) {\n            /* кеш автоподбора:\n            {\n                 url: 'https://ru.wikipedia.org/'\n                 visits: 5\n             }\n             */\n            database.createObjectStore('pickup', {keyPath: 'url'});\n        }\n    }\n};\n/* eslint-enable max-len */\n\n\n\n// WEBPACK FOOTER //\n// ./modules/database/structure.js","/**\n * Модуль, который сохраняет в себя список объектов и при обновлении, возвращает инфу\n * по добавленным, измененным и удаленным элементам\n */\n\n'use strict';\n\nvar deepEqual = require('deep-equal');\n\nfunction Differ(collection) {\n    if (!Array.isArray(collection)) {\n        throw new Error('Differ can be initialized with arrays only');\n    }\n\n    this.collection = collection.slice();\n}\n\nDiffer.prototype.update = function (collection) {\n    if (!Array.isArray(collection)) {\n        throw new Error('Differ can be updated with arrays only');\n    }\n\n    var result = {\n        changed: [],\n        added: [],\n        removed: []\n    };\n\n    var length = Math.max(this.collection.length, collection.length);\n\n    for (var i = 0; i < length; i++) {\n        var currentItem = this.collection[i];\n        var newItem = collection[i];\n\n        if (currentItem && newItem && !deepEqual(currentItem, newItem)) {\n            result.changed.push(i);\n        }\n\n        if (!currentItem && newItem) {\n            result.added.push(i);\n        }\n\n        if (currentItem && !newItem) {\n            result.removed.push(i);\n        }\n    }\n\n    this.collection = collection.slice();\n\n    return result;\n};\n\nmodule.exports = Differ;\n\n\n\n// WEBPACK FOOTER //\n// ./utils/collection-differ.js","var pSlice = Array.prototype.slice;\nvar objectKeys = require('./lib/keys.js');\nvar isArguments = require('./lib/is_arguments.js');\n\nvar deepEqual = module.exports = function (actual, expected, opts) {\n  if (!opts) opts = {};\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n\n  } else if (actual instanceof Date && expected instanceof Date) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n    return opts.strict ? actual === expected : actual == expected;\n\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected, opts);\n  }\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer (x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') return false;\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  var i, key;\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n    return false;\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  //~~~I've managed to break Object.keys through screwy arguments passing.\n  //   Converting to array solves the problem.\n  if (isArguments(a)) {\n    if (!isArguments(b)) {\n      return false;\n    }\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return deepEqual(a, b, opts);\n  }\n  if (isBuffer(a)) {\n    if (!isBuffer(b)) {\n      return false;\n    }\n    if (a.length !== b.length) return false;\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  try {\n    var ka = objectKeys(a),\n        kb = objectKeys(b);\n  } catch (e) {//happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) return false;\n  }\n  return typeof a === typeof b;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/deep-equal/index.js\n// module id = 299\n// module chunks = 1","exports = module.exports = typeof Object.keys === 'function'\n  ? Object.keys : shim;\n\nexports.shim = shim;\nfunction shim (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/deep-equal/lib/keys.js\n// module id = 300\n// module chunks = 1","var supportsArgumentsClass = (function(){\n  return Object.prototype.toString.call(arguments)\n})() == '[object Arguments]';\n\nexports = module.exports = supportsArgumentsClass ? supported : unsupported;\n\nexports.supported = supported;\nfunction supported(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n};\n\nexports.unsupported = unsupported;\nfunction unsupported(object){\n  return object &&\n    typeof object == 'object' &&\n    typeof object.length == 'number' &&\n    Object.prototype.hasOwnProperty.call(object, 'callee') &&\n    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\n    false;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/deep-equal/lib/is_arguments.js\n// module id = 301\n// module chunks = 1","/**\n * Informers: weather, traffic, currency, mail\n * https://st.yandex-team.ru/VB-5689\n */\n\n'use strict';\n\nconst ticker = require('./ticker');\nconst reginfo = require('./reginfo');\nconst quotes = require('./quotes');\nconst branding = require('../branding');\nconst settings = require('../settings/settings');\nconst channel = require('../../utils/channel');\nconst _ = require('../../utils/lodash');\n\nconst ON_UPDATED_DELAY_MS = 500;\nconst ENABLED_SETTING_NAME = 'showInformers';\n\n// informers\nconst informers = {};\n\n/**\n * Init\n */\nexports.init = function () {\n    if (exports.isSupported()) {\n        ticker.init();\n        createInformers();\n        listenUpdates();\n        settings.onChanged.addListener(onSettingChanged);\n    }\n};\n\n/**\n * Is informers supported for that build (currently only for yandex branding + experiment)\n * @returns {Boolean}\n */\nexports.isSupported = function () {\n    return branding.getRegionBrandId() === branding.REGION_BRANDINGS.YANDEX;\n};\n\n/**\n * Is informers enabled in settings\n * @returns {Boolean}\n */\nexports.isEnabled = function () {\n    return Boolean(settings.get(ENABLED_SETTING_NAME));\n};\n\n/**\n * Returns data for all informers\n * @returns {Object}\n */\nexports.getData = function () {\n    return Promise.all([\n        informers.reginfo.getData(),\n        informers.quotes.getData()\n    ]).then((results) => {\n        const [reginfoData, quotesData] = results;\n        return {\n            weather: reginfoData && reginfoData.weather,\n            traffic: reginfoData && reginfoData.traffic,\n            // keep both usd and eur for future\n            currency: {\n                usd: quotesData && quotesData.code === 'usd' ? quotesData : null,\n                eur: quotesData && quotesData.code === 'eur' ? quotesData : null,\n            }\n        };\n    });\n};\n\n/**\n * On updated channel. Debounced trigger after informers updated.\n */\nexports.onUpdated = channel.create();\n\n/**\n * On enabled changed\n */\nexports.onEnabledChanged = channel.create();\n\nfunction createInformers() {\n    informers.reginfo = reginfo.create();\n    informers.quotes = quotes.create();\n}\n\nfunction listenUpdates() {\n    const dispatchDebounced = _.debounce(() => exports.onUpdated.dispatch(), ON_UPDATED_DELAY_MS);\n    Object.keys(informers).forEach(key => informers[key].onUpdated.addListener(dispatchDebounced));\n}\n\nfunction onSettingChanged(info) {\n    if (info.key === ENABLED_SETTING_NAME) {\n        exports.onEnabledChanged.dispatch();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/informers/index.js","/**\n * Ticker for updating informers data\n */\n\n'use strict';\n\nconst alarms = require('../../utils/alarms');\nconst channel = require('../../utils/channel');\n\nconst ALARM = {\n    name: 'informers',\n    periodInMinutes: 15\n};\n\n/**\n * Init\n */\nexports.init = function () {\n    alarms.register(ALARM, function () {\n        exports.onTick.dispatch();\n    });\n};\n\n/**\n * Tick event\n */\nexports.onTick = channel.create('Informers/ticker');\n\n\n\n// WEBPACK FOOTER //\n// ./modules/informers/ticker.js","/**\n * Getting reginfo data (weather + traffic)\n * https://old.wiki.yandex-team.ru/StarDust/Vidzhet.Pogoda#jeksportpogody\n * https://old.wiki.yandex-team.ru/StarDust/VidzhetProbki#jeksportiispolzovanieapikart\n */\n\n'use strict';\n\nconst logger = require('../../utils/logger').create('Informers/reginfo');\nconst xml = require('../../utils/xml');\nconst urlUtils = require('../../utils/url');\nconst Informer = require('./informer');\nconst platformAbout = require('../../platform/about');\nconst branding = require('../branding');\n\nconst URL_TPL = 'https://export.yandex.ru/bar/reginfo.xml?lang={locale}&brid={regionId}';\n\n/**\n * Create\n * @returns {Informer}\n */\nexports.create = function () {\n    return new Informer({\n        url: branding.expandUrl(URL_TPL),\n        setting: 'informerReginfo',\n        parser: extractData,\n        logger: logger,\n    });\n};\n\n// Parser method inside of an informer is being handled within a Promise,\n// therefore a Promise can be returned without a change in functionality.\nfunction extractData(responseXml) {\n    return Promise.all([\n        extractWeather(responseXml),\n        extractTraffic(responseXml)\n    ]).then((results) => {\n        const [weather, traffic] = results;\n        return {weather, traffic};\n    }).catch((error) => {\n        logger.error('Error during xml data extratingx, %i', error.message);\n    });\n}\n\nfunction extractWeather(responseXml) {\n    return Promise.all([\n        xml.getText(responseXml, 'info > weather > day > title'),\n        xml.getText(responseXml, 'info > weather > day > day_part > temperature'),\n        xml.getText(responseXml, 'info > weather > day > day_part > image'),\n        xml.getText(responseXml, 'info > weather > url')\n    ]).then((results) => {\n        const [title, temperature, icon, url] = results;\n        const result = {title, level: parseInt(temperature, 10), icon, url};\n        if (Informer.hasEmptyProps(result)) {\n            logger.error('Weather contains empty data, %j %j', result, responseXml);\n            return null;\n        }\n        // add ?from={vbID}\n        result.url = urlUtils.setQuery(result.url, {from: platformAbout.type});\n        return result;\n    }).catch((error) => {\n        logger.error('Error on weather xml parsing, %i', error.message);\n    });\n}\n\nfunction extractTraffic(responseXml) {\n    return Promise.all([\n        xml.getText(responseXml, 'info > traffic > title'),\n        xml.getText(responseXml, 'info > traffic > region > level'),\n        xml.getText(responseXml, 'info > traffic > region > icon'),\n        xml.getText(responseXml, 'info > traffic > region > url')\n    ]).then((results) => {\n        const [title, level, icon, url] = results;\n        const result = {title, level: parseInt(level, 10), icon, url};\n        if (Informer.hasEmptyProps(result)) {\n            logger.error('Traffic contains empty data, %j %j', result, responseXml);\n            return null;\n        }\n        // we have images only for level 0..10\n        if (result.level < 0 || result.level > 10) {\n            logger.error('Traffic contains incorrect level, %i', result.level);\n            return null;\n        }\n        return result;\n    }).catch((error) => {\n        logger.error('Error on traffic xml parsing, %i', error.message);\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/informers/reginfo.js","/**\n * Base informer class\n * - make request to url\n * - save data to storage\n */\n\n'use strict';\n\nconst xhr = require('../../utils/xhr');\nconst channel = require('../../utils/channel');\nconst settings = require('../settings/settings');\nconst ticker = require('./ticker');\n\n/**\n * @param {Object} options\n * @param {String} options.url\n * @param {String} options.setting\n * @param {Function} options.parser\n * @param {Object} options.logger\n */\nconst Informer = module.exports = function (options) {\n    this.options = options;\n    this.logger = options.logger;\n    this.onUpdated = channel.create(options.setting);\n    ticker.onTick.addListener(() => this.updateData());\n};\n\n/**\n * Returns current data\n * @returns {Object}\n */\nInformer.prototype.getData = function () {\n    return settings.get(this.options.setting) || null;\n};\n\n/**\n * Updates data\n */\nInformer.prototype.updateData = function () {\n    this._loadData()\n        .then(responseXml => this._extractData(responseXml))\n        .then(data => this._saveData(data))\n        .catch(e => this._processError(e));\n};\n\nInformer.prototype._loadData = function () {\n    this.logger.info('Loading data from: %s', this.options.url);\n    // todo: make utility xhr returning promise\n    // todo: move to window fetch\n    return new Promise((resolve, reject) => {\n        xhr({\n            url: this.options.url,\n            parse: 'xml',\n        }, (error, xmlDoc) => {\n            if (error) {\n                this.logger.error('Error while loading data %s', error.message);\n                reject();\n            } else {\n                resolve(xmlDoc);\n            }\n        });\n    });\n};\n\nInformer.prototype._extractData = function (responseXml) {\n    return this.options.parser.call(this, responseXml);\n};\n\nInformer.prototype._saveData = function (data) {\n    this.logger.info('Saving data: %j', data);\n    settings.set(this.options.setting, data);\n    this.onUpdated.dispatch();\n};\n\nInformer.prototype._processError = function (e) {\n    if (e) {\n        this.logger.error(e);\n    }\n    this._saveData(null);\n};\n\n/**\n * Static method checking that all props are not NaN or empty string\n * @param {Object|null} obj\n * @returns {Boolean}\n */\nInformer.hasEmptyProps = function (obj) {\n    if (!obj) {\n        return true;\n    } else {\n        return Object.keys(obj).some(key => {\n            // use Number.isNaN() instead of isNaN() as isNaN() returns true for strings\n            return (typeof obj[key] === 'string' && obj[key] === '') || Number.isNaN(obj[key]);\n        });\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/informers/informer.js","/**\n * Getting currency data\n * https://old.wiki.yandex-team.ru/visualbookmarks/tz/informers\n */\n\n'use strict';\n\nconst logger = require('../../utils/logger').create('Informers/quotes');\nconst xml = require('../../utils/xml');\nconst curly = require('../../utils/curly');\nconst Informer = require('./informer');\n\n// server url for currency depends on id only\nconst URL_TPL = 'https://ya.ru/search/?lr=174993&text={text}&wiz=finance'\n\n/**\n * Create currency informer (exact quote id is auto-detected by server)\n * @returns {Informer}\n */\nexports.create = function () {\n    return new Informer({\n        url: 'https://export.yandex.ru/bar/quotes.xml',\n        setting: 'informerQuotes',\n        parser: extractData,\n        logger: logger,\n    });\n};\n\nfunction extractData(responseXml) {\n    return Promise.all([\n        xml.getAttr(responseXml, 'quotes > quote', 'name'),\n        xml.getAttr(responseXml, 'quotes > quote', 'id'),\n        xml.getText(responseXml, 'quotes > quote > value'),\n        xml.getText(responseXml, 'quotes > quote > change')\n    ]).then((results) => {\n        const [name, _id, value, change] = results;\n        const code = getCurrencyCode(name);\n        if (!code) {\n            logger.warn('Currency name does not contain USD|EUR: %s', name);\n            return null;\n        }\n        const result = {\n            value: parseFloat(value),\n            change: parseFloat(change),\n            code: code,\n            url: curly.insertUrlVars(URL_TPL, {text: name}),\n        };\n        if (Informer.hasEmptyProps(result)) {\n            logger.error('Quote contains empty data, %j %j', result, responseXml);\n            return null;\n        } else {\n            return result;\n        }\n    }).catch((error) => {\n        logger.error('Excract xml data error, %j', error.messsage);\n    });\n}\n\nfunction getCurrencyCode(name) {\n    if (/usd/i.test(name)) {\n        return 'usd';\n    }\n    if (/eur/i.test(name)) {\n        return 'eur';\n    }\n    return '';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/informers/quotes.js","/**\n * Monitors tabs/windows events and stores info about closed ones.\n * Restores tabs/windows on requests.\n */\n'use strict';\n\nvar uniq = require('lodash/array/uniq');\nvar pluck = require('lodash/collection/pluck');\nvar listener = require('./listener');\nvar sorter = require('./sorter');\nvar restorator = require('./restorator');\nvar closedItem = require('./closed-item');\nvar logger = require('../../utils/logger').create('closed tabs');\nvar state = require('./state');\n\nexports.onUpdated = state.onUpdated;\n\nexports.init = function () {\n    listener.start();\n    listener.onTabClosed.addListener(handleTabClosedEvent);\n    listener.onWindowClosed.addListener(handleWindowClosedEvent);\n    listener.onHistoryCleared.addListener(handleHistoryClearedEvent);\n    exports.onUpdated.dispatch(state.get());\n};\n\n/**\n * @param {String} itemId\n */\nexports.restoreItem = function (itemId) {\n    var closedTabs = state.get();\n    var restoredIndex = restoreTabOrWindow(closedTabs, itemId);\n    if (restoredIndex !== -1) {\n        state.remove(restoredIndex);\n    }\n};\n\n/**\n * @param {Number} [windowId]\n * @returns {Boolean}\n */\nexports.hasClosed = function (windowId) {\n    var closedItems = state.get();\n    var windows = sorter.getWindows(closedItems);\n    if (windows.length > 0) {\n        return true;\n    }\n    var tabs = sorter.getTabs(closedItems, windowId);\n    return tabs.length > 0;\n};\n\n/**\n * @param {Number} [windowId] - для конкретного окна\n * @returns {Array}\n */\nexports.getClosedTabs = function (windowId) {\n    var tabs = state.get().slice();\n    return sorter.sortItems(tabs, windowId);\n};\n\n/**\n * @param {Array<Object>} closedTabs\n * @param {String} itemId\n * @returns {Number} - index of restored item\n */\nfunction restoreTabOrWindow(closedTabs, itemId) {\n    if (closedItem.isWindowId(itemId)) {\n        return restorator.restoreWindow(closedTabs, itemId, handleWindowRestoredEvent);\n    } else {\n        return restorator.restoreTab(closedTabs, itemId);\n    }\n}\n\n/**\n * @param {Object} closedTab\n */\nfunction handleTabClosedEvent(closedTab) {\n    state.upsert(closedTab);\n}\n\n/**\n * @param {Number} windowId\n */\nfunction handleWindowClosedEvent(windowId) {\n    setTimeout(function () {\n        logger.info('Window %s closed, update closed-tabs data', windowId);\n        var windowTabs = state.removeClosedWithWindowTabs(windowId);\n        var urls = getUrlsFromTabs(windowTabs);\n        var closedWindow = closedItem.createClosedWindow(urls, windowId);\n        state.unshift(closedWindow);\n    }, 0);\n}\n\n/**\n * @param {Array<Object>} tabs\n * @returns {Array<String>}\n */\nfunction getUrlsFromTabs(tabs) {\n    var urls = pluck(tabs, 'url');\n    return uniq(urls);\n}\n\n/**\n * @param {Error} [error]\n * @param {Number} restoredWindowId\n * @param {Object} [window]\n */\nfunction handleWindowRestoredEvent(error, restoredWindowId, window) {\n    if (error || !window) {\n        logger.error('Error while restoring window %s; %j', restoredWindowId, error);\n    } else {\n        logger.info('Window %s restored (old id - %s)', window.id, restoredWindowId);\n        state.replaceWindowIds(restoredWindowId, window.id);\n    }\n}\n\nfunction handleHistoryClearedEvent() {\n    logger.info('History cleared, removing closed-tabs data');\n    state.clear();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/closed-tabs/index.js","/**\n * Logic for listening and dispatching tab/window close events.\n */\n'use strict';\n\nvar channel = require('../../utils/channel');\nvar urlUtils = require('../../utils/url');\nvar tabsWatcherEvents = require('../../utils/tabs-watcher-2').events;\nvar platformAbout = require('../../platform/about');\nvar closedItem = require('./closed-item');\nvar isRegExp = require('lodash/lang/isRegExp');\n\nvar closedTabsFilter = [].concat(platformAbout.vbUrls || []);\n\n/**\n * Start listening.\n */\nexports.start = function () {\n    tabsWatcherEvents.onRemoved.addListener(handleTabClosedEvent);\n    chrome.windows.onRemoved.addListener(handleWindowClosedEvent);\n    addHistoryRemovedListener();\n};\n\nexports.onTabClosed = channel.create();\n\nexports.onWindowClosed = channel.create();\n\nexports.onWindowCreated = channel.create();\n\nexports.onHistoryCleared = channel.create();\n\n/**\n * @param {Number} tabId\n * @param {Object} tabData\n * @param {Object} removeInfo\n */\nfunction handleTabClosedEvent(tabId, tab, removeInfo) {\n    var tabData = tab.data;\n    var url = tabData.url;\n    if (!isWatchingUrl(url)) {\n        return;\n    }\n    var closedTab = closedItem.createClosedTab(url, tabData, removeInfo);\n    exports.onTabClosed.dispatch(closedTab);\n}\n\n/**\n * @param {Number} windowId\n */\nfunction handleWindowClosedEvent(windowId) {\n    exports.onWindowClosed.dispatch(windowId);\n}\n\n/**\n * Filters new-tab-page urls.\n * @see https://st.yandex-team.ru/VB-5416\n * @see https://st.yandex-team.ru/VB-5425\n * @param {String} url\n * @returns {Boolean}\n */\nfunction isWatchingUrl(url) {\n    return !closedTabsFilter.some(pattern => {\n        if (isRegExp(pattern)) {\n            return pattern.test(url);\n        }\n\n        return urlUtils.isEqualUrls(pattern, url);\n    });\n}\n\n/**\n * Adds listener to chistory remove event.\n * Not all platforms supports this feature.\n */\nfunction addHistoryRemovedListener() {\n    if (chrome.history && chrome.history.onVisitRemoved) {\n        chrome.history.onVisitRemoved.addListener(handleHistoryRemovedEvent);\n    }\n}\n\n/**\n * @param {Object} [removedInfo]\n */\nfunction handleHistoryRemovedEvent(removedInfo) {\n    if (removedInfo && removedInfo.allHistory) {\n        exports.onHistoryCleared.dispatch();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/closed-tabs/listener.js","/**\n * @description\n * Новый модуль tabs-watcher-а. Модуль так же содержит прокси каналы для событий\n * реаилизованных через Signal\n */\n\n'use strict';\nconst Channel = require('./channel');\nconst TabsWatcher = require('yandex-elements-core/tabs-watcher');\n\n/**\n * Синглтон экземпляр вотчера\n * @type {TabsWatcher}\n */\nexports.watcher = new TabsWatcher();\n\n/**\n * Прокси для signal => channel\n */\nexports.events = {\n    public: {}\n};\n\n[\n    'onCreated',\n    'onUpdated',\n    'onActivated',\n    'onRemoved',\n    'onAttached',\n    'onReplaced',\n    'onBeforeNavigate',\n    'onCommitted',\n    'onCompleted',\n    'onErrorOccurred',\n    'onDOMContentLoaded',\n    'onHistoryStateUpdated',\n    'onReferenceFragmentUpdated',\n].forEach(event => {\n    exports.events[event] = eventProxyFactory(exports.watcher[event]);\n    exports.events.public[event] = eventProxyFactory(exports.watcher.public[event]);\n});\n\n/**\n * Фабрика для прокси\n * @param   {Signal} signal\n * @returns {Channel}\n */\nfunction eventProxyFactory(signal) {\n    const channel = new Channel();\n    signal.add((...args) => {\n        channel.dispatch(...args);\n    });\n\n    return channel;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/tabs-watcher-2.js","/**\n * @class\n * @description\n * Класс для работы с табами, отслеживает состояние табов, проксирует нативные события.\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _eventToSignalMap;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _signals = require('signals');\n\nvar _signals2 = _interopRequireDefault(_signals);\n\nvar _thenChrome = require('then-chrome');\n\nvar _thenChrome2 = _interopRequireDefault(_thenChrome);\n\nvar _tab = require('./tab');\n\nvar _tab2 = _interopRequireDefault(_tab);\n\nvar _collectionStorage = require('../collection/storage');\n\nvar _collectionStorage2 = _interopRequireDefault(_collectionStorage);\n\nvar _collectionCollection = require('../collection/collection');\n\nvar _collectionCollection2 = _interopRequireDefault(_collectionCollection);\n\nvar _navListener = require('./nav-listener');\n\nvar _navListener2 = _interopRequireDefault(_navListener);\n\nvar _navigation = require('./navigation');\n\nvar eventToSignalMap = (_eventToSignalMap = {}, _defineProperty(_eventToSignalMap, _navigation.NAVIGATION_STATUS.BEFORE_NAVIGATE, 'onBeforeNavigate'), _defineProperty(_eventToSignalMap, _navigation.NAVIGATION_STATUS.COMMITTED, 'onCommitted'), _defineProperty(_eventToSignalMap, _navigation.NAVIGATION_STATUS.DOM_CONTENT_LOADED, 'onDOMContentLoaded'), _defineProperty(_eventToSignalMap, _navigation.NAVIGATION_STATUS.COMPLETED, 'onCompleted'), _defineProperty(_eventToSignalMap, _navigation.NAVIGATION_STATUS.ERROR_OCCURRED, 'onErrorOccurred'), _defineProperty(_eventToSignalMap, _navigation.NAVIGATION_STATUS.HISTORY_STATE_UPDATED, 'onHistoryStatusUpdated'), _defineProperty(_eventToSignalMap, _navigation.NAVIGATION_STATUS.REFERENCE_FRAGMENT_UPDATED, 'onReferenceFragmentUpdated'), _eventToSignalMap);\n\nvar TabsWatcher = (function () {\n    /**\n     * Constructor\n     */\n\n    function TabsWatcher() {\n        _classCallCheck(this, TabsWatcher);\n\n        this.storage = new _collectionStorage2['default'](_collectionCollection2['default']);\n        // Скоп для сигналов, которые не будут вызываться для табов в режиме инкогнито\n        this['public'] = {};\n\n        this._createSignals(this);\n        this._createSignals(this['public']);\n        this._createNavListener();\n        this._createTabActionListeners();\n        this._createWindowActionListeners();\n\n        this._readExistingTabs();\n        this.activeTabId = {};\n        this.replacedTabs = {};\n\n        /**\n         * Id текущего окна\n         */\n        this.currentWindowId = null;\n    }\n\n    /**\n     * Возвращает Tab объект\n     *\n     * @param {Number} tabId\n     * @returns {Model}\n     */\n\n    _createClass(TabsWatcher, [{\n        key: 'getTabData',\n        value: function getTabData(tabId) {\n            return this.storage.getById(tabId);\n        }\n\n        /**\n         * Прокси для нативных событий\n         *\n         * @private\n         */\n    }, {\n        key: '_createSignals',\n        value: function _createSignals(scope) {\n            // chrome.tabs proxy\n            scope.onCreated = new _signals2['default']();\n            scope.onUpdated = new _signals2['default']();\n            scope.onActivated = new _signals2['default']();\n            scope.onRemoved = new _signals2['default']();\n            scope.onAttached = new _signals2['default']();\n            scope.onReplaced = new _signals2['default']();\n\n            // chrome.webNavigation proxy\n            scope.onBeforeNavigate = new _signals2['default']();\n            scope.onCommitted = new _signals2['default']();\n            scope.onCompleted = new _signals2['default']();\n            scope.onErrorOccurred = new _signals2['default']();\n            scope.onDOMContentLoaded = new _signals2['default']();\n            scope.onHistoryStateUpdated = new _signals2['default']();\n            scope.onReferenceFragmentUpdated = new _signals2['default']();\n        }\n\n        /**\n         * Слушатели навигационных событий\n         *\n         * @private\n         */\n    }, {\n        key: '_createNavListener',\n        value: function _createNavListener() {\n            this.navListener = new _navListener2['default']();\n            this._updateNavigation = this._updateNavigation.bind(this);\n            this.navListener.onNavigationUpdated.add(this._updateNavigation);\n        }\n\n        /**\n         * Слушатели событий chrome.tabs\n         *\n         * @private\n         */\n    }, {\n        key: '_createTabActionListeners',\n        value: function _createTabActionListeners() {\n            this._onCreated = this._onCreated.bind(this);\n            this._onRemoved = this._onRemoved.bind(this);\n            this._onUpdated = this._onUpdated.bind(this);\n            this._onActivated = this._onActivated.bind(this);\n            this._onAttached = this._onAttached.bind(this);\n            this._onReplaced = this._onReplaced.bind(this);\n\n            chrome.tabs.onCreated.addListener(this._onCreated);\n            chrome.tabs.onRemoved.addListener(this._onRemoved);\n            chrome.tabs.onUpdated.addListener(this._onUpdated);\n            chrome.tabs.onActivated.addListener(this._onActivated);\n            chrome.tabs.onAttached.addListener(this._onAttached);\n            chrome.tabs.onReplaced.addListener(this._onReplaced);\n        }\n\n        /**\n         * Создает и регистрирует обработчик события над окнами\n         *\n         * @private\n         */\n    }, {\n        key: '_createWindowActionListeners',\n        value: function _createWindowActionListeners() {\n            this._onWindowFocusChanged = this._onWindowFocusChanged.bind(this);\n\n            chrome.windows.onFocusChanged.addListener(this._onWindowFocusChanged);\n        }\n\n        /**\n         * Инициализация хранилища существующими табами\n         *\n         * @private\n         */\n    }, {\n        key: '_readExistingTabs',\n        value: function _readExistingTabs() {\n            var _this = this;\n\n            _thenChrome2['default'].windows.getAll({ populate: true }).then(function (windows) {\n                return _this._readTabsFromExistingWindows(windows);\n            }).then(function (tabs) {\n                return _this._saveTabsToStorage(tabs);\n            })['catch'](function (error) {\n                throw error;\n            });\n        }\n\n        /**\n         * Возвращает список табов, принадлежащих окнам из переданного списка\n         *\n         * @returns {Array<chrome.tabs.Tab>}\n         * @private\n         */\n    }, {\n        key: '_readTabsFromExistingWindows',\n        value: function _readTabsFromExistingWindows(windows) {\n            // Также устанавливаем id текущего окна\n            var currentWindow = windows.filter(function (window) {\n                return window.focused;\n            })[0];\n            this.currentWindowId = currentWindow ? currentWindow.id : null;\n\n            // Собираем табы\n            return windows.reduce(function (res, win) {\n                return res.concat(win.tabs);\n            }, []);\n        }\n\n        /**\n         * Сохраняет переданные табы в хранилище\n         *\n         * @private\n         */\n    }, {\n        key: '_saveTabsToStorage',\n        value: function _saveTabsToStorage(tabs) {\n            var _this2 = this;\n\n            var wrappers = tabs.map(function (tab) {\n                if (tab.active) {\n                    _this2.activeTabId[tab.windowId] = tab.id;\n                }\n\n                tab.isInCurrentWindow = tab.windowId === _this2.currentWindowId;\n\n                return new _tab2['default'](tab);\n            });\n\n            this.storage.update(wrappers);\n        }\n\n        /**\n         * Обработчик обновления навигации\n         *\n         * @param {Object} navigation\n         * @private\n         */\n    }, {\n        key: '_updateNavigation',\n        value: function _updateNavigation(navigation) {\n            var _this3 = this;\n\n            var tabId = navigation.tabId;\n\n            _thenChrome2['default'].tabs.get(tabId).then(function (data) {\n                var diff = _this3.storage.getDiffObject(tabId, { data: data, navigation: navigation });\n                var tab = _this3.storage.merge(diff);\n\n                _this3._dispatch(eventToSignalMap[navigation.status], tabId, tab, navigation);\n            })['catch'](function () {\n                // do nothing\n            });\n        }\n\n        /**\n         * Обработчик создания нового таба\n         *\n         * @param {Object} tab\n         * @private\n         */\n    }, {\n        key: '_onCreated',\n        value: function _onCreated(tab) {\n            tab.navInNewWindow = this.storage.snapshot(function (_ref) {\n                var data = _ref.data;\n\n                return data.windowId === tab.windowId;\n            }).size === 0;\n\n            tab.isInCurrentWindow = tab.windowId === this.currentWindowId;\n\n            tab = new _tab2['default'](tab);\n            this.storage.update(tab);\n\n            this._dispatch('onCreated', tab.id, tab);\n        }\n\n        /**\n         * Обработка замены вкладки, при фоновом открытии новой\n         *\n         * @param {Number} addedTabId\n         * @param {Number} removedTabId\n         * @private\n         */\n    }, {\n        key: '_onReplaced',\n        value: function _onReplaced(addedTabId, removedTabId) {\n            this.storage.remove(removedTabId);\n            this.replacedTabs[addedTabId] = true;\n        }\n\n        /**\n         * Слушаем событие tabs.onAttached, чтобы можно было\n         * обновить windowId таба\n         *\n         * @param {Number} tabId\n         * @param {Number} newWindowId\n         * @param {Number} newPosition\n         * @private\n         */\n    }, {\n        key: '_onAttached',\n        value: function _onAttached(tabId, _ref2) {\n            var newWindowId = _ref2.newWindowId;\n            var newPosition = _ref2.newPosition;\n\n            var diff = this.storage.getDiffObject(tabId, {\n                data: {\n                    windowId: newWindowId,\n                    index: newPosition,\n                    isInCurrentWindow: newWindowId === this.currentWindowId\n                }\n            });\n\n            var tab = this.storage.merge(diff);\n            this._dispatch('onAttached', tabId, tab, { newWindowId: newWindowId, newPosition: newPosition });\n        }\n\n        /**\n         * Обновляем данные таба\n         * url, pinned, audible, mutedInfo, favIconUrl, title\n         *\n         * @param {Number} tabId\n         * @param {Object} updateInfo\n         * @private\n         */\n    }, {\n        key: '_onUpdated',\n        value: function _onUpdated(tabId, updateInfo) {\n            if (updateInfo.status) {\n                return;\n            }\n\n            var diff = this.storage.getDiffObject(tabId, {\n                data: updateInfo\n            });\n\n            var tab = this.storage.merge(diff);\n            this._dispatch('onUpdated', tabId, tab, updateInfo);\n        }\n\n        /**\n         * Обработчик активации таба. Помимо активации нового таба, нужно обновить состояние\n         * предыдущего активного таба.\n         * Из-за того что при срабатывании события onReplaced, невозможно получить\n         * новый таб через chrome.tabs.get (событие onActivated приходит раньше,\n         * чем вызывается колбэк получения вкладки по айди), нужно сначала\n         * добавить, замененную, вкладку в стор а потом уже вызвать onActivated для нее.\n         *\n         * @param {Number} tabId\n         * @param {Number} windowId\n         * @private\n         */\n    }, {\n        key: '_onActivated',\n        value: function _onActivated(_ref3) {\n            var tabId = _ref3.tabId;\n            var windowId = _ref3.windowId;\n\n            if (this.replacedTabs[tabId]) {\n                this._replaceTab(tabId, windowId);\n            } else {\n                var _activateTab2 = this._activateTab(tabId, windowId);\n\n                var _activateTab22 = _slicedToArray(_activateTab2, 2);\n\n                var activatedTab = _activateTab22[0];\n                var deactivatedTab = _activateTab22[1];\n\n                this._dispatch('onActivated', tabId, activatedTab, windowId, deactivatedTab);\n            }\n        }\n\n        /**\n         * Добавление замененного таба в хранилище\n         *\n         * @param {Number} tabId\n         * @param {Number} windowId\n         * @private\n         */\n    }, {\n        key: '_replaceTab',\n        value: function _replaceTab(tabId, windowId) {\n            var _this4 = this;\n\n            delete this.replacedTabs[tabId];\n\n            _thenChrome2['default'].tabs.get(tabId).then(function (tab) {\n                tab.isInCurrentWindow = windowId === _this4.currentWindowId;\n\n                _this4.storage.update(new _tab2['default'](tab));\n                _this4._onActivated({\n                    tabId: tabId,\n                    windowId: windowId\n                });\n            })['catch'](function () {\n                // do nothing\n            });\n        }\n\n        /**\n         * Активация таба.\n         *\n         * @param {Number} tabId\n         * @param {Number} windowId\n         * @returns {Array}\n         * @private\n         */\n    }, {\n        key: '_activateTab',\n        value: function _activateTab(tabId, windowId) {\n            var activeTabId = this.activeTabId[windowId];\n            var diffs = [this.storage.getDiffObject(tabId, { data: { active: true } })];\n\n            this.activeTabId[windowId] = tabId;\n\n            if (activeTabId) {\n                diffs.push(this.storage.getDiffObject(activeTabId, { data: { active: false } }));\n            }\n\n            return this.storage.merge(diffs);\n        }\n\n        /**\n         * Обработчик удаления таба\n         *\n         * @param {Number} tabId\n         * @param {Object} removeInfo\n         * @private\n         */\n    }, {\n        key: '_onRemoved',\n        value: function _onRemoved(tabId, removeInfo) {\n            var windowId = removeInfo.windowId;\n\n            if (this.activeTabId[windowId] === tabId) {\n                delete this.activeTabId[windowId];\n            }\n\n            var removedTab = this.storage.remove(tabId);\n            this._dispatch('onRemoved', tabId, removedTab, removeInfo);\n        }\n\n        /**\n         * Обработчик смены фокуса текущего окна\n         *\n         * @param {Number} windowId\n         * @private\n         */\n    }, {\n        key: '_onWindowFocusChanged',\n        value: function _onWindowFocusChanged(windowId) {\n            var _this5 = this;\n\n            if (windowId === chrome.windows.WINDOW_ID_NONE) {\n                return;\n            }\n\n            var diff = this.storage\n            // Собираем табы старого и нового окон\n            .snapshot(function (_ref4) {\n                var data = _ref4.data;\n                return data.windowId === windowId || data.windowId === _this5.currentWindowId;\n            }).map(function (_ref5) {\n                var id = _ref5.id;\n                var data = _ref5.data;\n\n                // Меняем им признак присутствия в текущем окне\n                return _this5.storage.getDiffObject(id, {\n                    data: {\n                        isInCurrentWindow: data.windowId === windowId\n                    }\n                });\n            });\n            this.storage.merge(diff);\n\n            // Меняем id текущего окна\n            this.currentWindowId = windowId;\n        }\n\n        /**\n         * Query для получения табов текущего окна\n         *\n         * @param {Object} data\n         * @private\n         */\n    }, {\n        key: '_tabsInCurrentWindowQuery',\n        value: function _tabsInCurrentWindowQuery(_ref6) {\n            var data = _ref6.data;\n\n            return data.windowId === this.currentWindowId;\n        }\n\n        /**\n         * Хелпер для вызова сигналов\n         *\n         * @param {String} signalName\n         * @param {Number} tabId\n         * @param {Tab} tabData\n         * @param {*} [args]\n         * @private\n         */\n    }, {\n        key: '_dispatch',\n        value: function _dispatch(signalName, tabId, tabData) {\n            var isIncognito = tabData.data.incognito;\n\n            for (var _len = arguments.length, args = Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n                args[_key - 3] = arguments[_key];\n            }\n\n            if (this[signalName] instanceof _signals2['default']) {\n                var _signalName;\n\n                (_signalName = this[signalName]).dispatch.apply(_signalName, [tabId, tabData].concat(args));\n            }\n\n            if (!isIncognito) {\n                if (this['public'][signalName] instanceof _signals2['default']) {\n                    var _public$signalName;\n\n                    (_public$signalName = this['public'][signalName]).dispatch.apply(_public$signalName, [tabId, tabData].concat(args));\n                }\n            }\n        }\n\n        /**\n         * Очищение, удаление слушателей\n         */\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            this.storage.clear();\n            this._removeEventListeners(this);\n            this._removeEventListeners(this['public']);\n\n            chrome.tabs.onCreated.removeListener(this._onCreated);\n            chrome.tabs.onRemoved.removeListener(this._onRemoved);\n            chrome.tabs.onUpdated.removeListener(this._onUpdated);\n            chrome.tabs.onActivated.removeListener(this._onActivated);\n            chrome.tabs.onAttached.removeListener(this._onAttached);\n            chrome.tabs.onReplaced.removeListener(this._onReplaced);\n            this.navListener.onNavigationUpdated.remove(this._updateNavigation);\n            chrome.windows.onFocusChanged.removeListener(this._onWindowFocusChanged);\n        }\n\n        /**\n         * Удаление слушателей событий\n         *\n         * @param {Object} scope\n         * @private\n         */\n    }, {\n        key: '_removeEventListeners',\n        value: function _removeEventListeners(scope) {\n            // chrome.tabs proxy\n            scope.onCreated.removeAll();\n            scope.onUpdated.removeAll();\n            scope.onActivated.removeAll();\n            scope.onRemoved.removeAll();\n            scope.onAttached.removeAll();\n\n            // chrome.webNavigation proxy\n            scope.onBeforeNavigate.removeAll();\n            scope.onCommitted.removeAll();\n            scope.onCompleted.removeAll();\n            scope.onErrorOccurred.removeAll();\n            scope.onDOMContentLoaded.removeAll();\n            scope.onHistoryStateUpdated.removeAll();\n            scope.onReferenceFragmentUpdated.removeAll();\n        }\n    }]);\n\n    return TabsWatcher;\n})();\n\nexports['default'] = TabsWatcher;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/yandex-elements-core/tabs-watcher/index.js\n// module id = 310\n// module chunks = 1","/*jslint onevar:true, undef:true, newcap:true, regexp:true, bitwise:true, maxerr:50, indent:4, white:false, nomen:false, plusplus:false */\n/*global define:false, require:false, exports:false, module:false, signals:false */\n\n/** @license\n * JS Signals <http://millermedeiros.github.com/js-signals/>\n * Released under the MIT license\n * Author: Miller Medeiros\n * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)\n */\n\n(function(global){\n\n    // SignalBinding -------------------------------------------------\n    //================================================================\n\n    /**\n     * Object that represents a binding between a Signal and a listener function.\n     * <br />- <strong>This is an internal constructor and shouldn't be called by regular users.</strong>\n     * <br />- inspired by Joa Ebert AS3 SignalBinding and Robert Penner's Slot classes.\n     * @author Miller Medeiros\n     * @constructor\n     * @internal\n     * @name SignalBinding\n     * @param {Signal} signal Reference to Signal object that listener is currently bound to.\n     * @param {Function} listener Handler function bound to the signal.\n     * @param {boolean} isOnce If binding should be executed just once.\n     * @param {Object} [listenerContext] Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n     * @param {Number} [priority] The priority level of the event listener. (default = 0).\n     */\n    function SignalBinding(signal, listener, isOnce, listenerContext, priority) {\n\n        /**\n         * Handler function bound to the signal.\n         * @type Function\n         * @private\n         */\n        this._listener = listener;\n\n        /**\n         * If binding should be executed just once.\n         * @type boolean\n         * @private\n         */\n        this._isOnce = isOnce;\n\n        /**\n         * Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n         * @memberOf SignalBinding.prototype\n         * @name context\n         * @type Object|undefined|null\n         */\n        this.context = listenerContext;\n\n        /**\n         * Reference to Signal object that listener is currently bound to.\n         * @type Signal\n         * @private\n         */\n        this._signal = signal;\n\n        /**\n         * Listener priority\n         * @type Number\n         * @private\n         */\n        this._priority = priority || 0;\n    }\n\n    SignalBinding.prototype = {\n\n        /**\n         * If binding is active and should be executed.\n         * @type boolean\n         */\n        active : true,\n\n        /**\n         * Default parameters passed to listener during `Signal.dispatch` and `SignalBinding.execute`. (curried parameters)\n         * @type Array|null\n         */\n        params : null,\n\n        /**\n         * Call listener passing arbitrary parameters.\n         * <p>If binding was added using `Signal.addOnce()` it will be automatically removed from signal dispatch queue, this method is used internally for the signal dispatch.</p>\n         * @param {Array} [paramsArr] Array of parameters that should be passed to the listener\n         * @return {*} Value returned by the listener.\n         */\n        execute : function (paramsArr) {\n            var handlerReturn, params;\n            if (this.active && !!this._listener) {\n                params = this.params? this.params.concat(paramsArr) : paramsArr;\n                handlerReturn = this._listener.apply(this.context, params);\n                if (this._isOnce) {\n                    this.detach();\n                }\n            }\n            return handlerReturn;\n        },\n\n        /**\n         * Detach binding from signal.\n         * - alias to: mySignal.remove(myBinding.getListener());\n         * @return {Function|null} Handler function bound to the signal or `null` if binding was previously detached.\n         */\n        detach : function () {\n            return this.isBound()? this._signal.remove(this._listener, this.context) : null;\n        },\n\n        /**\n         * @return {Boolean} `true` if binding is still bound to the signal and have a listener.\n         */\n        isBound : function () {\n            return (!!this._signal && !!this._listener);\n        },\n\n        /**\n         * @return {boolean} If SignalBinding will only be executed once.\n         */\n        isOnce : function () {\n            return this._isOnce;\n        },\n\n        /**\n         * @return {Function} Handler function bound to the signal.\n         */\n        getListener : function () {\n            return this._listener;\n        },\n\n        /**\n         * @return {Signal} Signal that listener is currently bound to.\n         */\n        getSignal : function () {\n            return this._signal;\n        },\n\n        /**\n         * Delete instance properties\n         * @private\n         */\n        _destroy : function () {\n            delete this._signal;\n            delete this._listener;\n            delete this.context;\n        },\n\n        /**\n         * @return {string} String representation of the object.\n         */\n        toString : function () {\n            return '[SignalBinding isOnce:' + this._isOnce +', isBound:'+ this.isBound() +', active:' + this.active + ']';\n        }\n\n    };\n\n\n/*global SignalBinding:false*/\n\n    // Signal --------------------------------------------------------\n    //================================================================\n\n    function validateListener(listener, fnName) {\n        if (typeof listener !== 'function') {\n            throw new Error( 'listener is a required param of {fn}() and should be a Function.'.replace('{fn}', fnName) );\n        }\n    }\n\n    /**\n     * Custom event broadcaster\n     * <br />- inspired by Robert Penner's AS3 Signals.\n     * @name Signal\n     * @author Miller Medeiros\n     * @constructor\n     */\n    function Signal() {\n        /**\n         * @type Array.<SignalBinding>\n         * @private\n         */\n        this._bindings = [];\n        this._prevParams = null;\n\n        // enforce dispatch to aways work on same context (#47)\n        var self = this;\n        this.dispatch = function(){\n            Signal.prototype.dispatch.apply(self, arguments);\n        };\n    }\n\n    Signal.prototype = {\n\n        /**\n         * Signals Version Number\n         * @type String\n         * @const\n         */\n        VERSION : '1.0.0',\n\n        /**\n         * If Signal should keep record of previously dispatched parameters and\n         * automatically execute listener during `add()`/`addOnce()` if Signal was\n         * already dispatched before.\n         * @type boolean\n         */\n        memorize : false,\n\n        /**\n         * @type boolean\n         * @private\n         */\n        _shouldPropagate : true,\n\n        /**\n         * If Signal is active and should broadcast events.\n         * <p><strong>IMPORTANT:</strong> Setting this property during a dispatch will only affect the next dispatch, if you want to stop the propagation of a signal use `halt()` instead.</p>\n         * @type boolean\n         */\n        active : true,\n\n        /**\n         * @param {Function} listener\n         * @param {boolean} isOnce\n         * @param {Object} [listenerContext]\n         * @param {Number} [priority]\n         * @return {SignalBinding}\n         * @private\n         */\n        _registerListener : function (listener, isOnce, listenerContext, priority) {\n\n            var prevIndex = this._indexOfListener(listener, listenerContext),\n                binding;\n\n            if (prevIndex !== -1) {\n                binding = this._bindings[prevIndex];\n                if (binding.isOnce() !== isOnce) {\n                    throw new Error('You cannot add'+ (isOnce? '' : 'Once') +'() then add'+ (!isOnce? '' : 'Once') +'() the same listener without removing the relationship first.');\n                }\n            } else {\n                binding = new SignalBinding(this, listener, isOnce, listenerContext, priority);\n                this._addBinding(binding);\n            }\n\n            if(this.memorize && this._prevParams){\n                binding.execute(this._prevParams);\n            }\n\n            return binding;\n        },\n\n        /**\n         * @param {SignalBinding} binding\n         * @private\n         */\n        _addBinding : function (binding) {\n            //simplified insertion sort\n            var n = this._bindings.length;\n            do { --n; } while (this._bindings[n] && binding._priority <= this._bindings[n]._priority);\n            this._bindings.splice(n + 1, 0, binding);\n        },\n\n        /**\n         * @param {Function} listener\n         * @return {number}\n         * @private\n         */\n        _indexOfListener : function (listener, context) {\n            var n = this._bindings.length,\n                cur;\n            while (n--) {\n                cur = this._bindings[n];\n                if (cur._listener === listener && cur.context === context) {\n                    return n;\n                }\n            }\n            return -1;\n        },\n\n        /**\n         * Check if listener was attached to Signal.\n         * @param {Function} listener\n         * @param {Object} [context]\n         * @return {boolean} if Signal has the specified listener.\n         */\n        has : function (listener, context) {\n            return this._indexOfListener(listener, context) !== -1;\n        },\n\n        /**\n         * Add a listener to the signal.\n         * @param {Function} listener Signal handler function.\n         * @param {Object} [listenerContext] Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n         * @param {Number} [priority] The priority level of the event listener. Listeners with higher priority will be executed before listeners with lower priority. Listeners with same priority level will be executed at the same order as they were added. (default = 0)\n         * @return {SignalBinding} An Object representing the binding between the Signal and listener.\n         */\n        add : function (listener, listenerContext, priority) {\n            validateListener(listener, 'add');\n            return this._registerListener(listener, false, listenerContext, priority);\n        },\n\n        /**\n         * Add listener to the signal that should be removed after first execution (will be executed only once).\n         * @param {Function} listener Signal handler function.\n         * @param {Object} [listenerContext] Context on which listener will be executed (object that should represent the `this` variable inside listener function).\n         * @param {Number} [priority] The priority level of the event listener. Listeners with higher priority will be executed before listeners with lower priority. Listeners with same priority level will be executed at the same order as they were added. (default = 0)\n         * @return {SignalBinding} An Object representing the binding between the Signal and listener.\n         */\n        addOnce : function (listener, listenerContext, priority) {\n            validateListener(listener, 'addOnce');\n            return this._registerListener(listener, true, listenerContext, priority);\n        },\n\n        /**\n         * Remove a single listener from the dispatch queue.\n         * @param {Function} listener Handler function that should be removed.\n         * @param {Object} [context] Execution context (since you can add the same handler multiple times if executing in a different context).\n         * @return {Function} Listener handler function.\n         */\n        remove : function (listener, context) {\n            validateListener(listener, 'remove');\n\n            var i = this._indexOfListener(listener, context);\n            if (i !== -1) {\n                this._bindings[i]._destroy(); //no reason to a SignalBinding exist if it isn't attached to a signal\n                this._bindings.splice(i, 1);\n            }\n            return listener;\n        },\n\n        /**\n         * Remove all listeners from the Signal.\n         */\n        removeAll : function () {\n            var n = this._bindings.length;\n            while (n--) {\n                this._bindings[n]._destroy();\n            }\n            this._bindings.length = 0;\n        },\n\n        /**\n         * @return {number} Number of listeners attached to the Signal.\n         */\n        getNumListeners : function () {\n            return this._bindings.length;\n        },\n\n        /**\n         * Stop propagation of the event, blocking the dispatch to next listeners on the queue.\n         * <p><strong>IMPORTANT:</strong> should be called only during signal dispatch, calling it before/after dispatch won't affect signal broadcast.</p>\n         * @see Signal.prototype.disable\n         */\n        halt : function () {\n            this._shouldPropagate = false;\n        },\n\n        /**\n         * Dispatch/Broadcast Signal to all listeners added to the queue.\n         * @param {...*} [params] Parameters that should be passed to each handler.\n         */\n        dispatch : function (params) {\n            if (! this.active) {\n                return;\n            }\n\n            var paramsArr = Array.prototype.slice.call(arguments),\n                n = this._bindings.length,\n                bindings;\n\n            if (this.memorize) {\n                this._prevParams = paramsArr;\n            }\n\n            if (! n) {\n                //should come after memorize\n                return;\n            }\n\n            bindings = this._bindings.slice(); //clone array in case add/remove items during dispatch\n            this._shouldPropagate = true; //in case `halt` was called before dispatch or during the previous dispatch.\n\n            //execute all callbacks until end of the list or until a callback returns `false` or stops propagation\n            //reverse loop since listeners with higher priority will be added at the end of the list\n            do { n--; } while (bindings[n] && this._shouldPropagate && bindings[n].execute(paramsArr) !== false);\n        },\n\n        /**\n         * Forget memorized arguments.\n         * @see Signal.memorize\n         */\n        forget : function(){\n            this._prevParams = null;\n        },\n\n        /**\n         * Remove all bindings from signal and destroy any reference to external objects (destroy Signal object).\n         * <p><strong>IMPORTANT:</strong> calling any method on the signal instance after calling dispose will throw errors.</p>\n         */\n        dispose : function () {\n            this.removeAll();\n            delete this._bindings;\n            delete this._prevParams;\n        },\n\n        /**\n         * @return {string} String representation of the object.\n         */\n        toString : function () {\n            return '[Signal active:'+ this.active +' numListeners:'+ this.getNumListeners() +']';\n        }\n\n    };\n\n\n    // Namespace -----------------------------------------------------\n    //================================================================\n\n    /**\n     * Signals namespace\n     * @namespace\n     * @name signals\n     */\n    var signals = Signal;\n\n    /**\n     * Custom event broadcaster\n     * @see Signal\n     */\n    // alias for backwards compatibility (see #gh-44)\n    signals.Signal = Signal;\n\n\n\n    //exports to multiple environments\n    if(typeof define === 'function' && define.amd){ //AMD\n        define(function () { return signals; });\n    } else if (typeof module !== 'undefined' && module.exports){ //node\n        module.exports = signals;\n    } else { //browser\n        //use string because of Google closure compiler ADVANCED_MODE\n        /*jslint sub:true */\n        global['signals'] = signals;\n    }\n\n}(this));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/signals/dist/signals.js\n// module id = 311\n// module chunks = 1","/**\n * @class\n * @description\n * Модель для таба. Включает в себя текущую навигацию таба\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _lodashObjectPick = require('lodash/object/pick');\n\nvar _lodashObjectPick2 = _interopRequireDefault(_lodashObjectPick);\n\nvar _navigation = require('./navigation');\n\nvar _navigation2 = _interopRequireDefault(_navigation);\n\nvar _collectionModel = require('../collection/model');\n\nvar _collectionModel2 = _interopRequireDefault(_collectionModel);\n\nvar _lodashLangIsEmpty = require('lodash/lang/isEmpty');\n\nvar _lodashLangIsEmpty2 = _interopRequireDefault(_lodashLangIsEmpty);\n\nvar props = ['id', 'windowId', 'openerTabId', 'active', 'isInCurrentWindow', 'audible', 'mutedInfo', 'title', 'favIconUrl', 'status', 'incognito', 'sessionId', 'url', 'navInNewWindow', 'navInExistingTab'];\n\nvar navProps = ['transitionType', 'transitionQualifiers', 'url', 'status'];\n\nvar COMPLETE = 'complete';\nvar LOADING = 'loading';\nvar COMPLETED = _navigation.NAVIGATION_STATUS.COMPLETED;\nvar COMMITTED = _navigation.NAVIGATION_STATUS.COMMITTED;\n\nvar Tab = (function (_Model) {\n    _inherits(Tab, _Model);\n\n    /**\n     * @constructor\n     * @param {Tab} tab\n     * @param {Navigation} navigation\n     */\n\n    function Tab(tab, navigation) {\n        _classCallCheck(this, Tab);\n\n        _get(Object.getPrototypeOf(Tab.prototype), 'constructor', this).call(this);\n        this.id = tab.id;\n        this.data = {\n            navInExistingTab: false\n        };\n\n        this.updateData(tab);\n\n        if (navigation || (0, _lodashLangIsEmpty2['default'])(tab.url)) {\n            this.navigation = new _navigation2['default'](navigation);\n        } else {\n            this.navigation = new _navigation2['default']({\n                url: tab.url,\n                status: tab.status === COMPLETE ? COMPLETED : COMMITTED\n            });\n        }\n    }\n\n    /**\n     * Обновление данных таба\n     *\n     * @param {Object} tabData\n     * @returns {Tab}\n     */\n\n    _createClass(Tab, [{\n        key: 'updateData',\n        value: function updateData(tabData) {\n            Object.assign(this.data, (0, _lodashObjectPick2['default'])(tabData, props));\n            return this;\n        }\n\n        /**\n         * @param {Object} data\n         * @param {Navigation|Object} navigation\n         * @returns {Tab}\n         */\n    }, {\n        key: 'merge',\n        value: function merge() {\n            var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n            var data = _ref.data;\n            var navigation = _ref.navigation;\n\n            if (data) {\n                this.updateData(data);\n            }\n\n            if (navigation) {\n                this.updateNavigation(navigation);\n            }\n            return this;\n        }\n\n        /**\n         * Обновления списка навигаций\n         *\n         * @param {Object} data\n         * @param {Number} data.id\n         * @param {String} data.url\n         * @param {Number} data.status\n         * @param {String} data.transitionType\n         * @param {Array<string>} data.transitionQualifiers\n         *\n         * @returns {Tab}\n         */\n    }, {\n        key: 'updateNavigation',\n        value: function updateNavigation(data) {\n            var navData = (0, _lodashObjectPick2['default'])(data, navProps);\n\n            this.data.navInExistingTab = !this.navigation.isEmpty;\n            this.navigation.update(navData);\n            this.data.url = navData.url;\n\n            this.data.status = this.isComplete ? COMPLETE : LOADING;\n\n            return this;\n        }\n\n        /**\n         * Клонирование таба\n         *\n         * @returns {Tab}\n         */\n    }, {\n        key: 'clone',\n        value: function clone() {\n            var data = Object.assign({}, this.data);\n            data.mutedInfo = Object.assign({}, data.mutedInfo);\n\n            return new Tab(data, this.navigation);\n        }\n\n        /**\n         * Таб должен находиться в состоянии complete\n         * Даже в случае если загрузка страницы окончилась\n         * с ошибкой\n         *\n         * @returns {Boolean}\n         */\n    }, {\n        key: 'getId',\n\n        /**\n         * Получение id таба\n         *\n         * @return {Number}\n         */\n        value: function getId() {\n            return this.id;\n        }\n    }, {\n        key: 'isComplete',\n        get: function get() {\n            return this.navigation.isFinished;\n        }\n\n        /**\n         * Признак, что таб текущий открытый (активный и в текущем окне)\n         *\n         * @returns {Boolean}\n         */\n    }, {\n        key: 'isCurrent',\n        get: function get() {\n            return this.data.isInCurrentWindow && this.data.active;\n        }\n    }]);\n\n    return Tab;\n})(_collectionModel2['default']);\n\nexports['default'] = Tab;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/yandex-elements-core/tabs-watcher/tab.js\n// module id = 312\n// module chunks = 1","/**\n * @class\n * @description\n * Содержит данные о навигации на табе\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodashArrayLast = require('lodash/array/last');\n\nvar _lodashArrayLast2 = _interopRequireDefault(_lodashArrayLast);\n\nvar _uuid = require('uuid');\n\nvar _uuid2 = _interopRequireDefault(_uuid);\n\nvar NAVIGATION_STATUS = {\n    EMPTY: -1,\n    BEFORE_NAVIGATE: 0,\n    COMMITTED: 1,\n    DOM_CONTENT_LOADED: 2,\n    COMPLETED: 3,\n    ERROR_OCCURRED: 4,\n    HISTORY_STATE_UPDATED: 5,\n    REFERENCE_FRAGMENT_UPDATED: 6\n};\n\nexports.NAVIGATION_STATUS = NAVIGATION_STATUS;\nvar EMPTY = NAVIGATION_STATUS.EMPTY;\nvar BEFORE_NAVIGATE = NAVIGATION_STATUS.BEFORE_NAVIGATE;\nvar COMMITTED = NAVIGATION_STATUS.COMMITTED;\nvar DOM_CONTENT_LOADED = NAVIGATION_STATUS.DOM_CONTENT_LOADED;\nvar COMPLETED = NAVIGATION_STATUS.COMPLETED;\nvar ERROR_OCCURRED = NAVIGATION_STATUS.ERROR_OCCURRED;\nvar HISTORY_STATE_UPDATED = NAVIGATION_STATUS.HISTORY_STATE_UPDATED;\n\nvar POSSIBLE_STATUSES = [BEFORE_NAVIGATE, COMMITTED, COMPLETED, ERROR_OCCURRED];\n\nvar CLIENT_REDIRECT = 'client_redirect';\nvar SERVER_REDIRECT = 'server_redirect';\n\nvar Navigation = (function () {\n    /**\n     * Copy-конструктор\n     *\n     * @constructor\n     * @param {String} [url]\n     * @param {Array} [stack]\n     * @param {String} [previousUrl]\n     * @param {Array} [previousRedirectChain]\n     * @param {String} [redirectChain]\n     * @param {Number} [status]\n     * @param {Number} [uuid]\n     */\n\n    function Navigation() {\n        var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n        var url = _ref.url;\n        var _ref$stack = _ref.stack;\n        var stack = _ref$stack === undefined ? [] : _ref$stack;\n        var _ref$previousUrl = _ref.previousUrl;\n        var previousUrl = _ref$previousUrl === undefined ? null : _ref$previousUrl;\n        var _ref$previousRedirectChain = _ref.previousRedirectChain;\n        var previousRedirectChain = _ref$previousRedirectChain === undefined ? [] : _ref$previousRedirectChain;\n        var _ref$redirectChain = _ref.redirectChain;\n        var redirectChain = _ref$redirectChain === undefined ? [] : _ref$redirectChain;\n        var _ref$status = _ref.status;\n        var status = _ref$status === undefined ? EMPTY : _ref$status;\n        var navigationId = _ref.uuid;\n\n        _classCallCheck(this, Navigation);\n\n        this.stack = stack.concat();\n        this.status = status;\n\n        if (url !== undefined) {\n            this.url = url;\n        } else {\n            var lastNavigation = (0, _lodashArrayLast2['default'])(this.stack);\n            this.url = lastNavigation ? lastNavigation.url : null;\n        }\n\n        this.uuid = navigationId || _uuid2['default'].v4();\n        this.redirectChain = redirectChain;\n        this.previousUrl = previousUrl;\n        this.previousRedirectChain = previousRedirectChain.concat();\n    }\n\n    /**\n     * Обновляем состояние навигиации согласно последниму навигационному событию\n     *\n     * @param {Object} navData\n     * @returns {Navigation}\n     */\n\n    _createClass(Navigation, [{\n        key: 'update',\n        value: function update(navData) {\n            // В случаях клиентского редиректа до onDOMContentLoaded может быть вызван\n            // onCompleted\n            if (navData.status === DOM_CONTENT_LOADED && this.url !== navData.url) {\n                return this;\n            }\n\n            // Если completed пришел позже начала редиректа пропускаем его\n            if (navData.status === COMPLETED && this.url !== navData.url) {\n                return this;\n            }\n\n            // Началась новая навигация, очищаем старую и сохраняем ссылки для выстраивания\n            // цепочки переходов\n            if (navData.status === BEFORE_NAVIGATE) {\n                this.previousUrl = this.url;\n                this.previousRedirectChain = this.redirectChain.concat();\n                this.clear();\n                this.uuid = _uuid2['default'].v4();\n            }\n\n            if (navData.status === COMMITTED) {\n                this._onCommitted(navData);\n            }\n\n            if (navData.status === HISTORY_STATE_UPDATED) {\n                this._onHistoryStateUpdated();\n            }\n\n            this.stack.push(navData);\n            this._updateStatus(navData);\n            this.url = navData.url;\n\n            return this;\n        }\n\n        /**\n         * Обработка изменений состояния истории, в данном случае если\n         * оно изменилось до события completed поместим предыдущий\n         * url в стэк редиректов.\n         *\n         * @private\n         */\n    }, {\n        key: '_onHistoryStateUpdated',\n        value: function _onHistoryStateUpdated() {\n            if (this.isCompleted) {\n                return;\n            }\n\n            this.redirectChain.push((0, _lodashArrayLast2['default'])(this.stack).url);\n        }\n\n        /**\n         * Возвращает текущий стэк навигации с учетом редиректов\n         *\n         * @returns {Array}\n         */\n    }, {\n        key: 'getNavigationStack',\n        value: function getNavigationStack() {\n            return this.redirectChain.concat(this.url);\n        }\n\n        /**\n         * Обрабатываем событие onCommitted\n         *\n         * @param {Object} navData\n         * @private\n         */\n    }, {\n        key: '_onCommitted',\n        value: function _onCommitted(navData) {\n            var lastNavState = (0, _lodashArrayLast2['default'])(this.stack);\n\n            if (navData.transitionQualifiers) {\n                // При клиентском редиректе навигационный цикл начинается заново с onBeforeNavigate\n                // Поэтому в цепочку нужно положить URL предыдущей навигации\n                if (this._wasClientRedirect(navData)) {\n                    var _redirectChain;\n\n                    (_redirectChain = this.redirectChain).push.apply(_redirectChain, _toConsumableArray(this.previousRedirectChain).concat([this.previousUrl]));\n                }\n\n                // При серверном редиректе нужно брать URL из события onBeforeNavigate,\n                // так как он происходит неявно\n                if (this._wasServerRedirect(navData)) {\n                    this.redirectChain.push(lastNavState.url);\n                }\n            }\n\n            // В хроме есть баг с переходом к ВЗ: не вызывается onBeforeNavigate\n            if (!lastNavState || lastNavState.status !== BEFORE_NAVIGATE) {\n                this.previousUrl = this.url;\n                this.previousRedirectChain = this.redirectChain.concat();\n                this.clear();\n                this.uuid = _uuid2['default'].v4();\n            }\n        }\n\n        /**\n         * Проверка на клиентский редирект\n         *\n         * @param {Object} navData\n         * @returns {Boolean}\n         * @private\n         */\n    }, {\n        key: '_wasClientRedirect',\n        value: function _wasClientRedirect(navData) {\n            return navData.transitionQualifiers.indexOf(CLIENT_REDIRECT) !== -1;\n        }\n\n        /**\n         * Проверка на серверный редирект\n         * @param {Object} navData\n         * @returns {Boolean}\n         * @private\n         */\n    }, {\n        key: '_wasServerRedirect',\n        value: function _wasServerRedirect(navData) {\n            return navData.transitionQualifiers.indexOf(SERVER_REDIRECT) !== -1;\n        }\n\n        /**\n         * Очистка текущих навигационных данных\n         *\n         * @returns {Navigation}\n         */\n    }, {\n        key: 'clear',\n        value: function clear() {\n            this.url = null;\n            this.stack.length = 0;\n            this.redirectChain.length = 0;\n            this.uuid = _uuid2['default'].v4();\n\n            return this;\n        }\n\n        /**\n         * Текущий статус навигации, здесь используются только 4 основных статуса\n         *\n         * @param {Number} status\n         */\n    }, {\n        key: '_updateStatus',\n        value: function _updateStatus(_ref2) {\n            var status = _ref2.status;\n\n            if (POSSIBLE_STATUSES.indexOf(status) !== -1) {\n                this.status = status;\n            }\n        }\n    }, {\n        key: 'isEmpty',\n        get: function get() {\n            return this.status === EMPTY;\n        }\n    }, {\n        key: 'isStarted',\n        get: function get() {\n            return this.status === BEFORE_NAVIGATE;\n        }\n    }, {\n        key: 'isCompleted',\n        get: function get() {\n            return this.status === COMPLETED;\n        }\n    }, {\n        key: 'isFinished',\n        get: function get() {\n            return this.isCompleted || this.isError;\n        }\n    }, {\n        key: 'isError',\n        get: function get() {\n            return this.status === ERROR_OCCURRED;\n        }\n    }]);\n\n    return Navigation;\n})();\n\nexports['default'] = Navigation;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/yandex-elements-core/tabs-watcher/navigation.js\n// module id = 313\n// module chunks = 1","//     uuid.js\n//\n//     Copyright (c) 2010-2012 Robert Kieffer\n//     MIT License - http://opensource.org/licenses/mit-license.php\n\n// Unique ID creation requires a high quality random # generator.  We feature\n// detect to determine the best RNG source, normalizing to a function that\n// returns 128-bits of randomness, since that's what's usually required\nvar _rng = require('./rng');\n\n// Maps for number <-> hex string conversion\nvar _byteToHex = [];\nvar _hexToByte = {};\nfor (var i = 0; i < 256; i++) {\n  _byteToHex[i] = (i + 0x100).toString(16).substr(1);\n  _hexToByte[_byteToHex[i]] = i;\n}\n\n// **`parse()` - Parse a UUID into it's component bytes**\nfunction parse(s, buf, offset) {\n  var i = (buf && offset) || 0, ii = 0;\n\n  buf = buf || [];\n  s.toLowerCase().replace(/[0-9a-f]{2}/g, function(oct) {\n    if (ii < 16) { // Don't overflow!\n      buf[i + ii++] = _hexToByte[oct];\n    }\n  });\n\n  // Zero out remaining bytes if string was short\n  while (ii < 16) {\n    buf[i + ii++] = 0;\n  }\n\n  return buf;\n}\n\n// **`unparse()` - Convert UUID byte array (ala parse()) into a string**\nfunction unparse(buf, offset) {\n  var i = offset || 0, bth = _byteToHex;\n  return  bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\n// random #'s we need to init node and clockseq\nvar _seedBytes = _rng();\n\n// Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\nvar _nodeId = [\n  _seedBytes[0] | 0x01,\n  _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]\n];\n\n// Per 4.2.2, randomize (14 bit) clockseq\nvar _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;\n\n// Previous uuid creation time\nvar _lastMSecs = 0, _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  var node = options.node || _nodeId;\n  for (var n = 0; n < 6; n++) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : unparse(b);\n}\n\n// **`v4()` - Generate random UUID**\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v4(options, buf, offset) {\n  // Deprecated - 'format' argument, as supported in v1.2\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options == 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || _rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ii++) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || unparse(rnds);\n}\n\n// Export public API\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\nuuid.parse = parse;\nuuid.unparse = unparse;\n\nmodule.exports = uuid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uuid/uuid.js\n// module id = 314\n// module chunks = 1","\nvar rng;\n\nvar crypto = global.crypto || global.msCrypto; // for IE 11\nif (crypto && crypto.getRandomValues) {\n  // WHATWG crypto-based RNG - http://wiki.whatwg.org/wiki/Crypto\n  // Moderately fast, high quality\n  var _rnds8 = new Uint8Array(16);\n  rng = function whatwgRNG() {\n    crypto.getRandomValues(_rnds8);\n    return _rnds8;\n  };\n}\n\nif (!rng) {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var  _rnds = new Array(16);\n  rng = function() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      _rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return _rnds;\n  };\n}\n\nmodule.exports = rng;\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uuid/rng-browser.js\n// module id = 315\n// module chunks = 1","/**\n * @interface\n * Интерфейс который должны реализовывать модели для хранилища\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar Model = (function () {\n    function Model() {\n        _classCallCheck(this, Model);\n\n        this.removed = false;\n    }\n\n    /**\n     * Получение id записи\n     */\n\n    _createClass(Model, [{\n        key: 'getId',\n        value: function getId() {\n            throw new Error('Not implemented');\n        }\n\n        /**\n         * Мердж данных в запись\n         * @returns {Model}\n         */\n    }, {\n        key: 'merge',\n        value: function merge() {\n            throw new Error('Not implemented');\n        }\n\n        /**\n         * Клонирование записи\n         */\n    }, {\n        key: 'clone',\n        value: function clone() {\n            throw new Error('Not implemented');\n        }\n    }]);\n\n    return Model;\n})();\n\nexports['default'] = Model;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/yandex-elements-core/collection/model.js\n// module id = 316\n// module chunks = 1","/**\n * @class\n * @name Storage\n * @description\n * Хранилище данных с поддержкой обновления коллекций\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar Storage = (function () {\n    /**\n     * @constructor\n     * @param {Collection} CollectionConstructor\n     */\n\n    function Storage(CollectionConstructor) {\n        _classCallCheck(this, Storage);\n\n        this.cache = new Map();\n        this.collections = [];\n        this.collectionConstructor = CollectionConstructor;\n    }\n\n    /**\n     * Запрос к хранилищу который возвращает live-коллекцию\n     * В последующем при обновлении данных в сторэдже, данные в соответствующих коллекциях\n     * будут также автоматически обновлены.\n     *\n     * @param {Function} query\n     * @returns {Collection}\n     */\n\n    _createClass(Storage, [{\n        key: 'query',\n        value: function query(_query) {\n            var collection = this._collectionFactory(_query);\n            this.collections.push(collection);\n\n            return collection;\n        }\n\n        /**\n         * Возвращает коллекцую записей из хранилища\n         *\n         * @param {Function} query\n         * @returns {Collection}\n         */\n    }, {\n        key: 'snapshot',\n        value: function snapshot(query) {\n            return this._collectionFactory(query);\n        }\n\n        /**\n         * @param {Function} query\n         * @returns {Collection}\n         * @private\n         */\n    }, {\n        key: '_collectionFactory',\n        value: function _collectionFactory(query) {\n            var collection = new this.collectionConstructor(this, query);\n            collection.update(this.cache.values());\n\n            return collection;\n        }\n\n        /**\n         * @param {String|Number} id\n         * @returns {Model}\n         */\n    }, {\n        key: 'getById',\n        value: function getById(id) {\n            return this.cache.has(id) ? this.cache.get(id).clone() : null;\n        }\n\n        /**\n         * Обновление данных хранилища. Если записи еще нет в хранилище\n         * она будет добавлена, если запись уже есть в хранилище, то старая\n         * запись будет заменена новой\n         *\n         * @param {Array<Model>|Model} items\n         * @returns {Storage} this\n         */\n    }, {\n        key: 'update',\n        value: function update() {\n            var _this = this;\n\n            var items = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\n            if (!Array.isArray(items)) {\n                items = [items];\n            }\n\n            items.forEach(function (item) {\n                _this.cache.set(item.getId(), item);\n            });\n\n            this._updateCollections(items);\n\n            return this;\n        }\n\n        /**\n         * Мерж записей. Клонирует старую запись, и мержит в нее дифф объект\n         *\n         * @param {Array|Model} dataDiff\n         * @returns {Array|Model|null} обновленные записи\n         */\n    }, {\n        key: 'merge',\n        value: function merge() {\n            var _this2 = this;\n\n            var dataDiff = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\n            var isArray = true;\n\n            if (!Array.isArray(dataDiff)) {\n                dataDiff = [dataDiff];\n                isArray = false;\n            }\n\n            var items = (0, _lodash2['default'])(dataDiff).filter(function (_ref) {\n                var id = _ref.id;\n                return _this2.cache.has(id);\n            }).map(function (_ref2) {\n                var id = _ref2.id;\n                var diff = _ref2.diff;\n\n                var item = _this2.cache.get(id).clone().merge(diff);\n\n                _this2.cache.set(id, item);\n                return item;\n            }).value();\n\n            this._updateCollections(items);\n\n            return isArray ? items : items[0] || null;\n        }\n\n        /**\n         * Хэлпер, оборачивает данные для мержа в специальный объект\n         *\n         * @param {String|Number} id\n         * @param {Object} data\n         * @returns {{id: *, data: *}}\n         */\n    }, {\n        key: 'getDiffObject',\n        value: function getDiffObject(id, data) {\n            return {\n                id: id,\n                diff: data\n            };\n        }\n\n        /**\n         * Удаление записей из хранилища\n         *\n         * @param {Array|String|Number} ids\n         * @returns {Array|Model}\n         */\n    }, {\n        key: 'remove',\n        value: function remove() {\n            var _this3 = this;\n\n            var ids = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\n            var isArray = true;\n\n            if (!Array.isArray(ids)) {\n                ids = [ids];\n                isArray = false;\n            }\n\n            var items = (0, _lodash2['default'])(ids).filter(function (id) {\n                return _this3.cache.has(id);\n            }).map(function (id) {\n                var item = _this3.cache.get(id);\n                item.removed = true;\n                _this3.cache['delete'](id);\n\n                return item;\n            }).value();\n\n            this._updateCollections(ids, 'remove');\n\n            return isArray ? items : items[0];\n        }\n\n        /**\n         * Переводит коллекцию в live режим\n         *\n         * @param {Collection} collection\n         * @return {Collection}\n         */\n    }, {\n        key: 'activateCollection',\n        value: function activateCollection(collection) {\n            if (this.collections.indexOf(collection) === -1) {\n                this.collections.push(collection);\n            }\n\n            return this.reloadCollection(collection);\n        }\n\n        /**\n         * Перезагружет коллекцию\n         *\n         * @param {Collection} collection\n         * @return {Collection}\n         */\n    }, {\n        key: 'reloadCollection',\n        value: function reloadCollection(collection) {\n            if (!collection.enabled) {\n                return collection;\n            }\n\n            collection.update(this.cache.values());\n            return collection;\n        }\n\n        /**\n         * Переводит коллекцию в offline режим\n         *\n         * @param {Collection} collection\n         */\n    }, {\n        key: 'removeCollection',\n        value: function removeCollection(collection) {\n            var indexOfCollection = this.collections.indexOf(collection);\n            if (indexOfCollection !== -1) {\n                this.collections.splice(indexOfCollection, 1);\n            }\n        }\n\n        /**\n         * Обновление live-коллекций\n         *\n         * @param {Array<Model>} items\n         * @private\n         */\n    }, {\n        key: '_updateCollections',\n        value: function _updateCollections(items) {\n            var method = arguments.length <= 1 || arguments[1] === undefined ? 'update' : arguments[1];\n\n            this.collections.forEach(function (collection) {\n                if (!collection.enabled) {\n                    return;\n                }\n\n                collection[method](items);\n            });\n        }\n\n        /**\n         * Очистка хранилища\n         */\n    }, {\n        key: 'clear',\n        value: function clear() {\n            this.collections.length = 0;\n            this.cache.clear();\n        }\n    }]);\n\n    return Storage;\n})();\n\nexports['default'] = Storage;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/yandex-elements-core/collection/storage.js\n// module id = 317\n// module chunks = 1","/**\n * @license\n * lodash 3.10.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern -d -o ./index.js`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '3.10.1';\n\n  /** Used to compose bitmasks for wrapper metadata. */\n  var BIND_FLAG = 1,\n      BIND_KEY_FLAG = 2,\n      CURRY_BOUND_FLAG = 4,\n      CURRY_FLAG = 8,\n      CURRY_RIGHT_FLAG = 16,\n      PARTIAL_FLAG = 32,\n      PARTIAL_RIGHT_FLAG = 64,\n      ARY_FLAG = 128,\n      REARG_FLAG = 256;\n\n  /** Used as default options for `_.trunc`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect when a function becomes hot. */\n  var HOT_COUNT = 150,\n      HOT_SPAN = 16;\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2;\n\n  /** Used as the `TypeError` message for \"Functions\" methods. */\n  var FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      objectTag = '[object Object]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      weakMapTag = '[object WeakMap]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39|#96);/g,\n      reUnescapedHtml = /[&<>\"'`]/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g;\n\n  /**\n   * Used to match `RegExp` [syntax characters](http://ecma-international.org/ecma-262/6.0/#sec-patterns)\n   * and those outlined by [`EscapeRegExpPattern`](http://ecma-international.org/ecma-262/6.0/#sec-escaperegexppattern).\n   */\n  var reRegExpChars = /^[:!,]|[\\\\^$.*+?()[\\]{}|\\/]|(^[0-9a-fA-Fnrtuvx])|([\\n\\r\\u2028\\u2029])/g,\n      reHasRegExpChars = RegExp(reRegExpChars.source);\n\n  /** Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks). */\n  var reComboMark = /[\\u0300-\\u036f\\ufe20-\\ufe23]/g;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /** Used to match [ES template delimiters](http://ecma-international.org/ecma-262/6.0/#sec-template-literal-lexical-components). */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect hexadecimal string values. */\n  var reHasHexPrefix = /^0[xX]/;\n\n  /** Used to detect host constructors (Safari > 5). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^\\d+$/;\n\n  /** Used to match latin-1 supplementary letters (excluding mathematical operators). */\n  var reLatin1 = /[\\xc0-\\xd6\\xd8-\\xde\\xdf-\\xf6\\xf8-\\xff]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to match words to create compound words. */\n  var reWords = (function() {\n    var upper = '[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]',\n        lower = '[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]+';\n\n    return RegExp(upper + '+(?=' + upper + lower + ')|' + upper + '?' + lower + '|' + upper + '+|[0-9]+', 'g');\n  }());\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'ArrayBuffer', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Math', 'Number',\n    'Object', 'RegExp', 'Set', 'String', '_', 'clearTimeout', 'isFinite',\n    'parseFloat', 'parseInt', 'setTimeout', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dateTag] = typedArrayTags[errorTag] =\n  typedArrayTags[funcTag] = typedArrayTags[mapTag] =\n  typedArrayTags[numberTag] = typedArrayTags[objectTag] =\n  typedArrayTags[regexpTag] = typedArrayTags[setTag] =\n  typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[boolTag] =\n  cloneableTags[dateTag] = cloneableTags[float32Tag] =\n  cloneableTags[float64Tag] = cloneableTags[int8Tag] =\n  cloneableTags[int16Tag] = cloneableTags[int32Tag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[stringTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[mapTag] = cloneableTags[setTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map latin-1 supplementary letters to basic latin letters. */\n  var deburredLetters = {\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcC': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xeC': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '`': '&#96;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\",\n    '&#96;': '`'\n  };\n\n  /** Used to determine if values are of the language type `Object`. */\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used to escape characters for inclusion in compiled regexes. */\n  var regexpEscapes = {\n    '0': 'x30', '1': 'x31', '2': 'x32', '3': 'x33', '4': 'x34',\n    '5': 'x35', '6': 'x36', '7': 'x37', '8': 'x38', '9': 'x39',\n    'A': 'x41', 'B': 'x42', 'C': 'x43', 'D': 'x44', 'E': 'x45', 'F': 'x46',\n    'a': 'x61', 'b': 'x62', 'c': 'x63', 'd': 'x64', 'e': 'x65', 'f': 'x66',\n    'n': 'x6e', 'r': 'x72', 't': 'x74', 'u': 'x75', 'v': 'x76', 'x': 'x78'\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Detect free variable `exports`. */\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global && global.Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = objectTypes[typeof self] && self && self.Object && self;\n\n  /** Detect free variable `window`. */\n  var freeWindow = objectTypes[typeof window] && window && window.Object && window;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /**\n   * Used as a reference to the global object.\n   *\n   * The `this` value is used if it's the global object to avoid Greasemonkey's\n   * restricted `window` object, otherwise the `window` object is used.\n   */\n  var root = freeGlobal || ((freeWindow !== (this && this.window)) && freeWindow) || freeSelf || this;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `compareAscending` which compares values and\n   * sorts them in ascending order without guaranteeing a stable sort.\n   *\n   * @private\n   * @param {*} value The value to compare.\n   * @param {*} other The other value to compare.\n   * @returns {number} Returns the sort order indicator for `value`.\n   */\n  function baseCompareAscending(value, other) {\n    if (value !== other) {\n      var valIsNull = value === null,\n          valIsUndef = value === undefined,\n          valIsReflexive = value === value;\n\n      var othIsNull = other === null,\n          othIsUndef = other === undefined,\n          othIsReflexive = other === other;\n\n      if ((value > other && !othIsNull) || !valIsReflexive ||\n          (valIsNull && !othIsUndef && othIsReflexive) ||\n          (valIsUndef && othIsReflexive)) {\n        return 1;\n      }\n      if ((value < other && !valIsNull) || !othIsReflexive ||\n          (othIsNull && !valIsUndef && valIsReflexive) ||\n          (othIsUndef && valIsReflexive)) {\n        return -1;\n      }\n    }\n    return 0;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromRight) {\n    var length = array.length,\n        index = fromRight ? length : -1;\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without support for binary searches.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    if (value !== value) {\n      return indexOfNaN(array, fromIndex);\n    }\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isFunction` without support for environments\n   * with incorrect `typeof` results.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n   */\n  function baseIsFunction(value) {\n    // Avoid a Chakra JIT bug in compatibility modes of IE 11.\n    // See https://github.com/jashkenas/underscore/issues/1621 for more details.\n    return typeof value == 'function' || false;\n  }\n\n  /**\n   * Converts `value` to a string if it's not one. An empty string is returned\n   * for `null` or `undefined` values.\n   *\n   * @private\n   * @param {*} value The value to process.\n   * @returns {string} Returns the string.\n   */\n  function baseToString(value) {\n    return value == null ? '' : (value + '');\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the first character not found in `chars`.\n   */\n  function charsLeftIndex(string, chars) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the last character not found in `chars`.\n   */\n  function charsRightIndex(string, chars) {\n    var index = string.length;\n\n    while (index-- && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.sortBy` to compare transformed elements of a collection and stable\n   * sort them in ascending order.\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareAscending(object, other) {\n    return baseCompareAscending(object.criteria, other.criteria) || (object.index - other.index);\n  }\n\n  /**\n   * Used by `_.sortByOrder` to compare multiple properties of a value to another\n   * and stable sort them.\n   *\n   * If `orders` is unspecified, all valuess are sorted in ascending order. Otherwise,\n   * a value is sorted in ascending order if its corresponding order is \"asc\", and\n   * descending if \"desc\".\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @param {boolean[]} orders The order to sort by for each property.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareMultiple(object, other, orders) {\n    var index = -1,\n        objCriteria = object.criteria,\n        othCriteria = other.criteria,\n        length = objCriteria.length,\n        ordersLength = orders.length;\n\n    while (++index < length) {\n      var result = baseCompareAscending(objCriteria[index], othCriteria[index]);\n      if (result) {\n        if (index >= ordersLength) {\n          return result;\n        }\n        var order = orders[index];\n        return result * ((order === 'asc' || order === true) ? 1 : -1);\n      }\n    }\n    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n    // that causes it, under certain circumstances, to provide the same value for\n    // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n    // for more details.\n    //\n    // This also ensures a stable sort in V8 and other engines.\n    // See https://code.google.com/p/v8/issues/detail?id=90 for more details.\n    return object.index - other.index;\n  }\n\n  /**\n   * Used by `_.deburr` to convert latin-1 supplementary letters to basic latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  function deburrLetter(letter) {\n    return deburredLetters[letter];\n  }\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeHtmlChar(chr) {\n    return htmlEscapes[chr];\n  }\n\n  /**\n   * Used by `_.escapeRegExp` to escape characters for inclusion in compiled regexes.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @param {string} leadingChar The capture group for a leading character.\n   * @param {string} whitespaceChar The capture group for a whitespace character.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeRegExpChar(chr, leadingChar, whitespaceChar) {\n    if (leadingChar) {\n      chr = regexpEscapes[chr];\n    } else if (whitespaceChar) {\n      chr = stringEscapes[chr];\n    }\n    return '\\\\' + chr;\n  }\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the index at which the first occurrence of `NaN` is found in `array`.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched `NaN`, else `-1`.\n   */\n  function indexOfNaN(array, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 0 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      var other = array[index];\n      if (other !== other) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Checks if `value` is object-like.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   */\n  function isObjectLike(value) {\n    return !!value && typeof value == 'object';\n  }\n\n  /**\n   * Used by `trimmedLeftIndex` and `trimmedRightIndex` to determine if a\n   * character code is whitespace.\n   *\n   * @private\n   * @param {number} charCode The character code to inspect.\n   * @returns {boolean} Returns `true` if `charCode` is whitespace, else `false`.\n   */\n  function isSpace(charCode) {\n    return ((charCode <= 160 && (charCode >= 9 && charCode <= 13) || charCode == 32 || charCode == 160) || charCode == 5760 || charCode == 6158 ||\n      (charCode >= 8192 && (charCode <= 8202 || charCode == 8232 || charCode == 8233 || charCode == 8239 || charCode == 8287 || charCode == 12288 || charCode == 65279)));\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      if (array[index] === placeholder) {\n        array[index] = PLACEHOLDER;\n        result[++resIndex] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * An implementation of `_.uniq` optimized for sorted arrays without support\n   * for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} [iteratee] The function invoked per iteration.\n   * @returns {Array} Returns the new duplicate-value-free array.\n   */\n  function sortedUniq(array, iteratee) {\n    var seen,\n        index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index],\n          computed = iteratee ? iteratee(value, index, array) : value;\n\n      if (!index || seen !== computed) {\n        seen = computed;\n        result[++resIndex] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the first non-whitespace character.\n   */\n  function trimmedLeftIndex(string) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedRightIndex(string) {\n    var index = string.length;\n\n    while (index-- && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  function unescapeHtmlChar(chr) {\n    return htmlUnescapes[chr];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the given `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Utility\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // using `context` to mock `Date#getTime` use in `_.now`\n   * var mock = _.runInContext({\n   *   'Date': function() {\n   *     return { 'getTime': getTimeMock };\n   *   }\n   * });\n   *\n   * // or creating a suped-up `defer` in Node.js\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  function runInContext(context) {\n    // Avoid issues with some ES3 environments that attempt to use values, named\n    // after built-in constructors like `Object`, for the creation of literals.\n    // ES5 clears this up by stating that literals must use built-in constructors.\n    // See https://es5.github.io/#x11.1.5 for more details.\n    context = context ? _.defaults(root.Object(), context, _.pick(root, contextProps)) : root;\n\n    /** Native constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Number = context.Number,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for native method references. */\n    var arrayProto = Array.prototype,\n        objectProto = Object.prototype,\n        stringProto = String.prototype;\n\n    /** Used to resolve the decompiled source of functions. */\n    var fnToString = Function.prototype.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /**\n     * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var objToString = objectProto.toString;\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Native method references. */\n    var ArrayBuffer = context.ArrayBuffer,\n        clearTimeout = context.clearTimeout,\n        parseFloat = context.parseFloat,\n        pow = Math.pow,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        Set = getNative(context, 'Set'),\n        setTimeout = context.setTimeout,\n        splice = arrayProto.splice,\n        Uint8Array = context.Uint8Array,\n        WeakMap = getNative(context, 'WeakMap');\n\n    /* Native method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeCreate = getNative(Object, 'create'),\n        nativeFloor = Math.floor,\n        nativeIsArray = getNative(Array, 'isArray'),\n        nativeIsFinite = context.isFinite,\n        nativeKeys = getNative(Object, 'keys'),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = getNative(Date, 'now'),\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random;\n\n    /** Used as references for `-Infinity` and `Infinity`. */\n    var NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY,\n        POSITIVE_INFINITY = Number.POSITIVE_INFINITY;\n\n    /** Used as references for the maximum length and index of an array. */\n    var MAX_ARRAY_LENGTH = 4294967295,\n        MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n        HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n    /**\n     * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n     * of an array-like value.\n     */\n    var MAX_SAFE_INTEGER = 9007199254740991;\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit chaining.\n     * Methods that operate on and return arrays, collections, and functions can\n     * be chained together. Methods that retrieve a single value or may return a\n     * primitive value will automatically end the chain returning the unwrapped\n     * value. Explicit chaining may be enabled using `_.chain`. The execution of\n     * chained methods is lazy, that is, execution is deferred until `_#value`\n     * is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion. Shortcut\n     * fusion is an optimization strategy which merge iteratee calls; this can help\n     * to avoid the creation of intermediate data structures and greatly reduce the\n     * number of iteratee executions.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`,\n     * `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `compact`, `drop`, `dropRight`, `dropRightWhile`, `dropWhile`, `filter`,\n     * `first`, `initial`, `last`, `map`, `pluck`, `reject`, `rest`, `reverse`,\n     * `slice`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `toArray`,\n     * and `where`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `at`, `before`, `bind`, `bindAll`, `bindKey`,\n     * `callback`, `chain`, `chunk`, `commit`, `compact`, `concat`, `constant`,\n     * `countBy`, `create`, `curry`, `debounce`, `defaults`, `defaultsDeep`,\n     * `defer`, `delay`, `difference`, `drop`, `dropRight`, `dropRightWhile`,\n     * `dropWhile`, `fill`, `filter`, `flatten`, `flattenDeep`, `flow`, `flowRight`,\n     * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,\n     * `functions`, `groupBy`, `indexBy`, `initial`, `intersection`, `invert`,\n     * `invoke`, `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`,\n     * `matchesProperty`, `memoize`, `merge`, `method`, `methodOf`, `mixin`,\n     * `modArgs`, `negate`, `omit`, `once`, `pairs`, `partial`, `partialRight`,\n     * `partition`, `pick`, `plant`, `pluck`, `property`, `propertyOf`, `pull`,\n     * `pullAt`, `push`, `range`, `rearg`, `reject`, `remove`, `rest`, `restParam`,\n     * `reverse`, `set`, `shuffle`, `slice`, `sort`, `sortBy`, `sortByAll`,\n     * `sortByOrder`, `splice`, `spread`, `take`, `takeRight`, `takeRightWhile`,\n     * `takeWhile`, `tap`, `throttle`, `thru`, `times`, `toArray`, `toPlainObject`,\n     * `transform`, `union`, `uniq`, `unshift`, `unzip`, `unzipWith`, `values`,\n     * `valuesIn`, `where`, `without`, `wrap`, `xor`, `zip`, `zipObject`, `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clone`, `cloneDeep`,\n     * `deburr`, `endsWith`, `escape`, `escapeRegExp`, `every`, `find`, `findIndex`,\n     * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `findWhere`, `first`,\n     * `floor`, `get`, `gt`, `gte`, `has`, `identity`, `includes`, `indexOf`,\n     * `inRange`, `isArguments`, `isArray`, `isBoolean`, `isDate`, `isElement`,\n     * `isEmpty`, `isEqual`, `isError`, `isFinite` `isFunction`, `isMatch`,\n     * `isNative`, `isNaN`, `isNull`, `isNumber`, `isObject`, `isPlainObject`,\n     * `isRegExp`, `isString`, `isUndefined`, `isTypedArray`, `join`, `kebabCase`,\n     * `last`, `lastIndexOf`, `lt`, `lte`, `max`, `min`, `noConflict`, `noop`,\n     * `now`, `pad`, `padLeft`, `padRight`, `parseInt`, `pop`, `random`, `reduce`,\n     * `reduceRight`, `repeat`, `result`, `round`, `runInContext`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedLastIndex`, `startCase`,\n     * `startsWith`, `sum`, `template`, `trim`, `trimLeft`, `trimRight`, `trunc`,\n     * `unescape`, `uniqueId`, `value`, and `words`\n     *\n     * The wrapper method `sample` will return a wrapped value when `n` is provided,\n     * otherwise an unwrapped value is returned.\n     *\n     * @name _\n     * @constructor\n     * @category Chain\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // returns an unwrapped value\n     * wrapped.reduce(function(total, n) {\n     *   return total + n;\n     * });\n     * // => 6\n     *\n     * // returns a wrapped value\n     * var squares = wrapped.map(function(n) {\n     *   return n * n;\n     * });\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__chain__') && hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The function whose prototype all chaining wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable chaining for all wrapper methods.\n     * @param {Array} [actions=[]] Actions to peform to resolve the unwrapped value.\n     */\n    function LodashWrapper(value, chainAll, actions) {\n      this.__wrapped__ = value;\n      this.__actions__ = actions || [];\n      this.__chain__ = !!chainAll;\n    }\n\n    /**\n     * An object environment feature flags.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    var support = lodash.support = {};\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB). Change the following template settings to use\n     * alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type string\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type Object\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type Function\n         */\n        '_': lodash\n      }\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = POSITIVE_INFINITY;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = arrayCopy(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = arrayCopy(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = arrayCopy(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || arrLength < LARGE_ARRAY_SIZE || (arrLength == length && takeCount == length)) {\n        return baseWrapperValue((isRight && isArr) ? array.reverse() : array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a cache object to store key/value pairs.\n     *\n     * @private\n     * @static\n     * @name Cache\n     * @memberOf _.memoize\n     */\n    function MapCache() {\n      this.__data__ = {};\n    }\n\n    /**\n     * Removes `key` and its value from the cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed successfully, else `false`.\n     */\n    function mapDelete(key) {\n      return this.has(key) && delete this.__data__[key];\n    }\n\n    /**\n     * Gets the cached value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the cached value.\n     */\n    function mapGet(key) {\n      return key == '__proto__' ? undefined : this.__data__[key];\n    }\n\n    /**\n     * Checks if a cached value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapHas(key) {\n      return key != '__proto__' && hasOwnProperty.call(this.__data__, key);\n    }\n\n    /**\n     * Sets `value` to `key` of the cache.\n     *\n     * @private\n     * @name set\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to cache.\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache object.\n     */\n    function mapSet(key, value) {\n      if (key != '__proto__') {\n        this.__data__[key] = value;\n      }\n      return this;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates a cache object to store unique values.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var length = values ? values.length : 0;\n\n      this.data = { 'hash': nativeCreate(null), 'set': new Set };\n      while (length--) {\n        this.push(values[length]);\n      }\n    }\n\n    /**\n     * Checks if `value` is in `cache` mimicking the return signature of\n     * `_.indexOf` by returning `0` if the value is found, else `-1`.\n     *\n     * @private\n     * @param {Object} cache The cache to search.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `0` if `value` is found, else `-1`.\n     */\n    function cacheIndexOf(cache, value) {\n      var data = cache.data,\n          result = (typeof value == 'string' || isObject(value)) ? data.set.has(value) : data.hash[value];\n\n      return result ? 0 : -1;\n    }\n\n    /**\n     * Adds `value` to the cache.\n     *\n     * @private\n     * @name push\n     * @memberOf SetCache\n     * @param {*} value The value to cache.\n     */\n    function cachePush(value) {\n      var data = this.data;\n      if (typeof value == 'string' || isObject(value)) {\n        data.set.add(value);\n      } else {\n        data.hash[value] = true;\n      }\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a new array joining `array` with `other`.\n     *\n     * @private\n     * @param {Array} array The array to join.\n     * @param {Array} other The other array to join.\n     * @returns {Array} Returns the new concatenated array.\n     */\n    function arrayConcat(array, other) {\n      var index = -1,\n          length = array.length,\n          othIndex = -1,\n          othLength = other.length,\n          result = Array(length + othLength);\n\n      while (++index < length) {\n        result[index] = array[index];\n      }\n      while (++othIndex < othLength) {\n        result[index++] = other[othIndex];\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayCopy(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEach` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEach(array, iteratee) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (iteratee(array[index], index, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEachRight` for arrays without support for\n     * callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEachRight(array, iteratee) {\n      var length = array.length;\n\n      while (length--) {\n        if (iteratee(array[length], length, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.every` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     */\n    function arrayEvery(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (!predicate(array[index], index, array)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * A specialized version of `baseExtremum` for arrays which invokes `iteratee`\n     * with one argument: (value).\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} comparator The function used to compare values.\n     * @param {*} exValue The initial extremum value.\n     * @returns {*} Returns the extremum value.\n     */\n    function arrayExtremum(array, iteratee, comparator, exValue) {\n      var index = -1,\n          length = array.length,\n          computed = exValue,\n          result = computed;\n\n      while (++index < length) {\n        var value = array[index],\n            current = +iteratee(value);\n\n        if (comparator(current, computed)) {\n          computed = current;\n          result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.filter` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function arrayFilter(array, predicate) {\n      var index = -1,\n          length = array.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.map` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function arrayMap(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = iteratee(array[index], index, array);\n      }\n      return result;\n    }\n\n    /**\n     * Appends the elements of `values` to `array`.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to append.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayPush(array, values) {\n      var index = -1,\n          length = values.length,\n          offset = array.length;\n\n      while (++index < length) {\n        array[offset + index] = values[index];\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.reduce` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the first element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduce(array, iteratee, accumulator, initFromArray) {\n      var index = -1,\n          length = array.length;\n\n      if (initFromArray && length) {\n        accumulator = array[++index];\n      }\n      while (++index < length) {\n        accumulator = iteratee(accumulator, array[index], index, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.reduceRight` for arrays without support for\n     * callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the last element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduceRight(array, iteratee, accumulator, initFromArray) {\n      var length = array.length;\n      if (initFromArray && length) {\n        accumulator = array[--length];\n      }\n      while (length--) {\n        accumulator = iteratee(accumulator, array[length], length, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.some` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function arraySome(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (predicate(array[index], index, array)) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `_.sum` for arrays without support for callback\n     * shorthands and `this` binding..\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {number} Returns the sum.\n     */\n    function arraySum(array, iteratee) {\n      var length = array.length,\n          result = 0;\n\n      while (length--) {\n        result += +iteratee(array[length]) || 0;\n      }\n      return result;\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assign` use.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignDefaults(objectValue, sourceValue) {\n      return objectValue === undefined ? sourceValue : objectValue;\n    }\n\n    /**\n     * Used by `_.template` to customize its `_.assign` use.\n     *\n     * **Note:** This function is like `assignDefaults` except that it ignores\n     * inherited property values when checking if a property is `undefined`.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @param {string} key The key associated with the object and source values.\n     * @param {Object} object The destination object.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignOwnDefaults(objectValue, sourceValue, key, object) {\n      return (objectValue === undefined || !hasOwnProperty.call(object, key))\n        ? sourceValue\n        : objectValue;\n    }\n\n    /**\n     * A specialized version of `_.assign` for customizing assigned values without\n     * support for argument juggling, multiple sources, and `this` binding `customizer`\n     * functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     */\n    function assignWith(object, source, customizer) {\n      var index = -1,\n          props = keys(source),\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key],\n            result = customizer(value, source[key], key, object, source);\n\n        if ((result === result ? (result !== value) : (value === value)) ||\n            (value === undefined && !(key in object))) {\n          object[key] = result;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for argument juggling,\n     * multiple sources, and `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return source == null\n        ? object\n        : baseCopy(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.at` without support for string collections\n     * and individual key arguments.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {number[]|string[]} props The property names or indexes of elements to pick.\n     * @returns {Array} Returns the new array of picked elements.\n     */\n    function baseAt(collection, props) {\n      var index = -1,\n          isNil = collection == null,\n          isArr = !isNil && isArrayLike(collection),\n          length = isArr ? collection.length : 0,\n          propsLength = props.length,\n          result = Array(propsLength);\n\n      while(++index < propsLength) {\n        var key = props[index];\n        if (isArr) {\n          result[index] = isIndex(key, length) ? collection[key] : undefined;\n        } else {\n          result[index] = isNil ? undefined : collection[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property names to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @returns {Object} Returns `object`.\n     */\n    function baseCopy(source, props, object) {\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n        object[key] = source[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.callback` which supports specifying the\n     * number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function baseCallback(func, thisArg, argCount) {\n      var type = typeof func;\n      if (type == 'function') {\n        return thisArg === undefined\n          ? func\n          : bindCallback(func, thisArg, argCount);\n      }\n      if (func == null) {\n        return identity;\n      }\n      if (type == 'object') {\n        return baseMatches(func);\n      }\n      return thisArg === undefined\n        ? property(func)\n        : baseMatchesProperty(func, thisArg);\n    }\n\n    /**\n     * The base implementation of `_.clone` without support for argument juggling\n     * and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The object `value` belongs to.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates clones with source counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, isDeep, customizer, key, object, stackA, stackB) {\n      var result;\n      if (customizer) {\n        result = object ? customizer(value, key, object) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return arrayCopy(value, result);\n        }\n      } else {\n        var tag = objToString.call(value),\n            isFunc = tag == funcTag;\n\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = initCloneObject(isFunc ? {} : value);\n          if (!isDeep) {\n            return baseAssign(result, value);\n          }\n        } else {\n          return cloneableTags[tag]\n            ? initCloneByTag(value, tag, isDeep)\n            : (object ? value : {});\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == value) {\n          return stackB[length];\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate it with its clone.\n      stackA.push(value);\n      stackB.push(result);\n\n      // Recursively populate clone (susceptible to call stack limits).\n      (isArr ? arrayEach : baseForOwn)(value, function(subValue, key) {\n        result[key] = baseClone(subValue, isDeep, customizer, key, value, stackA, stackB);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} prototype The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(prototype) {\n        if (isObject(prototype)) {\n          object.prototype = prototype;\n          var result = new object;\n          object.prototype = undefined;\n        }\n        return result || {};\n      };\n    }());\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts an index\n     * of where to slice the arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Object} args The arguments provide to `func`.\n     * @returns {number} Returns the timer id.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of `_.difference` which accepts a single array\n     * of values to exclude.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values) {\n      var length = array ? array.length : 0,\n          result = [];\n\n      if (!length) {\n        return result;\n      }\n      var index = -1,\n          indexOf = getIndexOf(),\n          isCommon = indexOf == baseIndexOf,\n          cache = (isCommon && values.length >= LARGE_ARRAY_SIZE) ? createCache(values) : null,\n          valuesLength = values.length;\n\n      if (cache) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n        values = cache;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index];\n\n        if (isCommon && value === value) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === value) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (indexOf(values, value, 0) < 0) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * Gets the extremum value of `collection` invoking `iteratee` for each value\n     * in `collection` to generate the criterion by which the value is ranked.\n     * The `iteratee` is invoked with three arguments: (value, index|key, collection).\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} comparator The function used to compare values.\n     * @param {*} exValue The initial extremum value.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(collection, iteratee, comparator, exValue) {\n      var computed = exValue,\n          result = computed;\n\n      baseEach(collection, function(value, index, collection) {\n        var current = +iteratee(value, index, collection);\n        if (comparator(current, computed) || (current === exValue && current === result)) {\n          computed = current;\n          result = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : (end >>> 0);\n      start >>>= 0;\n\n      while (start < length) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.find`, `_.findLast`, `_.findKey`, and `_.findLastKey`,\n     * without support for callback shorthands and `this` binding, which iterates\n     * over `collection` using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @param {boolean} [retKey] Specify returning the key of the found element\n     *  instead of the element itself.\n     * @returns {*} Returns the found element or its key, else `undefined`.\n     */\n    function baseFind(collection, predicate, eachFunc, retKey) {\n      var result;\n      eachFunc(collection, function(value, key, collection) {\n        if (predicate(value, key, collection)) {\n          result = retKey ? key : value;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with added support for restricting\n     * flattening and specifying the start index.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isDeep] Specify a deep flatten.\n     * @param {boolean} [isStrict] Restrict flattening to arrays-like objects.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, isDeep, isStrict, result) {\n      result || (result = []);\n\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index];\n        if (isObjectLike(value) && isArrayLike(value) &&\n            (isStrict || isArray(value) || isArguments(value))) {\n          if (isDeep) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, isDeep, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForIn` and `baseForOwn` which iterates\n     * over `object` properties returned by `keysFunc` invoking `iteratee` for\n     * each property. Iteratee functions may exit iteration early by explicitly\n     * returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forIn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForIn(object, iteratee) {\n      return baseFor(object, iteratee, keysIn);\n    }\n\n    /**\n     * The base implementation of `_.forOwn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from those provided.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the new array of filtered property names.\n     */\n    function baseFunctions(object, props) {\n      var index = -1,\n          length = props.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var key = props[index];\n        if (isFunction(object[key])) {\n          result[++resIndex] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `get` without support for string paths\n     * and default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path of the property to get.\n     * @param {string} [pathKey] The key representation of path.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path, pathKey) {\n      if (object == null) {\n        return;\n      }\n      if (pathKey !== undefined && pathKey in toObject(object)) {\n        path = [pathKey];\n      }\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[path[index++]];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` without support for `this` binding\n     * `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, customizer, isLoose, stackA, stackB) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObject(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, baseIsEqual, customizer, isLoose, stackA, stackB);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA=[]] Tracks traversed `value` objects.\n     * @param {Array} [stackB=[]] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = arrayTag,\n          othTag = arrayTag;\n\n      if (!objIsArr) {\n        objTag = objToString.call(object);\n        if (objTag == argsTag) {\n          objTag = objectTag;\n        } else if (objTag != objectTag) {\n          objIsArr = isTypedArray(object);\n        }\n      }\n      if (!othIsArr) {\n        othTag = objToString.call(other);\n        if (othTag == argsTag) {\n          othTag = objectTag;\n        } else if (othTag != objectTag) {\n          othIsArr = isTypedArray(other);\n        }\n      }\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && !(objIsArr || objIsObj)) {\n        return equalByTag(object, other, objTag);\n      }\n      if (!isLoose) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          return equalFunc(objIsWrapped ? object.value() : object, othIsWrapped ? other.value() : other, customizer, isLoose, stackA, stackB);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      // For more information on detecting circular references see https://es5.github.io/#JO.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == object) {\n          return stackB[length] == other;\n        }\n      }\n      // Add `object` and `other` to the stack of traversed objects.\n      stackA.push(object);\n      stackB.push(other);\n\n      var result = (objIsArr ? equalArrays : equalObjects)(object, other, equalFunc, customizer, isLoose, stackA, stackB);\n\n      stackA.pop();\n      stackB.pop();\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} matchData The propery names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = toObject(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var result = customizer ? customizer(objValue, srcValue, key) : undefined;\n          if (!(result === undefined ? baseIsEqual(srcValue, objValue, customizer, true) : result)) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which does not clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        var key = matchData[0][0],\n            value = matchData[0][1];\n\n        return function(object) {\n          if (object == null) {\n            return false;\n          }\n          return object[key] === value && (value !== undefined || (key in toObject(object)));\n        };\n      }\n      return function(object) {\n        return baseIsMatch(object, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which does not clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to compare.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      var isArr = isArray(path),\n          isCommon = isKey(path) && isStrictComparable(srcValue),\n          pathKey = (path + '');\n\n      path = toPath(path);\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        var key = pathKey;\n        object = toObject(object);\n        if ((isArr || !isCommon) && !(key in object)) {\n          object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n          if (object == null) {\n            return false;\n          }\n          key = last(path);\n          object = toObject(object);\n        }\n        return object[key] === srcValue\n          ? (srcValue !== undefined || (key in object))\n          : baseIsEqual(srcValue, object[key], undefined, true);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for argument juggling,\n     * multiple sources, and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {Object} Returns `object`.\n     */\n    function baseMerge(object, source, customizer, stackA, stackB) {\n      if (!isObject(object)) {\n        return object;\n      }\n      var isSrcArr = isArrayLike(source) && (isArray(source) || isTypedArray(source)),\n          props = isSrcArr ? undefined : keys(source);\n\n      arrayEach(props || source, function(srcValue, key) {\n        if (props) {\n          key = srcValue;\n          srcValue = source[key];\n        }\n        if (isObjectLike(srcValue)) {\n          stackA || (stackA = []);\n          stackB || (stackB = []);\n          baseMergeDeep(object, source, key, baseMerge, customizer, stackA, stackB);\n        }\n        else {\n          var value = object[key],\n              result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n              isCommon = result === undefined;\n\n          if (isCommon) {\n            result = srcValue;\n          }\n          if ((result !== undefined || (isSrcArr && !(key in object))) &&\n              (isCommon || (result === result ? (result !== value) : (value === value)))) {\n            object[key] = result;\n          }\n        }\n      });\n      return object;\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseMergeDeep(object, source, key, mergeFunc, customizer, stackA, stackB) {\n      var length = stackA.length,\n          srcValue = source[key];\n\n      while (length--) {\n        if (stackA[length] == srcValue) {\n          object[key] = stackB[length];\n          return;\n        }\n      }\n      var value = object[key],\n          result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n          isCommon = result === undefined;\n\n      if (isCommon) {\n        result = srcValue;\n        if (isArrayLike(srcValue) && (isArray(srcValue) || isTypedArray(srcValue))) {\n          result = isArray(value)\n            ? value\n            : (isArrayLike(value) ? arrayCopy(value) : []);\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          result = isArguments(value)\n            ? toPlainObject(value)\n            : (isPlainObject(value) ? value : {});\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate\n      // it with its merged value.\n      stackA.push(srcValue);\n      stackB.push(result);\n\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        object[key] = mergeFunc(result, srcValue, customizer, stackA, stackB);\n      } else if (result === result ? (result !== value) : (value === value)) {\n        object[key] = result;\n      }\n    }\n\n    /**\n     * The base implementation of `_.property` without support for deep paths.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @returns {Function} Returns the new function.\n     */\n    function baseProperty(key) {\n      return function(object) {\n        return object == null ? undefined : object[key];\n      };\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new function.\n     */\n    function basePropertyDeep(path) {\n      var pathKey = (path + '');\n      path = toPath(path);\n      return function(object) {\n        return baseGet(object, path, pathKey);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * index arguments and capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0;\n      while (length--) {\n        var index = indexes[length];\n        if (index != previous && isIndex(index)) {\n          var previous = index;\n          splice.call(array, index, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for argument juggling\n     * and returning floating-point numbers.\n     *\n     * @private\n     * @param {number} min The minimum possible value.\n     * @param {number} max The maximum possible value.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(min, max) {\n      return min + nativeFloor(nativeRandom() * (max - min + 1));\n    }\n\n    /**\n     * The base implementation of `_.reduce` and `_.reduceRight` without support\n     * for callback shorthands and `this` binding, which iterates over `collection`\n     * using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} accumulator The initial value.\n     * @param {boolean} initFromCollection Specify using the first or last element\n     *  of `collection` as the initial value.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @returns {*} Returns the accumulated value.\n     */\n    function baseReduce(collection, iteratee, accumulator, initFromCollection, eachFunc) {\n      eachFunc(collection, function(value, index, collection) {\n        accumulator = initFromCollection\n          ? (initFromCollection = false, value)\n          : iteratee(accumulator, value, index, collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop detection.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortBy` which uses `comparer` to define\n     * the sort order of `array` and replaces criteria objects with their\n     * corresponding values.\n     *\n     * @private\n     * @param {Array} array The array to sort.\n     * @param {Function} comparer The function to define sort order.\n     * @returns {Array} Returns `array`.\n     */\n    function baseSortBy(array, comparer) {\n      var length = array.length;\n\n      array.sort(comparer);\n      while (length--) {\n        array[length] = array[length].value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.sortByOrder` without param guards.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {boolean[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseSortByOrder(collection, iteratees, orders) {\n      var callback = getCallback(),\n          index = -1;\n\n      iteratees = arrayMap(iteratees, function(iteratee) { return callback(iteratee); });\n\n      var result = baseMap(collection, function(value) {\n        var criteria = arrayMap(iteratees, function(iteratee) { return iteratee(value); });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.sum` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {number} Returns the sum.\n     */\n    function baseSum(collection, iteratee) {\n      var result = 0;\n      baseEach(collection, function(value, index, collection) {\n        result += +iteratee(value, index, collection) || 0;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.uniq` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The function invoked per iteration.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     */\n    function baseUniq(array, iteratee) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = array.length,\n          isCommon = indexOf == baseIndexOf,\n          isLarge = isCommon && length >= LARGE_ARRAY_SIZE,\n          seen = isLarge ? createCache() : null,\n          result = [];\n\n      if (seen) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n      } else {\n        isLarge = false;\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value, index, array) : value;\n\n        if (isCommon && value === value) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (indexOf(seen, computed, 0) < 0) {\n          if (iteratee || isLarge) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.values` and `_.valuesIn` which creates an\n     * array of `object` property values corresponding to the property names\n     * of `props`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} props The property names to get values for.\n     * @returns {Object} Returns the array of property values.\n     */\n    function baseValues(object, props) {\n      var index = -1,\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = object[props[index]];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.dropRightWhile`, `_.dropWhile`, `_.takeRightWhile`,\n     * and `_.takeWhile` without support for callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) && predicate(array[index], index, array)) {}\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to peform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      var index = -1,\n          length = actions.length;\n\n      while (++index < length) {\n        var action = actions[index];\n        result = action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }\n      return result;\n    }\n\n    /**\n     * Performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndex(array, value, retHighest) {\n      var low = 0,\n          high = array ? array.length : low;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if ((retHighest ? (computed <= value) : (computed < value)) && computed !== null) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return binaryIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * This function is like `binaryIndex` except that it invokes `iteratee` for\n     * `value` and each element of `array` to compute their sort ranking. The\n     * iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n\n      var low = 0,\n          high = array ? array.length : 0,\n          valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsUndef = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            isDef = computed !== undefined,\n            isReflexive = computed === computed;\n\n        if (valIsNaN) {\n          var setLow = isReflexive || retHighest;\n        } else if (valIsNull) {\n          setLow = isReflexive && isDef && (retHighest || computed != null);\n        } else if (valIsUndef) {\n          setLow = isReflexive && (retHighest || isDef);\n        } else if (computed == null) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * A specialized version of `baseCallback` which only supports `this` binding\n     * and specifying the number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function bindCallback(func, thisArg, argCount) {\n      if (typeof func != 'function') {\n        return identity;\n      }\n      if (thisArg === undefined) {\n        return func;\n      }\n      switch (argCount) {\n        case 1: return function(value) {\n          return func.call(thisArg, value);\n        };\n        case 3: return function(value, index, collection) {\n          return func.call(thisArg, value, index, collection);\n        };\n        case 4: return function(accumulator, value, index, collection) {\n          return func.call(thisArg, accumulator, value, index, collection);\n        };\n        case 5: return function(value, other, key, object, source) {\n          return func.call(thisArg, value, other, key, object, source);\n        };\n      }\n      return function() {\n        return func.apply(thisArg, arguments);\n      };\n    }\n\n    /**\n     * Creates a clone of the given array buffer.\n     *\n     * @private\n     * @param {ArrayBuffer} buffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function bufferClone(buffer) {\n      var result = new ArrayBuffer(buffer.byteLength),\n          view = new Uint8Array(result);\n\n      view.set(new Uint8Array(buffer));\n      return result;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders) {\n      var holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          leftIndex = -1,\n          leftLength = partials.length,\n          result = Array(leftLength + argsLength);\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        result[holders[argsIndex]] = args[argsIndex];\n      }\n      while (argsLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders) {\n      var holdersIndex = -1,\n          holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          rightIndex = -1,\n          rightLength = partials.length,\n          result = Array(argsLength + rightLength);\n\n      while (++argsIndex < argsLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        result[offset + holders[holdersIndex]] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * Creates a `_.countBy`, `_.groupBy`, `_.indexBy`, or `_.partition` function.\n     *\n     * @private\n     * @param {Function} setter The function to set keys and values of the accumulator object.\n     * @param {Function} [initializer] The function to initialize the accumulator object.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee, thisArg) {\n        var result = initializer ? initializer() : {};\n        iteratee = getCallback(iteratee, thisArg, 3);\n\n        if (isArray(collection)) {\n          var index = -1,\n              length = collection.length;\n\n          while (++index < length) {\n            var value = collection[index];\n            setter(result, value, iteratee(value, index, collection), collection);\n          }\n        } else {\n          baseEach(collection, function(value, key, collection) {\n            setter(result, value, iteratee(value, key, collection), collection);\n          });\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a `_.assign`, `_.defaults`, or `_.merge` function.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return restParam(function(object, sources) {\n        var index = -1,\n            length = object == null ? 0 : sources.length,\n            customizer = length > 2 ? sources[length - 2] : undefined,\n            guard = length > 2 ? sources[2] : undefined,\n            thisArg = length > 1 ? sources[length - 1] : undefined;\n\n        if (typeof customizer == 'function') {\n          customizer = bindCallback(customizer, thisArg, 5);\n          length -= 2;\n        } else {\n          customizer = typeof thisArg == 'function' ? thisArg : undefined;\n          length -= (customizer ? 1 : 0);\n        }\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        var length = collection ? getLength(collection) : 0;\n        if (!isLength(length)) {\n          return eachFunc(collection, iteratee);\n        }\n        var index = fromRight ? length : -1,\n            iterable = toObject(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for `_.forIn` or `_.forInRight`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var iterable = toObject(object),\n            props = keysFunc(object),\n            length = props.length,\n            index = fromRight ? length : -1;\n\n        while ((fromRight ? index-- : ++index < length)) {\n          var key = props[index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createBindWrapper(func, thisArg) {\n      var Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(thisArg, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `Set` cache object to optimize linear searches of large arrays.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     * @returns {null|Object} Returns the new cache object if `Set` is supported, else `null`.\n     */\n    function createCache(values) {\n      return (nativeCreate && Set) ? new SetCache(values) : null;\n    }\n\n    /**\n     * Creates a function that produces compound words out of the words in a\n     * given string.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        var index = -1,\n            array = words(deburr(string)),\n            length = array.length,\n            result = '';\n\n        while (++index < length) {\n          result = callback(result, array[index], index);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtorWrapper(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors.\n        // See http://ecma-international.org/ecma-262/6.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a `_.curry` or `_.curryRight` function.\n     *\n     * @private\n     * @param {boolean} flag The curry bit flag.\n     * @returns {Function} Returns the new curry function.\n     */\n    function createCurry(flag) {\n      function curryFunc(func, arity, guard) {\n        if (guard && isIterateeCall(func, arity, guard)) {\n          arity = undefined;\n        }\n        var result = createWrapper(func, flag, undefined, undefined, undefined, undefined, undefined, arity);\n        result.placeholder = curryFunc.placeholder;\n        return result;\n      }\n      return curryFunc;\n    }\n\n    /**\n     * Creates a `_.defaults` or `_.defaultsDeep` function.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Function} Returns the new defaults function.\n     */\n    function createDefaults(assigner, customizer) {\n      return restParam(function(args) {\n        var object = args[0];\n        if (object == null) {\n          return object;\n        }\n        args.push(customizer);\n        return assigner.apply(undefined, args);\n      });\n    }\n\n    /**\n     * Creates a `_.max` or `_.min` function.\n     *\n     * @private\n     * @param {Function} comparator The function used to compare values.\n     * @param {*} exValue The initial extremum value.\n     * @returns {Function} Returns the new extremum function.\n     */\n    function createExtremum(comparator, exValue) {\n      return function(collection, iteratee, thisArg) {\n        if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n          iteratee = undefined;\n        }\n        iteratee = getCallback(iteratee, thisArg, 3);\n        if (iteratee.length == 1) {\n          collection = isArray(collection) ? collection : toIterable(collection);\n          var result = arrayExtremum(collection, iteratee, comparator, exValue);\n          if (!(collection.length && result === exValue)) {\n            return result;\n          }\n        }\n        return baseExtremum(collection, iteratee, comparator, exValue);\n      };\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(eachFunc, fromRight) {\n      return function(collection, predicate, thisArg) {\n        predicate = getCallback(predicate, thisArg, 3);\n        if (isArray(collection)) {\n          var index = baseFindIndex(collection, predicate, fromRight);\n          return index > -1 ? collection[index] : undefined;\n        }\n        return baseFind(collection, predicate, eachFunc);\n      };\n    }\n\n    /**\n     * Creates a `_.findIndex` or `_.findLastIndex` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFindIndex(fromRight) {\n      return function(array, predicate, thisArg) {\n        if (!(array && array.length)) {\n          return -1;\n        }\n        predicate = getCallback(predicate, thisArg, 3);\n        return baseFindIndex(array, predicate, fromRight);\n      };\n    }\n\n    /**\n     * Creates a `_.findKey` or `_.findLastKey` function.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFindKey(objectFunc) {\n      return function(object, predicate, thisArg) {\n        predicate = getCallback(predicate, thisArg, 3);\n        return baseFind(object, predicate, objectFunc, true);\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return function() {\n        var wrapper,\n            length = arguments.length,\n            index = fromRight ? length : -1,\n            leftIndex = 0,\n            funcs = Array(length);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          var func = funcs[leftIndex++] = arguments[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (!wrapper && LodashWrapper.prototype.thru && getFuncName(func) == 'wrapper') {\n            wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? -1 : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) && data[1] == (ARY_FLAG | CURRY_FLAG | PARTIAL_FLAG | REARG_FLAG) && !data[4].length && data[9] == 1) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func)) ? wrapper[funcName]() : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value) && value.length >= LARGE_ARRAY_SIZE) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      };\n    }\n\n    /**\n     * Creates a function for `_.forEach` or `_.forEachRight`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over an array.\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForEach(arrayFunc, eachFunc) {\n      return function(collection, iteratee, thisArg) {\n        return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n          ? arrayFunc(collection, iteratee)\n          : eachFunc(collection, bindCallback(iteratee, thisArg, 3));\n      };\n    }\n\n    /**\n     * Creates a function for `_.forIn` or `_.forInRight`.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForIn(objectFunc) {\n      return function(object, iteratee, thisArg) {\n        if (typeof iteratee != 'function' || thisArg !== undefined) {\n          iteratee = bindCallback(iteratee, thisArg, 3);\n        }\n        return objectFunc(object, iteratee, keysIn);\n      };\n    }\n\n    /**\n     * Creates a function for `_.forOwn` or `_.forOwnRight`.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForOwn(objectFunc) {\n      return function(object, iteratee, thisArg) {\n        if (typeof iteratee != 'function' || thisArg !== undefined) {\n          iteratee = bindCallback(iteratee, thisArg, 3);\n        }\n        return objectFunc(object, iteratee);\n      };\n    }\n\n    /**\n     * Creates a function for `_.mapKeys` or `_.mapValues`.\n     *\n     * @private\n     * @param {boolean} [isMapKeys] Specify mapping keys instead of values.\n     * @returns {Function} Returns the new map function.\n     */\n    function createObjectMapper(isMapKeys) {\n      return function(object, iteratee, thisArg) {\n        var result = {};\n        iteratee = getCallback(iteratee, thisArg, 3);\n\n        baseForOwn(object, function(value, key, object) {\n          var mapped = iteratee(value, key, object);\n          key = isMapKeys ? mapped : key;\n          value = isMapKeys ? value : mapped;\n          result[key] = value;\n        });\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function for `_.padLeft` or `_.padRight`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify padding from the right.\n     * @returns {Function} Returns the new pad function.\n     */\n    function createPadDir(fromRight) {\n      return function(string, length, chars) {\n        string = baseToString(string);\n        return (fromRight ? string : '') + createPadding(string, length, chars) + (fromRight ? '' : string);\n      };\n    }\n\n    /**\n     * Creates a `_.partial` or `_.partialRight` function.\n     *\n     * @private\n     * @param {boolean} flag The partial bit flag.\n     * @returns {Function} Returns the new partial function.\n     */\n    function createPartial(flag) {\n      var partialFunc = restParam(function(func, partials) {\n        var holders = replaceHolders(partials, partialFunc.placeholder);\n        return createWrapper(func, flag, undefined, partials, holders);\n      });\n      return partialFunc;\n    }\n\n    /**\n     * Creates a function for `_.reduce` or `_.reduceRight`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over an array.\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @returns {Function} Returns the new each function.\n     */\n    function createReduce(arrayFunc, eachFunc) {\n      return function(collection, iteratee, accumulator, thisArg) {\n        var initFromArray = arguments.length < 3;\n        return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n          ? arrayFunc(collection, iteratee, accumulator, initFromArray)\n          : baseReduce(collection, getCallback(iteratee, thisArg, 4), accumulator, initFromArray, eachFunc);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with optional `this`\n     * binding of, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybridWrapper(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & ARY_FLAG,\n          isBind = bitmask & BIND_FLAG,\n          isBindKey = bitmask & BIND_KEY_FLAG,\n          isCurry = bitmask & CURRY_FLAG,\n          isCurryBound = bitmask & CURRY_BOUND_FLAG,\n          isCurryRight = bitmask & CURRY_RIGHT_FLAG,\n          Ctor = isBindKey ? undefined : createCtorWrapper(func);\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it to other functions.\n        var length = arguments.length,\n            index = length,\n            args = Array(length);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight);\n        }\n        if (isCurry || isCurryRight) {\n          var placeholder = wrapper.placeholder,\n              argsHolders = replaceHolders(args, placeholder);\n\n          length -= argsHolders.length;\n          if (length < arity) {\n            var newArgPos = argPos ? arrayCopy(argPos) : undefined,\n                newArity = nativeMax(arity - length, 0),\n                newsHolders = isCurry ? argsHolders : undefined,\n                newHoldersRight = isCurry ? undefined : argsHolders,\n                newPartials = isCurry ? args : undefined,\n                newPartialsRight = isCurry ? undefined : args;\n\n            bitmask |= (isCurry ? PARTIAL_FLAG : PARTIAL_RIGHT_FLAG);\n            bitmask &= ~(isCurry ? PARTIAL_RIGHT_FLAG : PARTIAL_FLAG);\n\n            if (!isCurryBound) {\n              bitmask &= ~(BIND_FLAG | BIND_KEY_FLAG);\n            }\n            var newData = [func, bitmask, thisArg, newPartials, newsHolders, newPartialsRight, newHoldersRight, newArgPos, ary, newArity],\n                result = createHybridWrapper.apply(undefined, newData);\n\n            if (isLaziable(func)) {\n              setData(result, newData);\n            }\n            result.placeholder = placeholder;\n            return result;\n          }\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        if (argPos) {\n          args = reorder(args, argPos);\n        }\n        if (isAry && ary < args.length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtorWrapper(func);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates the padding required for `string` based on the given `length`.\n     * The `chars` string is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {string} string The string to create padding for.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the pad for `string`.\n     */\n    function createPadding(string, length, chars) {\n      var strLength = string.length;\n      length = +length;\n\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return '';\n      }\n      var padLength = length - strLength;\n      chars = chars == null ? ' ' : (chars + '');\n      return repeat(chars, nativeCeil(padLength / chars.length)).slice(0, padLength);\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the optional `this`\n     * binding of `thisArg` and the `partials` prepended to those provided to\n     * the wrapper.\n     *\n     * @private\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to the new function.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createPartialWrapper(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & BIND_FLAG,\n          Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it `func`.\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength);\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.ceil`, `_.floor`, or `_.round` function.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        precision = precision === undefined ? 0 : (+precision || 0);\n        if (precision) {\n          precision = pow(10, precision);\n          return func(number * precision) / precision;\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a `_.sortedIndex` or `_.sortedLastIndex` function.\n     *\n     * @private\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {Function} Returns the new index function.\n     */\n    function createSortedIndex(retHighest) {\n      return function(array, value, iteratee, thisArg) {\n        var callback = getCallback(iteratee);\n        return (iteratee == null && callback === baseCallback)\n          ? binaryIndex(array, value, retHighest)\n          : binaryIndexBy(array, value, callback(iteratee, thisArg, 1), retHighest);\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags.\n     *  The bitmask may be composed of the following flags:\n     *     1 - `_.bind`\n     *     2 - `_.bindKey`\n     *     4 - `_.curry` or `_.curryRight` of a bound function\n     *     8 - `_.curry`\n     *    16 - `_.curryRight`\n     *    32 - `_.partial`\n     *    64 - `_.partialRight`\n     *   128 - `_.rearg`\n     *   256 - `_.ary`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrapper(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(PARTIAL_FLAG | PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      length -= (holders ? holders.length : 0);\n      if (bitmask & PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func),\n          newData = [func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity];\n\n      if (data) {\n        mergeData(newData, data);\n        bitmask = newData[1];\n        arity = newData[9];\n      }\n      newData[9] = arity == null\n        ? (isBindKey ? 0 : func.length)\n        : (nativeMax(arity - length, 0) || 0);\n\n      if (bitmask == BIND_FLAG) {\n        var result = createBindWrapper(newData[0], newData[2]);\n      } else if ((bitmask == PARTIAL_FLAG || bitmask == (BIND_FLAG | PARTIAL_FLAG)) && !newData[4].length) {\n        result = createPartialWrapper.apply(undefined, newData);\n      } else {\n        result = createHybridWrapper.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setter(result, newData);\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing arrays.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var index = -1,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isLoose && othLength > arrLength)) {\n        return false;\n      }\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index],\n            result = customizer ? customizer(isLoose ? othValue : arrValue, isLoose ? arrValue : othValue, index) : undefined;\n\n        if (result !== undefined) {\n          if (result) {\n            continue;\n          }\n          return false;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (isLoose) {\n          if (!arraySome(other, function(othValue) {\n                return arrValue === othValue || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB);\n              })) {\n            return false;\n          }\n        } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB))) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag) {\n      switch (tag) {\n        case boolTag:\n        case dateTag:\n          // Coerce dates and booleans to numbers, dates to milliseconds and booleans\n          // to `1` or `0` treating invalid dates coerced to `NaN` as not equal.\n          return +object == +other;\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case numberTag:\n          // Treat `NaN` vs. `NaN` as equal.\n          return (object != +object)\n            ? other != +other\n            : object == +other;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings primitives and string\n          // objects as equal. See https://es5.github.io/#x15.10.6.4 for more details.\n          return object == (other + '');\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var objProps = keys(object),\n          objLength = objProps.length,\n          othProps = keys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isLoose) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isLoose ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      var skipCtor = isLoose;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key],\n            result = customizer ? customizer(isLoose ? othValue : objValue, isLoose? objValue : othValue, key) : undefined;\n\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(result === undefined ? equalFunc(objValue, othValue, customizer, isLoose, stackA, stackB) : result)) {\n          return false;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (!skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Gets the appropriate \"callback\" function. If the `_.callback` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseCallback` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getCallback(func, thisArg, argCount) {\n      var result = lodash.callback || callback;\n      result = result === callback ? baseCallback : result;\n      return argCount ? result(func, thisArg, argCount) : result;\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = func.name,\n          array = realNames[result],\n          length = array ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the appropriate \"indexOf\" function. If the `_.indexOf` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseIndexOf` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function|number} Returns the chosen function or its result.\n     */\n    function getIndexOf(collection, target, fromIndex) {\n      var result = lodash.indexOf || indexOf;\n      result = result === indexOf ? baseIndexOf : result;\n      return collection ? result(collection, target, fromIndex) : result;\n    }\n\n    /**\n     * Gets the \"length\" property value of `object`.\n     *\n     * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n     * that affects Safari on at least iOS 8.1-8.3 ARM64.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {*} Returns the \"length\" value.\n     */\n    var getLength = baseProperty('length');\n\n    /**\n     * Gets the propery names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = pairs(object),\n          length = result.length;\n\n      while (length--) {\n        result[length][2] = isStrictComparable(result[length][1]);\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = object == null ? undefined : object[key];\n      return isNative(value) ? value : undefined;\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add array properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      var Ctor = object.constructor;\n      if (!(typeof Ctor == 'function' && Ctor instanceof Ctor)) {\n        Ctor = Object;\n      }\n      return new Ctor;\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return bufferClone(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          var buffer = object.buffer;\n          return new Ctor(isDeep ? bufferClone(buffer) : buffer, object.byteOffset, object.length);\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          var result = new Ctor(object.source, reFlags.exec(object));\n          result.lastIndex = object.lastIndex;\n      }\n      return result;\n    }\n\n    /**\n     * Invokes the method at `path` on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function invokePath(object, path, args) {\n      if (object != null && !isKey(path, object)) {\n        path = toPath(path);\n        object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n        path = last(path);\n      }\n      var func = object == null ? object : object[path];\n      return func == null ? undefined : func.apply(object, args);\n    }\n\n    /**\n     * Checks if `value` is array-like.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(getLength(value));\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n      return value > -1 && value % 1 == 0 && value < length;\n    }\n\n    /**\n     * Checks if the provided arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n          ? (isArrayLike(object) && isIndex(index, object.length))\n          : (type == 'string' && index in object)) {\n        var other = object[index];\n        return value === value ? (value === other) : (other !== other);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      var type = typeof value;\n      if ((type == 'string' && reIsPlainProp.test(value)) || type == 'number') {\n        return true;\n      }\n      if (isArray(value)) {\n        return false;\n      }\n      var result = !reIsDeepProp.test(value);\n      return result || (object != null && value in toObject(object));\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart, else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func);\n      if (!(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      var other = lodash[funcName];\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     */\n    function isLength(value) {\n      return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers required to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and `_.rearg`\n     * augment function arguments, making the order in which they are executed important,\n     * preventing the merging of metadata. However, we make an exception for a safe\n     * common case where curried functions have `_.ary` and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < ARY_FLAG;\n\n      var isCombo =\n        (srcBitmask == ARY_FLAG && bitmask == CURRY_FLAG) ||\n        (srcBitmask == ARY_FLAG && bitmask == REARG_FLAG && data[7].length <= source[8]) ||\n        (srcBitmask == (ARY_FLAG | REARG_FLAG) && bitmask == CURRY_FLAG);\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= (bitmask & BIND_FLAG) ? 0 : CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : arrayCopy(value);\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : arrayCopy(source[4]);\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : arrayCopy(value);\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : arrayCopy(source[6]);\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = arrayCopy(value);\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function mergeDefaults(objectValue, sourceValue) {\n      return objectValue === undefined ? sourceValue : merge(objectValue, sourceValue, mergeDefaults);\n    }\n\n    /**\n     * A specialized version of `_.pick` which picks `object` properties specified\n     * by `props`.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} props The property names to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByArray(object, props) {\n      object = toObject(object);\n\n      var index = -1,\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index];\n        if (key in object) {\n          result[key] = object[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.pick` which picks `object` properties `predicate`\n     * returns truthy for.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByCallback(object, predicate) {\n      var result = {};\n      baseForIn(object, function(value, key, object) {\n        if (predicate(value, key, object)) {\n          result[key] = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = arrayCopy(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity function\n     * to avoid garbage collection pauses in V8. See [V8 issue 2070](https://code.google.com/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = (function() {\n      var count = 0,\n          lastCalled = 0;\n\n      return function(key, value) {\n        var stamp = now(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return key;\n          }\n        } else {\n          count = 0;\n        }\n        return baseSetData(key, value);\n      };\n    }());\n\n    /**\n     * A fallback implementation of `Object.keys` which creates an array of the\n     * own enumerable property names of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function shimKeys(object) {\n      var props = keysIn(object),\n          propsLength = props.length,\n          length = propsLength && object.length;\n\n      var allowIndexes = !!length && isLength(length) &&\n        (isArray(object) || isArguments(object));\n\n      var index = -1,\n          result = [];\n\n      while (++index < propsLength) {\n        var key = props[index];\n        if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to an array-like object if it's not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Array|Object} Returns the array-like object.\n     */\n    function toIterable(value) {\n      if (value == null) {\n        return [];\n      }\n      if (!isArrayLike(value)) {\n        return values(value);\n      }\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Converts `value` to an object if it's not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Object} Returns the object.\n     */\n    function toObject(value) {\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Converts `value` to property path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Array} Returns the property path array.\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return value;\n      }\n      var result = [];\n      baseToString(value).replace(rePropName, function(match, number, quote, string) {\n        result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      return wrapper instanceof LazyWrapper\n        ? wrapper.clone()\n        : new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__, arrayCopy(wrapper.__actions__));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `collection` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new array containing chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if (guard ? isIterateeCall(array, size, guard) : size == null) {\n        size = 1;\n      } else {\n        size = nativeMax(nativeFloor(size) || 1, 1);\n      }\n      var index = 0,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[++resIndex] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of unique `array` values not included in the other\n     * provided arrays using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The arrays of values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.difference([1, 2, 3], [4, 2]);\n     * // => [1, 3]\n     */\n    var difference = restParam(function(array, values) {\n      return (isObjectLike(array) && isArrayLike(array))\n        ? baseDifference(array, baseFlatten(values, false, true))\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that match the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [1]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active', false), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active', false), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8], '*', 1, 2);\n     * // => [4, '*', 8]\n     */\n    function fill(array, value, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(chr) {\n     *   return chr.user == 'barney';\n     * });\n     * // => 0\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findIndex(users, 'active', false);\n     * // => 0\n     *\n     * // using the `_.property` callback shorthand\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    var findIndex = createFindIndex();\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(chr) {\n     *   return chr.user == 'pebbles';\n     * });\n     * // => 2\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastIndex(users, 'active', false);\n     * // => 2\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    var findLastIndex = createFindIndex(true);\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias head\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.first([1, 2, 3]);\n     * // => 1\n     *\n     * _.first([]);\n     * // => undefined\n     */\n    function first(array) {\n      return array ? array[0] : undefined;\n    }\n\n    /**\n     * Flattens a nested array. If `isDeep` is `true` the array is recursively\n     * flattened, otherwise it is only flattened a single level.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isDeep] Specify a deep flatten.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, [4]]\n     *\n     * // using `isDeep`\n     * _.flatten([1, [2, 3, [4]]], true);\n     * // => [1, 2, 3, 4]\n     */\n    function flatten(array, isDeep, guard) {\n      var length = array ? array.length : 0;\n      if (guard && isIterateeCall(array, isDeep, guard)) {\n        isDeep = false;\n      }\n      return length ? baseFlatten(array, isDeep) : [];\n    }\n\n    /**\n     * Recursively flattens a nested array.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to recursively flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, 4]\n     */\n    function flattenDeep(array) {\n      var length = array ? array.length : 0;\n      return length ? baseFlatten(array, true) : [];\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it is used as the offset\n     * from the end of `array`. If `array` is sorted providing `true` for `fromIndex`\n     * performs a faster binary search.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=0] The index to search from or `true`\n     *  to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // using `fromIndex`\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     *\n     * // performing a binary search\n     * _.indexOf([1, 1, 2, 2], 2, true);\n     * // => 2\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      if (typeof fromIndex == 'number') {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : fromIndex;\n      } else if (fromIndex) {\n        var index = binaryIndex(array, value);\n        if (index < length &&\n            (value === value ? (value === array[index]) : (array[index] !== array[index]))) {\n          return index;\n        }\n        return -1;\n      }\n      return baseIndexOf(array, value, fromIndex || 0);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      return dropRight(array, 1);\n    }\n\n    /**\n     * Creates an array of unique values that are included in all of the provided\n     * arrays using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of shared values.\n     * @example\n     * _.intersection([1, 2], [4, 2], [2, 1]);\n     * // => [2]\n     */\n    var intersection = restParam(function(arrays) {\n      var othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(length),\n          indexOf = getIndexOf(),\n          isCommon = indexOf == baseIndexOf,\n          result = [];\n\n      while (othIndex--) {\n        var value = arrays[othIndex] = isArrayLike(value = arrays[othIndex]) ? value : [];\n        caches[othIndex] = (isCommon && value.length >= 120) ? createCache(othIndex && value) : null;\n      }\n      var array = arrays[0],\n          index = -1,\n          length = array ? array.length : 0,\n          seen = caches[0];\n\n      outer:\n      while (++index < length) {\n        value = array[index];\n        if ((seen ? cacheIndexOf(seen, value) : indexOf(result, value, 0)) < 0) {\n          var othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if ((cache ? cacheIndexOf(cache, value) : indexOf(arrays[othIndex], value, 0)) < 0) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(value);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    });\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array ? array.length : 0;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=array.length-1] The index to search from\n     *  or `true` to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // using `fromIndex`\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     *\n     * // performing a binary search\n     * _.lastIndexOf([1, 1, 2, 2], 2, true);\n     * // => 3\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (typeof fromIndex == 'number') {\n        index = (fromIndex < 0 ? nativeMax(length + fromIndex, 0) : nativeMin(fromIndex || 0, length - 1)) + 1;\n      } else if (fromIndex) {\n        index = binaryIndex(array, value, true) - 1;\n        var other = array[index];\n        if (value === value ? (value === other) : (other !== other)) {\n          return index;\n        }\n        return -1;\n      }\n      if (value !== value) {\n        return indexOfNaN(array, index, true);\n      }\n      while (index--) {\n        if (array[index] === value) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Removes all provided values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3, 1, 2, 3];\n     *\n     * _.pull(array, 2, 3);\n     * console.log(array);\n     * // => [1, 1]\n     */\n    function pull() {\n      var args = arguments,\n          array = args[0];\n\n      if (!(array && array.length)) {\n        return array;\n      }\n      var index = 0,\n          indexOf = getIndexOf(),\n          length = args.length;\n\n      while (++index < length) {\n        var fromIndex = 0,\n            value = args[index];\n\n        while ((fromIndex = indexOf(array, value, fromIndex)) > -1) {\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to the given indexes and returns\n     * an array of the removed elements. Indexes may be specified as an array of\n     * indexes or as individual arguments.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [5, 10, 15, 20];\n     * var evens = _.pullAt(array, 1, 3);\n     *\n     * console.log(array);\n     * // => [5, 15]\n     *\n     * console.log(evens);\n     * // => [10, 20]\n     */\n    var pullAt = restParam(function(array, indexes) {\n      indexes = baseFlatten(indexes);\n\n      var result = baseAt(array, indexes);\n      basePullAt(array, indexes.sort(baseCompareAscending));\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is bound to\n     * `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate, thisArg) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getCallback(predicate, thisArg, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias tail\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.rest([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function rest(array) {\n      return drop(array, 1);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of `Array#slice` to support node\n     * lists in IE < 9 and to ensure dense arrays are returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value` should\n     * be inserted into `array` in order to maintain its sort order. If an iteratee\n     * function is provided it is invoked for `value` and each element of `array`\n     * to compute their sort ranking. The iteratee is bound to `thisArg` and\n     * invoked with one argument; (value).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     *\n     * _.sortedIndex([4, 4, 5, 5], 5);\n     * // => 2\n     *\n     * var dict = { 'data': { 'thirty': 30, 'forty': 40, 'fifty': 50 } };\n     *\n     * // using an iteratee function\n     * _.sortedIndex(['thirty', 'fifty'], 'forty', function(word) {\n     *   return this.data[word];\n     * }, dict);\n     * // => 1\n     *\n     * // using the `_.property` callback shorthand\n     * _.sortedIndex([{ 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\n     * // => 1\n     */\n    var sortedIndex = createSortedIndex();\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 4, 5, 5], 5);\n     * // => 4\n     */\n    var sortedLastIndex = createSortedIndex(true);\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is bound to `thisArg`\n     * and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [2, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active', false), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeRightWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is bound to\n     * `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [1, 2]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false},\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active', false), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all of the provided arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([1, 2], [4, 2], [2, 1]);\n     * // => [1, 2, 4]\n     */\n    var union = restParam(function(arrays) {\n      return baseUniq(baseFlatten(arrays, false, true));\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurence of each element\n     * is kept. Providing `true` for `isSorted` performs a faster search algorithm\n     * for sorted arrays. If an iteratee function is provided it is invoked for\n     * each element in the array to generate the criterion by which uniqueness\n     * is computed. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, array).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias unique\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {boolean} [isSorted] Specify the array is sorted.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     *\n     * // using `isSorted`\n     * _.uniq([1, 1, 2], true);\n     * // => [1, 2]\n     *\n     * // using an iteratee function\n     * _.uniq([1, 2.5, 1.5, 2], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => [1, 2.5]\n     *\n     * // using the `_.property` callback shorthand\n     * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniq(array, isSorted, iteratee, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (isSorted != null && typeof isSorted != 'boolean') {\n        thisArg = iteratee;\n        iteratee = isIterateeCall(array, isSorted, thisArg) ? undefined : isSorted;\n        isSorted = false;\n      }\n      var callback = getCallback();\n      if (!(iteratee == null && callback === baseCallback)) {\n        iteratee = callback(iteratee, thisArg, 3);\n      }\n      return (isSorted && getIndexOf() == baseIndexOf)\n        ? sortedUniq(array, iteratee)\n        : baseUniq(array, iteratee);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['fred', 'barney'], [30, 40], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var index = -1,\n          length = 0;\n\n      array = arrayFilter(array, function(group) {\n        if (isArrayLike(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = arrayMap(array, baseProperty(index));\n      }\n      return result;\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts an iteratee to specify\n     * how regrouped values should be combined. The `iteratee` is bound to `thisArg`\n     * and invoked with four arguments: (accumulator, value, index, group).\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee] The function to combine regrouped values.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      iteratee = bindCallback(iteratee, thisArg, 4);\n      return arrayMap(result, function(group) {\n        return arrayReduce(group, iteratee, undefined, true);\n      });\n    }\n\n    /**\n     * Creates an array excluding all provided values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to filter.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.without([1, 2, 1, 3], 1, 2);\n     * // => [3]\n     */\n    var without = restParam(function(array, values) {\n      return isArrayLike(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the provided arrays.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of values.\n     * @example\n     *\n     * _.xor([1, 2], [4, 2]);\n     * // => [1, 4]\n     */\n    function xor() {\n      var index = -1,\n          length = arguments.length;\n\n      while (++index < length) {\n        var array = arguments[index];\n        if (isArrayLike(array)) {\n          var result = result\n            ? arrayPush(baseDifference(result, array), baseDifference(array, result))\n            : array;\n        }\n      }\n      return result ? baseUniq(result) : [];\n    }\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the first\n     * elements of the given arrays, the second of which contains the second elements\n     * of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     */\n    var zip = restParam(unzip);\n\n    /**\n     * The inverse of `_.pairs`; this method returns an object composed from arrays\n     * of property names and values. Provide either a single two dimensional array,\n     * e.g. `[[key1, value1], [key2, value2]]` or two arrays, one of property names\n     * and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @alias object\n     * @category Array\n     * @param {Array} props The property names.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject([['fred', 30], ['barney', 40]]);\n     * // => { 'fred': 30, 'barney': 40 }\n     *\n     * _.zipObject(['fred', 'barney'], [30, 40]);\n     * // => { 'fred': 30, 'barney': 40 }\n     */\n    function zipObject(props, values) {\n      var index = -1,\n          length = props ? props.length : 0,\n          result = {};\n\n      if (length && !values && !isArray(props[0])) {\n        values = [];\n      }\n      while (++index < length) {\n        var key = props[index];\n        if (values) {\n          result[key] = values[index];\n        } else if (key) {\n          result[key[0]] = key[1];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an iteratee to specify\n     * how grouped values should be combined. The `iteratee` is bound to `thisArg`\n     * and invoked with four arguments: (accumulator, value, index, group).\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee] The function to combine grouped values.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], _.add);\n     * // => [111, 222]\n     */\n    var zipWith = restParam(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 2 ? arrays[length - 2] : undefined,\n          thisArg = length > 1 ? arrays[length - 1] : undefined;\n\n      if (length > 2 && typeof iteratee == 'function') {\n        length -= 2;\n      } else {\n        iteratee = (length > 1 && typeof thisArg == 'function') ? (--length, thisArg) : undefined;\n        thisArg = undefined;\n      }\n      arrays.length = length;\n      return unzipWith(arrays, iteratee, thisArg);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object that wraps `value` with explicit method\n     * chaining enabled.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _.chain(users)\n     *   .sortBy('age')\n     *   .map(function(chr) {\n     *     return chr.user + ' is ' + chr.age;\n     *   })\n     *   .first()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor is\n     * bound to `thisArg` and invoked with one argument; (value). The purpose of\n     * this method is to \"tap into\" a method chain in order to perform operations\n     * on intermediate results within the chain.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor, thisArg) {\n      interceptor.call(thisArg, value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor, thisArg) {\n      return interceptor.call(thisArg, value);\n    }\n\n    /**\n     * Enables explicit method chaining on the wrapper object.\n     *\n     * @name chain\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // without explicit chaining\n     * _(users).first();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // with explicit chaining\n     * _(users).chain()\n     *   .first()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chained sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Creates a new array joining a wrapped array with any additional arrays\n     * and/or values.\n     *\n     * @name concat\n     * @memberOf _\n     * @category Chain\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var wrapped = _(array).concat(2, [3], [[4]]);\n     *\n     * console.log(wrapped.value());\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    var wrapperConcat = restParam(function(values) {\n      values = baseFlatten(values);\n      return this.thru(function(array) {\n        return arrayConcat(isArray(array) ? array : [toObject(array)], values);\n      });\n    });\n\n    /**\n     * Creates a clone of the chained sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).map(function(value) {\n     *   return Math.pow(value, 2);\n     * });\n     *\n     * var other = [3, 4];\n     * var otherWrapped = wrapped.plant(other);\n     *\n     * otherWrapped.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * Reverses the wrapped array so the first element becomes the last, the\n     * second element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new reversed `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n\n      var interceptor = function(value) {\n        return (wrapped && wrapped.__dir__ < 0) ? value : value.reverse();\n      };\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(interceptor);\n    }\n\n    /**\n     * Produces the result of coercing the unwrapped value to a string.\n     *\n     * @name toString\n     * @memberOf _\n     * @category Chain\n     * @returns {string} Returns the coerced string value.\n     * @example\n     *\n     * _([1, 2, 3]).toString();\n     * // => '1,2,3'\n     */\n    function wrapperToString() {\n      return (this.value() + '');\n    }\n\n    /**\n     * Executes the chained sequence to extract the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @alias run, toJSON, valueOf\n     * @category Chain\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements corresponding to the given keys, or indexes,\n     * of `collection`. Keys may be specified as individual arguments or as arrays\n     * of keys.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(number|number[]|string|string[])} [props] The property names\n     *  or indexes of elements to pick, specified individually or in arrays.\n     * @returns {Array} Returns the new array of picked elements.\n     * @example\n     *\n     * _.at(['a', 'b', 'c'], [0, 2]);\n     * // => ['a', 'c']\n     *\n     * _.at(['barney', 'fred', 'pebbles'], 0, 2);\n     * // => ['barney', 'pebbles']\n     */\n    var at = restParam(function(collection, props) {\n      return baseAt(collection, baseFlatten(props));\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the number of times the key was returned by `iteratee`.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      hasOwnProperty.call(result, key) ? ++result[key] : (result[key] = 1);\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * The predicate is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias all\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': false },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.every(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\n        predicate = undefined;\n      }\n      if (typeof predicate != 'function' || thisArg !== undefined) {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias select\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.filter([4, 5, 6], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 6]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.filter(users, { 'age': 36, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.filter(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.filter(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function filter(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias detect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.result(_.find(users, function(chr) {\n     *   return chr.age < 40;\n     * }), 'user');\n     * // => 'barney'\n     *\n     * // using the `_.matches` callback shorthand\n     * _.result(_.find(users, { 'age': 1, 'active': true }), 'user');\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.result(_.find(users, 'active', false), 'user');\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.result(_.find(users, 'active'), 'user');\n     * // => 'barney'\n     */\n    var find = createFind(baseEach);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(baseEachRight, true);\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning the first element that has equivalent property\n     * values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.result(_.findWhere(users, { 'age': 36, 'active': true }), 'user');\n     * // => 'barney'\n     *\n     * _.result(_.findWhere(users, { 'age': 40, 'active': false }), 'user');\n     * // => 'fred'\n     */\n    function findWhere(collection, source) {\n      return find(collection, baseMatches(source));\n    }\n\n    /**\n     * Iterates over elements of `collection` invoking `iteratee` for each element.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection). Iteratee functions may exit iteration early\n     * by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\" property\n     * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n     * may be used for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @alias each\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEach(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from left to right and returns the array\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(n, key) {\n     *   console.log(n, key);\n     * });\n     * // => logs each value-key pair and returns the object (iteration order is not guaranteed)\n     */\n    var forEach = createForEach(arrayEach, baseEach);\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEachRight(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from right to left and returns the array\n     */\n    var forEachRight = createForEach(arrayEachRight, baseEachRight);\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is an array of the elements responsible for generating the key.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * // using the `_.property` callback shorthand\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        result[key] = [value];\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it is used as the offset\n     * from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @alias contains, include\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {*} target The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n     * @returns {boolean} Returns `true` if a matching element is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'user': 'fred', 'age': 40 }, 'fred');\n     * // => true\n     *\n     * _.includes('pebbles', 'eb');\n     * // => true\n     */\n    function includes(collection, target, fromIndex, guard) {\n      var length = collection ? getLength(collection) : 0;\n      if (!isLength(length)) {\n        collection = values(collection);\n        length = collection.length;\n      }\n      if (typeof fromIndex != 'number' || (guard && isIterateeCall(target, fromIndex, guard))) {\n        fromIndex = 0;\n      } else {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : (fromIndex || 0);\n      }\n      return (typeof collection == 'string' || !isArray(collection) && isString(collection))\n        ? (fromIndex <= length && collection.indexOf(target, fromIndex) > -1)\n        : (!!length && getIndexOf(collection, target, fromIndex) > -1);\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the last element responsible for generating the key. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var keyData = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.indexBy(keyData, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return String.fromCharCode(object.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return this.fromCharCode(object.code);\n     * }, String);\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     */\n    var indexBy = createAggregator(function(result, value, key) {\n      result[key] = value;\n    });\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `methodName` is a function it is\n     * invoked for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invoke([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invoke = restParam(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          isProp = isKey(path),\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        var func = isFunc ? path : ((isProp && value != null) ? value[path] : undefined);\n        result[++index] = func ? func.apply(value, args) : invokePath(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` through\n     * `iteratee`. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `callback`, `chunk`, `clone`, `create`, `curry`, `curryRight`,\n     * `drop`, `dropRight`, `every`, `fill`, `flatten`, `invert`, `max`, `min`,\n     * `parseInt`, `slice`, `sortBy`, `take`, `takeRight`, `template`, `trim`,\n     * `trimLeft`, `trimRight`, `trunc`, `random`, `range`, `sample`, `some`,\n     * `sum`, `uniq`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @alias collect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function timesThree(n) {\n     *   return n * 3;\n     * }\n     *\n     * _.map([1, 2], timesThree);\n     * // => [3, 6]\n     *\n     * _.map({ 'a': 1, 'b': 2 }, timesThree);\n     * // => [3, 6] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee, thisArg) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      iteratee = getCallback(iteratee, thisArg, 3);\n      return func(collection, iteratee);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, while the second of which\n     * contains elements `predicate` returns falsey for. The predicate is bound\n     * to `thisArg` and invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * _.partition([1, 2, 3], function(n) {\n     *   return n % 2;\n     * });\n     * // => [[1, 3], [2]]\n     *\n     * _.partition([1.2, 2.3, 3.4], function(n) {\n     *   return this.floor(n) % 2;\n     * }, Math);\n     * // => [[1.2, 3.4], [2.3]]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * var mapper = function(array) {\n     *   return _.pluck(array, 'user');\n     * };\n     *\n     * // using the `_.matches` callback shorthand\n     * _.map(_.partition(users, { 'age': 1, 'active': false }), mapper);\n     * // => [['pebbles'], ['barney', 'fred']]\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.map(_.partition(users, 'active', false), mapper);\n     * // => [['barney', 'pebbles'], ['fred']]\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(_.partition(users, 'active'), mapper);\n     * // => [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Gets the property value of `path` from all elements in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|string} path The path of the property to pluck.\n     * @returns {Array} Returns the property values.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.pluck(users, 'user');\n     * // => ['barney', 'fred']\n     *\n     * var userIndex = _.indexBy(users, 'user');\n     * _.pluck(userIndex, 'age');\n     * // => [36, 40] (iteration order is not guaranteed)\n     */\n    function pluck(collection, path) {\n      return map(collection, property(path));\n    }\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` through `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not provided the first element of `collection` is used as the initial\n     * value. The `iteratee` is bound to `thisArg` and invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `sortByAll`,\n     * and `sortByOrder`\n     *\n     * @static\n     * @memberOf _\n     * @alias foldl, inject\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.reduce([1, 2], function(total, n) {\n     *   return total + n;\n     * });\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     *   return result;\n     * }, {});\n     * // => { 'a': 3, 'b': 6 } (iteration order is not guaranteed)\n     */\n    var reduce = createReduce(arrayReduce, baseEach);\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias foldr\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    var reduceRight = createReduce(arrayReduceRight, baseEachRight);\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.reject([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [1, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.reject(users, { 'age': 40, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.reject(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.reject(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function reject(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, function(value, index, collection) {\n        return !predicate(value, index, collection);\n      });\n    }\n\n    /**\n     * Gets a random element or `n` random elements from a collection.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to sample.\n     * @param {number} [n] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {*} Returns the random sample(s).\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     *\n     * _.sample([1, 2, 3, 4], 2);\n     * // => [3, 1]\n     */\n    function sample(collection, n, guard) {\n      if (guard ? isIterateeCall(collection, n, guard) : n == null) {\n        collection = toIterable(collection);\n        var length = collection.length;\n        return length > 0 ? collection[baseRandom(0, length - 1)] : undefined;\n      }\n      var index = -1,\n          result = toArray(collection),\n          length = result.length,\n          lastIndex = length - 1;\n\n      n = nativeMin(n < 0 ? 0 : (+n || 0), length);\n      while (++index < n) {\n        var rand = baseRandom(index, lastIndex),\n            value = result[rand];\n\n        result[rand] = result[index];\n        result[index] = value;\n      }\n      result.length = n;\n      return result;\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      return sample(collection, POSITIVE_INFINITY);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the size of `collection`.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      var length = collection ? getLength(collection) : 0;\n      return isLength(length) ? length : keys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * The function returns as soon as it finds a passing value and does not iterate\n     * over the entire collection. The predicate is bound to `thisArg` and invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias any\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.some(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\n        predicate = undefined;\n      }\n      if (typeof predicate != 'function' || thisArg !== undefined) {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection through `iteratee`. This method performs\n     * a stable sort, that is, it preserves the original sort order of equal elements.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return Math.sin(n);\n     * });\n     * // => [3, 1, 2]\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return this.sin(n);\n     * }, Math);\n     * // => [3, 1, 2]\n     *\n     * var users = [\n     *   { 'user': 'fred' },\n     *   { 'user': 'pebbles' },\n     *   { 'user': 'barney' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.sortBy(users, 'user'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function sortBy(collection, iteratee, thisArg) {\n      if (collection == null) {\n        return [];\n      }\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = undefined;\n      }\n      var index = -1;\n      iteratee = getCallback(iteratee, thisArg, 3);\n\n      var result = baseMap(collection, function(value, key, collection) {\n        return { 'criteria': iteratee(value, key, collection), 'index': ++index, 'value': value };\n      });\n      return baseSortBy(result, compareAscending);\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it can sort by multiple iteratees\n     * or property names.\n     *\n     * If a property name is provided for an iteratee the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If an object is provided for an iteratee the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(Function|Function[]|Object|Object[]|string|string[])} iteratees\n     *  The iteratees to sort by, specified as individual values or arrays of values.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 42 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.map(_.sortByAll(users, ['user', 'age']), _.values);\n     * // => [['barney', 34], ['barney', 36], ['fred', 42], ['fred', 48]]\n     *\n     * _.map(_.sortByAll(users, 'user', function(chr) {\n     *   return Math.floor(chr.age / 10);\n     * }), _.values);\n     * // => [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 42]]\n     */\n    var sortByAll = restParam(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var guard = iteratees[2];\n      if (guard && isIterateeCall(iteratees[0], iteratees[1], guard)) {\n        iteratees.length = 1;\n      }\n      return baseSortByOrder(collection, baseFlatten(iteratees), []);\n    });\n\n    /**\n     * This method is like `_.sortByAll` except that it allows specifying the\n     * sort orders of the iteratees to sort by. If `orders` is unspecified, all\n     * values are sorted in ascending order. Otherwise, a value is sorted in\n     * ascending order if its corresponding order is \"asc\", and descending if \"desc\".\n     *\n     * If a property name is provided for an iteratee the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If an object is provided for an iteratee the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {boolean[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 42 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // sort by `user` in ascending order and by `age` in descending order\n     * _.map(_.sortByOrder(users, ['user', 'age'], ['asc', 'desc']), _.values);\n     * // => [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 42]]\n     */\n    function sortByOrder(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (guard && isIterateeCall(iteratees, orders, guard)) {\n        orders = undefined;\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseSortByOrder(collection, iteratees, orders);\n    }\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning an array of all elements that have equivalent\n     * property values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false, 'pets': ['hoppy'] },\n     *   { 'user': 'fred',   'age': 40, 'active': true, 'pets': ['baby puss', 'dino'] }\n     * ];\n     *\n     * _.pluck(_.where(users, { 'age': 36, 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * _.pluck(_.where(users, { 'pets': ['dino'] }), 'user');\n     * // => ['fred']\n     */\n    function where(collection, source) {\n      return filter(collection, baseMatches(source));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the number of milliseconds that have elapsed since the Unix epoch\n     * (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @category Date\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => logs the number of milliseconds it took for the deferred function to be invoked\n     */\n    var now = nativeNow || function() {\n      return new Date().getTime();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it is called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => logs 'done saving!' after the two async saves have completed\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      n = nativeIsFinite(n = +n) ? n : 0;\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that accepts up to `n` arguments ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      if (guard && isIterateeCall(func, n, guard)) {\n        n = undefined;\n      }\n      n = (func && n == null) ? func.length : nativeMax(+n || 0, 0);\n      return createWrapper(func, ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it is called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery('#add').on('click', _.before(5, addContactToList));\n     * // => allows adding up to 4 contacts to the list\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and prepends any additional `_.bind` arguments to those provided to the\n     * bound function.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind` this method does not set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var greet = function(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * };\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // using placeholders\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = restParam(function(func, thisArg, partials) {\n      var bitmask = BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, bind.placeholder);\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method. Method names may be specified as individual arguments or as arrays\n     * of method names. If no method names are provided all enumerable function\n     * properties, own and inherited, of `object` are bound.\n     *\n     * **Note:** This method does not set the \"length\" property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} [methodNames] The object method names to bind,\n     *  specified as individual method names or arrays of method names.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'onClick': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view);\n     * jQuery('#docs').on('click', view.onClick);\n     * // => logs 'clicked docs' when the element is clicked\n     */\n    var bindAll = restParam(function(object, methodNames) {\n      methodNames = methodNames.length ? baseFlatten(methodNames) : functions(object);\n\n      var index = -1,\n          length = methodNames.length;\n\n      while (++index < length) {\n        var key = methodNames[index];\n        object[key] = createWrapper(object[key], BIND_FLAG, object);\n      }\n      return object;\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` and prepends\n     * any additional `_.bindKey` arguments to those provided to the bound function.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist.\n     * See [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object the method belongs to.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // using placeholders\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = restParam(function(object, key, partials) {\n      var bitmask = BIND_FLAG | BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, bindKey.placeholder);\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts one or more arguments of `func` that when\n     * called either invokes `func` returning its result, if all `func` arguments\n     * have been provided, or returns a function that accepts one or more of the\n     * remaining `func` arguments, and so on. The arity of `func` may be specified\n     * if `func.length` is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    var curry = createCurry(CURRY_FLAG);\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    var curryRight = createCurry(CURRY_RIGHT_FLAG);\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed invocations. Provide an options object to indicate that `func`\n     * should be invoked on the leading and/or trailing edge of the `wait` timeout.\n     * Subsequent calls to the debounced function return the result of the last\n     * `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the debounced function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=false] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {number} [options.maxWait] The maximum time `func` is allowed to be\n     *  delayed before it is invoked.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // avoid costly calculations while the window size is in flux\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // invoke `sendMail` when the click event is fired, debouncing subsequent calls\n     * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // ensure `batchLog` is invoked once after 1 second of debounced calls\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', _.debounce(batchLog, 250, {\n     *   'maxWait': 1000\n     * }));\n     *\n     * // cancel a debounced call\n     * var todoChanges = _.debounce(batchLog, 1000);\n     * Object.observe(models.todo, todoChanges);\n     *\n     * Object.observe(models, function(changes) {\n     *   if (_.find(changes, { 'user': 'todo', 'type': 'delete'})) {\n     *     todoChanges.cancel();\n     *   }\n     * }, ['delete']);\n     *\n     * // ...at some point `models.todo` is changed\n     * models.todo.completed = true;\n     *\n     * // ...before 1 second has passed `models.todo` is deleted\n     * // which cancels the debounced `todoChanges` call\n     * delete models.todo;\n     */\n    function debounce(func, wait, options) {\n      var args,\n          maxTimeoutId,\n          result,\n          stamp,\n          thisArg,\n          timeoutId,\n          trailingCall,\n          lastCalled = 0,\n          maxWait = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = wait < 0 ? 0 : (+wait || 0);\n      if (options === true) {\n        var leading = true;\n        trailing = false;\n      } else if (isObject(options)) {\n        leading = !!options.leading;\n        maxWait = 'maxWait' in options && nativeMax(+options.maxWait || 0, wait);\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function cancel() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        if (maxTimeoutId) {\n          clearTimeout(maxTimeoutId);\n        }\n        lastCalled = 0;\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n      }\n\n      function complete(isCalled, id) {\n        if (id) {\n          clearTimeout(id);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n        if (isCalled) {\n          lastCalled = now();\n          result = func.apply(thisArg, args);\n          if (!timeoutId && !maxTimeoutId) {\n            args = thisArg = undefined;\n          }\n        }\n      }\n\n      function delayed() {\n        var remaining = wait - (now() - stamp);\n        if (remaining <= 0 || remaining > wait) {\n          complete(trailingCall, maxTimeoutId);\n        } else {\n          timeoutId = setTimeout(delayed, remaining);\n        }\n      }\n\n      function maxDelayed() {\n        complete(trailing, timeoutId);\n      }\n\n      function debounced() {\n        args = arguments;\n        stamp = now();\n        thisArg = this;\n        trailingCall = trailing && (timeoutId || !leading);\n\n        if (maxWait === false) {\n          var leadingCall = leading && !timeoutId;\n        } else {\n          if (!maxTimeoutId && !leading) {\n            lastCalled = stamp;\n          }\n          var remaining = maxWait - (stamp - lastCalled),\n              isCalled = remaining <= 0 || remaining > maxWait;\n\n          if (isCalled) {\n            if (maxTimeoutId) {\n              maxTimeoutId = clearTimeout(maxTimeoutId);\n            }\n            lastCalled = stamp;\n            result = func.apply(thisArg, args);\n          }\n          else if (!maxTimeoutId) {\n            maxTimeoutId = setTimeout(maxDelayed, remaining);\n          }\n        }\n        if (isCalled && timeoutId) {\n          timeoutId = clearTimeout(timeoutId);\n        }\n        else if (!timeoutId && wait !== maxWait) {\n          timeoutId = setTimeout(delayed, wait);\n        }\n        if (leadingCall) {\n          isCalled = true;\n          result = func.apply(thisArg, args);\n        }\n        if (isCalled && !timeoutId && !maxTimeoutId) {\n          args = thisArg = undefined;\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // logs 'deferred' after one or more milliseconds\n     */\n    var defer = restParam(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => logs 'later' after one second\n     */\n    var delay = restParam(function(func, wait, args) {\n      return baseDelay(func, wait, args);\n    });\n\n    /**\n     * Creates a function that returns the result of invoking the provided\n     * functions with the `this` binding of the created function, where each\n     * successive invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow(_.add, square);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the provided functions from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias backflow, compose\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight(square, _.add);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is coerced to a string and used as the\n     * cache key. The `func` is invoked with the `this` binding of the memoized\n     * function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the [`Map`](http://ecma-international.org/ecma-262/6.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoizing function.\n     * @example\n     *\n     * var upperCase = _.memoize(function(string) {\n     *   return string.toUpperCase();\n     * });\n     *\n     * upperCase('fred');\n     * // => 'FRED'\n     *\n     * // modifying the result cache\n     * upperCase.cache.set('fred', 'BARNEY');\n     * upperCase('fred');\n     * // => 'BARNEY'\n     *\n     * // replacing `_.memoize.Cache`\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'barney' };\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'fred' }\n     *\n     * _.memoize.Cache = WeakMap;\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'barney' }\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result);\n        return result;\n      };\n      memoized.cache = new memoize.Cache;\n      return memoized;\n    }\n\n    /**\n     * Creates a function that runs each argument through a corresponding\n     * transform function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms] The functions to transform\n     * arguments, specified as individual functions or arrays of functions.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var modded = _.modArgs(function(x, y) {\n     *   return [x, y];\n     * }, square, doubled);\n     *\n     * modded(1, 2);\n     * // => [1, 4]\n     *\n     * modded(5, 10);\n     * // => [25, 20]\n     */\n    var modArgs = restParam(function(func, transforms) {\n      transforms = baseFlatten(transforms);\n      if (typeof func != 'function' || !arrayEvery(transforms, baseIsFunction)) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = transforms.length;\n      return restParam(function(args) {\n        var index = nativeMin(args.length, length);\n        while (index--) {\n          args[index] = transforms[index](args[index]);\n        }\n        return func.apply(this, args);\n      });\n    });\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        return !predicate.apply(this, arguments);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first call. The `func` is invoked\n     * with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // `initialize` invokes `createApplication` once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with `partial` arguments prepended\n     * to those provided to the new function. This method is like `_.bind` except\n     * it does **not** alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // using placeholders\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = createPartial(PARTIAL_FLAG);\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to those provided to the new function.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // using placeholders\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = createPartial(PARTIAL_RIGHT_FLAG);\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified indexes where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, 2, 0, 1);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     *\n     * var map = _.rearg(_.map, [1, 0]);\n     * map(function(n) {\n     *   return n * 3;\n     * }, [1, 2, 3]);\n     * // => [3, 6, 9]\n     */\n    var rearg = restParam(function(func, indexes) {\n      return createWrapper(func, REARG_FLAG, undefined, undefined, undefined, baseFlatten(indexes));\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as an array.\n     *\n     * **Note:** This method is based on the [rest parameter](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.restParam(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function restParam(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = nativeMax(start === undefined ? (func.length - 1) : (+start || 0), 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            rest = Array(length);\n\n        while (++index < length) {\n          rest[index] = args[start + index];\n        }\n        switch (start) {\n          case 0: return func.call(this, rest);\n          case 1: return func.call(this, args[0], rest);\n          case 2: return func.call(this, args[0], args[1], rest);\n        }\n        var otherArgs = Array(start + 1);\n        index = -1;\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = rest;\n        return func.apply(this, otherArgs);\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the created\n     * function and an array of arguments much like [`Function#apply`](https://es5.github.io/#x15.3.4.3).\n     *\n     * **Note:** This method is based on the [spread operator](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * // with a Promise\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function(array) {\n        return func.apply(this, array);\n      };\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed invocations. Provide an options object to indicate\n     * that `func` should be invoked on the leading and/or trailing edge of the\n     * `wait` timeout. Subsequent calls to the throttled function return the\n     * result of the last `func` call.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the throttled function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=true] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // avoid excessively updating the position while scrolling\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // invoke `renewToken` when the click event is fired, but not more than once every 5 minutes\n     * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n     *   'trailing': false\n     * }));\n     *\n     * // cancel a trailing throttled call\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (options === false) {\n        leading = false;\n      } else if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, { 'leading': leading, 'maxWait': +wait, 'trailing': trailing });\n    }\n\n    /**\n     * Creates a function that provides `value` to the wrapper function as its\n     * first argument. Any additional arguments provided to the function are\n     * appended to those provided to the wrapper function. The wrapper is invoked\n     * with the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} wrapper The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      wrapper = wrapper == null ? identity : wrapper;\n      return createWrapper(wrapper, PARTIAL_FLAG, undefined, [value], []);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a clone of `value`. If `isDeep` is `true` nested objects are cloned,\n     * otherwise they are assigned by reference. If `customizer` is provided it is\n     * invoked to produce the cloned values. If `customizer` returns `undefined`\n     * cloning is handled by the method instead. The `customizer` is bound to\n     * `thisArg` and invoked with two argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var shallow = _.clone(users);\n     * shallow[0] === users[0];\n     * // => true\n     *\n     * var deep = _.clone(users, true);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.clone(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 0\n     */\n    function clone(value, isDeep, customizer, thisArg) {\n      if (isDeep && typeof isDeep != 'boolean' && isIterateeCall(value, isDeep, customizer)) {\n        isDeep = false;\n      }\n      else if (typeof isDeep == 'function') {\n        thisArg = customizer;\n        customizer = isDeep;\n        isDeep = false;\n      }\n      return typeof customizer == 'function'\n        ? baseClone(value, isDeep, bindCallback(customizer, thisArg, 1))\n        : baseClone(value, isDeep);\n    }\n\n    /**\n     * Creates a deep clone of `value`. If `customizer` is provided it is invoked\n     * to produce the cloned values. If `customizer` returns `undefined` cloning\n     * is handled by the method instead. The `customizer` is bound to `thisArg`\n     * and invoked with two argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the deep cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var deep = _.cloneDeep(users);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.cloneDeep(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 20\n     */\n    function cloneDeep(value, customizer, thisArg) {\n      return typeof customizer == 'function'\n        ? baseClone(value, true, bindCallback(customizer, thisArg, 1))\n        : baseClone(value, true);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`, else `false`.\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    function gt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to `other`, else `false`.\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    function gte(value, other) {\n      return value >= other;\n    }\n\n    /**\n     * Checks if `value` is classified as an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    function isArguments(value) {\n      return isObjectLike(value) && isArrayLike(value) &&\n        hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n    }\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(function() { return arguments; }());\n     * // => false\n     */\n    var isArray = nativeIsArray || function(value) {\n      return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\n    };\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false || (isObjectLike(value) && objToString.call(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    function isDate(value) {\n      return isObjectLike(value) && objToString.call(value) == dateTag;\n    }\n\n    /**\n     * Checks if `value` is a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return !!value && value.nodeType === 1 && isObjectLike(value) && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is empty. A value is considered empty unless it is an\n     * `arguments` object, array, string, or jQuery-like collection with a length\n     * greater than `0` or an object with own enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Array|Object|string} value The value to inspect.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) && (isArray(value) || isString(value) || isArguments(value) ||\n          (isObjectLike(value) && isFunction(value.splice)))) {\n        return !value.length;\n      }\n      return !keys(value).length;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent. If `customizer` is provided it is invoked to compare values.\n     * If `customizer` returns `undefined` comparisons are handled by the method\n     * instead. The `customizer` is bound to `thisArg` and invoked with three\n     * arguments: (value, other [, index|key]).\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. Functions and DOM nodes\n     * are **not** supported. Provide a customizer function to extend support\n     * for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @alias eq\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize value comparisons.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'fred' };\n     *\n     * object == other;\n     * // => false\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * // using a customizer callback\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqual(array, other, function(value, other) {\n     *   if (_.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/)) {\n     *     return true;\n     *   }\n     * });\n     * // => true\n     */\n    function isEqual(value, other, customizer, thisArg) {\n      customizer = typeof customizer == 'function' ? bindCallback(customizer, thisArg, 3) : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return  result === undefined ? baseIsEqual(value, other, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      return isObjectLike(value) && typeof value.message == 'string' && objToString.call(value) == errorTag;\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on [`Number.isFinite`](http://ecma-international.org/ecma-262/6.0/#sec-number.isfinite).\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(10);\n     * // => true\n     *\n     * _.isFinite('10');\n     * // => false\n     *\n     * _.isFinite(true);\n     * // => false\n     *\n     * _.isFinite(Object(10));\n     * // => false\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in older versions of Chrome and Safari which return 'function' for regexes\n      // and Safari 8 equivalents which return 'object' for typed array constructors.\n      return isObject(value) && objToString.call(value) == funcTag;\n    }\n\n    /**\n     * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(1);\n     * // => false\n     */\n    function isObject(value) {\n      // Avoid a V8 JIT bug in Chrome 19-20.\n      // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n      var type = typeof value;\n      return !!value && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Performs a deep comparison between `object` and `source` to determine if\n     * `object` contains equivalent property values. If `customizer` is provided\n     * it is invoked to compare values. If `customizer` returns `undefined`\n     * comparisons are handled by the method instead. The `customizer` is bound\n     * to `thisArg` and invoked with three arguments: (value, other, index|key).\n     *\n     * **Note:** This method supports comparing properties of arrays, booleans,\n     * `Date` objects, numbers, `Object` objects, regexes, and strings. Functions\n     * and DOM nodes are **not** supported. Provide a customizer function to extend\n     * support for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize value comparisons.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.isMatch(object, { 'age': 40 });\n     * // => true\n     *\n     * _.isMatch(object, { 'age': 36 });\n     * // => false\n     *\n     * // using a customizer callback\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatch(object, source, function(value, other) {\n     *   return _.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/) || undefined;\n     * });\n     * // => true\n     */\n    function isMatch(object, source, customizer, thisArg) {\n      customizer = typeof customizer == 'function' ? bindCallback(customizer, thisArg, 3) : undefined;\n      return baseIsMatch(object, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is not the same as [`isNaN`](https://es5.github.io/#x15.1.2.4)\n     * which returns `true` for `undefined` and other non-numeric values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some host objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a native function.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (value == null) {\n        return false;\n      }\n      if (isFunction(value)) {\n        return reIsNative.test(fnToString.call(value));\n      }\n      return isObjectLike(value) && reIsHostCtor.test(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are classified\n     * as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isNumber(8.4);\n     * // => true\n     *\n     * _.isNumber(NaN);\n     * // => true\n     *\n     * _.isNumber('8.4');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' || (isObjectLike(value) && objToString.call(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * **Note:** This method assumes objects created by the `Object` constructor\n     * have no inherited enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      var Ctor;\n\n      // Exit early for non `Object` objects.\n      if (!(isObjectLike(value) && objToString.call(value) == objectTag && !isArguments(value)) ||\n          (!hasOwnProperty.call(value, 'constructor') && (Ctor = value.constructor, typeof Ctor == 'function' && !(Ctor instanceof Ctor)))) {\n        return false;\n      }\n      // IE < 9 iterates inherited properties before own properties. If the first\n      // iterated property is an object's own property then there are no inherited\n      // enumerable properties.\n      var result;\n      // In most environments an object's own properties are iterated before\n      // its inherited properties. If the last iterated property is an object's\n      // own property then there are no inherited enumerable properties.\n      baseForIn(value, function(subValue, key) {\n        result = key;\n      });\n      return result === undefined || hasOwnProperty.call(value, result);\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    function isRegExp(value) {\n      return isObject(value) && objToString.call(value) == regexpTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' || (isObjectLike(value) && objToString.call(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    function isTypedArray(value) {\n      return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objToString.call(value)];\n    }\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`, else `false`.\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    function lt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to `other`, else `false`.\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    function lte(value, other) {\n      return value <= other;\n    }\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * (function() {\n     *   return _.toArray(arguments).slice(1);\n     * }(1, 2, 3));\n     * // => [2, 3]\n     */\n    function toArray(value) {\n      var length = value ? getLength(value) : 0;\n      if (!isLength(length)) {\n        return values(value);\n      }\n      if (!length) {\n        return [];\n      }\n      return arrayCopy(value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable\n     * properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return baseCopy(value, keysIn(value));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Recursively merges own enumerable properties of the source object(s), that\n     * don't resolve to `undefined` into the destination object. Subsequent sources\n     * overwrite property assignments of previous sources. If `customizer` is\n     * provided it is invoked to produce the merged values of the destination and\n     * source properties. If `customizer` returns `undefined` merging is handled\n     * by the method instead. The `customizer` is bound to `thisArg` and invoked\n     * with five arguments: (objectValue, sourceValue, key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var users = {\n     *   'data': [{ 'user': 'barney' }, { 'user': 'fred' }]\n     * };\n     *\n     * var ages = {\n     *   'data': [{ 'age': 36 }, { 'age': 40 }]\n     * };\n     *\n     * _.merge(users, ages);\n     * // => { 'data': [{ 'user': 'barney', 'age': 36 }, { 'user': 'fred', 'age': 40 }] }\n     *\n     * // using a customizer callback\n     * var object = {\n     *   'fruits': ['apple'],\n     *   'vegetables': ['beet']\n     * };\n     *\n     * var other = {\n     *   'fruits': ['banana'],\n     *   'vegetables': ['carrot']\n     * };\n     *\n     * _.merge(object, other, function(a, b) {\n     *   if (_.isArray(a)) {\n     *     return a.concat(b);\n     *   }\n     * });\n     * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot'] }\n     */\n    var merge = createAssigner(baseMerge);\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object. Subsequent sources overwrite property assignments of previous sources.\n     * If `customizer` is provided it is invoked to produce the assigned values.\n     * The `customizer` is bound to `thisArg` and invoked with five arguments:\n     * (objectValue, sourceValue, key, object, source).\n     *\n     * **Note:** This method mutates `object` and is based on\n     * [`Object.assign`](http://ecma-international.org/ecma-262/6.0/#sec-object.assign).\n     *\n     * @static\n     * @memberOf _\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.assign({ 'user': 'barney' }, { 'age': 40 }, { 'user': 'fred' });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using a customizer callback\n     * var defaults = _.partialRight(_.assign, function(value, other) {\n     *   return _.isUndefined(value) ? other : value;\n     * });\n     *\n     * defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var assign = createAssigner(function(object, source, customizer) {\n      return customizer\n        ? assignWith(object, source, customizer)\n        : baseAssign(object, source);\n    });\n\n    /**\n     * Creates an object that inherits from the given `prototype` object. If a\n     * `properties` object is provided its own enumerable properties are assigned\n     * to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties, guard) {\n      var result = baseCreate(prototype);\n      if (guard && isIterateeCall(prototype, properties, guard)) {\n        properties = undefined;\n      }\n      return properties ? baseAssign(result, properties) : result;\n    }\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object for all destination properties that resolve to `undefined`. Once a\n     * property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var defaults = createDefaults(assign, assignDefaults);\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.defaultsDeep({ 'user': { 'name': 'barney' } }, { 'user': { 'name': 'fred', 'age': 36 } });\n     * // => { 'user': { 'name': 'barney', 'age': 36 } }\n     *\n     */\n    var defaultsDeep = createDefaults(merge, mergeDefaults);\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    var findKey = createFindKey(baseForOwn);\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => returns `pebbles` assuming `_.findKey` returns `barney`\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    var findLastKey = createFindKey(baseForOwnRight);\n\n    /**\n     * Iterates over own and inherited enumerable properties of an object invoking\n     * `iteratee` for each property. The `iteratee` is bound to `thisArg` and invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a', 'b', and 'c' (iteration order is not guaranteed)\n     */\n    var forIn = createForIn(baseFor);\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'c', 'b', and 'a' assuming `_.forIn ` logs 'a', 'b', and 'c'\n     */\n    var forInRight = createForIn(baseForRight);\n\n    /**\n     * Iterates over own enumerable properties of an object invoking `iteratee`\n     * for each property. The `iteratee` is bound to `thisArg` and invoked with\n     * three arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a' and 'b' (iteration order is not guaranteed)\n     */\n    var forOwn = createForOwn(baseForOwn);\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'b' and 'a' assuming `_.forOwn` logs 'a' and 'b'\n     */\n    var forOwnRight = createForOwn(baseForOwnRight);\n\n    /**\n     * Creates an array of function property names from all enumerable properties,\n     * own and inherited, of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @alias methods\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the new array of property names.\n     * @example\n     *\n     * _.functions(_);\n     * // => ['after', 'ary', 'assign', ...]\n     */\n    function functions(object) {\n      return baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the property value at `path` of `object`. If the resolved value is\n     * `undefined` the `defaultValue` is used in its place.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, toPath(path), path + '');\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` is a direct property, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': { 'c': 3 } } };\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b.c');\n     * // => true\n     *\n     * _.has(object, ['a', 'b', 'c']);\n     * // => true\n     */\n    function has(object, path) {\n      if (object == null) {\n        return false;\n      }\n      var result = hasOwnProperty.call(object, path);\n      if (!result && !isKey(path)) {\n        path = toPath(path);\n        object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n        if (object == null) {\n          return false;\n        }\n        path = last(path);\n        result = hasOwnProperty.call(object, path);\n      }\n      return result || (isLength(object.length) && isIndex(path, object.length) &&\n        (isArray(object) || isArguments(object)));\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite property\n     * assignments of previous values unless `multiValue` is `true`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {boolean} [multiValue] Allow multiple values per key.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     *\n     * // with `multiValue`\n     * _.invert(object, true);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function invert(object, multiValue, guard) {\n      if (guard && isIterateeCall(object, multiValue, guard)) {\n        multiValue = undefined;\n      }\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key];\n\n        if (multiValue) {\n          if (hasOwnProperty.call(result, value)) {\n            result[value].push(key);\n          } else {\n            result[value] = [key];\n          }\n        }\n        else {\n          result[value] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    var keys = !nativeKeys ? shimKeys : function(object) {\n      var Ctor = object == null ? undefined : object.constructor;\n      if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n          (typeof object != 'function' && isArrayLike(object))) {\n        return shimKeys(object);\n      }\n      return isObject(object) ? nativeKeys(object) : [];\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      if (object == null) {\n        return [];\n      }\n      if (!isObject(object)) {\n        object = Object(object);\n      }\n      var length = object.length;\n      length = (length && isLength(length) &&\n        (isArray(object) || isArguments(object)) && length) || 0;\n\n      var Ctor = object.constructor,\n          index = -1,\n          isProto = typeof Ctor == 'function' && Ctor.prototype === object,\n          result = Array(length),\n          skipIndexes = length > 0;\n\n      while (++index < length) {\n        result[index] = (index + '');\n      }\n      for (var key in object) {\n        if (!(skipIndexes && isIndex(key, length)) &&\n            !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * property of `object` through `iteratee`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the new mapped object.\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    var mapKeys = createObjectMapper(true);\n\n    /**\n     * Creates an object with the same keys as `object` and values generated by\n     * running each own enumerable property of `object` through `iteratee`. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\n     * (value, key, object).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the new mapped object.\n     * @example\n     *\n     * _.mapValues({ 'a': 1, 'b': 2 }, function(n) {\n     *   return n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * // using the `_.property` callback shorthand\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    var mapValues = createObjectMapper();\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable properties of `object` that are not omitted.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to omit, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.omit(object, 'age');\n     * // => { 'user': 'fred' }\n     *\n     * _.omit(object, _.isNumber);\n     * // => { 'user': 'fred' }\n     */\n    var omit = restParam(function(object, props) {\n      if (object == null) {\n        return {};\n      }\n      if (typeof props[0] != 'function') {\n        var props = arrayMap(baseFlatten(props), String);\n        return pickByArray(object, baseDifference(keysIn(object), props));\n      }\n      var predicate = bindCallback(props[0], props[1], 3);\n      return pickByCallback(object, function(value, key, object) {\n        return !predicate(value, key, object);\n      });\n    });\n\n    /**\n     * Creates a two dimensional array of the key-value pairs for `object`,\n     * e.g. `[[key1, value1], [key2, value2]]`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the new array of key-value pairs.\n     * @example\n     *\n     * _.pairs({ 'barney': 36, 'fred': 40 });\n     * // => [['barney', 36], ['fred', 40]] (iteration order is not guaranteed)\n     */\n    function pairs(object) {\n      object = toObject(object);\n\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var key = props[index];\n        result[index] = [key, object[key]];\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties. Property\n     * names may be specified as individual arguments or as arrays of property\n     * names. If `predicate` is provided it is invoked for each property of `object`\n     * picking the properties `predicate` returns truthy for. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to pick, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.pick(object, 'user');\n     * // => { 'user': 'fred' }\n     *\n     * _.pick(object, _.isString);\n     * // => { 'user': 'fred' }\n     */\n    var pick = restParam(function(object, props) {\n      if (object == null) {\n        return {};\n      }\n      return typeof props[0] == 'function'\n        ? pickByCallback(object, bindCallback(props[0], props[1], 3))\n        : pickByArray(object, baseFlatten(props));\n    });\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a function\n     * it is invoked with the `this` binding of its parent object and its result\n     * is returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a.b.c', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a.b.c', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      var result = object == null ? undefined : object[path];\n      if (result === undefined) {\n        if (object != null && !isKey(path, object)) {\n          path = toPath(path);\n          object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n          result = object == null ? undefined : object[last(path)];\n        }\n        result = result === undefined ? defaultValue : result;\n      }\n      return isFunction(result) ? result.call(object) : result;\n    }\n\n    /**\n     * Sets the property value of `path` on `object`. If a portion of `path`\n     * does not exist it is created.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to augment.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, 'x[0].y.z', 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      if (object == null) {\n        return object;\n      }\n      var pathKey = (path + '');\n      path = (object[pathKey] != null || isKey(path, object)) ? [pathKey] : toPath(path);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = path[index];\n        if (isObject(nested)) {\n          if (index == lastIndex) {\n            nested[key] = value;\n          } else if (nested[key] == null) {\n            nested[key] = isIndex(path[index + 1]) ? [] : {};\n          }\n        }\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own enumerable\n     * properties through `iteratee`, with each invocation potentially mutating\n     * the `accumulator` object. The `iteratee` is bound to `thisArg` and invoked\n     * with four arguments: (accumulator, value, key, object). Iteratee functions\n     * may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Array|Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     */\n    function transform(object, iteratee, accumulator, thisArg) {\n      var isArr = isArray(object) || isTypedArray(object);\n      iteratee = getCallback(iteratee, thisArg, 4);\n\n      if (accumulator == null) {\n        if (isArr || isObject(object)) {\n          var Ctor = object.constructor;\n          if (isArr) {\n            accumulator = isArray(object) ? new Ctor : [];\n          } else {\n            accumulator = baseCreate(isFunction(Ctor) ? Ctor.prototype : undefined);\n          }\n        } else {\n          accumulator = {};\n        }\n      }\n      (isArr ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Creates an array of the own enumerable property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property values\n     * of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Checks if `n` is between `start` and up to but not including, `end`. If\n     * `end` is not specified it is set to `start` with `start` then set to `0`.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} n The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `n` is in the range, else `false`.\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     */\n    function inRange(value, start, end) {\n      start = +start || 0;\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      return value >= nativeMin(start, end) && value < nativeMax(start, end);\n    }\n\n    /**\n     * Produces a random number between `min` and `max` (inclusive). If only one\n     * argument is provided a number between `0` and the given number is returned.\n     * If `floating` is `true`, or either `min` or `max` are floats, a floating-point\n     * number is returned instead of an integer.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} [min=0] The minimum possible value.\n     * @param {number} [max=1] The maximum possible value.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(min, max, floating) {\n      if (floating && isIterateeCall(min, max, floating)) {\n        max = floating = undefined;\n      }\n      var noMin = min == null,\n          noMax = max == null;\n\n      if (floating == null) {\n        if (noMax && typeof min == 'boolean') {\n          floating = min;\n          min = 1;\n        }\n        else if (typeof max == 'boolean') {\n          floating = max;\n          noMax = true;\n        }\n      }\n      if (noMin && noMax) {\n        max = 1;\n        noMax = false;\n      }\n      min = +min || 0;\n      if (noMax) {\n        max = min;\n        min = 0;\n      } else {\n        max = +max || 0;\n      }\n      if (floating || min % 1 || max % 1) {\n        var rand = nativeRandom();\n        return nativeMin(min + (rand * (max - min + parseFloat('1e-' + ((rand + '').length - 1)))), max);\n      }\n      return baseRandom(min, max);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__foo_bar__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? (word.charAt(0).toUpperCase() + word.slice(1)) : word);\n    });\n\n    /**\n     * Capitalizes the first character of `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('fred');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      string = baseToString(string);\n      return string && (string.charAt(0).toUpperCase() + string.slice(1));\n    }\n\n    /**\n     * Deburrs `string` by converting [latin-1 supplementary letters](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * to basic latin letters and removing [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = baseToString(string);\n      return string && string.replace(reLatin1, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search from.\n     * @returns {boolean} Returns `true` if `string` ends with `target`, else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = baseToString(string);\n      target = (target + '');\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : nativeMin(position < 0 ? 0 : (+position || 0), length);\n\n      position -= target.length;\n      return position >= 0 && string.indexOf(target, position) == position;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', \"'\", and \"\\`\", in `string` to\n     * their corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional characters\n     * use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value.\n     * See [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * Backticks are escaped because in Internet Explorer < 9, they can break out\n     * of attribute values or HTML comments. See [#59](https://html5sec.org/#59),\n     * [#102](https://html5sec.org/#102), [#108](https://html5sec.org/#108), and\n     * [#133](https://html5sec.org/#133) of the [HTML5 Security Cheatsheet](https://html5sec.org/)\n     * for more details.\n     *\n     * When working with HTML you should always [quote attribute values](http://wonko.com/post/html-escaping)\n     * to reduce XSS vectors.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      // Reset `lastIndex` because in IE < 9 `String#replace` does not.\n      string = baseToString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"\\\", \"/\", \"^\", \"$\", \".\", \"|\", \"?\",\n     * \"*\", \"+\", \"(\", \")\", \"[\", \"]\", \"{\" and \"}\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https:\\/\\/lodash\\.com\\/\\)'\n     */\n    function escapeRegExp(string) {\n      string = baseToString(string);\n      return (string && reHasRegExpChars.test(string))\n        ? string.replace(reRegExpChars, escapeRegExpChar)\n        : (string || '(?:)');\n    }\n\n    /**\n     * Converts `string` to [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__foo_bar__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = baseToString(string);\n      length = +length;\n\n      var strLength = string.length;\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return string;\n      }\n      var mid = (length - strLength) / 2,\n          leftLength = nativeFloor(mid),\n          rightLength = nativeCeil(mid);\n\n      chars = createPadding('', rightLength, chars);\n      return chars.slice(0, leftLength) + string + chars;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padLeft('abc', 6);\n     * // => '   abc'\n     *\n     * _.padLeft('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padLeft('abc', 3);\n     * // => 'abc'\n     */\n    var padLeft = createPadDir();\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padRight('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padRight('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padRight('abc', 3);\n     * // => 'abc'\n     */\n    var padRight = createPadDir(true);\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a hexadecimal,\n     * in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the [ES5 implementation](https://es5.github.io/#E)\n     * of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      // Firefox < 21 and Opera < 15 follow ES3 for `parseInt`.\n      // Chrome fails to trim leading <BOM> whitespace characters.\n      // See https://code.google.com/p/v8/issues/detail?id=3109 for more details.\n      if (guard ? isIterateeCall(string, radix, guard) : radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      string = trim(string);\n      return nativeParseInt(string, radix || (reHasHexPrefix.test(string) ? 16 : 10));\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=0] The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n) {\n      var result = '';\n      string = baseToString(string);\n      n = +n;\n      if (n < 1 || !string || !nativeIsFinite(n)) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        string += string;\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * Converts `string` to [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--foo-bar');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string` to [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__foo_bar__');\n     * // => 'Foo Bar'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + (word.charAt(0).toUpperCase() + word.slice(1));\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`, else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = baseToString(string);\n      position = position == null\n        ? 0\n        : nativeMin(position < 0 ? 0 : (+position || 0), string.length);\n\n      return string.lastIndexOf(target, position) == position;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is provided it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options] The options object.\n     * @param {RegExp} [options.escape] The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate] The \"evaluate\" delimiter.\n     * @param {Object} [options.imports] An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate] The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL] The sourceURL of the template's compiled source.\n     * @param {string} [options.variable] The data object variable name.\n     * @param- {Object} [otherOptions] Enables the legacy `options` param signature.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // using the \"interpolate\" delimiter to create a compiled template\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // using the HTML \"escape\" delimiter to escape data property values\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // using the \"evaluate\" delimiter to execute JavaScript and generate HTML\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the internal `print` function in \"evaluate\" delimiters\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // using the ES delimiter as an alternative to the default \"interpolate\" delimiter\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // using custom template delimiters\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // using backslashes to treat delimiters as plain text\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // using the `imports` option to import `jQuery` as `jq`\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the `sourceURL` option to specify a custom sourceURL for the template\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n     *\n     * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // using the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and a stack trace\n     * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, otherOptions) {\n      // Based on John Resig's `tmpl` implementation (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (otherOptions && isIterateeCall(string, options, otherOptions)) {\n        options = otherOptions = undefined;\n      }\n      string = baseToString(string);\n      options = assignWith(baseAssign({}, otherOptions || options), settings, assignOwnDefaults);\n\n      var imports = assignWith(baseAssign({}, options.imports), settings.imports, assignOwnDefaults),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      var sourceURL = '//# sourceURL=' +\n        ('sourceURL' in options\n          ? options.sourceURL\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products requires returning the `match`\n        // string in order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source).apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string), trimmedRightIndex(string) + 1);\n      }\n      chars = (chars + '');\n      return string.slice(charsLeftIndex(string, chars), charsRightIndex(string, chars) + 1);\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimLeft('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimLeft('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimLeft(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string));\n      }\n      return string.slice(charsLeftIndex(string, (chars + '')));\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimRight('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimRight('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimRight(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(0, trimmedRightIndex(string) + 1);\n      }\n      return string.slice(0, charsRightIndex(string, (chars + '')) + 1);\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object|number} [options] The options object or maximum string length.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.trunc('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', 24);\n     * // => 'hi-diddly-ho there, n...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function trunc(string, options, guard) {\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (options != null) {\n        if (isObject(options)) {\n          var separator = 'separator' in options ? options.separator : separator;\n          length = 'length' in options ? (+options.length || 0) : length;\n          omission = 'omission' in options ? baseToString(options.omission) : omission;\n        } else {\n          length = +options || 0;\n        }\n      }\n      string = baseToString(string);\n      if (length >= string.length) {\n        return string;\n      }\n      var end = length - omission.length;\n      if (end < 1) {\n        return omission;\n      }\n      var result = string.slice(0, end);\n      if (separator == null) {\n        return result + omission;\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              newEnd,\n              substring = string.slice(0, end);\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, (reFlags.exec(separator) || '') + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            newEnd = match.index;\n          }\n          result = result.slice(0, newEnd == null ? end : newEnd);\n        }\n      } else if (string.indexOf(separator, end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, `&#39;`, and `&#96;` in `string` to their\n     * corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional HTML\n     * entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = baseToString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      if (guard && isIterateeCall(string, pattern, guard)) {\n        pattern = undefined;\n      }\n      string = baseToString(string);\n      return string.match(pattern || reWords) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function} func The function to attempt.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // avoid throwing errors for invalid selectors\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = restParam(function(func, args) {\n      try {\n        return func.apply(undefined, args);\n      } catch(e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and arguments of the created function. If `func` is a property name the\n     * created callback returns the property value for a given element. If `func`\n     * is an object the created callback returns `true` for elements that contain\n     * the equivalent object properties, otherwise it returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias iteratee\n     * @category Utility\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // wrap to create custom callback shorthands\n     * _.callback = _.wrap(_.callback, function(callback, func, thisArg) {\n     *   var match = /^(.+?)__([gl]t)(.+)$/.exec(func);\n     *   if (!match) {\n     *     return callback(func, thisArg);\n     *   }\n     *   return function(object) {\n     *     return match[2] == 'gt'\n     *       ? object[match[1]] > match[3]\n     *       : object[match[1]] < match[3];\n     *   };\n     * });\n     *\n     * _.filter(users, 'age__gt36');\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     */\n    function callback(func, thisArg, guard) {\n      if (guard && isIterateeCall(func, thisArg, guard)) {\n        thisArg = undefined;\n      }\n      return isObjectLike(func)\n        ? matches(func)\n        : baseCallback(func, thisArg);\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var getter = _.constant(object);\n     *\n     * getter() === object;\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * This method returns the first argument provided to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.identity(object) === object;\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that performs a deep comparison between a given object\n     * and `source`, returning `true` if the given object has equivalent property\n     * values, else `false`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, _.matches({ 'age': 40, 'active': false }));\n     * // => [{ 'user': 'fred', 'age': 40, 'active': false }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, true));\n    }\n\n    /**\n     * Creates a function that compares the property value of `path` on a given\n     * object to `value`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * _.find(users, _.matchesProperty('user', 'fred'));\n     * // => { 'user': 'fred' }\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, true));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` on a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': { 'c': _.constant(2) } } },\n     *   { 'a': { 'b': { 'c': _.constant(1) } } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b.c'));\n     * // => [2, 1]\n     *\n     * _.invoke(_.sortBy(objects, _.method(['a', 'b', 'c'])), 'a.b.c');\n     * // => [1, 2]\n     */\n    var method = restParam(function(path, args) {\n      return function(object) {\n        return invokePath(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path on `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = restParam(function(object, args) {\n      return function(path) {\n        return invokePath(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable function properties of a source object to the\n     * destination object. If `object` is a function then methods are added to\n     * its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.chain=true] Specify whether the functions added\n     *  are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      if (options == null) {\n        var isObj = isObject(source),\n            props = isObj ? keys(source) : undefined,\n            methodNames = (props && props.length) ? baseFunctions(source, props) : undefined;\n\n        if (!(methodNames ? methodNames.length : isObj)) {\n          methodNames = false;\n          options = source;\n          source = object;\n          object = this;\n        }\n      }\n      if (!methodNames) {\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = true,\n          index = -1,\n          isFunc = isFunction(object),\n          length = methodNames.length;\n\n      if (options === false) {\n        chain = false;\n      } else if (isObject(options) && 'chain' in options) {\n        chain = options.chain;\n      }\n      while (++index < length) {\n        var methodName = methodNames[index],\n            func = source[methodName];\n\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = (function(func) {\n            return function() {\n              var chainAll = this.__chain__;\n              if (chain || chainAll) {\n                var result = object(this.__wrapped__),\n                    actions = result.__actions__ = arrayCopy(this.__actions__);\n\n                actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n                result.__chain__ = chainAll;\n                return result;\n              }\n              return func.apply(object, arrayPush([this.value()], arguments));\n            };\n          }(func));\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      root._ = oldDash;\n      return this;\n    }\n\n    /**\n     * A no-operation function that returns `undefined` regardless of the\n     * arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.noop(object) === undefined;\n     * // => true\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that returns the property value at `path` on a\n     * given object.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': { 'c': 2 } } },\n     *   { 'a': { 'b': { 'c': 1 } } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b.c'));\n     * // => [2, 1]\n     *\n     * _.pluck(_.sortBy(objects, _.property(['a', 'b', 'c'])), 'a.b.c');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(path) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the property value at a given path on `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return baseGet(object, toPath(path), path + '');\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. If `end` is not specified it is\n     * set to `start` with `start` then set to `0`. If `end` is less than `start`\n     * a zero-length range is created unless a negative `step` is specified.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the new array of numbers.\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    function range(start, end, step) {\n      if (step && isIterateeCall(start, end, step)) {\n        end = step = undefined;\n      }\n      start = +start || 0;\n      step = step == null ? 1 : (+step || 0);\n\n      if (end == null) {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      // Use `Array(length)` so engines like Chakra and V8 avoid slower modes.\n      // See https://youtu.be/XAqIpGU8ZZk#t=17m25s for more details.\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * Invokes the iteratee function `n` times, returning an array of the results\n     * of each invocation. The `iteratee` is bound to `thisArg` and invoked with\n     * one argument; (index).\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * var diceRolls = _.times(3, _.partial(_.random, 1, 6, false));\n     * // => [3, 6, 4]\n     *\n     * _.times(3, function(n) {\n     *   mage.castSpell(n);\n     * });\n     * // => invokes `mage.castSpell(n)` three times with `n` of `0`, `1`, and `2`\n     *\n     * _.times(3, function(n) {\n     *   this.cast(n);\n     * }, mage);\n     * // => also invokes `mage.castSpell(n)` three times\n     */\n    function times(n, iteratee, thisArg) {\n      n = nativeFloor(n);\n\n      // Exit early to avoid a JSC JIT bug in Safari 8\n      // where `Array(0)` is treated as `Array(1)`.\n      if (n < 1 || !nativeIsFinite(n)) {\n        return [];\n      }\n      var index = -1,\n          result = Array(nativeMin(n, MAX_ARRAY_LENGTH));\n\n      iteratee = bindCallback(iteratee, thisArg, 1);\n      while (++index < n) {\n        if (index < MAX_ARRAY_LENGTH) {\n          result[index] = iteratee(index);\n        } else {\n          iteratee(index);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is provided the ID is appended to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {string} [prefix] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return baseToString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} augend The first number to add.\n     * @param {number} addend The second number to add.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    function add(augend, addend) {\n      return (+augend || 0) + (+addend || 0);\n    }\n\n    /**\n     * Calculates `n` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} n The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Calculates `n` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} n The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Gets the maximum value of `collection`. If `collection` is empty or falsey\n     * `-Infinity` is returned. If an iteratee function is provided it is invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => -Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.max(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using the `_.property` callback shorthand\n     * _.max(users, 'age');\n     * // => { 'user': 'fred', 'age': 40 }\n     */\n    var max = createExtremum(gt, NEGATIVE_INFINITY);\n\n    /**\n     * Gets the minimum value of `collection`. If `collection` is empty or falsey\n     * `Infinity` is returned. If an iteratee function is provided it is invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.min(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // using the `_.property` callback shorthand\n     * _.min(users, 'age');\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var min = createExtremum(lt, POSITIVE_INFINITY);\n\n    /**\n     * Calculates `n` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} n The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Gets the sum of the values in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 6]);\n     * // => 10\n     *\n     * _.sum({ 'a': 4, 'b': 6 });\n     * // => 10\n     *\n     * var objects = [\n     *   { 'n': 4 },\n     *   { 'n': 6 }\n     * ];\n     *\n     * _.sum(objects, function(object) {\n     *   return object.n;\n     * });\n     * // => 10\n     *\n     * // using the `_.property` callback shorthand\n     * _.sum(objects, 'n');\n     * // => 10\n     */\n    function sum(collection, iteratee, thisArg) {\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = undefined;\n      }\n      iteratee = getCallback(iteratee, thisArg, 3);\n      return iteratee.length == 1\n        ? arraySum(isArray(collection) ? collection : toIterable(collection), iteratee)\n        : baseSum(collection, iteratee);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    // Add functions to the `Map` cache.\n    MapCache.prototype['delete'] = mapDelete;\n    MapCache.prototype.get = mapGet;\n    MapCache.prototype.has = mapHas;\n    MapCache.prototype.set = mapSet;\n\n    // Add functions to the `Set` cache.\n    SetCache.prototype.push = cachePush;\n\n    // Assign cache to `_.memoize`.\n    memoize.Cache = MapCache;\n\n    // Add functions that return wrapped values when chaining.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.callback = callback;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.functions = functions;\n    lodash.groupBy = groupBy;\n    lodash.indexBy = indexBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.invert = invert;\n    lodash.invoke = invoke;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.modArgs = modArgs;\n    lodash.negate = negate;\n    lodash.omit = omit;\n    lodash.once = once;\n    lodash.pairs = pairs;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pluck = pluck;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.restParam = restParam;\n    lodash.set = set;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortByAll = sortByAll;\n    lodash.sortByOrder = sortByOrder;\n    lodash.spread = spread;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.times = times;\n    lodash.toArray = toArray;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.union = union;\n    lodash.uniq = uniq;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.where = where;\n    lodash.without = without;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.backflow = flowRight;\n    lodash.collect = map;\n    lodash.compose = flowRight;\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.extend = assign;\n    lodash.iteratee = callback;\n    lodash.methods = functions;\n    lodash.object = zipObject;\n    lodash.select = filter;\n    lodash.tail = rest;\n    lodash.unique = uniq;\n\n    // Add functions to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add functions that return unwrapped values when chaining.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.deburr = deburr;\n    lodash.endsWith = endsWith;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.findWhere = findWhere;\n    lodash.first = first;\n    lodash.floor = floor;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isBoolean = isBoolean;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isMatch = isMatch;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isString = isString;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.min = min;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padLeft = padLeft;\n    lodash.padRight = padRight;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.sum = sum;\n    lodash.template = template;\n    lodash.trim = trim;\n    lodash.trimLeft = trimLeft;\n    lodash.trimRight = trimRight;\n    lodash.trunc = trunc;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.words = words;\n\n    // Add aliases.\n    lodash.all = every;\n    lodash.any = some;\n    lodash.contains = includes;\n    lodash.eq = isEqual;\n    lodash.detect = find;\n    lodash.foldl = reduce;\n    lodash.foldr = reduceRight;\n    lodash.head = first;\n    lodash.include = includes;\n    lodash.inject = reduce;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!lodash.prototype[methodName]) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), false);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add functions capable of returning wrapped and unwrapped values when chaining.\n    lodash.sample = sample;\n\n    lodash.prototype.sample = function(n) {\n      if (!this.__chain__ && n == null) {\n        return sample(this.value());\n      }\n      return this.thru(function(value) {\n        return sample(value, n);\n      });\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type string\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        var filtered = this.__filtered__;\n        if (filtered && !index) {\n          return new LazyWrapper(this);\n        }\n        n = n == null ? 1 : nativeMax(nativeFloor(n) || 0, 0);\n\n        var result = this.clone();\n        if (filtered) {\n          result.__takeCount__ = nativeMin(result.__takeCount__, n);\n        } else {\n          result.__views__.push({ 'size': n, 'type': methodName + (result.__dir__ < 0 ? 'Right' : '') });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type != LAZY_MAP_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee, thisArg) {\n        var result = this.clone();\n        result.__iteratees__.push({ 'iteratee': getCallback(iteratee, thisArg, 1), 'type': type });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.first` and `_.last`.\n    arrayEach(['first', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.rest`.\n    arrayEach(['initial', 'rest'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.pluck` and `_.where`.\n    arrayEach(['pluck', 'where'], function(methodName, index) {\n      var operationName = index ? 'filter' : 'map',\n          createCallback = index ? baseMatches : property;\n\n      LazyWrapper.prototype[methodName] = function(value) {\n        return this[operationName](createCallback(value));\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.reject = function(predicate, thisArg) {\n      predicate = getCallback(predicate, thisArg, 1);\n      return this.filter(function(value) {\n        return !predicate(value);\n      });\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = start == null ? 0 : (+start || 0);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = (+end || 0);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate, thisArg) {\n      return this.reverse().takeWhile(predicate, thisArg).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(POSITIVE_INFINITY);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|map|reject)|While$/.test(methodName),\n          retUnwrapped = /^(?:first|last)$/.test(methodName),\n          lodashFunc = lodash[retUnwrapped ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName];\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var args = retUnwrapped ? [1] : arguments,\n            chainAll = this.__chain__,\n            value = this.__wrapped__,\n            isHybrid = !!this.__actions__.length,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var interceptor = function(value) {\n          return (retUnwrapped && chainAll)\n            ? lodashFunc(value, 1)[0]\n            : lodashFunc.apply(undefined, arrayPush([value], args));\n        };\n\n        var action = { 'func': thru, 'args': [interceptor], 'thisArg': undefined },\n            onlyLazy = isLazy && !isHybrid;\n\n        if (retUnwrapped && !chainAll) {\n          if (onlyLazy) {\n            value = value.clone();\n            value.__actions__.push(action);\n            return func.call(value);\n          }\n          return lodashFunc.call(undefined, this.value())[0];\n        }\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push(action);\n          return new LodashWrapper(result, chainAll);\n        }\n        return this.thru(interceptor);\n      };\n    });\n\n    // Add `Array` and `String` methods to `lodash.prototype`.\n    arrayEach(['join', 'pop', 'push', 'replace', 'shift', 'sort', 'splice', 'split', 'unshift'], function(methodName) {\n      var func = (/^(?:replace|split)$/.test(methodName) ? stringProto : arrayProto)[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:join|pop|replace|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          return func.apply(this.value(), args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(value, args);\n        });\n      };\n    });\n\n    // Map minified function names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name,\n            names = realNames[key] || (realNames[key] = []);\n\n        names.push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybridWrapper(undefined, BIND_KEY_FLAG).name] = [{ 'name': 'wrapper', 'func': undefined }];\n\n    // Add functions to the lazy wrapper.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chaining functions to the `lodash` wrapper.\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.concat = wrapperConcat;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toString = wrapperToString;\n    lodash.prototype.run = lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add function aliases to the `lodash` wrapper.\n    lodash.prototype.collect = lodash.prototype.map;\n    lodash.prototype.head = lodash.prototype.first;\n    lodash.prototype.select = lodash.prototype.filter;\n    lodash.prototype.tail = lodash.prototype.rest;\n\n    return lodash;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers like r.js check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose lodash to the global object when an AMD loader is present to avoid\n    // errors in cases where lodash is loaded by a script tag and not intended\n    // as an AMD module. See http://requirejs.org/docs/errors.html#mismatch for\n    // more details.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\n  else if (freeExports && freeModule) {\n    // Export for Node.js or RingoJS.\n    if (moduleExports) {\n      (freeModule.exports = _)._ = _;\n    }\n    // Export for Rhino with CommonJS support.\n    else {\n      freeExports._ = _;\n    }\n  }\n  else {\n    // Export for a browser or Rhino.\n    root._ = _;\n  }\n}.call(this));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/index.js\n// module id = 318\n// module chunks = 1","/**\n * @class\n * @name Collection\n * @description\n * Коллекция данных, обновляющаяся при изменении в хранилище\n *\n * Принцип работ: есть хранилище в него добавляются, изменяются, удаляются данные. @see Storage\n * К хранилищу можно сделать запрос с предикатом,\n * который вернет live-коллекцию (можно и не live-коллекцию, а просто snapshot).\n * Затем можно подписаться на событие обновления коллекции.\n * Как только информация в хранилище изменяется, оно передает изменения в активные live-коллекции,\n * и в них так же обновляются данные согласно предикату.\n * Важным моментом является то что в коллекции приходят снапшоты записей из хранилища,\n * а не ссылка на запись, таким образом сохраняется версионность и всегда можно понять\n * что именно изменилось в записи.\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _signals = require('signals');\n\nvar _signals2 = _interopRequireDefault(_signals);\n\nvar Collection = (function () {\n    /**\n     * @constructor\n     * @param {Storage} storage\n     * @param {Array<Function>} query\n     */\n\n    function Collection(storage, query) {\n        _classCallCheck(this, Collection);\n\n        /**\n         * Формат вызова\n         * {Object{\n         *   {Array} inserted Записи, добавленные в коллекцию\n         *   {Array} updated Записи, которые были обновлены\n         *   {Array} old Предыдущее состояние обновленных записей\n         *   {Object} excluded Записи, которые были удалены из коллекции,\n         *   так как не подходят под запрос\n         *   {Object} removed Записи, которые были удалены из хранилища\n         * }}\n         */\n        this.onUpdated = new _signals2['default']();\n        this.storage = storage;\n        this.cache = new Map();\n        this.enabled = true;\n        this.query = query;\n    }\n\n    /**\n     * Обновление данных в коллекции, элементы будут отфильтрованы согласно\n     * текущему запросу\n     *\n     * @param {Array|Iterator} items\n     * @returns {Collection} this\n     */\n\n    _createClass(Collection, [{\n        key: 'update',\n        value: function update() {\n            var items = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\n            var old = [];\n            var inserted = [];\n            var updated = [];\n            var excluded = [];\n\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = items[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var item = _step.value;\n\n                    this._processItem(item, inserted, excluded, updated, old);\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator['return']) {\n                        _iterator['return']();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            var wasUpdated = [inserted, updated, excluded].some(function (collection) {\n                return collection.length;\n            });\n\n            if (wasUpdated) {\n                this.onUpdated.dispatch(this, {\n                    inserted: inserted,\n                    excluded: excluded,\n                    updated: updated,\n                    old: old\n                });\n            }\n\n            return this;\n        }\n\n        /**\n         * Обновление записи\n         *\n         * @param {Model} item\n         * @param {Array} inserted\n         * @param {Array} excluded\n         * @param {Array} updated\n         * @param {Array} old\n         * @private\n         */\n    }, {\n        key: '_processItem',\n        value: function _processItem(item, inserted, excluded, updated, old) {\n            var id = item.getId();\n            var isExists = this.cache.has(id);\n            var isAcceptable = this.query(item);\n\n            if (!isAcceptable && !isExists) {\n                return;\n            }\n\n            if (!isExists) {\n                this._insertItem(id, item, inserted);\n                return;\n            }\n\n            if (!isAcceptable) {\n                this._excludeItem(id, excluded);\n                return;\n            }\n\n            this._updateItem(id, item, updated, old);\n        }\n\n        /**\n         * Вставка записи в коллекцию\n         *\n         * @param {*} id\n         * @param {Model} item\n         * @param {Array} inserted\n         * @private\n         */\n    }, {\n        key: '_insertItem',\n        value: function _insertItem(id, item, inserted) {\n            item = item.clone();\n            this.cache.set(id, item);\n            inserted.push(item);\n        }\n\n        /**\n         * Исключение записи, которая не подходит под запрос, из коллекции\n         *\n         * @param {*} id\n         * @param {Array} excluded\n         * @private\n         */\n    }, {\n        key: '_excludeItem',\n        value: function _excludeItem(id, excluded) {\n            var oldItem = this.cache.get(id);\n\n            excluded.push(oldItem);\n            this.cache['delete'](id);\n        }\n\n        /**\n         * Замена старой записи в коллекции на новую\n         *\n         * @param {*} id\n         * @param {Model} item\n         * @param {Array} updated\n         * @param {Array} old\n         * @private\n         */\n    }, {\n        key: '_updateItem',\n        value: function _updateItem(id, item, updated, old) {\n            var oldItem = this.cache.get(id);\n\n            item = item.clone();\n            old.push(oldItem);\n            updated.push(item);\n            this.cache.set(id, item);\n        }\n\n        /**\n         * Удаление записей из коллекции\n         *\n         * @param {Array} ids\n         * @returns {Collection} this\n         */\n    }, {\n        key: 'remove',\n        value: function remove() {\n            var _this = this;\n\n            var ids = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\n            var removed = [];\n\n            ids.forEach(function (id) {\n                if (_this.cache.has(id)) {\n                    removed.push(_this.cache.get(id));\n                    _this.cache['delete'](id);\n                }\n            });\n\n            if (removed.length) {\n                this.onUpdated.dispatch(this, {\n                    removed: removed\n                });\n            }\n\n            return this;\n        }\n\n        /**\n         * Перезагрузка коллекции\n         *\n         * @returns {Collection} this\n         */\n    }, {\n        key: 'reload',\n        value: function reload() {\n            this.storage.reloadCollection(this);\n            return this;\n        }\n\n        /**\n         * Получение итератора для обхода коллекции\n         *\n         * @returns {Iterator<Model>}\n         */\n    }, {\n        key: 'destroy',\n\n        /**\n         * Удаление коллекции из сторэджа\n         *\n         * @returns {Collection} this\n         */\n        value: function destroy() {\n            this.storage.removeCollection(this);\n            this.onUpdated.removeAll();\n            this.cache.clear();\n            return this;\n        }\n\n        /**\n         * Включение лайв режима\n         *\n         * @returns {Collection} this\n         */\n    }, {\n        key: 'enable',\n        value: function enable() {\n            this.enabled = true;\n            this.storage.activateCollection(this);\n            return this;\n        }\n\n        /**\n         * Коллекция не будет обновляться в лайв режиме\n         *\n         * @returns {Collection} this\n         */\n    }, {\n        key: 'disable',\n        value: function disable() {\n            this.enabled = false;\n            return this;\n        }\n\n        /**\n         * @param {Function} callback\n         * @param scope\n         */\n    }, {\n        key: 'forEach',\n        value: function forEach(callback, scope) {\n            this.toArray().forEach(callback, scope);\n        }\n\n        /**\n         * @param {Function} callback\n         * @param [scope]\n         * @returns {Array}\n         */\n    }, {\n        key: 'map',\n        value: function map(callback, scope) {\n            return this.toArray().map(callback, scope);\n        }\n\n        /**\n         * @param {Function} callback\n         * @param {*} [initialValue]\n         * @returns {*}\n         */\n    }, {\n        key: 'reduce',\n        value: function reduce(callback, initialValue) {\n            return this.toArray().reduce(callback, initialValue);\n        }\n\n        /**\n         * @param {Function} callback\n         * @param [scope]\n         * @returns {Array}\n         */\n    }, {\n        key: 'some',\n        value: function some(callback, scope) {\n            return this.toArray().some(callback, scope);\n        }\n\n        /**\n         * @param {Function} callback\n         * @param [scope]\n         * @returns {Array}\n         */\n    }, {\n        key: 'every',\n        value: function every(callback, scope) {\n            return this.toArray().every(callback, scope);\n        }\n\n        /**\n         * Возвращает содержимое коллекции, представленное в виде массива,\n         * теряются, соответственно, ключи моделей.\n         *\n         * @return {Array<Model>}\n         */\n    }, {\n        key: 'toArray',\n        value: function toArray() {\n            return [].concat(_toConsumableArray(this.values));\n        }\n\n        /**\n         * @return {Number} колличество элементов в коллекции\n         */\n    }, {\n        key: 'values',\n        get: function get() {\n            return this.cache.values();\n        }\n    }, {\n        key: 'size',\n        get: function get() {\n            return this.cache.size;\n        }\n    }]);\n\n    return Collection;\n})();\n\nexports['default'] = Collection;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/yandex-elements-core/collection/collection.js\n// module id = 319\n// module chunks = 1","/**\n * @class\n * @description\n * Обработчик событий webNavigation, отфильтровывает навигацию дочерних фрэймов\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _signals = require('signals');\n\nvar _signals2 = _interopRequireDefault(_signals);\n\nvar _navigation = require('./navigation');\n\nvar BEFORE_NAVIGATE = _navigation.NAVIGATION_STATUS.BEFORE_NAVIGATE;\nvar COMMITTED = _navigation.NAVIGATION_STATUS.COMMITTED;\nvar DOM_CONTENT_LOADED = _navigation.NAVIGATION_STATUS.DOM_CONTENT_LOADED;\nvar COMPLETED = _navigation.NAVIGATION_STATUS.COMPLETED;\nvar ERROR_OCCURRED = _navigation.NAVIGATION_STATUS.ERROR_OCCURRED;\nvar HISTORY_STATE_UPDATED = _navigation.NAVIGATION_STATUS.HISTORY_STATE_UPDATED;\nvar REFERENCE_FRAGMENT_UPDATED = _navigation.NAVIGATION_STATUS.REFERENCE_FRAGMENT_UPDATED;\n\nvar NavListener = (function () {\n    /**\n     * @constructor\n     */\n\n    function NavListener() {\n        _classCallCheck(this, NavListener);\n\n        this._createSignals();\n        this._listenNav();\n    }\n\n    /**\n     * Прокси сигнал для webNavigation событий\n     *\n     * @private\n     */\n\n    _createClass(NavListener, [{\n        key: '_createSignals',\n        value: function _createSignals() {\n            this.onNavigationUpdated = new _signals2['default']();\n        }\n\n        /**\n         * Установка обработчиков для webNavigation событий\n         *\n         * @private\n         */\n    }, {\n        key: '_listenNav',\n        value: function _listenNav() {\n            chrome.webNavigation.onBeforeNavigate.addListener(this._onBeforeNavigate.bind(this));\n            chrome.webNavigation.onCommitted.addListener(this._onCommitted.bind(this));\n            chrome.webNavigation.onDOMContentLoaded.addListener(this._onDOMContentLoaded.bind(this));\n            chrome.webNavigation.onCompleted.addListener(this._onCompleted.bind(this));\n            chrome.webNavigation.onErrorOccurred.addListener(this._onErrorOccurred.bind(this));\n\n            if (chrome.webNavigation.onReferenceFragmentUpdated) {\n                chrome.webNavigation.onReferenceFragmentUpdated.addListener(this._onNavigationUpdated.bind(this, REFERENCE_FRAGMENT_UPDATED));\n            }\n\n            if (chrome.webNavigation.onHistoryStateUpdated) {\n                chrome.webNavigation.onHistoryStateUpdated.addListener(this._onNavigationUpdated.bind(this, HISTORY_STATE_UPDATED));\n            }\n        }\n\n        /**\n         * Обаботка событий связанных с изменением истории\n         * или адресной строки\n         *\n         * @param {Number} status\n         * @param {Object} details\n         * @private\n         */\n    }, {\n        key: '_onNavigationUpdated',\n        value: function _onNavigationUpdated(status, details) {\n            this._onCommitted(details, status);\n        }\n\n        /**\n         * Вызывается при возникновении ошибки и прерывании навигации\n         * {@link https://developer.chrome.com/extensions/webNavigation#event-onErrorOccurred}\n         *\n         * @param {Number} frameId\n         * @param {String} url\n         * @param {Number} tabId\n         * @param {String} error\n         * @private\n         */\n    }, {\n        key: '_onErrorOccurred',\n        value: function _onErrorOccurred(_ref) {\n            var frameId = _ref.frameId;\n            var url = _ref.url;\n            var tabId = _ref.tabId;\n            var error = _ref.error;\n\n            if (frameId !== 0) {\n                return;\n            }\n\n            this.onNavigationUpdated.dispatch({\n                tabId: tabId,\n                error: error,\n                url: url,\n                status: ERROR_OCCURRED\n            });\n        }\n\n        /**\n         * Вызывается после того как страница была полностью загружена, в том числе все ресурсы и т.п.\n         * Асинхронные скрипты могут еще не завершить свою работу.\n         * {@link https://developer.chrome.com/extensions/webNavigation#event-onCompleted}\n         *\n         * @param {Number} frameId\n         * @param {Number} tabId\n         * @param {String} url\n         * @private\n         */\n    }, {\n        key: '_onCompleted',\n        value: function _onCompleted(_ref2) {\n            var frameId = _ref2.frameId;\n            var tabId = _ref2.tabId;\n            var url = _ref2.url;\n\n            if (frameId !== 0) {\n                return;\n            }\n\n            this.onNavigationUpdated.dispatch({\n                tabId: tabId,\n                url: url,\n                status: COMPLETED\n            });\n        }\n\n        /**\n         * Вызывается после того как DOM дерево полностью собрано, но ресурсы и асинхронные скрипты\n         * все еще могут загружаться или обрабатываться.\n         * С этого момента можно получить заголовок страницы.\n         * {@link https://developer.chrome.com/extensions/webNavigation#event-onDOMContentLoaded}\n         *\n         * @param {Number} frameId\n         * @param {String} url\n         * @param {Number} tabId\n         * @private\n         */\n    }, {\n        key: '_onDOMContentLoaded',\n        value: function _onDOMContentLoaded(_ref3) {\n            var frameId = _ref3.frameId;\n            var url = _ref3.url;\n            var tabId = _ref3.tabId;\n\n            if (frameId !== 0) {\n                return;\n            }\n\n            this.onNavigationUpdated.dispatch({\n                tabId: tabId,\n                url: url,\n                status: DOM_CONTENT_LOADED\n            });\n        }\n\n        /**\n         * Событие вызывается при переходе на конечный URL (после сервернных переходов).\n         * Из данных события можно получить информацию о том, как была запущена навигация,\n         * о серверных переходах и т.п.\n         * {@link https://developer.chrome.com/extensions/webNavigation#event-onCommitted}\n         *\n         * @param {Number} frameId\n         * @param {String} transitionType причина, которая вызвала изменение навигации\n         * @param {Array<String>} transitionQualifiers список переходов\n         * @param {String} url\n         * @param {Number} tabId\n         * @private\n         */\n    }, {\n        key: '_onCommitted',\n        value: function _onCommitted(_ref4) {\n            var frameId = _ref4.frameId;\n            var transitionType = _ref4.transitionType;\n            var transitionQualifiers = _ref4.transitionQualifiers;\n            var url = _ref4.url;\n            var tabId = _ref4.tabId;\n            var status = arguments.length <= 1 || arguments[1] === undefined ? COMMITTED : arguments[1];\n\n            if (frameId !== 0) {\n                return;\n            }\n\n            this.onNavigationUpdated.dispatch({\n                tabId: tabId,\n                transitionType: transitionType,\n                transitionQualifiers: transitionQualifiers,\n                url: url,\n                status: status\n            });\n        }\n\n        /**\n         * Это событие говорит нам о начале новой навигации в табе.\n         * {@link https://developer.chrome.com/extensions/webNavigation#event-onBeforeNavigate}\n         *\n         * @param {Number} frameId\n         * @param {Number} tabId\n         * @param {String} url\n         * @private\n         */\n    }, {\n        key: '_onBeforeNavigate',\n        value: function _onBeforeNavigate(_ref5) {\n            var frameId = _ref5.frameId;\n            var tabId = _ref5.tabId;\n            var url = _ref5.url;\n\n            if (frameId !== 0) {\n                return;\n            }\n\n            this.onNavigationUpdated.dispatch({\n                tabId: tabId,\n                url: url,\n                status: BEFORE_NAVIGATE\n            });\n        }\n    }]);\n\n    return NavListener;\n})();\n\nexports['default'] = NavListener;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/yandex-elements-core/tabs-watcher/nav-listener.js\n// module id = 320\n// module chunks = 1","/**\n * Logic for creating closed tab/window objects.\n */\n'use strict';\n\nvar urlUtils = require('../../utils/url');\nvar browserInfo = require('../../utils/browser-info');\nvar faviconYandex = require('../favicon/yandex');\n\n// All closed items which id starts with \"win-\" are actually closed windows...\n// It's because frontend sends us only ids when it wants to restore some item,\n// but we must detect item type, to launch correct logic.\n// TODO change frontend API and get rid of this.\nvar CLOSED_WINDOWS_PREFIX = 'win-';\n\n/**\n * @param {String} id\n * @returns {Boolean}\n */\nexports.isWindowId = function (id) {\n    return id && id.indexOf(CLOSED_WINDOWS_PREFIX) > -1;\n};\n\n/**\n * @param {String} url\n * @param {Object} tabData\n * @param {String} tabData.uuid\n * @param {Number} tabData.windowId\n * @param {String} [tabData.favIconUrl]\n * @param {String} [tabData.title]\n * @param {Object} removeInfo\n * @param {Boolean} removeInfo.isWindowClosing\n * @returns {Object} closedTab\n */\nexports.createClosedTab = function (url, tabData, removeInfo) {\n    return {\n        id: String(tabData.id),\n        url: url,\n        isWindow: false,\n        title: tabData.title || url,\n        favicon: getFaviconUrl(tabData, url),\n        windowId: tabData.windowId,\n        closedTime: Date.now(),\n        closedWithWindow: removeInfo.isWindowClosing\n    };\n};\n\n/**\n * @param {Object} tabData\n * @param {String} url\n */\nfunction getFaviconUrl(tabData, url) {\n    var favUrl = tabData.favIconUrl;\n    if (!favUrl && urlUtils.isRemote(url)) {\n        favUrl = faviconYandex.getUrl(url);\n    }\n    return favUrl;\n}\n\n/**\n * @param {Array<String>} urls\n * @param {Number} windowId\n * @returns {Object} closedWindow\n */\nexports.createClosedWindow = function (urls, windowId) {\n    // В Firefox обратная последовательность табов при закрытии окна.\n    // @see https://st.yandex-team.ru/VB-6125\n    if (browserInfo.isFirefox()) {\n        urls.reverse();\n    }\n\n    return {\n        id: CLOSED_WINDOWS_PREFIX + windowId,\n        isWindow: true,\n        windowId: windowId,\n        urls: urls,\n        domains: getReadableParts(urls),\n        closedTime: Date.now()\n    };\n};\n\n/**\n * @param {Array<String>} urls\n * @returns {Array<String>}\n */\nfunction getReadableParts(urls) {\n    return urls.map(function (url) {\n        if (!urlUtils.isSpecialUrl(url)) {\n            return urlUtils.getReadableDomain(url)\n                || urlUtils.getReadableUrl(url)\n                || url;\n        }\n        return url;\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/closed-tabs/closed-item.js","var isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar regexpTag = '[object RegExp]';\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `RegExp` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isRegExp(/abc/);\n * // => true\n *\n * _.isRegExp('/abc/');\n * // => false\n */\nfunction isRegExp(value) {\n  return isObject(value) && objToString.call(value) == regexpTag;\n}\n\nmodule.exports = isRegExp;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/lang/isRegExp.js\n// module id = 322\n// module chunks = 1","/**\n * Logic for sorting closed tabs and windows\n */\n'use strict';\n\nvar take = require('lodash/array/take');\n\nvar MAX_CLOSED_WINDOWS_COUNT = 5;\nvar MAX_CLOSED_TOTAL_COUNT = 15;\n\n/**\n * Sorts items by closed time, filters by window id.\n * @param {Array<Object>} items\n * @param {Number} [windowId]\n * @returns {Array<Object>}\n */\nexports.sortItems = function (items, windowId) {\n    var windows = exports.getWindows(items).sort(compareByClosedTime);\n    var tabs = exports.getTabs(items, windowId).sort(compareByClosedTime);\n    windows = take(windows, MAX_CLOSED_WINDOWS_COUNT);\n    tabs = take(tabs, MAX_CLOSED_TOTAL_COUNT - windows.length);\n    return tabs.concat(windows);\n};\n\n/**\n * @param {Array<Object>} items\n * @returns {Array<Object>}\n */\nexports.getWindows = function (items) {\n    return items.reduce(function (list, item) {\n        if (isAcceptableAsWindow(item)) {\n            list.push(item);\n        }\n        return list;\n    }, []);\n};\n\n/**\n * @param {Array<Object>} items\n * @param {Number} [windowId]\n * @returns {Array<Object>}\n */\nexports.getTabs = function (items, windowId) {\n    var existingUrls = {};\n    return items.reduce(function (list, item) {\n        if (isAcceptableAsTab(item, windowId, existingUrls)) {\n            existingUrls[item.url] = true;\n            list.push(item);\n        }\n        return list;\n    }, []);\n};\n\n/**\n * @param {Object} item\n * @returns {Boolean}\n */\nfunction isAcceptableAsWindow(item) {\n    return item.isWindow && item.domains && item.domains.length;\n}\n\n/**\n * @param {Object} item\n * @param {Number} windowId\n * @param {Array<String>} existingUrls\n * @returns {Boolean}\n */\nfunction isAcceptableAsTab(item, windowId, existingUrls) {\n    if (item.isWindow) {\n        return false;\n    }\n    if (windowId && item.windowId !== windowId) {\n        return false;\n    }\n    if (existingUrls[item.url]) {\n        return false;\n    }\n    return true;\n}\n\n/**\n * @param {Object} a\n * @param {Object} b\n * @returns {Boolean}\n */\nfunction compareByClosedTime(a, b) {\n    return b.closedTime - a.closedTime;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/closed-tabs/sorter.js","var baseSlice = require('../internal/baseSlice'),\n    isIterateeCall = require('../internal/isIterateeCall');\n\n/**\n * Creates a slice of `array` with `n` elements taken from the beginning.\n *\n * @static\n * @memberOf _\n * @category Array\n * @param {Array} array The array to query.\n * @param {number} [n=1] The number of elements to take.\n * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * _.take([1, 2, 3]);\n * // => [1]\n *\n * _.take([1, 2, 3], 2);\n * // => [1, 2]\n *\n * _.take([1, 2, 3], 5);\n * // => [1, 2, 3]\n *\n * _.take([1, 2, 3], 0);\n * // => []\n */\nfunction take(array, n, guard) {\n  var length = array ? array.length : 0;\n  if (!length) {\n    return [];\n  }\n  if (guard ? isIterateeCall(array, n, guard) : n == null) {\n    n = 1;\n  }\n  return baseSlice(array, 0, n < 0 ? 0 : n);\n}\n\nmodule.exports = take;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/array/take.js\n// module id = 324\n// module chunks = 1","/**\n * Logic for restoring tabs and windows\n */\n'use strict';\n\nvar browserInfo = require('../../utils/browser-info');\n\n/**\n * @param {Array<Object>} closedTabs\n * @param {Number} windowId\n * @param {Function} [callback]\n * @returns {Number} - index of restored window (or -1)\n */\nexports.restoreWindow = function (closedTabs, windowId, callback) {\n    for (var i = 0; i < closedTabs.length; i++) {\n        var tab = closedTabs[i];\n        if (tab.id === windowId) {\n            createWindow(tab.urls, tab.windowId, callback);\n            return i;\n        }\n    }\n    return -1;\n};\n\n/**\n * @param {Array<Object>} closedTabs\n * @param {String} tabId\n * @param {Function} [callback]\n * @returns {Number} - index of restored tab (or -1)\n */\nexports.restoreTab = function (closedTabs, tabId, callback) {\n    for (var i = 0; i < closedTabs.length; i++) {\n        var tab = closedTabs[i];\n        if (tab.id === tabId) {\n            createTab(tab.url, tabId, callback);\n            return i;\n        }\n    }\n    return -1;\n};\n\n/**\n * @param {Strign} url\n * @param {String} restoredTabId\n * @param {Function} [callback]\n */\nfunction createTab(url, restoredTabId, callback) {\n    chrome.tabs.create({url: url}, function (tab) {\n        if (callback) {\n            callback(chrome.runtime.lastError, restoredTabId, tab);\n        }\n    });\n}\n\n/**\n * @param {Array<String>} urls\n * @param {Number} restoredWinId\n * @param {Function} callback\n */\nfunction createWindow(urls, restoredWinId, callback) {\n    var createData = {url: urls};\n\n    // Property \"focused\" is unsupported by Firefox for windows.create.\n    if (!browserInfo.isFirefox()) {\n        createData.focused = true;\n    }\n\n    chrome.windows.create(createData, function (window) {\n        if (callback) {\n            callback(chrome.runtime.lastError, restoredWinId, window);\n        }\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/closed-tabs/restorator.js","/**\n * Logic for updating closet-tabs module state\n */\n'use strict';\n\nvar take = require('lodash/array/take');\nvar merge = require('lodash/object/merge');\nvar channel = require('../../utils/channel');\nvar urlUtils = require('../../utils/url');\nvar storage = require('./state-storage');\n\nvar CLOSED_TABS_LIMIT = 1000;\n\nexports.onUpdated = channel.create();\n\n/**\n * @param {Object} tab\n */\nexports.unshift = function (tab) {\n    var closedTabs = storage.get();\n    closedTabs.unshift(tab);\n    updateState(closedTabs);\n};\n\n/**\n * @param {Number} index\n */\nexports.remove = function (index) {\n    var closedTabs = storage.get();\n    if (index < closedTabs.length) {\n        closedTabs.splice(index, 1);\n        updateState(closedTabs);\n    }\n};\n\n/**\n * @returns {Array<Object>}\n */\nexports.get = function () {\n    return storage.get();\n};\n\nexports.clear = function () {\n    updateState([]);\n};\n\n/**\n * @param {Object} tab\n */\nexports.upsert = function (tab) {\n    var list = storage.get();\n\n    // Смотрим есть ли в списке аналогичный таб, если да, то мы достаем старую табу\n    // из списка, мержим в нее новую, и затем кладем старую табу назад в список.\n    // Нужно, чтобы сохранить порядок попадания закрытых табов в список\n    // https://st.yandex-team.ru/VB-5756\n    var existingTabIndex = findSameTabIndex(list, tab);\n    if (existingTabIndex !== -1) {\n        tab = merge(list.splice(existingTabIndex, 1)[0], tab);\n    }\n\n    list.unshift(tab);\n    updateState(list);\n};\n\n/**\n * Removes all tabs with specified window id and closedWithWindow = true\n * @param {Number} windowId\n * @returns {Array<Object>} - list of tabs with specified windowId\n */\nexports.removeClosedWithWindowTabs = function (windowId) {\n    var tabs = storage.get();\n    var result = {windowTabs: [], restTabs: []};\n    result.restTabs = tabs.filter(function (tab) {\n        if (isTabClosedWithWindow(tab, windowId)) {\n            result.windowTabs.push(tab);\n            return false;\n        }\n        return true;\n    });\n    updateState(result.restTabs);\n    return result.windowTabs;\n};\n\n/**\n * @param {Number} oldId\n * @param {Number} newId\n */\nexports.replaceWindowIds = function (oldId, newId) {\n    var tabs = storage.get();\n    tabs.forEach(function (tab) {\n        if (tab.windowId === oldId) {\n            tab.windowId = newId;\n        }\n    });\n    updateState(tabs);\n};\n\n/**\n * @param {Array<Object>} list\n * @param {Object} tab\n * @returns {number}\n */\nfunction findSameTabIndex(list, tab) {\n    for (var i = 0; i < list.length; i++) {\n        var existingTab = list[i];\n        if (isSameTabs(existingTab, tab)) {\n            return i;\n        }\n    }\n    return -1;\n}\n\n/**\n * @param {Object} tab1\n * @param {Object} tab2\n * @returns {Boolean}\n */\nfunction isSameTabs(tab1, tab2) {\n    return tab1.windowId === tab2.windowId &&\n        urlUtils.isEqualUrls(tab1.url, tab2.url);\n}\n\n/**\n * @param {Object} tab\n * @param {Number} windowId\n * @returns {Boolean}\n */\nfunction isTabClosedWithWindow(tab, windowId) {\n    return tab.windowId === windowId && tab.closedWithWindow;\n}\n\n/**\n * @param {Array<Object>} closedTabs\n */\nfunction updateState(closedTabs) {\n    closedTabs = take(closedTabs, CLOSED_TABS_LIMIT);\n    storage.set(closedTabs);\n    exports.onUpdated.dispatch(closedTabs);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/closed-tabs/state.js","/**\n * Storage for closed tabs/windows\n */\n'use strict';\n\nvar settings = require('../settings/settings');\nvar debounce = require('lodash/function/debounce');\n\nvar CLOSED_TABS_PREF = 'closedTabs';\nvar STORE_DELAY_TIME = 1000;\n\nvar cache = null;\n\nvar storeCacheDelayed = debounce(function () {\n    settings.set(CLOSED_TABS_PREF, cache);\n}, STORE_DELAY_TIME);\n\nexports.get = function () {\n    if (!cache) {\n        cache = settings.get(CLOSED_TABS_PREF) || [];\n    }\n    return cache;\n};\n\nexports.set = function (tabs) {\n    cache = tabs;\n    storeCacheDelayed();\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/closed-tabs/state-storage.js","/**\n * Experiments module\n */\n'use strict';\n\nvar settings = require('../settings/settings');\nvar Experimentator = require('yandex-elements-core/experiments/experimentator');\nvar Experiment = require('yandex-elements-core/experiments/experiment');\nvar platformConfigure = require('../../platform/configure');\nvar alarms = require('../../utils/alarms');\nvar runstate = require('../startup/runstate');\nvar actualConfigs = require('./actual-configs');\nvar logger = require('../../utils/logger').create('Experiments');\nvar _ = require('lodash');\n\nvar EXPERIMENTS_PREF = 'experiments';\n\n// Раз в сутки проверяем актуальность экспериментов\nvar ALARM = {\n    name: 'experiments',\n    periodInMinutes: 60 * 24\n};\n\n/**\n * Init\n */\nexports.init = function () {\n    alarms.register(ALARM, removeOutdatedExperiments);\n    if (runstate.isInstall()) {\n        install();\n    }\n    if (runstate.isUpgrade()) {\n        upgrade();\n    }\n    logExistingExperiments();\n};\n\n/**\n * Returns actual experiments\n * @returns {Array<Experiment>}\n */\nexports.getExperimentsList = function () {\n    var experiments = settings.get(EXPERIMENTS_PREF);\n    if (Array.isArray(experiments)) {\n        return experiments.map(function (data) {\n            return new Experiment(data);\n        });\n    } else {\n        return [];\n    }\n};\n\n/**\n * Search actual experiment with given name and returns its data\n * @param {String} experimentName\n * @returns {Object|null}\n */\nexports.getExperimentData = function (experimentName) {\n    var experiment = _.find(this.getExperimentsList(), {name: experimentName});\n    return experiment ? experiment.data : null;\n};\n\n/**\n * Read configs and create experiments from it\n */\nfunction install() {\n    var configs = actualConfigs.get();\n    var existing = [];\n    var experiments = new Experimentator().createExperiments(configs, existing, {isInstall: true});\n    store(experiments);\n}\n\n/**\n * Read configs\n * Read current experiments and remove non-actual\n * Merge configs with experiments and save new experiments\n */\nfunction upgrade() {\n    var configs = actualConfigs.get();\n    var existing = exports.getExperimentsList();\n    var experiments = new Experimentator().createExperiments(configs, existing, {isInstall: false});\n    store(experiments);\n}\n\n/**\n * Store actual experiments\n * @param {Array<Experiment>} experiments\n */\nfunction store(experiments) {\n    settings.set(EXPERIMENTS_PREF, experiments);\n    platformConfigure({experiments: experiments});\n}\n\n/**\n * Remove outdated experiments\n */\nfunction removeOutdatedExperiments() {\n    var experiments = exports.getExperimentsList();\n    var filtered = new Experimentator().getActualExistingExperiments(experiments, actualConfigs.get());\n    store(filtered);\n}\n\n/**\n * Log existing experiments\n */\nfunction logExistingExperiments() {\n    logger.info('Selected experiments: %j', exports.getExperimentsList());\n    logger.info('Possible experiments: %j', actualConfigs.get());\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/experiments/index.js","/**\n * Provides logic for creating experiment objects from experiments configs.\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _experiment = require('./experiment');\n\nvar _experiment2 = _interopRequireDefault(_experiment);\n\nvar Experimentator = (function () {\n    function Experimentator() {\n        _classCallCheck(this, Experimentator);\n    }\n\n    /**\n     * @param {ExperimentConfig} config\n     */\n\n    _createClass(Experimentator, [{\n        key: 'createExperiments',\n\n        /**\n         * Creates new experiments or returns actual existing experiments\n         * Experiment actual exists if its testId is in current configs and experiment is not disabled by date\n         * Such logic allows us to carry out multiple experiments simultaneously\n         * @param {Array<ExperimentConfig>} experimentConfigs\n         * @param {Array<Experiment>} [existingExperiments]\n         * @param {Object} options\n         * @param {Boolean} options.isInstall\n         * @returns {Array<Experiment>}\n         */\n        value: function createExperiments(experimentConfigs, existingExperiments, options) {\n            if (existingExperiments === undefined) existingExperiments = [];\n\n            var actualExistingExperiments = this.getActualExistingExperiments(existingExperiments, experimentConfigs);\n            if (actualExistingExperiments.length) {\n                return actualExistingExperiments;\n            }\n            var newExperiment = this.createNewExperiment(experimentConfigs, options);\n            return newExperiment ? [newExperiment] : [];\n        }\n\n        /**\n         * Creates new experiment from configs.\n         * Exclude existing experiments, outdated and disabled by runState\n         * Perform selection of single experiment using percentage\n         *\n         * @param {Array<ExperimentConfig>} experimentConfigs\n         * @param {Object} options\n         * @param {Boolean} options.isInstall\n         * @returns {Array<Experiment>}\n         */\n    }, {\n        key: 'createNewExperiment',\n        value: function createNewExperiment(experimentConfigs, options) {\n            var actualExperimentConfigs = experimentConfigs.filter(function (config) {\n                return !isDisabledByRunState(config, options.isInstall);\n            }).filter(function (config) {\n                return !isDisabledByTime(config);\n            });\n\n            assertPercentSum(actualExperimentConfigs);\n\n            var filtered = filterByPercent(actualExperimentConfigs);\n            return filtered.length ? this._createExperiment(filtered[0]) : null;\n        }\n\n        /**\n         * Returns existing experiments filtered by time and testId\n         * @param {Array<Experiment>} existingExperiments\n         * @param {Array<ExperimentConfig>} experimentConfigs\n         * @returns {Array<Experiment>}\n         */\n    }, {\n        key: 'getActualExistingExperiments',\n        value: function getActualExistingExperiments(existingExperiments, experimentConfigs) {\n            return existingExperiments.filter(function (experiment) {\n                return !isDisabledByTime(experiment.config);\n            }).filter(function (experiment) {\n                return isExperimentTestIdInConfigs(experiment, experimentConfigs);\n            });\n        }\n\n        /**\n         * @param {Object} config\n         * @returns {Experiment}\n         */\n    }, {\n        key: 'createExperimentInstance',\n        value: function createExperimentInstance(config) {\n            return new _experiment2['default'](config);\n        }\n\n        /**\n         * @param {ExperimentConfig} config\n         * @returns {Experiment}\n         */\n    }, {\n        key: '_createExperiment',\n        value: function _createExperiment(config) {\n            var _chooseExperiment = chooseExperiment(config.types);\n\n            var _chooseExperiment2 = _slicedToArray(_chooseExperiment, 2);\n\n            var testId = _chooseExperiment2[0];\n            var testData = _chooseExperiment2[1];\n\n            return this.createExperimentInstance({\n                name: config.name,\n                testId: testId,\n                data: testData,\n                bucket: generateBucket(),\n                config: config\n            });\n        }\n    }]);\n\n    return Experimentator;\n})();\n\nexports['default'] = Experimentator;\nfunction isDisabledByTime(config) {\n    var now = Date.now();\n    return now < config.startTime || now > config.endTime;\n}\n\n/**\n * Returns random pair [testId, data] from passed map.\n * @param {Object} expTypes - {testId: testData} map\n * @returns {[String, *]}\n */\nfunction chooseExperiment(expTypes) {\n    var idList = Object.keys(expTypes);\n    var variantsCount = idList.length;\n    var testId = idList[Math.floor(Math.random() * variantsCount)];\n    return [testId, expTypes[testId]];\n}\n\n/**\n * Just random number form 1 to 100. Only for stats.\n * @returns {Number}\n */\nfunction generateBucket() {\n    return Math.floor(1 + Math.random() * 100);\n}\n\n/**\n * Looks on `percent` property of configs and selects one.\n * @param {Array<ExperimentConfig>} configs\n */\nfunction filterByPercent(configs) {\n    var random = getRandomPercent();\n    var upper = 0;\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = configs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var config = _step.value;\n\n            upper += config.percent;\n            if (random <= upper) {\n                return [config];\n            }\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator['return']) {\n                _iterator['return']();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n\n    return [];\n}\n\n/**\n * @param {ExperimentConfig} expConfig\n * @param {Boolean} isInstall\n * @returns {Boolean}\n */\nfunction isDisabledByRunState(expConfig, isInstall) {\n    return expConfig.installOnly && !isInstall;\n}\n\n/**\n * @returns {Number} from 0 to 100\n */\nfunction getRandomPercent() {\n    return Math.random() * 100;\n}\n\n/**\n * Sum of percent should be <= 100\n * @param {Array<ExperimentConfig>} configs\n */\nfunction assertPercentSum(configs) {\n    var sum = configs.reduce(function (res, config) {\n        return res + config.percent;\n    }, 0);\n    if (sum > 100) {\n        throw new Error('Experiments percent sum must be <= 100, you have: ' + sum);\n    }\n}\n\n/**\n * Is experiment's testId contained in configs types\n * @param {Experiment} experiment\n * @param {Array<ExperimentConfig>} configs\n */\nfunction isExperimentTestIdInConfigs(experiment, configs) {\n    return configs.some(function (config) {\n        return String(experiment.testId) in config.types;\n    });\n}\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/yandex-elements-core/experiments/experimentator.js\n// module id = 329\n// module chunks = 1","/**\n * Describes experiment object\n */\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Experiment =\n/**\n * @param {Object} params\n * @param {String} params.name\n * @param {Number} params.testId\n * @param {Number} params.bucket\n * @param {Object} params.data\n * @param {ExperimentConfig} params.config\n */\nfunction Experiment(params) {\n  _classCallCheck(this, Experiment);\n\n  this.name = params.name;\n  this.testId = params.testId;\n  this.bucket = params.bucket;\n  this.data = params.data;\n  this.config = params.config;\n};\n\nexports[\"default\"] = Experiment;\nmodule.exports = exports[\"default\"];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/yandex-elements-core/experiments/experiment.js\n// module id = 330\n// module chunks = 1","/**\n * Разные кастомные действия/конфигурации платформы\n */\n'use strict';\n\nvar platformBranding = require('./branding');\nvar fileDownloader = require('./file-downloader');\nvar softExport = require('../modules/statistics/soft-export');\nvar barNavig = require('../modules/statistics/bar-navig');\nvar about = require('./about');\n\nvar logger = require('../utils/logger').create('Platform/configure');\n\n/**\n * @see https://github.yandex-team.ru/desktop/docs/blob/master/visbookmarks-backend/platform.md\n */\nmodule.exports = function (params) {\n    params = params || {};\n\n    if (params.branding) {\n        platformBranding.init();\n    }\n\n    // инициализируем file-downloader: добавляем метод download в platform/file-storage\n    if (params.fileDownloader) {\n        fileDownloader.init();\n    }\n\n    if (params.softExport === 'init') {\n        softExport.init();\n    } else if (params.softExport === 'send') {\n        softExport.send();\n    } else if (params.softExport === 'setUninstallURL') {\n        var url = softExport.getGoodbyePageUrl();\n        setUninstallUrl(url);\n    }\n\n    if (params.barNavig === 'init') {\n        barNavig.init();\n    }\n\n    if (params.browserAction) {\n        setBrowserAction();\n    }\n};\n\nfunction setUninstallUrl(url) {\n    try {\n        chrome.runtime.setUninstallURL(url);\n        logger.info('Set uninstallUrl: %s', url);\n    } catch (e) {\n        logger.error('Can not set uninstallUrl: %j', e);\n    }\n}\n\n// https://st.yandex-team.ru/VB-5616\nfunction setBrowserAction() {\n    chrome.action.onClicked.addListener(function () {\n        chrome.tabs.create({url: about.visbookmarksUrl, active: true});\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./platform/configure.js","/**\n * Downloading files\n */\n'use strict';\n\nvar fs = require('../platform/file-storage');\nvar xhr = require('../utils/xhr');\nvar logger = require('../utils/logger').create('file-downloader');\nvar formatMessage = require('../utils/format-message');\n\nvar MAX_DOWNLOAD_TIMEOUT_MS = 1000 * 30;\n\n/**\n * Дописывает метод download к file-storage\n * Приходится так делать, чтобы избежать циклических зависимостей\n */\nexports.init = function () {\n    fs.download = exports.download;\n};\n\n/**\n * Скачивает файл с интернета\n * @param {string} url - урл с которого скачиваются данные\n * @param {string} fileName - имя файла куда записываются данные.\n * @param {function} callback - функция с параметрами\n *   {object} error\n */\nexports.download = function (url, fileName, callback) {\n    var options = {url: url, fileName: fileName, callback: callback};\n    xhr({\n        url: url,\n        timeout: MAX_DOWNLOAD_TIMEOUT_MS,\n        parse: 'blob',\n    }, function (err, response) {\n        // TODO: purify\n        if (err) {\n            onDownloadError(options, err);\n        } else if (response.size > 0) {\n            onDownloadSuccess(options, response);\n        } else {\n            onDownloadEmpty(options);\n        }\n    }, this);\n};\n\nfunction onDownloadSuccess(options, response) {\n    // Convert blob to data url to send it\n    // to the offscreen page afterwards.\n    const reader = new FileReader();\n    reader.onload = (event) => {\n        onDownloadSuccessInternal(options, event.target.result);\n    };\n    reader.onerror = (err) => {\n        options.callback(err);\n    };\n    reader.readAsDataURL(response);\n}\n\nfunction onDownloadSuccessInternal(options, response) {\n    fs.createDirectory(options.fileName, function () {\n        fs.write(options.fileName, response, options.callback);\n    }, options.callback);\n}\n\nfunction onDownloadEmpty(options) {\n    var message = formatMessage('Empty response for url: %s', options.url);\n    logger.error(message);\n    options.callback(new Error(message));\n}\n\nfunction onDownloadError(options, err) {\n    var message = formatMessage(\n        'Download of %s failed for url: %s, with error: %s',\n        options.fileName,\n        options.url,\n        err.message\n    );\n    logger.error(message);\n    options.callback(new Error(message));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./platform/file-downloader.js","/**\n * Отправляет soft-export статистику (INSTALL, DAYUSE и UNINSTALL)\n * Этот модуль пока используется только в Хроме, но лежит в общих модулях, т.к. в будущем будет везде\n */\n\n'use strict';\n\nvar utils = require('../../utils/utils');\nvar urlUtils = require('../../utils/url');\nvar platform = require('../../platform');\nvar platformAbout = require('../../platform/about');\nvar platformBuildInfo = require('../../platform/build-info');\nvar i18n = require('../i18n');\nvar platformClid = require('../../platform/clid');\nvar branding = require('../branding');\nvar DayusePoller = require('./dayuse-poller');\nvar xhr = require('../../utils/xhr');\nvar logger = require('../../utils/logger').create('Statistics/soft-export');\nvar settings = require('../settings/settings');\nvar bannerId = require('../cookies/bannerid');\n\nvar INSTALL_SETTING = 'appInstallTime';\nvar STAT_URL = 'https://soft.export.yandex.ru/status.xml';\nvar LAST_SENDING_TIME_SETTING = 'lastDayUseSendTime';\nvar MAX_GOODBYE_URL_LENGTH = 255; // @see https://developer.chrome.com/extensions/runtime#method-setUninstallURL\n\nvar poller;\n\nexports.init = function () {\n    poller = new DayusePoller(LAST_SENDING_TIME_SETTING);\n    poller.onTrigger.addListener(exports.send);\n};\n\n/**\n * Отправляет install || dayuse.\n * Определяется динамически, в зависимости от того, смогли мы уже отправить install или нет.\n */\nexports.send = function () {\n    var lastSendTime = poller.getLastSendTime();\n    var stat = lastSendTime ? 'dayuse' : 'install';\n    var params = exports.getParams(stat);\n    var url = urlUtils.createURI(STAT_URL).setSearch(params).toString();\n    logger.info('Sending %s to %s', stat, url);\n    xhr({url: url}, function (error) {\n        if (error) {\n            logger.error('Error while sending: %s', error.message);\n        } else {\n            poller.updateLastSendTime();\n        }\n    });\n};\n\n/**\n * Параметры для отправки\n */\nexports.getParams = function (stat) {\n    var installTime = settings.get(INSTALL_SETTING);\n    var output = {\n        stat: stat,\n        ui: platform.guid,\n        ver: platformBuildInfo.getVersion(),\n        lang: i18n.locale,\n        bv: utils.browserInfo.version,\n        os: utils.browserInfo.os === 'win' ? 'winnt' : (utils.browserInfo.os === 'mac' ? 'darwin' : ''),\n        yasoft: platformAbout.yasoft,\n        gchid: platformAbout.extensionId, // https://st.yandex-team.ru/VB-6179\n        brandID: branding.vars.regionId,\n        fd: utils.formatDate(new Date(installTime * 1000), '%Y.%M.%D'),\n    };\n\n    var lastSendTime = poller.getLastSendTime();\n    if (lastSendTime) {\n        output.tl = lastSendTime;\n    }\n\n    // В Chrome отправляем только портальный клид, не коммерческий.\n    // В Firefox отправляем любой клид.\n    // VB-5016\n    var clid = utils.browserInfo.isFirefox() ? platformClid.getByNumber(1) : platformClid.getPortalClidByNumber(1);\n    if (clid) {\n        output.clid = clid;\n    }\n\n    var bannerIdValue = bannerId.getBannerId();\n    if (bannerIdValue) {\n        output.bnrd = bannerIdValue;\n    }\n\n    return output;\n};\n\n/**\n * Возвращает goodbyePage url\n */\nexports.getGoodbyePageUrl = function () {\n    var url = branding.settings.goodbyeUrl;\n    var uri = urlUtils.createURI(url);\n    if (!uri) {\n        return '';\n    }\n    uri.setSearch(exports.getParams('uninstall'));\n    // Обрезаем параметры урла, чтобы он вписался в 255 символов\n    // @see https://st.yandex-team.ru/VB-6179#1520247731000\n    var paramsToTrim = ['os', 'brandID', 'bnrd', 'gchid', 'ver', 'bv', 'lang', 'fd', 'clid'];\n    var index = 0;\n    while (uri.toString().length > MAX_GOODBYE_URL_LENGTH && index < paramsToTrim.length) {\n        uri.removeSearch(paramsToTrim[index++]);\n    }\n    return uri.toString();\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/statistics/soft-export.js","'use strict';\n\nvar settings = require('../modules/settings/settings');\nvar miscUtils = require('../utils/misc');\n\nvar logger = require('../utils/logger').create('Platform');\n\nvar GUID_SETTING = 'statUID';\n\nmodule.exports = {\n    /**\n     * Возвращает уникальный идентификатор клиента (в фигурных скобках)\n     * @return {string}\n     */\n    get guid() {\n        var guid = settings.get(GUID_SETTING);\n        if (!guid) {\n            guid = '{' + miscUtils.guid() + '}';\n            settings.set(GUID_SETTING, guid);\n            logger.info('Generated guid: %s', guid);\n        }\n        return guid;\n    },\n\n    /**\n     * Возвращает дополнительные данные для бар-навига\n     * В хроме работает через content-script\n     * @param {object} options\n     * @param {int} options.tabId\n     * @param {bool} options.isYandexHost\n     */\n    getBarnavigParams: function (options, callback) {\n        if (!options) {\n            callback();\n            return;\n        }\n        chrome.tabs.sendMessage(options.tabId, {\n            contentScriptAction: 'getBarnavigParams',\n            isYandexHost: options.isYandexHost\n        }, callback);\n    },\n\n    /**\n     * Export data for yandex browser VB-5584\n     * @param {Object} data\n     */\n    export: function (data) {\n        chrome.storage.local.set({ybimport: data});\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./platform/index.js","/**\n * Класс для отправки dayuse статистики после 3 часов\n * В конструкторе передается имя настройки, куда писать дату последней успешной отправки\n */\n'use strict';\n\nvar settings = require('../settings/settings');\nvar alarms = require('../../utils/alarms');\nvar channel = require('../../utils/channel');\nvar dayuseHelper = require('./dayuse-helper');\n\nvar ALARM = {\n    name: 'dayusePoll',\n    periodInMinutes: 60,\n    delayInMinutes: 1,\n};\n\n// static methods\nDayusePoller.onPoll = channel.create();\nDayusePoller.init = function () {\n    alarms.register(ALARM, function () {\n        DayusePoller.onPoll.dispatch();\n    });\n};\n\n/**\n * @constructor\n */\nfunction DayusePoller(settingName) {\n    this._settingName = settingName;\n    this.onTrigger = channel.create();\n    DayusePoller.onPoll.addListener(this._tryTrigger.bind(this));\n}\n\n/**\n * Updates ts in settings\n */\nDayusePoller.prototype.updateLastSendTime = function () {\n    settings.set(this._settingName, Math.floor(Date.now() / 1000));\n};\n\n/**\n * Returns last send time (in seconds)\n */\nDayusePoller.prototype.getLastSendTime = function () {\n    return settings.get(this._settingName);\n};\n\n/**\n * Checks ability to send statistics\n * Check based on lastTime and end of statistics day time\n */\nDayusePoller.prototype._tryTrigger = function () {\n    var lastSendTime = settings.get(this._settingName);\n    if (!lastSendTime || lastSendTime < dayuseHelper.getEndOfDayTime()) {\n        this.onTrigger.dispatch();\n    }\n};\n\nmodule.exports = DayusePoller;\n\n\n\n// WEBPACK FOOTER //\n// ./modules/statistics/dayuse-poller.js","/**\n * Содержит утилитарные методы для dayuse статистики\n */\n'use strict';\n\nvar settings = require('../settings/settings');\nvar INSTALL_SETTING = 'appInstallTime';\nvar SECONDS_IN_DAY = 60 * 60 * 24;\nvar END_OF_STAT_DAY_HOUR = 3;\n\n/**\n * Returns timestamp that represent end of the previous day (at 3:00)\n * @param {Number} timestampSec - unix timestamp (in seconds)\n * @returns {Number} - unix timestamp (in seconds)\n */\nexports.getEndOfDayTime = function (timestampSec) {\n    var now = isNaN(timestampSec) ? new Date() : new Date(timestampSec * 1000);\n    var dateNumber = now.getHours() < END_OF_STAT_DAY_HOUR ? now.getDate() - 1 : now.getDate();\n    var treeAMDate = new Date(now.getFullYear(), now.getMonth(), dateNumber, END_OF_STAT_DAY_HOUR).getTime();\n    return parseInt(treeAMDate / 1000, 10);\n};\n\n/**\n * Returns amount of days from install date\n * @returns {Number}\n */\nexports.getDayuseCount = function () {\n    var installTime = settings.get(INSTALL_SETTING);\n    var now = Date.now() / 1000;\n    var endOfInstallDayTime = exports.getEndOfDayTime(installTime);\n    return Math.floor((now - endOfInstallDayTime) / SECONDS_IN_DAY);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/statistics/dayuse-helper.js","/**\n * Модуль для работы с banner-id\n *\n * Для тестирования bannerid:\n * 1. зайти на yandex.ru\n * 2. выполнить в адресной строке: javascript:document.cookie='ys=bnrd.12345;domain=yandex.ru';\n */\n'use strict';\n\nvar logger = require('../../utils/logger').create('cookies bannerid');\nvar settings = require('../settings/settings');\nvar branding = require('../branding');\nvar BannerID = require('yandex-elements-core/cookies/banner-id');\nvar YsCookie = require('yandex-elements-core/cookies/ys-cookie');\n\nvar BANNER_ID_PREF = 'bannerid';\n\n/**\n * @returns {Promise}\n */\nexports.processCookie = function () {\n    var bannerId = exports.getBannerId();\n    return bannerId\n        ? Promise.resolve(bannerId)\n        : createBannerId().run().then(saveBannerId);\n};\n\n/**\n * @returns {String}\n */\nexports.getBannerId = function () {\n    return settings.get(BANNER_ID_PREF);\n};\n\n/**\n * @returns {BannerID}\n */\nfunction createBannerId() {\n    var domains = branding.bannerid.domains.map(function (domain) {\n        return branding.expandUrl(domain);\n    });\n    logger.info('Search bannerid in ys cookie on domains: %s', domains.join(', '));\n    return new BannerID({domainsQueue: domains}, YsCookie);\n}\n\n/**\n * @param {String} [bannerId]\n */\nfunction saveBannerId(bannerId) {\n    logger.info('Banner id value from cookie: %s', bannerId);\n    if (bannerId) {\n        settings.set(BANNER_ID_PREF, bannerId);\n    }\n    return bannerId;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/cookies/bannerid.js","/**\n * @overview Модуль для работы с bannerid в контейнере ys\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodashObjectDefaults = require('lodash/object/defaults');\n\nvar _lodashObjectDefaults2 = _interopRequireDefault(_lodashObjectDefaults);\n\nvar _lodashCollectionFilter = require('lodash/collection/filter');\n\nvar _lodashCollectionFilter2 = _interopRequireDefault(_lodashCollectionFilter);\n\nvar _lodashCollectionFind = require('lodash/collection/find');\n\nvar _lodashCollectionFind2 = _interopRequireDefault(_lodashCollectionFind);\n\nvar DEFAULT_OPTIONS = {\n    cookieName: 'ys',\n    cookiePart: 'bnrd'\n};\n\nvar BannerID = (function () {\n    /**\n     * @param {Object} options\n     * @param {Array<String>} options.domainsQueue\n     * @param {String} [options.cookieName] - default value is 'ys'\n     * @param {String} [options.cookiePart] - default value is 'bnrd'\n     * @param {YsCookie} YsCookie\n     * @constructor\n     */\n\n    function BannerID(options, YsCookie) {\n        _classCallCheck(this, BannerID);\n\n        options = (0, _lodashObjectDefaults2['default'])(options, DEFAULT_OPTIONS);\n        this._cookieName = options.cookieName;\n        this._cookiePart = options.cookiePart;\n        this._domainsQueue = options.domainsQueue;\n        this._YsCookie = YsCookie;\n    }\n\n    /**\n     * Process bannerIdCookie cookie,\n     * retrieves bannerId value from it,\n     * cleans bannerIdCookie.\n     * @returns {Promise<String|null>}\n     */\n\n    _createClass(BannerID, [{\n        key: 'run',\n        value: function run() {\n            var cookies = this._createCookiesForDomains();\n            return this._updateBannerId(cookies);\n        }\n\n        /**\n         * @returns {Array<YsCookie>}\n         */\n    }, {\n        key: '_createCookiesForDomains',\n        value: function _createCookiesForDomains() {\n            var _this = this;\n\n            return this._domainsQueue.map(function (domain) {\n                return new _this._YsCookie(domain);\n            });\n        }\n\n        /**\n         * @param {Array<YsCookie>} cookies\n         * @returns {Promise<String|null>}\n         * @private\n         */\n    }, {\n        key: '_updateBannerId',\n        value: function _updateBannerId(cookies) {\n            var _this2 = this;\n\n            return this._getBannerIdValues(cookies).then(function (results) {\n                var _iteratorNormalCompletion = true;\n                var _didIteratorError = false;\n                var _iteratorError = undefined;\n\n                try {\n                    var _loop = function () {\n                        var domain = _step.value;\n\n                        var data = _this2._findCookieForDomain(domain, results);\n                        if (data) {\n                            return {\n                                v: data.cookie.deletePart(_this2._cookiePart).then(function () {\n                                    return Promise.resolve(data.bannerId);\n                                })\n                            };\n                        }\n                    };\n\n                    for (var _iterator = _this2._domainsQueue[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var _ret = _loop();\n\n                        if (typeof _ret === 'object') return _ret.v;\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator['return']) {\n                            _iterator['return']();\n                        }\n                    } finally {\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n\n                return Promise.resolve(null);\n            });\n        }\n\n        /**\n         * @param {Array<YsCookie>} cookies\n         * @returns {Promise}\n         */\n    }, {\n        key: '_getBannerIdValues',\n        value: function _getBannerIdValues(cookies) {\n            var _this3 = this;\n\n            var tasks = cookies.map(function (cookie) {\n                return cookie.getValue(_this3._cookiePart).then(function (bannerId) {\n                    return { cookie: cookie, bannerId: bannerId };\n                });\n            });\n            return Promise.all(tasks).then(function (values) {\n                return (0, _lodashCollectionFilter2['default'])(values, 'bannerId');\n            });\n        }\n\n        /**\n         * @param {String} domain\n         * @param {Object} data\n         * @returns {Object|undefined}\n         */\n    }, {\n        key: '_findCookieForDomain',\n        value: function _findCookieForDomain(domain, data) {\n            return (0, _lodashCollectionFind2['default'])(data, function (result) {\n                return result.cookie.domain === domain;\n            });\n        }\n    }]);\n\n    return BannerID;\n})();\n\nexports['default'] = BannerID;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/yandex-elements-core/cookies/banner-id.js\n// module id = 338\n// module chunks = 1","/**\n * Representation of ys cookie\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _thenChrome = require('then-chrome');\n\nvar _thenChrome2 = _interopRequireDefault(_thenChrome);\n\nvar _lodashCollectionFind = require('lodash/collection/find');\n\nvar _lodashCollectionFind2 = _interopRequireDefault(_lodashCollectionFind);\n\nvar _ysSerializer = require('./ys-serializer');\n\nvar _ysSerializer2 = _interopRequireDefault(_ysSerializer);\n\nvar YS_COOKIE_NAME = 'ys';\nvar YS_COOKIE_PROTOCOL = 'https';\n\nvar YsCookie = (function () {\n    /**\n     * @constructor\n     * @param {String} domain\n     */\n\n    function YsCookie(domain) {\n        _classCallCheck(this, YsCookie);\n\n        this.domain = domain;\n        this.name = YS_COOKIE_NAME;\n        this.protocol = YS_COOKIE_PROTOCOL;\n        this._ysSerializer = new _ysSerializer2['default']();\n    }\n\n    /**\n     * Returns chrome.cookies.Cookie instance\n     * @returns {Promise<chrome.cookies.Cookie>}\n     */\n\n    _createClass(YsCookie, [{\n        key: 'getCookie',\n        value: function getCookie() {\n            var params = {\n                domain: this.domain,\n                name: this.name\n            };\n            return _thenChrome2['default'].cookies.getAll(params).then(this._getFirstCookie.bind(this));\n        }\n\n        /**\n         * Adds passed key+value to cookie value.\n         * Creates new cookie, if needed\n         * @param {String} key\n         * @param {String} value\n         * @returns {Promise<String>} - promise with new cookie value\n         */\n    }, {\n        key: 'addPart',\n        value: function addPart(key, value) {\n            var _this = this;\n\n            return this.getCookie().then(function (cookie) {\n                var existingValue = cookie ? cookie.value : '';\n                var newValue = _this._ysSerializer.addPart(existingValue, key, value);\n                return _this._saveIfChanged(newValue, existingValue, key);\n            });\n        }\n\n        /**\n         * Deletes passed key (with value) from cookie\n         * @param {String} key\n         * @returns {Promise<String|null>} - promise with new cookie value\n         */\n    }, {\n        key: 'deletePart',\n        value: function deletePart(key) {\n            var _this2 = this;\n\n            return this.getCookie().then(function (cookie) {\n                if (cookie) {\n                    var existingValue = cookie.value;\n                    var newValue = _this2._ysSerializer.deletePart(existingValue, key);\n                    return _this2._saveIfChanged(newValue, existingValue, key);\n                }\n                return null;\n            });\n        }\n\n        /**\n         * Updates passed key with new value\n         * @param {String} key\n         * @param {String} value\n         * @returns {Promise<String|null>} - promise with new cookie value\n         */\n    }, {\n        key: 'updatePart',\n        value: function updatePart(key, value) {\n            var _this3 = this;\n\n            return this.getCookie().then(function (cookie) {\n                if (cookie) {\n                    var existingValue = cookie.value;\n                    var newValue = _this3._ysSerializer.updatePart(existingValue, key, value);\n                    return _this3._saveIfChanged(newValue, existingValue, key);\n                }\n                return null;\n            });\n        }\n\n        /**\n         * If passed key already exist - updates it,\n         * if not - adds new key and value.\n         * Creates new cookie, if needed\n         * @param {String} key\n         * @param {String} value\n         * @returns {Promise<String>} - promise with new cookie value\n         */\n    }, {\n        key: 'upsertPart',\n        value: function upsertPart(key, value) {\n            var _this4 = this;\n\n            return this.getCookie().then(function (cookie) {\n                var existingValue = cookie ? cookie.value : '';\n                var newValue = _this4._ysSerializer.upsertPart(existingValue, key, value);\n                return _this4._saveIfChanged(newValue, existingValue, key);\n            });\n        }\n\n        /**\n         * Returns promise with requested value\n         * @param {String} key\n         * @returns {Promise<String|null>}\n         */\n    }, {\n        key: 'getValue',\n        value: function getValue(key) {\n            var _this5 = this;\n\n            return this.getCookie().then(function (cookie) {\n                if (cookie) {\n                    return _this5._ysSerializer.getValue(cookie.value, key);\n                }\n                return null;\n            });\n        }\n\n        /**\n         * @param {String} newCookieValue\n         * @param {String} oldCookieValue\n         * @param {String} changedPart\n         * @returns {Promise<String>}\n         */\n    }, {\n        key: '_saveIfChanged',\n        value: function _saveIfChanged(newCookieValue, oldCookieValue, changedPart) {\n            if (this._ysSerializer.isPartChanged(newCookieValue, oldCookieValue, changedPart)) {\n                return this._saveCookie(newCookieValue);\n            } else {\n                return Promise.resolve(newCookieValue);\n            }\n        }\n\n        /**\n         * @param {String} cookieValue\n         * @returns {Promise<String>}\n         */\n    }, {\n        key: '_saveCookie',\n        value: function _saveCookie(cookieValue) {\n            return this._setCookie(cookieValue).then(function () {\n                return Promise.resolve(cookieValue);\n            });\n        }\n\n        /**\n         * @param {Array<chrome.cookies.Cookie>} cookies\n         * @returns {chrome.cookies.Cookie}\n         */\n    }, {\n        key: '_getFirstCookie',\n        value: function _getFirstCookie(cookies) {\n            return (0, _lodashCollectionFind2['default'])(cookies, function (cookie) {\n                return cookie.hostOnly === false;\n            }) || cookies[0];\n        }\n\n        /**\n         * @param {String} cookieValue\n         * @returns {Promise<chrome.cookies.Cookie>}\n         */\n    }, {\n        key: '_setCookie',\n        value: function _setCookie(cookieValue) {\n            return _thenChrome2['default'].cookies.set({\n                url: this.protocol + '://' + this.domain.replace(/^\\./, '') + '/',\n                domain: this.domain,\n                name: this.name,\n                value: cookieValue\n            });\n        }\n    }]);\n\n    return YsCookie;\n})();\n\nexports['default'] = YsCookie;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/yandex-elements-core/cookies/ys-cookie.js\n// module id = 339\n// module chunks = 1","/**\n * @overview Модуль для работы с контейнерами кук ys\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodashObjectDefaults = require('lodash/object/defaults');\n\nvar _lodashObjectDefaults2 = _interopRequireDefault(_lodashObjectDefaults);\n\nvar DEFAULT_OPTIONS = {\n    partsDelimiter: '#',\n    keyValueDelimiter: '.'\n};\n\nvar YsSerializer = (function () {\n    /**\n     * @param {Object} [options]\n     * @param {String} [options.partsDelimiter] - default value is '#'\n     * @param {String} [options.keyValueDelimiter] - default value is '.'\n     * @constructor\n     */\n\n    function YsSerializer(options) {\n        _classCallCheck(this, YsSerializer);\n\n        options = (0, _lodashObjectDefaults2['default'])({}, options, DEFAULT_OPTIONS);\n        this._partsDelimiter = options.partsDelimiter;\n        this._keyValueDelimiter = options.keyValueDelimiter;\n    }\n\n    /**\n     * Получить список значений в контейнере\n     * @param {String} cookieValue\n     * @returns {Array}\n     */\n\n    _createClass(YsSerializer, [{\n        key: 'getParts',\n        value: function getParts(cookieValue) {\n            return cookieValue.split(this._partsDelimiter).filter(Boolean);\n        }\n\n        /**\n         * Добавить новое значение в контейнер\n         * @param {String} cookieValue\n         * @param {String} key\n         * @param {String} value\n         * @returns {String}\n         */\n    }, {\n        key: 'addPart',\n        value: function addPart(cookieValue, key, value) {\n            var data = this.getParts(cookieValue);\n            data.push(this._createPart(key, value));\n            return this._toCookieValue(data);\n        }\n\n        /**\n         * Удаляем значение из контейнера\n         * @param {String} cookieValue\n         * @param {String} key\n         * @returns {String}\n         */\n    }, {\n        key: 'deletePart',\n        value: function deletePart(cookieValue, key) {\n            var data = this.getParts(cookieValue).filter(function (part) {\n                var _part$split = part.split(this._keyValueDelimiter);\n\n                var _part$split2 = _slicedToArray(_part$split, 1);\n\n                var keyPart = _part$split2[0];\n\n                return key !== keyPart;\n            }, this);\n            return this._toCookieValue(data);\n        }\n\n        /**\n         * Обновляем значение в контейнере\n         * @param {String} cookieValue\n         * @param {String} key\n         * @param {String} value\n         * @returns {String}\n         */\n    }, {\n        key: 'updatePart',\n        value: function updatePart(cookieValue, key, value) {\n            var _this = this;\n\n            var data = this.getParts(cookieValue).map(function (part) {\n                var _part$split3 = part.split(_this._keyValueDelimiter);\n\n                var _part$split32 = _slicedToArray(_part$split3, 1);\n\n                var keyPart = _part$split32[0];\n\n                if (keyPart === key) {\n                    return _this._createPart(keyPart, value);\n                }\n                return part;\n            });\n            return this._toCookieValue(data);\n        }\n\n        /**\n         * Обновляем/добавляем значение к контейнере\n         * @param {String} cookieValue\n         * @param {String} key\n         * @param {String} value\n         * @returns {String}\n         */\n    }, {\n        key: 'upsertPart',\n        value: function upsertPart(cookieValue, key, value) {\n            var existingValue = this.getValue(cookieValue, key);\n            if (existingValue) {\n                return this.updatePart(cookieValue, key, value);\n            } else {\n                return this.addPart(cookieValue, key, value);\n            }\n        }\n\n        /**\n         * Получить значение ключа в контейнер\n         * @param {String} cookieValue\n         * @param {String} key\n         * @returns {String|null}\n         */\n    }, {\n        key: 'getValue',\n        value: function getValue(cookieValue, key) {\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = this.getParts(cookieValue)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var cookiePart = _step.value;\n\n                    var keyValue = this._parsePart(cookiePart);\n                    if (keyValue.key === key) {\n                        return keyValue.value;\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator['return']) {\n                        _iterator['return']();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            return null;\n        }\n\n        /**\n         * Получить все пары ключ/значение\n         * @param {String} cookieValue\n         * @returns {Array}\n         */\n    }, {\n        key: 'getValues',\n        value: function getValues(cookieValue) {\n            return this.getParts(cookieValue).map(this._parsePart, this);\n        }\n\n        /**\n         * @param {String} newCookieValue\n         * @param {String} oldCookieValue\n         * @param {String} part\n         * @returns {Boolean}\n         */\n    }, {\n        key: 'isPartChanged',\n        value: function isPartChanged(newCookieValue, oldCookieValue, part) {\n            var oldValue = this.getValue(oldCookieValue, part);\n            var newValue = this.getValue(newCookieValue, part);\n            return newValue !== oldValue;\n        }\n\n        /**\n         * @param {String} key\n         * @param {String} value\n         * @returns {String}\n         */\n    }, {\n        key: '_createPart',\n        value: function _createPart(key, value) {\n            return key + this._keyValueDelimiter + encodeURIComponent(value);\n        }\n\n        /**\n         * Приводим данные к строке\n         * @param {Array} data\n         * @returns {String}\n         * @private\n         */\n    }, {\n        key: '_toCookieValue',\n        value: function _toCookieValue(data) {\n            return data.join(this._partsDelimiter);\n        }\n\n        /**\n         * Вытаскиваем ключ и значение из строки\n         * @param {String} part\n         * @returns {Object}\n         * @private\n         */\n    }, {\n        key: '_parsePart',\n        value: function _parsePart(part) {\n            var pos = part.indexOf(this._keyValueDelimiter);\n            var key = pos === -1 ? part : part.substr(0, pos);\n            var value = pos === -1 ? null : part.substr(pos + 1);\n            return {\n                key: key,\n                value: value ? decodeURIComponent(value) : '',\n                source: part\n            };\n        }\n    }]);\n\n    return YsSerializer;\n})();\n\nexports['default'] = YsSerializer;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/yandex-elements-core/cookies/ys-serializer.js\n// module id = 340\n// module chunks = 1","/**\n * Отправляет bar-navig статистику\n * https://beta.wiki.yandex-team.ru/visualbookmarks/tz/statistics/#parametrybar-navig\n *\n * Этот модуль пока используется только в Хроме, но лежит в общих модулях, т.к. в будущем будет везде\n *\n */\n\n'use strict';\n\nvar utils = require('../../utils/utils');\nvar platform = require('../../platform');\nvar platformAbout = require('../../platform/about');\nvar platformBuildInfo = require('../../platform/build-info');\nvar platformClid = require('../../platform/clid');\nvar branding = require('../branding');\nvar settings = require('../settings/settings');\nvar tabsWatcher = require('../../utils/tabs-watcher-2');\nvar xhr = require('../../utils/xhr');\nvar xml = require('../../utils/xml');\nvar barNavigThumbs = require('./bar-navig-thumbs');\nvar logger = require('../../utils/logger').create('Statistics/bar-navig');\n\n// это значение нам возвращает сервер в ответе на бар-навиг, мы его храним в настройках\n// и цепляем к следующему запросу\nvar R1_SETTING = 'r1String';\n\nexports.init = function () {\n    tabsWatcher.events.onCompleted.addListener(onTabLoaded);\n    barNavigThumbs.init();\n};\n\n/**\n * Пробуем отправить bar-navig\n */\nfunction onTabLoaded(tabId, tab) {\n    var url = tab.data && tab.data.url;\n    if (settings.get('sendUsageStat') && utils.url.isRemote(url)) {\n        collectData(tabId, tab.data, url, trySendWithBackup);\n    }\n}\n\n/**\n * Пытаемся отправить сначала на основной сервер, потом на запасной\n */\nfunction trySendWithBackup(params) {\n    trySend(branding.statistics.barnavigPrimaryUrl, params, function (err) {\n        if (err) {\n            trySend(branding.statistics.barnavigBackupUrl, params, logSendWithBackupErrors);\n        }\n    });\n}\n\n/**\n * Пробуем отправить на определенный урл\n */\nfunction trySend(url, params, callback) {\n    callback = callback || utils.noop;\n    if (url) {\n        send(url, params, callback);\n    } else {\n        callback(new Error('Url is empty'));\n    }\n}\n\n/**\n * @param {Error} [err]\n */\nfunction logSendWithBackupErrors(err) {\n    if (err) {\n        logger.error('Problem in trySendWithBackup method: %o', err);\n    }\n}\n\n/**\n * Отправляем на домен\n */\nfunction send(url, params, callback) {\n    logger.info('Sending bar-navig to %s: %j', url, params);\n    xhr({\n        url: url,\n        withCredentials: true,\n        parse: 'xml',\n        body: params,\n    }, function (error, xmlDoc) {\n        if (error) {\n            logger.error('Error while sending to %s: %s', url, error.message);\n            callback(error);\n        } else {\n            updateR1(xmlDoc);\n            callback();\n        }\n    });\n}\n\n/**\n * Собираем все данные\n */\nfunction collectData(tabId, tabData, url, callback) {\n    var params = getBaseParams();\n    params.url = url;\n    params.title = tabData.title || '';\n    params.target = tabData.navInNewWindow\n                        ? 'w'\n                        : (tabData.navInExistingTab ? 'c' : 't');\n    // todo: params['real-referer'] = tabData.realRef || undefined;\n    // todo: params['tab-id'] = tabData.uuid ? tabData.uuid.replace(/\\-/g, '') : undefined;\n\n    // номер тумбы, по которой был переход\n    var vtbNum = barNavigThumbs.getPosition(tabId, tabData.url);\n    if (typeof vtbNum === 'number') {\n        params.vtbNum = vtbNum;\n    }\n\n    // запрашиваем дополнительные данные у платформы\n    var options = {\n        tabId: tabId,\n        isYandexHost: utils.url.isYandexHost(url)\n    };\n\n    platform.getBarnavigParams(options, function (platformParams) {\n        if (platformParams) {\n            params.referer = platformParams.referer || undefined;\n            params.yamm = platformParams.yamm || undefined;\n        }\n        callback(params);\n    });\n}\n\nfunction getBaseParams() {\n    return {\n        ver: platformBuildInfo.getVersion(),\n        clid: platformClid.getByNumber(4) || platformClid.getByNumber(1),\n        yasoft: platformAbout.yasoft,\n        brandID: branding.getRegionBrandId(),\n        ui: platform.guid,\n        show: 1,\n        urlinfo: 0,\n        r1: settings.get(R1_SETTING) || undefined,\n    };\n}\n\nfunction updateR1(xmlDoc) {\n    if (xmlDoc) {\n        var r1 = xml.getText(xmlDoc, 'urlinfo > r1');\n        if (r1) {\n            settings.set(R1_SETTING, r1);\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/statistics/bar-navig.js","/**\n * Храним некоторое время клики по тумбам. Это нужно для отправки vtbNum\n */\n\n'use strict';\n\nvar navigations = require('../navigations');\nvar settings = require('../settings/settings');\nvar tabsWatcher = require('../../utils/tabs-watcher-2');\nvar urlUtils = require('../../utils/url');\n\n// задержка перед удалением данных о клике по тумбе после полной загрузки таба.\nvar CLEAR_DATA_DELAY_MS = 1000;\n\nvar thumbClicks = {};\n\n/**\n * Init\n */\nexports.init = function () {\n    navigations.onThumbNavigated.addListener(onThumbNavigated);\n    tabsWatcher.events.onCompleted.addListener(onTabLoaded);\n};\n\n/**\n * Returns thumb position if navigation url were made by thumb click\n * @param {Number} tabId\n * @param {String} url\n */\nexports.getPosition = function (tabId, url) {\n    var thumbClick = thumbClicks[tabId];\n    if (thumbClick && urlUtils.isEqualUrls(thumbClick.url, url)) {\n        var position = thumbClick.position;\n        clearTimeout(thumbClick.timeout);\n        clear(tabId);\n        return position;\n    } else {\n        return null;\n    }\n};\n\nfunction onThumbNavigated(data) {\n    if (settings.get('sendUsageStat')) {\n        thumbClicks[data.tabId] = {\n            position: data.thumbPosition,\n            url: data.url,\n        };\n    }\n}\n\nfunction onTabLoaded(tabId) {\n    if (thumbClicks[tabId]) {\n        thumbClicks[tabId].timeout = setTimeout(clear.bind(null, tabId), CLEAR_DATA_DELAY_MS);\n    }\n}\n\nfunction clear(tabId) {\n    delete thumbClicks[tabId];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/statistics/bar-navig-thumbs.js","/**\n * Навигация\n * Обрабатывает клики по тумбам, переходы по браузерным закладкам и т.д.\n */\n\n'use strict';\n\nvar logger = require('../../utils/logger').create('Navigations');\nvar channel = require('../../utils/channel');\n\n// где открываем урл\nvar TARGET = exports.TARGET = {\n    TAB: 'tab',\n    NEW_TAB: 'new tab',\n    NEW_ACTIVE_TAB: 'new active tab',\n    NEW_WINDOW: 'new window',\n};\n\n/**\n * Do navigation\n * @param {Object} params\n * @param {String} params.url\n * @param {String} params.target 'tab|new tab|new window'\n * @param {Number} [params.tabId]\n * @param {Number} [params.thumbPosition]\n */\nexports.go = function (params) {\n    params = params || {};\n    var url = params.url;\n\n    if (!url) {\n        logger.error('Can not navigate empty url, params %j', params);\n        return;\n    }\n\n    var isThumb = params.thumbPosition !== undefined;\n    if (isThumb) {\n        logger.info('Navigate to %s %s (from thumb %i)', params.target, url, params.thumbPosition);\n    } else {\n        logger.info('Navigate to %s %s', params.target, url);\n    }\n\n    var callback = onNavigated.bind(null, params);\n\n    switch (params.target) {\n        case TARGET.TAB:\n            chrome.tabs.update(params.tabId, {url: url}, callback);\n            break;\n        case TARGET.NEW_WINDOW:\n            chrome.windows.create({url: url}, callback);\n            break;\n        case TARGET.NEW_ACTIVE_TAB:\n            chrome.tabs.create({url: url, active: true}, callback);\n            break;\n        case TARGET.NEW_TAB:\n        /* falls through */\n        default:\n            chrome.tabs.create({url: url, active: false}, callback);\n            break;\n    }\n};\n\n/**\n * On thumb navigated event\n */\nexports.onThumbNavigated = channel.create();\n\n/**\n * Callback called after tab/window navigation\n * @param {Object} params initial navigation params {url, target, tabId, thumbPosition}\n * @param {Object} data chrome.window or chrome.tab depending on target\n */\nfunction onNavigated(params, data) {\n    if (params.thumbPosition !== undefined) {\n        var isWindow = Array.isArray(data.tabs);\n        var dispatchData = {\n            url: params.url,\n            // chrome window always contains at least one tab\n            tabId: isWindow ? data.tabs[0].id : data.id,\n            thumbPosition: params.thumbPosition,\n        };\n        exports.onThumbNavigated.dispatch(dispatchData);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/navigations/index.js","/**\n * Определяет состояние в котором запустились: INSTALL, UPGRADE или NORMAL\n */\n\n'use strict';\n\nvar versions = require('./versions');\nvar utils = require('../../utils/utils');\nvar platformAbout = require('../../platform/about');\nvar getMigrationData = require('../../platform/get-migration-data');\nvar migration223 = require('../migration/2.23.0');\nvar logger = require('../../utils/logger').create('Startup/runstate');\n\nvar STATES = {\n    INSTALL: 0,\n    UPGRADE: 1,\n    NORMAL: 2\n};\n\nvar state;\nvar migrationData;\nvar isReady = false;\n\nexports.detect = function (callback) {\n    var previousVersion = versions.getPrevious();\n    if (!previousVersion) {\n        initNoPrevVersion(callback);\n    } else {\n        initHasPrevVersion(previousVersion, callback);\n    }\n};\n\nexports.isInstall = function () {\n    return state === STATES.INSTALL;\n};\n\nexports.isUpgrade = function () {\n    return state === STATES.UPGRADE;\n};\n\nexports.isNormal = function () {\n    return state === STATES.NORMAL;\n};\n\n/**\n * Завершился старт или нет\n * @returns {boolean}\n */\nexports.isReady = function () {\n    return isReady;\n};\n\nexports.setReady = function () {\n    isReady = true;\n};\n\nexports.getMigrationDataCommonBackend = function () {\n    return migrationData;\n};\n\nfunction initNoPrevVersion(callback) {\n    if (platformAbout.isChr || platformAbout.isFx) {\n        // В Chrome/Firefox пустая previousVersion это однозначный install\n        state = STATES.INSTALL;\n        callback();\n    } else {\n        // В IE пустая previousVersion - значит нужно проверить getMigrationData:\n        // Если она что-то вернет, это upgrade, иначе - install\n        checkMigrationData223(callback);\n    }\n}\n\nfunction initHasPrevVersion(previousVersion, callback) {\n    var currentVersion = versions.getCurrent();\n    // Не пустая versionsHistory - это upgrade или normal\n    state = utils.versionCompare(currentVersion, previousVersion) > 0 ? STATES.UPGRADE : STATES.NORMAL;\n    // Но если это upgrade с версии < 2.23, то все равно вызываем getMigrationData, чтобы получить\n    // данные для миграции на 2.23 (это в основном только для хрома, но может и для фф/ие, если миграция не удалась)\n    var isUpgradeToCommonBackend = exports.isUpgrade()\n        && utils.versionCompare(previousVersion, migration223.COMMON_BACKЕND_VERSION) < 0;\n\n    if (isUpgradeToCommonBackend) {\n        checkMigrationData223(callback);\n    } else {\n        callback();\n    }\n}\n\n/**\n * migrationData мы запрашиваем, если у нас апгрейд на общий бэкенд. Эта функция может переписать state.\n */\nfunction checkMigrationData223(callback) {\n    getMigrationData(function (aMigrationData) {\n        if (aMigrationData) {\n            logger.info('Got migrationData: %j', aMigrationData);\n            state = STATES.UPGRADE;\n            migrationData = aMigrationData;\n            // заранее переносим историю версий, чтобы корректно отдавался versions.getPrevious()\n            migration223.migrateVersionsHistory(aMigrationData);\n        } else {\n            logger.info('Empty migrationData');\n            state = STATES.INSTALL;\n        }\n\n        callback();\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/startup/runstate.js","/**\n * Работа с версиями\n */\n\n'use strict';\n\nvar settings = require('../settings/settings');\nvar buildInfo = require('../../platform/build-info');\nvar logger = require('../../utils/logger').create('Startup/versions');\n\nvar VERSIONS_SETTING_NAME = 'versionsHistory';\n\n/**\n * Returns pervious version\n */\nexports.getPrevious = function () {\n    var versionsHistory = exports.getHistory();\n    return getMainVersion(versionsHistory[versionsHistory.length - 1]);\n};\n\n/**\n * Returns current version\n */\nexports.getCurrent = function () {\n    return getMainVersion(buildInfo.getVersion());\n};\n\n/**\n * Returns array of version history\n */\nexports.getHistory = function () {\n    var versionsHistory = settings.get(VERSIONS_SETTING_NAME);\n    return Array.isArray(versionsHistory) ? versionsHistory : [];\n};\n\n/**\n * Adds version to history\n * @param {String} version\n */\nexports.addToHistory = function (version) {\n    var versionsHistory = exports.getHistory();\n    version = getMainVersion(version);\n    if (versionsHistory.indexOf(version) >= 0) {\n        logger.error('Trying add version %s that already exists in history %j', version, versionsHistory);\n    } else {\n        versionsHistory.push(version);\n        logger.info('Add to versions history: %s', version);\n        exports.setHistory(versionsHistory);\n    }\n};\n\n/**\n * Overwrites full version history\n * @param {Array} versionsHistory\n */\nexports.setHistory = function (versionsHistory) {\n    if (Array.isArray(versionsHistory)) {\n        versionsHistory = versionsHistory.map(getMainVersion);\n        logger.info('Set versions history: %j', versionsHistory);\n        settings.set(VERSIONS_SETTING_NAME, versionsHistory);\n    } else {\n        logger.error('Trying to set versions history that is not array %j', versionsHistory);\n    }\n};\n\n/**\n * 1.2.3.456 --> 1.2.3\n * 1.2 --> 1.2\n */\nfunction getMainVersion(version) {\n    if (version && typeof version === 'string') {\n        var matches = version.match(/(^\\d+\\.\\d+(\\.\\d+)?)/);\n        return matches ? matches[1] : '';\n    } else {\n        return '';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/startup/versions.js","/**\n * Возвращает данные миграции на общий бэкенд\n * В хроме отдает только ключи thumbs и users\n * https://st.yandex-team.ru/VB-4762\n */\n\n'use strict';\n\nvar asyncLib = require('async');\nvar logger = require('../utils/logger').create('Platform/getMigrationData');\nvar database = require('../modules/database/database');\nvar fs = require('./file-storage');\nvar md5 = require('../libs/md5').md5;\nvar urlUtils = require('../utils/url');\n\n/**\n * Собираем данные для миграции в хроме.\n * Для тумб сливаем в одно данные таблиц thumbs_shown и thumbs\n * Для пользователей чуть меняем формат: https://st.yandex-team.ru/VB-4762#1439419764000\n */\nmodule.exports = function (callback) {\n    logger.info('Collecting migration data..');\n    asyncLib.parallel({\n        thumbsShown: loadTable.bind(null, 'thumbs_shown'),\n        thumbs: loadTable.bind(null, 'thumbs'),\n        users: loadTable.bind(null, 'users'),\n        userBackgroundPath: tryGetUserBackgroundPath\n    }, function (err, results) {\n        var users = formatUsers(results.users);\n        var thumbs = mergeThumbs(results.thumbsShown, results.thumbs);\n        fillScreenshots(thumbs, function () {\n            var migrationData = {\n                thumbs: thumbs,\n                users: users,\n                userBackgroundPath: results.userBackgroundPath\n            };\n            logger.info('Collected migration data %j', migrationData);\n            callback(migrationData);\n        });\n    });\n};\n\n/**\n * Загружает данные из таблицы\n */\nfunction loadTable(tableName, callback) {\n    database.get(tableName, {}, function (err, records) {\n        if (err) {\n            logger.error('Error while load %s %s', tableName, err.message);\n        }\n        callback(null, Array.isArray(records) ? records : []);\n    });\n}\n\n/**\n * Ссливаем в одно данные из таблиц thumbs_shown (url, position, pinned)\n * и thumbs (title, visits)\n */\nfunction mergeThumbs(thumbsShown, thumbs) {\n    return thumbsShown\n        .map(function (thumbShown) {\n            thumbShown.uri = urlUtils.createURI(thumbShown.url);\n            return thumbShown;\n        })\n        .filter(function (thumbShown) {\n            // URI падает на невалидных урлах, а тут неизвестно что нам из миграции прилетит\n            return Boolean(thumbShown.uri);\n        })\n        .map(function (thumbShown) {\n            var uri = thumbShown.uri;\n            var foundInThumbs = thumbs.filter(function (item) {\n                return urlUtils.isEqualUrls(uri, item.url);\n            })[0];\n\n            if (foundInThumbs) {\n                logger.info('Merge (position, url, pinned) with (visits, title) : (%i %s %s) (%s %s)',\n                    thumbShown.position, thumbShown.url, thumbShown.pinned,\n                    foundInThumbs.visits, foundInThumbs.title);\n            } else {\n                logger.info('Not found in `thumbs` table: %i %s', thumbShown.position, thumbShown.url);\n            }\n\n            return {\n                position: parseInt(thumbShown.position, 10),\n                url: thumbShown.url,\n                pinned: thumbShown.pinned ? 1 : 0,\n                title: foundInThumbs ? foundInThumbs.title : null,\n                visits: foundInThumbs ? foundInThumbs.visits : 0,\n            };\n        });\n}\n\n/**\n * Пытаемся подтянуть пути к скриншотам screenshotFsPath и screenshotImage\n */\nfunction fillScreenshots(thumbs, callback) {\n    var dir = '/screenshots/';\n    var tasks = thumbs.map(function (thumb) {\n        var url = normalizeUrlOld(thumb.url);\n        var filepath = dir + md5(url) + '.png';\n        return function (callback) {\n            fs.getFileUrl(filepath, function (err, screenshotUrl) {\n                if (!err && screenshotUrl) {\n                    logger.info('Migrate screenshot for %s', thumb.url);\n                    thumb.screenshotFsPath = filepath;\n                    thumb.screenshotImage = screenshotUrl;\n                }\n                callback();\n            });\n        };\n    });\n\n    asyncLib.parallel(tasks, function () {\n        callback(null, thumbs);\n    });\n}\n\n/**\n * Нормализуем урл как в версиях до 2.23\n * Это нужно, чтобы посчитать правильный md5-хеш для скриншотов\n */\nfunction normalizeUrlOld(url) {\n    var uri = urlUtils.createURI(url);\n\n    if (!uri) {\n        return url;\n    }\n\n    if (uri.query() === '') {\n        // убираем ? в конце\n        url = url.replace(/\\?$/, '');\n        if (uri.pathname() === '/') {\n            // убираем / в конце\n            url = url.replace(/\\/$/, '');\n        }\n    }\n    return url;\n}\n\n/**\n * Форматируем пользователей\n * https://st.yandex-team.ru/VB-4762#1439419764000\n */\nfunction formatUsers(oldUsers) {\n    return oldUsers.map(function (user) {\n        var status = isNaN(user.status) ? 0 : user.status;\n        return {\n            displayName: user.displayName,\n            lastAuthTime: user.lastAuthTime,\n            login: user.login,\n            uid: user.uid,\n            hasAuth: status > 0,\n            isDefault: status === 2,\n        };\n    });\n}\n\n/**\n * Пробуем получить путь к пользовательскому изображению\n * user background before 2.23 - 'backgrounds/user.jpg'\n * user background after 2.23 - 'backgrounds/user'\n * @param {Function} callback\n */\nfunction tryGetUserBackgroundPath(callback) {\n    var pathBefore223 = 'backgrounds/user.jpg';\n    // на самом деле здесь просто проверяем существование файла\n    fs.getFileUrl(pathBefore223, function (err, url) {\n        if (!err && url) {\n            callback(null, pathBefore223);\n        } else {\n            callback();\n        }\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./platform/get-migration-data.js","/*\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nexports.md5 = hex_md5;\n\n/*\n * Configurable variables. You may need to tweak these to be compatible with\n * the server-side, but the defaults work in most cases.\n */\nvar hexcase = 0;   /* hex output format. 0 - lowercase; 1 - uppercase        */\nvar b64pad  = \"\";  /* base-64 pad character. \"=\" for strict RFC compliance   */\n\n/*\n * These are the functions you'll usually want to call\n * They take string arguments and return either hex or base-64 encoded strings\n */\nfunction hex_md5(s)    { return rstr2hex(rstr_md5(str2rstr_utf8(s))); }\nfunction b64_md5(s)    { return rstr2b64(rstr_md5(str2rstr_utf8(s))); }\nfunction any_md5(s, e) { return rstr2any(rstr_md5(str2rstr_utf8(s)), e); }\nfunction hex_hmac_md5(k, d) { return rstr2hex(rstr_hmac_md5(str2rstr_utf8(k), str2rstr_utf8(d))); }\nfunction b64_hmac_md5(k, d) { return rstr2b64(rstr_hmac_md5(str2rstr_utf8(k), str2rstr_utf8(d))); }\nfunction any_hmac_md5(k, d, e) { return rstr2any(rstr_hmac_md5(str2rstr_utf8(k), str2rstr_utf8(d)), e); }\n\n/*\n * Perform a simple self-test to see if the VM is working\n */\nfunction md5_vm_test() { return hex_md5(\"abc\").toLowerCase() == \"900150983cd24fb0d6963f7d28e17f72\"; }\n\n/*\n * Calculate the MD5 of a raw string\n */\nfunction rstr_md5(s) { return binl2rstr(binl_md5(rstr2binl(s), s.length * 8)); }\n\n/*\n * Calculate the HMAC-MD5, of a key and some data (raw strings)\n */\nfunction rstr_hmac_md5(key, data) {\n    var bkey = rstr2binl(key);\n    if(bkey.length > 16) bkey = binl_md5(bkey, key.length * 8);\n\n    var ipad = Array(16), opad = Array(16);\n    for(var i = 0; i < 16; i++) {\n        ipad[i] = bkey[i] ^ 0x36363636;\n        opad[i] = bkey[i] ^ 0x5C5C5C5C;\n    }\n\n    var hash = binl_md5(ipad.concat(rstr2binl(data)), 512 + data.length * 8);\n    return binl2rstr(binl_md5(opad.concat(hash), 512 + 128));\n}\n\n/*\n * Convert a raw string to a hex string\n */\nfunction rstr2hex(input) {\n    try { hexcase } catch(e) { hexcase=0; }\n    var hex_tab = hexcase ? \"0123456789ABCDEF\" : \"0123456789abcdef\";\n    var output = \"\";\n    var x;\n    for(var i = 0; i < input.length; i++) {\n        x = input.charCodeAt(i);\n        output += hex_tab.charAt((x >>> 4) & 0x0F) + hex_tab.charAt(x & 0x0F);\n    }\n    return output;\n}\n\n/*\n * Convert a raw string to a base-64 string\n */\nfunction rstr2b64(input) {\n    try { b64pad } catch(e) { b64pad=''; }\n    var tab = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n    var output = \"\";\n    var len = input.length;\n    for(var i = 0; i < len; i += 3) {\n        var triplet = (input.charCodeAt(i) << 16)\n            | (i + 1 < len ? input.charCodeAt(i+1) << 8 : 0)\n            | (i + 2 < len ? input.charCodeAt(i+2)      : 0);\n\n        for(var j = 0; j < 4; j++) {\n            if(i * 8 + j * 6 > input.length * 8) output += b64pad;\n            else output += tab.charAt((triplet >>> 6*(3-j)) & 0x3F);\n        }\n    }\n    return output;\n}\n\n/*\n * Convert a raw string to an arbitrary string encoding\n */\nfunction rstr2any(input, encoding) {\n    var divisor = encoding.length;\n    var i, j, q, x, quotient;\n\n    /* Convert to an array of 16-bit big-endian values, forming the dividend */\n    var dividend = Array(Math.ceil(input.length / 2));\n    for(i = 0; i < dividend.length; i++) {\n        dividend[i] = (input.charCodeAt(i * 2) << 8) | input.charCodeAt(i * 2 + 1);\n    }\n\n    /*\n     * Repeatedly perform a long division. The binary array forms the dividend,\n     * the length of the encoding is the divisor. Once computed, the quotient\n     * forms the dividend for the next step. All remainders are stored for later\n     * use.\n     */\n    var full_length = Math.ceil(input.length * 8 / (Math.log(encoding.length) / Math.log(2)));\n    var remainders = Array(full_length);\n\n    for(j = 0; j < full_length; j++) {\n        quotient = Array();\n        x = 0;\n\n        for(i = 0; i < dividend.length; i++) {\n            x = (x << 16) + dividend[i];\n            q = Math.floor(x / divisor);\n            x -= q * divisor;\n            if(quotient.length > 0 || q > 0)\n                quotient[quotient.length] = q;\n        }\n\n        remainders[j] = x;\n        dividend = quotient;\n    }\n\n    /* Convert the remainders to the output string */\n    var output = \"\";\n    for(i = remainders.length - 1; i >= 0; i--)\n        output += encoding.charAt(remainders[i]);\n\n    return output;\n}\n\n/*\n * Encode a string as utf-8.\n * For efficiency, this assumes the input is valid utf-16.\n */\nfunction str2rstr_utf8(input) {\n    var output = \"\";\n    var i = -1;\n    var x, y;\n\n    while(++i < input.length) {\n        /* Decode utf-16 surrogate pairs */\n        x = input.charCodeAt(i);\n        y = i + 1 < input.length ? input.charCodeAt(i + 1) : 0;\n\n        if(0xD800 <= x && x <= 0xDBFF && 0xDC00 <= y && y <= 0xDFFF) {\n            x = 0x10000 + ((x & 0x03FF) << 10) + (y & 0x03FF);\n            i++;\n        }\n\n        /* Encode output as utf-8 */\n        if(x <= 0x7F)\n            output += String.fromCharCode(x);\n        else if(x <= 0x7FF)\n            output += String.fromCharCode(0xC0 | ((x >>> 6 ) & 0x1F),\n                0x80 | ( x         & 0x3F));\n        else if(x <= 0xFFFF)\n            output += String.fromCharCode(0xE0 | ((x >>> 12) & 0x0F),\n                0x80 | ((x >>> 6 ) & 0x3F),\n                0x80 | ( x         & 0x3F));\n        else if(x <= 0x1FFFFF)\n            output += String.fromCharCode(0xF0 | ((x >>> 18) & 0x07),\n                0x80 | ((x >>> 12) & 0x3F),\n                0x80 | ((x >>> 6 ) & 0x3F),\n                0x80 | ( x         & 0x3F));\n    }\n\n    return output;\n}\n\n/*\n * Encode a string as utf-16\n */\nfunction str2rstr_utf16le(input) {\n    var output = \"\";\n    for(var i = 0; i < input.length; i++)\n        output += String.fromCharCode( input.charCodeAt(i)        & 0xFF,\n            (input.charCodeAt(i) >>> 8) & 0xFF);\n    return output;\n}\n\nfunction str2rstr_utf16be(input) {\n    var output = \"\";\n    for(var i = 0; i < input.length; i++)\n        output += String.fromCharCode((input.charCodeAt(i) >>> 8) & 0xFF,\n            input.charCodeAt(i)        & 0xFF);\n    return output;\n}\n\n/*\n * Convert a raw string to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\nfunction rstr2binl(input) {\n    var output = Array(input.length >> 2);\n    for(var i = 0; i < output.length; i++)\n        output[i] = 0;\n    for(var i = 0; i < input.length * 8; i += 8)\n        output[i>>5] |= (input.charCodeAt(i / 8) & 0xFF) << (i%32);\n    return output;\n}\n\n/*\n * Convert an array of little-endian words to a string\n */\nfunction binl2rstr(input) {\n    var output = \"\";\n    for(var i = 0; i < input.length * 32; i += 8)\n        output += String.fromCharCode((input[i>>5] >>> (i % 32)) & 0xFF);\n    return output;\n}\n\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\nfunction binl_md5(x, len) {\n    /* append padding */\n    x[len >> 5] |= 0x80 << ((len) % 32);\n    x[(((len + 64) >>> 9) << 4) + 14] = len;\n\n    var a =  1732584193;\n    var b = -271733879;\n    var c = -1732584194;\n    var d =  271733878;\n\n    for(var i = 0; i < x.length; i += 16)\n    {\n        var olda = a;\n        var oldb = b;\n        var oldc = c;\n        var oldd = d;\n\n        a = md5_ff(a, b, c, d, x[i+ 0], 7 , -680876936);\n        d = md5_ff(d, a, b, c, x[i+ 1], 12, -389564586);\n        c = md5_ff(c, d, a, b, x[i+ 2], 17,  606105819);\n        b = md5_ff(b, c, d, a, x[i+ 3], 22, -1044525330);\n        a = md5_ff(a, b, c, d, x[i+ 4], 7 , -176418897);\n        d = md5_ff(d, a, b, c, x[i+ 5], 12,  1200080426);\n        c = md5_ff(c, d, a, b, x[i+ 6], 17, -1473231341);\n        b = md5_ff(b, c, d, a, x[i+ 7], 22, -45705983);\n        a = md5_ff(a, b, c, d, x[i+ 8], 7 ,  1770035416);\n        d = md5_ff(d, a, b, c, x[i+ 9], 12, -1958414417);\n        c = md5_ff(c, d, a, b, x[i+10], 17, -42063);\n        b = md5_ff(b, c, d, a, x[i+11], 22, -1990404162);\n        a = md5_ff(a, b, c, d, x[i+12], 7 ,  1804603682);\n        d = md5_ff(d, a, b, c, x[i+13], 12, -40341101);\n        c = md5_ff(c, d, a, b, x[i+14], 17, -1502002290);\n        b = md5_ff(b, c, d, a, x[i+15], 22,  1236535329);\n\n        a = md5_gg(a, b, c, d, x[i+ 1], 5 , -165796510);\n        d = md5_gg(d, a, b, c, x[i+ 6], 9 , -1069501632);\n        c = md5_gg(c, d, a, b, x[i+11], 14,  643717713);\n        b = md5_gg(b, c, d, a, x[i+ 0], 20, -373897302);\n        a = md5_gg(a, b, c, d, x[i+ 5], 5 , -701558691);\n        d = md5_gg(d, a, b, c, x[i+10], 9 ,  38016083);\n        c = md5_gg(c, d, a, b, x[i+15], 14, -660478335);\n        b = md5_gg(b, c, d, a, x[i+ 4], 20, -405537848);\n        a = md5_gg(a, b, c, d, x[i+ 9], 5 ,  568446438);\n        d = md5_gg(d, a, b, c, x[i+14], 9 , -1019803690);\n        c = md5_gg(c, d, a, b, x[i+ 3], 14, -187363961);\n        b = md5_gg(b, c, d, a, x[i+ 8], 20,  1163531501);\n        a = md5_gg(a, b, c, d, x[i+13], 5 , -1444681467);\n        d = md5_gg(d, a, b, c, x[i+ 2], 9 , -51403784);\n        c = md5_gg(c, d, a, b, x[i+ 7], 14,  1735328473);\n        b = md5_gg(b, c, d, a, x[i+12], 20, -1926607734);\n\n        a = md5_hh(a, b, c, d, x[i+ 5], 4 , -378558);\n        d = md5_hh(d, a, b, c, x[i+ 8], 11, -2022574463);\n        c = md5_hh(c, d, a, b, x[i+11], 16,  1839030562);\n        b = md5_hh(b, c, d, a, x[i+14], 23, -35309556);\n        a = md5_hh(a, b, c, d, x[i+ 1], 4 , -1530992060);\n        d = md5_hh(d, a, b, c, x[i+ 4], 11,  1272893353);\n        c = md5_hh(c, d, a, b, x[i+ 7], 16, -155497632);\n        b = md5_hh(b, c, d, a, x[i+10], 23, -1094730640);\n        a = md5_hh(a, b, c, d, x[i+13], 4 ,  681279174);\n        d = md5_hh(d, a, b, c, x[i+ 0], 11, -358537222);\n        c = md5_hh(c, d, a, b, x[i+ 3], 16, -722521979);\n        b = md5_hh(b, c, d, a, x[i+ 6], 23,  76029189);\n        a = md5_hh(a, b, c, d, x[i+ 9], 4 , -640364487);\n        d = md5_hh(d, a, b, c, x[i+12], 11, -421815835);\n        c = md5_hh(c, d, a, b, x[i+15], 16,  530742520);\n        b = md5_hh(b, c, d, a, x[i+ 2], 23, -995338651);\n\n        a = md5_ii(a, b, c, d, x[i+ 0], 6 , -198630844);\n        d = md5_ii(d, a, b, c, x[i+ 7], 10,  1126891415);\n        c = md5_ii(c, d, a, b, x[i+14], 15, -1416354905);\n        b = md5_ii(b, c, d, a, x[i+ 5], 21, -57434055);\n        a = md5_ii(a, b, c, d, x[i+12], 6 ,  1700485571);\n        d = md5_ii(d, a, b, c, x[i+ 3], 10, -1894986606);\n        c = md5_ii(c, d, a, b, x[i+10], 15, -1051523);\n        b = md5_ii(b, c, d, a, x[i+ 1], 21, -2054922799);\n        a = md5_ii(a, b, c, d, x[i+ 8], 6 ,  1873313359);\n        d = md5_ii(d, a, b, c, x[i+15], 10, -30611744);\n        c = md5_ii(c, d, a, b, x[i+ 6], 15, -1560198380);\n        b = md5_ii(b, c, d, a, x[i+13], 21,  1309151649);\n        a = md5_ii(a, b, c, d, x[i+ 4], 6 , -145523070);\n        d = md5_ii(d, a, b, c, x[i+11], 10, -1120210379);\n        c = md5_ii(c, d, a, b, x[i+ 2], 15,  718787259);\n        b = md5_ii(b, c, d, a, x[i+ 9], 21, -343485551);\n\n        a = safe_add(a, olda);\n        b = safe_add(b, oldb);\n        c = safe_add(c, oldc);\n        d = safe_add(d, oldd);\n    }\n    return Array(a, b, c, d);\n}\n\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\nfunction md5_cmn(q, a, b, x, s, t) { return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s),b); }\nfunction md5_ff(a, b, c, d, x, s, t) { return md5_cmn((b & c) | ((~b) & d), a, b, x, s, t); }\nfunction md5_gg(a, b, c, d, x, s, t) { return md5_cmn((b & d) | (c & (~d)), a, b, x, s, t); }\nfunction md5_hh(a, b, c, d, x, s, t) { return md5_cmn(b ^ c ^ d, a, b, x, s, t); }\nfunction md5_ii(a, b, c, d, x, s, t) { return md5_cmn(c ^ (b | (~d)), a, b, x, s, t); }\n\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\nfunction safe_add(x, y) {\n    var lsw = (x & 0xFFFF) + (y & 0xFFFF);\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n    return (msw << 16) | (lsw & 0xFFFF);\n}\n\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\nfunction bit_rol(num, cnt) {\n    return (num << cnt) | (num >>> (32 - cnt));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./libs/md5.js","/**\n * Миграция на 2.23.0\n */\n\n'use strict';\n\nexports.VERSION = '2.23.0';\n\nvar asyncLib = require('async');\nvar logger = require('../../utils/logger').create('Migration ' + exports.VERSION);\nvar settings = require('../settings/settings');\nvar localBlacklist = require('../blacklist/local');\nvar urlUtils = require('../../utils/url');\nvar database = require('../database/database');\nvar screenshots = require('../screenshots/screenshots');\nvar userBackground = require('../backgrounds/user-background');\nvar brandingBackgrounds = require('../backgrounds/branding-backgrounds');\nvar FileStorage = require('../../utils/file-storage');\nvar backgroundsStorage = require('../backgrounds/storage');\nvar backgroundsFontColors = require('../backgrounds/font-colors');\nvar platformAbout = require('../../platform/about');\nvar versions = require('../startup/versions');\n\nvar fs = new FileStorage('/');\n\n// версия, которую ставим как предыдущую до общего бэкенда, если она неизвестна\nvar COMMON_BACKEND_PREV_VERSION = '2.22.0';\n\nvar migrationData = {};\n\n// версия, с которой начинается общий бэкенд\nexports.COMMON_BACKЕND_VERSION = '2.23.0';\n\nexports.run = function (options, callback) {\n    logger.info('Starting...');\n    if (!options.migrationData) {\n        logger.error('No migration data!');\n        callback(new Error('No migration data!'));\n    } else {\n        migrationData = options.migrationData;\n        migrateSettings();\n        migrateAdvertisement();\n        asyncLib.series([\n            migrateThumbs,\n            migrateBlacklist,\n            migrateUsers,\n            migrateUserBackground,\n            setBackgroundImagePath,\n        ], callback);\n    }\n};\n\n/**\n * Перенос истории версий\n * (вызывается до основного запуска, т.к. нам нужно знать предыдущую версию, чтобы корректно запустить миграцию)\n */\nexports.migrateVersionsHistory = function (aMigrationData) {\n    if (!platformAbout.isChr && !platformAbout.isFx) {\n        var value = aMigrationData && aMigrationData.settings && aMigrationData.settings.versionsHistory;\n        // если при миграции истории версий нет, ставим вручную 2.22.0 (версия, на которую ставился общий бэкенд)\n        value = Array.isArray(value) && value.length ? value : [COMMON_BACKEND_PREV_VERSION];\n        versions.setHistory(value);\n    }\n};\n\n/**\n * Мигрируем настройки (кроме versionsHistory, она мигрирует раньше)\n * https://st.yandex-team.ru/VB-4762#1439301963000\n */\nfunction migrateSettings() {\n    if (migrationData.settings) {\n        logger.info('Migrating settings..');\n        migrateSetting('appInstallTime', 'number');\n        migrateSetting('backgroundImage', 'string');\n        migrateSetting('lastDayUseSendTime', 'number');\n        migrateSetting('maxAvailableIncreased', 'boolean');\n        migrateSetting('showBookmarks', 'boolean');\n        migrateSetting('showSearchForm', 'boolean');\n        migrateSetting('showAdvertisement', 'boolean');\n        migrateSetting('uiThumbsType', 'number');\n    } else {\n        logger.warn('No `settings` key in migrationData');\n    }\n}\n\n/**\n * Перенос одной настройки\n */\nfunction migrateSetting(name, type) {\n    var value = migrationData.settings[name];\n    if (typeof value === type) {\n        settings.set(name, value);\n        logger.info('Migrate setting: %s with value %s', name, value);\n    } else {\n        logger.warn('Incorrect type of setting %s: got %s, expected %s', name, typeof value, type);\n    }\n}\n\n/**\n * В 2.23 добавилась новая настройка backgroundImagePath - локальный путь к фону.\n * Это нужно, чтобы отдавать данные фронтенду синхронно.\n * В миграции мы определяем этот путь по id фона и записываем.\n *\n * todo: VB-5160\n *\n * @param {Function} callback\n */\nfunction setBackgroundImagePath(callback) {\n    var backgroundId = settings.get('backgroundImage');\n    var brandedBackgrounds = brandingBackgrounds.getBackgrounds();\n    if (backgroundId) {\n        if (backgroundId in brandedBackgrounds) {\n            var url = brandedBackgrounds[backgroundId].image;\n            writeBackgroundImagePath(url);\n            calcBackgroundImageFontColor(backgroundId, url, callback);\n        } else {\n            backgroundsStorage.getLocalUrl(backgroundId, function (err, data) {\n                if (!err && data && data.url) {\n                    writeBackgroundImagePath(data.url);\n                    calcBackgroundImageFontColor(backgroundId, data.url, callback);\n                } else {\n                    logger.warn('Error while setting backgroundImagePath for id %s %s',\n                        backgroundId,\n                        err && err.message\n                    );\n                    callback();\n                }\n            });\n        }\n    } else {\n        logger.warn('Can not set backgroundImagePath as backgroundImage is empty');\n        callback();\n    }\n}\n\n/**\n * Записываем настройку backgroundImagePath\n * @param {String} path\n */\nfunction writeBackgroundImagePath(path) {\n    logger.info('backgroundImagePath set to %s', path);\n    settings.set('backgroundImagePath', path);\n}\n\n/**\n * Рассчитываем цвет шрифта, т.к. он не мигрирует\n * https://st.yandex-team.ru/VB-5190\n */\nfunction calcBackgroundImageFontColor(backgroundId, backgroundUrl, callback) {\n    backgroundsFontColors.get(backgroundId, backgroundUrl, function () {\n        callback();\n    });\n}\n\n/**\n * Мигрируем локальный блэклист пользователя:\n * просто пишем домены в таблицу blacklist\n * https://st.yandex-team.ru/VB-4762#1439305672000\n */\nfunction migrateBlacklist(callback) {\n    if (Array.isArray(migrationData.blacklist)) {\n        logger.info('Migrating blacklist..');\n        var domains = migrationData.blacklist.filter(Boolean).map(urlUtils.getNormalDomain);\n        var tasks = domains.map(function (domain) {\n            return function (callback) {\n                localBlacklist.upsertOne(domain, function () {\n                    // всегда вызываем колбэк без ошибки,\n                    // т.к. если не промигрировался домен из черного списка, то и хрен с ним\n                    callback();\n                });\n            };\n        });\n        asyncLib.series(tasks, callback);\n    } else {\n        logger.warn('No `blacklist` key in migrationData');\n        callback();\n    }\n}\n\n/**\n * Мигрируем тумбы.\n * В фф/ие таблица thumbs_shown пустая, в хроме в этой таблице лежат старые записи, но их прилетит ровно столько же.\n * Поэтому очистки таблиц не делаем, только upsert\n * https://st.yandex-team.ru/VB-4762#1439305590000\n */\nfunction migrateThumbs(callback) {\n    if (Array.isArray(migrationData.thumbs) && migrationData.thumbs.length) {\n        logger.info('Migrating thumbs: %i', migrationData.thumbs.length);\n        var tableName = 'thumbs_shown';\n        var dbItems = migrationData.thumbs\n            .filter(function (item) {\n                return item && item.url;\n            })\n            .map(function (item, position) {\n                var dbItem = {\n                    url: item.url,\n                    position: position,\n                    pinned: item.pinned ? 1 : 0,\n                    title: item.title,\n                    visits: isNaN(item.visits) ? 0 : item.visits,\n                };\n\n                if (item.screenshotFsPath) {\n                    dbItem.screenshotFsPath = item.screenshotFsPath;\n                }\n\n                // в хроме мы сразу получаем и путь и урл\n                if (item.screenshotImage) {\n                    dbItem.screenshotImage = item.screenshotImage;\n                }\n\n                return dbItem;\n            });\n\n        // отрезаем на 25 или 49 тумб\n        dbItems = limitThumbsCount(dbItems);\n\n        calcScreenshotData(dbItems, function () {\n            dbItems.forEach(function (dbItem) {\n                logger.info('Upserting item %i %s %j', dbItem.position, dbItem.url, dbItem);\n            });\n            database.upsert(tableName, dbItems, function (err) {\n                if (err) {\n                    logger.error('Error while upsert items: %s %j', err.message, dbItems);\n                    callback();\n                } else {\n                    cleanUnusedThumbs(dbItems.length, function () {\n                        callback();\n                    });\n                }\n            });\n        });\n    } else {\n        logger.warn('No correct `thumbs` key in migrationData');\n        callback();\n    }\n}\n\n/**\n * Оставляем 25 или 49 тумб в зависимости от настройки\n * В прошлых версиях вз в Хроме тут лежали все тумбы, в том числе и невидимые.\n */\nfunction limitThumbsCount(dbItems) {\n    var maxCount = settings.get('maxAvailableIncreased') ? 49 : 25;\n    if (dbItems.length > maxCount) {\n        logger.info('Limit thumbs count from %i to %i', dbItems.length, maxCount);\n        return dbItems.slice(0, maxCount);\n    } else {\n        return dbItems;\n    }\n}\n\n/**\n * Удаляем из бд тумбы, которые могли остаться после схлопывания\n * @param {Int} currentCount актуальное значение кол-ва тумб\n */\nfunction cleanUnusedThumbs(currentCount, callback) {\n    logger.info('Deleting thumbs with position >= %i', currentCount);\n    database.get('thumbs_shown', {}, function (err, records) {\n        if (err) {\n            callback(err);\n        } else {\n            records = records || [];\n            var positionsToDelete = records\n                .filter(function (record) {\n                    return record && record.position >= currentCount;\n                })\n                .map(function (record) {\n                    return record.position;\n                });\n            logger.info('Deleting positions: %s', positionsToDelete);\n            database.delete('thumbs_shown', positionsToDelete, function (err) {\n                if (err) {\n                    logger.warn('Can not delete positions %s', err.message);\n                }\n                callback();\n            });\n        }\n    });\n}\n\n/**\n * Подтягивает данные по скриншотам: локальный урл и цвета\n */\nfunction calcScreenshotData(dbItems, callback) {\n    var tasks = dbItems\n        .filter(function (dbItem) {\n            return Boolean(dbItem.screenshotFsPath);\n        })\n        .map(function (dbItem) {\n            var getLocalUrl = function (callback) {\n                if (dbItem.screenshotImage) {\n                    callback(null, dbItem.screenshotImage);\n                } else {\n                    fs.getLocalUrl(dbItem.screenshotFsPath, callback);\n                }\n            };\n\n            var calcColors = function (screenshotUrl, callback) {\n                if (!screenshotUrl) {\n                    logger.error('Empty localUrl for %s with path %s', dbItem.url, dbItem.screenshotFsPath);\n                    callback(new Error('Empty localUrl'));\n                    return;\n                } else {\n                    logger.info('Got screenshot localUrl for %s %s', dbItem.url, screenshotUrl);\n                }\n                dbItem.screenshotImage = screenshotUrl;\n                screenshots.calcScreenshotColorsByUrl(screenshotUrl, function (err, colorData) {\n                    if (err) {\n                        logger.error(err.message);\n                        callback(err);\n                    } else {\n                        logger.info('Calculated screenshot colors for %s %j', dbItem.url, colorData);\n                        dbItem.screenshotFontColor = colorData.fontColor;\n                        dbItem.screenshotBgColor = colorData.bgColor;\n                        dbItem.screenshotUpdateTime = Date.now();\n                        callback();\n                    }\n                });\n            };\n\n            return function (callback) {\n                asyncLib.waterfall([\n                    getLocalUrl,\n                    calcColors\n                ], function () {\n                    callback();\n                });\n            };\n        });\n\n    asyncLib.parallel(tasks, callback);\n}\n\n/**\n * Просто пишем пользователей в новом формате в табличку users\n * https://st.yandex-team.ru/VB-4762#1439419764000\n */\nfunction migrateUsers(callback) {\n    if (Array.isArray(migrationData.users)) {\n        logger.info('Migrating users: %i', migrationData.users.length);\n        var dbUsers = migrationData.users\n            .filter(function (user) {\n                return user && user.uid;\n            })\n            .map(function (user) {\n                var dbUser = {\n                    name: user.displayName || '',\n                    lastAuthTime: user.lastAuthTime || 0,\n                    login: user.login,\n                    uid: user.uid,\n                    hasAuth: Boolean(user.hasAuth),\n                    isDefault: Boolean(user.isDefault),\n                };\n                logger.info('Migrating user: %s %s', dbUser.uid, dbUser.name);\n                return dbUser;\n            });\n        database.clearAndInsert('users', dbUsers, function (err) {\n            if (err) {\n                logger.error('Error while inserting users %s %j', err.message, dbUsers);\n            }\n            callback();\n        });\n    } else {\n        logger.warn('No `users` key in migrationData');\n        callback();\n    }\n}\n\n/**\n * Мигрируем данные рекламы\n * https://st.yandex-team.ru/VB-4762#1439390249000\n */\nfunction migrateAdvertisement() {\n    if (migrationData.advertisement && migrationData.advertisement.blocks) {\n        var result = {\n            lastShownBlockId: migrationData.advertisement.lastShownBlockId || null,\n            blocks: {}\n        };\n        var blocks = migrationData.advertisement.blocks;\n        var excludeBlocks = ['vbadbbdoc', 'vbadbbnewver', 'vbadbbnewverrun'];\n        Object.keys(blocks)\n            .filter(function (blockId) {\n                return excludeBlocks.indexOf(blockId) === -1;\n            })\n            .forEach(function (blockId) {\n                result.blocks[blockId] = {\n                    lastShown: blocks[blockId].lastShown || 0,\n                    refuseCount: blocks[blockId].refuseCount || 0,\n                    shownCount: blocks[blockId].shownCount || 0,\n                };\n            });\n        settings.set('advertisementState', result);\n    } else {\n        logger.warn('No `advertisement / blocks` key in migrationData');\n    }\n}\n\n/**\n * Migrates user background.\n * Depends on userBackgroundPath param in migrationData.\n * @param {Function} callback\n */\nfunction migrateUserBackground(callback) {\n    var oldPath = migrationData.userBackgroundPath;\n    var newPath = userBackground.getUserFilePath();\n    if (!oldPath || oldPath === newPath) {\n        callback();\n    } else {\n        logger.info('Migrating user background from %s to %s', oldPath, newPath);\n        moveFileSafe(oldPath, newPath, callback);\n    }\n}\n\n/**\n * Moves file, logs errors.\n * Doesn't pass errors to callback, just logs them.\n * @param {String} oldPath\n * @param {String} newPath\n * @param {Function} callback\n */\nfunction moveFileSafe(oldPath, newPath, callback) {\n    fs.move(oldPath, newPath, function (error) {\n        if (error) {\n            logger.error('Error while moving file %s to %s: %j', oldPath, newPath, error);\n        }\n        callback();\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/migration/2.23.0.js","/**\n * Локальный блэклист: хранит только домены в табличке blacklist,\n * Наполняется при удалении тумб вручную.\n */\n\n'use strict';\n\nvar database = require('../database/database');\nvar logger = require('../../utils/logger').create('Blacklist/local');\nvar pluck = require('lodash/collection/pluck');\n\nvar TABLE_NAME = 'blacklist';\n\nmodule.exports = {\n    get: function (callback) {\n        database.get(TABLE_NAME, {}, function (error, result) {\n            callback(error, pluck(result, 'domain'));\n        });\n    },\n\n    upsertOne: function (domain, callback) {\n        logger.info('Adding: %s', domain);\n        database.upsert(TABLE_NAME, {domain: domain}, function (err) {\n            if (err) {\n                logger.error('Can not upsert domain %s %s', domain, err.message);\n            }\n            if (callback) {\n                callback(err);\n            }\n        });\n    },\n\n    deleteOne: function (domain, callback) {\n        logger.info('Removing: %s', domain);\n        database.delete(TABLE_NAME, domain, function (err) {\n            if (err) {\n                logger.error('Can not delete domain %s %s', domain, err.message);\n            }\n            if (callback) {\n                callback(err);\n            }\n        });\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/blacklist/local.js","/**\n * Sets screenshot data for thumbs\n */\n\n'use strict';\n\nvar asyncLib = require('async');\nvar _ = require('../../utils/lodash');\nvar watcher = require('./watcher');\nvar cache = require('./cache');\nvar collection = require('../thumbs/collection');\nvar logger = require('../../utils/logger').create('Screenshots');\nvar dateUtils = require('../../utils/date');\nvar colorUtils = require('../../utils/colors');\nvar fileUtils = require('../../utils/file-utils');\nvar FileStorage = require('../../utils/file-storage');\nvar urlUtils = require('../../utils/url');\nvar adjustScreenshot = require('./adjust');\nvar loadImage = require('../../utils/load-image');\n\nvar storage;\nvar SCREENSHOT_FORMAT = 'png';\n\n// задержка перед обновлением скриншотов после изменений в коллекции\nvar COLLECTION_ON_CHANGED_DELAY_MS = 300;\n\nexports.SCREENSHOT_DIR = 'screenshots';\n\nexports.init = function () {\n    storage = new FileStorage(exports.SCREENSHOT_DIR);\n    watcher.init();\n    watcher.onUpdated.addListener(handleWatcherUpdate);\n    collection.onChanged.addListener(\n        _.debounce(updateWatchListByCollection, COLLECTION_ON_CHANGED_DELAY_MS)\n    );\n    collection.onLoaded.addListener(updateWatchListByCollection);\n};\n\nexports.clearCache = cache.clear.bind(cache);\n\n/**\n * Рассчитывает данные для скриншота по его урлу\n * (цвет фона, цвет шрифта и таймстемп)\n */\nexports.calcScreenshotColorsByUrl = function (screenshotUrl, callback) {\n    loadImage({url: screenshotUrl}, function (error, img) {\n        if (error) {\n            callback(error);\n        } else {\n            var result = {\n                bgColor: colorUtils.getDominant(img, {bottomQuarter: false, preventSkipColors: false})\n            };\n            result.fontColor = colorUtils.getFontOverlayColorForBackgroundColor(result.bgColor);\n            callback(null, result);\n        }\n    });\n};\n\nfunction updateWatchListByCollection() {\n    cache.updateFromThumbs(collection.items);\n    addThumbsToWatchList(collection.items);\n}\n\nfunction addThumbsToWatchList(thumbs) {\n    watcher.clearWatchList();\n    thumbs.forEach(function (thumb) {\n        watcher.addToWatchList(thumb.url);\n    });\n}\n\nfunction handleWatcherUpdate(tabId, matchedUrls) {\n    var thumbsForUpdate = getThumbsForUpdate(matchedUrls);\n    if (thumbsForUpdate.length === 0) {\n        return;\n    }\n    var cachedScreenshotData = cache.getFirstMatch(matchedUrls);\n    if (cachedScreenshotData && !isThumbScreenshotOld(cachedScreenshotData)) {\n        updateThumbs(thumbsForUpdate, cachedScreenshotData);\n        return;\n    }\n    ifTabAllowedForCapturing(tabId, function (tab) {\n        startCaptureTabFlow(tab, thumbsForUpdate);\n    });\n}\n\nfunction getThumbsForUpdate(matchedUrls) {\n    return collection.items.filter(function (thumb) {\n        return isThumbScreenshotOld(thumb) &&\n            urlUtils.isUrlInList(thumb.url, matchedUrls);\n    });\n}\n\nfunction isThumbScreenshotOld(thumb) {\n    return !thumb.screenshotUpdateTime ||\n        Date.now() - thumb.screenshotUpdateTime > dateUtils.DAY_MS;\n}\n\nfunction ifTabAllowedForCapturing(tabId, callback) {\n    chrome.tabs.get(tabId, function (tab) {\n        if (tab.active && !tab.incognito) {\n            callback(tab);\n        }\n    });\n}\n\nfunction startCaptureTabFlow(tab, thumbsForUpdate) {\n    logger.info('Capture tab %s', tab.url);\n    asyncLib.waterfall([\n        // capture tab\n        function (callback) {\n            chrome.tabs.captureVisibleTab(\n                tab.windowId,\n                {format: SCREENSHOT_FORMAT},\n                function (dataUrl) {\n                    callback(chrome.runtime.lastError, dataUrl);\n                }\n            );\n        },\n\n        // adjust screenshot size (by converting it to canvas)\n        function (dataURL, callback) {\n            adjustScreenshot(dataURL, callback);\n        },\n\n        // save adjusted screenshot to file storage\n        function (dataURI, callback) {\n            var data = {screenshotName: createScreenshotName(thumbsForUpdate)};\n            storage.saveDataURI(dataURI, data.screenshotName, function (error, storageData) {\n                data.screenshotImage = storageData.url;\n                data.screenshotFsPath = storageData.path;\n                callback(error, data);\n            });\n        },\n\n        // calc fontColor, bgColor and update thumbs\n        function (data, callback) {\n            exports.calcScreenshotColorsByUrl(data.screenshotImage, function (error, colorData) {\n                if (error) {\n                    callback(error);\n                } else {\n                    data.screenshotFontColor = colorData.fontColor;\n                    data.screenshotBgColor = colorData.bgColor;\n                    data.screenshotUpdateTime = Date.now();\n                    updateThumbs(thumbsForUpdate, data);\n                    callback();\n                }\n            });\n        }\n\n        // log all errors\n    ], function (error) {\n        if (error) {\n            logger.warn('Error in capture tab flow: %j', error);\n        }\n    });\n}\n\nfunction createScreenshotName(thumbs) {\n    var existingName = getExistingScreenshotName(thumbs);\n    if (existingName) {\n        return existingName;\n    } else {\n        // use random params to avoid collisions\n        // between screenshots for thumbs with same domains\n        return getScreenshotNamePrefix(thumbs) + Date.now() + Math.random();\n    }\n}\n\nfunction getExistingScreenshotName(thumbs) {\n    for (var i = 0; i < thumbs.length; i++) {\n        var thumb = thumbs[i];\n        if (thumb.screenshotFsPath) {\n            return fileUtils.extractName(thumb.screenshotFsPath);\n        }\n    }\n    return null;\n}\n\nfunction getScreenshotNamePrefix(thumbs) {\n    return thumbs[0] ? urlUtils.getNormalDomain(thumbs[0].url) : '';\n}\n\nfunction updateThumbs(thumbsForUpdate, screenshotData) {\n    thumbsForUpdate.forEach(function (thumb) {\n        logger.info('Add screenshot data to thumb %s: %j', thumb.url, screenshotData);\n        _.merge(thumb, screenshotData);\n        thumb.onChanged.dispatch(thumb);\n    });\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./modules/screenshots/screenshots.js","/**\n * @description\n * Подмодуль наблюдения за вкладками. Запуск выполнения скриншота происходит в\n * следующих случаях:\n * 1) В активной вкладке завершилась навигация\n * 2) После активации вкладки с завершенной навигацией\n *\n * Скриншот снимается через @see DELAY_MS миллисекунд. Если вкладка за это\n * время удаляется или становится не активной то выполнение скриншота отменяется.\n *\n * Поддерживается обработка серверных и клиентских редиркетов. А так же снятие\n * скриншотов со вкладок, которые были открыты до установки расширения.\n *\n * URL тумб и вкладок сравниваются без учета протокола и www.\n */\n'use strict';\n\nconst Channel = require('../../utils/channel');\nconst urlUtils = require('../../utils/url');\nconst {watcher: tabsWatcher} = require('../../utils/tabs-watcher-2');\n\nconst urlsToWatchMap = new Map();\nconst tabsTimeouts = new Map();\nlet collection = null;\n\nconst DELAY_MS = 2000;\n\nexports.init = function () {\n    collection = tabsWatcher.storage.query(query);\n\n    collection.forEach(createTabUpdateTask);\n    collection.onUpdated.add((collection, changes) => onCollectionUpdated(changes));\n};\n\nexports.addToWatchList = function (url) {\n    urlsToWatchMap.set(url, normalizeUrl(url));\n    collection.reload();\n};\n\nexports.clearWatchList = function () {\n    urlsToWatchMap.clear();\n    collection.reload();\n};\n\nexports.onUpdated = new Channel();\n\n/**\n * Предикат для выборки активных вкладок в состоянии complete, которые не находятся\n * в режиме инкогнито, и текущая навигация соответствует одной из тумб\n *\n * @param {Tab} tab\n * @returns {Boolean}\n */\nfunction query(tab) {\n    if (!tab.data.active || !tab.isComplete || tab.data.incognito) {\n        return false;\n    }\n\n    return tab.navigation.getNavigationStack()\n        .some(matchSingleUrl);\n}\n\n/**\n * Обработчик изменений коллекции\n *\n * @param {Array} [inserted]\n * @param {Array} [excluded]\n * @param {Array} [removed]\n * @param {Array} [updated]\n */\nfunction onCollectionUpdated({inserted = [], excluded = [], removed = [], updated = []}) {\n    excluded.concat(removed)\n        .forEach(releaseTabUpdateTask);\n\n    inserted.concat(updated)\n        .forEach(createTabUpdateTask);\n}\n\n/**\n * Удаляем стэк навигации для конкретного таба\n *\n * @param {Number} tabId\n */\nfunction releaseTabUpdateTask({id: tabId}) {\n    if (!tabsTimeouts.has(tabId)) {\n        return;\n    }\n\n    clearTimeout(tabsTimeouts.get(tabId));\n    tabsTimeouts.delete(tabId);\n}\n\n/**\n * Создаем задачу для отправки события о необходимости снять скриношот\n *\n * @param {Tab} tab\n */\nfunction createTabUpdateTask(tab) {\n    const tabId = tab.id;\n    clearTimeout(tabsTimeouts.get(tabId));\n\n    const timeoutId = setTimeout(() => sendEvent(tab), DELAY_MS);\n\n    tabsTimeouts.set(tabId, timeoutId);\n}\n\n/**\n * @param {Tab} tab\n */\nfunction sendEvent(tab) {\n    const urls = tab.navigation.getNavigationStack();\n    exports.onUpdated.dispatch(tab.id, getMatchedUrls(urls));\n}\n\n/**\n * Проверияем соответсвует ли тестируемый URL одному из URL из списка urlsToWatchMap.\n *\n * @param {String} testUrl\n * @returns {Boolean}\n */\nfunction matchSingleUrl(testUrl) {\n    testUrl = normalizeUrl(testUrl);\n\n    return Array.from(urlsToWatchMap.values())\n        .some(url => {\n            return urlUtils.isEqualUrls(url, testUrl);\n        });\n}\n\n/**\n * Получаем пересечение списков testUrls и urlsToWatchMap.\n *\n * @param {Array.<String>} testUrls\n * @returns {Array.<String>}\n */\nfunction getMatchedUrls(testUrls) {\n    testUrls = testUrls.map(normalizeUrl);\n\n    return Array.from(urlsToWatchMap)\n        .filter(([, url]) => {\n            return testUrls.some(testUrl => urlUtils.isEqualUrls(url, testUrl));\n        })\n        .map(([key]) => {\n            return key;\n        });\n}\n\n/**\n * Удаляем протокол и www из URL\n *\n * @param  {String} url\n * @returns {String}\n */\nfunction normalizeUrl(url) {\n    return urlUtils.getNormalUrl(url, {www: true, protocol: true});\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/screenshots/watcher.js","/**\n * Loads screenshot into img element and adjusts it's dimensions using canvas api\n * Takes screenshot url, returns data-uri (base64 string)\n */\n'use strict';\n\nvar loadImage = require('../../utils/load-image');\n\nvar WIDTH = 300;\nvar HEIGHT = 150;\nvar SCROLL_WIDTH = 10;\nvar SCREENSHOT_FORMAT = 'image/png';\n\n/**\n * Loads screenshot into img element and adjusts it's dimensions\n * @param {String} imageUrl\n * @param {Function} callback\n */\nmodule.exports = function (imageUrl, callback) {\n    loadImage({url: imageUrl}, function (error, imgElement) {\n        if (error) {\n            callback(error);\n        } else {\n            adjustImage(imgElement, callback);\n        }\n    });\n};\n\n/**\n * Adjusts img dimensions.\n * For better quality uses two steps.\n * @see VBCHROME-451\n * @param {HTMLImageElement} img\n * @param {Function} callback\n */\nfunction adjustImage(img, callback) {\n    var ctx1 = create2DContext(img.width * 0.5, img.height * 0.5);\n    ctx1.drawImage(img, 0, 0, ctx1.canvas.width, ctx1.canvas.height);\n\n    var ctx2 = create2DContext(WIDTH, HEIGHT);\n    var srcWidth = ctx1.canvas.width - SCROLL_WIDTH;\n    var destHeight = Math.ceil(ctx1.canvas.height * WIDTH / ctx1.canvas.width);\n    ctx2.drawImage(ctx1.canvas, 0, 0, srcWidth, ctx1.canvas.height, 0, 0, WIDTH, destHeight);\n\n    callback(null, ctx2.canvas.toDataURL(SCREENSHOT_FORMAT));\n}\n\nfunction create2DContext(width, height) {\n    var canvas = document.createElement('canvas');\n    canvas.width = width;\n    canvas.height = height;\n    return canvas.getContext('2d');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/screenshots/adjust.js","/**\n * Модуль, ответственный за работу с пользовательским фоном\n */\n\n'use strict';\n\nvar storage = require('./storage');\nvar logger = require('../../utils/logger').create('UserBackground');\nvar urlUtils = require('../../utils/url');\nvar asyncLib = require('async');\nvar loadImage = require('../../utils/load-image');\nvar fontColors = require('./font-colors');\n\nvar TEMP_USER_IMAGE_ID = 'usertmp';\n\n/**\n * User background ID\n * @type {String}\n */\nvar USER_IMAGE_ID = 'user';\n\n/**\n * Downloads file by given url to user image destination\n * @param {String} url\n * @param {Function} sendResponse\n */\nexports.download = function (url, sendResponse) {\n    storeUserImage(storage.download.bind(storage), url, sendResponse);\n};\n\n/**\n * Copies file from given path to user image destination\n * @param {String} path\n * @param {Function} sendResponse\n */\nexports.copy = function (path, sendResponse) {\n    storeUserImage(storage.copy.bind(storage), path, sendResponse);\n};\n\n/**\n * Finds user background in localFilesMap object\n * @param {Object} localFilesMap - map {name: url}\n * @return {?Object}\n */\nexports.getFromMap = function (localFilesMap) {\n    if (USER_IMAGE_ID in localFilesMap) {\n        // TODO add to url timestamp of user image instead of random param.\n        var localUrl = urlUtils.addRandomParam(localFilesMap[USER_IMAGE_ID]);\n        return constructBackgroundObject(localUrl);\n    }\n    return null;\n};\n\n/**\n * Retrieves user background from file storage\n * @param {Function} callback\n */\nexports.getFromStorage = function (callback) {\n    storage.getLocalUrl(USER_IMAGE_ID, function (error, fileData) {\n        callback(error, error ? null : urlUtils.addRandomParam(fileData.url));\n    });\n};\n\n/**\n * Returns path to user background\n * @returns {String}\n */\nexports.getUserFilePath = function () {\n    return storage.getFilePath(USER_IMAGE_ID);\n};\n\n/**\n * Stores user image using provided storeMethod\n * @param {StoreMethod} storeMethod - method which can store files\n * @param {String} path - path to user's file\n * @param {Function} sendResponse\n */\nfunction storeUserImage(storeMethod, path, sendResponse) {\n    asyncLib.waterfall([\n        function (callback) {\n            logger.info('Dropping color cache for user background');\n            fontColors.clearCached(USER_IMAGE_ID);\n            logger.info('Saving user background to temporary file');\n            storeMethod(path, TEMP_USER_IMAGE_ID, callback);\n        },\n        function (storageData, callback) {\n            logger.info('Checking that file is an image');\n            if (storageData.url.startsWith('filesystem')) {\n                callback(null, storageData);\n            } else {\n                loadImage({url: storageData.url, noCache: true}, function (error, img) {\n                    if (!error && (!img || img.width === 0)) {\n                        error = new Error('Incorrect user image');\n                    }\n                    callback(error, storageData);\n                });\n            }\n        },\n        function (storageData, callback) {\n            logger.info('Copying temporary file');\n            storage.copy(storageData.path, USER_IMAGE_ID, callback);\n        },\n        function (storageData, callback) {\n            logger.info('Removing temporary file');\n            storage.remove(TEMP_USER_IMAGE_ID, function (error) {\n                callback(error, storageData);\n            });\n        }\n    ], function (error, storageData) {\n        if (error) {\n            logger.error('Error while saving user background: %j', error);\n            sendResponse(null);\n        } else {\n            logger.info('User background has been successfully stored');\n            sendResponse(urlUtils.addRandomParam(storageData.url));\n        }\n    });\n}\n\nfunction constructBackgroundObject(localUrl) {\n    return {\n        id: USER_IMAGE_ID,\n        preview: localUrl,\n        image: localUrl,\n        isUser: true,\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/backgrounds/user-background.js","/**\n * Файловый сторадж для фонов (ленивая загрузка)\n */\n\n'use strict';\n\nvar FileStorage = require('../../utils/file-storage');\n\nmodule.exports = new FileStorage('backgrounds');\n\n\n\n// WEBPACK FOOTER //\n// ./modules/backgrounds/storage.js","/**\n * Модуль, расчитывающий цвет шрифтов для фонов\n * Хранит в настройках {'earth.jpg': 'ffffff', 'user': '000000', ...}\n */\n\n'use strict';\n\nvar COLOR_CACHE_SETTINGS = 'backgroundImagesFontColors';\n\nvar utils = require('../../utils/utils');\nvar colorUtils = require('../../utils/colors');\nvar settings = require('../settings/settings');\nvar logger = require('../../utils/logger').create('Backgrounds/font-colors');\n\n/**\n * Default font color\n */\nexports.DEFAULT_COLOR = colorUtils.OVERLAY_COLOR_BLACK;\n\n/**\n * Returns font colors map\n * @returns {Object}\n */\nexports.getAll = function () {\n    return settings.get(COLOR_CACHE_SETTINGS) || {};\n};\n\n/**\n * Sets font colors map\n * @param {Object} cacheStorage\n */\nexports.setAll = function (cacheStorage) {\n    if (cacheStorage && typeof cacheStorage === 'object' && !Array.isArray(cacheStorage)) {\n        settings.set(COLOR_CACHE_SETTINGS, cacheStorage);\n    } else {\n        logger.error('Invalid data passed to setAll: %j', cacheStorage);\n    }\n};\n\n/**\n * @param {String} backgroundId\n * @returns {String|undefined}\n */\nexports.getCached = function (backgroundId) {\n    var cacheStorage = exports.getAll();\n    return cacheStorage[backgroundId];\n};\n\n/**\n * Сохраняем известные цвета текста (фоны из ПБ)\n * @param {String} backgroundId\n * @param {String} fontColor\n */\nexports.setCached = function (backgroundId, fontColor) {\n    var cacheStorage = exports.getAll();\n    cacheStorage[backgroundId] = fontColor;\n    logger.info('Saved font color %s for background id: %s', fontColor, backgroundId);\n    exports.setAll(cacheStorage);\n};\n\n/**\n * @param {String} backgroundId\n */\nexports.clearCached = function (backgroundId) {\n    var cacheStorage = exports.getAll();\n    if (cacheStorage[backgroundId]) {\n        delete cacheStorage[backgroundId];\n        exports.setAll(cacheStorage);\n    }\n};\n\n/**\n * @param {String} backgroundId\n * @param {String} backgroundUrl\n * @param {Function} callback\n */\nexports.get = function (backgroundId, backgroundUrl, callback) {\n    callback = callback || utils.noop;\n    var cachedColor = exports.getCached(backgroundId);\n    if (!cachedColor) {\n        calculateColor(backgroundId, backgroundUrl, callback);\n    } else {\n        callback(cachedColor);\n    }\n};\n\n/**\n * @param {String} backgroundId\n * @param {String} backgroundUrl\n * @param {Function} callback\n */\nfunction calculateColor(backgroundId, backgroundUrl, callback) {\n    colorUtils.calculateFontColorByUrl(backgroundUrl, function (color) {\n        logger.info('Calculated font color %s for background id: %s', color, backgroundId);\n        exports.setCached(backgroundId, color);\n        callback(color);\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/backgrounds/font-colors.js","/**\n * Модуль, ответственный за работу с фонами из пакета брендирования\n */\n\n'use strict';\n\nvar branding = require('../branding');\nvar logger = require('../../utils/logger').create('Branding backgrounds');\n\n/**\n * Returns backgrounds map from branding\n * @returns {Object} - Map {id: url}\n */\nexports.getBackgrounds = function () {\n    return branding.backgrounds.items.reduce(function (result, brandedBg, index) {\n        if (brandedBg.image && brandedBg.id) {\n            result[brandedBg.id] = constructBackgroundObject(brandedBg, index);\n        }\n        return result;\n    }, {});\n};\n\n/**\n * Returns background by id\n * @param {String} id\n * @returns {Object|undefined}\n */\nexports.getBackground = function (id) {\n    return exports.getBackgrounds()[id];\n};\n\n/**\n * Returns default background\n * @returns {*}\n */\nexports.getDefaultBackground = function () {\n    if (!branding.backgrounds.selected) {\n        logger.error('Default background is empty');\n        return null;\n    }\n    var bgList = exports.getBackgrounds();\n    var keys = Object.keys(bgList);\n    if (!keys.length) {\n        logger.error('No backgrounds found');\n        return null;\n    }\n    var result = bgList[branding.backgrounds.selected];\n    if (!result) {\n        logger.error('No default background in branding');\n    }\n\n    return result;\n};\n\nfunction constructBackgroundObject(brandedBg, index) {\n    return {\n        id: brandedBg.id,\n        index: index,\n        preview: brandedBg.preview || brandedBg.image,\n        image: brandedBg.image,\n        color: brandedBg.color || '',\n        branded: true,\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/backgrounds/branding-backgrounds.js","/**\n * Возвращает актуальые конфиги экспериментов в текущей сборке:\n * Фильтруем по платформе, брендингу.\n * Фильтрация по дате происходит внутри модуля экспериментов в yandex-elements-core\n */\n'use strict';\n\nvar browserInfo = require('../../utils/browser-info');\nvar branding = require('../branding');\nvar ExperimentConfig = require('yandex-elements-core/experiments/experiment-config');\nvar urlUtils = require('../../utils/url');\nvar logger = require('../../utils/logger').create('Experiments/configs');\n\n// конкретные эксперименты в данной сборке\nvar configs = require('../../experiment-configs');\n\nvar actualConfigs;\n\n/**\n * Возвращает актуальые конфиги экспериментов в текущей сборке\n * @returns {Array<ExperimentConfig>}\n */\nexports.get = function () {\n    return actualConfigs || (actualConfigs = getActualConfigs());\n};\n\n/**\n * Устанавливает testid из таба с урлом вида chrome://extensions?testid=20385 или http://localhost?testid=20385\n * Используется только в дев режиме\n */\nexports.tryForceTestId = function (callback) {\n    chrome.tabs.query({}, function (tabs) {\n        var testId = tabs\n            .map(function (tab) {\n                var uri = urlUtils.createURI(tab.url);\n                var isValidHost = false;\n                try {\n                    isValidHost = uri && (uri.hostname() === 'extensions' || uri.hostname() === 'localhost');\n                } catch (e) {}\n                return isValidHost ? uri.search(true).testid : '';\n            })\n            .filter(Boolean)[0];\n        trySetConfigWithTestId(testId);\n        callback();\n    });\n};\n\n/**\n * @returns {Array<ExperimentConfig>}\n */\nfunction getActualConfigs() {\n    return configs.reduce(function (result, config) {\n        if (!isDisabled(config)) {\n            result.push(new ExperimentConfig(config));\n        }\n        return result;\n    }, []);\n}\n\n/**\n * @param {ExperimentConfig} config\n * @returns {Boolean}\n */\nfunction isDisabled(config) {\n    return isDisabledForPlatform(config) || isDisabledForBranding(config);\n}\n\n/**\n * @param {ExperimentConfig} config\n * @returns {Boolean}\n */\nfunction isDisabledForPlatform(config) {\n    return config.platforms && config.platforms.indexOf(browserInfo.platformId) === -1;\n}\n\n/**\n * @param {ExperimentConfig} config\n * @returns {Boolean}\n */\nfunction isDisabledForBranding(config) {\n    return config.brandings && config.brandings.indexOf(branding.vars.regionId) === -1;\n}\n\nfunction trySetConfigWithTestId(testId) {\n    if (!testId) {\n        return;\n    }\n    var suitableConfigs = configs.filter(function (config) {\n        return Boolean(config.types[testId]);\n    });\n    if (suitableConfigs.length === 0) {\n        logger.error('No configs with testid: %s', testId);\n    } else if (suitableConfigs.length === 1) {\n        var config = suitableConfigs[0];\n        config.percent = 100;\n        var newTypes = {};\n        newTypes[testId] = config.types[testId];\n        config.types = newTypes;\n        actualConfigs = [new ExperimentConfig(config)];\n        logger.info('Force experiment %s with testid: %s', config.name, testId);\n    } else {\n        logger.error('Several configs with testid: %s', testId);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/experiments/actual-configs.js","/**\n * Describes experiment config\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar ExperimentConfig =\n/**\n * @param {Object} config\n * @param {String} config.name\n * @param {Object} config.types - {testId: testData} map\n * @param {Number} [config.startTime] - default value is 0\n * @param {Number} config.endTime\n * @param {Boolean} [config.installOnly]\n * @param {Number} [config.percent] percent of users for applying experiments, default value is 100\n * @see https://st.yandex-team.ru/VB-5477\n */\nfunction ExperimentConfig(config) {\n    _classCallCheck(this, ExperimentConfig);\n\n    assertConfig(config);\n    this.name = config.name;\n    this.types = config.types;\n    this.percent = config.percent || 100;\n    this.startTime = config.startTime || 0;\n    this.endTime = config.endTime;\n    this.installOnly = config.installOnly;\n};\n\nexports['default'] = ExperimentConfig;\n\nvar REQUIRED_PROPS = ['name', 'types', 'endTime'];\n\n/**\n * @param {Object} config\n */\nfunction assertConfig(config) {\n    if (!config || !isPropsExist(config, REQUIRED_PROPS)) {\n        throw new Error('Config must be correct!');\n    }\n}\n\n/**\n * @param {Object} config\n * @param {Array} props\n * @returns {Boolean}\n */\nfunction isPropsExist(config, props) {\n    return props.every(function (propName) {\n        return config[propName] !== undefined;\n    });\n}\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/yandex-elements-core/experiments/experiment-config.js\n// module id = 358\n// module chunks = 1","/**\n * Here shall be configs for experiments\n * @see yandex-elements-core/experiments/experiment-config\n * Additional params for configs:\n * @param {Array<String>} platforms - array of desired platform ids\n * @param {Array<String>} brandings - array of desired branding ids\n *\n * @example\n *\n * var branding = require('./modules/branding');\n * var browserInfo = require('./utils/browser-info');\n *\n * {\n *     name: 'voice',\n *     platforms: [browserInfo.CHROME_ID, browserInfo.FX_ID],\n *     brandings: [branding.REGION_BRANDINGS.YANDEX],\n *     percent: 100,\n *     types: {\n *         26638: {enabled: false},\n *         26639: {enabled: true}\n *     },\n *     installOnly: false,\n *     endTime: new Date(2030, 11, 31).getTime(),\n * }\n *\n */\n'use strict';\n\nmodule.exports = [];\n\n\n\n// WEBPACK FOOTER //\n// ./experiment-configs.js","/**\n * Debug-panel\n */\n'use strict';\n\nvar settings = require('../settings/settings');\nvar messaging = require('./messaging');\nvar debug = require('../debug/debug');\nvar utils = require('../../utils/utils');\nvar logger = require('../../utils/logger').create('Frontend/debug-panel');\nvar tabUtils = require('../../utils/tabs');\nvar alarms = require('../../utils/alarms');\nvar platformAbout = require('../../platform/about');\nvar events = require('./events');\nvar thenChrome = require('then-chrome');\n\nvar commandsMap = {\n    toggleDebugMode: function (tabId) {\n        settings.set('debugMode', !settings.get('debugMode'));\n        chrome.tabs.reload(tabId);\n    },\n    reinstall: function (tabId) {\n        debug.reset()\n            .then(() => thenChrome.tabs.reload(tabId))\n            .then(() => debug.reload());\n    },\n    reload: function () {\n        debug.reload();\n    },\n    show: function (tabId, param) {\n        debug.show[param]();\n    },\n    'run|pickup': function () {\n        alarms.trigger('pickup');\n    },\n    open: function (tabId, count, url) {\n        openTabs(count, url);\n    },\n    clear: function (tabId, param) {\n        debug.clear[param]();\n    },\n    'clear|history': function () {\n        chrome.history.deleteAll(utils.noop);\n    },\n    'clear|tabs': function () {\n        removeTabs();\n    },\n};\n\n/**\n * Инициализация\n */\nexports.init = function () {\n    messaging.on(events.frontend.DEBUG_COMMAND, function (req, sender) {\n        runCommand(req.command, sender.tab.id);\n    });\n    messaging.on(events.frontend.DEBUG_SHOW, function (req, sender) {\n        exports.send(sender.tab.id);\n    });\n};\n\n/**\n * Отрисоваться\n */\nexports.send = function (tabId) {\n    messaging.send(events.backend.DEBUG_PANEL, getItems(), tabId);\n};\n\nfunction getItems() {\n    return [\n        {text: 'переустановить ВЗ', command: 'reinstall'},\n        {text: 'перезагрузить фоновую страницу', command: 'reload'},\n        {text: 'закрыть лишние табы (кроме вз и extensions)', command: 'clear|tabs'},\n        {text: (settings.get('debugMode') ? 'отключить' : 'включить') + ' режим отладки', command: 'toggleDebugMode'},\n        {text: 'показать', children: [\n            {text: 'лог', command: 'show|log'},\n            {text: 'настройки', command: 'show|settings'},\n            {text: 'видимые тумбы', command: 'show|thumbs'},\n            {text: 'кеш автоподбора', command: 'show|pickupcache'},\n            {text: 'блэклист пользователя', command: 'show|blacklistUser'},\n            {text: 'блэклист сервера', command: 'show|blacklistServer'},\n            {text: 'состояние рекламы', command: 'show|adv'},\n            {text: 'фоны', command: 'show|bg'},\n            {text: 'брендинг', command: 'show|branding'},\n            {text: 'кастомный брендинг', command: 'show|custombranding'},\n            {text: 'локальные файлы', command: 'show|files'},\n            {text: 'эксперименты', command: 'show|experiments'},\n        ]},\n        {text: 'запустить', children: [\n            {text: 'автоподбор', command: 'run|pickup'},\n            // {text: 'обновление фонов', command: 'run|bg'},\n        ]},\n        {text: 'открыть', children: [\n            {text: '3 mail.ru', command: 'open|3|http://mail.ru'},\n            {text: '3 lenta.ru', command: 'open|3|http://lenta.ru'},\n            {text: '6 поискслов.рф/term/природа', command: 'open|6|http://поискслов.рф/term/природа'},\n            {text: '7 habrahabr.ru', command: 'open|7|http://habrahabr.ru'},\n            {\n                text: '8 www.java.com/ru/download/faq/remove_olderversions.xml',\n                command: 'open|8|http://www.java.com/ru/download/faq/remove_olderversions.xml'\n            },\n            {\n                text: '8 http://www.java.com/ru/download/help/disable_browser.xml',\n                command: 'open|8|http://www.java.com/ru/download/help/disable_browser.xml'\n            },\n            {text: '9 ya.ru', command: 'open|9|https://ya.ru'},\n            {\n                text: '10 ton-2006.happy-masters.ru/slovar.html',\n                command: 'open|10|http://ton-2006.happy-masters.ru/slovar.html'\n            },\n            {text: '6 about:config', command: 'open|6|about:config'},\n            {text: '6 chrome://extensions', command: 'open|6|chrome://extensions'},\n            {text: '7 www.dojki.com', command: 'open|7|http://www.dojki.com'},\n            {text: '7 signin.ebay.com', command: 'open|7|https://signin.ebay.com'},\n        ]},\n        {text: 'очистить', children: [\n            {text: 'бэкап', command: 'clear|backup'},\n            {text: 'настройки', command: 'clear|settings'},\n            {text: 'базу', command: 'clear|db'},\n            {text: 'историю', command: 'clear|history'},\n            // {text: 'локальные файлы', command: 'clear|files'},\n            {text: 'лишние табы (кроме вз и extensions)', command: 'clear|tabs'},\n        ]},\n        // реклама, эксперименты\n    ];\n}\n\nfunction runCommand(command, tabId) {\n    var parts = command.split('|');\n    var baseCommand = parts.shift();\n    if (commandsMap[command]) {\n        commandsMap[command]();\n    } else if (commandsMap[baseCommand]) {\n        commandsMap[baseCommand].apply(null, [tabId].concat(parts));\n    } else {\n        logger.error('Command not found: %s', command);\n    }\n}\n\n/**\n * Открываем урлы. Удобно для формирования истории под тестирование автоподбора\n */\nfunction openTabs(count, url) {\n    for (var i = 0; i < count; i++) {\n        chrome.tabs.create({url: url, active: false});\n    }\n}\n\n/**\n * Закрываем все табы кроме вз и списка расширений\n */\nfunction removeTabs() {\n    tabUtils.getOpen(function (err, tabs) {\n        var extensionsTabFound = false;\n        tabs.forEach(function (tab) {\n            if (tab.url === platformAbout.visbookmarksUrl) {\n                return;\n            }\n            if (tab.url === 'chrome://extensions/' && !extensionsTabFound) {\n                extensionsTabFound = true;\n                return;\n            }\n            chrome.tabs.remove(tab.id, utils.noop);\n        });\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/debug-panel.js","/**\n * Объект для отладки модулей\n *\n * Все методы становятся доступны у объекта debug, а также в виде геттеров у объекта debug.getters,\n * который мы экспортируем в глобальную область для доступа из консоли.\n *\n * Например:\n *\n * debug.show.log();\n * и геттер в консоли:\n * debug.show.log\n *\n */\n'use strict';\n\nvar settings = require('../settings/settings');\nvar files = require('./files');\nvar log = require('./log');\nvar advertisement = require('./advertisement');\nvar _ = require('../../utils/lodash');\nvar dateUtils = require('../../utils/date');\nvar buildData = require('./build-data');\nvar backup = require('../backup');\nvar platformAbout = require('../../platform/about');\nvar tabOpener = require('./opener');\nvar state = require('./state');\nvar database = require('../database/database');\nvar platformBranding = require('../../platform/branding');\nvar branding = require('../branding');\nvar remoteBrandingStorage = require('../branding/remote/storage');\nvar experiments = require('../experiments');\nvar backgroundSelector = require('../backgrounds/selector');\n\nvar help = [\n    ['npm.*', 'доступ к npm-овским модулям, например debug.npm.URI'],\n    ['modules.*', 'доступ к модулям, например debug.modules.settings.settings.get(...)'],\n    ['utils.*', 'доступ к утилитам'],\n    ['platform.*', 'доступ к платформе'],\n];\n\nvar debug = module.exports = {};\nvar getters = debug.getters = _.extend({}, require('./file-structure'));\n\naddCommand('help', 'помощь',\n    function () {\n        // eslint-disable-next-line no-console\n        console.log('----- DEBUG COMMANDS -----');\n        help.sort(function (a, b) {\n            return a[0] > b[0] ? 1 : -1;\n        });\n        var maxLength = 0;\n        help.forEach(function (h) {\n            maxLength = h[0].length > maxLength ? h[0].length : maxLength;\n        });\n        maxLength = maxLength + 4;\n        help.forEach(function (h) {\n            // eslint-disable-next-line no-console\n            console.log('debug.' + h[0], _.repeat(' ', maxLength - h[0].length), '- ' + h[1]);\n        });\n    }\n);\n\naddCommand('setInstallDate', 'выставить дату установки, пример setInstallDate(день, месяц, [год])',\n    function (d, m, y) {\n        if (!d || d > 31) {\n            return 'Invalid day, example debug.setInstallDate(15, 5, 1984)';\n        }\n        if (!m || m > 12) {\n            return 'Invalid month, example debug.setInstallDate(15, 5, 1984)';\n        } else {\n            m -= 1;\n        }\n        y = y || new Date().getFullYear();\n        var date = new Date(y, m, d);\n        settings.set('appInstallTime', Math.round(date.getTime() / 1000));\n        return 'New install date: ' + dateUtils.format(date, '%D.%M.%Y');\n    }\n);\n\naddCommand('reset', 'очистка базы, удаление бэкапа и сброс настроек',\n    function () {\n        return Promise.all([\n            backup.clear(),\n            database.deleteDatabase(),\n            files.removeAll(),\n        ]).then(resetSettings);\n    }\n);\n\naddCommand('reload', 'перезагрузить фоновую страницу',\n    function () {\n        // не используем location.reload(), т.к. это вызывает проблемы в ие\n        window.location.href = window.location.href + '?' + Math.random();\n    }\n);\n\naddCommand('enableLog', 'включить лог в консоли',\n    function () {\n        // todo\n    }\n);\n\naddCommand('log', 'вывести лог в отдельный таб',\n    function () {\n        debug.show.log();\n    }\n);\n\naddCommand('adv.showBlock', 'показать рекламный блок (например, adv.showBlock(\"newbackground\"))',\n    function (blockId) {\n        advertisement.show(blockId);\n    }\n);\n\naddCommand('show.log', 'вывести лог в отдельный таб',\n    function () {\n        log.openInTab();\n    }\n);\n\naddCommand('show.thumbs', 'вывести видимые тумбы в отдельный таб',\n    function () {\n        tabOpener.openAsFile('Thumbs', state.getThumbs());\n    }\n);\n\naddCommand('show.settings', 'вывести настройки в отдельный таб',\n    function () {\n        tabOpener.openAsFile('Settings', state.getSettings());\n    }\n);\n\naddCommand('show.pickupcache', 'вывести кеш АП в отдельный таб',\n    function () {\n        state.getPickupcache(function (err, items) {\n            tabOpener.openAsFile('Pickup cache', items);\n        });\n    }\n);\n\naddCommand('show.blacklistUser', 'вывести блэклист пользователя в отдельный таб',\n    function () {\n        state.getBlacklistUser(function (err, items) {\n            tabOpener.openAsFile('Blacklist (user)', items);\n        });\n    }\n);\n\naddCommand('show.blacklistServer', 'вывести блэклист сервера в отдельный таб',\n    function () {\n        tabOpener.openAsFile('Blacklist (server)', state.getBlacklistServer());\n    }\n);\n\naddCommand('show.bg', 'вывести список фонов в отдельный таб',\n    function () {\n        tabOpener.openAsFile('Backgrounds', state.getBg());\n    }\n);\n\naddCommand('show.adv', 'вывести состояние рекламы в отдельный таб',\n    function () {\n        tabOpener.openAsFile('Advertisement', advertisement.getState());\n    }\n);\n\naddCommand('show.branding', 'вывести данные брендинга в отдельный таб',\n    function () {\n        var regionalData = platformBranding.getData();\n        var data = Object.keys(regionalData).reduce(function (res, key) {\n            res[key] = branding.getBlock(key);\n            return res;\n        }, {});\n        tabOpener.openAsFile('Branding', data);\n    }\n);\n\naddCommand('show.custombranding', 'вывести данные кастомного брендинга в отдельный таб',\n    function () {\n        tabOpener.openAsFile('Custom branding', remoteBrandingStorage.getData());\n    }\n);\n\naddCommand('show.files', 'вывести список локальных файлов в отдельный таб',\n    function () {\n        if (platformAbout.isChr) {\n            files.openChromeFS();\n            return;\n        }\n\n        if (platformAbout.isFx) {\n            files.openFirefoxFS();\n            return;\n        }\n\n        files.getFileList(function (err, items) {\n            tabOpener.openAsFile('Files', items);\n        });\n    }\n);\n\naddCommand('show.buildInfo', 'вывести информацию о сборке в отдельный таб',\n    function () {\n        tabOpener.openAsFile('Build info', buildData);\n    }\n);\n\naddCommand('show.experiments', 'вывести информацию об экспериментах',\n    function () {\n        tabOpener.openAsFile('Experiments', {\n            selected: experiments.getExperimentsList(),\n            possible: require('../../experiment-configs'),\n        });\n    }\n);\n\naddCommand('clear.db', 'очистить базу данных',\n    function () {\n        database.deleteDatabase();\n    }\n);\n\naddCommand('clear.backup', 'очистить бэкап',\n    function () {\n        backup.clear();\n    }\n);\n\naddCommand('clear.settings', 'очистить настройки',\n    function () {\n        return resetSettings();\n    }\n);\n\n/**\n *\n * @param {String} cmd\n * @param {String} desc\n * @param {Function} fn\n */\nfunction addCommand(cmd, desc, fn) {\n    var parts = cmd.split('.');\n    var obj;\n    var objGetters;\n    var cmdName;\n    if (parts.length > 1) {\n        obj = debug[parts[0]] = debug[parts[0]] || {};\n        objGetters = getters[parts[0]] = getters[parts[0]] || {};\n        cmdName = parts[1];\n    } else {\n        obj = debug;\n        objGetters = getters;\n        cmdName = parts[0];\n    }\n    obj[cmdName] = fn;\n    /*\n     * ВНИМАНИЕ!\n     * Для консоли все намеренно сделано в виде геттеров, чтобы удобно было набирать.\n     * В любом другом месте это плохой паттерн!\n     */\n    Object.defineProperty(objGetters, cmdName, {get: fn});\n    help.push([cmd, desc]);\n}\n\n/**\n * Сброс пользовательских настроек к настройкам по умолчанию.\n * Фон, пользовательские настройки.\n * @returns {Promise}\n */\nfunction resetSettings() {\n    settings.resetDefaults();\n    return new Promise (function (resolve) {\n        backgroundSelector.selectDefaultBackground(resolve);\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/debug/debug.js","/**\n * Содержит методы для логирования списка файлов\n */\n'use strict';\n\nvar asyncLib = require('async');\nvar platformFs = require('../../platform/file-storage');\n\nvar FILE_DIRS = {\n    'root': '/',\n    'cloud-logo': require('../cloud-logo/saver').CLOUD_LOGO_DIR,\n    'cloud-logo-sub': require('../cloud-logo/saver').CLOUD_LOGO_SUB_DIR,\n    favicons: require('../favicon').FAVICON_DIR,\n    backgrounds: require('../backgrounds/storage').directory,\n    screenshots: require('../screenshots/screenshots').SCREENSHOT_DIR,\n    tableau: require('../site-info/tableau').TABLEAU_DIR,\n};\n\nexports.openChromeFS = function () {\n    chrome.tabs.create({url: 'filesystem:chrome-extension://' + chrome.runtime.id + '/persistent/'});\n};\n\nexports.openFirefoxFS = function () {\n    platformFs.getFileUrl(FILE_DIRS.root, function (err, url) {\n        chrome.tabs.create({url: url});\n    });\n};\n\nexports.getFileList = function (callback) {\n    var tasks = Object.keys(FILE_DIRS).reduce(function (res, dirName) {\n        res[dirName] = function (callback) {\n            readDir(FILE_DIRS[dirName], callback);\n        };\n        return res;\n    }, {});\n    asyncLib.parallel(tasks, callback);\n};\n\n/**\n * Удаление всех локальных файлов\n * @returns {Promise}\n */\nexports.removeAll = function () {\n    var dirs = Object.keys(FILE_DIRS)\n        .filter(function (name) {\n            return name !== 'root'\n        });\n\n    return removeFiles(dirs);\n};\n\nfunction readDir(dir, callback) {\n    asyncLib.waterfall([\n        function (callback) {\n            platformFs.list(dir, callback);\n        },\n        function (files, callback) {\n            asyncLib.series(files.map(function (fileName) {\n                return platformFs.getFileUrl.bind(platformFs, fileName);\n            }), callback);\n        }\n    ], callback);\n}\n\n/**\n * Удаление файлов по url/имени\n * @param   {Array<String>}   namesOrUrls\n * @returns {Promise}\n */\nfunction removeFiles(namesOrUrls) {\n    return new Promise(function (resolve) {\n        asyncLib.parallel(\n            namesOrUrls.map(function (nameOrUrl) {\n                return platformFs.remove.bind(platformFs, nameOrUrl);\n            }),\n            resolve\n        );\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/debug/files.js","/**\n * Методы для вывода лога\n */\n'use strict';\n\nvar platformLog = require('../../platform/log');\nvar tabOpener = require('./opener');\n\nvar SYSTEM_DEBUG_URL = 'http://visualbookmarks.log/';\nvar timeout;\n\nexports.init = function () {\n    // при открытии таба по системному урлу http://visualbookmarks.log, отображаем там логи\n    chrome.tabs.onUpdated.addListener(function (tabId, changeInfo, tab) {\n        if (tab.url === SYSTEM_DEBUG_URL) {\n            clearTimeout(timeout);\n            timeout = setTimeout(function () {\n                exports.openInTab(tabId);\n            }, 100);\n        }\n    });\n};\n\nexports.openInTab = function (tabId) {\n    platformLog.getAsText(function (str) {\n        tabOpener.openAsFile('Log', str, tabId);\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/debug/log.js","/**\n * Platform log - writing to file\n */\n'use strict';\n\nvar fs = require('../platform/file-storage');\n\n// When file size is bigger than MAX_SIZE, copy it to debug-old.log and truncate\nvar DEBUG_FILENAME = 'debug.log';\nvar DEBUG_FILENAME_OLD = 'debug-old.log';\nvar DEBUG_MAX_SIZE = 5 * 1024 * 1024; // 5 Mb\nvar MAX_NESSAGES_QUEUE_LENGTH = 500;\n\nvar isRunning = false;\nvar messagesQueue = [];\nvar messagesQueueWriting = [];\n\nmodule.exports = {\n    // все методы одна и та же функция, потому что log-level уже прописан в строке\n    info: write,\n    warn: write,\n    error: write,\n    getAsText: function (callback) {\n        fs.readAsText(DEBUG_FILENAME, function (err, debug) {\n            debug = debug || '';\n            fs.readAsText(DEBUG_FILENAME_OLD, function (err, debugOld) {\n                debugOld = debugOld || '';\n                if (debugOld) {\n                    debugOld = debugOld + '\\n======= DEBUG-OLD END =======\\n';\n                }\n                callback(debugOld + debug);\n            });\n        });\n    }\n};\n\nfunction write(str) {\n    if (arguments.length) {\n        messagesQueue.push(str);\n        truncateQueue(messagesQueue);\n    }\n\n    if (!messagesQueue.length || !fs.isInitialized || isRunning) {\n        return;\n    }\n\n    isRunning = true;\n\n    messagesQueueWriting = messagesQueueWriting.concat(messagesQueue);\n    truncateQueue(messagesQueueWriting);\n    messagesQueue.length = 0;\n\n    fs.write(DEBUG_FILENAME, {\n        data: '\\n' + messagesQueueWriting.join('\\n'),\n        type: 'text/plain',\n        append: true\n    }, onWrite);\n}\n\n/**\n * On write handler\n */\nfunction onWrite(err, fileEntry, fileWriter) {\n    if (!err) {\n        messagesQueueWriting.length = 0;\n        if (fileWriter.length > DEBUG_MAX_SIZE) {\n            fs.move(DEBUG_FILENAME, '.', DEBUG_FILENAME_OLD, function () {\n                isRunning = false;\n                // если что-то осталось в буфере, пытаемся дописать\n                write();\n            });\n        } else {\n            isRunning = false;\n            // если что-то осталось в буфере, пытаемся дописать\n            write();\n        }\n    } else {\n        isRunning = false;\n    }\n}\n\n/**\n * truncate queue if too may items\n */\nfunction truncateQueue(queue) {\n    if (queue.length > MAX_NESSAGES_QUEUE_LENGTH) {\n        queue.splice(0, MAX_NESSAGES_QUEUE_LENGTH / 2);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./platform/log.js","/**\n * Открывает текст в виде html файла\n */\n'use strict';\n\nvar escape = require('lodash/string/escape');\nvar platformFs = require('../../platform/file-storage');\n\nexports.openAsFile = function (title, text, tabId) {\n    if (typeof text !== 'string') {\n        try {\n            text = JSON.stringify(text, false, 2);\n        } catch (e) {}\n    }\n    var fileName = 'temp.html';\n    var html = decorate(title, text);\n    var data = {data: html, type: 'text/html', append: false};\n    platformFs.write(fileName, data, function () {\n        platformFs.getFileUrl(fileName, function (err, url) {\n            if (tabId) {\n                chrome.tabs.update(tabId, {url: url});\n            } else {\n                chrome.tabs.create({url: url});\n            }\n        });\n    });\n};\n\nfunction decorate(title, text) {\n    return '<head><title>' + title + '</title><meta charset=\"utf-8\"></head></head><body>' +\n        '<h2>' + title + '</h2>' +\n            // '<div><a href=\"\" onclick=\"this.href=window.location.href\" download=\"vb.html\"' +\n            // 'style=\"font-weight: bold\">Save as</a></div>' +\n        '<pre style=\"word-wrap: break-word; white-space: pre-wrap;\">' + escape(text) + '</pre>' +\n        '</body>';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/debug/opener.js","var baseToString = require('../internal/baseToString'),\n    escapeHtmlChar = require('../internal/escapeHtmlChar');\n\n/** Used to match HTML entities and HTML characters. */\nvar reUnescapedHtml = /[&<>\"'`]/g,\n    reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n/**\n * Converts the characters \"&\", \"<\", \">\", '\"', \"'\", and \"\\`\", in `string` to\n * their corresponding HTML entities.\n *\n * **Note:** No other characters are escaped. To escape additional characters\n * use a third-party library like [_he_](https://mths.be/he).\n *\n * Though the \">\" character is escaped for symmetry, characters like\n * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n * unless they're part of a tag or unquoted attribute value.\n * See [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n * (under \"semi-related fun fact\") for more details.\n *\n * Backticks are escaped because in Internet Explorer < 9, they can break out\n * of attribute values or HTML comments. See [#59](https://html5sec.org/#59),\n * [#102](https://html5sec.org/#102), [#108](https://html5sec.org/#108), and\n * [#133](https://html5sec.org/#133) of the [HTML5 Security Cheatsheet](https://html5sec.org/)\n * for more details.\n *\n * When working with HTML you should always [quote attribute values](http://wonko.com/post/html-escaping)\n * to reduce XSS vectors.\n *\n * @static\n * @memberOf _\n * @category String\n * @param {string} [string=''] The string to escape.\n * @returns {string} Returns the escaped string.\n * @example\n *\n * _.escape('fred, barney, & pebbles');\n * // => 'fred, barney, &amp; pebbles'\n */\nfunction escape(string) {\n  // Reset `lastIndex` because in IE < 9 `String#replace` does not.\n  string = baseToString(string);\n  return (string && reHasUnescapedHtml.test(string))\n    ? string.replace(reUnescapedHtml, escapeHtmlChar)\n    : string;\n}\n\nmodule.exports = escape;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/string/escape.js\n// module id = 366\n// module chunks = 1","/** Used to map characters to HTML entities. */\nvar htmlEscapes = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '`': '&#96;'\n};\n\n/**\n * Used by `_.escape` to convert characters to HTML entities.\n *\n * @private\n * @param {string} chr The matched character to escape.\n * @returns {string} Returns the escaped character.\n */\nfunction escapeHtmlChar(chr) {\n  return htmlEscapes[chr];\n}\n\nmodule.exports = escapeHtmlChar;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/escapeHtmlChar.js\n// module id = 367\n// module chunks = 1","/**\n * Для дебага рекламы\n */\n'use strict';\n\nvar advertisement = require('../advertisement');\nvar settings = require('../settings/settings');\nvar dateUtils = require('../../utils/date');\n\nexports.getState = function () {\n    var result = {NOW: formatDate(new Date())};\n    result.blocks = advertisement.getAllBlocks().map(function (block) {\n        return {\n            block: block.getId().toUpperCase(),\n            status: getTextStatus(block),\n            state: getState(block),\n        };\n    });\n    return result;\n};\n\nexports.show = function (blockId) {\n    var block = advertisement.getBlockById(blockId);\n    var blocks = advertisement.getAllBlocks();\n    if (!block) {\n        var blocksStr = blocks.map(function (block) {\n            return block.getId();\n        }).join(', ');\n        return 'Block not found! Available blocks: ' + blocksStr;\n    }\n    block.startShowing();\n    // остальные блоки нужно сбросить, иначе в режиме silent все равно ничего не покажется\n    blocks.forEach(function (block) {\n        if (block.getId() !== blockId) {\n            block._state.lastShown = 0;\n            block._state.lastRefuse = 0;\n        }\n    });\n};\n\nfunction getTextStatus(block) {\n    if (block.isShowing()) {\n        return block._config.duration\n            ? 'showing ' + block._config.duration + ' day(s) until: ' +\n               formatDate(block._state.lastShown + block._config.duration * dateUtils.DAY_MS)\n            : 'showing infinitly';\n    }\n\n    if (block.isSilent()) {\n        return 'silent ' + block._config.silent + ' day(s) until: ' +\n            formatDate(block._state.lastRefuse + block._config.silent * dateUtils.DAY_MS);\n    }\n\n    if (!block.isSilent() && block.isInterval()) {\n        return 'interval ' + block._config.interval + ' day(s) until: ' +\n            formatDate(block._state.lastRefuse + block._config.interval * dateUtils.DAY_MS);\n    }\n\n    if (block._isAfterInstallReached()\n        && !block.isShowing()\n        && !block.isSilent()\n        && !block.isInterval()) {\n        return 'normal';\n    }\n\n    if (!block._isAfterInstallReached()\n        && block._state.shownCount === 0) {\n        return 'waiting ' + block._config.afterInstall + ' day(s) after install, until: ' +\n            formatDate(settings.get('appInstallTime') * 1000 + block._config.afterInstall * dateUtils.DAY_MS);\n    }\n\n    return 'unknown';\n}\n\nfunction getState(block) {\n    var dateFields = ['lastRefuse', 'lastShown'];\n    return Object.keys(block._state).reduce(function (res, key) {\n        if (key === 'data') {\n            return res;\n        }\n        var value = block._state[key];\n        if (dateFields.indexOf(key) >= 0 && value > 0) {\n            res[key] = formatDate(value);\n        } else {\n            res[key] = value;\n        }\n        return res;\n    }, {});\n}\n\nfunction formatDate(date) {\n    return dateUtils.format(date, '%D.%M.%Y %H:%N');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/debug/advertisement.js","/**\n * Реклама\n * https://beta.wiki.yandex-team.ru/visualbookmarks/advertonvb/\n */\n\n'use strict';\n\nvar logger = require('../../utils/logger').create('Advertisement');\nvar _ = require('../../utils/lodash');\nvar ticker = require('./ticker');\nvar RemoteConfigListener = require('./remote-config-listener');\nvar channel = require('../../utils/channel');\nvar Group = require('./group');\nvar Block = require('./block');\n\nvar SHOWING_CHANGED_DELAY_MS = 100;\n\n/**\n * Информация о рекламных группах и о блоках в каждой группе\n */\nvar groupsConfig = {\n    startsearch: [\n        {priority: 1, factory: require('./blocks/vbsethome')},\n        {priority: 2, factory: require('./blocks/vbsetsearch')},\n    ],\n    statoffer: [\n        {priority: 0, factory: require('./blocks/statoffer')},\n    ],\n    tutorials: [\n        {priority: 1, factory: require('./blocks/dailyback')},\n        {priority: 2, factory: require('./blocks/vbaddthumb')},\n        {priority: 3, factory: require('./blocks/newbackground')},\n        {priority: 4, factory: require('./blocks/vbfilebackup')},\n        {priority: 5, factory: require('./blocks/vbvoice')},\n    ]\n};\n\nvar groups = [];\n\n/**\n * Инициализация\n */\nexports.init = function () {\n    ticker.init();\n    ticker.onTick.addListener(exports.checkGroups);\n    // Для эксперимента с ротацией фонов отключаем всю остальную рекламу, чтобы форсированно вызвать обучалку\n    // processRotation();\n    initGroups();\n    new RemoteConfigListener(exports.getAllBlocks());\n};\n\n/**\n * Возвращает список всех блоков\n */\nexports.getAllBlocks = function () {\n    return groups.reduce(function (res, group) {\n        return res.concat(group.getBlocks());\n    }, []);\n};\n\n/**\n * Проверяет состояние блоков в группе. Что может измениться:\n * - необходимость показа блока needShowing\n * - закрытие блока по таймауту duration\n */\nexports.checkGroups = function () {\n    groups.forEach(function (group) {\n        group.check();\n    });\n};\n\n/**\n * Возвращает список всех групп\n */\nexports.getGroups = function () {\n    return groups;\n};\n\n/**\n * Вернуть блоки, которые показываются сейчас\n */\nexports.getShowingBlocks = function () {\n    return exports.getShowingBlocksForGroup(null);\n};\n\n/**\n * @param {String} [groupId]\n * @returns {Array<Object>}\n */\nexports.getShowingBlocksForGroup = function (groupId) {\n    return groups\n        .map(function (group) {\n            if (groupId && group.getId() !== groupId) {\n                return null;\n            }\n            return group.getShowingBlock();\n        })\n        .filter(Boolean);\n};\n\n/**\n * Вернуть блок по id\n */\nexports.getBlockById = function (id) {\n    return exports.getAllBlocks().filter(function (block) {\n        return block.getId() === id;\n    })[0];\n};\n\n/**\n * Закрытие блока пользователем\n */\nexports.refuseByUser = function (blockId, data) {\n    var block = exports.getBlockById(blockId);\n    if (block) {\n        block.refuse(Block.REFUSE_REASON.USERCLOSE, data);\n    } else {\n        logger.warn('Unknown block to refuse: %s', blockId);\n    }\n};\n\n/**\n * Принятие блока\n */\nexports.accept = function (blockId, data) {\n    var block = exports.getBlockById(blockId);\n    if (block) {\n        block.refuse(Block.REFUSE_REASON.ACCEPT, data);\n    } else {\n        logger.warn('Unknown block to accept: %s', blockId);\n    }\n};\n\nexports.onShowingChanged = channel.create();\n\nfunction initGroups() {\n    groups = Object.keys(groupsConfig).map(function (groupId) {\n        var group = new Group(groupId);\n        groupsConfig[groupId].forEach(function (blockInfo) {\n            group.addBlock(blockInfo.factory(), blockInfo.priority);\n        });\n        group.onShowingChanged.addListener(onShowingChanged);\n        return group;\n    });\n}\n\n/**\n * Обработка изменения списка показываемых блоков\n */\nvar onShowingChanged = _.debounce(function () {\n    exports.onShowingChanged.dispatch();\n}, SHOWING_CHANGED_DELAY_MS);\n\n\n\n// WEBPACK FOOTER //\n// ./modules/advertisement/index.js","/**\n * Проверка рекламных блоков каждые 30 мин\n */\n\n'use strict';\n\nvar alarms = require('../../utils/alarms');\nvar channel = require('../../utils/channel');\n\nvar ALARM = {\n    name: 'advertisementCheck',\n    periodInMinutes: 30\n};\n\n// задержка проверки рекламы после срабатывания аларма\n// нужна для того, чтобы при старте успели сработать другие алармы, которые могут изменить условия показа блоков\nvar TICK_DELAY_MS = 5000;\n\n/**\n * Инициализация\n */\nexports.init = function () {\n    alarms.register(ALARM, function () {\n        setTimeout(() => exports.onTick.dispatch(), TICK_DELAY_MS);\n    });\n};\n\n/**\n * Тик\n */\nexports.onTick = channel.create('Advertisement/ticker.onTick');\n\n\n\n// WEBPACK FOOTER //\n// ./modules/advertisement/ticker.js","/**\n * Слушаем изменения remote-config и обновляем у блоков поле enabled\n */\n\n'use strict';\n\nvar remoteConfig = require('../remote-config');\nvar _ = require('../../utils/lodash');\n\nvar Listener = module.exports = function (blocks) {\n    this._blocks = blocks;\n    remoteConfig.onUpdated.addListener(this._processConfigAds.bind(this));\n};\n\nListener.prototype._processConfigAds = function (config) {\n    this._blocks.forEach(function (block) {\n        var blockId = block.getId();\n        var enabled = _.get(config, 'ads.' + blockId + '.enabled');\n        if (typeof enabled === 'boolean' && enabled !== block.isEnabled()) {\n            block.updateEnabled(enabled);\n        }\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/advertisement/remote-config-listener.js","/**\n * Загружаем дополнительный конфиг с сервера, раз в сутки\n * (на данный момент только инфа о вкл/выкл рекламных блоков)\n */\n\n'use strict';\n\nvar utils = require('../../utils/utils');\nvar alarms = require('../../utils/alarms');\nvar channel = require('../../utils/channel');\nvar settings = require('../settings/settings');\nvar deepEqual = require('deep-equal');\nvar formatMessage = require('../../utils/format-message');\n\nvar logger = require('../../utils/logger').create('Remote-config');\n\nvar ALARM = {\n    name: 'remote-config',\n    periodInMinutes: 24 * 60\n};\n\nvar CONFIG_URL = 'https://download.cdn.yandex.net/bar/vb/config.json';\nvar SETTING_NAME = 'remoteConfig';\n\n/**\n * Инициализация\n */\nexports.init = function () {\n    alarms.register(ALARM, exports.check);\n};\n\n/**\n * Поход на сервер за конфигом\n */\nexports.check = function (callback) {\n    callback = callback || utils.noop;\n    var url = CONFIG_URL;\n    logger.info('Checking %s', url);\n    utils.xhr({\n        url: url,\n        logError: true,\n        parse: 'json',\n    }, function (err, config) {\n        logCheckErrors(err);\n        if (err) {\n            callback(err);\n        } else {\n            processNewConfig(config, callback);\n        }\n    });\n};\n\n/**\n * Сообщения про обновление конфига\n */\nexports.onUpdated = channel.create('remote-config-checker.onUpdated');\n\nfunction processNewConfig(newConfig, callback) {\n    if (!isValidConfig(newConfig)) {\n        var message = formatMessage('Invalid remote config %j', newConfig);\n        callback(new Error(message));\n        return;\n    }\n    var currentConfig = settings.get(SETTING_NAME) || {};\n    var hasChanges = !deepEqual(currentConfig, newConfig);\n    if (hasChanges) {\n        settings.set(SETTING_NAME, newConfig);\n        logger.info('Config updated to %j', newConfig);\n        exports.onUpdated.dispatch(newConfig);\n    }\n    callback(null, newConfig);\n}\n\nfunction isValidConfig(config) {\n    return config && Object.keys(config).length > 0;\n}\n\nfunction logCheckErrors(error) {\n    if (error) {\n        logger.error(error.message);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/remote-config/index.js","/**\n * Группа блоков: одно рекламное место, в котором одновременно может быть показан только один блок\n *\n */\n'use strict';\n\nvar channel = require('../../utils/channel');\nvar logger = require('../../utils/logger').create('Advertisement/group');\n\nvar Group = module.exports = function (groupId) {\n    this._id = groupId;\n    this._blocks = [];\n    this.onShowingChanged = channel.create();\n    this.onShowingChangedDispatcher = this.onShowingChanged.dispatch.bind(this.onShowingChanged);\n};\n\n/**\n * @returns {String}\n */\nGroup.prototype.getId = function () {\n    return this._id;\n};\n\n/**\n * Добавляет блок с определенным приоритетом\n */\nGroup.prototype.addBlock = function (block, priority) {\n    block.priority = priority;\n    this._blocks.push(block);\n    block.onStartShowing.addListener(this.onShowingChangedDispatcher);\n    block.onRefuse.addListener(this.onShowingChangedDispatcher);\n    block.onEnabledChanged.addListener(function (block) {\n        // если блок показывается, то событие onEnabledChanged может повлиять на отображение\n        if (block.isShowing()) {\n            this.onShowingChangedDispatcher();\n        }\n    }.bind(this));\n    logger.info('Group %s: registered block %s with priority %i', this._id, block.getId(), block.priority);\n};\n\n/**\n * Проверяет состояние блоков. Что может измениться:\n * - закрытие блока по таймауту duration\n * - необходимость показа блока needShowing\n */\nGroup.prototype.check = function () {\n    this._getEnabledBlocks().forEach(function (block) {\n        block.check();\n    });\n};\n\n/**\n * Возвращает блок, которые показывается сейчас, либо null\n */\nGroup.prototype.getShowingBlock = function () {\n    // если хотя бы один блок в режиме silent - ничего не показываем\n    var silentBlocks = this._getSilentBlocks();\n    if (silentBlocks.length) {\n        logger.info('Group %s is silent because of %i blocks', this._id, silentBlocks.length);\n        return;\n    }\n\n    // если есть показываемый блок, то продолжаем показывать\n    var showingBlock = this._getShowingBlock();\n    if (showingBlock) {\n        logger.info('Group %s is showing block %s', this._id, showingBlock.getId());\n        return showingBlock;\n    }\n\n    // если нет показываемого блока, то смотрим, кого можем показать и выбираем по приоритету\n    var startShowingBlock = this._getStartShowingBlock();\n    if (startShowingBlock) {\n        logger.info('Group %s start showing block %s', this._id, startShowingBlock.getId());\n        return startShowingBlock;\n    }\n};\n\n/**\n * Геттер на блоки\n */\nGroup.prototype.getBlocks = function () {\n    return this._blocks.slice();\n};\n\nGroup.prototype._getEnabledBlocks = function () {\n    return this._blocks.filter(function (block) {\n        return block.isEnabled();\n    });\n};\n\nGroup.prototype._getSilentBlocks = function () {\n    return this._getEnabledBlocks().filter(function (block) {\n        return block.isSilent();\n    });\n};\n\nGroup.prototype._getShowingBlock = function () {\n    var showingBlocks = this._getEnabledBlocks().filter(function (block) {\n        return block.isShowing();\n    });\n\n    if (showingBlocks.length > 1) {\n        logger.warn('Many showing blocks in group: %s %i', this._id, showingBlocks.length);\n        showingBlocks.sort(sorterByPriority);\n    }\n\n    return showingBlocks[0];\n};\n\nGroup.prototype._getStartShowingBlock = function () {\n    var canStartShowing = this._getEnabledBlocks().filter(function (block) {\n        return block.canStartShowing();\n    });\n    if (canStartShowing.length) {\n        canStartShowing.sort(sorterByPriority);\n        logger.info('Group %s can start showing %i block(s): %s',\n            this._id,\n            canStartShowing.length,\n            canStartShowing.map(function (block) {\n                return block.getId() + ' (priority:' + block.priority + ')';\n            }).join(', ')\n        );\n        canStartShowing[0].startShowing();\n        return canStartShowing[0];\n    }\n};\n\nfunction sorterByPriority(blockA, blockB) {\n    return blockA.priority - blockB.priority;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/advertisement/group.js","/**\n * Рекламный блок\n */\n'use strict';\n\nvar settings = require('../settings/settings');\nvar _ = require('../../utils/lodash');\nvar dateUtils = require('../../utils/date');\nvar channel = require('../../utils/channel');\nvar logger = require('../../utils/logger').create('Advertisement/block');\n\nvar SETTING_STATE_NAME = 'advertisementState';\nvar SETTING_INSTALL_NAME = 'appInstallTime';\n\n/**\n * Поля состояния блока\n * Для выключенного блока все состояние сохраняется, просто он не проверяется в тиках и не отображается\n */\nvar stateFields = {\n    lastShown: 0,        // таймстемп последнего показа блока\n    lastRefuse: 0,       // таймстемп последнего скрытия блока\n    needShowing: false,  // нужно ли в принципе показывать блок, актуален ли он\n    refuseCount: 0,      // кол-во закрытий пользователем по клику на крестик\n    shownCount: 0,       // кол-во показов\n    enabled: true,       // включен ли блок (управляется с сервера)\n    data: {},            // кастомные данные, привязанные к блоку (например список фонов для показа)\n};\n\n/**\n * Поля конфига блока, не изменяются\n */\nvar configFields = [\n    'maxShownCount',            // макс. кол-во показов, (0 - бесконечно)\n    'maxRefuseCount',           // макс. кол-во скрытий, (0 - бесконечно)\n    'duration',                 // длительность показа, сутки (0 - бесконечность)\n    'interval',                 // интервал между последним скрытием и новым показом, сутки\n    'silent',                   // интервал затишья между последним скрытием данного блока и новым показом\n                                // любого блока в группе, минуты\n    'afterInstall',             // число дней после инсталяции, когда начинает работать реклама\n];\n\n/**\n * @constructor\n */\nvar Block = module.exports = function (id, config) {\n    assertId(id);\n    assertConfig(config);\n    this._id = id;\n    this._config = config;\n    // приоритет - выставляется только в момент попадания в группу\n    this.priority = 0;\n    // методы, которые перекрываются в конкретной реализации блока\n    this._checker = _.noop;\n    this._acceptor = _.noop;\n    // каналы\n    this.onStartShowing = channel.create();\n    this.onRefuse = channel.create();\n    this.onEnabledChanged = channel.create();\n    // загружаем состояние из стораджа или берем дефолтное\n    this._loadState();\n};\n\n/**\n * Причины закрытия блока\n */\nBlock.REFUSE_REASON = {\n    USERCLOSE: 'userclose', // закрытие пользователем через крестик\n    ACCEPT: 'accept',       // закрытие пользователем через переход по блоку\n    DURATION: 'duration',   // закрытие по duration\n    EXTERNAL: 'external',   // закрытие по внешним причинам (условия для блока больше не соблюдаются)\n};\n\n/**\n * Проверяет состояние блока. Что может измениться:\n * - закрытие блока по таймауту duration\n * - необходимость показа блока needShowing\n */\nBlock.prototype.check = function () {\n    logger.info('Checking %s', this._id);\n    this.checkDuration();\n    this.checkNeedShowing();\n};\n\n/**\n * Первый показ блока\n */\nBlock.prototype.startShowing = function () {\n    this._state.lastShown = Date.now();\n    this._state.shownCount++;\n    this._saveState();\n    logger.info('Start showing %s for %s day(s)', this._id, this._config.duration || 'infinity');\n    this.onStartShowing.dispatch(this);\n};\n\n/**\n * Отмена показа блока. По сути это close с разными причинами.\n * @param {String} reason причина: см Block.REFUSE_REASON\n * @param {Object} data доп. данные\n */\nBlock.prototype.refuse = function (reason, data) {\n    if (!this.isShowing()) {\n        return;\n    }\n    this._state.lastRefuse = Date.now();\n\n    // если все еще показываемся, значит были переводы даты\n    // вручную меняем lastShown, иначе будем показываться бесконечно VB-5421\n    if (this.isShowing()) {\n        logger.warn('Incorrect dates, make lastShown = lastRefuse');\n        this._state.lastShown = this._state.lastRefuse;\n    }\n\n    if (reason === Block.REFUSE_REASON.USERCLOSE) {\n        this._state.refuseCount++;\n    }\n    this._saveState();\n    if (reason === Block.REFUSE_REASON.ACCEPT) {\n        logger.info('Accept %s with data %j', this._id, data);\n        this._acceptor(data);\n    } else {\n        logger.info('Refuse %s (%s)', this._id, reason);\n    }\n    this.onRefuse.dispatch(this, reason);\n};\n\n/**\n * Проверяем duration для показываемого блока\n * Если блок уже показывается больше чем нужно, скрываем\n */\nBlock.prototype.checkDuration = function () {\n    if (this.isShowing() && this._isShowingDurationReached()) {\n        this.refuse(Block.REFUSE_REASON.DURATION);\n    }\n};\n\n/**\n * Проверяем кастомные условия блока\n */\nBlock.prototype.checkNeedShowing = function () {\n    this._checker();\n};\n\n/**\n * Может ли блок показываться\n * (Если needShowing = true, то на всякий случай еще разок проверяем условие)\n */\nBlock.prototype.canStartShowing = function () {\n    if (!this._state.needShowing) {\n        return false;\n    }\n\n    var timeIntervalsOk = this._isAfterInstallReached()\n        && !this.isShowing()\n        && !this.isSilent()\n        && !this.isInterval()\n        && this._isShownCountOk()\n        && this._isRefuseCountOk();\n\n    if (timeIntervalsOk) {\n        // для асинхронных проверок это не сработает\n        this.checkNeedShowing();\n        return this._state.needShowing;\n    } else {\n        return false;\n    }\n};\n\n/**\n * Выставляем актуальность блока\n * @param {Boolean} value\n */\nBlock.prototype.updateNeedShowing = function (value) {\n    value = Boolean(value);\n    if (this._state.needShowing === value) {\n        return;\n    }\n    this._state.needShowing = value;\n    this._saveState();\n    logger.info('Set needShowing of %s to %s', this._id, value);\n    // если блок показывается и он больше не актуален - скрываем!\n    if (this.isShowing() && value === false) {\n        this.refuse(Block.REFUSE_REASON.EXTERNAL);\n    }\n    // обратную ситуацию не рассматриваем: если блок не показывается, но needShowing стало true,\n    // потому что это решает группа выбрав по приоритету\n};\n\nBlock.prototype.updateEnabled = function (value) {\n    value = Boolean(value);\n    if (this._state.enabled === value) {\n        return;\n    }\n    this._state.enabled = value;\n    this._saveState();\n    logger.info('Set enabled of %s to %s', this._id, value);\n    this.onEnabledChanged.dispatch(this);\n};\n\nBlock.prototype.updateData = function (data) {\n    if (this._state.data !== data) {\n        this._state.data = data;\n        this._saveState();\n    }\n};\n\nBlock.prototype.getId = function () {\n    return this._id;\n};\n\nBlock.prototype.getData = function () {\n    return this._state.data;\n};\n\nBlock.prototype.getNeedShowing = function () {\n    return this._state.needShowing;\n};\n\nBlock.prototype.isEnabled = function () {\n    return this._state.enabled;\n};\n\nBlock.prototype.setChecker = function (checker) {\n    this._checker = checker;\n};\n\nBlock.prototype.setAcceptor = function (acceptor) {\n    this._acceptor = acceptor;\n};\n\n/**\n * Показывается ли блок в данный момент\n */\nBlock.prototype.isShowing = function () {\n    return this._state.shownCount > 0\n        && this._state.lastShown > this._state.lastRefuse;\n};\n\n/**\n * Находится ли блок в режиме Silent (ни один блок из группы не может быть показан)\n */\nBlock.prototype.isSilent = function () {\n    return this._state.shownCount > 0\n        && !this.isShowing()\n        && this._config.silent\n        && Date.now() >= this._state.lastRefuse\n        && Date.now() <= this._state.lastRefuse + dateUtils.minutesToMs(this._config.silent);\n};\n\n/**\n * Находится ли блок в режиме Интервал\n */\nBlock.prototype.isInterval = function () {\n    return this._state.shownCount > 0\n        && !this.isShowing()\n        && this._config.interval\n        && Date.now() >= this._state.lastRefuse\n        && Date.now() <= this._state.lastRefuse + dateUtils.daysToMs(this._config.interval);\n};\n\nBlock.prototype._isShowingDurationReached = function () {\n    return this._state.shownCount > 0\n        && this._config.duration > 0\n        && Date.now() > this._state.lastShown + dateUtils.daysToMs(this._config.duration);\n};\n\nBlock.prototype._isAfterInstallReached = function () {\n    var appInstallTime = settings.get(SETTING_INSTALL_NAME) || 0;\n    return !this._config.afterInstall\n        || Date.now() > appInstallTime * 1000 + dateUtils.daysToMs(this._config.afterInstall);\n};\n\nBlock.prototype._isShownCountOk = function () {\n    return !this._config.maxShownCount || this._state.shownCount < this._config.maxShownCount;\n};\n\nBlock.prototype._isRefuseCountOk = function () {\n    return !this._config.maxRefuseCount || this._state.refuseCount < this._config.maxRefuseCount;\n};\n\nBlock.prototype._loadState = function () {\n    var state = settings.get(SETTING_STATE_NAME);\n    this._state = _.defaults({}, _.get(state, 'blocks.' + this._id), stateFields);\n    logger.info('Loaded state of %s %j', this._id, this._state);\n};\n\nBlock.prototype._saveState = function () {\n    var state = settings.get(SETTING_STATE_NAME) || {};\n    state.blocks = state.blocks || {};\n    state.blocks[this._id] = _.extend({}, this._state);\n    settings.set(SETTING_STATE_NAME, state);\n};\n\nfunction assertId(id) {\n    if (!id) {\n        throw new Error('Block must have id');\n    }\n}\n\nfunction assertConfig(config) {\n    if (!config) {\n        throw new Error('Block must have config');\n    }\n    configFields.forEach(function (field) {\n        if (config[field] === undefined || isNaN(config[field])) {\n            throw new Error('Block config must have number field: ' + field);\n        }\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/advertisement/block.js","/**\n * Реклама стартовой\n * https://beta.wiki.yandex-team.ru/visualbookmarks/tz/homesearchadvert/\n */\n\n'use strict';\n\nvar Block = require('../block');\nvar platformAbout = require('../../../platform/about');\nvar branding = require('../../branding');\nvar startpages = require('../../startpages');\nvar urlUtils = require('../../../utils/url');\n\nvar ID = 'vbsethome';\nvar CONFIG = {\n    maxShownCount: 3,\n    maxRefuseCount: 3,\n    duration: 0,\n    interval: 30,\n    silent: 1,\n    afterInstall: platformAbout.id === 'fx' ? 0 : 3, // VB-5282\n};\n\nvar logger = require('../../../utils/logger').create('Advertisement/' + ID);\n\nvar YANDEX_STARTPAGE_REG = /^(https?:\\/\\/)?([a-z0-9]+\\.)*(ya|yandex)(\\.com)?\\.[a-z]{2,3}([\\/\\?#&]|$)/i;\n\nmodule.exports = function () {\n    var block = new Block(ID, CONFIG);\n    block.setChecker(checker.bind(null, block));\n    block.setAcceptor(acceptor);\n    return block;\n};\n\n/**\n * Проверка кастомных условий блока\n */\nfunction checker(block) {\n    if (branding.startpage) {\n        startpages.get(function (err, urls) {\n            var hasYandex = containsYandexOrVb(urls);\n            block.updateNeedShowing(!hasYandex);\n        });\n    } else {\n        logger.warn('Branding package does not contain startpage');\n        block.updateNeedShowing(false);\n    }\n}\n\n/**\n * Принятие блока\n */\nfunction acceptor() {\n    startpages.get(function (err, urls) {\n        var hasYandex = containsYandexOrVb(urls);\n        if (!hasYandex) {\n            startpages.set(branding.startpage.url, urls);\n        }\n    });\n}\n\nfunction containsYandexOrVb(urls) {\n    return containsYandex(urls) || containsVb(urls);\n}\n\nfunction containsVb(urls) {\n    return urls.some(function (url) {\n        return urlUtils.isUrlInList(url, startpages.VB_URLS);\n    });\n}\n\nfunction containsYandex(urls) {\n    return urls.some(function (url) {\n        return YANDEX_STARTPAGE_REG.test(url);\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/advertisement/blocks/vbsethome.js","/**\n * Работа со списком стартовых страниц\n */\n\n'use strict';\n\nvar platformBrowser = require('../../platform/browser');\nvar platformAbout = require('../../platform/about');\nvar logger = require('../../utils/logger').create('Startpages');\nvar utils = require('../../utils/utils');\nvar urlUtils = require('../../utils/url');\n\n/**\n * При установке ВЗ как стартовой страницы в ИЕ нужно ставить about:tabs, а не fd://frontend/newtab.html,\n * А при установке в Firefox - yafd:tabs, а не 'chrome://.../layout/newtab.html'\n * В Хроме все вообще через расширения происходит\n * @see {@link https://st.yandex-team.ru/VB-5419}\n */\nvar VB_URL = exports.VB_URL = platformAbout.visbookmarksFakeTabUrl || platformAbout.visbookmarksUrl;\nvar VB_URLS = exports.VB_URLS = [platformAbout.visbookmarksFakeTabUrl, platformAbout.visbookmarksUrl].filter(Boolean);\n\n/**\n * Gets all startpages\n * @param {Function} callback\n */\nexports.get = function (callback) {\n    platformBrowser.getStartpages(function (err, urls) {\n        if (err || !Array.isArray(urls)) {\n            logger.error('Error while getting startpages %j %j', err, urls);\n            callback(err, []);\n        } else {\n            callback(null, urls);\n        }\n    });\n};\n\n/**\n * Если у пользователя установлено несколько адресов в качестве\n * домашней страницы, то прописываем адрес в начало, оставляя пользовательские данные.\n * Если адрес один, то меняем его.\n * Это нужно при прописывании в качестве стартовой ВЗ или поиска\n *\n * exisitingStartpages передаются параметром, т.к. так кажется удобнее. Задачи устанавливать \"вслепую\" пока не было.\n * @see https://github.yandex-team.ru/desktop/visbookmarks-backend/pull/304#discussion_r428244\n *\n * @param {String} url url to set as startpage\n * @param {Array} exisitingStartpages\n * @param {Function} callback callback(err) showing result of operation\n *\n * @see {@link https://st.yandex-team.ru/VB-5275}\n */\nexports.set = function (url, exisitingStartpages, callback) {\n    callback = callback || utils.noop;\n    if (!exisitingStartpages) {\n        logger.info('Existing startpages not passed!');\n        callback(new Error());\n        return;\n    }\n    var newStartpages;\n    if (exisitingStartpages.length > 1) {\n        newStartpages = [url].concat(exisitingStartpages);\n        logger.info('Adding %s to startpages: %s', url, exisitingStartpages);\n    } else {\n        newStartpages = [url];\n        logger.info('Set new startpage: %s', url);\n    }\n    platformBrowser.setStartpages(newStartpages, callback);\n};\n\n/**\n * Is VB in startpages\n * @param {Function} callback\n */\nexports.hasVb = function (callback) {\n    exports.get(function (err, urls) {\n        if (err) {\n            callback(err, false);\n        } else {\n            var hasVb = urls.some(function (url) {\n                return urlUtils.isUrlInList(url, VB_URLS);\n            });\n            callback(null, hasVb);\n        }\n    });\n};\n\n/**\n * Sets VB as startpage\n * @param {Function} callback\n */\nexports.setVb = function (callback) {\n    exports.get(function (err, urls) {\n        exports.set(VB_URL, urls, callback);\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/startpages/index.js","'use strict';\n\n// see: https://wiki.yandex-team.ru/users/kirand/projects/elements/chrome/searchext\nvar yandexSearchIDs = [\n    // 5. Поиск Яндекса (портальное)\n    'cpimfcfpokkicebcgjimeeemfjkhfplk',\n    'laddjijkcfpakbbnnedbhnnciecidncp',\n    'ijbepmfgphlcbokeedcnmbedhckonlin',\n\n    // 6. Яндекс Поиск и Стартовая - Яндекс\n    'nehapofakghljopfegjogpgpeljkhjjn',\n    'ebbpgceilfeopdjlpkcdpefgkjhapoie',\n    'cbagalopghhleggojlledjihpdbogmcn',\n\n    // 7. Поиск и ЛайтВЗ\n    'fdgobpeoflmgannbplllbnhkoniogeka',\n\n    // 8. Поиск \"Правильный выбор\"\n    'pmloecjpjlgmhmfjpimadenoekkoknnh',\n\n    // 19. Яндекс \"Горячий резерв\"\n    'jihlbmjiphbhpbggdjmcigebceidammg',\n    'peagnjphcbmgmpoacoganhkchgljlban',\n    'bfmefpmchiiiklaoabpmaobmjapabigk',\n    'dgpbaklblfccdobmjkjjfcibnbaafofh',\n    'ppfbfddocfkbegapcgkipgjnggpaecfe',\n];\n\nvar yandexStartpageIDs = [\n    // 2. Стартовая — аскетичный Яндекс (ya.ru)\n   'cdlgdffkkjdoglbioephbahjkkmmpdhi',\n\n    // 3. Стартовая — Яндекс (портальное)\n    'lalfiodohdgaejjccfgfmmngggpplmhp',\n    'lpedlkoodagolnaladgccadeahpjgblg',\n    'dkipfjephaclinnhbbpmjigimebkpmbk',\n\n    // 4. Стартовая — Яндекс (турецкие футбольные сборки)\n    'ecalfoflieekeegboemfckkhlgfmgldo',\n    'keoelcjgdedmhlojlhlhiogfomadpfkh',\n    'bfacnjhhlonddplapoikenaalhekaabg',\n\n    // 6. Поиск и Стартовая - Яндекс\n    'nehapofakghljopfegjogpgpeljkhjjn',\n    'ebbpgceilfeopdjlpkcdpefgkjhapoie',\n    'cbagalopghhleggojlledjihpdbogmcn',\n\n    // 9. \"Правильный выбор\"\n    'aecdfooahhnabdgjifldpdjoehldcpoj',\n\n    // 19. \"Горячий резерв\"\n    'jihlbmjiphbhpbggdjmcigebceidammg',\n    'peagnjphcbmgmpoacoganhkchgljlban',\n    'njomkkghlicmkndlldaeeboemmimpboe',\n    'ljdehichgphpibomgiolefjhjcmgkdga',\n    'gokakabmbonignaoohkcipkfakkahnmn',\n];\n\nvar yandexStartpageConfigs = [\n    {\n        startpageReg: /^https?\\:\\/\\/(www\\.)?yandex\\.ru/i,\n        landing: 'https://home.yandex.ru',\n        extensionIds: []\n    },\n    {\n        startpageReg: /^https?\\:\\/\\/(www\\.)?yandex\\.ua/i,\n        landing: 'https://home.yandex.ua',\n        extensionIds: []\n    },\n    {\n        startpageReg: /^https?\\:\\/\\/(www\\.)?yandex\\.com\\.tr/i,\n        landing: 'https://home.yandex.com.tr',\n        extensionIds: []\n    },\n];\n\nvar yandexSearchConfigs = [\n    {\n        searchUrlReg: /^https?\\:\\/\\/(www\\.)?yandex\\.ru/i,\n        landing: 'https://set.yandex.ru',\n        extensionIds: []\n    },\n    {\n        searchUrlReg: /^https?\\:\\/\\/(www\\.)?yandex\\.ua/i,\n        landing: 'https://set.yandex.ua',\n        extensionIds: []\n    },\n    {\n        searchUrlReg: /^https?\\:\\/\\/(www\\.)?yandex\\.com\\.tr/i,\n        landing: 'https://set.yandex.com.tr',\n        extensionIds: []\n    },\n];\n\nmodule.exports = {\n    /**\n     * Возвращает список текущих стартовых страниц\n     * В хроме прямого доступа нет, поэтому ориентируемся на установленные расширения\n     * @param {Function} callback ({Object|null} err, {Array<String>} urls)\n     */\n    getStartpages: function (callback) {\n        getEnabledExtensions(function (items) {\n            var hasYandex = items.some(function (item) {\n                return yandexStartpageIDs.indexOf(item.id) >= 0;\n            });\n            // возвращаем yandex.ru независимо от расширения, потому что пока это нужно только рекламе,\n            // которая проверяет по регэкспу\n            callback(null, hasYandex ? ['https://yandex.ru'] : []);\n        });\n    },\n\n    /**\n     * Выставляет список стартовых страниц\n     * В хроме мы можем это сделать только через включение расширений, если они установлены\n     * Поэтому всегда выставляем яндекс, используя нулевой элемент\n     */\n    setStartpages: function (startpages) {\n        var startpage = Array.isArray(startpages) ? startpages[0] : null;\n        if (typeof startpage !== 'string') {\n            return;\n        }\n        var matchedConfig = yandexStartpageConfigs.filter(function (config) {\n            return config.startpageReg.test(startpage);\n        })[0];\n        if (matchedConfig) {\n            chrome.tabs.create({url: matchedConfig.landing});\n        }\n    },\n\n    /**\n     * Возвращает список зарегистрированных провайдеров\n     * @param {Function} callback\n     * @param {Object|null} callback.err error\n     * @param {Object} callback.providersInfo providers info, e.g. {defaultId = '', providers = [ <config> ] }\n     */\n    getSearchProviders: function (callback) {\n        getEnabledExtensions(function (items) {\n            var hasYandex = items.some(function (item) {\n                return yandexSearchIDs.indexOf(item.id) >= 0;\n            });\n\n            var providersInfo;\n            if (hasYandex) {\n                // возвращаем yandex.ru независимо от расширения, потому что пока это нужно только рекламе,\n                // которая проверяет по регэкспу\n                providersInfo = {\n                    defaultId: 'yandex',\n                    providers: [{\n                        id: 'yandex',\n                        url: 'https://yandex.ru'\n                    }]\n                };\n            } else {\n                providersInfo = {\n                    defaultId: '',\n                    providers: []\n                };\n            }\n\n            callback(null, providersInfo);\n        });\n    },\n\n    /**\n     * Выставляет поиск по умолчанию\n     * В хроме мы можем это сделать только через включение расширений, если они установлены\n     *\n     * @param {Object} provider\n     * @param {string} provider.id - id провайдера\n     * @param {string} provider.url поиск из адресной строки\n     * @param {string} provider.displayName название\n     *\n     * @param {boolean} [provider.showTopResult]\n     * @param {string} [provider.topResultUrl]\n     * @param {string} [provider.topResultUrlFallback]\n     *\n     * @param {boolean} provider.showSearchSuggestions\n     * @param {string} [provider.suggestionsUrlJson]\n     * @param {string} provider.suggestionsUrl\n     * @param {string} [provider.suggestionsUrlFallback]\n     *\n     * @param {string} provider.faviconUrl\n     * @param {string} [provider.faviconUrlFallback]\n     * @param {string} [provider.faviconPath]\n     *\n     * @param {int} [provider.codePage]\n     * @param {int} [provider.sortIndex]\n     */\n    addDefaultSearchProvider: function (provider) {\n        if (!provider || !provider.url) {\n            return;\n        }\n        var matchedConfig = yandexSearchConfigs.filter(function (config) {\n            return config.searchUrlReg.test(provider.url);\n        })[0];\n        if (matchedConfig) {\n            chrome.tabs.create({url: matchedConfig.landing});\n        }\n    },\n\n    /**\n     * Удаляет провайдера\n     * В хроме это заглушка, т.к. доступа к провайдерам нет\n     */\n    removeSearchProvider: function () { },\n\n    /**\n     * Открывает окно закладок\n     */\n    openBookmarksWindow: function () {\n        chrome.tabs.create({url: 'chrome://bookmarks'});\n    },\n\n    /**\n     * Открывает окно истории\n     */\n    openHistoryWindow: function () {\n        chrome.tabs.create({url: 'chrome://history'});\n    },\n\n    /**\n     * Открывает окно загрузок\n     */\n    openDownloadsWindow: function () {\n        chrome.tabs.create({url: 'chrome://downloads'});\n    },\n};\n\nfunction getEnabledExtensions(callback) {\n    callback([]);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./platform/browser.js","/**\n * Реклама поиска\n * https://beta.wiki.yandex-team.ru/visualbookmarks/tz/homesearchadvert/\n */\n\n'use strict';\n\nvar Block = require('../block');\nvar platformBrowser = require('../../../platform/browser');\nvar platformAbout = require('../../../platform/about');\nvar branding = require('../../branding');\n\nvar ID = 'vbsetsearch';\nvar CONFIG = {\n    maxShownCount: 3,\n    maxRefuseCount: 3,\n    duration: 0,\n    interval: 30,\n    silent: 1,\n    afterInstall: platformAbout.id === 'fx' ? 0 : 3, // VB-5282\n};\n\nvar logger = require('../../../utils/logger').create('Advertisement/' + ID);\n\nvar YANDEX_SEARCH_REG = /^(https?:\\/\\/)?([a-z0-9]+\\.)*(ya|yandex)(\\.com)?\\.[a-z]{2,3}([\\/\\?#&]|$)/i;\n\nmodule.exports = function () {\n    var block = new Block(ID, CONFIG);\n    block.setChecker(checker.bind(null, block));\n    block.setAcceptor(acceptor);\n    return block;\n};\n\n/**\n * Проверка кастомных условий блока\n */\nfunction checker(block) {\n    if (branding.quicksearch) {\n        getDefaultSearchProvider(function (defaultSearchProvider) {\n            var isYandex = isYandexProvider(defaultSearchProvider);\n            block.updateNeedShowing(!isYandex);\n        });\n    } else {\n        logger.warn('Branding package does not contain quicksearch');\n        block.updateNeedShowing(false);\n    }\n}\n\n/**\n * Принятие блока\n */\nfunction acceptor() {\n    if (branding.quicksearch) {\n        getDefaultSearchProvider(function (defaultSearchProvider, allSearchProviders) {\n            if (!isYandexProvider(defaultSearchProvider)) {\n                removeYandexProviders(allSearchProviders);\n                setDefaultYandexProvider();\n            }\n        });\n    } else {\n        logger.warn('Branding package does not contain quicksearch');\n    }\n}\n\n/**\n * Возвращает дефолтный провайдер и список всех провайдеров\n * @param {Function} callback\n * @param {Object} callback.defaultSearchProvider\n * @param {Array} callback.allSearchProviders\n */\nfunction getDefaultSearchProvider(callback) {\n    platformBrowser.getSearchProviders(function (err, info) {\n        if (err) {\n            logger.error('Can not get SearchProvidersInfo, err %j', err);\n        } else {\n            logger.info('Got SearchProvidersInfo %j', info);\n        }\n        info = info || {};\n\n        var defaultSearchProvider = findDefaultSearchProvider(info);\n        if (defaultSearchProvider) {\n            logger.info('Default search provider %s %j', defaultSearchProvider.displayName, defaultSearchProvider);\n        } else {\n            logger.info('Default search provider is empty');\n        }\n        callback(defaultSearchProvider, info.providers || []);\n    });\n}\n\nfunction findDefaultSearchProvider(info) {\n    if (info && info.defaultId && Array.isArray(info.providers)) {\n        return info.providers.filter(function (provider) {\n            return provider.id === info.defaultId;\n        })[0];\n    } else {\n        return null;\n    }\n}\n\nfunction isYandexProvider(provider) {\n    return provider && YANDEX_SEARCH_REG.test(provider.url);\n}\n\n/**\n * Удаляем все поисковые провайдеры Яндекса\n */\nfunction removeYandexProviders(providers) {\n    providers.forEach(function (provider) {\n        if (isYandexProvider(provider)) {\n            platformBrowser.removeSearchProvider(provider.id);\n        }\n    });\n}\n\n/**\n * Выставляем Яндекс дефолтным поиском\n */\nfunction setDefaultYandexProvider() {\n    var qs = branding.quicksearch;\n    var config = {\n        url: qs.searchUrl,\n        displayName: qs.shortName,\n        showSearchSuggestions: true,\n        suggestionsUrl: qs.suggestUrl,\n        faviconUrl: qs.iconUrl,\n    };\n    logger.info('Setting Yandex as default search provider %j', config);\n    platformBrowser.addDefaultSearchProvider(config);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/advertisement/blocks/vbsetsearch.js","/**\n * Окно предложение включить статистику\n */\n\n'use strict';\n\nvar Block = require('../block');\nvar settings = require('../../settings/settings');\n\nvar ID = 'statoffer';\nvar CONFIG = {\n    maxShownCount: 2,\n    maxRefuseCount: 0,\n    duration: 1,\n    interval: 7,\n    silent: 1,\n    afterInstall: 7,\n};\n\nmodule.exports = function () {\n    var block = new Block(ID, CONFIG);\n    block.setChecker(checker.bind(null, block));\n    block.setAcceptor(acceptor);\n    return block;\n};\n\n/**\n * Проверка кастомных условий блока\n */\nfunction checker(block) {\n    block.updateNeedShowing(!settings.get('sendUsageStat'));\n}\n\n/**\n * Принятие блока\n */\nfunction acceptor() {\n    settings.set('sendUsageStat', true);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/advertisement/blocks/statoffer.js","/**\n * Обучалка про ротацию фонов\n * https://st.yandex-team.ru/VB-5700\n */\n\n'use strict';\n\nvar Block = require('../block');\nvar rotation = require('../../backgrounds/rotation');\nvar settings = require('../../settings/settings');\n\nvar ID = 'dailyback';\nvar CONFIG = {\n    maxShownCount: 1,\n    maxRefuseCount: 0,\n    duration: 1,\n    interval: 0,\n    silent: 10,\n    afterInstall: 1\n};\n\nmodule.exports = function () {\n    var block = new Block(ID, CONFIG);\n    block.setAcceptor(acceptor);\n    block.setChecker(checker.bind(null, block));\n    return block;\n};\n\n/**\n * Показываем блок только если пользователь ещё не включал сам\n * @param {Object} block\n */\nfunction checker(block) {\n    block.updateNeedShowing(!settings.hasUserValue('backgroundRotation'));\n}\n\n/**\n * Принятие блока\n */\nfunction acceptor() {\n    rotation.setSelected(true);\n    rotation.rotate();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/advertisement/blocks/dailyback.js","/**\n * Backgrounds rotation\n * https://st.yandex-team.ru/VB-5700\n */\n\n'use strict';\n\nconst alarms = require('../../utils/alarms');\nconst settings = require('../settings/settings');\nconst cloudBackgrounds = require('./cloud-backgrounds');\nconst selector = require('./selector');\nconst logger = require('../../utils/logger').create('Backgrounds/rotation');\n\nconst ALARM = {\n    name: 'backgroundsRotation',\n    periodInMinutes: 24 * 60,\n};\n\n// is rotation enabled\nconst SETTING_NAME = 'backgroundRotation';\n\n// index of current bg in cloud items\nconst INDEX_SETTING_NAME = 'backgroundRotationIndex';\n\n/**\n * Init\n */\nexports.init = function () {\n    alarms.register(ALARM, onAlarm);\n};\n\n/**\n * Rotate to next bg\n */\nexports.rotate = function () {\n    let index = settings.get(INDEX_SETTING_NAME);\n    const ids = getCloudIds();\n    if (ids.length) {\n        index = index < ids.length - 1 ? index + 1 : 0;\n        settings.set(INDEX_SETTING_NAME, index);\n        logger.info('Rotate to next bg #%i of %i: %s', index, ids.length, ids[index]);\n        selector.selectBackground(ids[index]);\n    }\n};\n\n/**\n * Is rotation selected\n * @returns {Boolean}\n */\nexports.isSelected = function () {\n    return settings.get(SETTING_NAME);\n};\n\n/**\n * Set rotation selected\n * @param {Boolean} value\n */\nexports.setSelected = function (value) {\n    logger.info('Set selected: %s', value);\n    settings.set(SETTING_NAME, Boolean(value));\n};\n\n/**\n * Get current background in rotation\n * Required when user clicks to some bg and then click back to rotation preview\n * @returns {String}\n */\nexports.getCurrentBackgroundId = function () {\n    const index = settings.get(INDEX_SETTING_NAME);\n    const ids = getCloudIds();\n    if (ids.length && index < ids.length) {\n        return ids[index];\n    } else {\n        return '';\n    }\n};\n\nfunction getCloudIds() {\n    const items = cloudBackgrounds.getBackgrounds();\n    const ids = Object.keys(items);\n    ids.sort((a, b) => {\n        return items[a].index - items[b].index;\n    });\n    return ids;\n}\n\nfunction onAlarm() {\n    // if checkbox enabled, rotate to next background\n    if (exports.isSelected()) {\n        exports.rotate();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/backgrounds/rotation.js","/**\n * Модуль, ответственный за работу с облачными фонами\n */\n\n'use strict';\n\nvar bgSettings = require('../settings/backgrounds');\nvar colorUtils = require('../../utils/colors');\n\nvar OVERLAY_NEEDS_BLACK_INDICATOR = 'vb-sync_status-bg';\n\n/**\n * Returns cloud backgrounds as object\n * @returns {Object}\n */\nexports.getBackgrounds = function () {\n    var cloudBackgrounds = bgSettings.getBackgroundsList();\n    return cloudBackgrounds.reduce(function (result, backgroundData, index) {\n        if (backgroundData.id && backgroundData.preview && backgroundData.image) {\n            result[backgroundData.id] = constructCloudBackgroundData(backgroundData, index);\n        }\n        return result;\n    }, {});\n};\n\n/**\n * Returns background by id\n * @param {String} id\n * @returns {Object|undefined}\n */\nexports.getBackground = function (id) {\n    return exports.getBackgrounds()[id];\n};\n\nfunction constructCloudBackgroundData(backgroundData, index) {\n    return {\n        index: index,\n        id: backgroundData.id,\n        preview: backgroundData.preview,\n        image: backgroundData.image,\n        downloadDate: backgroundData.downloadDate,\n        color: isModificatorsColorBlack(backgroundData.modificators)\n            ? colorUtils.OVERLAY_COLOR_BLACK\n            : colorUtils.OVERLAY_COLOR_WHITE\n    };\n}\n\nfunction isModificatorsColorBlack(modificators) {\n    return Array.isArray(modificators) && modificators[0] === OVERLAY_NEEDS_BLACK_INDICATOR;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/backgrounds/cloud-backgrounds.js","'use strict';\n\nvar settings = require('./settings');\n\nvar BACKGROUND_VERSION_SETTING = 'backgroundImagesVersion';\nvar BACKGROUND_LIST_SETTING = 'backgroundImagesList';\nvar BACKGROUND_IMAGE_SETTING = 'backgroundImage';\nvar BACKGROUND_IMAGE_PATH_SETTING = 'backgroundImagePath';\nvar BACKGROUND_FONT_COLORS_SETTIGS = 'backgroundImagesFontColors';\nvar BACKGROUND_MISSING_DATA_SETTIGS = 'backgroundMissingCloudData';\n\nvar storage = {\n    getBackgroundsVersion: function () {\n        return settings.get(BACKGROUND_VERSION_SETTING);\n    },\n    setBackgroundsVersion: function (value) {\n        return settings.set(BACKGROUND_VERSION_SETTING, value);\n    },\n\n    getBackgroundsList: function () {\n        return settings.get(BACKGROUND_LIST_SETTING);\n    },\n    setBackgroundsList: function (value) {\n        return settings.set(BACKGROUND_LIST_SETTING, value);\n    },\n\n    getBackgroundImage: function () {\n        return settings.get(BACKGROUND_IMAGE_SETTING);\n    },\n    setBackgroundImage: function (value) {\n        return settings.set(BACKGROUND_IMAGE_SETTING, value);\n    },\n\n    getFontColors: function () {\n        return settings.get(BACKGROUND_FONT_COLORS_SETTIGS);\n    },\n    setFontColors: function (value) {\n        return settings.set(BACKGROUND_FONT_COLORS_SETTIGS, value);\n    },\n\n    setMissingCloudBackground: function (value) {\n        return settings.set(BACKGROUND_MISSING_DATA_SETTIGS, value);\n    },\n    getMissingCloudBackground: function () {\n        return settings.get(BACKGROUND_MISSING_DATA_SETTIGS);\n    },\n\n    setBackgroundImagePath: function (value) {\n        return settings.set(BACKGROUND_IMAGE_PATH_SETTING, value);\n    },\n    getBackgroundImagePath: function () {\n        return settings.get(BACKGROUND_IMAGE_PATH_SETTING);\n    },\n};\n\nmodule.exports = storage;\n\n\n\n// WEBPACK FOOTER //\n// ./modules/settings/backgrounds.js","/*\n * Process background selection\n */\n\n'use strict';\n\nvar utils = require('../../utils/utils');\nvar logger = require('../../utils/logger').create('Backgrounds/selector');\nvar bgSettings = require('../settings/backgrounds');\nvar storage = require('./storage');\nvar fontColors = require('./font-colors');\nvar brandingBackgrounds = require('./branding-backgrounds');\nvar cloudBackgrounds = require('./cloud-backgrounds');\nvar channel = require('../../utils/channel');\nvar urlUtils = require('../../utils/url');\n\nvar selectQueue = {};\n\n/**\n * Select background\n * @param {String} backgroundId\n * @param {Function} callback\n */\nexports.selectBackground = function (backgroundId, callback) {\n    callback = callback || utils.noop;\n    // if user clicks many times on the same background\n    if (selectQueue[backgroundId]) {\n        logger.info('Selecting background %s is in progress', backgroundId);\n        selectQueue[backgroundId].push(callback);\n    } else {\n        selectQueue[backgroundId] = [callback];\n        logger.info('Selecting background: %s', backgroundId);\n        select(backgroundId, function (err) {\n            selectQueue[backgroundId].forEach(function (callback) {\n                callback(err);\n            });\n            delete selectQueue[backgroundId];\n        });\n    }\n};\n\n/**\n * Selects default background (on install or error)\n */\nexports.selectDefaultBackground = function (callback) {\n    callback = callback || utils.noop;\n    var data = brandingBackgrounds.getDefaultBackground();\n    if (data && data.id) {\n        exports.selectBackground(data.id, callback);\n    } else {\n        logger.error('Can not set default background %j', data);\n        callback(new Error());\n    }\n};\n\nexports.onSelectSuccess = channel.create();\n\nfunction select(backgroundId, callback) {\n    var backgroundObject = brandingBackgrounds.getBackground(backgroundId)\n        || cloudBackgrounds.getBackground(backgroundId);\n    if (backgroundObject) {\n        selectBrandedOrCloud(backgroundObject, callback);\n    } else {\n        selectFromFS(backgroundId, callback);\n    }\n}\n\n/**\n * Selects branded or cloud background\n * @param {Object} backgroundObject\n * @param {String} backgroundObject.id\n * @param {String} backgroundObject.image\n * @param {String} backgroundObject.color\n * @param {Function} callback\n */\nfunction selectBrandedOrCloud(backgroundObject, callback) {\n    var params = {\n        id: backgroundObject.id,\n        url: backgroundObject.image,\n        color: backgroundObject.color,\n    };\n    storage.getLocalUrl(backgroundObject.id, function (err, data) {\n        var localUrl = data && data.url;\n        if (localUrl) {\n            params.url = localUrl;\n            logger.info('Background %s found in local fs: %s', backgroundObject.id, localUrl);\n            save(params, callback);\n        } else {\n            // try download image to local fs\n            download(backgroundObject, function (error, localUrl) {\n                if (localUrl) {\n                    params.url = localUrl;\n                    save(params, callback);\n                } else {\n                    callback(error || new Error('Empty localUrl'));\n                }\n            });\n        }\n    });\n}\n\nfunction download(backgroundObject, callback) {\n    storage.download(backgroundObject.image, backgroundObject.id, function (error, data) {\n        if (error) {\n            logger.error(error.message);\n            callback(error);\n            return;\n        }\n        var localUrl = data && data.url;\n        if (localUrl) {\n            logger.info('Downloaded background %s to %s', backgroundObject.id, localUrl);\n        } else {\n            logger.error('Can not download background %s from %s', backgroundObject.id, backgroundObject.image);\n        }\n        callback(null, localUrl);\n    });\n}\n\nfunction selectFromFS(backgroundId, callback) {\n    // try get user bg or previous from fs (here it does not matter)\n    storage.getAll(function (err, urls) {\n        var localUrl = urls && urls.hasOwnProperty(backgroundId) && urls[backgroundId];\n        if (localUrl) {\n            // TODO add to url timestamp of image instead of random param.\n            localUrl = urlUtils.addRandomParam(localUrl);\n            save({\n                id: backgroundId,\n                url: localUrl,\n                color: ''\n            }, callback);\n        } else {\n            logger.error('Background %s not found in local fs', backgroundId);\n            callback(new Error());\n        }\n    });\n}\n\n/**\n * Save background data in settings and calc font color\n * @param {Object} params\n * @param {String} params.id\n * @param {String} params.url\n * @param {String} params.color\n * @param {Function} callback\n */\nfunction save(params, callback) {\n    bgSettings.setBackgroundImage(params.id);\n    bgSettings.setBackgroundImagePath(params.url);\n    logger.info('Background %s saved in settings', params.id);\n    saveFontColor(params, function () {\n        exports.onSelectSuccess.dispatch(params);\n        callback();\n    });\n}\n\n/**\n * Save / calc font color\n * @param {Object} params\n * @param {String} params.id\n * @param {String} params.url\n * @param {String} params.color\n * @param {Function} callback\n */\nfunction saveFontColor(params, callback) {\n    if (!params.color) {\n        fontColors.get(params.id, params.url, function (color) {\n            params.color = color;\n            callback();\n        });\n    } else {\n        if (!fontColors.getCached(params.id)) {\n            fontColors.setCached(params.id, params.color);\n        }\n        callback();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/backgrounds/selector.js","/**\n * Обучалка для кнопки \"Добавить закладку\"\n * https://wiki.yandex-team.ru/visualbookmarks/tz/tutorials/#dobavlenietumby\n */\n\n'use strict';\n\nvar Block = require('../block');\nvar settings = require('../../settings/settings');\nvar collection = require('../../thumbs/collection');\n\nvar ID = 'vbaddthumb';\nvar CONFIG = {\n    maxShownCount: 1,\n    maxRefuseCount: 0,\n    duration: 1,\n    interval: 0,\n    silent: 10,\n    afterInstall: 0\n};\n\nmodule.exports = function () {\n    var block = new Block(ID, CONFIG);\n    block.setChecker(checker.bind(null, block));\n    settings.onChanged.addListener(onSettingChanged.bind(null, block));\n    return block;\n};\n\n/**\n * Проверка кастомных условий блока\n */\nfunction checker(block) {\n    var hasAdded = settings.get('hasUserAddedThumb');\n    var maxCountReached = collection.length === collection.maxLength;\n    block.updateNeedShowing(!hasAdded && !maxCountReached);\n}\n\nfunction onSettingChanged(block, info) {\n    if (info.key === 'hasUserAddedThumb') {\n        block.checkNeedShowing();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/advertisement/blocks/vbaddthumb.js","/**\n * Уведомления показывается пользователю в случае загрузки из облака новых фонов\n * https://beta.wiki.yandex-team.ru/VisualBookmarks/tz/#uvedomlenieonovyxfonax\n *\n * У этого блока нет настоящей функции-акцептора, выставление фона происходит сразу после клика,\n * а вот принятие блока только через таймаут (и в этот момент ничего кроме статистики отправлять не нужно)\n * Для этого перекрывается родной метод refuse (см overwriteRefuse)\n *\n * Варианты работы блока:\n * - пользователь в блок не кликал, блок провисел сутки  --> timeoutclose\n * - пользователь открыл настройки, пока блок висел --> externalclose\n * - пользователь нажал на крестик, не кликая на фоны --> userclose\n * - пользователь кликает по фонам --> никакой статистики, просто меняем фон и ставим таймер\n * - пользователь покликал по фонам, нажал на крестик --> accept\n * - пользователь покликал по фонам, прошло 5 минут --> accept\n * - пользователь покликал по фонам, нажал Отмену --> никакой статистики, блок продолжает работать\n */\n\n'use strict';\n\nvar alarms = require('../../../utils/alarms');\nvar Block = require('../block');\nvar backgroundsCloudLoader = require('../../backgrounds/cloud-loader');\nvar backgroundRotation = require('../../backgrounds/rotation');\nvar backgroundsSelector = require('../../backgrounds/selector');\nvar frontendSettings = require('../../frontend/settings');\n\nvar ID = 'newbackground';\nvar CONFIG = {\n    maxShownCount: 0,\n    maxRefuseCount: 0,\n    duration: 1,\n    interval: 1,\n    silent: 10,\n    afterInstall: 0,\n};\n\nvar logger = require('../../../utils/logger').create('Advertisement/' + ID);\n\nvar MIN_NEWBG_COUNT = 3;\nvar MAX_NEWBG_COUNT = 6;\n\nvar ALARM_NAME = 'advertisement.newbackground';\nvar ALARM_DELAY_MINUTES = 5;\n\nmodule.exports = function () {\n    var block = new Block(ID, CONFIG);\n    backgroundsCloudLoader.onUpdated.addListener(onBackgroundsUpdated.bind(null, block));\n    frontendSettings.onRequested.addListener(onSettingsRequested.bind(null, block));\n    block.onRefuse.addListener(onRefuse.bind(null, block));\n    overwriteRefuse(block);\n    listenAlarm(block);\n    return block;\n};\n\n/**\n * When new backgrounds arrive, block may change needShowing\n */\nfunction onBackgroundsUpdated(block, info) {\n    info = info || {};\n    if (Array.isArray(info.newBackgrounds) && info.newBackgrounds.length >= MIN_NEWBG_COUNT) {\n        var backgroundsToShow = info.newBackgrounds.slice(0, MAX_NEWBG_COUNT);\n        block.updateData({\n            tryNew: Boolean(info.versions && info.versions.old > 0),\n            backgrounds: backgroundsToShow,\n        });\n        block.updateNeedShowing(true);\n    }\n}\n\n/**\n * When settings opened, block is refused\n */\nfunction onSettingsRequested(block) {\n    if (block.isShowing()) {\n        block.refuse(Block.REFUSE_REASON.EXTERNAL);\n    }\n}\n\nfunction overwriteRefuse(block) {\n    block.parentRefuse = block.refuse;\n    block.refuse = refuse;\n}\n\n/**\n * При закрытии блока снимаем у него needShowing.\n * Это нужно только для этого блока, для остальных стандартное поведение - не сбрасывать needShowing при закрытии\n * (например реклама поиска/стартовой)\n * см. VB-5361\n */\nfunction onRefuse(block) {\n    block.updateNeedShowing(false);\n}\n\n/**\n * Refuse block\n * @param {Integer} reason\n * @param {Object} data\n * @param {String} data.id\n * @param {Boolean} data.cancel\n * @param {Boolean} data.done\n */\nfunction refuse(reason, data) {\n    switch (reason) {\n        case Block.REFUSE_REASON.USERCLOSE:\n            onUserClose(this, data);\n            break;\n        case Block.REFUSE_REASON.ACCEPT:\n            onAccept(data);\n            break;\n        case Block.REFUSE_REASON.EXTERNAL:\n            clearAlarm();\n            this.parentRefuse(reason);\n            break;\n        case Block.REFUSE_REASON.DURATION:\n            this.parentRefuse(reason);\n            break;\n        default:\n            logger.error('Unknown reason: %s', reason);\n    }\n}\n\nfunction onUserClose(block, data) {\n    hasAlarm(function (exists) {\n        if (exists) {\n            clearAlarm();\n            block.parentRefuse(Block.REFUSE_REASON.ACCEPT);\n        } else {\n            block.parentRefuse(Block.REFUSE_REASON.USERCLOSE);\n        }\n    });\n\n    // Disable background rotation if user selects background manually and clicks \"Done\", VB-6008\n    if (data && data.done && backgroundRotation.isSelected()) {\n        backgroundRotation.setSelected(false);\n    }\n}\n\nfunction onAccept(data) {\n    data = data || {};\n    if (data.id) {\n        backgroundsSelector.selectBackground(data.id);\n    } else {\n        logger.error('Empty background id, %j', data);\n        return;\n    }\n    if (data.cancel) {\n        clearAlarm();\n    } else {\n        setAlarm();\n    }\n}\n\nfunction setAlarm() {\n    clearAlarm(function () {\n        logger.info('Set timeout for %i minute(s)', ALARM_DELAY_MINUTES);\n        alarms.register({\n            name: ALARM_NAME,\n            delayInMinutes: ALARM_DELAY_MINUTES,\n        });\n    });\n}\n\nfunction hasAlarm(callback) {\n    alarms.exists(ALARM_NAME, callback);\n}\n\nfunction clearAlarm(callback) {\n    alarms.clear(ALARM_NAME, callback);\n}\n\nfunction listenAlarm(block) {\n    alarms.on(ALARM_NAME, function () {\n        logger.info('Timeout finished');\n        block.parentRefuse(Block.REFUSE_REASON.ACCEPT);\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/advertisement/blocks/newbackground.js","/**\n * Модуль, ответственный за загрузку списка фонов из облака\n */\n\n'use strict';\n\nvar utils = require('../../utils/utils');\nvar bgSettings = require('../settings/backgrounds');\nvar find = require('lodash/collection/find');\nvar channel = require('../../utils/channel');\nvar alarms = require('../../utils/alarms');\n\nvar logger = require('../../utils/logger').create('backgounds-sync');\n\nvar SYNC_JSON_URL = 'https://download.cdn.yandex.net/bar/vb/bgs.json';\nvar LOAD_TIMEOUT = 10000;\n\nvar ALARM = {\n    name: 'cloudBackgrounds',\n    periodInMinutes: 24 * 60,\n};\n\n/**\n * Init\n */\nexports.init = function () {\n    alarms.register(ALARM, exports.sync);\n};\n\n/**\n * Retrieves new backgrounds from cloud\n */\nexports.sync = function (callback) {\n    callback = callback || utils.noop;\n    loadBackgounds(function (err, response) {\n        if (err) {\n            logger.error('Problem in backgrounds.sync method: %o', err);\n            callback(err);\n        } else if (isValid(response)) {\n            syncBackgrounds(response);\n            callback();\n        } else {\n            err = new Error('Invalid response, `version` or `skins` not found');\n            logger.error('Problem in backgrounds.sync method: %o', err);\n            callback(err);\n        }\n    });\n};\n\nexports.onUpdated = channel.create();\n\nfunction loadBackgounds(callback) {\n    utils.xhr({\n        url: SYNC_JSON_URL,\n        timeout: LOAD_TIMEOUT,\n        parse: 'json',\n    }, callback);\n}\n\nfunction isValid(response) {\n    return response && response.version && Array.isArray(response.skins) && response.skins.length > 0;\n}\n\nfunction syncBackgrounds(response) {\n    var versions = getVersions(response);\n    if (versions.new > versions.old) {\n        logger.info('Going to update backgrounds, versions: %s -> %s', versions.old, versions.new);\n        keepCurrent(response.skins);\n        update(response.skins, versions);\n    } else {\n        logger.info('New version %s <= %s (current)', versions.new, versions.old);\n    }\n}\n\nfunction getVersions(response) {\n    return {\n        old: bgSettings.getBackgroundsVersion(),\n        new: response.version || 1\n    };\n}\n\nfunction update(cloudBackgrounds, versions) {\n    var currentBackgrounds = bgSettings.getBackgroundsList();\n    var newBackgrounds = getNew(currentBackgrounds, cloudBackgrounds);\n    bgSettings.setBackgroundsList(cloudBackgrounds);\n    bgSettings.setBackgroundsVersion(versions.new);\n    exports.onUpdated.dispatch({\n        versions: versions,\n        newBackgrounds: newBackgrounds\n    });\n}\n\n/**\n * List of new backgrounds compared with previous\n */\nfunction getNew(currentBackgrounds, cloudBackgrounds) {\n    return cloudBackgrounds.filter(function (cloudBg) {\n        return !currentBackgrounds.some(function (curBg) {\n            return curBg.id === cloudBg.id;\n        });\n    });\n}\n\n/**\n * Saves current background in special setting, if it missing in new list\n * @see https://st.yandex-team.ru/VB-4928\n */\nfunction keepCurrent(cloudBackgrounds) {\n    var currentBackgroundId = bgSettings.getBackgroundImage();\n\n    // Если фон из настройки backgroundMissingCloudData уже не выбранный, то смело его удаляем\n    // Если же он выбранный, то ничего делать не нужно, все хорошо\n    var missingCloud = bgSettings.getMissingCloudBackground() || {};\n    if (missingCloud.id !== currentBackgroundId) {\n        bgSettings.setMissingCloudBackground(null);\n    } else {\n        return;\n    }\n\n    // Если выбранный фон есть в предыдущем наборе облачных фонов, но отсутствует в новом,\n    // то сохраняем его в backgroundMissingCloudData\n    var inCloud = find(cloudBackgrounds, 'id', currentBackgroundId);\n    var inCurrentCloud = find(bgSettings.getBackgroundsList(), 'id', currentBackgroundId);\n    if (inCurrentCloud && !inCloud) {\n        bgSettings.setMissingCloudBackground(inCurrentCloud);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/backgrounds/cloud-loader.js","/**\n * Отправка / изменение настроек через фронтенд\n */\n\n'use strict';\n\nvar messaging = require('./messaging');\nvar parallel = require('async').parallel;\nvar frontendBackgrounds = require('./backgrounds');\nvar startpages = require('../startpages');\nvar checkboxes = require('./settings-checkboxes');\nvar slider = require('./settings-slider');\nvar _ = require('../../utils/lodash');\nvar channel = require('../../utils/channel');\nvar logger = require('../../utils/logger').create('Frontend/settings');\nvar branding = require('../branding');\nvar buildInfo = require('../../platform/build-info');\nvar backup = require('../backup/manual');\nvar thumbsCollection = require('../thumbs/collection');\nvar events = require('./events');\n\n/**\n * Init\n */\nexports.init = function () {\n    checkboxes.init();\n    messaging.on(events.frontend.REQUEST_SETTINGS, function (req, sender, sendResponse) {\n        logger.info('Requested by tab: %i', sender && sender.tab && sender.tab.id);\n        requestSettings(sendResponse);\n        exports.onRequested.dispatch();\n        return true;\n    });\n    messaging.on(events.frontend.APPLY_SETTING, applySetting);\n\n    messaging.on(events.frontend.MAKE_BACKUP, function (req, sender, sendResponse) {\n        sendResponse(backup.make());\n        return true;\n    });\n\n    messaging.on(events.frontend.LOAD_BACKUP, function (req, sender, sendResponse) {\n        backup.load(req.url)\n            .then(() => sendResponse(true))\n            .catch(() => sendResponse(false));\n        return true;\n    });\n};\n\n/**\n * Событие запроса настроек фронтендом.\n * Нужно рекламе фонов, чтобы скрыться\n * (по хорошему это не нужно. Лучше скрывать рекламу, когда пользователь начинает кликать в фоны в настройках)\n */\nexports.onRequested = channel.create();\n\n/**\n * Установка нового значения для настройки.\n * id:\n * thumbsCount - изменеят количество отображаемых тумб\n * selectedBgImage - изменяет фоновое изображение\n * isStartPage - установка вз стартовой страницей\n *\n * Остальные id соостветсвуют названием настроек чекбоксов.\n *\n * @param {Object} req req.id, значение настройки - req.value\n * @param {Object} sender\n */\nfunction applySetting(req, sender) {\n    switch (req.id) {\n        case 'thumbsCount':\n            slider.setCount(req.value);\n            break;\n        case 'selectedBgImage':\n            frontendBackgrounds.setBackgroundImage(req, sender);\n            break;\n        case 'isStartPage':\n            startpages.setVb(function (err) {\n                if (!err) {\n                    messaging.send(events.backend.START_PAGE_CHANGED);\n                }\n            });\n            break;\n        default:\n            checkboxes.apply(req.id, req.value);\n    }\n}\n\nfunction requestSettings(callback) {\n    parallel({\n        bgImages: frontendBackgrounds.getAll.bind(frontendBackgrounds),\n        isStartPage: startpages.hasVb.bind(startpages),\n    }, function (error, data) {\n        if (error) {\n            logger.error(error.message);\n        }\n        var result = _.merge(\n            {\n                thumbsCount: thumbsCollection.items.length\n            },\n            data,\n            getSelectedBgImage(),\n            checkboxes.getValues(),\n            getTemplateValues()\n        );\n\n        logger.info('Send settings: %j', result);\n        callback(result);\n    });\n}\n\nfunction getSelectedBgImage() {\n    return {\n        selectedBgImage: frontendBackgrounds.getCurrent().id\n    };\n}\n\nfunction getTemplateValues() {\n    return {\n        licenseURL: branding.settings.licenseUrl,\n        softURL: branding.settings.softUrl,\n        productURL: branding.settings.productUrl,\n        vendorURL: branding.settings.vendorUrl,\n        rev: buildInfo.getVersion(),\n        build: buildInfo.getRevision(),\n        buildDate: buildInfo.getTimestamp(),\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/settings.js","/**\n * Модуль, ответственный за отправку нотификаци о изменении фонов в UI\n */\n'use strict';\n\nvar messaging = require('./messaging');\nvar backgrounds = require('../backgrounds');\nvar bgSelector = require('../backgrounds/selector');\nvar userBackground = require('../backgrounds/user-background');\nvar bgRotation = require('../backgrounds/rotation');\nvar events = require('./events');\n\nexports.init = function () {\n    messaging.on(events.frontend.UPLOAD_USER_BACKGROUND, uploadUserBackground);\n    bgSelector.onSelectSuccess.addListener(backgroundChanged);\n};\n\nexports.getCurrent = function () {\n    var data = backgrounds.requestCurrent() || {};\n\n    // если данных в data нет, то возможно это открытие фронтенда в процессе установки и фон еще не скачался,\n    // но мы готовы отрисовать фронтенд, а фон дослать потом отдельным сообщением\n\n    return {\n        id: data.id || '',\n        image: data.image || '',\n        color: data.color || ''\n    };\n};\n\nexports.getAll = function (callback) {\n    backgrounds.requestAll(function (err, items) {\n        if (err || !Array.isArray(items)) {\n            callback(null, []);\n        } else {\n            // todo: format items for frontend here\n            callback(null, items);\n        }\n    });\n};\n\nexports.setBackgroundImage = function (req, sender) {\n    var backgroundId = req.value;\n\n    if (!backgroundId) {\n        return;\n    }\n\n    bgSelector.selectBackground(backgroundId, function (err) {\n        var tabId = sender && sender.tab.id;\n        if (err && tabId) {\n            messaging.send(events.backend.BACKGROUND_CHANGED, {error: true}, tabId);\n        } else {\n            // disable background rotation if user selects background manually, VB-5858\n            if (bgRotation.isSelected()) {\n                bgRotation.setSelected(false);\n            }\n        }\n    });\n};\n\nfunction uploadUserBackground(req, sender, sendResponse) {\n    // FF and Chrome send req.url param with dataObjectUrl.\n    // IE sends req.path param with path to file in user's file system.\n    if (req.url) {\n        userBackground.download(req.url, sendResponse);\n    } else {\n        userBackground.copy(req.path, sendResponse);\n    }\n    return true;\n}\n\nfunction backgroundChanged(data) {\n    if (data) {\n        messaging.send(events.backend.BACKGROUND_CHANGED, {\n            id: data.id,\n            image: data.url,\n            color: data.color\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/backgrounds.js","/**\n * Точка входа для модуля backgrounds\n */\n\n// Background object format:\n// {\n//    preview: 'chrome-ext://.../brandings/default/fastdial/backgrounds/earth.jpg',\n//    image: 'chrome-ext://.../brandings/default/fastdial/backgrounds/earth.jpg',\n//    id: 'earth.Abanic',\n//    color: 'ffffff',\n//    isUser: false\n// }\n\n'use strict';\n\nvar cloudLoader = require('./cloud-loader');\nvar fontColors = require('./font-colors');\nvar requestAll = require('./request-all');\nvar bgSettings = require('../settings/backgrounds');\nvar bgRotation = require('./rotation');\n\nmodule.exports = {\n    name: 'backgrounds',\n\n    init: function () {\n        cloudLoader.init();\n        bgRotation.init();\n    },\n\n    /**\n     * Synchronously retrieves current background\n     * @returns {Object} {id:..., image: ..., color: ...}\n     */\n    requestCurrent: function () {\n        var backgroundId = bgSettings.getBackgroundImage();\n        var backgroundPath = bgSettings.getBackgroundImagePath();\n        var color = fontColors.getCached(backgroundId);\n\n        return {\n            id: backgroundId,\n            image: backgroundPath,\n            color: color || fontColors.DEFAULT_COLOR\n        };\n    },\n\n    sync: cloudLoader.sync,\n\n    requestAll: requestAll\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/backgrounds/index.js","/**\n * Модуль, ответственный за составление полного списка фонов\n */\n\n'use strict';\n\nvar asyncLib = require('async');\nvar storage = require('./storage');\nvar brandingBackgrounds = require('./branding-backgrounds');\nvar cloudBackgrounds = require('./cloud-backgrounds');\nvar userBackground = require('./user-background');\nvar bgSettings = require('../settings/backgrounds');\nvar logger = require('../../utils/logger').create('BackgroundsRequestAll');\nvar _ = require('../../utils/lodash');\n\n/**\n * Creates list of backgrounds based on cloud and branding lists\n * todo: replace async.waterfall with sync calls\n * @param {Function} callback\n */\nmodule.exports = function (callback) {\n    asyncLib.waterfall([\n        createDataObject,\n        getLocalFiles,\n        searchForUserBackground,\n        addBrandingBackgrounds,\n        addCloudBackgrounds,\n        addMissingCloudBackground,\n        addMissingLocalBackgrounds,\n        createFinalList\n    ], callback);\n};\n\n/**\n * Creates data object for async flow\n * @param {Function} callback\n */\nfunction createDataObject(callback) {\n    callback(null, {\n        // storage for all backgrounds (from cloud, branding, and local lists)\n        backgroundsMap: {},\n        // data about local files in fromat {fileName: localFileUrl}\n        localFilesMap: {}\n    });\n}\n\n/**\n * Retrieves local files and adds it to data.localFilesMap\n * @param {Object} data\n * @param {Object} data.backgroundsMap\n * @param {Object} data.localFilesMap\n * @param {Function} callback\n */\nfunction getLocalFiles(data, callback) {\n    storage.getAll(function (error, localFilesMap = {}) {\n        data.localFilesMap = localFilesMap;\n        callback(null, data);\n    });\n}\n\n/**\n * Retrieves user background from local files and adds it to backgroundsMap\n * @param {Object} data\n * @param {Object} data.backgroundsMap\n * @param {Object} data.localFilesMap\n * @param {Function} callback\n */\nfunction searchForUserBackground(data, callback) {\n    var background = userBackground.getFromMap(data.localFilesMap);\n    if (background) {\n        data.backgroundsMap[background.id] = background;\n    }\n    callback(null, data);\n}\n\n/**\n * Retrieves branding backgrounds and adds it to backgroundsMap\n * @param {Object} data\n * @param {Object} data.backgroundsMap\n * @param {Object} data.localFilesMap\n * @param {Function} callback\n */\nfunction addBrandingBackgrounds(data, callback) {\n    var backgrounds = brandingBackgrounds.getBackgrounds();\n    _.defaults(data.backgroundsMap, backgrounds);\n    callback(null, data);\n}\n\n/**\n * Retrieves cloud backgrounds and adds it to backgroundsMap\n * @param {Object} data\n * @param {Object} data.backgroundsMap\n * @param {Object} data.localFilesMap\n * @param {Function} callback\n */\nfunction addCloudBackgrounds(data, callback) {\n    var backgrounds = cloudBackgrounds.getBackgrounds();\n    _.defaults(data.backgroundsMap, backgrounds);\n    callback(null, data);\n}\n\n/**\n * Retrieves missing cloud background and adds it to backgroundsMap\n * @param {Object} data\n * @param {Object} data.backgroundsMap\n * @param {Object} data.localFilesMap\n * @param {Function} callback\n */\nfunction addMissingCloudBackground(data, callback) {\n    var background = constructMissingCloudBackground(data.backgroundsMap, data.localFilesMap);\n    if (background) {\n        data.backgroundsMap[background.id] = background;\n    }\n    callback(null, data);\n}\n\n/**\n * Creates missing cloud background object, if it's exist\n * @param {Object} backgroundsMap\n * @param {Object} localFilesMap\n * @returns {?Object}\n */\nfunction constructMissingCloudBackground(backgroundsMap, localFilesMap) {\n    var backgroundData = bgSettings.getMissingCloudBackground();\n    if (backgroundData && isBackgroundMissing(backgroundData.id, backgroundsMap, localFilesMap)) {\n        logger.info('Missing cloud background has been found:', backgroundData.id);\n        return constructBackgroundFromLocalData(backgroundData.id, localFilesMap, backgroundData.index);\n    }\n    return null;\n}\n\n/**\n * Retrieves missing local backgrounds and adds it to backgroundsMap\n * @param {Object} data\n * @param {Object} data.backgroundsMap\n * @param {Object} data.localFilesMap\n * @param {Function} callback\n */\nfunction addMissingLocalBackgrounds(data, callback) {\n    Object.keys(data.localFilesMap).forEach(function (id) {\n        if (!(id in data.backgroundsMap)) {\n            logger.info('Missing local background has been found:', id);\n            data.backgroundsMap[id] = constructBackgroundFromLocalData(id, data.localFilesMap);\n        }\n    });\n    callback(null, data);\n}\n\n/**\n * Checks status of background by id\n * Background is missing if it don't exist in backgroundsMap\n * but exist in localFilesMap\n * @param {String} missingId\n * @param {Object} backgroundsMap\n * @param {Object} localFilesMap\n * @returns {Boolean}\n */\nfunction isBackgroundMissing(missingId, backgroundsMap, localFilesMap) {\n    var isConstructed = missingId in backgroundsMap;\n    var isInLocalData = missingId in localFilesMap;\n    return !isConstructed && isInLocalData;\n}\n\n/**\n * Creates background obect from local data\n * @param {String} id\n * @param {Object} localFilesMap\n * @param {?Number} index\n * @returns {Object}\n */\nfunction constructBackgroundFromLocalData(id, localFilesMap, index) {\n    return {\n        id: id,\n        image: localFilesMap[id],\n        preview: localFilesMap[id],\n        index: index || 0\n    };\n}\n\n/**\n * Updates backgrounds in currentMap with url from local data\n * @param {Object} localMap\n * @param {Object} currentMap\n */\nfunction updateUrlsFromLocalData(localMap, currentMap) {\n    Object.keys(localMap).forEach(function (fileName) {\n        if (currentMap[fileName]) {\n            currentMap[fileName].image = localMap[fileName];\n        }\n    });\n}\n\n/**\n * Creates final list of backgrounds\n * @param {Object} data\n * @param {Object} data.backgroundsMap\n * @param {Object} data.localFilesMap\n * @param {Function} callback\n */\nfunction createFinalList(data, callback) {\n    updateUrlsFromLocalData(data.localFilesMap, data.backgroundsMap);\n    var list = Object.keys(data.backgroundsMap)\n        .map(function (backgroundId) {\n            return data.backgroundsMap[backgroundId];\n        })\n        .map(function (data) {\n            data.branded = Boolean(data.branded);\n            data.isUser = Boolean(data.isUser);\n            return data;\n        })\n        .sort(sortFinalList);\n    callback(null, list);\n}\n\n/**\n * Branded backgrounds come first,\n * then user's background(s),\n * then backgrounds from cloud.\n * @param {Object} a\n * @param {Object} b\n * @returns {Number}\n */\nfunction sortFinalList(a, b) {\n    return Number(b.branded) - Number(a.branded)\n        || Number(b.isUser) - Number(a.isUser)\n        || a.index - b.index;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/backgrounds/request-all.js","/**\n * Ползунок\n */\n\n'use strict';\n\nvar collection = require('../thumbs/collection');\nvar Thumb = require('../thumbs/thumb');\nvar candidates = require('../pickup/candidates');\nvar urlUtils = require('../../utils/url');\nvar blacklist = require('../blacklist/blacklist');\nvar backupRestore = require('../backup/restore');\nvar branding = require('../branding');\n\nvar logger = require('../../utils/logger').create('Slider');\n\n// кеш удаленных тумб\nvar removedThumbsCache = [];\n// кеш автоподбора\nvar pickupCache;\n\n/**\n * Init\n */\nexports.init = function () {\n    // при восстановлении из бэкапа очищаем кеш удаленных ползунком тумб, VB-5797\n    backupRestore.onRestored.addListener(clearCache);\n};\n\n/**\n * Sets thumb count via slider\n *\n * @param {Number} newCount\n */\nexports.setCount = function (newCount) {\n    var currentCount = collection.length;\n    if (newCount > currentCount) {\n        if (newCount > currentCount + removedThumbsCache.length && !pickupCache) {\n            populatePickupCache(function () {\n                increase(newCount);\n            });\n        } else {\n            increase(newCount);\n        }\n    } else if (newCount < currentCount) {\n        decrease(newCount);\n    }\n};\n\n/**\n * Увеличиваем кол-во тумб (недостающие берем из кеша или из сохраненного автоподбора)\n * @param {Integer} newCount\n * @param {Boolean} isSecondRun если true, то в случае нехватки тумб, не будет происходить\n * очистка черного списка и попытки добор тумб после этого\n */\nfunction increase(newCount, isSecondRun) {\n    logger.info('Increase count from %i to %i', collection.length, newCount);\n    blacklist.createChecker(function (blacklistChecker) {\n        var positions = [];\n        var indexToAdd = collection.length;\n        var thumbsFromRemovedCacheLogData = [];\n        var thumbsFromPickupCacheLogData = [];\n        var blacklistedTumbsLogData = [];\n        var currentThumbsLogData;\n\n        while (indexToAdd < newCount) {\n            var thumb;\n\n            if (removedThumbsCache.length) {\n                // пробуем взять из удаленных тумб\n                thumb = removedThumbsCache.shift();\n                currentThumbsLogData = thumbsFromRemovedCacheLogData;\n            } else {\n                // пробуем взять из кеша АП\n                thumb = createThumbFromPickupCache();\n                currentThumbsLogData = thumbsFromPickupCacheLogData;\n            }\n\n            if (!thumb) {\n                logger.warn('Not enough thumbs!');\n                break;\n            }\n\n            if (!blacklistChecker.contains(thumb.url)) {\n                collection.setItem(indexToAdd, thumb);\n                positions.push(indexToAdd);\n                indexToAdd++;\n                currentThumbsLogData.push(thumb.url);\n            } else {\n                blacklistedTumbsLogData.push(thumb.url);\n            }\n        }\n\n        collection.loadMissingData({positions: positions});\n\n        logIncreaseResults(\n            thumbsFromPickupCacheLogData,\n            thumbsFromRemovedCacheLogData,\n            blacklistedTumbsLogData\n        );\n\n        var isSecondRunNeeded = !isSecondRun && indexToAdd !== newCount;\n\n        if (isSecondRunNeeded) {\n            logger.info('Not enough tumbs, trying to remove default thumbs from blacklist');\n            blacklist.remove(branding.thumbs.items)\n                .then(function () {\n                    populatePickupCache(function () {\n                        increase(newCount, true);\n                    });\n                });\n        }\n    });\n}\n\n/**\n * Логирование результата операции увеличения количества тумб\n * @param  {Array} thumbsFromPickupCache\n * @param  {Array} thumbsFromRemovedCache\n * @param  {Array} blacklistedTumbs\n */\nfunction logIncreaseResults(thumbsFromPickupCache, thumbsFromRemovedCache, blacklistedTumbs) {\n    [\n        [thumbsFromPickupCache, 'Thumbs being taken from pickup cache: %s'],\n        [thumbsFromRemovedCache, 'Thumbs being taken from removed cache: %s'],\n        [blacklistedTumbs, 'Thumbs being filtered by blacklist: %s'],\n    ].forEach(([thumbs, log]) => {\n        if (thumbs.length) {\n            logger.info(log, thumbs.join(', '));\n        }\n    });\n}\n\n/**\n * Creates thumb from pickup cache data.\n * If cache is empty, returns null.\n * @returns {Thumb|null}\n */\nfunction createThumbFromPickupCache() {\n    var cacheItem = shiftFromPickupCache();\n    if (cacheItem) {\n        var thumb = new Thumb(cacheItem.url);\n        thumb.visits = cacheItem.visits || 0;\n        return thumb;\n    }\n    return null;\n}\n\n/**\n * Уменьшаем кол-во тумб\n * @param {Integer} newCount\n */\nfunction decrease(newCount) {\n    logger.info('Decrease count from %i to %i', collection.length, newCount);\n    var positions = [];\n    var urls = [];\n    for (var i = collection.length - 1; i >= newCount; i--) {\n        var thumb = collection.getItem(i);\n        if (thumb) {\n            removedThumbsCache.unshift(thumb);\n            collection.removeItem(i);\n            positions.push(i);\n            urls.push(thumb.url);\n        }\n    }\n\n    logger.info('Thumbs %s were removed', urls.join(' '));\n}\n\n/**\n * Подтягиваем кеш автоподбора\n */\nfunction populatePickupCache(callback) {\n    candidates.get({fast: true, useTopSites: true}, function (items) {\n        logger.info('Pickup cache loaded: %i', items ? items.length : null);\n        pickupCache = items || null;\n        callback();\n    });\n}\n\n/**\n * Вытаскивает первую тумбы, которой нет в текущей сетке\n */\nfunction shiftFromPickupCache() {\n    if (!pickupCache) {\n        return;\n    }\n\n    while (pickupCache.length) {\n        var item = pickupCache.shift();\n        var domain = urlUtils.getNormalDomain(item.url);\n        if (!collection.hasDomain(domain)) {\n            return item;\n        }\n    }\n}\n\nfunction clearCache() {\n    pickupCache = null;\n    removedThumbsCache.length = 0;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/settings-slider.js","/**\n * Формирование списка кандидатов автоподбора, которые вставляются в незапиненные ячейки сетки\n */\n\n'use strict';\n\nvar utils = require('../../utils/utils');\nvar platformAbout = require('../../platform/about');\nvar brandedSites = require('./branded-sites');\nvar collection = require('../thumbs/collection');\nvar getTopHistory = require('./top-history');\nvar topSites = require('./top-sites');\nvar _ = require('../../utils/lodash');\nvar blacklist = require('../blacklist/blacklist');\nvar candidatesStorage = require('./candidates-storage');\nvar safebrowsing = require('../safebrowsing/safebrowsing');\nvar sorter = require('./sorter');\nvar logger = require('../../utils/logger').create('Pickup/candidates');\n\nvar TOP_HISTORY_PARAMS = {\n    minVisits: 3,\n    maxResults: 100,\n    days: 20\n};\n\nvar INTERNAL_PROTOCOLS = ['moz-extension', 'about'];\nvar INTERNAL_URLS = [platformAbout.visbookmarksUrl];\n\n/**\n * Возвращает список кандидатов для заполнения сетки\n * @param {Object} options\n * @param {Boolean} [options.fast] короткий таймаут на проверку порнодоменов\n * @param {Boolean} [options.useTopSites] использовать топ-сайты\n * @param {Function} callback\n */\nexports.get = function (options, callback) {\n    getAllCandidates({useTopSites: options.useTopSites}, function (items) {\n        filterCandidates({fast: options.fast}, items, function (filteredItems) {\n            filteredItems.sort(sorter);\n            if (options.useTopSites) {\n                // топ-сайты прилетают без визитов, поэтому вручную проставляем им визиты,\n                // чтобы они не вымылись следующим автоподбором\n                filteredItems = topSites.setVisits(filteredItems);\n            }\n            candidatesStorage.save(filteredItems);\n            callback(filteredItems);\n        });\n    });\n};\n\n/**\n * Возвращает список кандидатов для заполнения сетки (из кеша)\n * @param {Function} callback\n */\nexports.getFromStorage = function (callback) {\n    candidatesStorage.get(callback);\n};\n\n/**\n * Возварщает список кандидатов из всех источников\n * @param {Object} options\n * @param {Boolean} options.useTopSites взять еще и топсайты\n * @param {Function} callback\n */\nfunction getAllCandidates(options, callback) {\n    options = options || {};\n    var branded = brandedSites.get();\n    logger.info('Branded sites: %i', branded.length);\n    var unpinned = getCurrent({pinned: false});\n    logger.info('Current unpinned thumbs: %i', unpinned.length);\n    getTopHistory(TOP_HISTORY_PARAMS, function (historyItems) {\n        logger.info('Top history count: %i', historyItems.length);\n        var items = [].concat(historyItems, branded, unpinned);\n        if (options.useTopSites) {\n            topSites.get(function (err, topSiteItems) {\n                if (Array.isArray(topSiteItems)) {\n                    logger.info('Top sites count: %i', topSiteItems.length);\n                    items = items.concat(topSiteItems);\n                }\n                callback(items);\n            });\n        } else {\n            callback(items);\n        }\n    });\n}\n\n/**\n * Фильтруем список кандидатов\n * @param {Object} options\n * @param {Array} items\n * @param {Function} callback\n */\nfunction filterCandidates(options, items, callback) {\n    var filtered = applyFilters(items, [\n        setDomain,\n        filterEmptyURI,\n        filterInternalURI,\n        removeSameDomains,\n        removePinnedDomains,\n    ]);\n    removeBlacklistDomains(filtered, function (filtered) {\n        removeUnsafeDomains(options, filtered, callback);\n    });\n}\n\n/**\n * Список текущих тумб в сетке\n * @returns {Array}\n */\nfunction getCurrent(options) {\n    options = _.defaults({}, options, {pinned: false});\n    return collection.toArray()\n        .filter(function (item) {\n            return Boolean(item.thumb.pinned) === options.pinned;\n        })\n        .map(function (item) {\n            return {\n                url: item.thumb.url,\n                visits: item.thumb.visits,\n                position: item.position\n            };\n        });\n}\n\n/**\n * Применяем фильтры\n * @param {Array} items\n * @param {Array} filterFns\n */\nfunction applyFilters(items, filterFns) {\n    return filterFns.reduce(function (res, fn) {\n        return fn(res);\n    }, items);\n}\n\n/**\n * Выставляем URI и домен\n * @param {array} items\n * @returns {*}\n */\nfunction setDomain(items) {\n    return items.map(function (item) {\n        item.uri = utils.url.createURI(item.url);\n        item.domain = utils.url.getNormalDomain(item.url);\n        return item;\n    });\n}\n\n/**\n * Выбрасываем из массива те элементы, для которых не удалось получить URI и домен.\n * @param {array} items\n * @returns {*}\n */\nfunction filterEmptyURI(items) {\n    return items.filter(function (item) {\n        return Boolean(item.uri) && Boolean(item.domain);\n    });\n}\n\n/**\n * Выбрасываем из массива элементы со служебными адресами, открытие которых\n * приведёт к ошибке \"невозможно отобразить страницу\".\n * Здесь же фильтруем и страницы с адресом ВЗ.\n * @param {array} items\n * @returns {*}\n */\nfunction filterInternalURI(items) {\n    return items.filter(function (item) {\n        return INTERNAL_PROTOCOLS.indexOf(item.uri.protocol()) === -1\n            && INTERNAL_URLS.indexOf(item.url) === -1;\n    });\n}\n\n/**\n * Для разных урлов с одного домена останется урл который топ-сайт либо с максимальным посещением.\n * Если в пределах домена есть одинаковые урлы, то важно сохранить для них поля position и index,\n * чтобы сохранить порядок в сетке\n * @param {Array} items\n * @returns {Array}\n */\nfunction removeSameDomains(items) {\n    var domainGroups = _.groupBy(items, 'domain');\n    return _.map(domainGroups, function (group, domain) {\n        // сначала пробуем найти топ-сайт, если есть - используем его как основной для данного домена\n        var mainItemForDomain = _.filter(group, {topSite: true})[0];\n        if (!mainItemForDomain) {\n            // todo: проверять через isEqualDomains (maps.yandex.ru == harita.yandex.com.tr) с учетом domaingroups.xml\n            mainItemForDomain = _.max(group, 'visits');\n        }\n        if (group.length > 1) {\n            var reason = mainItemForDomain.topSite ? 'topsite' : 'maxVisits=' + mainItemForDomain.visits;\n            logger.info('Found %i sites for domain %s. Use as main site (%s): %s',\n                group.length,\n                domain,\n                reason,\n                mainItemForDomain.url\n            );\n        }\n        group\n            .filter(function (item) {\n                // оставляем урлы, которые полностью совпадают с основным для данного домена\n                return utils.url.isEqualUrls(item.uri, mainItemForDomain.uri);\n            })\n            .forEach(function (item) {\n                /**\n                 * Если у элемента с макс визитами не оказалось position,\n                 * то берем position у любого элемента в группе по домену\n                 * (это нужно чтобы сохранить порядок в сетке)\n                 */\n                if (!_.isNumber(mainItemForDomain.position) && _.isNumber(item.position)) {\n                    mainItemForDomain.position = item.position;\n                }\n                /**\n                 * Если у элемента с макс визитами не оказалось index,\n                 * то берем index у любого элемента в группе по домену\n                 * (это нужно чтобы сохранить порядок в сетке)\n                 */\n                if (!_.isNumber(mainItemForDomain.index) && _.isNumber(item.index)) {\n                    mainItemForDomain.index = item.index;\n                }\n            });\n        return mainItemForDomain;\n    });\n}\n\n/**\n * Удаляем урлы, домены которых есть в блэклисте\n */\nfunction removeBlacklistDomains(items, callback) {\n    blacklist.createChecker(function (blacklistChecker) {\n        items = items.filter(function (item) {\n            var inBlacklist = blacklistChecker.contains(item.url);\n            if (inBlacklist) {\n                logger.info('Blacklisted: %s', item.url);\n            }\n            return !inBlacklist;\n        });\n        callback(items);\n    });\n}\n\n/**\n * Удаляем урлы, которые по домену совпадают с запиненными на сетке\n */\nfunction removePinnedDomains(items) {\n    var pinned = getCurrent({pinned: true});\n    pinned = setDomain(pinned);\n    var pinnedDomains = _.groupBy(pinned, 'domain');\n    return items.filter(function (item) {\n        return !(item.domain in pinnedDomains);\n    });\n}\n\n/**\n * Удаляем порнодомены\n * @param {Object} options\n * @param {Boolean} options.fast\n * @param {Array} items\n * @param {Function} callback\n */\nfunction removeUnsafeDomains(options, items, callback) {\n    var domains = items\n        // исключаем сайты из дефолтного набора и те, что уже в сетке (есть поле position)\n        .filter(function (item) {\n            return !(item.branded && _.isNumber(item.position));\n        })\n        .map(function (item) {\n            return item.domain;\n        });\n    safebrowsing.checkDomains(options, domains, function (err, unsafeDomains) {\n        if (err) {\n            logger.error(err.message);\n            callback(items);\n            return;\n        }\n        if (unsafeDomains && Object.keys(unsafeDomains).length) {\n            items = items.filter(function (item) {\n                var isUnsafe = item.domain in unsafeDomains;\n                if (isUnsafe) {\n                    logger.info('Removed as unsafe: %s', item.url);\n                }\n                return !isUnsafe;\n            });\n        }\n        callback(items);\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/pickup/candidates.js","/**\n * Брендированные тумбы\n */\n\n'use strict';\n\nvar branding = require('../branding');\nvar curly = require('../../utils/curly');\nvar platformAbout = require('../../platform/about');\n\n/**\n * Возвращает список брендированных тумб в нужном формате\n */\nexports.get = function () {\n    return branding.thumbs.items.map(function (item, index) {\n        return {\n            url: curly.insertUrlVars(item.url, {vbID: platformAbout.type}),\n            index: index,\n            pinned: Boolean(item.pinned),\n            visits: item.boost || branding.thumbs.boost,\n            branded: true,\n        };\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/pickup/branded-sites.js","/**\n * Получаем список топ-хистори\n * https://beta.wiki.yandex-team.ru/users/svasi/vb-auto-doc/\n */\n\n'use strict';\n\nvar _ = require('../../utils/lodash');\nvar error = require('../error/error');\nvar dateUtils = require('../../utils/date');\n\nvar DEFAULT_OPTIONS = {\n    minVisits: 3,\n    maxResults: 100,\n    days: 20\n};\n\nfunction isValidItem(historyItem, options) {\n    if (historyItem.visitCount < options.minVisits) {\n        return false;\n    }\n    if (!historyItem.title) {\n        return false;\n    }\n    if (!/^(http|ftp)s?/.test(historyItem.url)) {\n        return false;\n    }\n    return true;\n}\n\nmodule.exports = function (options, callback) {\n    options = _.defaults({}, options, DEFAULT_OPTIONS);\n    chrome.history.search({\n        text: '',\n        maxResults: options.maxResults,\n        startTime: Date.now() - options.days * dateUtils.DAY_MS\n    }, error.wrap(function (records) {\n        var output = records\n            .filter(function (historyItem) {\n                return isValidItem(historyItem, options);\n            })\n            .map(function (historyItem) {\n                return {\n                    url: historyItem.url,\n                    title: historyItem.title,\n                    lastVisitTime: historyItem.lastVisitTime,\n                    visits: historyItem.visitCount,\n                    history: true,\n                };\n            });\n        callback(output);\n    }));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/pickup/top-history.js","/**\n * Глобальный обработчик ошибок окна\n */\n\n'use strict';\n\nvar platformAbout = require('../../platform/about');\nvar platformBuildInfo = require('../../platform/build-info');\nvar buildData = require('../debug/build-data');\nvar isChromeDebug = platformAbout.id === 'chr' && (platformBuildInfo.isDebug() || !buildData.git.release);\n\nvar logger = require('../../utils/logger').create('Core');\n\nmodule.exports = {\n    attach: function (win) {\n        win.onerror = function (msg, url, line, symbol, exception) {\n            var msgError = msg + ' in ' + url + ' (line: ' + line + ', symbol: ' + symbol + ')';\n            if (exception && exception.stack) {\n                msgError += ' \\nSTACK: ' + exception.stack;\n            }\n\n            logger.error(msgError);\n\n            // todo: https://wiki.yandex-team.ru/stardust/Sboroshibokpriraboterasshirenijj\n            /*\n            Metrika.param(msg, line + ':' + symbol, {\n                module: 'Core',\n                trace: (exception && exception.trace)\n            });\n            */\n\n            // в режиме дебага выводим сообщение алертом, чтобы не пропустить (только в Хроме)\n            if (isChromeDebug) {\n                window.alert(msgError);\n            }\n        };\n    },\n    /**\n     * Увы, ошибки в колбэках хром АПИ не триггерят window.onerror\n     * https://code.google.com/p/chromium/issues/detail?id=357568\n     *\n     * Нашелся хитрый способ перехватывать ошибки внутри chrome.* api вызовов: заворачивать колбэк в setTimeout 0.\n\n     Использование:\n\n     chrome.tabs.get(123, wrap(function () {\n         throw '123';\n     }));\n\n     * Но есть минусы:\n     * - не видно нормального стектрейса\n     * - создаются дополнительные функции обертки\n     * - в обработчике недоступна chrome.runtime.lastError\n     * - нельзя использовать в подписчиках на chrome.runtime.onMessage,\n     * т.к. нужно вернуть результат, а setTimeout это сделать не может\n     *\n     * Экспериментальная функция, подумаем еще насколько оправданно ее использовать,\n     * но пока это единственный способ не потерять ошибки внутри хромовских колбэков.\n     *\n     * todo: проверить, ловим ли мы ошибки в фф/ие и может там не заворачивать\n     *\n     * @param {Function} fn\n     * @returns {*}\n     */\n    wrap: function (fn) {\n        // в дебаге ошибка нормально видна в консоли (но не попадает в логгер) в Хроме\n        // в остальных браузерах ошибка видна всегда\n        if (platformAbout.id !== 'chr' || isChromeDebug) {\n            return fn;\n        } else {\n            return function () {\n                var args = arguments;\n                if (chrome.runtime.lastError) {\n                    // todo: log about ('Error');\n                }\n                setTimeout(function () {\n                    fn.apply(null, args);\n                }, 0);\n            };\n        }\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/error/error.js","/**\n * Получаем список топ-сайтов из апи браузера\n */\n\n'use strict';\n\nvar logger = require('../../utils/logger').create('Pickup/top-sites');\n\n// хром апи больше восьми сейчас и не возвращает, но на всякий случай.\nvar COUNT = 8;\n// надбавка визитов для топсайтов (в эксперименте VB-5516)\nvar BOOST_DELTA = 10;\n\n/**\n * Список топсайтов\n * @param {Function} callback\n */\nexports.get = function (callback) {\n    chrome.topSites.get(function (items) {\n        if (chrome.runtime.lastError) {\n            callback(chrome.runtime.lastError);\n        } else if (!Array.isArray(items)) {\n            callback(new Error('top sites is not array'));\n        } else {\n            items = items\n                .slice(0, COUNT)\n                .map(formatItem);\n            callback(null, items);\n        }\n    });\n};\n\n/**\n * Проставляем визиты топ-сайтам равные максимальному кол-ву визитов не-топ-сайта + буст\n * @param {Array} items\n */\nexports.setVisits = function (items) {\n    var firstNonTopSite = items.find(function (item) {\n       return !item.topSite;\n    });\n    var maxVisits = firstNonTopSite && firstNonTopSite.visits || 0;\n    var topSiteVisits = maxVisits + BOOST_DELTA;\n    logger.info('Setting visits: %i + %i(boost) = %i', maxVisits, BOOST_DELTA, topSiteVisits);\n    return items.map(function (item) {\n        if (item.topSite) {\n           item.visits = topSiteVisits;\n        }\n        return item;\n    });\n};\n\nfunction formatItem(item, index) {\n    item.index = index;\n    item.topSite = true;\n    return item;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/pickup/top-sites.js","/**\n * Собираем в один список данные из трех блеклистов: локального, серверного и из брендинга\n */\n\n'use strict';\n\nvar utils = require('../../utils/utils');\nvar local = require('./local');\nvar remote = require('./remote');\nvar branding = require('../branding');\nvar BlacklistChecker = require('./blacklist-checker');\nvar logger = require('../../utils/logger').create('Blacklist');\nvar asyncLib = require('async');\n\nmodule.exports = {\n    init: function () {\n        remote.init();\n    },\n\n    /**\n     * Удаление элементов из локального черного списка\n     * @param   {Array} items\n     * @returns {Promise}\n     */\n    remove: function (items) {\n        return new Promise(function (resolve) {\n            asyncLib.map(\n                items,\n                function (item, callback) {\n                    var domain = utils.url.getNormalDomain(item.url);\n                    local.deleteOne(domain, callback);\n                },\n                resolve\n            );\n        });\n    },\n\n    createChecker: function (callback) {\n        var brandedData = branding.blacklist;\n        var remoteData = remote.get();\n        local.get(function (err, localDomains) {\n            if (err) {\n                logger.warn('Can not get local blacklist');\n                localDomains = [];\n            }\n\n            var domains = []\n                .concat(brandedData.domains)\n                .concat(remoteData.domains)\n                .concat(localDomains)\n                .map(utils.url.getNormalDomain)\n                .filter(Boolean);\n\n            var regexps = []\n                .concat(brandedData.regexps)\n                .concat(remoteData.regexps)\n                .map(function (regexp) {\n                    return new RegExp(regexp, 'i');\n                });\n\n            callback(new BlacklistChecker(domains, regexps));\n        });\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/blacklist/blacklist.js","/**\n * Серверный блэклист, обновляется по таймеру, хранится в настройках.\n */\n\n'use strict';\n\nvar utils = require('../../utils/utils');\nvar alarms = require('../../utils/alarms');\nvar settings = require('../settings/settings');\nvar xml = require('../../utils/xml');\nvar xhr = require('../../utils/xhr');\n\nvar logger = require('../../utils/logger').create('Blacklist/remote');\n\nvar SERVER_URL = 'https://download.cdn.yandex.net/bar/vb/bl.xml';\nvar ALARM = {\n    name: 'blacklistSync',\n    periodInMinutes: 24 * 60\n};\n\nmodule.exports = {\n    init: function () {\n        alarms.register(ALARM, this.updateFromServer.bind(this));\n    },\n    get: function () {\n        var storageData = settings.get('blacklist');\n        return storageData || {\n            domains: [],\n            regexps: []\n        };\n    },\n    updateFromServer: function (callback) {\n        callback = callback || utils.noop;\n        xhr({\n            url: SERVER_URL,\n            logError: true,\n            parse: 'xml',\n        }, function (err, xml, evt) {\n            if (err) {\n                callback(err);\n                return;\n            }\n\n            var hasListNode = xml && xml.documentElement && xml.documentElement.nodeName === 'list';\n            if (!hasListNode) {\n                logger.warn('Invalid XML: %l' + evt.target.responseText);\n                callback(new Error());\n                return;\n            }\n\n            parseXML(xml).then((data) => {\n                if (data) {\n                    settings.set('blacklist', data);\n                    logger.info(\n                        'Updated, %i domain(s) %i regexp(s)',\n                        data.domains.length,\n                        data.regexps.length\n                    );\n                    callback(null, data);\n                } else {\n                    logger.warn('Can not parse XML: %l', evt.target.responseText);\n                    callback(new Error());\n                }\n            });\n        });\n    }\n};\n\nfunction parseXML(responseXML) {\n    var output = {\n        domains: [],\n        regexps: []\n    };\n\n    // todo: https://github.yandex-team.ru/desktop/visbookmarks-backend/pull/19#discussion_r299716\n    return xml.selectAll('list > item', responseXML).then((items) => {\n        Promise.all([\n            items.map((item) => {\n                return Promise.all([\n                    xml.getAttr(item, 'domain'),\n                    xml.getAttr(item, 'url_regex')\n                ]).then((results) => {\n                    const [domain, regexp] = results;\n\n                    if (domain) {\n                        output.domains.push(domain);\n                    }\n            \n                    if (regexp) {\n                        output.regexps.push(regexp);\n                    }\n                });\n            })\n        ]);\n    }).finally(() => output);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/blacklist/remote.js","/**\n * BlacklistChecker умеет проверять наличие в блеклисте конкретного урла или домена\n */\n'use strict';\n\nvar urlUtils = require('../../utils/url');\n\n/**\n * Creates instance of BlacklistChecker\n * @constructor\n * @param {String[]} domains\n * @param {RegExp[]} regexps\n */\nfunction BlacklistChecker(domains, regexps) {\n    this.domains = domains;\n    this.regexps = regexps;\n}\n\n/**\n * Checks presence of url in blacklist (by domains and regexps).\n * Second parameter considered as domain of passed url.\n * Without second parameter, domain of url would be calculated\n * using urlUtils.getNormalDomain\n * @param {String} url\n * @param {?String} domain\n */\nBlacklistChecker.prototype.contains = function (url, domain) {\n    domain = domain || urlUtils.getNormalDomain(url);\n    return checkByDomains(domain, this.domains)\n        || checkByRegexps(url, this.regexps);\n};\n\n/**\n * Checks presence of domain in blacklist domains\n * @param {String} domain\n * @param {String[]} domainList\n */\nfunction checkByDomains(domain, domainList) {\n    return domainList.indexOf(domain) !== -1;\n}\n\n/**\n * Checks presence of url in blacklist by regexps\n * @param {String} url\n * @param {RegExp[]} regexpList\n */\nfunction checkByRegexps(url, regexpList) {\n    return regexpList.some(function (regexp) {\n        return regexp.test(url);\n    });\n}\n\nmodule.exports = BlacklistChecker;\n\n\n\n// WEBPACK FOOTER //\n// ./modules/blacklist/blacklist-checker.js","/**\n * Модуль сохранени кандидатов автоподбора в бд и загрузки оттуда\n */\n\n'use strict';\n\nvar utils = require('../../utils/utils');\nvar database = require('../database/database');\nvar sorter = require('./sorter');\nvar logger = require('../../utils/logger').create('Pickup/candidates-storage');\n\nvar TABLE = 'pickup';\n\nmodule.exports = {\n    /**\n     * Сохраняет список кандидатов АП в базу\n     * @param {Array} items\n     * @param {Function} callback\n     */\n    save: function (items, callback) {\n        callback = callback || utils.noop;\n        if (!Array.isArray(items)) {\n            var message = 'Can not save non-array';\n            logger.error(message);\n            callback(new Error(message));\n        }\n        var dbItems = items\n            .filter(function (item) {\n                return Boolean(item.url);\n            })\n            .map(function (item) {\n                return {\n                    url: item.url,\n                    visits: item.visits,\n                    index: item.index, // index required for sorting, VB-5156\n                };\n            });\n        logger.info('Saving candidates cache, %i item(s)', dbItems.length);\n        database.clearAndInsert(TABLE, dbItems, callback);\n    },\n    /**\n     * Читает список кандидатов АП из базы\n     * @param {Function} callback (err, items)\n     */\n    get: function (callback) {\n        database.get(TABLE, {}, function (err, records) {\n            if (err) {\n                callback(err);\n            } else {\n                logger.info('Loaded from db: %i', records.length);\n                records.sort(sorter);\n                callback(null, records);\n            }\n        });\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/pickup/candidates-storage.js","'use strict';\n\n/**\n * Основная сортировка списка\n * - Если есть флаг topSite, поднимаем наверх\n * - Если визиты разные, сортируем по ним.\n * - Если визиты совпадают, то смотрим на поле position, которое есть только у текущих тумб,\n *   у них приоритет на попадание в сетку. При этом, сортируем так, чтобы вверху списка оказались тумбы\n *   с большей позицией, чтобы они расставились первыми, а с меньшей позицией могут быть заменены\n * - Если визиты совпадают и нет position, то используем index (это поле для тумб из ПБ),\n *   чтобы все расставилось как в ПБ\n */\nmodule.exports = function (a, b) {\n    if (a.topSite || b.topSite) {\n        var topIndexA = a.topSite ? a.index : Infinity;\n        var topIndexB = b.topSite ? b.index : Infinity;\n        return (topIndexA - topIndexB) || 0;\n    } else if (a.visits !== undefined && b.visits !== undefined && b.visits !== a.visits) {\n        return b.visits - a.visits;\n    } else if (a.position !== undefined || b.position !== undefined) {\n        var posA = a.position !== undefined ? a.position : -Infinity;\n        var posB = b.position !== undefined ? b.position : -Infinity;\n        return (posB - posA) || 0;\n    } else if (a.index !== undefined || b.index !== undefined) {\n        var indexA = a.index !== undefined ? a.index : Infinity;\n        var indexB = b.index !== undefined ? b.index : Infinity;\n        return (indexA - indexB) || 0;\n    } else {\n        return 0;\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/pickup/sorter.js","/**\n * Проверяет список доменов через safebrowseing api\n */\n\n'use strict';\n\nvar utils = require('../../utils/utils');\nvar logger = require('../../utils/logger').create('Safe browsing');\n\nvar SBA_API_URL = 'https://sba.yandex.net/cp?pver=4.0&client=yachbookmarks&json=1';\nvar FAST_TIMEOUT_MS = 500;\n\nmodule.exports = {\n    /**\n     * Check domains on server\n     * @param {Object} options\n     * @param {Boolean} options.fast run fast with minimal timeout\n     * @param {Array} domains\n     * @param {Function} callback\n     */\n    checkDomains: function (options, domains, callback) {\n        callback = callback || utils.noop;\n        utils._.defaults(options, {\n            fast: false\n        });\n\n        if (!Array.isArray(domains) || !domains.length) {\n            callback();\n            return;\n        }\n\n        logger.info('Checking %i domains with options %j', domains.length, options);\n\n        var postData = domains.map(function (domain) {\n            return encodeURIComponent(domain);\n        }).join(',');\n\n        utils.xhr({\n            url: SBA_API_URL,\n            body: postData,\n            logError: true,\n            parse: 'json',\n            // таймаут важен, т.к. при первом автоподборе поход за порнодоменами замедляет отрисовку фронтенда\n            // https://st.yandex-team.ru/VB-5027\n            timeout: options.fast ? FAST_TIMEOUT_MS : null\n        }, function (err, json) {\n            if (err || !json) {\n                callback(err || new Error('invalid json'));\n                return;\n            }\n            var unsafeDomains = Object.keys(json).reduce(function (memo, key) {\n                if (json[key] === 'adult') {\n                    memo[key] = true;\n                }\n                return memo;\n            }, {});\n            logger.info('Unsafe domains found: %i', Object.keys(unsafeDomains).length);\n            callback(err, unsafeDomains);\n        });\n    }\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./modules/safebrowsing/safebrowsing.js","/**\n * Восстановление предыдущего состояния тумб и настроек.\n */\n'use strict';\n\nvar logger = require('../../utils/logger').create('Backup/restore');\nvar settings = require('../settings/settings');\nvar Thumb = require('../thumbs/thumb');\nvar collection = require('../thumbs/collection');\nvar channel = require('../../utils/channel');\n\n/**\n * Восстановление предыдущего состояния тумб и настроек.\n * @param  {Object} data Данные для восстановления\n * @param  {Object} [data.settings] Настройки\n * @param  {Array} [data.thumbs] Тумбы\n * @return {Promise}\n */\nexports.restore = function (data) {\n    try {\n        restoreSettings(data.settings);\n        var isOk = restoreThumbs(data.thumbs);\n        if (isOk) {\n            exports.onRestored.dispatch();\n        }\n        return isOk;\n    } catch (e) {\n        throw new Error('Can not restore state, ' + e);\n    }\n};\n\n/**\n * Событие восстановления\n *\n * todo: было бы круто это событие иметь прямо в index.js, чтобы подписываться backup.onRestored,\n * todo: но в текущей архитектуре бэкапов не вижу как это изящно сделать. Можно попробовать централизованно получать\n * todo: данные от всех бэкап-стораджей и в одном месте выызвать restore, где и кидать эвент.\n */\nexports.onRestored = channel.create();\n\nfunction restoreSettings(settingsData) {\n    Object.keys(settingsData).forEach(function (key) {\n        settings.set(key, settingsData[key]);\n    });\n}\n\nfunction restoreThumbs(thumbsData) {\n    var restored = false;\n\n    if (!thumbsData.length) {\n        logger.info('Empty thumbs data, nothing to restore.');\n        return restored;\n    }\n\n    collection.clear();\n\n    thumbsData.forEach(function (item, position) {\n        var thumb;\n        try {\n            thumb = Thumb.fromJSON(item);\n            restored = true;\n        } catch (e) {\n            return;\n        }\n        logger.info('Restore thumb %i %s', position, thumb.url);\n        collection.setItem(position, thumb);\n    });\n\n    collection.loadMissingData({force: true});\n\n    return restored;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/backup/restore.js","/**\n * Ручные создание и загрузка бэкапа\n */\n'use strict';\n\nconst getCurrentData = require('../data-serializer');\nconst backupRestore = require('../restore');\nconst readAsJson = require('../../../utils/blob-utils').readAsJson;\nconst fetch = require('../../../utils/fetch');\nconst Channel = require('../../../utils/channel');\n\nmodule.exports = {\n\n    /**\n     * Формируем data url для бэкапа\n     *\n     * Причины, по которым был выбран data url, а не object url на Blob:\n     *\n     * 1) По каким-то непонятным причинам в FF дев версии не работал атрибут download,\n     * и ссылка просто открывалась в новом окне.\n     * {@link https://st.yandex-team.ru/VB-5803}\n     * 2) В пользу data url тот факт что не создается никаких временных файлов и т.п.\n     * 3) Data url все же открывает диалог сохранения в дев версии, но с рэндомным названием файла.\n     *\n     * @return {String|null}\n     */\n    make() {\n        try {\n            const data = JSON.stringify(getCurrentData(), null, 2);\n            this.onMade.dispatch();\n\n            return `data:application/x-backup,${encodeURIComponent(data)}`;\n        } catch (e) {\n            return null;\n        }\n    },\n\n    /**\n     * Восстановление данных\n     *\n     * @param {String} url\n     * @returns {Promise}\n     */\n    load(url) {\n        return this._loadData(url)\n            .then(readAsJson)\n            .then(backupRestore.restore)\n            .then(() => this.onLoaded.dispatch());\n    },\n\n    /**\n     * Загрузка блоба по ObjectUrl\n     *\n     * @param {String} url\n     * @returns {Promise}\n     * @private\n     */\n    _loadData: function (url) {\n        return fetch(url, {\n            logError: true,\n            responseType: 'blob'\n        });\n    },\n    onLoaded: new Channel('onLoad'),\n    onMade: new Channel('onMade'),\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/backup/manual/index.js","/**\n * Сериализация данных о тумбах и настройках в JSON\n */\n'use strict';\n\nconst collection = require('../thumbs/collection');\nconst settings = require('../settings/settings');\nconst SETTING_NAMES = require('./consts').SETTING_NAMES;\n\nmodule.exports = function getCurrentData() {\n    return {\n        thumbs: getThumbs(),\n        settings: getSettings(),\n    };\n};\n\nfunction getSettings() {\n    return SETTING_NAMES.reduce(function (memo, name) {\n        memo[name] = settings.get(name);\n        return memo;\n    }, {});\n}\n\nfunction getThumbs() {\n    return collection.items.map(makeThumbObject);\n}\n\nfunction makeThumbObject(item) {\n    return {\n        url: item.url,\n        title: item.title,\n        pinned: item.pinned,\n        visits: item.visits,\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/backup/data-serializer.js","'use strict';\n\n// Настройки, которые необходимо сохранять в бэкапе.\n// Изменение других настроек игнорируется и не приводит к бэкапу.\nexports.SETTING_NAMES = [\n    'showBookmarks',\n    'showSearchForm',\n    'showAdvertisement',\n    'showInformers',\n    'uiThumbsType',\n    'geolocation',\n    'sendUsageStat',\n    'backgroundRotation',\n];\n\n\n\n// WEBPACK FOOTER //\n// ./modules/backup/consts.js","/**\n * Обучалка для бэкапов в файл\n * https://wiki.yandex-team.ru/VisualBookmarks/tz/backup/#obuchajushhijjblok\n */\n\n'use strict';\n\nvar Block = require('../block');\nvar frontendSettings = require('../../frontend/settings');\n\nvar ID = 'vbfilebackup';\nvar CONFIG = {\n    maxShownCount: 1,\n    maxRefuseCount: 0,\n    duration: 1,\n    interval: 0,\n    silent: 10,\n    afterInstall: 0\n};\n\nmodule.exports = function () {\n    var block = new Block(ID, CONFIG);\n    block.setChecker(checker.bind(null, block));\n    frontendSettings.onRequested.addListener(onSettingsRequested.bind(null, block));\n    return block;\n};\n\n/**\n * Проверка кастомных условий блока\n */\nfunction checker(block) {\n    block.updateNeedShowing(true);\n}\n\n/**\n * When settings opened, block is refused\n */\nfunction onSettingsRequested(block) {\n    if (block.isShowing()) {\n        block.refuse(Block.REFUSE_REASON.ACCEPT);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/advertisement/blocks/vbfilebackup.js","/**\n * Туториал для голосового модуля\n */\n'use strict';\n\nconst Block = require('../block');\nconst settings = require('../../settings/settings');\nconst {IS_VOICE_USED} = require('../../voice/consts');\nconst i18n = require('../../i18n');\n\nconst ID = 'vbvoice';\nconst CONFIG = {\n    maxShownCount: 1,\n    maxRefuseCount: 0,\n    duration: 1,\n    interval: 0,\n    silent: 10,\n    afterInstall: 0\n};\n\nmodule.exports = function () {\n    var block = new Block(ID, CONFIG);\n    block.setChecker(() => checker(block));\n    updateEnabled(block);\n    listenSearchFormVisibility(block);\n    return block;\n};\n\n/**\n * Проверка кастомных условий блока\n */\nfunction checker(block) {\n    // Не показываем обучалку если пользователь уже пользовался голосом\n    const isVoiceUsed = settings.get(IS_VOICE_USED) === true;\n    // Голос работает только в ru локали браузера\n    const isRuLocale = i18n.browserLocale === 'ru';\n\n    block.updateNeedShowing(!isVoiceUsed && isRuLocale);\n}\n\n/**\n * Следим, показана поисковая строка или нет\n * see: VB-5863\n * @param {Block} block\n */\nfunction listenSearchFormVisibility(block) {\n    settings.onChanged.addListener(function (info) {\n        if (info.key === 'showSearchForm') {\n            updateEnabled(block);\n        }\n    });\n}\n\n/**\n * Выставляем \"включенность\" блока в зависимости от того, показана поисковая строка или нет\n * see: VB-5863\n * @param {Block} block\n */\nfunction updateEnabled(block) {\n    block.updateEnabled(settings.get('showSearchForm'));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/advertisement/blocks/vbvoice.js","/**\n * Константы для модуля voice\n */\n'use strict';\n\n/**\n * Статусы\n *\n * @type {{READY: number, CONNECTING: number, RECORD: number, PROCESSING: number, FINISHED: number, ERROR: number}}\n */\nexports.STATUS = {\n    READY: 0,\n    CONNECTING: 1,\n    RECORD: 2,\n    PROCESSING: 3,\n    FINISHED: 4,\n    INTERRUPTED: 5,\n    ERROR: 6,\n};\n\n/**\n * API ключ для speechkit\n *\n * @type {string}\n */\nexports.API_KEY = 'ea0ff746-a756-4bd9-882d-0ab983fae8a8';\n\n/**\n * Ошибки\n *\n * @type {{SILENCE: string}}\n */\nexports.ERROR_REASON = {\n    SILENCE: 'silence',\n};\n\n/**\n * Задержка перед вызовом перехода на серп (в миллисекундах)\n *\n * @type {number}\n */\nexports.ANIMATION_TIMEOUT_MS = 1200;\n\n/**\n * Длительность промежутка тишины во время записи речи (в десятках миллисекунд).\n * Как только встречается такой перерыв в речи, запись звука останавливается,\n * и записанный фрагмент речи отправляется на сервер.\n *\n * @type {number}\n */\nexports.UTTERANCE_SILENCE = 60;\n\n/**\n * Таймаут ожидания начала речи (в миллисекундах). speechkit сам не обрывает сессию, если пользователь\n * не начинает говорить.\n *\n * @type {number}\n */\nexports.SILENCE_TIMEOUT_MS = 1000 * 8;\n\n/**\n * Имя настройки показывающей пользовался ли пользователь голосовым модулем\n *\n * @type {string}\n */\nexports.IS_VOICE_USED = 'isVoiceUsed';\n\n\n\n// WEBPACK FOOTER //\n// ./modules/voice/consts.js","/**\n * Сохранение бэкапа тумб и настроек в куки/файлы и восстановление из них.\n */\n'use strict';\n\nvar watcher = require('./watcher');\nvar clients = require('./clients');\n\nexports.init = function () {\n    watcher.init();\n    clients.init();\n};\n\n/**\n * Восстановление состояния из кук.\n * @returns {Promise}\n */\nexports.tryRestoreFromCookies = function () {\n    return clients.cookies.tryRestore();\n};\n\n/**\n * Очистка бэкапов.\n * @returns {Promise}\n */\nexports.clear = function () {\n    return Promise.all([\n        clients.cookies.clear(),\n        clients.files.clear(),\n    ]);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/backup/index.js","/**\n * Отслеживание изменения тумб и настроек и уведомление наблюдателей.\n */\n'use strict';\n\nvar collection = require('../thumbs/collection');\nvar settings = require('../settings/settings');\nvar channel = require('../../utils/channel');\nvar alarms = require('../../utils/alarms');\nvar _ = require('../../utils/lodash');\nvar getCurrentData = require('./data-serializer');\nvar SETTING_NAMES = require('./consts').SETTING_NAMES;\n\nvar STORE_DELAY_MS = 5000;\n\nvar ALARM = {\n    name: 'backup',\n    periodInMinutes: 60 * 24\n};\n\nexports.init = function () {\n    resetChangesInfo();\n\n    collection.onChanged.addListener(function () {\n        changesInfo.thumbsChanged = true;\n        store();\n    });\n\n    settings.onChanged.addListener(function (info) {\n        if (SETTING_NAMES.indexOf(info.key) !== -1) {\n            changesInfo.settings[info.key] = info.newValue;\n            store();\n        }\n    });\n\n    // Пользователь может удалить куки/файлы, поэтому делаем и периодическое сохранение данных.\n    alarms.register(ALARM, function () {\n        changesInfo.forced = true;\n        store();\n    });\n};\n\n/**\n * OnChanged channel\n */\nexports.onChanged = channel.create();\n\nvar changesInfo;\n\nfunction resetChangesInfo() {\n    changesInfo = Object.create(null);\n    changesInfo.settings = Object.create(null);\n    changesInfo.thumbsChanged = false;\n    changesInfo.forced = false;\n}\n\n// Переменная для хранения предыдущего состояния.\n// Текущее состояние сравнивается с предыдущим и ручка не дёргается лишний раз,\n// если данные для бэкапа не менялись.\nvar previousState;\n\nvar store = _.debounce(function () {\n    var data = getCurrentData();\n    var state = JSON.stringify(data);\n\n    if (!changesInfo.forced && state === previousState) {\n        return;\n    }\n\n    previousState = state;\n\n    data.changesInfo = changesInfo;\n    resetChangesInfo();\n\n    onChanged(data);\n}, STORE_DELAY_MS);\n\nfunction onChanged(data) {\n    exports.onChanged.dispatch(data);\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./modules/backup/watcher.js","/**\n * Инициализация клиентов бэкапа.\n * Есть три клиента - бэкап в куки, в файлы и в файл экспорта данных для Яндекс.Браузера.\n * При создании клиент добавляет наблюдателя, который будет уведомлён при изменении данных.\n * Также клиент может экспортировать ручки для восстановления ранее сохранённых данных или\n * чтения доступных для восстановления данных.\n */\n\n'use strict';\n\n// clients\nexports.files = require('./files');\nexports.cookies = require('./cookies');\nexports.yabrowser = require('./yandex-browser');\n\nexports.init = function () {\n    exports.files.init();\n    exports.cookies.init();\n    exports.yabrowser.init();\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/backup/clients.js","/**\n * Бэкап тумб и настроек в файлы и восстановление из них.\n */\n'use strict';\n\nvar _ = require('../../../utils/lodash');\nvar logger = require('../../../utils/logger').create('Backup/files');\nvar watcher = require('../watcher');\nvar backupRestore = require('../restore');\nvar fileStorage = require('../../../platform/file-storage');\nvar dateUtils = require('../../../utils/date');\n\nvar DIR_NAME = 'backups';\nvar MAX_FILES_NUMBER = 10;\nvar FILE_PATH_RE = /\\/(\\d{4}\\-\\d{2}\\-\\d{2})\\.json$/;\n\nexports.init = function () {\n    // Ensure backups directory is created.\n    fileStorage.createDirectory('/backups/');\n    watcher.onChanged.addListener(onChanged);\n};\n\n/**\n * Восстановление состояния из файла.\n * @param {String} [stateName] Имя состояния вида \"%Y-%M-%D\" (2015-12-31)\n * Если не задано, то будет восстановлено наиболее свежее.\n * @returns {Promise}\n */\nexports.tryRestore = function (stateName) {\n    if (arguments.length === 0) {\n        return getNewsetState().then(function (state) {\n            return state\n                ? exports.tryRestore(state)\n                : Promise.resolve(false);\n        });\n    }\n\n    return readState(stateName).then(function (dataFromStorage) {\n        logger.info('Restoring backup from file %s with content %j', stateName, dataFromStorage);\n        return backupRestore.restore(dataFromStorage);\n    });\n};\n\n/**\n * Список состояний на основе имён файлов из хранилища с сортировкой от более свежих к более старым.\n * @returns {Promise}\n */\nexports.list = function () {\n    return new Promise(function (resolve, reject) {\n        fileStorage.list(DIR_NAME, function (error, files) {\n            if (error) {\n                reject(error);\n                return;\n            }\n\n            var states = files\n                .map(function (file) {\n                    var dateMatch = file.match(FILE_PATH_RE);\n                    return dateMatch && dateMatch[1];\n                })\n                .filter(Boolean)\n                .sort()\n                .reverse()\n                .slice(0, MAX_FILES_NUMBER);\n\n            resolve(states);\n        });\n    });\n};\n\n/**\n * Удаление всех файлов из хранилища (удаление каталога).\n * @returns {Promise}\n */\nexports.clear = function () {\n    return new Promise(function (resolve, reject) {\n        fileStorage.remove(DIR_NAME, function (error) {\n            if (error && error.code !== error.NOT_FOUND_ERR) {\n                reject(error);\n            } else {\n                resolve();\n            }\n        });\n    });\n};\n\nfunction onChanged(data) {\n    var stateName = dateUtils.format(new Date(), '%Y-%M-%D');\n    var state = {\n        data: JSON.stringify({\n            thumbs: data.thumbs,\n            settings: data.settings\n        })\n    };\n\n    fileStorage.write(makeFilePath(stateName), state, _.noop);\n\n    cleanupOldFiles();\n}\n\nfunction getNewsetState() {\n    return exports.list().then(function (states) {\n        return Promise.resolve(states[0]);\n    });\n}\n\nfunction readState(stateName) {\n    return new Promise(function (resolve, reject) {\n        fileStorage.readAsText(makeFilePath(stateName), function (error, fileContent) {\n            var data;\n\n            if (!error) {\n                try {\n                    data = JSON.parse(fileContent);\n                } catch (e) {\n                    error = e;\n                }\n            }\n\n            if (error) {\n                reject(error);\n            } else {\n                resolve(data);\n            }\n        });\n    });\n}\n\nfunction makeFilePath(stateName) {\n    return DIR_NAME + '/' + stateName + '.json';\n}\n\nvar cleanupOldFiles = _.throttle(function () {\n    fileStorage.list(DIR_NAME, function (error, files) {\n        if (error) {\n            return;\n        }\n\n        // Граничный случай, но всё же: удаляем файлы, имя которых не соответствует шаблону.\n        var filesToRemove = files.filter(function (file) {\n            return !FILE_PATH_RE.test(file);\n        });\n\n        files = _.difference(files, filesToRemove);\n\n        // Добавляем к удаляемым наиболее старые файлы.\n        filesToRemove = filesToRemove.concat(files\n            .sort()\n            .reverse()\n            .slice(MAX_FILES_NUMBER)\n        );\n\n        filesToRemove.forEach(function (file) {\n            fileStorage.remove(file, _.noop);\n        });\n    });\n}, dateUtils.DAY_MS);\n\n\n\n// WEBPACK FOOTER //\n// ./modules/backup/files/index.js","/**\n * Бэкап тумб и настроек в куки и восстановление из них.\n */\n'use strict';\n\nvar _ = require('../../../utils/lodash');\nvar logger = require('../../../utils/logger').create('Backup/cookies');\nvar watcher = require('../watcher');\nvar backupRestore = require('../restore');\nvar backupThumbs = require('./thumbs');\nvar backupSettings = require('./settings');\nvar backupStorage = require('./storage');\n\nexports.init = function () {\n    backupThumbs.init();\n    backupSettings.init();\n    watcher.onChanged.addListener(store);\n};\n\n/**\n * Восстановление состояния из кук.\n * @returns {Promise}\n */\nexports.tryRestore = function () {\n    return backupStorage.read()\n        .then(function (data) {\n            var dataFromStorage = {\n                thumbs: backupThumbs.convertDataFromStorage(data),\n                settings: backupSettings.convertDataFromStorage(data),\n            };\n            logger.info('Restoring backup from cookie(s) %j', dataFromStorage);\n            return backupRestore.restore(dataFromStorage);\n        });\n};\n\n/**\n * Очистка бэкапа кук.\n * @returns {Promise}\n */\nexports.clear = function () {\n    return backupStorage.clear();\n};\n\nfunction store(data) {\n    var thumbs = backupThumbs.convertDataForStorage(data.thumbs);\n    var settings = backupSettings.convertDataForStorage(data.settings);\n    var dataForStorage = _.merge({}, settings, thumbs);\n    logger.info('Storing backup to cookie(s)');\n    backupStorage.write(dataForStorage);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/backup/cookies/index.js","/**\n * Формирование данных тумб для восстановления из кук или для записи в куки.\n */\n'use strict';\n\nvar YsSerializer = require('yandex-elements-core/cookies/ys-serializer');\nvar backupStorage = require('./storage');\n\nvar COOKIE_NAME_PREFIX = 'thumb';\n\nvar serializer;\n\n/**\n * Init\n */\nexports.init = function () {\n    serializer = new YsSerializer({\n        partsDelimiter: '#',\n        keyValueDelimiter: '.'\n    });\n};\n\n/**\n * Convert data from cookie storage\n * @param {Object} data in format {thumb0: 'pin.1#visits.4#...', ...}\n */\nexports.convertDataFromStorage = function (data) {\n    return restoreThumbsData(data);\n};\n\n/**\n * Convert data for cookie storage\n */\nexports.convertDataForStorage = function (data) {\n    return data.reduce(function (res, thumb, position) {\n        var name = getCookieName(position);\n        res[name] = getCookieValue(thumb);\n        return res;\n    }, {});\n};\n\nfunction restoreThumbsData(data) {\n    return Object.keys(data).reduce(function (res, cookieName) {\n        var position = getPositionByCookieName(cookieName);\n        if (!isNaN(position)) {\n            var cookieValue = data[cookieName];\n            var parts = parseCookieValue(cookieValue);\n            var thumb = convertPartsToThumbJson(parts);\n            res[position] = thumb;\n        }\n        return res;\n    }, [])\n    .filter(Boolean);\n}\n\nfunction convertPartsToThumbJson(parts) {\n    return {\n        url: parts.url,\n        title: parts.title,\n        pinned: parseInt(parts.pin, 10) || 0,\n        visits: parseInt(parts.visits, 10) || 0\n    };\n}\n\nfunction getCookieValue(thumb) {\n    var res = '';\n    res = serializer.addPart(res, 'pin', thumb.pinned ? 1 : 0);\n    res = serializer.addPart(res, 'visits', thumb.visits || 0);\n    res = serializer.addPart(res, 'url', thumb.url || '');\n    res = tryAddTitle(res, thumb);\n    return res;\n}\n\nfunction tryAddTitle(res, thumb) {\n    if (thumb.title) {\n        res = serializer.addPart(res, 'title', thumb.title);\n        // если кука получилась большая, пробуем без тайтла\n        if (res.length > backupStorage.MAX_COOKIE_SIZE) {\n            res = serializer.deletePart(res, 'title');\n        }\n    }\n    return res;\n}\n\nfunction parseCookieValue(value) {\n    var parts = serializer.getValues(value);\n    return parts.reduce(function (res, part) {\n        res[part.key] = part.value;\n        return res;\n    }, {});\n}\n\nfunction getPositionByCookieName(cookieName) {\n    if (cookieName.indexOf(COOKIE_NAME_PREFIX) === 0) {\n        return parseInt(cookieName.replace(COOKIE_NAME_PREFIX, ''), 10);\n    } else {\n        return NaN;\n    }\n}\n\nfunction getCookieName(position) {\n    return COOKIE_NAME_PREFIX + position;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/backup/cookies/thumbs.js","/**\n * Запись / чтение данных в куки\n */\n'use strict';\n\nvar logger = require('../../../utils/logger').create('Backup/cookies/storage');\nvar thenChrome = require('then-chrome');\n\nvar SCHEMA = 'http://';\n// Шаблон домена, на который ставятся куки\nvar DOMAIN_TPL = 'backup{index}.vb.yandex.addons';\n\n// начальный индекс\nvar STARTING_DOMAIN_INDEX = 1;\n\n// Ограничения из-за IE:\n//   1. Размер одной куки не может превышать 5К.\n//   2. Размер всех кук для домена не должен превышать 10К.\nvar MAX_COOKIE_SIZE = 5000;\nvar MAX_TOTAL_COOKIE_SIZE_PER_DOMAIN = 10000;\n\n// время жизни кук 3 дня\nvar EXPIRE_PERIOD = 3 * 24 * 60 * 60;\n\nexports.MAX_COOKIE_SIZE = MAX_COOKIE_SIZE;\n\n/**\n * Читает данные из кук и возвращает в формате: data[cookieName] = cookieValue\n * @returns {Promise}\n */\nexports.read = function () {\n    return readRawCookies().then(rawCookies2Obj);\n};\n\n/**\n * Пишет данные в куки\n * @param {Object} data данные в виде data[cookieName] = cookieValue\n * @returns {Promise}\n */\nexports.write = function (data) {\n    return exports.clear().then(function () {\n        return write(data);\n    });\n};\n\n/**\n * Очищает все куки с хоста vb.yandex.addons\n * @returns {Promise}\n */\nexports.clear = function () {\n    return readRawCookies()\n        .then(function (cookies) {\n            var tasks = cookies.map(removeCookie);\n            return Promise.all(tasks);\n        });\n};\n\nfunction write(data) {\n    var savedBytesForDomain = 0;\n    var domainIndex = STARTING_DOMAIN_INDEX;\n    var expirationDate = Math.round(Date.now() / 1000) + EXPIRE_PERIOD;\n    data = removeInvalidCookies(data);\n    var promises = [];\n    Object.keys(data).forEach(function (cookieName) {\n        var cookieValue = data[cookieName];\n        savedBytesForDomain += cookieValue.length;\n        if (savedBytesForDomain > MAX_TOTAL_COOKIE_SIZE_PER_DOMAIN) {\n            domainIndex++;\n            savedBytesForDomain = cookieValue.length;\n        }\n        var url = getUrl(domainIndex);\n        promises.push(writeCookie(url, cookieName, cookieValue, expirationDate));\n    });\n    return Promise.all(promises);\n}\n\n/**\n * Последовательно считываем куки с доменов, пока они есть\n * @returns {Promise}\n */\nfunction readRawCookies() {\n    var logData = [];\n\n    return (function read(domainIndex, rawCookies) {\n        var domain = getDomain(domainIndex);\n        return thenChrome.cookies.getAll({domain: domain})\n            .then(function (newItems) {\n                newItems = newItems || [];\n                var result = rawCookies.concat(newItems);\n                var count = newItems.length;\n\n                if (count) {\n                    logData.push(`${domain} (${count})`);\n                }\n\n                return count ? read(domainIndex + 1, result) : result;\n            });\n    })(STARTING_DOMAIN_INDEX, [])\n    .then(result => {\n        logger.info('Cookie(s) were read for domains: %s', logData.join(', '));\n        return result;\n    });\n}\n\nfunction rawCookies2Obj(cookies) {\n    return cookies.reduce(function (res, item) {\n        res[item.name] = item.value;\n        return res;\n    }, {});\n}\n\nfunction getUrl(domainIndex) {\n    return SCHEMA + getDomain(domainIndex);\n}\n\nfunction getDomain(domainIndex) {\n    return DOMAIN_TPL.replace('{index}', domainIndex);\n}\n\nfunction removeInvalidCookies(data) {\n    return Object.keys(data).reduce(function (res, cookieName) {\n        if (!cookieName) {\n            return res;\n        }\n        var cookieValue = data[cookieName];\n        if (cookieValue.length > MAX_COOKIE_SIZE) {\n            logger.warn('Cookie %s size %i is over limit %i', cookieName, cookieValue.length, MAX_COOKIE_SIZE);\n        } else if (cookieValue) {\n            res[cookieName] = cookieValue;\n        }\n        return res;\n    }, {});\n}\n\nfunction writeCookie(url, name, value, expirationDate) {\n    return thenChrome.cookies.set({\n        url: url,\n        name: name,\n        value: value,\n        expirationDate: expirationDate\n    });\n}\n\nfunction removeCookie(cookie) {\n    return thenChrome.cookies.remove({\n        url: SCHEMA + cookie.domain,\n        name: cookie.name\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/backup/cookies/storage.js","/**\n * Формирование данных настроек для восстановления из кук или для записи в куки\n */\n'use strict';\n\nvar _ = require('../../../utils/lodash');\nvar logger = require('../../../utils/logger').create('Backup/cookies/settings');\nvar YsSerializer = require('yandex-elements-core/cookies/ys-serializer');\n\nvar SETTINGS_COOKIE_NAME = 'settings';\nvar DISPLAY_MODE_SETTING_NAME = 'uiThumbsType';\nvar DISPLAY_MODE_MAP = {\n    titles:      1,\n    logos:       2,\n    screenshots: 3\n};\n\nvar serializer;\n\n/**\n * Init\n */\nexports.init = function () {\n    serializer = new YsSerializer({\n        partsDelimiter: '#',\n        keyValueDelimiter: '.'\n    });\n};\n\n/**\n * Convert data from cookie storage\n */\nexports.convertDataFromStorage = function (data) {\n    var settings = {};\n\n    if (data[SETTINGS_COOKIE_NAME]) {\n        logger.info('Settings backup found');\n        var parts = parseCookieValue(data[SETTINGS_COOKIE_NAME]);\n        var value = parseInt(DISPLAY_MODE_MAP[parts.displayMode], 10);\n        if (!isNaN(value)) {\n            settings[DISPLAY_MODE_SETTING_NAME] = value;\n        }\n    } else {\n        logger.info('Settings backup not found');\n    }\n\n    return settings;\n};\n\n/**\n * Convert data for cookie storage\n */\nexports.convertDataForStorage = function (data) {\n    var cookieValue = '';\n\n    var uiThumbsType = data[DISPLAY_MODE_SETTING_NAME];\n    var displayMode = _.findKey(DISPLAY_MODE_MAP, function (value) {\n        return value === uiThumbsType;\n    });\n    if (displayMode) {\n        cookieValue = serializer.addPart(cookieValue, 'displayMode', displayMode);\n    }\n\n    var res = {};\n    res[SETTINGS_COOKIE_NAME] = cookieValue;\n    return res;\n};\n\nfunction parseCookieValue(value) {\n    var parts = serializer.getValues(value);\n    return parts.reduce(function (res, part) {\n        res[part.key] = part.value;\n        return res;\n    }, {});\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/backup/cookies/settings.js","/**\n * Выгрузка данных в платформу для импорта в Яндекс.браузер\n * https://st.yandex-team.ru/VB-4138\n */\n\n'use strict';\n\nvar watcher = require('../watcher');\nvar platform = require('../../../platform');\n\nvar CURRENT_BG_SETTING = 'backgroundImagePath';\n\nexports.init = function () {\n    watcher.onChanged.addListener(onChanged);\n};\n\nfunction onChanged(data) {\n    var changesInfo = data.changesInfo;\n\n    if (changesInfo.forced || changesInfo.thumbsChanged || changesInfo.settings[CURRENT_BG_SETTING]) {\n        save(data);\n    }\n}\n\nfunction save(data) {\n    var exportedData = {\n        visibleCount: data.thumbs.length,\n        pinned: data.thumbs.map(getExportedThumb).filter(Boolean),\n        bg: data.settings[CURRENT_BG_SETTING],\n    };\n\n    platform.export(exportedData);\n}\n\nfunction getExportedThumb(item, position) {\n    if (item.pinned && item.url) {\n        return {\n            position: position,\n            url: item.url,\n            title: item.title\n        };\n    }\n\n    return false;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/backup/yandex-browser/index.js","/**\n * Возвращает состояние различных модулей\n */\n'use strict';\n\nvar collection = require('../thumbs/collection');\nvar settings = require('../settings/settings');\nvar candidatesStorage = require('../pickup/candidates-storage');\nvar blacklistLocal = require('../blacklist/local');\n\nvar excludeSettings = [\n    'settings.advertisementConfig',\n    'settings.advertisementState',\n    'settings.backgroundImagesList',\n    'settings.blacklist',\n    'settings.closedTabs',\n    'settings.experimentConfigs',\n    'settings.experiments',\n    'settings.remoteConfig',\n    'settings.searchExamples',\n];\n\nexports.getThumbs = function () {\n    return collection.items.map(function (thumb, position) {\n        var res = thumb.toJSON();\n        res.position = position;\n        return res;\n    });\n};\n\nexports.getSettings = function (all) {\n    return Object.keys(settings.__items)\n        .filter(function (key) {\n            return !all && excludeSettings.indexOf(key) === -1;\n        })\n        .map(function (key) {\n            return {\n                key: key,\n                item: settings.__items[key],\n            };\n        })\n        .sort(function (a, b) {\n            return a.key > b.key ? 1 : -1;\n        })\n        .reduce(function (res, obj) {\n            var key = obj.key.replace('settings.', '');\n            var defaultStr = obj.item.isDefault ? ' (default)' : '';\n            res[key + defaultStr] = obj.item.value;\n            return res;\n        }, {});\n};\n\nexports.getPickupcache = function (callback) {\n    candidatesStorage.get(callback);\n};\n\nexports.getBlacklistUser = function (callback) {\n    blacklistLocal.get(callback);\n};\n\nexports.getBlacklistServer = function () {\n    return settings.get('blacklist');\n};\n\nexports.getBg = function () {\n    return settings.get('backgroundImagesList');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/debug/state.js","/**\n * Автоматическое создание объекта с ключами modules, utils, platform соотв. файловой системе\n */\n'use strict';\n\nvar setNested = require('lodash/object/set');\n\nmodule.exports = {};\n\n// require.context works only in webpack environment\ntry {\n    module.exports.modules = getAllStuff(require.context('..', true, /\\.js$/));\n    module.exports.utils = getAllStuff(require.context('../../utils', true, /\\.js$/));\n    module.exports.platform = getPlatform();\n} catch (e) {}\n\nfunction getAllStuff(context) {\n    return context.keys().reduce(function (memo, name) {\n        var filteredName = name\n            .replace(/\\.js$/, '')\n            .replace(/\\.\\//, '')\n            .replace(/\\//g, '.')\n            .replace(/[^.\\w]/g, '_');\n        setNested(memo, filteredName, context(name));\n        return memo;\n    }, Object.create(null));\n}\n\nfunction getPlatform() {\n    // require.context нельзя, иначе в сборке для ие будет код от хрома\n    return {\n        about: require('../../platform/about'),\n        branding: require('../../platform/branding'),\n        build_info: require('../../platform/build-info'),\n        clid: require('../../platform/clid'),\n        file_storage: require('../../platform/file-storage'),\n        locale: require('../../platform/locale'),\n        log: require('../../platform/log'),\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/debug/file-structure.js","var isIndex = require('../internal/isIndex'),\n    isKey = require('../internal/isKey'),\n    isObject = require('../lang/isObject'),\n    toPath = require('../internal/toPath');\n\n/**\n * Sets the property value of `path` on `object`. If a portion of `path`\n * does not exist it's created.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to augment.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.set(object, 'a[0].b.c', 4);\n * console.log(object.a[0].b.c);\n * // => 4\n *\n * _.set(object, 'x[0].y.z', 5);\n * console.log(object.x[0].y.z);\n * // => 5\n */\nfunction set(object, path, value) {\n  if (object == null) {\n    return object;\n  }\n  var pathKey = (path + '');\n  path = (object[pathKey] != null || isKey(path, object)) ? [pathKey] : toPath(path);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = path[index];\n    if (isObject(nested)) {\n      if (index == lastIndex) {\n        nested[key] = value;\n      } else if (nested[key] == null) {\n        nested[key] = isIndex(path[index + 1]) ? [] : {};\n      }\n    }\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = set;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/object/set.js\n// module id = 422\n// module chunks = 1","var map = {\n\t\"./advertisement/atom.js\": 424,\n\t\"./advertisement/block.js\": 374,\n\t\"./advertisement/blocks/dailyback.js\": 380,\n\t\"./advertisement/blocks/newbackground.js\": 386,\n\t\"./advertisement/blocks/statoffer.js\": 379,\n\t\"./advertisement/blocks/vbaddthumb.js\": 385,\n\t\"./advertisement/blocks/vbfilebackup.js\": 408,\n\t\"./advertisement/blocks/vbsethome.js\": 375,\n\t\"./advertisement/blocks/vbsetsearch.js\": 378,\n\t\"./advertisement/blocks/vbvoice.js\": 409,\n\t\"./advertisement/group.js\": 373,\n\t\"./advertisement/index.js\": 369,\n\t\"./advertisement/remote-config-listener.js\": 371,\n\t\"./advertisement/ticker.js\": 370,\n\t\"./auth/index.js\": 429,\n\t\"./auth/redirector.js\": 433,\n\t\"./auth/user.js\": 432,\n\t\"./auth/users-collection.js\": 431,\n\t\"./auth/yauth-cookies.js\": 425,\n\t\"./auth/yauth.js\": 430,\n\t\"./backgrounds/branding-backgrounds.js\": 356,\n\t\"./backgrounds/cloud-backgrounds.js\": 382,\n\t\"./backgrounds/cloud-loader.js\": 387,\n\t\"./backgrounds/font-colors.js\": 355,\n\t\"./backgrounds/index.js\": 390,\n\t\"./backgrounds/request-all.js\": 391,\n\t\"./backgrounds/rotation.js\": 381,\n\t\"./backgrounds/selector.js\": 384,\n\t\"./backgrounds/storage.js\": 354,\n\t\"./backgrounds/user-background.js\": 353,\n\t\"./backup/clients.js\": 413,\n\t\"./backup/consts.js\": 407,\n\t\"./backup/cookies/index.js\": 415,\n\t\"./backup/cookies/settings.js\": 418,\n\t\"./backup/cookies/storage.js\": 417,\n\t\"./backup/cookies/thumbs.js\": 416,\n\t\"./backup/data-serializer.js\": 406,\n\t\"./backup/files/index.js\": 414,\n\t\"./backup/index.js\": 411,\n\t\"./backup/manual/index.js\": 405,\n\t\"./backup/restore.js\": 404,\n\t\"./backup/watcher.js\": 412,\n\t\"./backup/yandex-browser/index.js\": 419,\n\t\"./blacklist/blacklist-checker.js\": 400,\n\t\"./blacklist/blacklist.js\": 398,\n\t\"./blacklist/local.js\": 349,\n\t\"./blacklist/remote.js\": 399,\n\t\"./bookmarks/bookmarks.js\": 220,\n\t\"./branding/applier.js\": 434,\n\t\"./branding/blocks.js\": 289,\n\t\"./branding/index.js\": 277,\n\t\"./branding/remote/loader.js\": 439,\n\t\"./branding/remote/storage.js\": 291,\n\t\"./closed-tabs/closed-item.js\": 321,\n\t\"./closed-tabs/index.js\": 307,\n\t\"./closed-tabs/listener.js\": 308,\n\t\"./closed-tabs/restorator.js\": 325,\n\t\"./closed-tabs/sorter.js\": 323,\n\t\"./closed-tabs/state-storage.js\": 327,\n\t\"./closed-tabs/state.js\": 326,\n\t\"./cloud-logo/index.js\": 274,\n\t\"./cloud-logo/loader.js\": 276,\n\t\"./cloud-logo/saver.js\": 275,\n\t\"./common/constants.js\": 440,\n\t\"./cookies/bannerid.js\": 337,\n\t\"./cookies/gpauto.js\": 441,\n\t\"./cookies/utils.js\": 449,\n\t\"./cookies/yasoft.js\": 450,\n\t\"./cookies/ys.js\": 451,\n\t\"./custom-logo/index.js\": 452,\n\t\"./custom-logo/logo-saver.js\": 453,\n\t\"./database/database.js\": 295,\n\t\"./database/structure.js\": 297,\n\t\"./debug/advertisement.js\": 368,\n\t\"./debug/build-data.js\": 218,\n\t\"./debug/debug.js\": 361,\n\t\"./debug/file-structure.js\": 421,\n\t\"./debug/files.js\": 362,\n\t\"./debug/log.js\": 363,\n\t\"./debug/opener.js\": 365,\n\t\"./debug/state.js\": 420,\n\t\"./error/error.js\": 396,\n\t\"./experiments/actual-configs.js\": 357,\n\t\"./experiments/index.js\": 328,\n\t\"./favicon/index.js\": 222,\n\t\"./favicon/loader.js\": 223,\n\t\"./favicon/site.js\": 225,\n\t\"./favicon/yandex.js\": 258,\n\t\"./frontend/advertisement.js\": 454,\n\t\"./frontend/auth-formatter.js\": 455,\n\t\"./frontend/auth.js\": 456,\n\t\"./frontend/backgrounds.js\": 389,\n\t\"./frontend/bookmarks.js\": 219,\n\t\"./frontend/broken-tabs-reloader.js\": 457,\n\t\"./frontend/clicker.js\": 458,\n\t\"./frontend/closed-tabs.js\": 460,\n\t\"./frontend/custom-logo.js\": 461,\n\t\"./frontend/debug-panel.js\": 360,\n\t\"./frontend/events.js\": 268,\n\t\"./frontend/index.js\": 462,\n\t\"./frontend/informers.js\": 484,\n\t\"./frontend/init-checker.js\": 497,\n\t\"./frontend/init-sender.js\": 214,\n\t\"./frontend/logger.js\": 463,\n\t\"./frontend/messaging.js\": 213,\n\t\"./frontend/navigate-url.js\": 480,\n\t\"./frontend/pages-events.js\": 493,\n\t\"./frontend/panels.js\": 472,\n\t\"./frontend/scroll-state.js\": 481,\n\t\"./frontend/search-suggest.js\": 482,\n\t\"./frontend/settings-checkboxes.js\": 215,\n\t\"./frontend/settings-slider.js\": 392,\n\t\"./frontend/settings.js\": 388,\n\t\"./frontend/thumb-sender.js\": 269,\n\t\"./frontend/thumb-suggest.js\": 469,\n\t\"./frontend/thumbs.js\": 464,\n\t\"./frontend/url-suggest.js\": 473,\n\t\"./frontend/voice.js\": 485,\n\t\"./frontend/zen.js\": 494,\n\t\"./guide/actions-watcher.js\": 498,\n\t\"./guide/index.js\": 499,\n\t\"./host-permissions/index.js\": 500,\n\t\"./host-permissions/notification.js\": 501,\n\t\"./i18n/index.js\": 280,\n\t\"./informers/index.js\": 302,\n\t\"./informers/informer.js\": 305,\n\t\"./informers/quotes.js\": 306,\n\t\"./informers/reginfo.js\": 304,\n\t\"./informers/ticker.js\": 303,\n\t\"./maintenance/index.js\": 502,\n\t\"./migration/2.23.0.js\": 348,\n\t\"./migration/2.26.0.js\": 503,\n\t\"./migration/2.27.0.js\": 504,\n\t\"./migration/2.28.0.js\": 505,\n\t\"./migration/index.js\": 506,\n\t\"./navigations/index.js\": 343,\n\t\"./offscreen/colors-handler.js\": 507,\n\t\"./offscreen/events.js\": 69,\n\t\"./offscreen/filer-handler.js\": 508,\n\t\"./offscreen/messaging.js\": 510,\n\t\"./offscreen/speechkit-handler.js\": 511,\n\t\"./offscreen/xml-handler.js\": 513,\n\t\"./overrides_v3/filer.js\": 265,\n\t\"./pickup/apply.js\": 436,\n\t\"./pickup/branded-sites.js\": 394,\n\t\"./pickup/candidates-storage.js\": 401,\n\t\"./pickup/candidates.js\": 393,\n\t\"./pickup/force-thumbs.js\": 437,\n\t\"./pickup/pickup.js\": 435,\n\t\"./pickup/sorter.js\": 402,\n\t\"./pickup/top-history.js\": 395,\n\t\"./pickup/top-sites.js\": 397,\n\t\"./remote-config/index.js\": 372,\n\t\"./safebrowsing/safebrowsing.js\": 403,\n\t\"./screenshots/adjust.js\": 352,\n\t\"./screenshots/cache.js\": 292,\n\t\"./screenshots/screenshots.js\": 350,\n\t\"./screenshots/watcher.js\": 351,\n\t\"./search-examples/alarms.js\": 514,\n\t\"./search-examples/index.js\": 515,\n\t\"./search-examples/loader.js\": 516,\n\t\"./search-examples/state-storage.js\": 523,\n\t\"./search-examples/state.js\": 517,\n\t\"./search-suggest/index.js\": 483,\n\t\"./settings/backgrounds.js\": 383,\n\t\"./settings/defaults.js\": 217,\n\t\"./settings/log-levels.js\": 527,\n\t\"./settings/platform-bridge.js\": 528,\n\t\"./settings/settings.js\": 216,\n\t\"./site-info/index.js\": 530,\n\t\"./site-info/site-loader.js\": 226,\n\t\"./site-info/tableau.js\": 273,\n\t\"./site-info/title.js\": 272,\n\t\"./startpages/index.js\": 376,\n\t\"./startup/always.js\": 208,\n\t\"./startup/bootstrap.js\": 2,\n\t\"./startup/index.js\": 29,\n\t\"./startup/install-date.js\": 531,\n\t\"./startup/install-upgrade.js\": 532,\n\t\"./startup/install.js\": 533,\n\t\"./startup/normal-start.js\": 534,\n\t\"./startup/offscreen.js\": 535,\n\t\"./startup/runstate.js\": 344,\n\t\"./startup/uninstall.js\": 536,\n\t\"./startup/upgrade.js\": 537,\n\t\"./startup/versions.js\": 345,\n\t\"./statistics/bar-navig-thumbs.js\": 342,\n\t\"./statistics/bar-navig.js\": 341,\n\t\"./statistics/clicker-advertisement.js\": 538,\n\t\"./statistics/clicker-auth.js\": 539,\n\t\"./statistics/clicker-branding.js\": 540,\n\t\"./statistics/clicker-hosts-permissions.js\": 541,\n\t\"./statistics/clicker-manual-backup.js\": 542,\n\t\"./statistics/clicker-new-tab.js\": 543,\n\t\"./statistics/clicker-sync.js\": 544,\n\t\"./statistics/clicker-thumbs.js\": 551,\n\t\"./statistics/clicker-voice.js\": 552,\n\t\"./statistics/clicker.js\": 438,\n\t\"./statistics/dayuse-exp.js\": 553,\n\t\"./statistics/dayuse-helper.js\": 336,\n\t\"./statistics/dayuse-poller.js\": 335,\n\t\"./statistics/dayuse-simple.js\": 556,\n\t\"./statistics/index.js\": 557,\n\t\"./statistics/soft-export.js\": 333,\n\t\"./sync/api.js\": 546,\n\t\"./sync/guid.js\": 550,\n\t\"./sync/index.js\": 545,\n\t\"./sync/state.js\": 547,\n\t\"./thumb-suggest/suggest-results.js\": 471,\n\t\"./thumb-suggest/suggest.js\": 470,\n\t\"./thumbs/collection.js\": 270,\n\t\"./thumbs/move-thumb.js\": 467,\n\t\"./thumbs/pin-thumb.js\": 468,\n\t\"./thumbs/remove-thumb.js\": 466,\n\t\"./thumbs/save-thumb.js\": 465,\n\t\"./thumbs/storage.js\": 294,\n\t\"./thumbs/thumb.js\": 271,\n\t\"./url-suggest/search-bookmarks.js\": 477,\n\t\"./url-suggest/search-history.js\": 474,\n\t\"./url-suggest/search-opentabs.js\": 478,\n\t\"./url-suggest/search-web.js\": 479,\n\t\"./url-suggest/weights.js\": 476,\n\t\"./voice/consts.js\": 410,\n\t\"./voice/consumers/consumer.js\": 489,\n\t\"./voice/consumers/serp-navigator.js\": 488,\n\t\"./voice/consumers/site-navigator.js\": 491,\n\t\"./voice/events.js\": 487,\n\t\"./voice/index.js\": 486,\n\t\"./zen/index.js\": 495\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 423;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./modules \\.js$\n// module id = 423\n// module chunks = 1","/**\n * Fetches ad blocks from Atom\n * @see https://old.wiki.yandex-team.ru/visualbookmarks/tz/atom\n * Example of getData response:\n {\n    \"banner\": {\n        \"banner_id\": \"7159705\",\n        \"button_yes\": \"Скачать\",\n        \"host\": \"vb_popup\",\n        \"image\": \"http://download.cdn.yandex.net/...\",\n        \"link\": \"https://browser.yandex.ru/...\",\n        \"region_genitive\": \"России\",\n        \"show_id\": \"000009145693274032416339940000\",\n        \"title\": \"Попробуйте обновлённый Яндекс.Браузер\",\n        \"counters\": {\n            \"cid\": \"198\",\n            \"pid\": \"198\",\n            \"click\": {\n                \"path\": \"tech.portal-ads.vb_popup\",\n                \"vars\": \"-product=browser,-eventtype=click\"\n            },\n            \"close\": {...},\n            \"install\": {...},\n            \"show\": {...}\n        }\n    },\n    \"stripe\": {\n        \"banner_id\": \"1393695\",\n        \"button_yes\": \"Установить\",\n        \"host\": \"vb_stripe\",\n        \"link\": \"https://browser.yandex.ru/desktop/main/...\",\n        \"region_genitive\": \"России\",\n        \"show_id\": \"010009145693274032416339940000\",\n        \"title\": \"Перейдите в защищенный режим\",\n        \"counters\": {...}\n    }\n }\n */\n'use strict';\n\nvar logger = require('../../utils/logger').create('advertisement/atom');\nvar branding = require('../branding');\nvar i18n = require('../i18n');\nvar authCookies = require('../auth/yauth-cookies');\nvar Atom = require('yandex-elements-core/atom');\nvar merge = require('lodash/object/merge');\n\nvar ATOM_URL = 'http://mobile.yandex.net/search/atomsearch/vb_extension';\n\nvar AD_TYPES = ['banner', 'stripe'];\n\nvar atom = new Atom(ATOM_URL);\n\n/**\n * Fetches ad blocks from Atom\n * @returns {Promise<Object>}\n */\nexports.getData = function () {\n    return getParams()\n        .then(atom.getContent.bind(atom))\n        .then(formatResponse)\n        .catch(logger.error.bind(logger));\n};\n\n/**\n * @returns {Promise<Object>}\n */\nfunction getParams() {\n    return getYandexUID().then(function (uid) {\n        return merge({yandexuid: uid}, getCommonParams());\n    });\n}\n\n/**\n * @returns {Promise<Object>}\n */\nfunction getYandexUID() {\n    return new Promise(function (resolve) {\n        authCookies.getYandexuidCookie(resolve);\n    });\n}\n\n/**\n * @returns {Object}\n */\nfunction getCommonParams() {\n    return {\n        tld: branding.vars.regionTld,\n        lang: i18n.locale,\n        'user-agent': navigator.userAgent\n    };\n}\n\n/**\n * @param {AtomResponse} atomResponse\n * @returns {Object}\n */\nfunction formatResponse(atomResponse) {\n    return AD_TYPES.reduce(function (result, type) {\n        result[type] = atomResponse.getConfigSource(type);\n        return result;\n    }, {});\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/advertisement/atom.js","/**\n * Yandex authorization cookie listener\n * Links:\n */\n'use strict';\n\nvar channel = require('../../utils/channel');\nvar branding = require('../branding');\nvar logger = require('../../utils/logger').create('auth/yauth-cookies');\nvar platformConfigure = require('../../platform/configure');\n\nvar SESSION_COOKIE_NAME = 'Session_id';\nvar YANDEX_UID_COOKIE_NAME = 'yandexuid';\nvar YANDEX_LOGIN_COOKIE_NAME = 'yandex_login';\nvar COOKIE_PATH = '/';\n\nvar cookies = {\n    session: {\n        name: SESSION_COOKIE_NAME,\n        path: COOKIE_PATH,\n        domain: null,\n    },\n    yandexUid: {\n        name: YANDEX_UID_COOKIE_NAME,\n        path: COOKIE_PATH,\n        domain: null,\n    },\n    yandexLogin: {\n        name: YANDEX_LOGIN_COOKIE_NAME,\n        path: COOKIE_PATH,\n        domain: null,\n    },\n};\n\nvar yandexUidValue = null;\nvar yandexLoginValue = null;\n\nmodule.exports = {\n    init: function () {\n        var cookieDomain = branding.expandUrl(branding.auth.cookieDomain);\n        cookies.session.domain = cookieDomain;\n        cookies.yandexUid.domain = cookieDomain;\n        cookies.yandexLogin.domain = cookieDomain;\n        listenCookiesExistance([cookies.session, cookies.yandexUid, cookies.yandexLogin], dispatch);\n    },\n\n    isSessionExists: false,\n    onChanged: channel.create('yauth.cookies.onChanged'),\n    cookiesResolves: [],\n\n    getYandexuidCookie: function (callback) {\n        readCookieState(cookies.yandexUid, function (err, cookies) {\n            callback(cookies && cookies[0] && cookies[0].value);\n        });\n    },\n\n    get yandexUid () {\n        return yandexUidValue;\n    },\n\n    get yandexLogin () {\n        return yandexLoginValue;\n    }\n};\n\nfunction dispatch(isCookieExists, cookieName, cookieValue) {\n    var isSessionCookie = cookieName === cookies.session.name;\n    logger.info('%s cookie state changed %s', cookieName, isCookieExists);\n    if (cookieName === YANDEX_UID_COOKIE_NAME) {\n        yandexUidValue = isCookieExists ? cookieValue : null;\n    }\n    if (cookieName === YANDEX_LOGIN_COOKIE_NAME) {\n        yandexLoginValue = isCookieExists ? cookieValue : null;\n    }\n    if (isSessionCookie) {\n        module.exports.isSessionExists = isCookieExists;\n    }\n    module.exports.onChanged.dispatch(isCookieExists, isSessionCookie);\n}\n\nfunction readCookieState(cookieDesc, callback) {\n    chrome.cookies.getAll(cookieDesc, function (cookies) {\n        callback(chrome.runtime.lastError, cookies);\n    });\n}\n\nfunction isCookieMatches(expectedInfo, changeInfo) {\n    return changeInfo.cookie.name === expectedInfo.name\n        && changeInfo.cookie.path === expectedInfo.path\n        && changeInfo.cookie.domain === expectedInfo.domain;\n}\n\nfunction listenCookiesExistance(cookiesDesc, callback) {\n    platformConfigure({\n        listenDomains: cookiesDesc.map(cookieDesc => cookieDesc.domain)\n    });\n    chrome.cookies.onChanged.addListener(function (changeInfo) {\n        var isValid = cookiesDesc.some(cookieDesc => isCookieMatches(cookieDesc, changeInfo));\n        if (isValid) {\n            callback(!changeInfo.removed, changeInfo.cookie.name, changeInfo.cookie.value);\n        }\n    });\n    cookiesDesc.forEach(cookieDesc => {\n        module.exports.cookiesResolves.push(new Promise(resolve => {\n            readCookieState(cookieDesc, function (err, foundCookies) {\n                var isCookieExists = foundCookies && foundCookies.length > 0;\n                var cookieValue = isCookieExists ? foundCookies[0].value : undefined;\n                callback(isCookieExists, cookieDesc.name, cookieValue);\n                resolve(cookieDesc);\n            });\n        }));\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/auth/yauth-cookies.js","/*global fetch*/\n\n/**\n * @author acvetkov@yandex-team.ru\n * @overview Atom\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodashObjectDefaults = require('lodash/object/defaults');\n\nvar _lodashObjectDefaults2 = _interopRequireDefault(_lodashObjectDefaults);\n\nvar _response = require('./response');\n\nvar _response2 = _interopRequireDefault(_response);\n\nvar _urijs = require('urijs');\n\nvar _urijs2 = _interopRequireDefault(_urijs);\n\nvar Atom = (function () {\n\n    /**\n     * @param {String} url\n     * @param {AtomArguments} settings\n     */\n\n    function Atom(url) {\n        var settings = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        _classCallCheck(this, Atom);\n\n        this.url = url;\n        this.settings = (0, _lodashObjectDefaults2['default'])({}, settings, {\n            lang: 'ru',\n            tld: '.ru'\n        });\n    }\n\n    /**\n     * Get atom content\n     * @param {Object} [params]\n     * @param {Object} headers\n     */\n\n    _createClass(Atom, [{\n        key: 'getContent',\n        value: function getContent() {\n            var _this = this;\n\n            var params = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n            var headers = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n            var url = this._getAtomUrl((0, _lodashObjectDefaults2['default'])(params, this.settings));\n            var data = {\n                credentials: 'include',\n                headers: headers\n            };\n            return fetch(url, data).then(function (response) {\n                return _this._processAtomResponse(response);\n            }).then(function (json) {\n                return new _response2['default'](json);\n            });\n        }\n\n        /**\n         * @param {Object} params\n         * @returns {String}\n         * @private\n         */\n    }, {\n        key: '_getAtomUrl',\n        value: function _getAtomUrl(params) {\n            return new _urijs2['default'](this.url).search(params).href();\n        }\n\n        /**\n         * @param {window.Response} response\n         * @returns {Promise|Object}\n         * @private\n         */\n    }, {\n        key: '_processAtomResponse',\n        value: function _processAtomResponse(response) {\n            if (response.ok) {\n                return response.json();\n            }\n            return Promise.reject(response.statusText);\n        }\n    }]);\n\n    return Atom;\n})();\n\nexports['default'] = Atom;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/yandex-elements-core/atom/index.js\n// module id = 426\n// module chunks = 1","/**\n * @author acvetkov@yandex-team.ru\n * @overview Atom response wrapper\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodashCollectionFindWhere = require('lodash/collection/findWhere');\n\nvar _lodashCollectionFindWhere2 = _interopRequireDefault(_lodashCollectionFindWhere);\n\nvar _lodashObjectGet = require('lodash/object/get');\n\nvar _lodashObjectGet2 = _interopRequireDefault(_lodashObjectGet);\n\nvar AtomResponse = (function () {\n\n    /**\n     * @param {ClientResults} jsonResponse\n     */\n\n    function AtomResponse(jsonResponse) {\n        _classCallCheck(this, AtomResponse);\n\n        this.response = jsonResponse;\n    }\n\n    /**\n     * Get config by name\n     * @param {String} blockName\n     * @returns {Object|null}\n     */\n\n    _createClass(AtomResponse, [{\n        key: 'getConfig',\n        value: function getConfig(blockName) {\n            var config = (0, _lodashCollectionFindWhere2['default'])(this.response['client-results'], {\n                name: blockName\n            });\n            if (config && config.docs) {\n                return config;\n            }\n            return null;\n        }\n\n        /**\n         * Get Atom doc\n         * @param {String} blockName\n         * @returns {AtomDoc|null}\n         */\n    }, {\n        key: 'getConfigDoc',\n        value: function getConfigDoc(blockName) {\n            var config = this.getConfig(blockName);\n            var doc = (0, _lodashObjectGet2['default'])(config, 'docs[0]');\n            return doc || null;\n        }\n\n        /**\n         * Get atom source\n         * @param blockName\n         * @return {AtomSource|null}\n         */\n    }, {\n        key: 'getConfigSource',\n        value: function getConfigSource(blockName) {\n            var doc = this.getConfigDoc(blockName);\n            if (doc) {\n                return doc['source-aux'];\n            }\n            return null;\n        }\n    }]);\n\n    return AtomResponse;\n})();\n\nexports['default'] = AtomResponse;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/yandex-elements-core/atom/response.js\n// module id = 427\n// module chunks = 1","var baseMatches = require('../internal/baseMatches'),\n    find = require('./find');\n\n/**\n * Performs a deep comparison between each element in `collection` and the\n * source object, returning the first element that has equivalent property\n * values.\n *\n * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n * numbers, `Object` objects, regexes, and strings. Objects are compared by\n * their own, not inherited, enumerable properties. For comparing a single\n * own or inherited property value see `_.matchesProperty`.\n *\n * @static\n * @memberOf _\n * @category Collection\n * @param {Array|Object|string} collection The collection to search.\n * @param {Object} source The object of property values to match.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.result(_.findWhere(users, { 'age': 36, 'active': true }), 'user');\n * // => 'barney'\n *\n * _.result(_.findWhere(users, { 'age': 40, 'active': false }), 'user');\n * // => 'fred'\n */\nfunction findWhere(collection, source) {\n  return find(collection, baseMatches(source));\n}\n\nmodule.exports = findWhere;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/collection/findWhere.js\n// module id = 428\n// module chunks = 1","/**\n * Авторизация\n * @see https://beta.wiki.yandex-team.ru/passport/frontend/embeddedauth-multiauth/#ispolzuemyeparametry\n */\n'use strict';\n\nvar logger = require('../../utils/logger').create('auth/ui');\nvar yauth = require('./yauth');\nvar branding = require('../branding');\nvar platformAbout = require('../../platform/about');\nvar db = require('../database/database');\nvar UsersList = require('./users-collection');\nvar channel = require('../../utils/channel');\nvar urlUtils = require('../../utils/url');\nvar Redirector = require('./redirector');\nvar debounce = require('lodash/function/debounce');\n\nvar redirector = null;\n\nvar RESULT_STATUS = {\n    OK: 'ok',\n    OTHER: 'other',\n    NO_ACTION: 'action-not-required',\n};\nvar COOKIE_CHANGE_DELAY = 1000;\n\nvar pageTypeUrls = null;\n\nexports._usersList = null;\n\nexports.onAction = channel.create();\nexports.onUsersChanged = channel.create();\nexports.onUsersSave = channel.create();\nexports.onPostRequestNeeded = channel.create();\n\nexports.init = function () {\n    pageTypeUrls = {\n        get tune() {\n            return branding.auth.settings;\n        },\n        get passport() {\n            return branding.auth.passport;\n        },\n    };\n\n    redirector = createRedirector().enable();\n\n    // check session cookie on start to detect currently logged-in users\n    yauth.cookies.init();\n\n    db.get('users', null, function (err, usersListJson) {\n        if (err) {\n            logger.error('Error reading users from db %s', err);\n        } else {\n            logger.info('Users from DB:');\n            usersListJson.forEach(function (userJson, i) {\n                logger.info('%d user: %j', i, userJson);\n            });\n        }\n\n        exports._usersList = createUsersList(usersListJson);\n        listenCookieChange(exports._usersList);\n    });\n};\n\n/**\n * Returns all users, ever used\n *\n * @returns {UsersList}\n */\nexports.getUsersList = function () {\n    return exports._usersList;\n};\n\n/**\n * Perform logout action for user.\n * If user is already logged in, open specific url.\n *\n * @param {string} tabId\n * @param {string} uid\n */\nexports.login = function (tabId, uid) {\n    var usersList = exports.getUsersList();\n    var user = uid ? usersList.getUserByUid(uid) : null;\n\n    if (!user) {\n        logger.info('No user, login...');\n        login(tabId);\n        exports.onAction.dispatch('login');\n\n    } else if (usersList.isDefault(user)) {\n        var url = getMainUrlForUser(user);\n        logger.info('Open main page for user: %s, %s, goto: %s', user.login, user.uid, url);\n        goto(tabId, url);\n        exports.onAction.dispatch('use', user);\n\n    } else if (user.hasAuth) {\n        logger.info('Change user to: %s, %s', user.displayName, user.uid);\n        setDefaultUser(tabId, user);\n        exports.onAction.dispatch('switch', user);\n\n    } else {\n        logger.info('Login user: %s, %s', user.displayName, user.uid);\n        login(tabId, user);\n        exports.onAction.dispatch('login', user);\n    }\n};\n\n/**\n * Perform logout action for default user.\n *\n * @param {string} tabId\n */\nexports.logoutDefaultUser = function (tabId) {\n    var usersList = exports.getUsersList();\n    var user = usersList.defaultUser;\n    logger.info('Logout user %j', user.toJSON());\n    logoutUser(tabId, user);\n};\n\n/**\n * Perform navigation to special urls: \"tune\" or \"passport\" (passport by default)\n *\n * @param {string} tabId\n * @param {string} type tune|passport\n */\nexports.navigate = function (tabId, type) {\n    logger.info('Navigate to tab %s with type: %s', tabId, type);\n    goto(tabId, pageTypeUrls[type] || pageTypeUrls.passport);\n};\n\nfunction goto(tabId, url) {\n    chrome.tabs.update(tabId, {url: url});\n}\n\nfunction onCookieChange(usersList, isCookieExists) {\n    logger.info('Cookie changed. isExists: %s', isCookieExists);\n    if (isCookieExists) {\n        yauth.loadAccounts(function (err, result) {\n            if (err) {\n                logger.info('Accounts load error: %s', err);\n                updateUsersByAccounts(usersList, [], null);\n                return;\n            }\n\n            logger.info('Accounts response %j', result);\n            updateUsersByAccounts(usersList, result.accounts || [], result.default_uid);\n        });\n    } else {\n        updateUsersByAccounts(usersList, [], null);\n    }\n}\n\nfunction login(tabId, user) {\n    redirector.once(tabId, function (tab) {\n        logger.info('Redirect to newtab after login %s', tab.url);\n        exports.onAction.dispatch('retpath.login', user);\n        goto(tab.id, platformAbout.visbookmarksUrl);\n    });\n\n    yauth.login(tabId, user);\n}\n\nfunction updateUsersByAccounts(usersList, accounts, defaultUid) {\n    // update existing users in list\n    usersList.defaultUid = defaultUid;\n\n    // add new users to list\n    var usedUids = accounts.map(function (account) {\n        usersList.appendAccount(account);\n        return account.uid;\n    });\n\n    // logout rest\n    usersList.getUsersExcept(usedUids).forEach(function (user) {\n        user.logout();\n    });\n\n    logger.info('Save all %j', usersList.toJSON());\n\n    db.clearAndInsert('users', usersList.toJSON(), function (err) {\n        if (err) {\n            logger.error('Error while inserting users %s %j', err.message, usersList);\n        }\n    });\n\n    exports.onUsersSave.dispatch(usersList);\n}\n\nfunction getFinalUrl(data, okUrl) {\n    logger.info('Redirect done. Answer: %j', data);\n\n    switch (data.status) {\n        case RESULT_STATUS.OK:\n            return okUrl;\n        case RESULT_STATUS.OTHER:\n            return data.url || platformAbout.visbookmarksUrl;\n        case RESULT_STATUS.NO_ACTION:\n            return platformAbout.visbookmarksUrl;\n        default:\n            // if any error, redirect to login page\n            return branding.auth.passport;\n    }\n}\n\nfunction setDefaultUser(tabId, user) {\n    yauth.getSwitchUserData(user.uid, function (url, postData) {\n        redirector.once(tabId, function (tab) {\n            var uri = urlUtils.createURI(tab.url);\n            var data = uri ? uri.query(true) : {};\n            var url = getMainUrlForUser(user);\n            url = getFinalUrl(data, url);\n            logger.info('Set default. User: %j, goto: %s', user.toJSON(), url);\n            goto(tab.id, url);\n            exports.onAction.dispatch('retpath.switch', data, user);\n        });\n        exports.onPostRequestNeeded.dispatch(url, postData, tabId, true);\n    });\n}\n\nfunction getMainUrlForUser(user) {\n    return user.isSocial ? branding.auth.main : branding.auth.mail;\n}\n\nfunction createRedirector() {\n    var redirectorInstance = new Redirector(function (url) {\n        return url.indexOf(branding.auth.redirect) === 0;\n    });\n    redirectorInstance.on(function (tab) {\n        logger.info('Redirect to newtab, no action before: %s', tab.url);\n        goto(tab.id, platformAbout.visbookmarksUrl);\n        exports.onAction.dispatch('retpath', tab.url);\n    });\n    return redirectorInstance;\n}\n\nfunction createUsersList(usersListJson) {\n    var usersList = UsersList.fromJSON(usersListJson);\n    usersList.onChanged.addListener(exports.onUsersChanged.dispatch.bind(exports.onUsersChanged));\n    return usersList;\n}\n\nfunction listenCookieChange(usersList) {\n    onCookieChange(usersList, yauth.cookies.isSessionExists);\n\n    // When you switch user, cookie deletes first, then appears again\n    // to prevent login button flicker, debounce cookie change dispatcher\n    var onCookieChangeDebounced = debounce(onCookieChange, COOKIE_CHANGE_DELAY);\n    yauth.cookies.onChanged.addListener(function (isCookieExists, isSessionCookie) {\n        if (isSessionCookie) {\n            onCookieChangeDebounced(usersList, isCookieExists);\n        }\n    });\n}\n\nfunction logoutUser(tabId, user) {\n    yauth.getLogoutData(user.uid, function (url, postData) {\n        redirector.once(tabId, function (tab) {\n            var uri = urlUtils.createURI(tab.url);\n            var data = uri ? uri.query(true) : {};\n            var url = getFinalUrl(data, platformAbout.visbookmarksUrl);\n            logger.info('Logout. User: %j, goto: %s', user.toJSON(), url);\n            goto(tab.id, url);\n            exports.onAction.dispatch('retpath.logout', data, user);\n        });\n        exports.onPostRequestNeeded.dispatch(url, postData, tabId, true);\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/auth/index.js","/**\n * Yandex authorization\n * Implements login, logout and change user method (with multi-authorization support)\n * Links:\n * https://doc.yandex-team.ru/Passport/passport-modes/reference/auth.xml\n * https://doc.yandex-team.ru/Passport/passport-modes/reference/logout.xml\n * https://beta.wiki.yandex-team.ru/passport/frontend/embeddedauth-multiauth/\n */\n'use strict';\n\nvar yauthCookies = require('./yauth-cookies');\nvar branding = require('../branding');\nvar xhr = require('../../utils/xhr');\nvar urlUtils = require('../../utils/url');\n\nvar CHANGE_DEFAULT = 'change_default';\nvar LOGOUT = 'logout';\n\nmodule.exports = {\n    _sendPostRequest: null,\n\n    cookies: yauthCookies,\n\n    /**\n     * Open auth page in tab\n     */\n    login: function (tabId, user) {\n        chrome.tabs.update(tabId, {\n            url: URL_FACTORY.login(user)\n        });\n    },\n\n    /**\n     * Logouts particular uid\n     */\n    getLogoutData: function (uid, callback) {\n        getRequestData(LOGOUT, uid, callback);\n    },\n\n    /**\n     * Sets active uid\n     */\n    getSwitchUserData: function (uid, callback) {\n        getRequestData(CHANGE_DEFAULT, uid, callback);\n    },\n\n    /**\n     * Load currently authorized accounts\n     * @param {Function} callback\n     */\n    loadAccounts: function (callback) {\n        authLoadAccounts(callback);\n    }\n};\n\nvar URL_FACTORY = {\n    start: function () {\n        return createUrl(\n            branding.auth.passportApi,\n            '/passport',\n            {\n                mode: 'embeddedauth'\n            }\n        );\n    },\n    login: function (user) {\n        return createUrl(\n            branding.auth.passportApi,\n            '/auth',\n            {\n                retpath: branding.auth.redirect,\n                login: user ? user.login : undefined,\n            }\n        );\n    },\n    accounts: function (yandexuid) {\n        return createUrl(\n            branding.auth.passApi,\n            '/accounts',\n            {\n                yu: yandexuid\n            }\n        );\n    },\n};\n\nfunction createUrl(base, path, search) {\n    var uri = urlUtils.createURI(base);\n    return uri ? uri.resource(path).setSearch(search).toString() : '';\n}\n\nfunction getRequestData(action, uid, callback) {\n    yauthCookies.getYandexuidCookie(function (yandexuid) {\n        callback(URL_FACTORY.start(), {\n            uid: uid,\n            yu: yandexuid,\n            action: action,\n            retpath: branding.auth.redirect,\n        });\n    });\n}\n\nfunction authLoadAccounts(callback) {\n    yauthCookies.getYandexuidCookie(function (yandexuid) {\n        if (!yandexuid) {\n            callback(new Error('No yandexuid cookie'));\n        } else {\n            xhr({\n                withCredentials: true,\n                url: URL_FACTORY.accounts(yandexuid),\n                parse: 'json',\n            }, callback);\n        }\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/auth/yauth.js","'use strict';\n\nvar User = require('./user');\nvar find = require('lodash/collection/find');\nvar channel = require('../../utils/channel');\n\nmodule.exports = UsersList;\n\n/**\n * A class to work with a set of accounts, a person ever logged in\n * @param {?string} uid\n * @constructor\n */\nfunction UsersList(uid) {\n    /**\n     * @type {?string}\n     */\n    this.defaultUid = uid;\n\n    /**\n     * @type {User[]}\n     */\n    this.users = [];\n\n    this.onChanged = channel.create('UsersList.onChanged');\n    // TODO: this.onRemoved\n}\n\n/**\n * @param {Object} json\n * @returns {UsersList}\n */\nUsersList.fromJSON = function (json) {\n    var defaultUid;\n    var users = (json || [])\n        .map(function (userJson) {\n            if (userJson.isDefault) {\n                defaultUid = userJson.uid;\n            }\n            return User.fromJSON(userJson);\n        }, ul);\n    var ul = new UsersList(defaultUid);\n    users.forEach(ul.appendUser, ul);\n    return ul;\n};\n\nUsersList.prototype = {\n    /**\n     * @returns {boolean}\n     */\n    get hasAuth() {\n        return this.users.some(function (user) {\n            return user.hasAuth;\n        });\n    },\n\n    /**\n     * @returns {?User}\n     */\n    get defaultUser() {\n        return this.getUserByUid(this.defaultUid);\n    }\n};\n\n/**\n * @param {string} uid\n * @returns {?User}\n */\nUsersList.prototype.getUserByUid = function (uid) {\n    return find(this.users, 'uid', uid);\n};\n\n/**\n * Logs out all users\n *\n * @returns {UsersList}\n */\nUsersList.prototype.logoutAll = function () {\n    this.users.forEach(function (user) {\n        user.logout();\n    });\n    return this;\n};\n\nUsersList.prototype.getUsersExcept = function (uids) {\n    var uidMap = uids.reduce(function (memo, uid) {\n        memo[uid] = true;\n        return memo;\n    }, {});\n    return this.users.filter(function (user) {\n        return !uidMap[user.uid];\n    });\n};\n\n/**\n * Appends new User to collection.\n *\n * @param {User} user\n * @returns {UsersList}\n */\nUsersList.prototype.appendUser = function (user) {\n    this.users.push(user);\n    this.onChanged.dispatch('add', user);\n    user.onLogin.addListener(this.onChanged.dispatch.bind(this.onChanged, 'login'));\n    user.onLogout.addListener(this.onChanged.dispatch.bind(this.onChanged, 'logout'));\n    return this;\n};\n\n/**\n * Updates user tf there is user with the same uid in collection,\n * or appends new User account to collection if no uid found\n *\n * @param {Object} account\n * @returns {UsersList}\n */\nUsersList.prototype.appendAccount = function (account) {\n    var user = this.getUserByUid(account.uid);\n    if (user) {\n        user.authorize(account);\n    } else {\n        this.appendUser(new User(account));\n    }\n    return this;\n};\n\n/**\n * @param {User} user\n * @returns {boolean}\n */\nUsersList.prototype.isDefault = function (user) {\n    return user.uid === this.defaultUid;\n};\n\n/**\n * @returns {Object[]}\n */\nUsersList.prototype.toJSON = function () {\n    return this.users\n        .map(function (user) {\n            var userJson = user.toJSON();\n            if (this.isDefault(user)) {\n                userJson.isDefault = true;\n            }\n            return userJson;\n        }, this);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/auth/users-collection.js","'use strict';\n\nvar channel = require('../../utils/channel');\nvar curly = require('../../utils/curly');\n// TODO: find out if session-wide random is needed\nvar AVATAR_URL = 'https://yapic.yandex.ru/get/{uid}/islands-middle?rnd=' + Math.random().toString(36);\n\n/**\n * A class to work with user data\n * @param {?Object} account\n * @constructor\n */\nfunction User(account) {\n    this._hasAuth = false;\n    this._lastAuthTime = 0;\n\n    this._uid = '';\n    this._name = '';\n    this._login = '';\n\n    /**\n     * @type {Channel}\n     */\n    this.onLogout = channel.create('User.onLogout');\n\n    /**\n     * @type {Channel}\n     */\n    this.onLogin = channel.create('User.onLogin');\n    if (account) {\n        this.authorize(account);\n    }\n}\n\n/**\n * @param {Object} json\n * @param {Object} json.account\n * @param {number} json.lastAuthTime\n * @param {boolean} json.hasAuth\n * @returns {User}\n */\nUser.fromJSON = function (json) {\n    var user = new User(json);\n    user._lastAuthTime = json.lastAuthTime;\n    user._hasAuth = json.hasAuth;\n    return user;\n};\n\nUser.prototype = {\n    /**\n     * @returns {string}\n     */\n    get uid() {\n        return this._uid;\n    },\n\n    /**\n     * @returns {number}\n     */\n    get lastAuthTime() {\n        return this._lastAuthTime;\n    },\n\n    /**\n     * @returns {string}\n     */\n    get name() {\n        return this._name;\n    },\n\n    /**\n     * @returns {string}\n     */\n    get displayName() {\n        return this._name || this._login;\n    },\n\n    /**\n     * @returns {string}\n     */\n    get login() {\n        return this._login;\n    },\n\n    /**\n     * @returns {boolean}\n     */\n    get hasAuth() {\n        return this._hasAuth;\n    },\n\n    /**\n     * users from social networks (empty login)\n     *\n     * @returns {boolean}\n     */\n    get isSocial() {\n        return !this.login;\n    },\n\n    get avatarUrl() {\n        return curly.insertUrlVars(AVATAR_URL, this);\n    }\n};\n\nUser.prototype.toJSON = function () {\n    return {\n        uid: this._uid,\n        login: this._login,\n        name: this._name,\n        lastAuthTime: this._lastAuthTime,\n        hasAuth: this._hasAuth,\n    };\n};\n\n/**\n * @returns {User}\n */\nUser.prototype.logout = function () {\n    var wasAuth = this._hasAuth;\n    this._hasAuth = false;\n    if (wasAuth) {\n        this.onLogout.dispatch(this);\n    }\n    return this;\n};\n\n/**\n * @param {Object} account\n * @returns {User}\n */\nUser.prototype.authorize = function (account) {\n    this._uid = account.uid;\n    this._name = account.displayName && account.displayName.name || '';\n    this._login = account.login;\n\n    var wasAuth = this._hasAuth;\n    this._hasAuth = true;\n    this._lastAuthTime = Date.now();\n    if (!wasAuth) {\n        this.onLogin.dispatch();\n    }\n\n    return this;\n};\n\nmodule.exports = User;\n\n\n\n// WEBPACK FOOTER //\n// ./modules/auth/user.js","/**\n * Проверяет все обновления табов: переходы по урлам.\n * На каждое обновление запускает проверку, если проверка успешна,\n * запускает хендлеры, добавленные через метод .on\n *\n * Для отслеживания переходов на определённый урл, например.\n */\n'use strict';\n\nvar browserInfo = require('../../utils/browser-info');\nvar dateUtils = require('../../utils/date');\nvar ONCE_HANDLER_LIFETIME = dateUtils.SECOND_MS * 10;\n\nmodule.exports = Redirector;\n\nfunction Redirector(checker) {\n    this.check = checker;\n    this.handlers = [];\n\n    this._onCompleted = function ({url, tabId}) {\n        this._act({\n          url,\n          id: tabId\n        });\n    }.bind(this);\n}\n\nRedirector.prototype.enable = function () {\n    chrome.webNavigation.onCompleted.addListener(this._onCompleted);\n    return this;\n};\n\nRedirector.prototype.disable = function () {\n    chrome.webNavigation.onCompleted.removeListener(this._onCompleted);\n    return this;\n};\n\nRedirector.prototype._act = function (tab) {\n    if (tab.url && this.check(tab.url)) {\n        this.handlers.some(function (handler) {\n            var result = handler.method(tab);\n            if (result && handler.once) {\n                this._off(handler);\n            }\n            return result;\n        }, this);\n    }\n};\n\n/**\n * Adds handler that will be executed once.\n * It will prevent other handlers exec if triggered.\n * Hanler will be automatically unsubscribed after timout.\n * @param {string} tabId\n * @param {Function} handler\n */\nRedirector.prototype.once = function (tabId, handler) {\n    var off = this.on(this._onceHandler.bind(this, tabId, handler), true);\n    setTimeout(off, ONCE_HANDLER_LIFETIME);\n};\n\n/**\n * Method calls handler and returns true, if it's called with right tab.\n * Otherwise returns false.\n * @param {String} tabId\n * @param {Function} handler\n * @param {Object} tab\n * @returns {Boolean}\n */\nRedirector.prototype._onceHandler = function (tabId, handler, tab) {\n    // In IE we can get id of hidden tab, not of tab with frontend.\n    // So, skip tab id check for ie.\n    if (tab.id === tabId || browserInfo.isIE()) {\n        handler(tab);\n        return true;\n    }\n    return false;\n};\n\n/**\n * Adds handler on trying to load url.\n *\n * TODO: use utils/channel\n * @param {Function} handler\n * @param {Boolean} once\n * @returns {Function} unsubscribe method\n */\nRedirector.prototype.on = function (handler, once) {\n    var handlerObject = {method: handler, once: once};\n    this.handlers.unshift(handlerObject);\n    return this._off.bind(this, handlerObject);\n};\n\n/**\n * Removes handler from list.\n *\n * @param {Object} handler\n */\nRedirector.prototype._off = function (handler) {\n    var handlerIndex = this.handlers.indexOf(handler);\n    if (handlerIndex !== -1) {\n        this.handlers.splice(handlerIndex, 1);\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/auth/redirector.js","/**\n * Примененяет динамически загруженные данные брендинга\n */\n\n'use strict';\n\nvar branding = require('./');\nvar pickup = require('../pickup/pickup');\nvar initSender = require('../frontend/init-sender');\nvar logger = require('../../utils/logger').create('Branding applier');\nvar runstate = require('../startup/runstate');\nvar bgSelector = require('../backgrounds/selector');\nvar asyncLib = require('async');\nvar noargs = require('../../utils/utils').noargs;\n\n/**\n * Init\n */\nexports.init = function () {\n    branding.onRemoteLoaded.addListener(onRemoteLoaded);\n};\n\nfunction onRemoteLoaded() {\n    // если мы в процессе загрузки, то ничего не вызываем (все и так вызовется само с новыми данными брендинга)\n    if (runstate.isReady()) {\n        update();\n    }\n}\n\nfunction update() {\n    logger.info('Applying new branding data...');\n    asyncLib.parallel([\n        // выставляем фон\n        function (callback) {\n            bgSelector.selectDefaultBackground(noargs(callback));\n        },\n        // запускаем АП\n        function (callback) {\n            pickup.run({clear: true}, noargs(callback));\n        }\n    ], function () {\n        logger.info('Update all frontends');\n        initSender.sendAll();\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/branding/applier.js","/**\n * Автоподбор\n */\n\n'use strict';\n\nvar utils = require('../../utils/utils');\nvar _ = require('../../utils/lodash');\nvar apply = require('./apply');\nvar candidates = require('./candidates');\nvar forceThumbs = require('./force-thumbs');\nvar logger = require('../../utils/logger').create('Pickup');\nvar alarms = require('../../utils/alarms');\nvar collection = require('../thumbs/collection');\nvar clicker = require('../statistics/clicker');\nvar platformAbout = require('../../platform/about');\n\nvar ALARM = {\n    name: 'pickup',\n    periodInMinutes: 24 * 60\n};\n\nmodule.exports = {\n    /**\n     * Инициализация\n     */\n    init: function () {\n        alarms.register(ALARM, this.run.bind(this));\n    },\n    /**\n     * Запуск автоподбора\n     * 1. (опционально) применяет запиненные тумбы из дефолтного набора\n     * 2. формирует список кандидатов\n     * 3. применяет список кандидатов к сетке\n     *\n     * @param {Object} [options]\n     * @param {Boolean} [options.clear] полная очистка сетки перед накатыванием АП (при получении кастомного брендинга)\n     * @param {Boolean} [options.dryRun] запуск без обновления текущей сетки (только формирование кеша)\n     * @param {Boolean} [options.fast] укороченные таймауты (для первого запуска)\n     * @param {Function} [callback]\n     */\n    run: function (options, callback) {\n        callback = callback || utils.noop;\n        options = getRunOptions(options);\n\n        logger.info('Pickup started with options: %j', options);\n\n        // send clicker statistics https://st.yandex-team.ru/VB-5731#1463753525000\n        if (!options.dryRun) {\n            clicker.send({path: 'system.autopick'});\n        }\n\n        if (options.clear && collection.length) {\n            logger.info('Collection cleared by pickup');\n            collection.clear();\n        }\n\n        // если пустая сетка - накатываем сначала запиненные тумбы из дефолтного набора\n        if (options.clear) {\n            setForceThumbs();\n        }\n\n        candidates.get(options, function (items) {\n            logger.info('Candidates ready, count: %i', items.length);\n            if (options.dryRun) {\n                logger.info('Pickup ended (dryRun).');\n            } else {\n                applyCandidates(items, options);\n            }\n            callback();\n        });\n    }\n};\n\n/**\n * Возвращает опции для запуска АП\n * @param {Object} options\n */\nfunction getRunOptions(options) {\n    var result = _.defaults({}, options, {\n        clear: !collection.length,\n        dryRun: false,\n        fast: false,\n    });\n    // в хроме при первом АП используем топ-сайты, VB-5735\n    result.useTopSites = result.clear && platformAbout.isChr;\n    return result;\n}\n\n/**\n * Применение кандидатов к текущей сетке\n * @param {Array} items\n * @param {Object} options\n * @param {Function} callback\n */\nfunction applyCandidates(items, options, callback) {\n    apply.run(items, options, function () {\n        logger.info('Pickup ended.');\n        callback();\n    });\n}\n\nfunction setForceThumbs() {\n    forceThumbs.apply();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/pickup/pickup.js","/**\n * Применение списка кандидатов автоподбора на текущую сетку\n */\n\n'use strict';\n\nvar collection = require('../thumbs/collection');\nvar Thumb = require('../thumbs/thumb');\nvar _ = require('../../utils/lodash');\nvar settings = require('../settings/settings');\nvar dateUtils = require('../../utils/date');\n\nvar logger = require('../../utils/logger').create('Pickup/apply');\n\n// период форсированного обновления данных по тумбам (раз в неделю)\nvar FORCE_UPDATE_THUMBS_MS = dateUtils.WEEK_MS;\n\n// кол-во тумб, подбираемых при автоподборе на базе history на пустой сетке\nvar DEFAULT_PICKUP_COUNT = 10;\n\n// кол-во тумб, подбираемых при автоподборе на базе top-sites на пустой сетке\nvar TOPSITES_PICKUP_COUNT = 8;\n\nmodule.exports = {\n    /**\n     * Применяем список кандидатов на текущую сетку\n     * @param {Array} candidates\n     * @param {Object} options\n     * @param {Boolean} options.clear накатываемся на пустую коллекцию или нет\n     */\n    run: function (candidates, options) {\n        options = options || {};\n        var positions = getUnpinnedPositions(options);\n        logger.info('Unpinned positions: %i', positions.length);\n        candidates = candidates.slice(0, positions.length);\n        printItems(candidates);\n        var usedPositions = putOnSamePositions(candidates);\n        positions = _.difference(positions, usedPositions);\n        putNewThumbs(candidates, positions);\n        asyncLoadMissingData(options.clear);\n    }\n};\n\n/**\n * Список незапиненных позиций, куда будем вставлять тумбы\n *\n * @param {Object} options\n * @param {Boolean} options.useTopSites используем ли топсайты\n * @param {Boolean} options.clear накатываемся на пустую коллекцию или нет\n * (проверять collection.length нельзя, т.к. туда уже встали запиненные тумбы)\n */\nfunction getUnpinnedPositions(options) {\n    var res = [];\n    var count = options.clear\n        ? (options.useTopSites ? TOPSITES_PICKUP_COUNT : DEFAULT_PICKUP_COUNT)\n        : collection.length;\n    for (var position = 0; position < count; position++) {\n        var thumb = collection.getItem(position);\n        if (!thumb || !thumb.pinned) {\n            res.push(position);\n        }\n    }\n    return res;\n}\n\n/**\n * Расставляем тумбы, которые уже были в сетке и снова попали в список\n */\nfunction putOnSamePositions(items) {\n    var usedPositions = [];\n    items\n        .filter(function (item) {\n            return _.isNumber(item.position);\n        })\n        .forEach(function (item) {\n            var existingThumb = collection.getItem(item.position);\n            if (existingThumb) {\n                logger.info('Keep position %i %s', item.position, existingThumb.url);\n                // обновляем визиты (берем максимум)\n                if (!_.isNumber(existingThumb.visits) || existingThumb.visits < item.visits) {\n                    existingThumb.visits = item.visits;\n                }\n                usedPositions.push(item.position);\n            }\n        });\n    return usedPositions;\n}\n\n/**\n * Расставляем тумбы, которых не было в сетке (у них нет позиции)\n */\nfunction putNewThumbs(items, positions) {\n    items = items.filter(function (item) {\n        return !_.isNumber(item.position);\n    });\n    positions.forEach(function (position) {\n        if (items.length) {\n            var item = items.shift();\n            logger.info('Add new thumb on position: %i %s', position, item.url);\n            var thumb = new Thumb(item.url);\n            thumb.visits = item.visits;\n            collection.setItem(position, thumb);\n        }\n    });\n}\n\n/**\n * Выводим список урлов и посещений\n * @param {array} items\n */\nfunction printItems(items) {\n    logger.info('Merged candidates: %i', items.length);\n    logger.info('Visits | url');\n    items.forEach(function (item) {\n        logger.info('%i | %s', item.visits, item.url);\n    });\n}\n\n/**\n * Нужно ли форсированно обновить данные по тумбам (раз в неделю)\n */\nfunction isForceUpdate() {\n    var settingName = 'refreshThumbsBackgroundsTime';\n    var lastForceUpdate = settings.get(settingName) || 0;\n    var isTimePassed = dateUtils.absDiff(lastForceUpdate) >= FORCE_UPDATE_THUMBS_MS;\n    if (isTimePassed) {\n        settings.set(settingName, Date.now());\n    }\n    return isTimePassed;\n}\n\n/**\n * Асинхронная подгрузка данных по тумбам\n * Делаем в следующем тике, т.к. загрузка данных операция тяжелая (много одновременных запросов),\n * поэтому лучше чтобы АП отработал, а данные по тумбам догрузим\n *\n * @param {Boolean} isClear\n */\nfunction asyncLoadMissingData(isClear) {\n    setTimeout(function () {\n        collection.loadMissingData({\n            force: isClear || isForceUpdate()\n        });\n    }, 0);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/pickup/apply.js","/**\n * Расстановка запиненных тумб (форс-тумб) из пакета брендирования при чистой установке\n */\n\n'use strict';\n\nvar brandedSittes = require('./branded-sites');\nvar collection = require('../thumbs/collection');\nvar Thumb = require('../thumbs/thumb');\nvar logger = require('../../utils/logger').create('Pickup/force-thumbs');\n\nmodule.exports = {\n    /**\n     * Применяем форс тумбы из дефолтного набора (только при чистой установке)\n     * @param {Object} options\n     * @param {Boolean} options.onlyFirst поставить только первую тумбу (которая обычно яндекс),\n     * полезно для разных экспериментов\n     */\n    apply: function (options) {\n        options = options || {};\n        collection.onChanged.mute();\n        var pinned = getBrandedPinned();\n        if (options.onlyFirst && pinned.length) {\n            addForceThumb(pinned[0]);\n        } else {\n            pinned.forEach(addForceThumb);\n        }\n        collection.onChanged.unmute();\n    }\n};\n\n/**\n * Возвращает список запиненных тумб (форс-тумб) из дефолтного набора\n */\nfunction getBrandedPinned() {\n    return brandedSittes.get().filter(function (item) {\n        return item.pinned;\n    });\n}\n\nfunction addForceThumb(item) {\n    var thumb = Thumb.fromJSON({\n        url: item.url,\n        visits: item.visits,\n        pinned: true\n    });\n    collection.setItem(item.index, thumb);\n    logger.info('Add force-thumb %s on position %i', thumb.url, item.index);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/pickup/force-thumbs.js","'use strict';\n\nvar logger = require('../../utils/logger').create('Clicker');\nvar branding = require('../branding');\nvar settings = require('../settings/settings');\nvar platformAbout = require('../../platform/about');\nvar buildInfo = require('../../platform/build-info');\nvar merge = require('lodash/object/merge');\nvar xhr = require('../../utils/xhr');\nvar curly = require('../../utils/curly');\nvar URL_TMPL = 'https://yandex.{regionTld}/clck/click/dtype=stred/pid={pid}/cid={cid}/path={path}{vars}/*';\n\nvar PID = 12;\nvar PATH_DELIMITER = '.';\n\nvar XHR_OPTIONS = {\n    withCredentials: true,\n    bypassCache: true\n};\n\n/**\n * Отправка кастомной статистики с проверкой согласия пользователя её отправлять.\n *\n * @param {Object} options\n * @param {String} options.path\n * @param {String} [options.vars]\n * @param {String} [options.pid]\n * @param {String} [options.cid]\n * @param {Boolean} [options.force] Безусловная отправка кастомной статистики без проверки согласия пользователя её отправлять.\n * @param {String} [options.transport] Способ отправки (xhr|img) для случая, если пользователь вручную правил host permissions (VB-6220)\n *\n * @link https://wiki.yandex-team.ru/stardust/tablo/normal/#parametryvclicker\n */\nexports.send = function (options) {\n    if (!(options && typeof options === 'object')) {\n        logger.warn('Wrong options argument: %s', options);\n        return;\n    }\n\n    if (options.force || isStatisticsAllowed()) {\n        forceSend(options);\n    }\n};\n\nexports.getPlatformVersion = function () {\n    var rawVersion = buildInfo.getVersion();\n    // clicker wants version with '_' instand of '.'\n    return rawVersion.replace(/\\./g, '_');\n};\n\nfunction forceSend(options) {\n    var params = createStatParams(options);\n    if (params) {\n        logger.info('Sending path: %s vars: %s pid: %s cid: %s',\n                    params.path, params.vars, params.pid, params.cid);\n        /**\n         * Используем insertVars, а не insertUrlVars т.к. при энкодинге могут быть проблемы с vars\n         * https://st.yandex-team.ru/VB-5681\n         */\n        var url = curly.insertVars(URL_TMPL, params);\n        if (options.transport === 'img') {\n            new Image().src = url;\n        } else {\n            xhr(merge({url: url}, XHR_OPTIONS));\n        }\n    }\n}\n\nfunction isStatisticsAllowed() {\n    // Не отправляем статистику в Firefox если пользователь не соглашался её отправлять.\n    // @see {@link https://st.yandex-team.ru/VB-5060}\n    return platformAbout.id !== 'fx' || settings.get('sendUsageStat');\n}\n\nfunction createStatParams(options) {\n    var path = options.path;\n\n    if (!path) {\n        logger.warn('Empty path');\n        return null;\n    }\n\n    var pid = options.pid || PID;\n    var cid = options.cid || platformAbout.cid;\n    var vars = options.vars;\n\n    path = Array.isArray(path) ? path.join(PATH_DELIMITER) : path;\n\n    // если CID платформенный, значить path начинаем просто с версии,\n    // иначе пишем path как его прислали\n    if (cid === platformAbout.cid) {\n        path = [exports.getPlatformVersion(), path].join(PATH_DELIMITER);\n    }\n\n    return {\n        regionTld: branding.vars.regionTld,\n        pid: pid,\n        cid: cid,\n        path: path,\n        vars: vars ? '/vars=' + vars : ''\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/statistics/clicker.js","/**\n * Загружаем кастомный брендинг с сервера\n * https://st.yandex-team.ru/VB-5598\n *\n */\n\n'use strict';\n\nvar storage = require('./storage');\nvar bannerid = require('../../cookies/bannerid');\nvar utils = require('../../../utils/utils');\nvar channel = require('../../../utils/channel');\n\nvar logger = utils.logger.create('Branding/remote/loader');\n\nvar CONFIG_URL = 'https://download.cdn.yandex.net/bar/vb/custombuilds/{bannerid}/config.json';\n\n// сколько раз и через какой интервал пробуем скачать брендинг\n// https://st.yandex-team.ru/VB-5598#1458636291000\nvar ATTEMPTS_MS = [1000, 5 * 1000, 30 * 1000];\n\n/**\n * Пробуем загрузить конфиг для текущего bannerid\n *\n * @param {Object} options\n * @param {Boolean} options.attempt\n */\nexports.tryLoad = function (options) {\n    return new Promise(function (resolve, reject) {\n        options = options || {};\n        options.attempt = options.attempt || 0;\n        var url = getUrl();\n        logger.info('Loading: %s', url);\n        utils.xhr({\n            url: url,\n            logError: false,\n            parse: 'json',\n            // первая загрузка происходит в рамках инсталла, поэтому укороченный таймаут\n            timeout: options.attempt === 0 ? 500 : null,\n        }, function (err, config, evt) {\n            if (err) {\n                processError(err, options, evt ? evt.target.status : null);\n                reject(err);\n                return;\n            }\n\n            if (isValidConfig(config, url)) {\n                processSuccess(config);\n                resolve();\n            } else {\n                reject();\n            }\n        });\n    });\n};\n\n/**\n * Событие Ошибка загрузки брендинга\n */\nexports.onLoadError = channel.create();\n\nfunction isValidConfig(config, url) {\n    if (!config || !Object.keys(config).length) {\n        logger.error('Empty config received from: %s', url);\n        return false;\n    }\n\n    if (!config.vars || !config.vars.brandId) {\n        logger.error('Config must contain vars.brandId');\n        return false;\n    }\n\n    return true;\n}\n\nfunction processError(err, options, status) {\n    logger.error(err.message);\n    // если ошибка сети или на сервере, то пробуем еще несколько раз\n    var retry = utils.xhr.isNetworkError(status) || utils.xhr.isServerError(status);\n    if (retry && options.attempt < ATTEMPTS_MS.length) {\n        var delay = ATTEMPTS_MS[options.attempt];\n        var nextAttempt = options.attempt + 1;\n        logger.info('Re-try #%i after %i ms', nextAttempt, delay);\n        setTimeout(exports.tryLoad.bind(null, {attempt: nextAttempt}), delay);\n    } else {\n        exports.onLoadError.dispatch(bannerid.getBannerId());\n    }\n}\n\nfunction processSuccess(config) {\n    logger.info('Custom branding %s loaded for bannerid: %s %j',\n        config.vars.brandId,\n        bannerid.getBannerId(),\n        config\n    );\n    storage.setData(config);\n}\n\nfunction getUrl() {\n    return utils.curly.insertUrlVars(CONFIG_URL, {bannerid: bannerid.getBannerId()});\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/branding/remote/loader.js","'use strict';\n\n// Represented in milliseconds.\nmodule.exports.REJECT_TIMESTAMP = 3000;\n\n// Represented in milliseconds.\nmodule.exports.BLACKLISTED_SOURCE_COMPLETION_TIMEOUT = 1000;\n\n// Represented in milliseconds.\nmodule.exports.OFFSCREEN_IDLE_TIMEOUT = 500;\n\n\n\n// WEBPACK FOOTER //\n// ./modules/common/constants.js","/**\n * Модуль для работы с gpauto\n * @see https://st.yandex-team.ru/VB-5208\n */\n'use strict';\n\nvar logger = require('../../utils/logger').create('cookies gpauto');\nvar settings = require('../settings/settings');\nvar geoApi = require('../../platform/geolocation');\nvar dateUtils = require('../../utils/date');\n\nvar LocationWatcher = require('yandex-elements-core/location/watcher');\nvar LocationTimer = require('yandex-elements-core/location/timer');\nvar LocationParser = require('yandex-elements-core/location/parser');\nvar Gpauto = require('yandex-elements-core/cookies/gpauto');\nvar YpCookie = require('yandex-elements-core/cookies/yp-cookie');\nvar {logUpdateResult} = require('./utils');\nvar {logUpdateResult} = require('./utils');\n\nvar GPAUTO_PREF = 'geolocation';\nvar UPDATE_TEMOUT = dateUtils.MINUTE_MS * 10;\n\nvar DOMAINS = [\n    'yandex.ru',\n    'yandex.kz',\n    'yandex.ua',\n    'yandex.by',\n    'yandex.net',\n    'yandex.com',\n    'yandex.com.tr',\n    'ya.ru',\n];\n\nvar locationTimer;\n\nexports.init = function () {\n    logger.info('Initializing');\n    locationTimer = initLocationTimer();\n    settings.onChanged.addListener(handleSettingsChange);\n    if (settings.get(GPAUTO_PREF)) {\n        logger.info('Start geolocation monitoring');\n        locationTimer.start();\n    }\n};\n\n/**\n * @returns {LocationTimer}\n */\nfunction initLocationTimer() {\n    var watcher = new LocationWatcher(geoApi, {});\n    var timer = new LocationTimer(watcher, UPDATE_TEMOUT);\n    timer.onError.add(handleTimerError);\n    timer.onChange.add(handleLocationChange);\n    return timer;\n}\n\n/**\n * @param {Object} data\n */\nfunction handleSettingsChange(data) {\n    if (data.key === GPAUTO_PREF) {\n        updateTimerState(data.newValue);\n    }\n}\n\n/**\n * @param {Boolean} isMonitoringAllowed\n */\nfunction updateTimerState(isMonitoringAllowed) {\n    logger.info('Geolocation settings changed: %s', isMonitoringAllowed);\n    if (isMonitoringAllowed) {\n        locationTimer.start();\n    } else {\n        locationTimer.stop();\n    }\n}\n\n/**\n * @param {Object} position\n */\nfunction handleLocationChange(position) {\n    if (position) {\n        updateGpauto(position);\n    }\n}\n\n/**\n * @param {Object} position\n */\nfunction updateGpauto(position) {\n    var parser = new LocationParser();\n    var gpauto = new Gpauto({locationParser: parser});\n    var updatedDomains = [];\n    var notUpdatedDomains = [];\n\n    logger.info('Trying to update position: %j', position);\n    Promise.all(DOMAINS.map(function (domain) {\n        var cookie = new YpCookie(domain);\n        return gpauto.updatePosition(position, cookie)\n            .then(result => {\n                if (result) {\n                    updatedDomains.push(domain);\n                }\n            })\n            .catch(() => {\n                notUpdatedDomains.push(domain);\n            });\n    }))\n    .then(() => logUpdateResult(logger, updatedDomains, notUpdatedDomains))\n    .catch(() => logUpdateResult(logger, updatedDomains, notUpdatedDomains));\n}\n\nfunction handleTimerError(error) {\n    logger.warn('Timer error %j', error);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/cookies/gpauto.js","'use strict';\n\nmodule.exports = navigator.geolocation;\n\n\n\n// WEBPACK FOOTER //\n// ./platform/geolocation.js","/**\n * Module for monitoring changes in geoposition\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _signals = require('signals');\n\nvar _signals2 = _interopRequireDefault(_signals);\n\nvar LocationWatcher = (function () {\n    /**\n     * @param {Object} geolocation - this._geo implementation\n     * @param {Function} geolocation.watchPosition\n     * @param {Function} geolocation.clearWatch\n     * @param {Function} geolocation.getCurrentPosition\n     * @param {Object} [options] - this._geo.watchPosition options\n     * @constructor\n     */\n\n    function LocationWatcher(geolocation, options) {\n        _classCallCheck(this, LocationWatcher);\n\n        this.onChange = new _signals2['default']();\n        this.onError = new _signals2['default']();\n        this._geo = geolocation;\n        this._geoOptions = options || {};\n        this._watchId = null;\n    }\n\n    /**\n     * Start spying\n     */\n\n    _createClass(LocationWatcher, [{\n        key: 'start',\n        value: function start() {\n            if (!this._geo) {\n                this.onError.dispatch(new Error('Geolocation is not supported'));\n            } else {\n                this.stop();\n                this._watchId = this._watchPosition();\n            }\n        }\n\n        /**\n         * Stop spying\n         */\n    }, {\n        key: 'stop',\n        value: function stop() {\n            if (this._watchId) {\n                this._geo.clearWatch(this._watchId);\n                this._watchId = null;\n            }\n        }\n\n        /**\n         * @returns {Number}\n         */\n    }, {\n        key: '_watchPosition',\n        value: function _watchPosition() {\n            return this._geo.watchPosition(this._handlePositionChangeSuccess.bind(this), this._handlePositionChangeError.bind(this), this._geoOptions);\n        }\n\n        /**\n         * @param {Object} position\n         */\n    }, {\n        key: '_handlePositionChangeSuccess',\n        value: function _handlePositionChangeSuccess(position) {\n            if (position && position.coords) {\n                this.onChange.dispatch(position);\n            }\n        }\n\n        /**\n         * @param {Object} error\n         */\n    }, {\n        key: '_handlePositionChangeError',\n        value: function _handlePositionChangeError(error) {\n            if (error) {\n                this.onError.dispatch(error);\n            }\n        }\n    }]);\n\n    return LocationWatcher;\n})();\n\nexports['default'] = LocationWatcher;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/yandex-elements-core/location/watcher.js\n// module id = 443\n// module chunks = 1","/**\n * Sends updates with geolocation data at predefined intervals.\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _signals = require('signals');\n\nvar _signals2 = _interopRequireDefault(_signals);\n\nvar DEFAULT_TIMEOUT = 1000 * 60 * 10;\n\nvar LocationTimer = (function () {\n    /**\n     * @param {LocationWatcher} watcher\n     * @param {Number} [timeout] - default value is 1000 * 60 * 10 ms (ten minutes)\n     * @constructor\n     */\n\n    function LocationTimer(watcher, timeout) {\n        _classCallCheck(this, LocationTimer);\n\n        this.onChange = new _signals2['default']();\n        this.onError = new _signals2['default']();\n\n        this._watcher = watcher;\n        this._timeout = timeout || DEFAULT_TIMEOUT;\n\n        this._position = null;\n        this._intervalId = null;\n    }\n\n    /**\n     * Starts timer\n     */\n\n    _createClass(LocationTimer, [{\n        key: 'start',\n        value: function start() {\n            this.stop();\n            this._intervalId = setInterval(this._handleIntervalEvent.bind(this), this._timeout);\n            this._startWatcher();\n        }\n\n        /**\n         * Stops timer\n         */\n    }, {\n        key: 'stop',\n        value: function stop() {\n            clearInterval(this._intervalId);\n            this._intervalId = null;\n            this._stopWatcher();\n        }\n\n        /**\n         * Runs watcher and adds handlers to watcher events\n         */\n    }, {\n        key: '_startWatcher',\n        value: function _startWatcher() {\n            this._watcher.onChange.add(this._handleChangeEvent, this);\n            this._watcher.onError.add(this._handleErrorEvent, this);\n            this._watcher.start();\n        }\n\n        /**\n         * Stops watcher and removes handlers from watcher events\n         */\n    }, {\n        key: '_stopWatcher',\n        value: function _stopWatcher() {\n            this._watcher.onChange.remove(this._handleChangeEvent, this);\n            this._watcher.onError.remove(this._handleErrorEvent, this);\n            this._watcher.stop();\n        }\n\n        /**\n         * @param {Object} position\n         */\n    }, {\n        key: '_handleChangeEvent',\n        value: function _handleChangeEvent(position) {\n            if (!this._position) {\n                this._dispatchChange(position);\n            }\n            this._position = position;\n        }\n\n        /**\n         * @param {Error} error\n         */\n    }, {\n        key: '_handleErrorEvent',\n        value: function _handleErrorEvent(error) {\n            this.onError.dispatch(error);\n        }\n\n        /**\n         * Dispatches changes if position is available.\n         */\n    }, {\n        key: '_handleIntervalEvent',\n        value: function _handleIntervalEvent() {\n            if (this._position) {\n                this._dispatchChange(this._position);\n            }\n        }\n\n        /**\n         * @param {Object} position\n         */\n    }, {\n        key: '_dispatchChange',\n        value: function _dispatchChange(position) {\n            this.onChange.dispatch(position);\n        }\n    }]);\n\n    return LocationTimer;\n})();\n\nexports['default'] = LocationTimer;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/yandex-elements-core/location/timer.js\n// module id = 444\n// module chunks = 1","/**\n * Holds logic for parsing geoposition objects\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodashObjectDefaults = require('lodash/object/defaults');\n\nvar _lodashObjectDefaults2 = _interopRequireDefault(_lodashObjectDefaults);\n\nvar GEO_DELIMITER = ':';\nvar DEFAULT_OPTIONS = {\n    deviceId: 3,\n    timestampRoundValue: 1000\n};\n\nvar PositionParser = (function () {\n    /**\n     * @param {Object} [options]\n     * @param {Number} [options.deviceId] - default value is 3\n     * @param {Number} [options.timestampRoundValue] - default value is 1000\n     * @constructor\n     */\n\n    function PositionParser(options) {\n        _classCallCheck(this, PositionParser);\n\n        options = (0, _lodashObjectDefaults2['default'])({}, options, DEFAULT_OPTIONS);\n        this._deviceId = options.deviceId;\n        this._timestampRoundValue = options.timestampRoundValue;\n    }\n\n    /**\n     * @param {Object} position\n     * @param {Object} position.coords\n     * @param {Number} position.coords.latitude\n     * @param {Number} position.coords.longitude\n     * @param {Number} position.coords.accuracy\n     * @param {Number} [position.timestamp]\n     * @returns {String}\n     */\n\n    _createClass(PositionParser, [{\n        key: 'parseToString',\n        value: function parseToString(position) {\n            return [this._numberToString(position.coords.latitude), this._numberToString(position.coords.longitude), this._numberToString(position.coords.accuracy), this._deviceId, Math.round(Date.now() / this._timestampRoundValue)].join(GEO_DELIMITER);\n        }\n\n        /**\n         * @param {String} value\n         * @returns {{cooords: {latitude: *, longitude: *, accuracy: *, deviceId: *}, timestamp: *}}\n         */\n    }, {\n        key: 'parseFromString',\n        value: function parseFromString(value) {\n            var parts = value.split(GEO_DELIMITER);\n            return {\n                coords: {\n                    latitude: this._numberFromString(parts[0]),\n                    longitude: this._numberFromString(parts[1]),\n                    accuracy: this._numberFromString(parts[2])\n                },\n                deviceId: this._numberFromString(parts[3]),\n                timestamp: this._numberFromString(parts[4]) * 1000\n            };\n        }\n\n        /**\n         * @param {Number} number\n         * @returns {String}\n         */\n    }, {\n        key: '_numberToString',\n        value: function _numberToString(number) {\n            if (typeof number === 'undefined' || number === null) {\n                number = 0;\n            }\n            return number.toString().replace('.', '_'); // O_o\n        }\n\n        /**\n         * @param {String} string\n         * @returns {Number|undefined}\n         * @private\n         */\n    }, {\n        key: '_numberFromString',\n        value: function _numberFromString(string) {\n            var result = Number(string.replace('_', '.'));\n            if (isNaN(result)) {\n                return undefined;\n            }\n            return result;\n        }\n    }]);\n\n    return PositionParser;\n})();\n\nexports['default'] = PositionParser;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/yandex-elements-core/location/parser.js\n// module id = 445\n// module chunks = 1","/**\n * Writes gpauto values into YP cookie\n * @see https://st.yandex-team.ru/VB-5208\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar COOKIE_PART = 'gpauto';\nvar COOKIE_EXPIRES = 1000 * 60 * 60 * 24 * 2; // two days\nvar POSITION_EXPIRES = 1000 * 60 * 10; // ten minutes\n\nvar LocationWriter = (function () {\n    /**\n     * @param {Object} options\n     * @param {LocationParser} options.locationParser\n     * @param {Number} [options.cookieExpires] - cookie expiration time in ms\n     * @param {Number} [options.positionExpires] - position value expiration time in ms\n     * @param {String} [options.cookiePart] - default value is 'gpauto'\n     */\n\n    function LocationWriter(options) {\n        _classCallCheck(this, LocationWriter);\n\n        this._locationParser = options.locationParser;\n        this._cookiePart = options.cookiePart || COOKIE_PART;\n        this._cookieExpires = options.cookieExpires || COOKIE_EXPIRES;\n        this._positionExpires = options.positionExpires || POSITION_EXPIRES;\n    }\n\n    /**\n     * @param {Number} value\n     * @param {Number} expirationTime\n     * @returns {Boolean}\n     */\n\n    /**\n     * @param {Object} position\n     * @param {Array<String>} domains\n     * @returns {Promise}\n     */\n\n    _createClass(LocationWriter, [{\n        key: 'updatePosition',\n        value: function updatePosition(position, cookie) {\n            var _this = this;\n\n            return this._getPositionData(cookie).then(function (positionData) {\n                var isExpired = _this._isPositionExpired(positionData);\n                return isExpired ? _this._writePosition(position, cookie) : null;\n            });\n        }\n\n        /**\n         * @param {YpCookie} cookie\n         * @returns {Promise<{value: Object|null, expires: Number|null}>}\n         */\n    }, {\n        key: '_getPositionData',\n        value: function _getPositionData(cookie) {\n            var _this2 = this;\n\n            return cookie.getValue(this._cookiePart).then(function (position) {\n                return _this2._parsePosition(position);\n            });\n        }\n\n        /**\n         * @param {{value: String, expires: Number}} [positionData]\n         * @returns {{value: Object|null, expires: Number|null}}\n         */\n    }, {\n        key: '_parsePosition',\n        value: function _parsePosition(positionData) {\n            if (positionData && positionData.value) {\n                return {\n                    value: this._locationParser.parseFromString(positionData.value),\n                    expires: positionData.expires\n                };\n            }\n            return { value: null, expires: null };\n        }\n\n        /**\n         * @param {{value: Object|null, expires: Number|null}} positionData\n         * @returns {Boolean}\n         */\n    }, {\n        key: '_isPositionExpired',\n        value: function _isPositionExpired(positionData) {\n            var position = positionData.value;\n            if (!position) {\n                return true;\n            }\n            return isValueExpired(position.timestamp, this._positionExpires) || isValueExpired(positionData.expires * 1000, this._cookieExpires);\n        }\n\n        /**\n         * @param {Object} position\n         * @param {YpCookie} cookie\n         * @returns {Promise<String>}\n         */\n    }, {\n        key: '_writePosition',\n        value: function _writePosition(position, cookie) {\n            var expires = this._getCookieExpiresValue();\n            var stringPosition = this._locationParser.parseToString(position);\n            return cookie.upsertPart(this._cookiePart, stringPosition, expires);\n        }\n\n        /**\n         * @returns {Number}\n         */\n    }, {\n        key: '_getCookieExpiresValue',\n        value: function _getCookieExpiresValue() {\n            return Math.round((Date.now() + this._cookieExpires) / 1000);\n        }\n    }]);\n\n    return LocationWriter;\n})();\n\nexports['default'] = LocationWriter;\nfunction isValueExpired(value, expirationTime) {\n    return Math.abs(Date.now() - value) > expirationTime;\n}\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/yandex-elements-core/cookies/gpauto.js\n// module id = 446\n// module chunks = 1","/**\n * Representation of yp cookie\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _thenChrome = require('then-chrome');\n\nvar _thenChrome2 = _interopRequireDefault(_thenChrome);\n\nvar _lodashCollectionFind = require('lodash/collection/find');\n\nvar _lodashCollectionFind2 = _interopRequireDefault(_lodashCollectionFind);\n\nvar _ypSerializer = require('./yp-serializer');\n\nvar _ypSerializer2 = _interopRequireDefault(_ypSerializer);\n\nvar YP_COOKIE_NAME = 'yp';\nvar YP_COOKIE_PROTOCOL = 'https';\nvar EXPIRATION_DATE = Math.ceil(new Date(2038, 0).getTime() / 1000);\n\nvar YpCookie = (function () {\n    /**\n     * @constructor\n     * @param {String} domain\n     */\n\n    function YpCookie(domain) {\n        _classCallCheck(this, YpCookie);\n\n        this.domain = domain;\n        this.name = YP_COOKIE_NAME;\n        this.protocol = YP_COOKIE_PROTOCOL;\n        this.expirationDate = EXPIRATION_DATE;\n        this._ypSerializer = new _ypSerializer2['default']();\n    }\n\n    /**\n     * Returns chrome.cookies.Cookie instance\n     * @returns {Promise<chrome.cookies.Cookie>}\n     */\n\n    _createClass(YpCookie, [{\n        key: 'getCookie',\n        value: function getCookie() {\n            var params = {\n                domain: this.domain,\n                name: this.name\n            };\n            return _thenChrome2['default'].cookies.getAll(params).then(this._getFirstCookie.bind(this));\n        }\n\n        /**\n         * Adds passed key+value to cookie value.\n         * Creates new cookie, if needed\n         * @param {String} key\n         * @param {String} value\n         * @param {Number} expires\n         * @returns {Promise<String>} - promise with new cookie value\n         */\n    }, {\n        key: 'addPart',\n        value: function addPart(key, value, expires) {\n            var _this = this;\n\n            return this.getCookie().then(function (cookie) {\n                var existingValue = cookie ? cookie.value : '';\n                var newValue = _this._ypSerializer.addPart(existingValue, key, value, expires);\n                return _this._saveIfChanged(newValue, existingValue, key);\n            });\n        }\n\n        /**\n         * Deletes passed key (with value) from cookie\n         * @param {String} key\n         * @returns {Promise<String|null>} - promise with new cookie value\n         */\n    }, {\n        key: 'deletePart',\n        value: function deletePart(key) {\n            var _this2 = this;\n\n            return this.getCookie().then(function (cookie) {\n                if (cookie) {\n                    var existingValue = cookie.value;\n                    var newValue = _this2._ypSerializer.deletePart(existingValue, key);\n                    return _this2._saveIfChanged(newValue, existingValue, key);\n                }\n                return null;\n            });\n        }\n\n        /**\n         * Updates passed key with new value\n         * @param {String} key\n         * @param {String} value\n         * @param {Number} expires\n         * @returns {Promise<String|null>} - promise with new cookie value\n         */\n    }, {\n        key: 'updatePart',\n        value: function updatePart(key, value, expires) {\n            var _this3 = this;\n\n            return this.getCookie().then(function (cookie) {\n                if (cookie) {\n                    var existingValue = cookie.value;\n                    var newValue = _this3._ypSerializer.updatePart(existingValue, key, value, expires);\n                    return _this3._saveIfChanged(newValue, existingValue, key);\n                }\n                return null;\n            });\n        }\n\n        /**\n         * If passed key already exist - updates it,\n         * if not - adds new key and value.\n         * Creates new cookie, if needed\n         * @param {String} key\n         * @param {String} value\n         * @param {Number} expires\n         * @returns {Promise<String>} - promise with new cookie value\n         */\n    }, {\n        key: 'upsertPart',\n        value: function upsertPart(key, value, expires) {\n            var _this4 = this;\n\n            return this.getCookie().then(function (cookie) {\n                var existingValue = cookie ? cookie.value : '';\n                var newValue = _this4._ypSerializer.upsertPart(existingValue, key, value, expires);\n                return _this4._saveIfChanged(newValue, existingValue, key);\n            });\n        }\n\n        /**\n         * Returns promise with requested value\n         * @param {String} key\n         * @returns {Promise<{value: String, expires: Number}|null>}\n         */\n    }, {\n        key: 'getValue',\n        value: function getValue(key) {\n            var _this5 = this;\n\n            return this.getCookie().then(function (cookie) {\n                if (cookie) {\n                    return _this5._ypSerializer.getValue(cookie.value, key);\n                }\n                return null;\n            });\n        }\n\n        /**\n         * @param {String} newCookieValue\n         * @param {String} oldCookieValue\n         * @param {String} changedPart\n         * @returns {Promise<String>}\n         */\n    }, {\n        key: '_saveIfChanged',\n        value: function _saveIfChanged(newCookieValue, oldCookieValue, changedPart) {\n            if (this._ypSerializer.isPartChanged(newCookieValue, oldCookieValue, changedPart)) {\n                return this._saveCookie(newCookieValue);\n            } else {\n                return Promise.resolve(newCookieValue);\n            }\n        }\n\n        /**\n         * @param {String} cookieValue\n         * @returns {Promise<String>}\n         */\n    }, {\n        key: '_saveCookie',\n        value: function _saveCookie(cookieValue) {\n            return this._setCookie(cookieValue).then(function () {\n                return Promise.resolve(cookieValue);\n            });\n        }\n\n        /**\n         * Retrieve first cookie with hostOnly = false\n         * @param {Array<chrome.cookies.Cookie>} cookies\n         * @returns {chrome.cookies.Cookie}\n         */\n    }, {\n        key: '_getFirstCookie',\n        value: function _getFirstCookie(cookies) {\n            return (0, _lodashCollectionFind2['default'])(cookies, function (cookie) {\n                return cookie.hostOnly === false;\n            }) || cookies[0];\n        }\n\n        /**\n         * @param {String} cookieValue\n         * @returns {Promise<chrome.cookies.Cookie>}\n         */\n    }, {\n        key: '_setCookie',\n        value: function _setCookie(cookieValue) {\n            return _thenChrome2['default'].cookies.set({\n                url: this.protocol + '://' + this.domain.replace(/^\\./, '') + '/',\n                domain: this.domain,\n                name: this.name,\n                value: cookieValue,\n                expirationDate: this.expirationDate\n            });\n        }\n    }]);\n\n    return YpCookie;\n})();\n\nexports['default'] = YpCookie;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/yandex-elements-core/cookies/yp-cookie.js\n// module id = 447\n// module chunks = 1","/**\n * @overview Модуль для работы с контейнерами кук yp\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodashObjectDefaults = require('lodash/object/defaults');\n\nvar _lodashObjectDefaults2 = _interopRequireDefault(_lodashObjectDefaults);\n\nvar DEFAULT_OPTIONS = {\n    partsDelimiter: '#',\n    keyValueDelimiter: '.'\n};\n\nvar YpSerializer = (function () {\n    /**\n     * @param {Object} [options]\n     * @param {String} [options.partsDelimiter] - default value is '#'\n     * @param {String} [options.keyValueDelimiter] - default value is '.'\n     * @constructor\n     */\n\n    function YpSerializer(options) {\n        _classCallCheck(this, YpSerializer);\n\n        options = (0, _lodashObjectDefaults2['default'])({}, options, DEFAULT_OPTIONS);\n        this._partsDelimiter = options.partsDelimiter;\n        this._keyValueDelimiter = options.keyValueDelimiter;\n    }\n\n    /**\n     * Получить список значений в контейнере\n     * @param {String} cookieValue\n     * @returns {Array}\n     */\n\n    _createClass(YpSerializer, [{\n        key: 'getParts',\n        value: function getParts(cookieValue) {\n            return cookieValue.split(this._partsDelimiter).filter(Boolean);\n        }\n\n        /**\n         * Добавить новое значение в контейнер\n         * @param {String} cookieValue\n         * @param {String} key\n         * @param {String} value\n         * @param {Number} expires\n         * @returns {String}\n         */\n    }, {\n        key: 'addPart',\n        value: function addPart(cookieValue, key, value, expires) {\n            var data = this.getParts(cookieValue);\n            data.push(this._createPart(key, value, expires));\n            return this._toCookieValue(data);\n        }\n\n        /**\n         * Удаляем значение из контейнера\n         * @param {String} cookieValue\n         * @param {String} key\n         * @returns {String}\n         */\n    }, {\n        key: 'deletePart',\n        value: function deletePart(cookieValue, key) {\n            var data = this.getParts(cookieValue).filter(function (part) {\n                var _part$split = part.split(this._keyValueDelimiter);\n\n                var _part$split2 = _slicedToArray(_part$split, 2);\n\n                var keyPart = _part$split2[1];\n\n                return key !== keyPart;\n            }, this);\n            return this._toCookieValue(data);\n        }\n\n        /**\n         * Обновляем значение в контейнере\n         * @param {String} cookieValue\n         * @param {String} key\n         * @param {String} value\n         * @param {Number} expires\n         * @returns {String}\n         */\n    }, {\n        key: 'updatePart',\n        value: function updatePart(cookieValue, key, value, expires) {\n            var _this = this;\n\n            var data = this.getParts(cookieValue).map(function (part) {\n                var _part$split3 = part.split(_this._keyValueDelimiter);\n\n                var _part$split32 = _slicedToArray(_part$split3, 2);\n\n                var keyPart = _part$split32[1];\n\n                if (keyPart === key) {\n                    return _this._createPart(keyPart, value, expires);\n                }\n                return part;\n            });\n            return this._toCookieValue(data);\n        }\n\n        /**\n         * Обновляем/добавляем значение к контейнере\n         * @param {String} cookieValue\n         * @param {String} key\n         * @param {String} value\n         * @param {Number} expires\n         * @returns {String}\n         */\n    }, {\n        key: 'upsertPart',\n        value: function upsertPart(cookieValue, key, value, expires) {\n            var existingValue = this.getValue(cookieValue, key);\n            if (existingValue) {\n                return this.updatePart(cookieValue, key, value, expires);\n            } else {\n                return this.addPart(cookieValue, key, value, expires);\n            }\n        }\n\n        /**\n         * Получить значение ключа в контейнер\n         * @param {String} cookieValue\n         * @param {String} key\n         * @returns {{value: String, expires: Number}|null}\n         */\n    }, {\n        key: 'getValue',\n        value: function getValue(cookieValue, key) {\n            var parts = this.getParts(cookieValue);\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = parts[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var cookiePart = _step.value;\n\n                    var _cookiePart$split = cookiePart.split(this._keyValueDelimiter);\n\n                    var _cookiePart$split2 = _slicedToArray(_cookiePart$split, 3);\n\n                    var expiresPart = _cookiePart$split2[0];\n                    var keyPart = _cookiePart$split2[1];\n                    var valuePart = _cookiePart$split2[2];\n\n                    if (keyPart === key) {\n                        return {\n                            value: decodeURIComponent(valuePart),\n                            expires: parseInt(expiresPart, 10)\n                        };\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator['return']) {\n                        _iterator['return']();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            return null;\n        }\n\n        /**\n         * @param {String} newCookieValue\n         * @param {String} oldCookieValue\n         * @param {String} part\n         * @returns {Boolean}\n         */\n    }, {\n        key: 'isPartChanged',\n        value: function isPartChanged(newCookieValue, oldCookieValue, part) {\n            var oldValue = this.getValue(oldCookieValue, part);\n            var newValue = this.getValue(newCookieValue, part);\n            if (oldValue && newValue) {\n                return oldValue.value !== newValue.value || oldValue.expires !== newValue.expires;\n            } else {\n                return oldValue !== newValue;\n            }\n        }\n\n        /**\n         * @param {String} key\n         * @param {String} value\n         * @param {Number} expires\n         * @returns {String}\n         */\n    }, {\n        key: '_createPart',\n        value: function _createPart(key, value, expires) {\n            return [expires, key, encodeURIComponent(value)].join(this._keyValueDelimiter);\n        }\n\n        /**\n         * Приводим данные к строке\n         * @param {Array} data\n         * @returns {String}\n         * @private\n         */\n    }, {\n        key: '_toCookieValue',\n        value: function _toCookieValue(data) {\n            return data.join(this._partsDelimiter);\n        }\n    }]);\n\n    return YpSerializer;\n})();\n\nexports['default'] = YpSerializer;\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/yandex-elements-core/cookies/yp-serializer.js\n// module id = 448\n// module chunks = 1","/**\n* Утилиты для работы с куками\n*/\n'use strict';\n\n/**\n * Логирование результатов обновления кук\n * @param  {Logger} logger\n * @param  {Array} updatedDomains\n * @param  {Array} notUpdatedDomains\n */\nexports.logUpdateResult = function (logger, updatedDomains, notUpdatedDomains) {\n    var updatedDomainsCount = updatedDomains.length;\n    var notUpdatedDomainsCount = notUpdatedDomains.length;\n\n    if (updatedDomainsCount) {\n        logger.info(\n            'Positions (%d) were updated for %s',\n            updatedDomainsCount,\n            updatedDomains.join(', ')\n        );\n    }\n\n    if (notUpdatedDomainsCount) {\n        logger.error('Positions (%d) updating were faild for %s',\n        notUpdatedDomainsCount,\n        notUpdatedDomains.join(', '));\n    }\n\n    if (!updatedDomainsCount && !notUpdatedDomainsCount) {\n        logger.info('Positions were not updated');\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/cookies/utils.js","/**\n * Пишем yasoft.version в куку YS\n * Делаем это каждый раз при старте, т.к. кука ys - сессионная\n */\n\n'use strict';\n\nvar ys = require('./ys');\nvar buildInfo = require('../../platform/build-info');\nvar about = require('../../platform/about');\nvar logger = require('../../utils/logger').create('Cookies/yasoft');\n\nexports.init = function () {\n    ys.onChanged.addListener(onChanged);\n};\n\nexports.set = function () {\n    var data = getData();\n    logger.info('Setting yasoft = %s, version = %s', data.yasoft, data.version);\n    ys.upsert(data.yasoft, data.version);\n};\n\nfunction onChanged() {\n    var data = getData();\n    logger.info('YS changed, trying to re-set yasoft = %s, version = %s', data.yasoft, data.version);\n    ys.upsert(data.yasoft, data.version);\n}\n\nfunction getData() {\n    return {\n        version: buildInfo.getVersion().replace(/\\./g, '-'),\n        yasoft: about.yasoft\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/cookies/yasoft.js","/**\n * Работа с кукой YS, имеющей формат key1.value1#key2.value2\n * https://beta.wiki.yandex-team.ru/Cookies/Y/\n */\n'use strict';\n\nvar debounce = require('lodash/function/debounce');\nvar endsWith = require('lodash/string/endsWith');\nvar Channel = require('../../utils/channel');\nvar logger = require('../../utils/logger').create('Cookies/ys');\nvar YsCookie = require('yandex-elements-core/cookies/ys-cookie');\nvar {logUpdateResult} = require('./utils');\n\n/**\n * Список доменов, куда ставим куку\n */\nvar DOMAINS = [\n    'yandex.ru',\n    'yandex.kz',\n    'yandex.ua',\n    'yandex.by',\n    'yandex.net',\n    'yandex.com',\n    'yandex.com.tr',\n    'ya.ru',\n];\n\n/**\n * Имя куки\n */\nvar COOKIE_NAME = 'ys';\n\n/**\n * Задержка перед срабатыванием onChanged\n * Нужна для того, чтобы много раз не дергать onChanged\n */\nvar DISPATCH_ONCHANGED_DELAY_MS = 500;\n\n/**\n * Задержка перед \"слушанием\" chrome.cookies.onChanged\n * после собственной записи в куку, чтобы не войти в бесконечный цикл\n * @type {number}\n */\nvar INGONE_ONCHANGED_DELAY_MS = 100;\n\n/**\n * Добавляем обработчики события chrome.cookies.onChanged\n * Слежение за куками нужно, чтобы записать значение, если оно почему-то удалилось\n */\nexports.init = function () {\n    addOnChangedListener();\n};\n\n/**\n * Вставляет/обновляет значение в куку\n */\nexports.upsert = function (key, value) {\n    removeOnChangedListener();\n    batchUpsert(DOMAINS, key, value)\n        .then(addOnChangedListenerDelayed)\n        .catch(addOnChangedListenerDelayed);\n};\n\nexports.onChanged = Channel.create();\n\nfunction addOnChangedListener() {\n    chrome.cookies.onChanged.addListener(onChanged);\n}\n\nfunction removeOnChangedListener() {\n    chrome.cookies.onChanged.removeListener(onChanged);\n}\n\n/**\n * @param {Array<String>} domains\n * @param {String} key\n * @param {String} value\n * @returns {Promise}\n */\nfunction batchUpsert(domains, key, value) {\n    var updatedDomains = [];\n    var notUpdatedDomains = [];\n\n    return Promise.all(domains.map(function (domain) {\n        return new YsCookie(domain)\n            .upsertPart(key, value)\n            .then(result => {\n                if (result) {\n                    updatedDomains.push(domain);\n                }\n            })\n            .catch(() => {\n                notUpdatedDomains.push(domain);\n            });\n    }))\n    .then(() => logUpdateResult(logger, updatedDomains, notUpdatedDomains))\n    .catch(() => logUpdateResult(logger, updatedDomains, notUpdatedDomains));\n}\n\n/**\n * Является ли переданный домен - доменом для простановки ys\n * @param {String} domain домен (может прийти с точкой в начале)\n */\nfunction isYSDomain(domain) {\n    return DOMAINS.some(function (d) {\n        return d === domain || endsWith(domain, '.' + d);\n    });\n}\n\n/**\n * Обработчик события chrome.cookies.onChanged\n */\nfunction onChanged(changeInfo) {\n    var cookie = changeInfo.cookie;\n    if (cookie.name === COOKIE_NAME && isYSDomain(cookie.domain)) {\n        dispatchOnChangedDelayed();\n    }\n}\n\nvar addOnChangedListenerDelayed = debounce(\n    addOnChangedListener,\n    INGONE_ONCHANGED_DELAY_MS\n);\n\nvar dispatchOnChangedDelayed = debounce(function () {\n    exports.onChanged.dispatch();\n}, DISPATCH_ONCHANGED_DELAY_MS);\n\n\n\n// WEBPACK FOOTER //\n// ./modules/cookies/ys.js","/**\n * Дудлы (всплески)\n * https://wiki.yandex-team.ru/visualbookmarks/tz/customlogo/\n */\n'use strict';\n\nvar assign = require('lodash/object/assign');\nvar find = require('lodash/collection/find');\n\nvar alarms = require('../../utils/alarms');\nvar utils = require('../../utils/utils');\nvar logoSaver = require('./logo-saver');\nvar settings = require('../settings/settings');\nvar branding = require('../branding');\nvar logger = require('../../utils/logger').create('CustomLogo');\nvar experiments = require('../experiments');\n\nvar EXPERIMENT_NAME = 'customLogos';\n\nvar ALARM = {\n    name: 'customLogo',\n    periodInMinutes: 12 * 60,\n    delayInMinutes: 1\n};\nvar EXPORT_URL = 'https://export.yandex.ru/vb/custom-logo/';\nvar SETTINGS_KEY = 'customLogos';\n\n/**\n * Инициализируем модуль\n */\nexports.init = function () {\n    if (isExperimentEnabled()) {\n        alarms.register(ALARM, exports.requestInfo);\n    }\n};\n\n/**\n * Получаем информацию об актуальном всплеске\n * @returns {Object|undefined}\n */\nexports.getCurrent = function () {\n    var customLogos = settings.get(SETTINGS_KEY);\n    var logoInfo = selectActualLogo(customLogos);\n    if (!logoInfo) {\n        return;\n    }\n    var href = logoInfo.href ? branding.expandUrl(logoInfo.href + '&clid={clid7}') : branding.logo.url;\n    return assign({}, logoInfo, {\n        href: href\n    });\n};\n\n/**\n * @returns {Array}\n */\nexports.getAll = function () {\n    return settings.get(SETTINGS_KEY);\n};\n\n/**\n * Загружаем информацию о всплесках\n */\nexports.requestInfo = function () {\n    logger.info('Loading info from %s...', EXPORT_URL);\n    utils.xhr({\n        url: EXPORT_URL,\n        logError: true,\n        parse: 'json'\n    }, handleExportResponse);\n};\n\n/**\n * Обрабатываем информацию полученную от сервера\n * @param {Object} err\n * @param {Object} response\n */\nfunction handleExportResponse(err, response) {\n    if (err) {\n        logger.error(err.message);\n        return;\n    }\n    if (!response || !Array.isArray(response.data)) {\n        logger.error('Invalid custom logo data received from server');\n        return;\n    }\n    logger.info('Got response %j', response);\n    saveInfo(response.data);\n}\n\n/**\n * Сохраняем информацию о всплесках локально\n * @param {Array} logosInfo\n */\nfunction saveInfo(logosInfo) {\n    var logoSavers = logosInfo.map(function (logoInfo) {\n        return checkDates(logoInfo) ? logoSaver.save(logoInfo.url) : Promise.resolve({});\n    });\n    Promise.all(logoSavers)\n        .then(saveToSettings.bind(null, logosInfo))\n        .catch(logger.error.bind(logger));\n}\n\n/**\n * Сохраняем в информацию о всплесках в settings\n * @param {Array} logosInfo\n * @param {Array} localUrls\n */\nfunction saveToSettings(logosInfo, localUrls) {\n    settings.set(SETTINGS_KEY, logosInfo.map(function (logoInfo, index) {\n        return assign(logoInfo, {\n            localUrl: localUrls[index].url,\n            localPath: localUrls[index].path\n        });\n    }), {log: true});\n}\n\n/**\n * Выбираем подходящий всплеск\n * @param {Array} customLogos\n * @returns {Object|undefined}\n */\nfunction selectActualLogo(customLogos) {\n    return find(customLogos, function (logoInfo) {\n        return Boolean(logoInfo && logoInfo.localUrl && checkDates(logoInfo) && checkDomain(logoInfo));\n    });\n}\n\n/**\n * Проверяем попадает ли текущая дата в период показа всплеска\n * @param {Object} logoInfo\n * @returns {Boolean}\n */\nfunction checkDates(logoInfo) {\n    if (!logoInfo.from || !logoInfo.till) {\n        return false;\n    }\n    var fromDate = (new Date(logoInfo.from)).setHours(0, 0, 0, 0);\n    var tillDate = (new Date(logoInfo.till)).setHours(23, 59, 59, 999);\n    var now = Date.now();\n\n    return now >= fromDate && now <= tillDate;\n}\n\n/**\n * @param {Object} logoInfo\n */\nfunction checkDomain(logoInfo) {\n    return branding.vars.regionTld === logoInfo.domain;\n}\n\n/**\n * @returns {Boolean}\n */\nfunction isExperimentEnabled() {\n    var experimentData = experiments.getExperimentData(EXPERIMENT_NAME);\n    return Boolean(experimentData && experimentData.enabled);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/custom-logo/index.js","/**\n * Модуль сохраняющий изображение всплеска локально\n */\n'use strict';\n\nvar FileStorage = require('../../utils/file-storage');\nvar logger = require('../../utils/logger').create('CustomLogo');\n\nvar LOGO_URL = 'https://avatars.mds.yandex.net/get-serp/{url}/logo-desk';\n\nexports.CUSTOM_LOGO_DIR = 'custom-logo';\n\nvar storage = {\n    get main () {\n        return this._main || (this._main = new FileStorage(exports.CUSTOM_LOGO_DIR));\n    }\n};\n\n/**\n * Сохраняем картинку всплеска локально\n * @param {String} urlPart\n * @returns {Promise}\n */\nexports.save = function (urlPart) {\n    if (!urlPart) {\n        return Promise.reject({message: 'Custom logo img url is not defined'});\n    }\n    return new Promise(function (resolve, reject) {\n        var url = LOGO_URL.replace('{url}', urlPart);\n        logger.info('Downloading logo img %s...', url);\n        storage.main.download(url, urlPart.replace('/', '_'), function (err, data) {\n            if (err) {\n                reject(err);\n            } else {\n                resolve(data);\n            }\n        });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/custom-logo/logo-saver.js","/**\n * Объект advertisement\n * Отправляется в ините и отдельным событием\n */\n'use strict';\n\nvar messaging = require('./messaging');\nvar advertisement = require('../advertisement');\nvar settings = require('../settings/settings');\nvar atom = require('../advertisement/atom');\nvar events = require('./events');\n\nvar SETTING_ADVERTISEMENT_NAME = 'showAdvertisement';\n\n/**\n * Инициализация\n */\nexports.init = function () {\n    messaging.on(events.frontend.ADV_REFUSE, function (req) {\n        advertisement.refuseByUser(req.id, req.data);\n    });\n\n    messaging.on(events.frontend.ADV_ACCEPT, function (req) {\n        advertisement.accept(req.id, req.data);\n    });\n\n    // при клике по кнопке добавления тумбы записываем сей факт в сторадж\n    // (это нужно чтобы сразу скрыть обучалку и не показывать ее больше)\n    messaging.on(events.frontend.ADD_THUMB, function () {\n        settings.set('hasUserAddedThumb', true);\n    });\n\n    advertisement.onShowingChanged.addListener(sendAdvertisement);\n    settings.onChanged.addListener(onSettingChanged);\n};\n\n/**\n * Возвращает данные о рекламах\n */\nexports.get = function () {\n    if (settings.get(SETTING_ADVERTISEMENT_NAME)) {\n        return getBlocks();\n    } else {\n        return [];\n    }\n};\n\n/**\n * Отправляет фронтенду рекламные данные от Атома\n * @param {Number} [tabId]\n */\nexports.sendAtomAd = function (tabId) {\n    getAtom().then(function (data) {\n        messaging.send(events.backend.ADVERTISEMENT_ATOM, data, tabId);\n    });\n};\n\n/**\n * @returns {Boolean}\n */\nexports.isAtomAllowed = function () {\n    if (settings.get(SETTING_ADVERTISEMENT_NAME)) {\n        return advertisement.getShowingBlocksForGroup('tutorials').length === 0;\n    }\n    return false;\n};\n\n/**\n * Отправляет данные о рекламе во фронтенд\n */\nfunction sendAdvertisement() {\n    messaging.send(events.backend.ADVERTISEMENT, exports.get());\n}\n\nfunction getBlocks() {\n    var showingBlocks = advertisement.getShowingBlocks();\n    return showingBlocks.map(function (block) {\n        return {\n            id: block.getId(),\n            data: block.getData(),\n        };\n    });\n}\n\nfunction onSettingChanged(info) {\n    info = info || {};\n    if (info.key === SETTING_ADVERTISEMENT_NAME) {\n        sendAdvertisement();\n        exports.sendAtomAd();\n    }\n}\n\n/**\n * Возвращает данные о рекламе от Aтома\n * @returns {Promise}\n */\nfunction getAtom() {\n    if (exports.isAtomAllowed()) {\n        return atom.getData();\n    } else {\n        return Promise.resolve([]);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/advertisement.js","/**\n * Модуль для форматирования данных в вид, понятный фронтенду\n */\n'use strict';\n\nexports.toJSON = function (usersList) {\n    return usersList && usersList.hasAuth\n        ? usersList.users\n            .sort(usersSorter.bind(null, usersList))\n            .map(convertUserToFrontend.bind(null, usersList))\n        : [];\n};\n\n/**\n * @see https://st.yandex-team.ru/VBCHROME-579\n *\n * @param {UsersList} usersList\n * @param {User} userA\n * @param {User} userB\n * @returns {number|*}\n */\nfunction usersSorter(usersList, userA, userB) {\n    // reverse!\n    return (usersList.isDefault(userB) - usersList.isDefault(userA))\n        || (userB.hasAuth - userA.hasAuth)\n        || (userB.lastAuthTime - userA.lastAuthTime);\n}\n\nfunction getUserStatus(usersList, user) {\n    return usersList.isDefault(user)\n        ? 2\n        : user.hasAuth\n            ? 1\n            : 0;\n}\n\nfunction convertUserToFrontend(usersList, user) {\n    return {\n        id: user.uid,\n        displayName: user.displayName,\n        state: getUserStatus(usersList, user),\n        avatarURL: user.avatarUrl,\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/auth-formatter.js","/**\n * Отправка во фронтенд данных о пользователях\n */\n'use strict';\n\nvar messaging = require('./messaging');\nvar auth = require('../auth');\nvar yauth = require('../auth/yauth');\nvar formatter = require('./auth-formatter');\nvar events = require('./events');\n\n/**\n * Init\n */\nexports.init = function () {\n    messaging.on(events.frontend.AUTH_LOGIN, function (req, sender) {\n        auth.login(sender.tab.id, req.userId);\n    });\n\n    messaging.on(events.frontend.AUTH_LOGOUT, function (req, sender) {\n        auth.logoutDefaultUser(sender.tab.id);\n    });\n\n    messaging.on(events.frontend.AUTH_NAVIGATE, function (req, sender) {\n        auth.navigate(sender.tab.id, req.type);\n    });\n\n    auth.onUsersSave.addListener(sendAuth);\n    auth.onPostRequestNeeded.addListener(sendPostRequest);\n};\n\n/**\n * Returns frontend users object\n */\nexports.getAuth = function () {\n    return {\n        users: formatter.toJSON(auth.getUsersList())\n    };\n};\n\nexports.getYandexUid = function () {\n    return yauth.cookies.yandexUid;\n};\n\nexports.getYandexLogin = function () {\n    return yauth.cookies.yandexLogin;\n};\n\nfunction sendAuth() {\n    messaging.send(events.backend.AUTH, exports.getAuth());\n}\n\nfunction sendPostRequest(url, postData, tabId, iframe) {\n    messaging.send(events.backend.POST, {\n        iframe: iframe,\n        url: url,\n        params: postData,\n    }, tabId);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/auth.js","/**\n * Проверка успешности загрузки фронтенда в начале работы браузера.\n *\n * Необходимо в Firefox для двух вещей:\n *\n * 1. Не всегда адрес вида \"moz-extension://{uuid}/layout/newtab.html\"\n * успевает загрузиться после восстановления сессии браузера, так как\n * браузер может восстановить табы или открыть домашнюю страницу\n * ещё до того как расширение заработает. В этом случае необходимо\n * обновить страницу.\n *\n * 2. Перезагрузить старый адрес страницы ВЗ, который мог остаться\n * в браузере по тем или иным причинам.\n *\n * 3. После синхронизации между разными устройствами адрес\n * может оказаться из другого расширения (разные uuid\n * в \"moz-extension://{uuid}/layout/newtab.html\").\n */\n'use strict';\n\nconst browserInfo = require('../../utils/browser-info');\nconst {visbookmarksUrl} = require('../../platform/about');\nconst visbookmarksOldUrl = 'chrome://yandex-vb/content/fastdial/layout/newtab.html';\nconst VISBOOKMARKS_URL_RE = /^moz\\-extension:\\/\\/[^/]+\\/layout\\/newtab\\.html$/;\n\n/**\n * Init\n */\nexports.init = function () {\n    if (!browserInfo.isFirefox()) {\n        return;\n    }\n\n    setTimeout(reloadTabsIfNeeded, 0);\n};\n\nfunction reloadTabsIfNeeded() {\n    chrome.windows.getAll({populate: true}, windows => {\n        for (let windowItem of windows) {\n            for (let tab of windowItem.tabs) {\n                reloadTabIfNeeded(tab);\n            }\n        }\n    });\n}\n\nfunction reloadTabIfNeeded(tab) {\n    if (isBrokenTab(tab)) {\n        chrome.tabs.update(tab.id, {url: visbookmarksUrl});\n    }\n}\n\nfunction isBrokenTab(tab) {\n    const {url} = tab;\n\n    if (!url) {\n        return false;\n    }\n\n    if (url === visbookmarksOldUrl) {\n        return true;\n    }\n\n    if (url === visbookmarksUrl) {\n        // ВЗ установлены домашней страницей. Из-за того, что браузер открыл страницу раньше,\n        // чем расширение начало работать, таб в статусе \"загружено\" и активен, но нет иконки.\n        // Скорее всего это актуально только для миграционной версии 2.32.х и в будущем при\n        // совпадении адреса с адресом ВЗ здесь можно будет всегда возвращать `false`.\n        if (!tab.discarded && tab.status === 'complete' && tab.active && !tab.favIconUrl) {\n            return true;\n        }\n    } else if (VISBOOKMARKS_URL_RE.test(url)) {\n        return true;\n    }\n\n    return false;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/broken-tabs-reloader.js","/**\n * Отправка кликерной статистики из фронтенда через бэкенд\n */\n'use strict';\n\nvar messaging = require('./messaging');\nvar clicker = require('../statistics/clicker');\nvar events = require('./events');\nvar tabsWatcher = require('../../utils/tabs-watcher');\n\nexports.init = function () {\n    messaging.on(events.frontend.SEND_FRONTEND_STAT, function (req, {tab}) {\n        tabsWatcher.waitForComplete(tab.id, function () {\n            clicker.send(req.options);\n        });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/clicker.js","/**\n * Monitors tabs change events in browser\n * and emits events with full list of redirect urls and real-referer of tab\n */\n\n'use strict';\n\nvar values = require('lodash/object/values');\nvar utils = require('./utils');\nvar channel = require('./channel');\nvar tabsModule = require('./tabs');\nvar logger = require('./logger').create('TabsWatcher');\n\nvar platformAbout;\n\n// waiting time for js redirects\nvar JS_REDIRECTS_WAIT_MS = 1500;\n// when tab is incative js execution can take much longer time\n// (important for chrome)\nvar JS_REDIRECTS_WAIT_INACTIVE_MS = 3000;\n\n// хэш текущих табов\nvar tabs = {};\n\n// хэш обработчиков ожидающих загрузки табов\nvar waitForCompleteHandlers = new Map();\n\nvar watcher = module.exports = {\n    COMPLETE_STATUS: 'complete',\n    LOADING_STATUS: 'loading',\n\n    initialized: false,\n\n    /**\n     * Adds listeners to tabs events, creates channels\n     * @param {Object} aboutModule\n     * @param {String} aboutModule.visbookmarksUrl\n     */\n    init: function (aboutModule) {\n        if (!this.initialized) {\n            platformAbout = aboutModule;\n            addListeners();\n            // init on start: iterate all browser windows and collect tabs\n            collectExistingTabsData();\n            this.initialized = true;\n        }\n    },\n\n    stop: function () {\n        removeListeners();\n    },\n\n    log: utils.noop,\n\n    getTabInfo: function (tabId) {\n        return tabId ? tabs[tabId] : tabs;\n    },\n\n    /**\n     * @param {Number} tabId\n     * @param {Function} callback\n     * @param {*} [context]\n     */\n    waitForComplete: function (tabId, callback, context) {\n        var tabInfo = this.getTabInfo(tabId);\n        if (tabInfo && tabInfo.status === 'complete') {\n            callback.apply(context);\n        } else {\n            if (!waitForCompleteHandlers.has(tabId)) {\n                waitForCompleteHandlers.set(tabId, []);\n            }\n            waitForCompleteHandlers.get(tabId).push({callback, context});\n        }\n    },\n\n    /**\n     * Triggers after all redirects\n     * Passed params: tabId, tabData\n     */\n    onComplete: channel.create(),\n\n    /**\n     * Trigerrs after tab has been closed\n     * Passed params: tabId, tabData, removeInfo\n     * Isn't emitted for loading tabs\n     */\n    onClosed: channel.create(),\n\n    /**\n     * Triggers after tab with completed status has been activated\n     * Passed params: tabId, tabData, activeInfo\n     * Isn't emitted for loading tabs\n     */\n    onActivated: channel.create(),\n\n    /**\n     * tabs.onUpdate event\n     * Passed params: tabId, tabData, changeInfo\n     */\n    onUpdate: channel.create(),\n\n    /**\n     * webNavigation.onBeforeNavigate event\n     * Passed params: details\n     */\n    onBeforeNavigate: channel.create()\n};\n\nfunction initEmptyTabObject() {\n    return {\n        urls: [],\n        possibleReferrers: [],\n        uuid: utils.misc.guid(),\n        navigationId: generateNavigationId()\n    };\n}\n\nfunction generateNavigationId() {\n    return Date.now() + Math.random();\n}\n\nfunction collectExistingTabsData() {\n    tabsModule.getOpen(function (error, tabList) {\n        if (error) {\n            logger.error('Can not collect existing tabs data: %j', error);\n        } else {\n            fillTabMapFromExistingTabs(tabList);\n        }\n    });\n}\n\nfunction fillTabMapFromExistingTabs(tabList) {\n    tabList.forEach(function (tab) {\n        if (!tab.incognito) {\n            var mytab = tabs[tab.id] = initEmptyTabObject();\n            mytab.urls = [tab.url];\n            mytab.status = watcher.COMPLETE_STATUS;\n            mytab.windowId = tab.windowId;\n            mytab.title = tab.title;\n            mytab.favIconUrl = tab.favIconUrl;\n        }\n    });\n}\n\nfunction isBadReferrer(referrer) {\n    return referrer === platformAbout.visbookmarksUrl;\n}\n\n// TODO real-referrer:\n// All code for real-referrer is chrome related code,\n// it works only with flat/referrer-inclode content-script.\n// We can emulate this messages in ff and ie,\n// or remove real-refferer code from this module\n// function onReferrerMessage(message, sender/*, sendResponse*/) {\n//    if (message.topic === 'real-referrer' && message.url && sender.tab) {\n//        var tabId = sender.tab.id;\n//        tabs[tabId] = tabs[tabId] || initEmptyTabObject();\n//\n//        // Add url to possibleReferrers stack.\n//        // Later we can match top url from this stack\n//        // with top url from tab[id].urls stack.\n//        tabs[tabId].possibleReferrers.push(message.url);\n//    }\n// }\n\nfunction onBeforeNavigation(details) {\n    if (details.frameId === 0) {\n        handleLoadingState(details.tabId, {url: details.url});\n    }\n    watcher.onBeforeNavigate.dispatch(details);\n}\n\nfunction onUpdated(tabId, updateInfo, tabData) {\n    if (tabData.incognito) {\n        return;\n    }\n\n    if (updateInfo.status === watcher.LOADING_STATUS) {\n        handleLoadingState(tabId, tabData);\n    } else if (updateInfo.status === watcher.COMPLETE_STATUS) {\n        handleCompletedState(tabId, tabData);\n    }\n\n    var tab = tabs[tabId];\n\n    if (tab) {\n        tab.title = tabData.title;\n        tab.favIconUrl = tabData.favIconUrl;\n    }\n\n    watcher.onUpdate.dispatch(tabId, tab, updateInfo);\n}\n\nfunction handleLoadingState(tabId, tabData) {\n    tabs[tabId] = tabs[tabId] || initEmptyTabObject();\n    var url = tabData.url;\n    if (!tabs[tabId].status) {\n        // new navigation in new tab\n        tabs[tabId].urls = [url];\n        tabs[tabId].navigationId = generateNavigationId();\n        calcRealRefForNewTab(tabId, tabData);\n    } else if (tabs[tabId].status === watcher.COMPLETE_STATUS) {\n        // new navigation in existing tab\n        calcRealRefForExistingTab(tabId, tabData);\n        tabs[tabId].urls = [url];\n        tabs[tabId].navigationId = generateNavigationId();\n        tabs[tabId].possibleReferrers = [];\n        tabs[tabId].navInExistingTab = true;\n    } else if (tabs[tabId].urls.indexOf(url) === -1) {\n        // redirect: add url to urls array\n        tabs[tabId].urls.push(url);\n    }\n\n    tabs[tabId].status = watcher.LOADING_STATUS;\n\n    // clear timeout if it is runnig (js redirect after complete)\n    clearTimeout(tabs[tabId].timeout);\n    delete tabs[tabId].timeout;\n}\n\nfunction calcRealRefForNewTab(tabId, tabData) {\n    var opener = tabs[tabData.openerTabId];\n    if (opener) {\n        var stackRef = opener.urls[opener.urls.length - 1];\n        // Илюха, вспоминай зачем мы собираем possibleReferrers )\n        var possibleRef = opener.possibleReferrers[opener.possibleReferrers.length - 1];\n        if (stackRef === possibleRef) {\n            // Delete last (already used) referrer from stack\n            // to avoid bad real-referrers for navigates from opener's tab.\n            // @see CHROME-1532\n            // Do not delete all stack beacause other navigations might use it\n            opener.possibleReferrers.pop();\n            tabs[tabId].realRef = isBadReferrer(stackRef) ? null : stackRef;\n        } else {\n            tabs[tabId].realRef = null;\n        }\n    }\n}\n\nfunction calcRealRefForExistingTab(tabId) {\n    var stackRef = tabs[tabId].urls.pop();\n    var possibleRef = tabs[tabId].possibleReferrers.pop();\n\n    if (stackRef === possibleRef && !isBadReferrer(stackRef)) {\n        tabs[tabId].realRef = stackRef;\n    } else {\n        tabs[tabId].realRef = null;\n    }\n}\n\nfunction handleCompletedState(tabId, tabData) {\n    tabs[tabId] = tabs[tabId] || initEmptyTabObject();\n\n    if (tabs[tabId].urls.indexOf(tabData.url) === -1) {\n        tabs[tabId].urls.push(tabData.url);\n    }\n\n    // store some data about tab\n    if (isNewWindow(tabData.windowId)) {\n        tabs[tabId].navInNewWindow = true;\n    } else {\n        delete tabs[tabId].navInNewWindow;\n    }\n    tabs[tabId].windowId = tabData.windowId;\n\n    // keep status `loading` during js redirects time\n    tabs[tabId].status = watcher.LOADING_STATUS;\n\n    clearTimeout(tabs[tabId].timeout);\n    tabs[tabId].timeout = setTimeout(\n        afterRedirectTimeout.bind(null, tabId),\n        tabData.active ? JS_REDIRECTS_WAIT_MS : JS_REDIRECTS_WAIT_INACTIVE_MS\n    );\n}\n\nfunction afterRedirectTimeout(tabId) {\n    // tab may be already closed\n    if (tabs[tabId]) {\n        delete tabs[tabId].timeout;\n        tabs[tabId].status = watcher.COMPLETE_STATUS;\n        // TODO check that we really need to clear realReferrers here\n        tabs[tabId].possibleReferrers = [];\n        watcher.onComplete.dispatch(tabId, tabs[tabId]);\n        triggerWaitForCompleteHandlers(tabId);\n    }\n}\n\nfunction onRemoved(tabId, removeInfo) {\n    if (!tabs[tabId]) {\n        return;\n    }\n\n    watcher.onClosed.dispatch(tabId, tabs[tabId], removeInfo);\n\n    delete tabs[tabId];\n}\n\nfunction onActivated(activeInfo) {\n    var tabId = activeInfo.tabId;\n    if (!tabs[tabId]) {\n        return;\n    }\n    if (tabs[tabId].status === watcher.COMPLETE_STATUS) {\n        watcher.onActivated.dispatch(tabId, tabs[tabId], activeInfo);\n    }\n}\n\nfunction onReplaced(addedTabId, removedTabId) {\n    tabs[addedTabId] = tabs[removedTabId];\n    delete tabs[removedTabId];\n}\n\n/**\n * Adds or removes listeners to needed channels\n * @param {String} actionName - \"addListener\" | \"removeListener\"\n */\nfunction performActionForChannels(actionName) {\n    chrome.tabs.onUpdated[actionName](onUpdated);\n    chrome.tabs.onRemoved[actionName](onRemoved);\n    chrome.tabs.onReplaced[actionName](onReplaced);\n    chrome.tabs.onActivated[actionName](onActivated);\n    // We use webNavigation for Chrome.\n    // Because chrome.tabs api can't give use enough information\n    // for catching redirects, especially http -> https\n    // In IE webNavigation isn't exist.\n    if (chrome.webNavigation && chrome.webNavigation.onBeforeNavigate) {\n        chrome.webNavigation.onBeforeNavigate[actionName](onBeforeNavigation);\n    }\n    // todo: move to platform\n    // chrome.runtime.onMessage[actionName](onReferrerMessage);\n}\n\n/**\n * Checks if there is a tab with particular windowId\n * @param {Number} windowId\n * @returns {Boolean}\n */\nfunction isNewWindow(windowId) {\n    return values(tabs).every(tab => tab.windowId !== windowId);\n}\n\n/**\n * @param {Number} tabId\n */\nfunction triggerWaitForCompleteHandlers(tabId) {\n    var handlers = waitForCompleteHandlers.get(tabId);\n    if (Array.isArray(handlers)) {\n        handlers.forEach(handler => handler.callback.apply(handler.context));\n    }\n    waitForCompleteHandlers.delete(tabId);\n}\n\nvar addListeners = performActionForChannels.bind(null, 'addListener');\nvar removeListeners = performActionForChannels.bind(null, 'removeListener');\n\n\n\n// WEBPACK FOOTER //\n// ./utils/tabs-watcher.js","'use strict';\n\nvar messaging = require('./messaging');\nvar logger = require('../../utils/logger').create('frontend closed-tabs');\nvar closedTabs = require('../closed-tabs');\nvar debounce = require('lodash/function/debounce');\nvar events = require('./events');\nvar tabsUtils = require('../../utils/tabs');\n\nvar TABS_UPDATE_DEBOUNCE_TIME = 100;\n\nexports.init = function () {\n    messaging.on(events.frontend.REQUEST_CLOSED_PAGES_LIST, handleClosedTabsRequest);\n    messaging.on(events.frontend.RESTORE_TAB, handleRestoreTabRequest);\n    var onUpdated = debounce(handleTabsUpdatedEvent, TABS_UPDATE_DEBOUNCE_TIME);\n    closedTabs.onUpdated.addListener(onUpdated);\n};\n\nexports.sendUpdate = function () {\n    tabsUtils.getFrontendTabs()\n        .then(tabsGroups => {\n            tabsGroups.forEach((tabs, windowId) => {\n                var hasClosed = closedTabs.hasClosed(windowId);\n                sendUpdateForTabs(tabs, hasClosed);\n            });\n        });\n};\n\nfunction handleTabsUpdatedEvent() {\n    exports.sendUpdate();\n}\n\n/**\n * @param {Array<Object>} tabs\n * @param {Boolean} hasClosed\n */\nfunction sendUpdateForTabs(tabs, hasClosed) {\n    tabs.forEach(function (tab) {\n        messaging.send(\n            events.backend.CLOSED_TABS_LIST_CHANGED,\n            {empty: !hasClosed},\n            tab.id\n        );\n    });\n}\n\n/**\n * @param {Object} req\n * @param {Object} sender\n * @param {Function} sendResponse\n */\nfunction handleClosedTabsRequest(req, sender, sendResponse) {\n    if (sender && sender.tab) {\n        logger.info('Request for closed pages.');\n        logger.info('Tab id: %s, window id: %s', sender.tab.id, sender.tab.windowId);\n        sendResponse(closedTabs.getClosedTabs(sender.tab.windowId));\n    }\n}\n\n/**\n * @param {Object} req\n */\nfunction handleRestoreTabRequest(req) {\n    if (req && req.id) {\n        logger.info('Request to restore tab %s', req.id);\n        closedTabs.restoreItem(req.id);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/closed-tabs.js","'use strict';\n\nvar customLogo = require('../custom-logo');\n\n/**\n * @returns {Object|undefined}\n */\nexports.getCurrent = function () {\n    var current = customLogo.getCurrent();\n    if (current) {\n        return {\n            title: current.title,\n            href: current.href,\n            imgUrl: current.localUrl\n        };\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/custom-logo.js","/**\n * Основной модуль прослойки для фронтенда.\n * Содежит методы для инициализации общения с фронтэндом\n * и для отправки 'init' сообщения.\n */\n\n'use strict';\n\nexports.init = function () {\n    require('./logger').init();\n    require('./thumbs').init();\n    require('./thumb-suggest').init();\n    require('./settings').init();\n    require('./settings-slider').init();\n    require('./backgrounds').init();\n    require('./panels').init();\n    require('./url-suggest').init();\n    require('./navigate-url').init();\n    require('./auth').init();\n    require('./clicker').init();\n    require('./bookmarks').init();\n    require('./advertisement').init();\n    require('./closed-tabs').init();\n    require('./debug-panel').init();\n    require('./init-sender').init();\n    require('./scroll-state').init();\n    require('./search-suggest').init();\n    require('./informers').init();\n    require('./voice').init();\n    require('./pages-events').init();\n    require('./broken-tabs-reloader').init();\n    require('./zen').init();\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/index.js","/**\n * Модуль, слушающий сообщение 'logFrontendData' и пробрасывающий его данные в логгер.\n */\n'use strict';\n\nvar logger = require('../../utils/logger').create('Frontend Logger');\nvar messaging = require('./messaging');\nvar events = require('./events');\n\nmodule.exports.init = function () {\n    messaging.on(events.frontend.LOG_FRONTEND_DATA, function (req) {\n        if (typeof logger[req.level] === 'function') {\n            logger[req.level](req.msg);\n        } else {\n            logger.error('Unknown logger level %s', req.level);\n        }\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/logger.js","/**\n * Модуль, ответственный за прослушку событий от фронтенда, связанных с тумбами\n */\n'use strict';\n\nvar messaging = require('./messaging');\nvar saveThumb = require('../thumbs/save-thumb');\nvar removeThumb = require('../thumbs/remove-thumb');\nvar moveThumb = require('../thumbs/move-thumb');\nvar pinner = require('../thumbs/pin-thumb');\nvar collection = require('../thumbs/collection');\nvar debounce = require('lodash/function/debounce');\nvar thumbSender = require('./thumb-sender');\nvar Thumb = require('../thumbs/thumb');\nvar events = require('./events');\n\nvar THUMB_CHANGED_DELAY_MS = 200;\n\nexports.init = function () {\n    var sendAllDelayed = debounce(thumbSender.sendAll, THUMB_CHANGED_DELAY_MS);\n    collection.onChanged.addListener(sendAllDelayed);\n\n    // In case of error in thumb's creation process\n    // send current grid to frontend to reset all bad changes.\n    collection.onUpdateError.addListener(thumbSender.sendAll);\n\n    messaging.on(events.frontend.REQUEST_THUMB_DATA, requestThumbData);\n\n    messaging.on(events.frontend.REMOVE_THUMB, function (req) {\n        removeThumb(req.index);\n    });\n\n    messaging.on(events.frontend.SAVE_THUMB, function (req) {\n        saveThumb(req.index, req.data);\n    });\n\n    messaging.on(events.frontend.PIN_THUMB, function (req) {\n        pinner.pin(req.index);\n    });\n\n    messaging.on(events.frontend.UNPIN_THUMB, function (req) {\n        pinner.unpin(req.index);\n    });\n\n    messaging.on(events.frontend.SWAP_THUMB, function (req) {\n        moveThumb(req.oldIndex, req.newIndex);\n    });\n};\n\nfunction requestThumbData(req, sender) {\n    var thumb = new Thumb(req.url);\n    thumb.update(false, function () {\n        thumbSender.sendThumbData(thumb, sender.tab.id);\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/thumbs.js","/**\n * Модуль, ответственный за сохранение тумбы в коллекцию\n */\n\n'use strict';\n\nvar logger = require('../../utils/logger').create('ThumbsUI');\nvar urlUtils = require('../../utils/url');\nvar Thumb = require('./thumb');\nvar collection = require('./collection');\nvar localBlackList = require('../blacklist/local');\n\n/**\n * Формируем урл добавляемой тумбы\n *\n * @param {String} urlString\n * @returns {URI}\n */\nfunction constructUrl(urlString) {\n    var normalUrl = urlUtils.getNormalUrl(urlString);\n    normalUrl = urlUtils.deleteTechnicalParam(normalUrl);\n    return urlUtils.createURI(normalUrl);\n}\n\n/**\n * Вставляем тумбу в коллекцию и чистим блэклист\n *\n * @param {Integer} index позиция тумбы\n * @param {Object} data с полями:\n * @param {String} data.url URL-адрес тумбы\n * @param {URI} data.uri\n * @param {String?} data.title тайтл\n */\nfunction processNewThumb(index, data) {\n    var thumb = createThumb(index, data);\n    localBlackList.deleteOne(urlUtils.getNormalDomain(thumb.url));\n    collection.setItem(index, thumb);\n    thumb.update();\n}\n\n/**\n * Формируем тумбы для вставки\n *\n * @param {Integer} index позиция тумбы\n * @param {Object} data с полями:\n * @param {String} data.url URL-адрес тумбы\n * @param {URI} data.uri\n * @param {String?} data.title тайтл\n * @returns {Thumb}\n */\nfunction createThumb(index, data) {\n    var existingThumb = collection.getItem(index);\n    var thumb = existingThumb || new Thumb();\n    thumb.url = data.uri.href();\n    // https://st.yandex-team.ru/VB-4742#1441801048000\n    if (data.title || (existingThumb && existingThumb.title)) {\n        thumb.title = data.title;\n    }\n    thumb.pinned = 1;\n    return thumb;\n}\n\n/**\n * Редактирование и добавление тумбы. Тумба сразу же становится запиненной\n *\n * @param {Integer} index позиция тумбы\n * @param {Object} data с полями:\n * @param {String} data.url URL-адрес тумбы\n * @param {String?} data.title тайтл\n */\nmodule.exports = function (index, data) {\n    logger.info('Saving thumb %i, %j', index, data);\n    data.uri = constructUrl(data.url);\n    if (isUriAcceptable(data.uri)) {\n        processNewThumb(index, data);\n    } else {\n        // Обновляем фронтенд с текущей позицией,\n        // чтобы откатить изменения\n        collection.onUpdateError.dispatch(index);\n    }\n};\n\n/**\n * @param {URI} [uri]\n * @returns {Boolean}\n */\nfunction isUriAcceptable(uri) {\n    return uri && (uri.is('url') || uri.is('urn'));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/thumbs/save-thumb.js","/**\n * Модуль, ответственный за удаление тумб\n */\n\n'use strict';\n\nvar collection = require('./collection');\nvar logger = require('../../utils/logger').create('RemoveThumb');\nvar blackList = require('../blacklist/local');\nvar urlUtils = require('../../utils/url');\n\nmodule.exports = function (index) {\n    var thumb = collection.getItem(index);\n    if (thumb) {\n        logger.info('Remove %s', thumb.url);\n        removeThumb(thumb, index);\n    }\n};\n\nfunction removeThumb(thumb, index) {\n    collection.removeItem(index);\n    var domain = urlUtils.getNormalDomain(thumb.url);\n    if (!collection.hasDomain(domain)) {\n        blackList.upsertOne(domain);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/thumbs/remove-thumb.js","/**\n * Модуль, ответственный за перемещение тумб, по заказу фронтенда\n */\n\n'use strict';\n\nvar collection = require('./collection');\n\nmodule.exports = function (oldIndex, newIndex) {\n    var thumb = collection.getItem(oldIndex);\n    if (thumb && oldIndex !== newIndex) {\n        thumb.pinned = true;\n        collection\n            .removeItem(oldIndex)\n            .insertItem(newIndex, thumb);\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/thumbs/move-thumb.js","/**\n * Модуль, ответственный за пин/анпин тумб\n */\n\n'use strict';\n\nvar collection = require('./collection');\nvar logger = require('../../utils/logger').create('ThumbPinner');\n\nexports.pin = function (index) {\n    doPinAction(true, index);\n};\n\nexports.unpin = function (index) {\n    doPinAction(false, index);\n};\n\nfunction doPinAction(pinFlag, index) {\n    var thumb = collection.getItem(index);\n    if (thumb && Boolean(thumb.pinned) !== pinFlag) {\n        logger.info(\n            'Thumb %i %s; set pinned state: %s',\n            index, thumb.url, pinFlag\n        );\n        thumb.pinned = pinFlag;\n    } else {\n        logWarning(thumb);\n    }\n}\n\nfunction logWarning(thumb) {\n    if (thumb) {\n        logger.warn(\n            'Incorrect pin attempt, %s %s',\n            'thumb already in this pinned state:',\n            thumb.pinned\n        );\n    } else {\n        logger.warn(\n            'Incorrect pin attempt, %s',\n            'thumb does not exist'\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/thumbs/pin-thumb.js","/**\n * Слушает и отвечает на сообщения от фронтенда, связанные с саджестом тумб\n */\n\n'use strict';\n\nvar messaging = require('./messaging');\nvar thumbSuggest = require('../thumb-suggest/suggest');\nvar thumbSender = require('./thumb-sender');\nvar events = require('./events');\n\nexports.init = function () {\n    messaging.on(events.frontend.REQUEST_LAST_VISITED, function (req, sender, sendResponse) {\n        thumbSuggest.getLastVisited(req.offset, function (thumbs) {\n            sendResponse(formatThumbs(thumbs));\n        });\n        return true;\n    });\n\n    messaging.on(events.frontend.REQUEST_POPULAR_SITES, function (req, sender, sendResponse) {\n        thumbSuggest.getPopular(req.offset, function (thumbs) {\n            sendResponse(formatThumbs(thumbs));\n        });\n        return true;\n    });\n\n    thumbSuggest.onThumbUpdated.addListener(onSuggestThumbUpdated);\n};\n\nfunction formatThumbs(thumbs) {\n    return thumbs.map(thumbSender.formatThumbForFrontend);\n}\n\nfunction onSuggestThumbUpdated(thumb) {\n    thumbSender.sendThumbData(thumb);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/thumb-suggest.js","/**\n * Содержит методы для получения данных саджеста тумб\n */\n\n'use strict';\n\nvar asyncLib = require('async');\nvar collection = require('../thumbs/collection');\nvar bookmarks = require('../bookmarks/bookmarks');\nvar tabs = require('../../utils/tabs');\nvar urlUtils = require('../../utils/url');\nvar createSuggestResults = require('./suggest-results');\nvar topHistory = require('../pickup/top-history');\nvar sorter = require('../pickup/sorter');\nvar logger = require('../../utils/logger').create('ThumbSuggest');\nvar pickupStorage = require('../pickup/candidates-storage');\nvar find = require('lodash/collection/find');\nvar channel = require('../../utils/channel');\nvar BOOKMARK_BOOST = 6;\n\nexports.getLastVisited = function (offset, callback) {\n    asyncLib.parallel({\n        visibleThumbDomains: getVisibleThumbDomains,\n        tabs: getOpenTabs,\n        history: getHistory\n    }, function (_error, data) {\n        data.thumbs = (data.tabs || []).concat(data.history);\n        prepareSuggestThumbs(data, offset, callback);\n    });\n};\n\nexports.getPopular = function (offset, callback) {\n    asyncLib.parallel({\n        visibleThumbDomains: getVisibleThumbDomains,\n        bookmarks: getBookmarks,\n        pickupCandidates: getPickupCandidates\n    }, function (_error, data) {\n        data.thumbs = createPopularThumbList(data.bookmarks, data.pickupCandidates);\n        prepareSuggestThumbs(data, offset, callback);\n    });\n};\n\nexports.onThumbUpdated = channel.create();\n\nfunction prepareSuggestThumbs(data, offset, callback) {\n    createSuggestResults(data, offset, function (thumbs) {\n        thumbs.forEach(updateThumb);\n        callback(thumbs);\n    });\n}\n\nfunction updateThumb(thumb) {\n    if (!thumb.onChanged.hasListener(onThumbUpdated)) {\n        thumb.onChanged.addListener(onThumbUpdated);\n    }\n    thumb.update();\n}\n\nfunction onThumbUpdated(thumb) {\n    exports.onThumbUpdated.dispatch(thumb);\n}\n\nfunction getOpenTabs(callback) {\n    tabs.getOpen(function (error, tabs) {\n        if (error) {\n            logger.info('getOpenTabs error: %j', error);\n        }\n        callback(null, tabs);\n    });\n}\n\nfunction getBookmarks(callback) {\n    bookmarks.requestAll(function (error, results) {\n        if (error) {\n            logger.info('getBookmarks error: %j', error);\n        }\n        callback(null, results);\n    });\n}\n\nfunction getVisibleThumbDomains(callback) {\n    var domains = collection.items.map(function (thumb) {\n        return urlUtils.getNormalDomain(thumb.url);\n    });\n    callback(null, domains);\n}\n\nfunction getHistory(callback) {\n    topHistory({minVisits: 2}, function (history) {\n        callback(null, sortHistoryList(history));\n    });\n}\n\nfunction sortHistoryList(list) {\n    return list.sort(function (a, b) {\n        return b.lastVisitTime - a.lastVisitTime;\n    });\n}\n\nfunction getPickupCandidates(callback) {\n    pickupStorage.get(function (error, result) {\n        if (error) {\n            logger.info('pickupStorage error: %j', error);\n        }\n        callback(null, result);\n    });\n}\n\nfunction createPopularThumbList(bookmarks, pickupCandidates) {\n    var thumbs = addBookmarksToThumbList(pickupCandidates, bookmarks);\n    return thumbs.sort(sorter);\n}\n\nfunction addBookmarksToThumbList(list, bookmarks) {\n    var bookmarksToAdd = [];\n    for (var i = 0; i < bookmarks.length; i++) {\n        var bookmarkThumbData = createThumbDataFromBookmark(bookmarks[i]);\n        var thumbData = find(list, 'url', bookmarkThumbData.url);\n        if (thumbData) {\n            thumbData.visits = (thumbData.visits || 0) + BOOKMARK_BOOST;\n        } else {\n            bookmarksToAdd.push(bookmarkThumbData);\n        }\n    }\n    return list.concat(bookmarksToAdd);\n}\n\nfunction createThumbDataFromBookmark(bookmark) {\n    return {\n        url: bookmark.url,\n        title: bookmark.title,\n        visits: BOOKMARK_BOOST\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/thumb-suggest/suggest.js","/**\n * Создает данные о саджесте тумб, понятные фронтенду\n */\n\n'use strict';\n\nvar urlUtils = require('../../utils/url');\nvar Thumb = require('../thumbs/thumb');\nvar blacklist = require('../blacklist/blacklist');\n\nvar MAX_RESULT_COUNT = 40;\nvar PAGE_SIZE = 11;\n\n/**\n * Creates result object with suggest data\n * @param {Object} data\n * @param {Object} data.blacklistChecker\n * @param {Array} data.visibleThumbDomains\n * @param {Object} data.thumbs\n * @param {?Number} offset\n */\nmodule.exports = function (data, offset, callback) {\n    blacklist.createChecker(function (blacklistChecker) {\n        var thumbs = data.thumbs;\n        thumbs = filterThumbList(thumbs, data.visibleThumbDomains, blacklistChecker);\n        thumbs = paginateList(thumbs, offset);\n        thumbs = thumbs.map(Thumb.fromJSON);\n        callback(thumbs);\n    });\n};\n\nfunction filterThumbList(thumbList, visibleThumbDomains, blacklistChecker) {\n    var result = [];\n    var domainsToExclude = visibleThumbDomains;\n    for (var i = 0; i < thumbList.length; i++) {\n        if (result.length >= MAX_RESULT_COUNT) {\n            break;\n        }\n        var thumbData = thumbList[i];\n        var thumbDomain = urlUtils.getNormalDomain(thumbData.url);\n        if (isThumbSuitable(thumbData, thumbDomain, domainsToExclude, blacklistChecker)) {\n            domainsToExclude.push(thumbDomain);\n            result.push(thumbData);\n        }\n    }\n    return result;\n}\n\nfunction isThumbSuitable(thumbData, thumbDomain, domainsToExclude, blacklistChecker) {\n    return domainsToExclude.indexOf(thumbDomain) === -1\n        && !blacklistChecker.contains(thumbData.url, thumbDomain)\n        && urlUtils.isRemote(thumbData.url);\n}\n\nfunction paginateList(list, offset) {\n    offset = offset || 0;\n    return list.splice(offset, PAGE_SIZE);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/thumb-suggest/suggest-results.js","/**\n * Открываем системные панели: закладки, загрузки, история\n */\n\n'use strict';\n\nvar messaging = require('./messaging');\nvar platformBrowser = require('../../platform/browser');\nvar logger = require('../../utils/logger').create('Panels');\nvar events = require('./events');\n\nmodule.exports = {\n    init: function () {\n        messaging.on(events.frontend.OPEN_EXTERNAL_WINDOW, function (req) {\n            logger.info('Opening %s', req.windowName);\n            switch (req.windowName) {\n                case 'bookmarks':\n                    platformBrowser.openBookmarksWindow();\n                    break;\n                case 'history':\n                    platformBrowser.openHistoryWindow();\n                    break;\n                case 'downloads':\n                    platformBrowser.openDownloadsWindow();\n                    break;\n                default:\n                    logger.warn('Unknown windowName %s', req.windowName);\n            }\n        });\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/panels.js","/**\n * Саджест урлов при редактировании тумб\n */\n'use strict';\n\nvar messaging = require('./messaging');\nvar urlUtils = require('../../utils/url');\nvar platformAbout = require('../../platform/about');\nvar events = require('./events');\n\nvar XB_URL_REG_EXP = /^xb:\\/\\//;\n\nvar sources = {\n    [events.frontend.SEARCH_HISTORY]: {\n        id: 0,\n        fn: require('../url-suggest/search-history'),\n    },\n    [events.frontend.SEARCH_BOOKMARKS]: {\n        id: 1,\n        fn: require('../url-suggest/search-bookmarks'),\n    },\n    [events.frontend.SEARCH_OPENED_TABS]: {\n        id: 2,\n        fn: require('../url-suggest/search-opentabs'),\n    },\n    [events.frontend.SEARCH_WEB]: {\n        id: 3,\n        fn: require('../url-suggest/search-web'),\n    }\n};\n\nmodule.exports = {\n    init: function () {\n        Object.keys(sources).forEach(createOnMessageHandler);\n    }\n};\n\nfunction createOnMessageHandler(msgName) {\n    messaging.on(msgName, function (req, sender, sendResponse) {\n        var query = req.word || req.query;\n        var source = sources[msgName];\n        source.fn(query, function (err, items) {\n            sendResponse({\n                source: source.id,\n                query: req.query,\n                data: err ? [] : convertItems(items),\n            });\n        });\n        return true;\n    });\n}\n\n/**\n * @param {Array} [items]\n * @returns {Array}\n */\nfunction convertItems(items) {\n    if (!Array.isArray(items)) {\n        return [];\n    }\n    return items.reduce(function (result, item) {\n        if (!isBadUrl(item.url)) {\n            item.url = urlUtils.getReadableUrl(item.url);\n            result.push(item);\n        }\n        return result;\n    }, []);\n}\n\n/**\n * @param {String} url\n * @returns {Boolean}\n */\nfunction isBadUrl(url) {\n    return urlUtils.isEqualUrls(platformAbout.visbookmarksUrl, url) ||\n        urlUtils.isEqualUrls(platformAbout.visbookmarksFakeTabUrl, url) ||\n        XB_URL_REG_EXP.test(url);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/url-suggest.js","/**\n * Отдаёт переходы по истоии, релевантные запросу\n */\n'use strict';\n\nvar asyncLib = require('async');\nvar flatten = require('lodash/array/flatten');\nvar weights = require('./weights');\nvar isRelease = require('../debug/build-data').git.release;\nvar dateUtils = require('../../utils/date');\nvar logger = require('../../utils/logger').create('url-suggest/search-history');\nvar browserInfo = require('../../utils/browser-info');\n\nvar NATIVE_SEARCH_MAX_COUNT = 100;\nvar CUSTOM_SEARCH_MAX_COUNT = 4000;\nvar OUTPUT_COUNT = 10;\n\n/**\n * Searches browser history, returns items sorted by weights\n * @param {String} query\n * @param {Function} callback\n */\nmodule.exports = function (query, callback) {\n    historySearch(query, function (err, historyItems) {\n        if (err) {\n            logger.error('Error in history search: %j', err);\n            callback(err);\n        } else {\n            var items = filterByWeights(query, historyItems);\n            printInDebug(query, items);\n            callback(null, items);\n        }\n    });\n};\n\n/**\n * @param {String} query\n * @param {Function} callback\n */\nfunction historySearch(query, callback) {\n    var tasks = [nativeHistorySearch.bind(null, query)];\n    if (browserInfo.isChrome()) {\n        // Use custom history search for chrome because of\n        // chrome.history.search's bad behavior with small queries.\n        // @see https://st.yandex-team.ru/VB-4925#1444231848000\n        tasks.push(customHistorySearch.bind(null, query));\n    }\n    asyncLib.parallel(tasks, function (err, data) {\n        callback(err, data ? flatten(data) : []);\n    });\n}\n\n/**\n * Retrieves all recent history items and filters them by passed query.\n * @param {String} query\n * @param {Function} callback\n */\nfunction customHistorySearch(query, callback) {\n    chrome.history.search({\n        text: '',\n        maxResults: CUSTOM_SEARCH_MAX_COUNT,\n        startTime: Date.now() - dateUtils.WEEK_MS\n    }, function (historyItems) {\n        var items = filterUnmatched(historyItems, query);\n        callback(null, items);\n    });\n}\n\n/**\n * Searches history using chrome.history.search with passed query\n * @param {String} query\n * @param {Function} callback\n */\nfunction nativeHistorySearch(query, callback) {\n    chrome.history.search({\n        text: query,\n        maxResults: NATIVE_SEARCH_MAX_COUNT\n    }, function (historyItems) {\n        callback(null, historyItems);\n    });\n}\n\n/**\n * Filters all items without query in url or title\n * @param {Array<chrome.history.HistoryItem>} historyItems\n * @param {String} query\n * @returns {Array<chrome.history.HistoryItem>}\n */\nfunction filterUnmatched(historyItems, query) {\n    return historyItems.filter(function (item) {\n        return (item.url && item.url.indexOf(query) !== -1)\n            || (item.title && item.title.indexOf(query) !== -1);\n    });\n}\n\n/**\n * @param {String} query\n * @param {Array<chrome.history.HistoryItem>} histroryItems\n * @returns {Array<Object>}\n */\nfunction filterByWeights(query, histroryItems) {\n    var items = histroryItems.map(convertToItemWithWeight);\n    return weights.calc(query, items, OUTPUT_COUNT, true);\n}\n\n/**\n * @param {chrome.history.HistoryItem} historyItem\n * @returns {Object}\n */\nfunction convertToItemWithWeight(historyItem) {\n    return weights.getItem(\n        historyItem.url,\n        historyItem.title,\n        2 * historyItem.typedCount + historyItem.visitCount\n    );\n}\n\n/**\n * @param {String} query\n * @param {Array<Object>} items\n */\nfunction printInDebug(query, items) {\n    if (!isRelease) {\n        weights.printItems('Search history: ' + query, items);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/url-suggest/search-history.js","var baseFlatten = require('../internal/baseFlatten'),\n    isIterateeCall = require('../internal/isIterateeCall');\n\n/**\n * Flattens a nested array. If `isDeep` is `true` the array is recursively\n * flattened, otherwise it's only flattened a single level.\n *\n * @static\n * @memberOf _\n * @category Array\n * @param {Array} array The array to flatten.\n * @param {boolean} [isDeep] Specify a deep flatten.\n * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, 3, [4]]]);\n * // => [1, 2, 3, [4]]\n *\n * // using `isDeep`\n * _.flatten([1, [2, 3, [4]]], true);\n * // => [1, 2, 3, 4]\n */\nfunction flatten(array, isDeep, guard) {\n  var length = array ? array.length : 0;\n  if (guard && isIterateeCall(array, isDeep, guard)) {\n    isDeep = false;\n  }\n  return length ? baseFlatten(array, isDeep) : [];\n}\n\nmodule.exports = flatten;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/array/flatten.js\n// module id = 475\n// module chunks = 1","'use strict';\n\nvar urlUtils = require('../../utils/url');\n\n/**\n * Возвращает хэш вхождений в строку подстрок из массива\n */\nfunction getFoundMap(substrArr, str) {\n    return substrArr.reduce(function (res, s) {\n        var index = str.indexOf(s);\n        if (index >= 0) {\n            res[s] = true;\n        }\n        return res;\n    }, {});\n}\n\nfunction multiplyWeight(item, koef, comment) {\n    // make log for debugging\n    var msg = 'x ' + koef + (comment ? '(' + comment + ')' : '');\n    item.log = item.log || [item.weight];\n    item.log.push(msg);\n    item.weight = item.weight * koef;\n}\n\nfunction hasUrlSymbols(query) {\n    return /[\\/\\.]/.test(query);\n}\n\nfunction multiplyUrlQuery(query, item) {\n    // Если URL ссылки полностью содержит искомый запрос, то вес ссылки умножается на 100.\n    if (item.foundInUrl[query]) {\n        multiplyWeight(item, 100, 'url with full query');\n    } else if (item.foundInTitle[query]) {\n        // В противном случае, если описание ссылки содержит запрос полностью, то вес умножается на 50\n        multiplyWeight(item, 50, 'title with full query');\n    }\n    return item;\n}\n\nfunction multiplyMultiWords(query, item) {\n    // Вес для ссылок умножается на количество совпадающих слов, а также на коэффициент 10.\n    var notQuery = function (v) {return v !== query;};\n    var countInUrl = Object.keys(item.foundInUrl).filter(notQuery).length;\n    var countInTitle = Object.keys(item.foundInTitle).filter(notQuery).length;\n    multiplyWeight(item, 10, 'koef');\n    multiplyWeight(item, (countInUrl + countInTitle), 'x word count matched in title / url');\n    // Также если фраза совпадает полностью, то вес умножается на 100.\n    if (item.foundInUrl[query] || item.foundInTitle[query]) {\n        multiplyWeight(item, 100, 'full phrase match');\n    }\n    return item;\n}\n\nfunction multiplySingleWord(query, item) {\n    // заменяем html-encoded кавычки на нормальные\n    var str = (item.url + ' ' + item.title)\n        .replace(/&quot;/g, '\\\"')\n        .replace(/&#039;/g, '\\'');\n\n    // Каждая ссылка разбивается на следующие токены: домены, пути по сайту, слова из описания ссылки.\n    // Пример: token1.token2.token3.token4/token5/token6/token7 Слово1 слово2 слово3\n    var tokens = str.split(/[\\.\\/\\s\\-\"':,;]+/);\n    // отрезаем 'http(s)'\n    tokens = tokens.slice(1);\n    // отрезаем 'www'\n    if (tokens[0] === 'www') {\n        tokens = tokens.slice(1);\n    }\n    // Если введенная пользователем строка найдена в начале какого-либо токена,\n    // нужно домножить вес ссылки на коэффициент,\n    // зависящий от номера токена, в котором встретилась введенная пользователем строка.\n    // Первый токен - 100, второй токен - 90, третий - 80, итд.\n    // при достижении коефициента 1, для всех следующих токенов коэффициент 1.\n    tokens.every(function (token, pos) {\n        if (token && token.indexOf(query) === 0) {\n            multiplyWeight(item, Math.max((100 - 10 * pos), 1), 'token #' + (pos + 1) + ' match');\n            return false;\n        } else {\n            return true;\n        }\n    });\n    return item;\n}\n\nmodule.exports = {\n    /**\n     * Возвращает item для calc\n     * @param {String} url\n     * @param {String} title\n     * @param {Integer} weight\n     * @returns {{url: *, title: *, weight: *}}\n     */\n    getItem: function (url, title, weight) {\n        return {\n            url: url,\n            title: title,\n            weight: weight\n        };\n    },\n    /**\n     * Фильтрует и рассчитывает веса согласно алгоритму:\n     * https://wiki.yandex-team.ru/VisualBookmarks/tz#polevvodaadresasajjtaisadzhest\n     *\n     * @param  {String} query фраза целиком\n     * @param  {Array} items массив исходных данных {url, title, weight}, где weight - исходный вес\n     * @param  {Integer} count кол-во элементов в результате\n     * @param  {Boolean} doFilter отсеивать ли результаты, где строка не встречается ни в урле, ни в тайтле\n     * @return {Array} массив данных с обновленным весом и доменом {url, title, weight, domain}\n     *\n     * исходный вес начисляется по правилам:\n     * - для истории вес равен: 2 * typedCount + visitCount\n     * - для закладок вес равен: 1\n     * - для открытых табов вес равен: 1\n     * - для навигационных подсказок: 0.9-0.1, в зависимости от очередности\n     *\n     */\n    calc: function (query, items, count, doFilter) {\n        query = query.trim().toLowerCase();\n\n        // делим на слова\n        var words = query.split(/\\s+/);\n        words = words.length > 1 ? words : [];\n\n        // массив: фраза + слова\n        var searches = [query].concat(words);\n\n        // убираем сущности, для которых нельзя создать URI (в т.ч. с пустым урлом)\n        items = items.filter(function (item) {\n            item.uri = urlUtils.createURI(item.url);\n            return Boolean(item.uri);\n        });\n\n        items = items.map(function convertTo(item) {\n            // URL разбивается на составляющие (протокол, хост, порт, путь по сайту, парметры);\n            var uri = item.uri;\n            var readable = item.url;\n            try {\n                // try..catch т.к. на некоторых урлах получаем ошибку \"URI malformed\", VBCHROME-619\n                readable = uri.readable();\n            } catch (e) {}\n\n            var title = item.title || '';\n\n            var resItem = {\n                url: readable.toLowerCase(), // применяем punycode + decodeURI + lowercase\n                uri: uri,\n                sourceTitle: title,           // сохраняем исходный тайтл\n                title: title.toLowerCase(),\n                weight: item.weight,\n            };\n\n            // ищем фразу и слова по отдельности в УРЛЕ, кладем в хеш\n            resItem.foundInUrl = getFoundMap(searches, resItem.url);\n            // ищем фразу и слова по отдельности в ТАЙТЛЕ, кладем в хеш\n            resItem.foundInTitle = getFoundMap(searches, resItem.title);\n\n            return resItem;\n        });\n\n        // фильтруем результаты: оставляем только те, где строка встречается в урле или тайтле\n        // не применяется для результатов, полученных из веб-ручки\n        if (doFilter !== false) {\n            items = items.filter(function (item) {\n                // оставляем те, где найдено хотя бы одно слово в урле или тайтле\n                return Object.keys(item.foundInUrl).length\n                    || Object.keys(item.foundInTitle).length;\n            }).filter(function (item) {\n                // Если не удалось получить имя хоста, ссылка отсеивается\n                return Boolean(item.uri.hostname());\n            });\n        }\n\n        items = items.map(function (item) {\n            // Для ссылок по всей фразе исходный вес умножается на количество слов во фразе.\n            if (words.length && (item.foundInUrl[query] || item.foundInTitle[query])) {\n                multiplyWeight(item, words.length, 'words.length');\n            }\n\n            // Если у подобранной ссылки нет пути по сайту и параметров (ссылка вида https://example.ru/),\n            // то вес ссылки умножается на 2;\n            if (item.uri.path() === '/' && item.uri.search() === '' && item.uri.hash() === '') {\n                multiplyWeight(item, 2, 'canonic url');\n            }\n            return item;\n        });\n\n        // В зависимости от типа запроса вес ссылок увеличивается по одному из трех правил:\n        // 1. Запрос содержит URL символы (/, .)\n        if (hasUrlSymbols(query)) {\n            items = items.map(multiplyUrlQuery.bind(null, query));\n\n        // 2. Запрос содержит больше одного слова\n        } else if (words.length) {\n            items = items.map(multiplyMultiWords.bind(null, query));\n\n        // 3. Запрос содержит одно слово.\n        } else {\n            items = items.map(multiplySingleWord.bind(null, query));\n        }\n\n        // убираем дубликаты доменов, оставляем с наибольшим весом\n        var hostnames = items.reduce(function (res, item) {\n            var host = item.uri.hostname();\n            if (!res[host] || res[host].weight < item.weight) {\n                res[host] = item;\n            }\n            return res;\n        }, {});\n\n        // формируем финальный ответ\n        items = Object.keys(hostnames).map(function (hostname) {\n            var item = hostnames[hostname];\n            var resItem = {\n                // frontend should get encoded url, VBCHROME-630\n                url: item.uri.toString(),\n                title: item.sourceTitle,\n                domain: hostname,\n                weight: item.weight,\n                log: Array.isArray(item.log) ? item.log.join(' ') : '',\n            };\n\n            return resItem;\n        });\n\n        // сортируем по весу\n        items.sort(function (a, b) {\n            return b.weight - a.weight;\n        });\n\n        // обрезаем\n        if (count) {\n            items = items.slice(0, count);\n        }\n\n        return items;\n    },\n\n    /**\n     * Выводит список в виде таблички (удобно для дебага)\n     */\n    printItems: function (title, items) {\n        var console = window.console; // eslint-disable-line no-console\n        // eslint-disable-next-line no-console\n        if (console && console.table) {\n            if (items && items.length) {\n                console.log(title); // eslint-disable-line no-console\n                // eslint-disable-next-line no-console\n                console.table(items, ['weight', 'url', 'title', 'log']);\n            } else {\n                console.log(title, '(empty result)'); // eslint-disable-line no-console\n            }\n        }\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/url-suggest/weights.js","/**\n * Отдаёт букмарки, релевантные запросу\n */\n'use strict';\n\nvar weights = require('./weights');\nvar isRelease = require('../debug/build-data').git.release;\n\nvar INITIAL_WEIGHT = 1;\nvar OUTPUT_COUNT = 7;\n\nmodule.exports = function (query, callback) {\n    chrome.bookmarks.search(query, function (bookmarks) {\n        var items = bookmarks.map(convertToItem);\n        items = weights.calc(query, items, OUTPUT_COUNT, true);\n        callback(null, items);\n        printInDebug(query, items);\n    });\n};\n\nfunction convertToItem(bookmark) {\n    return weights.getItem(\n        bookmark.url,\n        bookmark.title,\n        INITIAL_WEIGHT\n    );\n}\n\nfunction printInDebug(query, items) {\n    if (!isRelease) {\n        weights.printItems('Search bookmarks: ' + query, items);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/url-suggest/search-bookmarks.js","/**\n * Отдаёт все открытые табы\n */\n'use strict';\n\nvar tabsUtils = require('../../utils/tabs');\nvar weights = require('./weights');\nvar isRelease = require('../debug/build-data').git.release;\n\nvar INITIAL_WEIGHT = 1;\nvar OUTPUT_COUNT = 0;\n\nmodule.exports = function (query, callback) {\n    tabsUtils.getOpen(function (err, tabs) {\n        if (err) {\n            callback(err);\n        } else {\n            var items = tabs.map(convertToItem);\n            items = weights.calc(query, items, OUTPUT_COUNT, true);\n            callback(null, items);\n            printInDebug(query, items);\n        }\n    });\n};\n\nfunction convertToItem(tab) {\n    return weights.getItem(\n        tab.url,\n        tab.title,\n        INITIAL_WEIGHT\n    );\n}\n\nfunction printInDebug(query, items) {\n    if (!isRelease) {\n        weights.printItems('Search opened tabs: ' + query, items);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/url-suggest/search-opentabs.js","/**\n * Делает запрос на поисковый саджест, за ссылками, релевантными запросу\n */\n'use strict';\n\nvar branding = require('../branding');\nvar curly = require('../../utils/curly');\nvar xhr = require('../../utils/xhr');\nvar urlUtils = require('../../utils/url');\nvar weights = require('./weights');\nvar isRelease = require('../debug/build-data').git.release;\n\nvar OUTPUT_COUNT = 10;\n\n/**\n * Формирование и отправка запроса к саджесту при редактировании тумбы\n * (можем искать по фразе, а можем по отдельным словам)\n */\nmodule.exports = function (query, callback) {\n    xhr({\n        url: getUrl(query),\n        logError: true,\n        parse: 'json',\n    }, function (err, json) {\n        if (err) {\n            callback(err);\n        } else {\n            var items = parseResponse(json).map(convertToItem);\n            items = weights.calc(query, items, OUTPUT_COUNT, false);\n            callback(null, items);\n            printInDebug(query, items);\n        }\n    });\n};\n\nfunction getUrl(query) {\n    return curly.insertUrlVars(branding.thumbs.suggestUrl, {\n        searchTerms: query\n    });\n}\n\nfunction parseResponse(arr) {\n    var urls = arr[1];\n    var titles = arr[2];\n    return urls.map(function (url, i) {\n        return {\n            url: urlUtils.getNormalUrl(url),\n            title: titles[i],\n        };\n    });\n}\n\nfunction convertToItem(webItem, i) {\n    return weights.getItem(\n        webItem.url,\n        webItem.title,\n        Math.max(0.9 - i / 10, 0.1).toFixed(1)\n    );\n}\n\nfunction printInDebug(query, items) {\n    if (!isRelease) {\n        weights.printItems('Search web: ' + query, items);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/url-suggest/search-web.js","/**\n * Модуль, слушающий событие navigateURL\n * Прилетает при клике по тумбе, навигационной подсказке, закладке.\n */\n'use strict';\n\nvar messaging = require('./messaging');\nvar navigations = require('../navigations');\nvar events = require('./events');\n\nexports.init = function () {\n    messaging.on(events.frontend.NAVIGATE_URL, function (req, sender) {\n        var params = {\n            url: req.url,\n            tabId: sender.tab && sender.tab.id,\n            target: req.target,\n            thumbPosition: req.index,\n        };\n        navigations.go(params);\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/navigate-url.js","/**\n * Наличие / отсутсвие вертикального скролла во фронтенде\n */\n'use strict';\n\nvar messaging = require('./messaging');\nvar events = require('./events');\n\n/**\n * Init\n */\nexports.init = function () {\n    messaging.on(events.frontend.SET_SCROLL_STATE, function () {\n        // todo\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/scroll-state.js","/**\n * Поисковый саджест\n */\n'use strict';\n\nvar messaging = require('./messaging');\nvar searchSuggest = require('../search-suggest');\nvar events = require('./events');\n\n/**\n * Init\n */\nexports.init = function () {\n    messaging.on(events.frontend.SEARCH_MAIN, function (req, sender, sendResponse) {\n        searchSuggest.get(req.query, sendResponse);\n        return true;\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/search-suggest.js","/**\n * Запрос к саджесту в поисковой строке\n */\n'use strict';\n\nvar logger = require('../../utils/logger').create('Search Suggest');\nvar branding = require('../branding');\nvar xhr = require('../../utils/xhr');\nvar curly = require('../../utils/curly');\n\n// объект запроса саджеста поисковой строки\nvar searchRequest;\n\nvar SEARCH_MAIN_TIMEOUT_MS = 5000;\n\n/**\n * Returns suggest for query\n * @param {String} queryString\n * @param {Function} callback\n */\nexports.get = function (queryString, callback) {\n    logger.info('Loading suggest for query: %j', queryString);\n    var suggestURL = curly.insertUrlVars(branding.search.suggest, {searchTerms: queryString});\n    searchRequest = xhr({\n        url: suggestURL,\n        timeout: SEARCH_MAIN_TIMEOUT_MS,\n        logError: true,\n        parse: 'text',\n    }, function (err, responseText, evt) {\n        // если ошибка или уже отправлен новый запрос - возвращаем пустую строку\n        if (err || searchRequest !== evt.target) {\n            callback('');\n        } else {\n            callback(responseText);\n        }\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/search-suggest/index.js","/**\n * Отправляем данные информеров во фронтенд\n */\n\n'use strict';\n\nconst messaging = require('./messaging');\nconst informers = require('../informers');\nconst events = require('./events');\n\n/**\n * Init\n */\nexports.init = function () {\n    informers.onUpdated.addListener(exports.send);\n    informers.onEnabledChanged.addListener(exports.send);\n};\n\n/**\n * Send\n */\nexports.send = function () {\n    if (informers.isSupported()) {\n        if (informers.isEnabled()) {\n            return informers.getData().then((data) => {\n                messaging.send(events.backend.INFORMERS, data);\n            });\n        };\n        messaging.send(events.backend.INFORMERS, null);\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/informers.js","/**\n * Взаимодействие бэкэнда с фронтенда для реализации функции голосового поиска\n * {@link https://st.yandex-team.ru/VB-5752}\n */\n'use strict';\n\nconst messaging = require('./messaging');\nconst logger = require('../../utils/logger').create('Frontend/voice');\nconst Voice = require('../voice');\nconst voiceEvents = require('../voice/events');\nconst events = require('./events');\n\nmodule.exports = {\n    init() {\n        let voice;\n\n        messaging.on(events.frontend.VOICE_INIT, (request, sender) => {\n            if (voice) {\n                voice.finalize();\n            }\n\n            voice = Voice.createForWebNavigation(sender.tab.id)\n                .record();\n        });\n\n        messaging.on(events.frontend.VOICE_STOP, () => {\n            if (voice) {\n                voice.finalize();\n            }\n        });\n\n        voiceEvents.onProgress.addListener(({tabId, text}) => {\n            messaging.send(events.backend.VOICE_PROGRESS, {text}, tabId);\n        });\n\n        voiceEvents.onStart.addListener(({tabId}) => {\n            messaging.send(events.backend.VOICE_START, null, tabId);\n        });\n\n        voiceEvents.onError.addListener(({tabId, reason}) => {\n            messaging.send(events.backend.VOICE_ERROR, {reason}, tabId);\n        });\n\n        voiceEvents.onRecordFinished.addListener(({tabId, text}) => {\n            messaging.send(events.backend.VOICE_FINISH, {text}, tabId);\n        });\n\n        voiceEvents.onClose.addListener(({tabId}) => {\n            messaging.send(events.backend.VOICE_CLOSE, null, tabId);\n        });\n\n        logger.info('Initialized');\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/voice.js","/**\n * Модуль для работы со speechkit, позволяет распознавать голос.\n */\n'use strict';\n\nconst logger = require('../../utils/logger').create('Voice');\nconst {REJECT_TIMESTAMP} = require('../common/constants');\nconst offscreenEvents = require('../offscreen/events');\nconst offscreenManager = require('../../utils/offscreen/offscreen-manager');\nconst events = require('./events');\nconst SerpNavigator = require('./consumers/serp-navigator');\nconst SiteNavigator = require('./consumers/site-navigator');\nconst Consumer = require('./consumers/consumer');\nconst thenChrome = require('then-chrome');\nconst settings = require('../settings/settings');\nconst {\n    IS_VOICE_USED,\n    ANIMATION_TIMEOUT_MS,\n    ERROR_REASON,\n    SILENCE_TIMEOUT_MS,\n    STATUS,\n} = require('./consts');\n\nclass Voice {\n    /**\n     * @constructor\n     * @param tabId\n     */\n    constructor (tabId) {\n        this.consumers = [];\n        this.previousText = '';\n        this.tabId = tabId;\n\n        this._tabActivationHandlerBinded = this._tabActivationHandler.bind(this);\n        this._updateNavigationHandlerBinded = this._updateNavigationHandler.bind(this);\n        this._handleOffscreenMessageBinded = this._handleOffscreenMessage.bind(this)\n\n        this.status = STATUS.READY;\n\n        logger.info('Streamer is ready');\n    }\n\n    /**\n     * Обработка сообщений speechkit из офскрина.\n     * \n     * @param {number} object\n     * @param {number} object\n     * @param {number} Function\n     */\n    _handleOffscreenMessage(req) {\n        if (!req.data) {\n            // Do nothing.\n            return;\n        }\n\n        switch (req.type) {\n            case offscreenEvents.offscreen.SPEECHKIT_DATA:\n                this._dataHandler(req.data);\n                break;\n            case offscreenEvents.offscreen.SPEECHKIT_ERROR:\n                this._throwError(req.data.reason);\n                break;\n            default:\n                return;\n        }\n    }\n\n    /**\n     * Прокси-запрос начала записи речи спичкитом к офскрин странице.\n     *\n     * @param {message} object\n     * @param {rejectTimeout} number\n     * @private\n     */\n    _initSpeechkit() {\n        const callback = (message) => {\n            const {errObj} = message;\n            if (errObj) {\n                this._throwError(errObj.message);\n            } else {\n                this._initHandler();\n            }\n        };\n\n        const msgBody =\n            {type: offscreenEvents.backend.SPEECHKIT_INIT, data: {}, idle: true};\n        offscreenManager.sendMessage(\n            msgBody, 'Speechkit init timed out', callback);\n    }\n\n    /**\n     * Прокси-запрос остановки записи речи спичкитом к офскрин странице.\n     *\n     * @private\n     */\n    _stopSpeechkit() {\n        const callback = (message) => {\n            const {errObj} = message;\n            if (errObj) {\n                this._throwError(errObj.message);\n            } else {\n                offscreenManager.resetTimeout();\n            }\n        };\n    \n        const msgBody =\n            {type: offscreenEvents.backend.SPEECHKIT_STOP, data: {}, idle: true};\n        offscreenManager.sendMessage(\n            msgBody, 'Speechkit stop timed out', callback);\n    }\n\n    /**\n     * Добавление обработчика запроса\n     *\n     * @param {Consumer} consumer\n     */\n    addConsumer (consumer) {\n        this.consumers.push(consumer);\n    }\n\n    /**\n     * Старт стримера\n     *\n     * @returns {Voice}\n     */\n    record () {\n        this.status = STATUS.CONNECTING;\n\n        this._initSpeechkit();\n\n        offscreenManager.addOffscreenListener(this._handleOffscreenMessageBinded);\n        chrome.tabs.onActivated.addListener(this._tabActivationHandlerBinded);\n        chrome.windows.onFocusChanged.addListener(this._tabActivationHandlerBinded);\n        chrome.webNavigation.onBeforeNavigate.addListener(this._updateNavigationHandlerBinded);\n        // Слушаем два события, так как onBeforeNavigate в 51 версии хрома не вызывается\n        // при перезагрузке ВЗ, а onCommitted вызывается позже onBeforeNavigate\n        chrome.webNavigation.onCommitted.addListener(this._updateNavigationHandlerBinded);\n\n        if (settings.get(IS_VOICE_USED) !== true) {\n            settings.set(IS_VOICE_USED, true);\n        }\n\n        return this;\n    }\n\n    /**\n     * Остановка стримера\n     *\n     * @returns {boolean} был ли остановлен стример\n     */\n    stopRecording () {\n        if (!this.isRecording) {\n            return;\n        }\n\n        clearTimeout(this.silenceTimeout);\n\n        this.previousText = '';\n        this._stopSpeechkit();\n\n        logger.info('Recording was stopped');\n    }\n\n    /**\n     * Удаление слушателей и остановка обрабочиков если необходимо\n     * @param {number} status\n     */\n    finalize (status = STATUS.FINISHED) {\n        if (this.isFinished) {\n            return;\n        }\n\n        this.stopRecording();\n\n        if (this.status === STATUS.PROCESSING) {\n            this.consumers.forEach(consumer => consumer.stop());\n        }\n\n        this.status = status;\n\n        offscreenManager.removeOffscreenListener(this._handleOffscreenMessageBinded);\n        chrome.tabs.onActivated.removeListener(this._tabActivationHandlerBinded);\n        chrome.windows.onFocusChanged.removeListener(this._tabActivationHandlerBinded);\n        chrome.webNavigation.onBeforeNavigate.removeListener(this._updateNavigationHandlerBinded);\n        chrome.webNavigation.onCommitted.removeListener(this._updateNavigationHandlerBinded);\n\n        logger.info('Finalized');\n    }\n\n    /**\n     * Функция вызовется, как только сессия стримера будет инициализирована.\n     *\n     * @private\n     */\n    _initHandler () {\n        this.status = STATUS.RECORD;\n        this.silenceTimeout = setTimeout(() => this._throwError(ERROR_REASON.SILENCE), SILENCE_TIMEOUT_MS);\n\n        events.onStart.dispatch({\n            tabId: this.tabId,\n        });\n    }\n\n    /**\n     * Обработка событий закрытия таба и смены таба\n     *\n     * @private\n     */\n    _tabActivationHandler () {\n        const tabId = this.tabId;\n\n        // Прерываем работу модуля, только в том случае, если смена таба происходила\n        // во время записи речи, либо таб был вообще закрыт\n        thenChrome.tabs\n            .get(tabId)\n            .then(() => {\n                if (this.isReady || this.isRecording) {\n                    this._interrupt(true);\n                }\n            })\n            .catch(() => this._interrupt());\n    }\n\n    /**\n     * Прерывание работы голосового модуля\n     *\n     * @param {boolean} sendOnClose\n     * @private\n     */\n    _interrupt (sendOnClose = false) {\n        this.finalize(STATUS.INTERRUPTED);\n\n        if (sendOnClose) {\n            events.onClose.dispatch({\n                tabId: this.tabId,\n            });\n        }\n    }\n\n    /**\n     * Обработка события onBeforeNavigate и onCommitted, чтобы отловить перезагрузку или смену URL таба.\n     *\n     * @param {number} tabId\n     * @private\n     */\n    _updateNavigationHandler ({tabId}) {\n        if (tabId === this.tabId) {\n            this._interrupt();\n        }\n    }\n\n    _throwError (reason) {\n        // Бывает, что ошибка появляется после закрытия потока.\n        if (this.inProcess) {\n            this.finalize(STATUS.ERROR);\n\n            events.onError.dispatch({\n                tabId: this.tabId,\n                reason,\n            });\n        }\n    }\n\n    /**\n     * Данная функция вызывается многократно.\n     * Ей передаются промежуточные результаты распознавания.\n     * После остановки распознавания этой функции\n     * будет передан финальный результат.\n     *\n     * @param {params} object\n     * @private\n     */\n    _dataHandler({text, done}) {\n        if (this.status !== STATUS.RECORD) {\n            return;\n        }\n\n        const isTextChanged = text !== this.previousText;\n        const shouldNotify = isTextChanged || done;\n\n        if (!shouldNotify) {\n            return;\n        }\n\n        clearTimeout(this.silenceTimeout);\n\n        const tabId = this.tabId;\n        this.previousText = text;\n\n        events.onProgress.dispatch({\n            tabId,\n            text,\n        });\n\n        if (done) {\n            this.stopRecording();\n            this.status = STATUS.PROCESSING;\n\n            events.onRecordFinished.dispatch({\n                tabId,\n                text,\n            });\n\n            this._recognize(text)\n                .catch(interceptedBy => {\n                    if (interceptedBy instanceof Consumer) {\n                        return Promise.resolve(interceptedBy);\n                    }\n                })\n                .then(interceptBy => this._callPostRecognizeEvents(text, interceptBy))\n                .then(interceptBy => interceptBy.run())\n                .then(() => this.finalize())\n                .catch(() => this.finalize(STATUS.INTERRUPTED));\n        }\n    }\n\n    /**\n     * Вотерфол обработка запроса\n     *\n     * @param {string} text\n     * @private\n     */\n    _recognize (text) {\n        return this.consumers.reduce((promise, consumer) => {\n            return promise.then(() => {\n                return this._callConsumer(consumer, text);\n            });\n        }, Promise.resolve(null));\n    }\n\n    /**\n     * @param {string} text\n     * @param {Consumer} currentConsumer текущий обработчик\n     * @returns {Promise}\n     * @private\n     */\n    _callConsumer (currentConsumer, text) {\n        // Так как обработчики запускаются асинхронно, но по очереди,\n        // нужно следить за тем что бы сам модуль был активен.\n        if (this.isFinished) {\n            return Promise.reject();\n        }\n\n        return currentConsumer.check(text)\n            .then(isIntercepted => isIntercepted ? Promise.reject(currentConsumer) : null);\n    }\n\n    /**\n     * Вызываем соответсвующие события после отработки обработчиков\n     *\n     * @param {text} text\n     * @param {Consumer} interceptedBy\n     * @private\n     */\n    _callPostRecognizeEvents (text, interceptedBy) {\n        if (interceptedBy) {\n            events.onRecognized.dispatch({\n                tabId: this.tabId,\n                text,\n                consumer: interceptedBy,\n            });\n        } else {\n            events.onNotRecognized.dispatch({\n                tabId: this.tabId,\n                text,\n            });\n        }\n\n        return interceptedBy;\n    }\n\n    get isRecording () {\n        return !this.isReady && this.status < STATUS.PROCESSING;\n    }\n\n    get inProcess () {\n        return !this.isReady || !this.isFinished;\n    }\n\n    get isReady () {\n        return this.status === STATUS.READY;\n    }\n\n    get isFinished () {\n        return this.status >= STATUS.FINISHED;\n    }\n\n    /**\n     * Создаем распознаватель запросов\n     *\n     * @static\n     * @param tabId\n     * @returns {Voice}\n     */\n    static createForWebNavigation (tabId) {\n        const voice = new Voice(tabId);\n\n        voice.addConsumer(new SiteNavigator(tabId, ANIMATION_TIMEOUT_MS));\n        voice.addConsumer(new SerpNavigator(tabId, ANIMATION_TIMEOUT_MS));\n\n        return voice;\n    }\n}\n\nmodule.exports = Voice;\n\n\n\n// WEBPACK FOOTER //\n// ./modules/voice/index.js","/**\n * Евенты для голосового модуля\n */\n'use strict';\n\nconst Channel = require('../../utils/channel');\n\nmodule.exports = {\n    /**\n     * Вызывается после того как голос был распознан и до начала запуска обработчиков\n     */\n    onRecordFinished: new Channel('onRecordFinished'),\n\n    /**\n     * Вызывается при получении новых данных о распознании голоса\n     */\n    onProgress: new Channel('onProgress'),\n\n    /**\n     * Вызывается при открытии сессии распознавания голоса\n     */\n    onStart: new Channel('onStart'),\n\n    /**\n     * Вызывается в случае если бэкэнд сам закрыл сессию\n     */\n    onClose: new Channel('onClose'),\n\n    /**\n     * Вызывается при возникновении ошибки\n     */\n    onError: new Channel('onError'),\n\n    /**\n     * Вызывается в случае если ни один из обработчиков не распознал текст\n     */\n    onNotRecognized: new Channel('onNotRecognized'),\n\n    /**\n     * Вызывается в случае если запрос был распознан одним из обработчиков\n     */\n    onRecognized: new Channel('onRecognized'),\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/voice/events.js","'use strict';\n\nconst navigations = require('../../navigations');\nconst branding = require('../../branding');\nconst curly = require('../../../utils/curly');\nconst Consumer = require('./consumer');\nconst PromisedTimer = require('../../../utils/promised-timer');\n\n/**\n * Выполнение перехода на СЕРП с возможностью задать задержку.\n *\n * @class\n */\nclass SerpNavigator extends Consumer {\n    /**\n     * @constructor\n     * @param {tabId} tabId\n     * @param {number} delay задержка перед открытием серпа\n     * @param {string} target где будет осуществлено открытие серпа.\n     * По умолчанию в том же табе.\n     */\n    constructor (tabId, delay = 0, target = navigations.TARGET.TAB) {\n        super();\n        this.delay = delay;\n        this.target = target;\n        this.tabId = tabId;\n    }\n\n    /**\n     * @param text\n     * @returns {Promise.<boolean>}\n     */\n    check (text) {\n        this.checkResult = text;\n        return Promise.resolve(true);\n    }\n\n    /**\n     * @param {string} text в случае если нужно выполнить переход без проверки\n     * @returns {boolean}\n     */\n    run ({text} = {}) {\n        text = text || this.checkResult;\n        this.timeout = new PromisedTimer(this.delay);\n\n        // В случае остановки таймера все равно резолвим промис.\n        return this.timeout\n            .then(() => this._goToSerp(text))\n            .catch(() => Promise.resolve());\n    }\n\n    /**\n     * Отменяем переход на серп\n     */\n    stop () {\n        if (this.timeout) {\n            this.timeout.stop();\n        }\n    }\n\n    /**\n     * Выполнение перехода\n     *\n     * @param {string} query\n     * @private\n     */\n    _goToSerp (query) {\n        const url = curly.insertUrlVars(branding.search.url, {searchTerms: query});\n        navigations.go({\n            url,\n            target: this.target,\n            tabId: this.tabId,\n        });\n    }\n}\n\nmodule.exports = SerpNavigator;\n\n\n\n// WEBPACK FOOTER //\n// ./modules/voice/consumers/serp-navigator.js","'use strict';\n\n/**\n * Интерфейс, который должны реализовывать конкретные потребители.\n * Потребитель реализует ту или иную логику обработки текстового\n * запроса (Переход на серп, выявление в запросе наличия команды и т.п.).\n *\n * @interface\n */\nclass Consumer {\n    /**\n     * Проверяем может ли потребитель обработать запрос, так же на этом этапе можно настроить\n     * потребителя на конкретный запрос, что бы в дальнейшем вызвать метод run.\n     *\n     * Разбиение на check и run нужно для того, что бы была возможность понять, когда обработчик\n     * распознал для себя запрос и когда он его выполнил.\n     *\n     * @param {string} text текстовый запрос\n     * @returns {Promise<boolean>} true если потребитель определил, что запрос относится к нему\n     */\n    check(){\n        throw new Error('Not implemented');\n    }\n    /**\n     * Запуск обработки запроса\n     *\n     * @param {object} [params]\n     * @returns {Promise<Object>}\n     */\n    run() {\n        throw new Error('Not implemented');\n    }\n\n    /**\n     * Прерывание работы обработчика\n     */\n    stop() {\n        throw new Error('Not implemented');\n    }\n}\n\nmodule.exports = Consumer;\n\n\n\n// WEBPACK FOOTER //\n// ./modules/voice/consumers/consumer.js","/**\n * Таймер с поддержкой промисов\n */\n'use strict';\n\nclass PromisedTimer {\n    /**\n     * @constructor\n     * @param {number} delay таймаут в миллисекундах\n     */\n    constructor (delay) {\n        this.promise = new Promise((resolve, reject) => {\n            this.timeoutId = setTimeout(resolve, delay);\n            this._onStop = reject;\n        });\n    }\n\n    /**\n     * Прервать таймер (reject промиса).\n     */\n    stop () {\n        clearTimeout(this.timeoutId);\n        this._onStop();\n    }\n\n    /**\n     * Прокси функция для this.promise.then.\n     *\n     * @param {function} [callback]\n     * @param {function} [errback]\n     * @returns {Promise}\n     */\n    then (callback, errback) {\n        return this.promise.then(callback, errback);\n    }\n\n    /**\n     * Прокси функция для this.promise.catch.\n     *\n     * @param {function} [errback]\n     * @returns {Promise}\n     */\n    catch (errback) {\n        return this.promise.catch(errback);\n    }\n}\n\nmodule.exports = PromisedTimer;\n\n\n\n// WEBPACK FOOTER //\n// ./utils/promised-timer.js","/**\n * Модуль распознавания команды переходов на различные сайты.\n * {@link https://wiki.yandex-team.ru/stardust/tech/winsearch/voicestroka/Obrabotka-otveta-SpeechKit-a/}\n */\n'use strict';\n\nconst Consumer = require('./consumer');\nconst SerpNavigator = require('./serp-navigator');\nconst vbFetch = require('../../../utils/fetch');\nconst navigations = require('../../navigations');\nconst intersection = require('lodash/array/intersection');\nconst PromisedTimer = require('../../../utils/promised-timer');\n\nclass SiteNavigator extends Consumer {\n    /**\n     * @constructor\n     * @param {number} tabId\n     * @param {number} delay задержка перед навигацией\n     * @param {string} target где будет осуществлено открытие серпа.\n     * По умолчанию в том же табе.\n     */\n    constructor (tabId, delay = 0, target = navigations.TARGET.TAB) {\n        super();\n        this.delay = delay;\n        this.target = target;\n        this.tabId = tabId;\n        this.status = STATUS.READY;\n    }\n\n    /**\n     * Отправляем запрос в ручку и запускаем обработку ответа\n     *\n     * @param text\n     * @returns {Promise.<boolean>}\n     */\n    check (text) {\n        const url = URL_TO_HANDLER + encodeURIComponent(text);\n        this.status = STATUS.CHECKING;\n\n        return vbFetch(url, {\n            responseType: 'json'\n        })\n            .then(result => this._processResult(result))\n            .catch(() => false);\n    }\n\n    /**\n     * @returns {Promise}\n     */\n    run () {\n        this.status = STATUS.NAVIGATING;\n\n        // Если в checkResult есть свойство text, то направляем запрос на серп\n        if (this.checkResult.hasOwnProperty('text')) {\n            this.serpNavigator = new SerpNavigator(this.tabId, this.delay, this.target);\n            return this.serpNavigator.run(this.checkResult);\n        }\n\n        // Иначе через таймаут открываем сайт this.checkResult.url\n        this.timeout = new PromisedTimer(this.delay);\n\n        // В случае остановки таймера все равно резолвим промис.\n        return this.timeout\n            .then(() => this._goToSite(this.checkResult.url))\n            .catch(() => Promise.resolve());\n    }\n\n    /**\n     * Обработка результата распознавания речи.\n     *\n     * @param result\n     * @returns {{text:string, url:string}}\n     * @private\n     */\n    _processResult (result) {\n        // Убеждаемся что запрос еще актуален\n        if (this.status === STATUS.STOPPED) {\n            return false;\n        }\n\n        for (let {tags, url, weight, text} of result.candidates) {\n            // Отбрасысваем результаты с нулевым весом.\n            if (weight === 0) {\n                return false;\n            }\n\n            // Отбрасываем результаты с тэгами не связанными с переходами на\n            // сайты и поиском в интернете.\n            if (intersection(tags, BAD_TAGS).length) {\n                continue;\n            }\n\n            if (!url) {\n                // Даже если нет url, движок может распознать запрос подобный \"найди мне что нибудь\".\n                // В таком случае движок выдаст суть запроса и мы перенаправим его на серп.\n                if (text && tags.indexOf(SEARCH_TAG) !== -1) {\n                    this.checkResult = {text};\n                    return true;\n                }\n\n                continue;\n            }\n\n            this.checkResult = {url};\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Отменяем переход на серп\n     */\n    stop () {\n        if (this.timeout) {\n            this.timeout.stop();\n        } else if (this.serpNavigator) {\n            this.serpNavigator.stop();\n        }\n\n        this.status = STATUS.STOPPED;\n    }\n\n    /**\n     * Выполнение перехода\n     *\n     * @param {string} url\n     * @private\n     */\n    _goToSite (url) {\n        navigations.go({\n            url,\n            target: this.target,\n            tabId: this.tabId,\n        });\n\n        return true;\n    }\n}\n\nconst URL_TO_HANDLER = 'https://yastroka.yandex.net/speech?user_input=';\n\nconst BAD_TAGS = [\n    'action',\n    'file',\n    'folder',\n    'local',\n    'off',\n    'soft',\n    'local search',\n];\n\nconst SEARCH_TAG = 'search';\n\nconst STATUS = {\n    // обработчик готов к работе\n    READY: 0,\n    // обработчик проверяет запрос\n    CHECKING: 1,\n    // Обрабочик выполнеят навигацию\n    NAVIGATING: 2,\n    // Обработчик был остановлен\n    STOPPED: 3,\n};\n\nmodule.exports = SiteNavigator;\n\n\n\n// WEBPACK FOOTER //\n// ./modules/voice/consumers/site-navigator.js","var baseIndexOf = require('../internal/baseIndexOf'),\n    cacheIndexOf = require('../internal/cacheIndexOf'),\n    createCache = require('../internal/createCache'),\n    isArrayLike = require('../internal/isArrayLike'),\n    restParam = require('../function/restParam');\n\n/**\n * Creates an array of unique values that are included in all of the provided\n * arrays using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @static\n * @memberOf _\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of shared values.\n * @example\n * _.intersection([1, 2], [4, 2], [2, 1]);\n * // => [2]\n */\nvar intersection = restParam(function(arrays) {\n  var othLength = arrays.length,\n      othIndex = othLength,\n      caches = Array(length),\n      indexOf = baseIndexOf,\n      isCommon = true,\n      result = [];\n\n  while (othIndex--) {\n    var value = arrays[othIndex] = isArrayLike(value = arrays[othIndex]) ? value : [];\n    caches[othIndex] = (isCommon && value.length >= 120) ? createCache(othIndex && value) : null;\n  }\n  var array = arrays[0],\n      index = -1,\n      length = array ? array.length : 0,\n      seen = caches[0];\n\n  outer:\n  while (++index < length) {\n    value = array[index];\n    if ((seen ? cacheIndexOf(seen, value) : indexOf(result, value, 0)) < 0) {\n      var othIndex = othLength;\n      while (--othIndex) {\n        var cache = caches[othIndex];\n        if ((cache ? cacheIndexOf(cache, value) : indexOf(arrays[othIndex], value, 0)) < 0) {\n          continue outer;\n        }\n      }\n      if (seen) {\n        seen.push(value);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n});\n\nmodule.exports = intersection;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/array/intersection.js\n// module id = 492\n// module chunks = 1","/**\n * Module handles web pages events transmitted via custom events and content script\n * e.g. https://st.yandex-team.ru/ZEN-3077#1473945493000\n */\n'use strict';\n\nconst navigations = require('../navigations');\nconst platformAbout = require('../../platform/about');\nconst messaging = require('./messaging');\nconst events = require('./events');\n\nmodule.exports = {\n    init () {\n        messaging.on(events.frontend.PAGE_VBNAVIGATE, function (request, sender) {\n            navigateToVb(sender.tab.id);\n        });\n    }\n};\n\n/**\n * @param {Number} tabId\n */\nfunction navigateToVb(tabId) {\n    navigations.go({\n        url: platformAbout.visbookmarksUrl,\n        target: navigations.TARGET.TAB,\n        tabId: tabId\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/pages-events.js","/**\n * Дзен\n */\n'use strict';\n\nconst cookies = require('../auth/yauth-cookies');\nconst settings = require('../settings/settings');\nconst zen = require('../zen');\nconst platformAbout = require('../../platform/about');\nconst tabs = require('../../utils/tabs');\nconst messaging = require('./messaging');\nconst events = require('./events');\n\nmodule.exports = {\n    init: function () {\n        settings.onChanged.addListener(({key, newValue}) => key === 'showZen' && newValue && this.sendZenConfig());\n    },\n\n    sendZenConfig: function (tabId) {\n        Promise.all(cookies.cookiesResolves)\n            .then(() => {\n                const config = zen.getConfig();\n                if (tabId) {\n                    messaging.send(events.backend.ZEN_CONFIG, config, tabId);\n                } else {\n                    tabs.getOpen((err, items) => {\n                        (items || [])\n                            .filter(tab => tab.url === platformAbout.visbookmarksUrl)\n                            .forEach(tab => messaging.send(events.backend.ZEN_CONFIG, config, tab.id))\n                    });\n                }\n            })\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/zen.js","/**\n * Дзен\n * Передиочески запускаем либу дзена без отрисовки, чтобы она могла в фоне обновлять данные\n * Чтобы не засорять бэкграунд контекст, после того как либа отработает, полностью удаляем всё, что с ней связано\n * @see https://st.yandex-team.ru/VB-6183\n */\n'use strict';\n\nconst debounce = require('lodash/function/debounce');\nconst parse = require('user-agent-parser');\nconst i18n = require('../i18n');\nconst browser = require('../../utils/browser-info');\nconst backgrounds = require('../frontend/backgrounds');\nconst auth = require('../frontend/auth');\nconst cookies = require('../auth/yauth-cookies');\nconst alarms = require('../../utils/alarms');\nconst logger = require('../../utils/logger').create('zen');\nconst settings = require('../settings/settings');\n\nconst LOADER_URL = 'layout/zen/loader.js';\nconst RELOAD_TIMEOUT = 60; // in minutes\nconst DESTROY_TIMEOUT = 5000; // in ms\nconst RELOAD_ALARM_NAME = 'zen.reload';\nconst COOKIE_CHANGE_DEBOUNCE_TIME = 500; // @see https://st.yandex-team.ru/VB-6031\nconst ua = parse(navigator.userAgent);\n\nlet loaderScriptTag = null;\nconst cookieWatcher = debounce(reloadZen, COOKIE_CHANGE_DEBOUNCE_TIME);\n\nexports.init = function () {\n    settings.onChanged.addListener(({key, newValue}) => {\n        if (key !== 'showZen') {\n            return;\n        }\n        if (newValue) {\n            enable();\n        } else {\n            disable();\n        }\n    });\n    if (settings.get('showZen')) {\n        enable();\n    }\n};\n\nexports.getConfig = function () {\n    return {\n        clid: 450,\n        lang: i18n.locale || 'ru',\n        isTeethEnabled: true,\n        teethType: 'white-image',\n        theme: backgrounds.getCurrent().color === '000000' ? 'white' : 'black',\n        notifiersPosition: 'top',\n        staticHost: '/layout/zen',\n        libType: 'vb',\n        version: '',\n        uatraits: {\n            isMobile: false,\n            isBrowser: true,\n            BrowserEngine: ua.engine.name,\n            BrowserEngineVersion: ua.engine.version,\n            BrowserBase: browser.isChrome() ? 'Chromium' : undefined,\n            BrowserBaseVersion: browser.isChrome() ? ua.browser.version : undefined,\n            BrowserName: ua.browser.name,\n            BrowserVersion: ua.browser.version,\n            OSFamily: ua.os.name,\n            OSVersion: ua.os.version\n        },\n        useLegacy: false,\n        exps: [],\n        isVideoDisabled: true,\n        initialDisplayedRowsNumber: 3,\n        cache: {\n            api: {\n                userId: getUserId(),\n                storeId: 'yandex-vb'\n            }\n        },\n        userInfo: {\n            login: auth.getYandexLogin() || undefined,\n            yandexuid: auth.getYandexUid() || undefined,\n        }\n    };\n};\n\nfunction disable() {\n    logger.info('Disabling zen');\n    alarms.clear(RELOAD_ALARM_NAME);\n    destroyZenLib();\n    cookies.onChanged.removeListener(cookieWatcher);\n}\n\nfunction enable() {\n    logger.info('Enabling zen');\n    Promise.all(cookies.cookiesResolves).then(() => {\n        alarms.clear(RELOAD_ALARM_NAME);\n        reloadZen();\n        cookies.onChanged.addListener(cookieWatcher);\n    });\n}\n\nfunction reloadZen() {\n    logger.info('Reloading zen lib');\n    destroyZenLib();\n    addloaderScriptTag(createLib);\n}\n\nfunction destroyZenLib() {\n    deleteLoaderScriptTag();\n    deleteLibResources();\n    document.querySelector('html').removeAttribute('class'); // https://st.yandex-team.ru/VB-6183#1521198947000\n    delete window.YandexZen;\n}\n\nfunction deleteLoaderScriptTag() {\n    if (loaderScriptTag) {\n        document.body.removeChild(loaderScriptTag);\n        loaderScriptTag = null;\n    }\n}\n\nfunction deleteLibResources() {\n    [...document.querySelectorAll('link, script')]\n        .filter(tag => {\n            return tag && (tag.href || tag.src || '').indexOf('vb-lib/vb-lib') >= 0\n        })\n        .forEach(tag => tag.parentNode.removeChild(tag));\n}\n\nfunction addloaderScriptTag(onLoadCallback) {\n    loaderScriptTag = document.createElement('script');\n    loaderScriptTag.src = LOADER_URL;\n    loaderScriptTag.onload = onLoadCallback;\n    document.body.appendChild(loaderScriptTag);\n}\n\nfunction createLib() {\n    const config = exports.getConfig();\n    YandexZen.loader.create(config)\n        .then(scheduleReload)\n        .catch(scheduleReload);\n}\n\nfunction scheduleReload() {\n    alarms.clear(RELOAD_ALARM_NAME);\n    alarms.register({\n        name: RELOAD_ALARM_NAME,\n        delayInMinutes: RELOAD_TIMEOUT\n    }, reloadZen);\n    setTimeout(destroyZenLib, DESTROY_TIMEOUT);\n}\n\nfunction getUserId() {\n    const yandexUid = auth.getYandexUid();\n    const yandexLogin = auth.getYandexLogin();\n    if (yandexUid || yandexLogin) {\n        return [yandexUid, yandexLogin].filter(Boolean).join('_');\n    }\n    return 'zen-user';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/zen/index.js","// UAParser.js v0.6.0\n// Lightweight JavaScript-based User-Agent string parser\n// https://github.com/faisalman/ua-parser-js\n//\n// Copyright © 2012-2013 Faisalman <fyzlman@gmail.com>\n// Dual licensed under GPLv2 & MIT\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        MAJOR       = 'major',\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet';\n\n\n    ///////////\n    // Helper\n    //////////\n\n\n    var util = {\n        has : function (str1, str2) {\n            return str2.toLowerCase().indexOf(str1.toLowerCase()) !== -1;\n        },\n        lowerize : function (str) {\n            return str.toLowerCase();\n        }\n    };\n\n\n    ///////////////\n    // Map helper\n    //////////////\n\n\n    var mapper = {\n\n        rgx : function () {\n\n            // loop through all regexes maps\n            for (var result, i = 0, j, k, p, q, matches, match, args = arguments; i < args.length; i += 2) {\n\n                var regex = args[i],       // even sequence (0,2,4,..)\n                    props = args[i + 1];   // odd sequence (1,3,5,..)\n\n                // construct object barebones\n                if (typeof(result) === UNDEF_TYPE) {\n                    result = {};\n                    for (p in props) {\n                        q = props[p];\n                        if (typeof(q) === OBJ_TYPE) {\n                            result[q[0]] = undefined;\n                        } else {\n                            result[q] = undefined;\n                        }\n                    }\n                }\n\n                // try matching uastring with regexes\n                for (j = k = 0; j < regex.length; j++) {\n                    matches = regex[j].exec(this.getUA());\n                    if (!!matches) {\n                        for (p in props) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof(q) === OBJ_TYPE && q.length > 0) {\n                                if (q.length == 2) {\n                                    if (typeof(q[1]) == FUNC_TYPE) {\n                                        // assign modified match\n                                        result[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        result[q[0]] = q[1];\n                                    }\n                                } else if (q.length == 3) {\n                                    // check whether function or regex\n                                    if (typeof(q[1]) === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        result[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        result[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length == 4) {\n                                        result[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                result[q] = match ? match : undefined;\n                            }\n                        }\n                        break;\n                    }\n                }\n\n                if(!!matches) break; // break the loop immediately if match found\n            }\n            return result;\n        },\n\n        str : function (str, map) {\n\n            for (var i in map) {\n                // check if array\n                if (typeof(map[i]) === OBJ_TYPE && map[i].length > 0) {\n                    for (var j in map[i]) {\n                        if (util.has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (util.has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return str;\n        }\n    };\n\n\n    ///////////////\n    // String map\n    //////////////\n\n\n    var maps = {\n\n        browser : {\n            oldsafari : {\n                major : {\n                    '1' : ['/8', '/1', '/3'],\n                    '2' : '/4',\n                    '?' : '/'\n                },\n                version : {\n                    '1.0'   : '/8',\n                    '1.2'   : '/1',\n                    '1.3'   : '/3',\n                    '2.0'   : '/412',\n                    '2.0.2' : '/416',\n                    '2.0.3' : '/417',\n                    '2.0.4' : '/419',\n                    '?'     : '/'\n                }\n            }\n        },\n\n        device : {\n            sprint : {\n                model : {\n                    'Evo Shift 4G' : '7373KT'\n                },\n                vendor : {\n                    'HTC'       : 'APA',\n                    'Sprint'    : 'Sprint'\n                }\n            }\n        },\n\n        os : {\n            windows : {\n                version : {\n                    'ME'        : '4.90',\n                    'NT 3.11'   : 'NT3.51',\n                    'NT 4.0'    : 'NT4.0',\n                    '2000'      : 'NT 5.0',\n                    'XP'        : ['NT 5.1', 'NT 5.2'],\n                    'Vista'     : 'NT 6.0',\n                    '7'         : 'NT 6.1',\n                    '8'         : 'NT 6.2',\n                    'RT'        : 'ARM'\n                }\n            }\n        }\n    };\n\n\n    //////////////\n    // Regex map\n    /////////////\n\n\n    var regexes = {\n\n        browser : [[\n\n            // Presto based\n            /(opera\\smini)\\/((\\d+)?[\\w\\.-]+)/i,                                 // Opera Mini\n            /(opera\\s[mobiletab]+).+version\\/((\\d+)?[\\w\\.-]+)/i,                // Opera Mobi/Tablet\n            /(opera).+version\\/((\\d+)?[\\w\\.]+)/i,                               // Opera > 9.80\n            /(opera)[\\/\\s]+((\\d+)?[\\w\\.]+)/i                                    // Opera < 9.80\n\n            ], [NAME, VERSION, MAJOR], [\n\n            /\\s(opr)\\/((\\d+)?[\\w\\.]+)/i                                         // Opera Webkit\n            ], [[NAME, 'Opera'], VERSION, MAJOR], [\n\n            // Mixed\n            /(kindle)\\/((\\d+)?[\\w\\.]+)/i,                                       // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/\\s]?((\\d+)?[\\w\\.]+)*/i,\n                                                                                // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n\n            // Trident based\n            /(avant\\s|iemobile|slim|baidu)(?:browser)?[\\/\\s]?((\\d+)?[\\w\\.]*)/i,\n                                                                                // Avant/IEMobile/SlimBrowser/Baidu\n            /(?:ms|\\()(ie)\\s((\\d+)?[\\w\\.]+)/i,                                  // Internet Explorer\n\n            // Webkit/KHTML based\n            /(rekonq)((?:\\/)[\\w\\.]+)*/i,                                        // Rekonq\n            /(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt)\\/((\\d+)?[\\w\\.-]+)/i\n                                                                                // Chromium/Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt\n            ], [NAME, VERSION, MAJOR], [\n\n            /(yabrowser)\\/((\\d+)?[\\w\\.]+)/i                                     // Yandex\n            ], [[NAME, 'Yandex'], VERSION, MAJOR], [\n\n            /(comodo_dragon)\\/((\\d+)?[\\w\\.]+)/i                                 // Comodo Dragon\n            ], [[NAME, /_/g, ' '], VERSION, MAJOR], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5}\\s?browser)\\/v?((\\d+)?[\\w\\.]+)/i\n                                                                                // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION, MAJOR], [\n\n            /(dolfin)\\/((\\d+)?[\\w\\.]+)/i                                        // Dolphin\n            ], [[NAME, 'Dolphin'], VERSION, MAJOR], [\n\n            /((?:android.+)crmo|crios)\\/((\\d+)?[\\w\\.]+)/i                       // Chrome for Android/iOS\n            ], [[NAME, 'Chrome'], VERSION, MAJOR], [\n\n            /version\\/((\\d+)?[\\w\\.]+).+?mobile\\/\\w+\\s(safari)/i                 // Mobile Safari\n            ], [VERSION, MAJOR, [NAME, 'Mobile Safari']], [\n\n            /version\\/((\\d+)?[\\w\\.]+).+?(mobile\\s?safari|safari)/i              // Safari & Safari Mobile\n            ], [VERSION, MAJOR, NAME], [\n\n            /webkit.+?(mobile\\s?safari|safari)((\\/[\\w\\.]+))/i                   // Safari < 3.0\n            ], [NAME, [MAJOR, mapper.str, maps.browser.oldsafari.major], [VERSION, mapper.str, maps.browser.oldsafari.version]], [\n\n            /(konqueror)\\/((\\d+)?[\\w\\.]+)/i,                                    // Konqueror\n            /(webkit|khtml)\\/((\\d+)?[\\w\\.]+)/i\n            ], [NAME, VERSION, MAJOR], [\n\n            // Gecko based\n            /(navigator|netscape)\\/((\\d+)?[\\w\\.-]+)/i                           // Netscape\n            ], [[NAME, 'Netscape'], VERSION, MAJOR], [\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(iceweasel|camino|chimera|fennec|maemo\\sbrowser|minimo|conkeror)[\\/\\s]?((\\d+)?[\\w\\.\\+]+)/i,\n                                                                                // Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror\n            /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\\/((\\d+)?[\\w\\.-]+)/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(mozilla)\\/((\\d+)?[\\w\\.]+).+rv\\:.+gecko\\/\\d+/i,                    // Mozilla\n\n            // Other\n            /(uc\\s?browser|polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\\/\\s]?((\\d+)?[\\w\\.]+)/i,\n                                                                                // UCBrowser/Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf\n            /(links)\\s\\(((\\d+)?[\\w\\.]+)/i,                                      // Links\n            /(gobrowser)\\/?((\\d+)?[\\w\\.]+)*/i,                                  // GoBrowser\n            /(ice\\s?browser)\\/v?((\\d+)?[\\w\\._]+)/i,                             // ICE Browser\n            /(mosaic)[\\/\\s]((\\d+)?[\\w\\.]+)/i                                    // Mosaic\n            ], [NAME, VERSION, MAJOR]\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\\)]/i                     // AMD64\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?:\\smac|;|\\))/i                           // PowerPC\n            ], [[ARCHITECTURE, /ower/, '', util.lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /(ia64(?=;)|68k(?=\\))|arm(?=v\\d+;)|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i\n                                                                                // IA64, 68K, ARM, IRIX, MIPS, SPARC, PA-RISC\n            ], [ARCHITECTURE, util.lowerize]\n        ],\n\n        device : [[\n\n            /\\((ipad|playbook);[\\w\\s\\);-]+(rim|apple)/i                         // iPad/PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n\n            /(hp).+(touchpad)/i,                                                // HP TouchPad\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /\\s(nook)[\\w\\s]+build\\/(\\w+)/i,                                     // Nook\n            /(dell)\\s(strea[kpr\\s\\d]*[\\dko])/i                                  // Dell Streak\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /\\((ip[honed]+);.+(apple)/i                                         // iPod/iPhone\n            ], [MODEL, VENDOR, [TYPE, MOBILE]], [\n\n            /(blackberry)[\\s-]?(\\w+)/i,                                         // BlackBerry\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola)[\\s_-]?([\\w-]+)*/i,\n                                                                                // BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Huawei/Meizu/Motorola\n            /(hp)\\s([\\w\\s]+\\w)/i,                                               // HP iPAQ\n            /(asus)-?(\\w+)/i                                                    // Asus\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /\\((bb10);\\s(\\w+)/i                                                 // BlackBerry 10\n            ], [[VENDOR, 'BlackBerry'], MODEL, [TYPE, MOBILE]], [\n\n            /android.+((transfo[prime\\s]{4,10}\\s\\w+|eeepc|slider\\s\\w+))/i       // Asus Tablets\n            ], [[VENDOR, 'Asus'], MODEL, [TYPE, TABLET]], [\n\n            /(sony)\\s(tablet\\s[ps])/i                                           // Sony Tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(nintendo)\\s([wids3u]+)/i                                          // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n\n            /((playstation)\\s[3portablevi]+)/i                                  // Playstation\n            ], [[VENDOR, 'Sony'], MODEL, [TYPE, CONSOLE]], [\n\n            /(sprint\\s(\\w+))/i                                                  // Sprint Phones\n            ], [[VENDOR, mapper.str, maps.device.sprint.vendor], [MODEL, mapper.str, maps.device.sprint.model], [TYPE, MOBILE]], [\n\n            /(htc)[;_\\s-]+([\\w\\s]+(?=\\))|\\w+)*/i,                               // HTC\n            /(zte)-(\\w+)*/i,                                                    // ZTE\n            /(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\\s)sony)[_\\s-]?([\\w-]+)*/i\n                                                                                // Alcatel/GeeksPhone/Huawei/Lenovo/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            /\\s((milestone|droid[2x]?))[globa\\s]*\\sbuild\\//i,                   // Motorola\n            /(mot)[\\s-]?(\\w+)*/i\n            ], [[VENDOR, 'Motorola'], MODEL, [TYPE, MOBILE]], [\n            /android.+\\s((mz60\\d|xoom[\\s2]{0,2}))\\sbuild\\//i\n            ], [[VENDOR, 'Motorola'], MODEL, [TYPE, TABLET]], [\n\n            /android.+((sch-i[89]0\\d|shw-m380s|gt-p\\d{4}|gt-n8000|sgh-t8[56]9))/i\n            ], [[VENDOR, 'Samsung'], MODEL, [TYPE, TABLET]], [                  // Samsung\n            /((s[cgp]h-\\w+|gt-\\w+|galaxy\\snexus))/i,\n            /(sam[sung]*)[\\s-]*(\\w+-?[\\w-]*)*/i,\n            /sec-((sgh\\w+))/i\n            ], [[VENDOR, 'Samsung'], MODEL, [TYPE, MOBILE]], [\n            /(sie)-(\\w+)*/i                                                     // Siemens\n            ], [[VENDOR, 'Siemens'], MODEL, [TYPE, MOBILE]], [\n\n            /(maemo|nokia).*(n900|lumia\\s\\d+)/i,                                // Nokia\n            /(nokia)[\\s_-]?([\\w-]+)*/i\n            ], [[VENDOR, 'Nokia'], MODEL, [TYPE, MOBILE]], [\n\n            /android\\s3\\.[\\s\\w-;]{10}((a\\d{3}))/i                               // Acer\n            ], [[VENDOR, 'Acer'], MODEL, [TYPE, TABLET]], [\n\n            /android\\s3\\.[\\s\\w-;]{10}(lg?)-([06cv9]{3,4})/i                     // LG\n            ], [[VENDOR, 'LG'], MODEL, [TYPE, TABLET]], [\n            /((nexus\\s4))/i,\n            /(lg)[e;\\s-\\/]+(\\w+)*/i\n            ], [[VENDOR, 'LG'], MODEL, [TYPE, MOBILE]], [\n\n            /(mobile|tablet);.+rv\\:.+gecko\\//i                                  // Unidentifiable\n            ], [TYPE, VENDOR, MODEL]\n        ],\n\n        engine : [[\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\\/([\\w\\.]+)/i,     // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m\n            /(khtml|tasman|links)[\\/\\s]\\(?([\\w\\.]+)/i,                          // KHTML/Tasman/Links\n            /(icab)[\\/\\s]([23]\\.[\\d\\.]+)/i                                      // iCab\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]+).*(gecko)/i                                           // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows based\n            /(windows)\\snt\\s6\\.2;\\s(arm)/i,                                     // Windows RT\n            /(windows\\sphone(?:\\sos)*|windows\\smobile|windows)[\\s\\/]?([ntce\\d\\.\\s]+\\w)/i\n            ], [NAME, [VERSION, mapper.str, maps.os.windows.version]], [\n            /(win(?=3|9|n)|win\\s9x\\s)([nt\\d\\.]+)/i\n            ], [[NAME, 'Windows'], [VERSION, mapper.str, maps.os.windows.version]], [\n\n            // Mobile/Embedded OS\n            /\\((bb)(10);/i                                                      // BlackBerry 10\n            ], [[NAME, 'BlackBerry'], VERSION], [\n            /(blackberry)\\w*\\/?([\\w\\.]+)*/i,                                    // Blackberry\n            /(tizen)\\/([\\w\\.]+)/i,                                              // Tizen\n            /(android|webos|palm\\os|qnx|bada|rim\\stablet\\sos|meego)[\\/\\s-]?([\\w\\.]+)*/i\n                                                                                // Android/WebOS/Palm/QNX/Bada/RIM/MeeGo\n            ], [NAME, VERSION], [\n            /(symbian\\s?os|symbos|s60(?=;))[\\/\\s-]?([\\w\\.]+)*/i                 // Symbian\n            ], [[NAME, 'Symbian'], VERSION],[\n            /mozilla.+\\(mobile;.+gecko.+firefox/i                               // Firefox OS\n            ], [[NAME, 'Firefox OS'], VERSION], [\n\n            // Console\n            /(nintendo|playstation)\\s([wids3portablevu]+)/i,                    // Nintendo/Playstation\n\n            // GNU/Linux based\n            /(mint)[\\/\\s\\(]?(\\w+)*/i,                                           // Mint\n            /(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\\/\\s-]?([\\w\\.-]+)*/i,\n                                                                                // Joli/Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware\n                                                                                // Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk\n            /(hurd|linux)\\s?([\\w\\.]+)*/i,                                       // Hurd/Linux\n            /(gnu)\\s?([\\w\\.]+)*/i                                               // GNU\n            ], [NAME, VERSION], [\n\n            /(cros)\\s[\\w]+\\s([\\w\\.]+\\w)/i                                       // Chromium OS\n            ], [[NAME, 'Chromium OS'], VERSION],[\n\n            // Solaris\n            /(sunos)\\s?([\\w\\.]+\\d)*/i                                           // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n\n            // BSD based\n            /\\s([frentopc-]{0,4}bsd|dragonfly)\\s?([\\w\\.]+)*/i                   // FreeBSD/NetBSD/OpenBSD/PC-BSD/DragonFly\n            ], [NAME, VERSION],[\n\n            /(ip[honead]+)(?:.*os\\s*([\\w]+)*\\slike\\smac|;\\sopera)/i             // iOS\n            ], [[NAME, 'iOS'], [VERSION, /_/g, '.']], [\n\n            /(mac\\sos\\sx)\\s?([\\w\\s\\.]+\\w)*/i                                    // Mac OS\n            ], [NAME, [VERSION, /_/g, '.']], [\n\n            // Other\n            /(haiku)\\s(\\w+)/i,                                                  // Haiku\n            /(aix)\\s((\\d)(?=\\.|\\)|\\s)[\\w\\.]*)*/i,                               // AIX\n            /(macintosh|mac(?=_powerpc)|plan\\s9|minix|beos|os\\/2|amigaos|morphos|risc\\sos)/i,\n                                                                                // Plan9/Minix/BeOS/OS2/AmigaOS/MorphOS/RISCOS\n            /(unix)\\s?([\\w\\.]+)*/i                                              // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n    var UAParser = function UAParser (uastring) {\n        if (!(this instanceof UAParser)) return new UAParser(uastring).getResult();\n\n        var ua = uastring || ((window && window.navigator && window.navigator.userAgent) ? window.navigator.userAgent : EMPTY);\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(uastring).getResult();\n        }\n        this.getBrowser = function () {\n            return mapper.rgx.apply(this, regexes.browser);\n        };\n        this.getCPU = function () {\n            return mapper.rgx.apply(this, regexes.cpu);\n        };\n        this.getDevice = function () {\n            return mapper.rgx.apply(this, regexes.device);\n        };\n        this.getEngine = function () {\n            return mapper.rgx.apply(this, regexes.engine);\n        };\n        this.getOS = function () {\n            return mapper.rgx.apply(this, regexes.os);\n        };\n        this.getResult = function() {\n            return {\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return ua;\n        };\n        this.setUA = function (uastring) {\n            ua = uastring;\n            return this;\n        };\n        this.setUA(ua);\n    };\n\n    module.exports = UAParser;\n})(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/user-agent-parser/src/ua-parser.js\n// module id = 496\n// module chunks = 1","/**\n * Registers all loaded frontends and checks loading time\n */\n'use strict';\n\nconst buildData = require('../debug/build-data');\nconst logger = require('../../utils/logger').create('Frontend/init-checker');\nconst clicker = require('../statistics/clicker');\n\nconst FRONTEND_LOADING_TIMEOUT_MS = 3000;\nconst frontends = new Map();\n\n/**\n * Register new loading frontend\n * @param {Number} tabId\n */\nexports.started = function (tabId) {\n    getAndClearExistingItem(tabId);\n    const item = {\n        tabId: tabId,\n        startTime: performance.now(),\n        timer: setTimeout(timeoutElapsed.bind(null, tabId), FRONTEND_LOADING_TIMEOUT_MS),\n    };\n    frontends.set(tabId, item);\n};\n\n/**\n * Register frontend loaded\n * @param {Number} tabId\n */\nexports.loaded = function (tabId) {\n    const item = getAndClearExistingItem(tabId);\n    if (item && !buildData.git.release) {\n        const loadingTime = performance.now() - item.startTime;\n        logger.info('Frontend loading time in tab %i: %i ms', tabId, loadingTime);\n    }\n};\n\nfunction timeoutElapsed(tabId) {\n    const item = getAndClearExistingItem(tabId);\n    if (item) {\n        logger.error('Frontend loading in tab %i takes more than %i ms', tabId, FRONTEND_LOADING_TIMEOUT_MS);\n        clicker.send({path: 'system.frontdisplayfail'});\n    }\n}\n\nfunction getAndClearExistingItem(tabId) {\n    const item = frontends.get(tabId);\n    if (item) {\n        clearTimeout(item.timer);\n        frontends.delete(tabId);\n    }\n    return item;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/frontend/init-checker.js","/**\n * Monitors guide action urls and executes appropriate actions\n * @see - https://st.yandex-team.ru/VB-4994\n */\n'use strict';\n\nvar urlUtils = require('../../utils/url');\nvar channel = require('../../utils/channel');\n\nvar URLS = [{\n    domainRegExp: /element\\.yandex\\.(ru|ua|by|kz|com\\.tr)/,\n    path: '/vb/guide'\n}];\n\nvar ACTION_PARAM = 'action';\n\n/**\n * Starts listen to passed channel\n * @param {Object} navigationChannel\n */\nexports.start = function (navigationChannel) {\n    navigationChannel.addListener(handleNavigationEvent);\n};\n\n/**\n * Removes listener from navigation channel\n * @param {Object} navigationChannel\n */\nexports.stop = function (navigationChannel) {\n    navigationChannel.removeListener(handleNavigationEvent);\n};\n\nexports.onAction = channel.create();\n\n/**\n * @param {Number} tabId\n * @param {Object} tab\n */\nfunction handleNavigationEvent(tabId, tab) {\n    if (tab && tab.data && tab.data.url && isGuideUrl(tab.data.url)) {\n        processNavigation(tab.data.url);\n    }\n}\n\n/**\n * @param {String} url\n * @returns {Boolean}\n */\nfunction isGuideUrl(url) {\n    return URLS.some(function (urlData) {\n        var domain = urlUtils.getNormalDomain(url);\n        var path = urlUtils.getNormalPath(url);\n        return urlData.path === path &&\n            urlData.domainRegExp.test(domain);\n    });\n}\n\n/**\n * @param {String} url\n */\nfunction processNavigation(url) {\n    var query = urlUtils.getQueryObject(url);\n    var action = query[ACTION_PARAM];\n    if (action) {\n        exports.onAction.dispatch({action: action});\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/guide/actions-watcher.js","/**\n * VB guide helpers\n * @see - https://st.yandex-team.ru/VB-4994\n */\n'use strict';\n\nvar tabsWatcher = require('../../utils/tabs-watcher-2');\nvar actionWatcher = require('./actions-watcher');\nvar logger = require('../../utils/logger').create('guide');\nvar platformAbout = require('../../platform/about');\n\nvar ACTION_METHODS = Object.create(null);\nACTION_METHODS.yes = openNewVisualBookmarksTab;\n\nexports.init = function () {\n    actionWatcher.onAction.addListener(handleActionEvent);\n    actionWatcher.start(tabsWatcher.events.onUpdated);\n};\n\n/**\n * @param {{action: String}} event\n */\nfunction handleActionEvent(event) {\n    logger.info('\"%s\" action has been received', event.action);\n    var method = ACTION_METHODS[event.action];\n    if (method) {\n        logger.info('Call method for \"%s\" action', event.action);\n        method();\n    }\n}\n\n/**\n * Opens new tab with Visual Bookmarks page\n */\nfunction openNewVisualBookmarksTab() {\n    chrome.tabs.create({\n        url: platformAbout.visbookmarksUrl\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/guide/index.js","/**\n * User controls for host permissions\n * @see https://st.yandex-team.ru/VB-6220\n */\n'use strict';\n\nvar Channel = require('../../utils/channel');\n\nvar REQUIRED_HOST_PERMISSIONS = [\n  '<all_urls>',\n  'http://*/*',\n  'https://*/*',\n];\n\nexports.onRestrictedByUser = new Channel();\n\nexports.init = function() {\n  if (!chrome.permissions.onRemoved) {\n    return;\n  }\n  chrome.permissions.onRemoved.addListener(handlePermissionsRemoved);\n}\n\nfunction handlePermissionsRemoved(permissions) {\n  var isRestricted = permissions.origins.some(function(origin) {\n    return REQUIRED_HOST_PERMISSIONS.indexOf(origin) >= 0;\n  });\n  if (isRestricted) {\n    exports.onRestrictedByUser.dispatch();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/host-permissions/index.js","/**\n * Host permissions notification\n * @see https://st.yandex-team.ru/VB-6220\n */\n'use strict';\n\nvar assign = require('lodash/object/assign');\nvar hostPermissions = require('./index');\nvar branding = require('../branding');\n\nvar NOTICATION_OPTIONS = {\n  type: 'basic',\n  iconUrl: '/icons/128.png'\n};\n\nexports.init = function () {\n  hostPermissions.onRestrictedByUser.addListener(function() {\n    chrome.notifications.create(getNotificationOptions());\n  });\n}\n\nfunction getNotificationOptions() {\n  return assign({\n    title: branding.info.productName,\n    message: chrome.i18n.getMessage('host_permissions_notification'),\n  }, NOTICATION_OPTIONS)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/host-permissions/notification.js","/**\n * Clears file storage by deleting files which no longer used in any of modules\n */\n'use strict';\n\nvar parallel = require('async').parallel;\nvar series = require('async').series;\nvar flatten = require('lodash/array/flatten');\n\nvar logger = require('../../utils/logger').create('Maintenance');\nvar alarms = require('../../utils/alarms');\nvar fs = require('../../platform/file-storage');\nvar fileUtils = require('../../utils/file-utils');\n\nvar collection = require('../thumbs/collection');\nvar screenshots = require('../screenshots/screenshots');\nvar cloudLogo = require('../cloud-logo');\nvar titleLoader = require('../site-info/title');\nvar faviconLoader = require('../favicon');\nvar tableauLoader = require('../site-info/tableau');\nvar customLogo = require('../custom-logo');\n\nvar ALARM = {\n    name: 'maintenance',\n    periodInMinutes: 2 * 24 * 60,\n};\n\nvar DIRS = [\n    require('../screenshots/screenshots').SCREENSHOT_DIR,\n    require('../cloud-logo/saver').CLOUD_LOGO_DIR,\n    require('../cloud-logo/saver').CLOUD_LOGO_SUB_DIR,\n    tableauLoader.TABLEAU_DIR,\n    faviconLoader.FAVICON_DIR,\n    require('../custom-logo/logo-saver').CUSTOM_LOGO_DIR,\n];\n\nexports.init = function () {\n    alarms.register(ALARM, exports.run);\n};\n\nexports.run = function (callback) {\n    /**\n     * Здесь можно было бы использовать `async.series` вместо `async.parallel`,\n     * однако это приводит к ошибке в тестах:\n     *   maintenance \"after each\" hook:\n     *   Uncaught TypeError: Cannot read property 'ls' of undefined\n     * Кажется, это проблема синона - когда он стабает метод, то при каких-то условиях может его потом вызывать.\n     * В тестах стабается fs.list, внутри которого уже используется filer.ls.\n     * Сам fs.list вызываться не должен, но почему то вызывается.\n     */\n    parallel(DIRS.map(function (dir) {\n        return getFileList.bind(null, dir);\n    }), function (_error, allFiles) {\n        clearCaches();\n        deleteUnusedFiles(flatten(allFiles), callback);\n    });\n};\n\nfunction clearCaches() {\n    logger.info('Clear caches');\n    screenshots.clearCache();\n    cloudLogo.clearExpired();\n    titleLoader.clearExpired();\n    faviconLoader.clearExpired();\n    tableauLoader.clearExpired();\n}\n\nfunction getFileList(folder, callback) {\n    fs.list(fileUtils.wrapSeparator(folder), function (error, files) {\n        if (error) {\n            logger.error('Error while listing files in folder: %s, error: %j', folder, error);\n        }\n        callback(null, files || []);\n    });\n}\n\nfunction deleteUnusedFiles(allFiles, callback) {\n    var filesInUse = getFilesInUse();\n    logger.info('Going to delete unused files');\n    logger.info('All files: %j', allFiles);\n    logger.info('Files in use: %j', filesInUse);\n    var deleteTasks = createDeleteTasks(filesInUse, allFiles);\n    series(deleteTasks, callback);\n}\n\nfunction createDeleteTasks(filesInUse, allFiles) {\n    return allFiles\n        .reduce(function (deleteTasks, path) {\n            var normalizedPath = fileUtils.normalizePath(path);\n            if (filesInUse.indexOf(normalizedPath) === -1) {\n                deleteTasks.push(deleteFile.bind(null, path));\n            }\n            return deleteTasks;\n        }, []);\n}\n\nfunction getFilesInUse() {\n    return getThumbsFilesInUse()\n        .concat(getCustomLogoFilesInUse())\n        .filter(Boolean)\n        .map(fileUtils.normalizePath);\n}\n\nfunction getCustomLogoFilesInUse() {\n    return customLogo.getAll()\n        .reduce(function (filesInUse, customLogo) {\n            var tillTimestamp = new Date(customLogo.till).setHours(23, 59, 59, 999);\n            if (tillTimestamp >= Date.now()) {\n                return filesInUse.concat([\n                    customLogo.localPath\n                ]);\n            }\n            return filesInUse;\n        }, []);\n}\n\nfunction getThumbsFilesInUse() {\n    return collection.items\n        .reduce(function (filesInUse, thumb) {\n            return filesInUse.concat([\n                thumb.cloudImageFsPath,\n                thumb.cloudImageSubFsPath,\n                thumb.tableauFsPath,\n                thumb.faviconFsPath,\n                thumb.screenshotFsPath\n            ]);\n        }, []);\n}\n\nfunction deleteFile(path, callback) {\n    logger.info('Delete file: %s', path);\n    fs.remove(path, function (error) {\n        if (error) {\n            logger.error('Error while deleting file: %s, error: %j', path, error);\n        }\n        callback();\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/maintenance/index.js","/**\n * Removes obsolete log levels preferences from settings\n */\n\n'use strict';\n\nvar logger = require('../../utils/logger').create('migration-2.26.0');\n\nexports.VERSION = '2.26.0';\n\n/**\n * @param {Object} options\n * @param {Function} callback\n */\nexports.run = function (options, callback) {\n    logger.info('Starting...');\n    var settingsToRemove = [\n        'settings.logLevelConsole', // замена на consoleLogLevels\n        'settings.logLevelFile', // замена на platformLogLevels\n        'settings.experimentConfigs', // удаляем, т.к. конфиги всегда лежат в самой сборке и внутри экспериментов\n        'settings.advertisementConfig', // теперь используется более универсальный remote-config\n        'settings.showStatModal', // модальное окно с 2.24 работает на механизме рекламы, это поле не нужно\n    ];\n    try {\n        chrome.storage.local.remove(settingsToRemove, handleRemoveEvent.bind(null, callback));\n    } catch (e) {\n        logger.error('Problem with chrome.storage.local api: %o', e);\n        callback();\n    }\n};\n\n/**\n * @param {Function} callback\n */\nfunction handleRemoveEvent(callback) {\n    if (chrome.runtime.lastError) {\n        logger.error('runtime.lastError in handleRemoveEvent: %o', chrome.runtime.lastError);\n    } else {\n        logger.info('Settings have been removed');\n    }\n    callback();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/migration/2.26.0.js","/**\n * Migration 2.27.0\n */\n\n'use strict';\n\nexports.VERSION = '2.27.0';\n\nvar logger = require('../../utils/logger').create('Migration ' + exports.VERSION);\nvar settings = require('../settings/settings');\nvar bgSelector = require('../backgrounds/selector');\n\n/**\n * @param {Object} options\n * @param {Function} callback\n */\nexports.run = function (options, callback) {\n    logger.info('Starting...');\n    updateBackgroundImagePath();\n    callback();\n};\n\n/**\n * В версии 2.23 мы стали хранить путь к текущему фону в настройке backgroundImagePath,\n * в том числе к брендированному (в пути которого присутствует имя папки брендинга).\n * В 2.27 мы переименовываем папки брендинга (default -> yandex, turkey-elements --> tb),\n * поэтому нужно обновить пути к фону в настройках\n *\n * https://st.yandex-team.ru/VB-5669\n */\nfunction updateBackgroundImagePath() {\n    var path = settings.get('backgroundImagePath');\n    if (isBrandingPath(path)) {\n        logger.info('Replace background branded path %s to local path', path);\n        var id = settings.get('backgroundImage');\n        bgSelector.selectBackground(id);\n    }\n}\n\nfunction isBrandingPath(path) {\n    return path && path.indexOf('chrome-extension://') === 0;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/migration/2.27.0.js","/**\n * Migration 2.28.0\n */\n\n'use strict';\n\nexports.VERSION = '2.28.0';\n\nconst logger = require('../../utils/logger').create('Migration ' + exports.VERSION);\nconst cloudBackgrounds = require('../backgrounds/cloud-backgrounds');\nconst fontColors = require('../backgrounds/font-colors');\n\n/**\n * @param {Object} options\n * @param {Function} callback\n */\nexports.run = function (options, callback) {\n    logger.info('Starting...');\n    updateBgFontColors();\n    callback();\n};\n\n/**\n * До 2.28 мы всегда рассчитывали цвет текста для фонов, хотя для брендированных и облачных они известны.\n * Это был баг. В 2.28 это исправили, но все рассчитанные цвета у нас кешируются в настройках\n * (backgroundImagesFontColors) и для каких-то фонов они там неправильные сейчас.\n * Поэтому в миграции нужно перезаписать кеш для всех облачных фонов\n *\n * https://st.yandex-team.ru/VB-5664\n * https://st.yandex-team.ru/VB-5733\n */\nfunction updateBgFontColors() {\n    const fontColorsMap = fontColors.getAll();\n    const cloud = cloudBackgrounds.getBackgrounds();\n    let hasChanges = false;\n    Object.keys(fontColorsMap).forEach(bgId => {\n        if (cloud[bgId] && cloud[bgId].color !== fontColorsMap[bgId]) {\n            logger.info('Update cached font color for bg: %s %s --> %s', bgId, fontColorsMap[bgId], cloud[bgId].color);\n            fontColorsMap[bgId] = cloud[bgId].color;\n            hasChanges = true;\n        }\n    });\n    if (hasChanges) {\n        fontColors.setAll(fontColorsMap);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/migration/2.28.0.js","/**\n * Миграции\n * Важно: здесь версии не общего бэкенда, а финального расширения!\n */\n\n'use strict';\n\nvar asyncLib = require('async');\nvar utils = require('../../utils/utils');\nvar logger = require('../../utils/logger').create('Migration');\n\nvar migrations = [\n    require('./2.23.0'),\n    require('./2.26.0'),\n    require('./2.27.0'),\n    require('./2.28.0'),\n    // ...\n];\n\nmodule.exports = {\n    /**\n     * Run migrations\n     * @param {Object} options\n     * @param {String} options.previousVersion\n     * @param {String} options.currentVersion\n     * @param {Object} options.migrationData\n     * @param {Function} callback\n     */\n    run: function (options, callback) {\n        // оставляем только те, которые попадают в текущий интервал версий\n        var actualMigrations = migrations.filter(function (migration) {\n            return utils.versionCompare(migration.VERSION, options.previousVersion, {zeroExtend: true}) > 0\n                && utils.versionCompare(migration.VERSION, options.currentVersion, {zeroExtend: true}) <= 0;\n        });\n\n        var tasks = actualMigrations.map(function (migration) {\n            return function (callback) {\n                migration.run(options, callback);\n            };\n        });\n\n        asyncLib.series(tasks, function (err) {\n            logger.info('All migrations passed');\n            callback(err);\n        });\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/migration/index.js","'use strict';\n\nconst colorUtils = require('../../utils/colors');\nconst events = require('./events');\n\nclass ColorsHandler {\n    constructor() {}\n\n    /**\n     * Handles Filer.calculateDominantColorByUrl method call.\n     * @param {Object} params\n     * @private\n     */\n    _calculateDominantColorByUrl({imgUrl, options, sendResponse}) {\n        colorUtils.calculateDominantColorByUrlOriginal(imgUrl, options, (color) => {\n            sendResponse({color});\n        });\n    }\n\n    /**\n     * Handles Filer.calculateFontColorByUrl method call.\n     * @param {Object} params\n     * @private\n     */\n    _calculateFontColorByUrl({imgUrl, sendResponse}) {\n        colorUtils.calculateFontColorByUrlOriginal(imgUrl, (color) => {\n            sendResponse({color});\n        });\n    }\n\n    handle(req, _sender) {\n        switch (req.type) {\n            case events.backend.COLORS_DOMINANT_COLOR_BY_URL:\n                this._calculateDominantColorByUrl(req.data);\n                break;\n            case events.backend.COLORS_FONT_COLOR_BY_URL:\n                this._calculateFontColorByUrl(req.data);\n                break;     \n            default:\n                // Cannot handle.\n                return;\n        }\n\n        // Indicate an async response.\n        return true;\n    }\n};\n\nmodule.exports = new ColorsHandler();\n\n\n\n// WEBPACK FOOTER //\n// ./modules/offscreen/colors-handler.js","'use strict';\n\nconst Filer = require('../../libs/filer');\nconst events = require('./events');\n\nconst DATA_URI_REG_EXP = /^data:/;\n\nclass FilerHandler {\n    constructor() {\n        this.filer = new Filer();\n    }\n\n    /**\n     * Returns whether url string is data uri.\n     * @param {String} url\n     * @returns {Boolean}\n     * @private\n     */\n    _isDataUri(url) {\n        return typeof url === 'string' &&\n            DATA_URI_REG_EXP.test(url);\n    }\n\n    /**\n     * Returns error handler for the backend message.\n     * @param {Function} sendResponse\n     * @returns {Function}\n     * @private\n     */\n    _getErrorHandler(sendResponse) {\n        return (err) => {\n            sendResponse({errObj: {name: err.name, message: err.message}});\n        }\n    }\n\n    /**\n     * Handles Filer.init method call.\n     * @param {Object} params\n     * @private\n     */\n    _init({opt_initObj, sendResponse}) {\n        this.filer.init(opt_initObj, () => {\n            sendResponse({})\n        }, this._getErrorHandler(sendResponse));\n    }\n\n    /**\n     * Handles Filer.ls method call.\n     * @param {Object} params\n     * @private\n     */\n    _ls({dirEntryOrPath, sendResponse}) {\n        this.filer.ls(dirEntryOrPath, (entries) => {\n            sendResponse({\n                entries: entries.map((entry) =>\n                    ({fullPath: entry.fullPath, name: entry.name}))\n            });\n        }, this._getErrorHandler(sendResponse));\n    }\n\n    /**\n     * Handles Filer.mkdir method call.\n     * @param {Object} params\n     * @private\n     */\n    _mkdir({path, opt_exclusive, sendResponse}) {\n        this.filer.mkdir(path, opt_exclusive, (entry) => {\n            sendResponse({\n                entry: {fullPath: entry.fullPath, name: entry.name}\n            });\n        }, this._getErrorHandler(sendResponse));\n    }\n\n    /**\n     * Handles Filer.open method call.\n     * @param {Object} params\n     * @private\n     */\n    _open({entryOrPath, sendResponse}) {\n        this.filer.open(entryOrPath, (file) => {\n            sendResponse({\n                file: Filer.fileToObjectURL(file)\n            });\n        }, this._getErrorHandler(sendResponse));\n    }\n\n    /**\n     * Handles Filer.pathToFilesystemURL method call.\n     * @param {Object} params\n     * @private\n     */\n    _pathToFilesystemURL({path, sendResponse}) {\n        this.filer.pathToFilesystemURL(path, (path) => {\n            sendResponse({path});\n        }, this._getErrorHandler(sendResponse));\n    }\n\n    /**\n     * Handles Filer.create method call.\n     * @param {Object} params\n     * @private\n     */\n    _create({path, opt_exclusive, sendResponse}) {\n        this.filer.create(path, opt_exclusive, () => {\n            sendResponse({});\n        }, this._getErrorHandler(sendResponse));\n    }\n\n    /**\n     * Handles Filer.mv method call.\n     * @param {Object} params\n     * @private\n     */\n    _mv({src, dest, opt_newName, sendResponse}) {\n        this.filer.mv(src, dest, opt_newName, (entry) => {\n            sendResponse({\n                entry: {fullPath: entry.fullPath, name: entry.name}\n            });\n        }, this._getErrorHandler(sendResponse));\n    }\n\n    /**\n     * Handles Filer.rm method call.\n     * @param {Object} params\n     * @private\n     */\n    _rm({entryOrPath, sendResponse}) {\n        this.filer.rm(entryOrPath, () => {\n            sendResponse({});\n        }, this._getErrorHandler(sendResponse));\n    }\n\n    /**\n     * Handles Filer.cd method call.\n     * @param {Object} params\n     * @private\n     */\n    _cd({dirEntryOrPath, sendResponse}) {\n        this.filer.cd(dirEntryOrPath, (entry) => {\n            sendResponse({\n                entry: {fullPath: entry.fullPath, name: entry.name}\n            });\n        }, this._getErrorHandler(sendResponse));\n    }\n\n    /**\n     * Handles Filer.cp method call.\n     * @param {Object} params\n     * @private\n     */\n    _cp({src, dest, opt_newName, sendResponse}) {\n        this.filer.cp(src, dest, opt_newName, (entry) => {\n            sendResponse({\n                entry: {fullPath: entry.fullPath, name: entry.name}\n            });\n        }, this._getErrorHandler(sendResponse));\n    }\n\n    /**\n     * Handles Filer.write method call.\n     * @param {Object} params\n     * @private\n     */\n    _write({entryOrPath, writeData, sendResponse}) {\n        if (this._isDataUri(writeData)) {\n            writeData = Filer.dataURLToBlob(writeData);\n        }\n\n        this.filer.write(entryOrPath, writeData, (entry) => {\n            sendResponse({\n                entry: {name: entry.name, path: entry.fullPath}\n            });\n        }, this._getErrorHandler(sendResponse));\n    }\n\n    /**\n     * Handles Filer.df method call.\n     * @param {Object} params\n     * @private\n     */\n    _df({sendResponse}) {\n        this.filer.df((byteUsed, byteLeft, byteCap) => {\n            sendResponse({\n                data: {byteUsed, byteLeft, byteCap}\n            });\n        }, this._getErrorHandler(sendResponse));\n    }\n\n    /**\n     * Handles Filer.getEntry method call.\n     * @param {Object} params\n     * @private\n     */\n    _getEntry({fileName, sendResponse}) {\n        this.filer.getEntry(fileName, (entry) => {\n            sendResponse({\n                entry: entry.toURL()\n            });\n        }, this._getErrorHandler(sendResponse));\n    }\n\n    handle(req, _sender) {\n        if (!this.isFilerInitializing) {\n            this.isFilerInitializing = new Promise((resolve) => {\n                this.filer.init({persistent: true, size: 0}, () => {\n                    resolve();\n                });\n            });\n        }\n\n        let handler = null;\n        switch (req.type) {\n            case events.backend.FILER_CD:\n                handler = this._cd;\n                break;\n            case events.backend.FILER_CP:\n                handler = this._cp;\n                break;\n            case events.backend.FILER_CREATE:\n                handler = this._create;\n                break;\n            case events.backend.FILER_DF:\n                handler = this._df;\n                break;\n            case events.backend.FILER_GET_ENTRY:\n                handler = this._getEntry;\n                break;\n            case events.backend.FILER_INIT:\n                handler = this._init;\n                break;\n            case events.backend.FILER_LS:\n                handler = this._ls;\n                break;\n            case events.backend.FILER_MKDIR:\n                handler = this._mkdir;\n                break;\n            case events.backend.FILER_MV:\n                handler = this._mv;\n                break;\n            case events.backend.FILER_OPEN:\n                handler = this._open;\n                break;\n            case events.backend.FILER_PATH_TO_FILESYSTEM_URL:\n                handler = this._pathToFilesystemURL;\n                break;\n            case events.backend.FILER_RM:\n                handler = this._rm;\n                break;\n            case events.backend.FILER_WRITE:\n                handler = this._write;\n                break;\n            default:\n                // Cannot handle.\n                return;\n        }\n\n        handler = handler.bind(this);\n        this.isFilerInitializing.then(() => {\n            handler(req.data);  \n        });\n\n        // Indicate an async response.\n        return true;\n    }\n};\n\nmodule.exports = new FilerHandler();\n\n\n\n// WEBPACK FOOTER //\n// ./modules/offscreen/filer-handler.js","/**\n * Copyright 2013 - Eric Bidelman\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n\n * @fileoverview\n * Convenient wrapper library for the HTML5 Filesystem API, implementing\n * familiar UNIX commands (cp, mv, ls) for its API.\n *\n * @author Eric Bidelman (ebidel@gmail.com)\n * @version: 0.4.3\n */\n\n'use strict';\n\nvar self = window; // window or worker context.\n\nself.requestFileSystem = self.requestFileSystem || self.webkitRequestFileSystem;\n\nself.resolveLocalFileSystemURL = self.resolveLocalFileSystemURL ||\n                                 self.webkitResolveLocalFileSystemURL;\nnavigator.temporaryStorage = navigator.temporaryStorage ||\n                             navigator.webkitTemporaryStorage;\nnavigator.persistentStorage = navigator.persistentStorage ||\n                              navigator.webkitPersistentStorage;\nself.BlobBuilder = self.BlobBuilder || self.MozBlobBuilder ||\n                   self.WebKitBlobBuilder;\n\n// Prevent errors in browsers that don't support FileError.\nif (self.FileError === undefined) {\n  var FileError = function() {};\n  FileError.prototype.prototype = Error.prototype;\n} else {\n    FileError = self.FileError;\n}\n\nvar Util = {\n\n  /**\n   * Turns a NodeList into an array.\n   *\n   * @param {NodeList} list The array-like object.\n   * @return {Array} The NodeList as an array.\n   */\n  toArray: function(list) {\n    return Array.prototype.slice.call(list || [], 0);\n  },\n\n  /*toDataURL: function(contentType, uint8Array) {\n    return 'data:' + contentType + ';base64,' +\n        self.btoa(this.arrayToBinaryString(uint8Array));\n  },*/\n\n  /**\n   * Creates a data: URL from string data.\n   *\n   * @param {string} str The content to encode the data: URL from.\n   * @param {string} contentType The mimetype of the data str represents.\n   * @param {bool=} opt_isBinary Whether the string data is a binary string\n   *     (and therefore should be base64 encoded). True by default.\n   * @return {string} The created data: URL.\n   */\n  strToDataURL: function(str, contentType, opt_isBinary) {\n    var isBinary = opt_isBinary != undefined ? opt_isBinary : true;\n    if (isBinary) {\n      return 'data:' + contentType + ';base64,' + self.btoa(str);\n    } else {\n      return 'data:' + contentType + ',' + str;\n    }\n  },\n\n  /**\n   * Creates a blob: URL from a binary str.\n   *\n   * @param {string} binStr The content as a binary string.\n   * @param {string=} opt_contentType An optional mimetype of the data.\n   * @return {string} A new blob: URL.\n   */\n  strToObjectURL: function(binStr, opt_contentType) {\n\n    var ui8a = new Uint8Array(binStr.length);\n    for (var i = 0; i < ui8a.length; ++i) {\n      ui8a[i] = binStr.charCodeAt(i);\n    }\n\n    var blob = new Blob([ui8a],\n                        opt_contentType ? {type: opt_contentType} : {});\n\n    return self.URL.createObjectURL(blob);\n  },\n\n  /**\n   * Creates a blob: URL from a File or Blob object.\n   *\n   * @param {Blob|File} blob The File or Blob data.\n   * @return {string} A new blob: URL.\n   */\n  fileToObjectURL: function(blob) {\n    return self.URL.createObjectURL(blob);\n  },\n\n  /**\n   * Reads a File or Blob object and returns it as an ArrayBuffer.\n   *\n   * @param {Blob|File} blob The File or Blob data.\n   * @param {Function} callback Success callback passed the array buffer.\n   * @param {Function=} opt_error Optional error callback if the read fails.\n   */\n  fileToArrayBuffer: function(blob, callback, opt_errorCallback) {\n    var reader = new FileReader();\n    reader.onload = function(e) {\n      callback(e.target.result);\n    };\n    reader.onerror = function(e) {\n      if (opt_errorCallback) {\n        opt_errorCallback(e);\n      }\n    };\n\n    reader.readAsArrayBuffer(blob);\n  },\n\n  /**\n   * Creates and returns a blob from a data URL (either base64 encoded or not).\n   *\n   * @param {string} dataURL The data URL to convert.\n   * @return {Blob} A blob representing the array buffer data.\n   */\n  dataURLToBlob: function(dataURL) {\n    var BASE64_MARKER = ';base64,';\n    if (dataURL.indexOf(BASE64_MARKER) == -1) {\n      var parts = dataURL.split(',');\n      var contentType = parts[0].split(':')[1];\n      var raw = decodeURIComponent(parts[1]);\n\n      return new Blob([raw], {type: contentType});\n    }\n\n    var parts = dataURL.split(BASE64_MARKER);\n    var contentType = parts[0].split(':')[1];\n    var raw = window.atob(parts[1]);\n    var rawLength = raw.length;\n\n    var uInt8Array = new Uint8Array(rawLength);\n\n    for (var i = 0; i < rawLength; ++i) {\n      uInt8Array[i] = raw.charCodeAt(i);\n    }\n\n    return new Blob([uInt8Array], {type: contentType});\n  },\n\n  /**\n   * Reads an ArrayBuffer as returns its contents as a binary string.\n   *\n   * @param {ArrayBuffer} buffer The buffer of data.\n   * @param {string=} opt_contentType An optional mimetype of the data.\n   * @return {Blob} A blob representing the array buffer data.\n   */\n  arrayBufferToBlob: function(buffer, opt_contentType) {\n    var uInt8Array = new Uint8Array(buffer);\n    return new Blob([uInt8Array],\n                    opt_contentType ? {type: opt_contentType} : {});\n  },\n\n  /**\n   * Reads an ArrayBuffer as returns its contents as a binary string.\n   *\n   * @param {ArrayBuffer} buffer The buffer of data.\n   * @param {Function} callback Success callback passed the binary string.\n   * @param {Function=} opt_error Optional error callback if the read fails.\n   */\n  arrayBufferToBinaryString: function(buffer, callback, opt_errorCallback) {\n    var reader = new FileReader();\n    reader.onload = function(e) {\n      callback(e.target.result);\n    };\n    reader.onerror = function(e) {\n      if (opt_errorCallback) {\n        opt_errorCallback(e);\n      }\n    };\n\n    var uInt8Array = new Uint8Array(buffer);\n    reader.readAsBinaryString(new Blob([uInt8Array]));\n  },\n\n  /**\n   * Create a binary string out of an array of numbers (bytes), each varying\n   * from 0-255.\n   *\n   * @param {Array} bytes The array of numbers to transform into a binary str.\n   * @return {string} The byte array as a string.\n   */\n  arrayToBinaryString: function(bytes) {\n    if (typeof bytes != typeof []) {\n      return null;\n    }\n    var i = bytes.length;\n    var bstr = new Array(i);\n    while (i--) {\n      bstr[i] = String.fromCharCode(bytes[i]);\n    }\n    return bstr.join('');\n  },\n\n  /**\n   * Returns the file extension for a given filename.\n   *\n   * @param {string} filename The filename.\n   * @return {string} The file's extension.\n   */\n  getFileExtension: function(filename) {\n    var idx = filename.lastIndexOf('.');\n    return idx != -1 ? filename.substring(idx) : '';\n  }\n};\n\n\nvar MyFileError = function(obj) {\n  this.prototype = FileError.prototype;\n  this.code = obj.code;\n  this.name = obj.name;\n};\n//MyFileError.prototype.__proto__ = FileError.prototype;\n\n// Extend FileError with custom errors and a convenience method to get error\n// code mnemonic.\nFileError.BROWSER_NOT_SUPPORTED = 1000;\n\n// TODO: remove when FileError.name is implemented (crbug.com/86014).\nFileError.prototype.__defineGetter__('name', function() {\n  var keys = Object.keys(FileError);\n  for (var i = 0, key; key = keys[i]; ++i) {\n    if (FileError[key] == this.code) {\n      return key;\n    }\n  }\n  return 'Unknown Error';\n});\n\n\nvar Filer = new function() {\n\n  var FS_INIT_ERROR_MSG = 'Filesystem has not been initialized.';\n  var NOT_IMPLEMENTED_MSG = 'Not implemented.';\n  var NOT_A_DIRECTORY = 'Path was not a directory.';\n  var INCORRECT_ARGS = 'These method arguments are not supported.';\n  var FS_URL_SCHEME = 'filesystem:';\n  var DEFAULT_FS_SIZE = 1024 * 1024; // 1MB.\n\n  var fs_ = null;\n  var cwd_ = null;\n  var isOpen_ = false;\n\n  var isFsURL_ = function(path) {\n    return path.indexOf(FS_URL_SCHEME) == 0;\n  };\n\n  // Path can be relative or absolute. If relative, it's taken from the cwd_.\n  // If a filesystem URL is passed it, it is simple returned\n  var pathToFsURL_ = function(path) {\n    if (!isFsURL_(path)) {\n      if (path[0] == '/') {\n        path = fs_.root.toURL() + path.substring(1);\n      } else if (path.indexOf('./') == 0 || path.indexOf('../') == 0) {\n        if (path == '../' && cwd_ != fs_.root) {\n          path = cwd_.toURL() + '/' + path;\n        } else {\n          path = cwd_.toURL() + path;\n        }\n      } else {\n        path = cwd_.toURL() + '/' + path;\n      }\n    }\n\n    return path;\n  };\n\n    /**\n     * Looks up a FileEntry or DirectoryEntry for a given path.\n     *\n     * @param srcStr\n     * @param destStr\n     * @param {function(...FileEntry|DirectorEntry)} callback A callback to be\n     *     passed the entry/entries that were fetched. The ordering of the\n     *     entries passed to the callback correspond to the same order passed\n     *     to this method.\n     * @param {function} errback\n     */\n  var getEntry_ = function(srcStr, destStr, callback, errback) {\n    var onError = function(e) {\n        if (errback) {\n            errback(e);\n        }\n    };\n\n    // Build a filesystem: URL manually if we need to.\n    var src = pathToFsURL_(srcStr);\n\n    if (srcStr && destStr) {\n      var dest = pathToFsURL_(destStr);\n      self.resolveLocalFileSystemURL(src, function(srcEntry) {\n        self.resolveLocalFileSystemURL(dest, function(destEntry) {\n          callback(srcEntry, destEntry);\n        }, onError);\n      }, onError);\n    } else {\n      self.resolveLocalFileSystemURL(src, callback, onError);\n    }\n  };\n\n  /**\n   * Copy or moves a file or directory to a destination.\n   *\n   * See public method's description (Filer.cp()) for rest of params.\n   * @param {Boolean=} opt_deleteOrig True if the original entry should be\n   *     deleted after the copy takes place, essentially making the operation\n   *     a move instead of a copy. Defaults to false.\n   */\n  var copyOrMove_ = function(src, dest, opt_newName, opt_successCallback,\n                             opt_errorHandler, opt_deleteOrig) {\n    var self = this;\n\n    if (!fs_) {\n      throw new Error(FS_INIT_ERROR_MSG);\n    }\n\n    if (typeof src != typeof dest) {\n      throw new Error(INCORRECT_ARGS);\n    }\n\n    var newName = opt_newName || null;\n    var deleteOrig = opt_deleteOrig != undefined ? opt_deleteOrig : false;\n\n    if ((src.isFile || dest.isDirectory) && dest.isDirectory) {\n      if (deleteOrig) {\n        src.moveTo(dest, newName, opt_successCallback, opt_errorHandler);\n      } else {\n        src.copyTo(dest, newName, opt_successCallback, opt_errorHandler);\n      }\n    } else {\n      getEntry_(src, dest, function(srcEntry, destDir) {\n        if (!destDir.isDirectory) {\n          var e = new Error('Oops! \"' + destDir.name + ' is not a directory!');\n          if (opt_errorHandler) {\n            opt_errorHandler(e);\n          } else {\n            throw e;\n          }\n          return;\n        }\n        if (deleteOrig) {\n          srcEntry.moveTo(destDir, newName, opt_successCallback, opt_errorHandler);\n        } else {\n          srcEntry.copyTo(destDir, newName, opt_successCallback, opt_errorHandler);\n        }\n      }, opt_errorHandler);\n    }\n  }\n\n  function Filer(fs) {\n    fs_  = fs || null;\n    if (fs_) {\n      cwd_ = fs_.root;\n      isOpen_ = true; // TODO: this may not be the case.\n    }\n  }\n\n  Filer.DEFAULT_FS_SIZE = DEFAULT_FS_SIZE;\n  Filer.version = '0.4.3';\n\n  Filer.prototype = {\n    get fs() {\n      return fs_;\n    },\n    get isOpen() {\n      return isOpen_;\n    },\n    get cwd() {\n      return cwd_;\n    }\n  }\n\n  /**\n   * Constructs and returns a filesystem: URL given a path.\n   *\n   * @param {string=} path The path to construct a URL for.\n   *     size {int=} The storage size (in bytes) to open the filesystem with.\n   *         Defaults to DEFAULT_FS_SIZE.\n   * @return {string} The filesystem: URL.\n   */\n  Filer.prototype.pathToFilesystemURL = function(path) {\n    return pathToFsURL_(path);\n  }\n\n  /**\n   * Initializes (opens) the file system.\n   *\n   * @param {object=} opt_initObj Optional object literal with the following\n   *     properties. Note: If {} or null is passed, default values are used.\n   *     persistent {Boolean=} Whether the browser should use persistent quota.\n   *         Default is false.\n   *     size {int=} The storage size (in bytes) to open the filesystem with.\n   *         Defaults to DEFAULT_FS_SIZE.\n   * @param {Function=} opt_successCallback Optional success handler passed a\n   *      DOMFileSystem object.\n   * @param {Function=} opt_errorHandler Optional error callback.\n   */\n  Filer.prototype.init = function(opt_initObj, opt_successCallback,\n                                  opt_errorHandler) {\n    if (!self.requestFileSystem) {\n      throw new MyFileError({\n        code: FileError.BROWSER_NOT_SUPPORTED,\n        name: 'BROWSER_NOT_SUPPORTED'\n      });\n    }\n\n    var initObj = opt_initObj ? opt_initObj : {}; // Use defaults if obj is null.\n\n    var size = initObj.size || DEFAULT_FS_SIZE;\n    this.type = self.TEMPORARY;\n    if ('persistent' in initObj && initObj.persistent) {\n      this.type = self.PERSISTENT;\n    }\n\n    var init = function(fs) {\n      this.size = size;\n      fs_ = fs;\n      cwd_ = fs_.root;\n      isOpen_ = true;\n\n      opt_successCallback && opt_successCallback(fs);\n    };\n\n    if (this.type == self.PERSISTENT && !!navigator.persistentStorage) {\n      navigator.persistentStorage.requestQuota(size, function(grantedBytes) {\n        self.requestFileSystem(\n            this.type, grantedBytes, init.bind(this), opt_errorHandler);\n      }.bind(this), opt_errorHandler);\n    } else {\n      self.requestFileSystem(\n          this.type, size, init.bind(this), opt_errorHandler);\n    }\n  };\n\n  /**\n   * Reads the contents of a directory.\n   *\n   * @param {string|DirectoryEntry} dirEntryOrPath A path relative to the\n   *     current working directory. In most cases that is the root entry, unless\n   *     cd() has been called. A DirectoryEntry or filesystem URL can also be\n   *     passed, in which case, the folder's contents will be returned.\n   * @param {Function} successCallback Success handler passed an Array<Entry>.\n   * @param {Function=} opt_errorHandler Optional error callback.\n   */\n  Filer.prototype.ls = function(dirEntryOrPath, successCallback,\n                                opt_errorHandler) {\n    if (!fs_) {\n      throw new Error(FS_INIT_ERROR_MSG);\n    }\n\n    var callback = function(dirEntry) {\n      // Read contents of current working directory. According to spec, need to\n      // keep calling readEntries() until length of result array is 0. We're\n      // guarenteed the same entry won't be returned again.\n      var entries_ = [];\n      var reader = dirEntry.createReader();\n\n      var readEntries = function() {\n        reader.readEntries(function(results) {\n          if (!results.length) {\n            // By default, sort the list by name.\n            entries_.sort(function(a, b) {\n              return a.name < b.name ? -1 : b.name < a.name ? 1 : 0;\n            });\n            successCallback(entries_);\n          } else {\n            entries_ = entries_.concat(Util.toArray(results));\n            readEntries();\n          }\n        }, opt_errorHandler);\n      };\n\n      readEntries();\n    };\n\n    if (dirEntryOrPath.isDirectory) { // passed a DirectoryEntry.\n      callback(dirEntryOrPath);\n    } else if (isFsURL_(dirEntryOrPath)) { // passed a filesystem URL.\n      getEntry_(dirEntryOrPath, null, callback, opt_errorHandler);\n    } else { // Passed a path. Look up DirectoryEntry and proceeed.\n      // TODO: Find way to use getEntry_(callback, dirEntryOrPath); with cwd_.\n      cwd_.getDirectory(dirEntryOrPath, {}, callback, opt_errorHandler);\n    }\n  };\n\n  /**\n   * Creates a new directory.\n   *\n   * @param {string} path The name of the directory to create. If a path is\n   *     given, each intermediate dir is created (e.g. similar to mkdir -p).\n   * @param {bool=} opt_exclusive True if an error should be thrown if\n   *     one or more of the directories already exists. False by default.\n   * @param {Function} opt_successCallback Success handler passed the\n   *     DirectoryEntry that was created. If we were passed a path, the last\n   *     directory that was created is passed back.\n   * @param {Function=} opt_errorHandler Optional error callback.\n   */\n  Filer.prototype.mkdir = function(path, opt_exclusive, opt_successCallback,\n                                   opt_errorHandler) {\n    if (!fs_) {\n      throw new Error(FS_INIT_ERROR_MSG);\n    }\n\n    var exclusive = opt_exclusive != null ? opt_exclusive : false;\n\n    var folderParts = path.split('/');\n\n    var createDir = function(rootDir, folders) {\n      // Throw out './' or '/' and move on. Prevents: '/foo/.//bar'.\n      if (folders[0] == '.' || folders[0] == '') {\n        folders = folders.slice(1);\n      }\n\n      rootDir.getDirectory(folders[0], {create: true, exclusive: exclusive},\n        function (dirEntry) {\n          if (dirEntry.isDirectory) { // TODO: check shouldn't be necessary.\n            // Recursively add the new subfolder if we have more to create and\n            // There was more than one folder to create.\n            if (folders.length && folderParts.length != 1) {\n              createDir(dirEntry, folders.slice(1));\n            } else {\n              // Return the last directory that was created.\n              if (opt_successCallback) opt_successCallback(dirEntry);\n            }\n          } else {\n            var e = new Error(path + ' is not a directory');\n            if (opt_errorHandler) {\n              opt_errorHandler(e);\n            } else {\n              throw e;\n            }\n          }\n        },\n        function(e) {\n          if (e.code == FileError.INVALID_MODIFICATION_ERR) {\n            e.message = \"'\" + path + \"' already exists\";\n            if (opt_errorHandler) {\n              opt_errorHandler(e);\n            } else {\n              throw e;\n            }\n          }\n        }\n      );\n    };\n\n    createDir(cwd_, folderParts);\n  };\n\n  /**\n   * Looks up and return a File for a given file entry.\n   *\n   * @param {string|FileEntry} entryOrPath A path, filesystem URL, or FileEntry\n   *     of the file to lookup.\n   * @param {Function} successCallback Success callback passed the File object.\n   * @param {Function=} opt_errorHandler Optional error callback.\n   */\n  Filer.prototype.open = function(entryOrPath, successCallback, opt_errorHandler) {\n    if (!fs_) {\n      throw new Error(FS_INIT_ERROR_MSG);\n    }\n\n    if (entryOrPath.isFile) {\n      entryOrPath.file(successCallback, opt_errorHandler);\n    } else {\n      getEntry_(pathToFsURL_(entryOrPath), null, function(fileEntry) {\n        fileEntry.file(successCallback, opt_errorHandler);\n      }, opt_errorHandler);\n    }\n  };\n\n  /**\n   * Creates an empty file.\n   *\n   * @param {string} path The relative path of the file to create, from the\n   *     current working directory.\n   * @param {bool=} opt_exclusive True (default) if an error should be thrown if\n   *     the file already exists.\n   * @param {Function} successCallback A success callback, which is passed\n   *     the new FileEntry.\n   * @param {Function=} opt_errorHandler Optional error callback.\n   */\n  Filer.prototype.create = function(path, opt_exclusive, successCallback,\n                                    opt_errorHandler) {\n    if (!fs_) {\n      throw new Error(FS_INIT_ERROR_MSG);\n    }\n\n    var exclusive = opt_exclusive != null ? opt_exclusive : true;\n\n    cwd_.getFile(path, {create: true,  exclusive: exclusive}, successCallback,\n      function(e) {\n        if (e.code == FileError.INVALID_MODIFICATION_ERR) {\n          e.message = \"'\" + path + \"' already exists\";\n        }\n        if (opt_errorHandler) {\n          opt_errorHandler(e);\n        } else {\n          throw e;\n        }\n      }\n    );\n  };\n\n  /**\n    * Moves a file or directory.\n    *\n    * @param {string|FileEntry|DirectoryEntry} src The file/directory\n    *     to move. If src is a string, a path or filesystem: URL is accepted.\n    * @param {string|DirectoryEntry} dest The directory to move the src into.\n    *     If dest is a string, a path or filesystem: URL is accepted.\n    *     Note: dest needs to be the same type as src.\n    * @param {string=} opt_newName An optional new name for the moved entry.\n    * @param {Function=} opt_successCallback Optional callback passed the moved\n    *     entry on a successful move.\n    * @param {Function=} opt_errorHandler Optional error callback.\n    */\n  Filer.prototype.mv = function(src, dest, opt_newName, opt_successCallback,\n                                opt_errorHandler) {\n    copyOrMove_.bind(this, src, dest, opt_newName, opt_successCallback,\n                     opt_errorHandler, true)();\n  };\n\n  /**\n   * Deletes a file or directory entry.\n   *\n   * @param {string|FileEntry|DirectoryEntry} entryOrPath The file or directory\n   *     to remove. If entry is a DirectoryEntry, its contents are removed\n   *     recursively. If entryOrPath is a string, a path or filesystem: URL is\n   *     accepted.\n   * @param {Function} successCallback Zero arg callback invoked on\n   *     successful removal.\n   * @param {Function=} opt_errorHandler Optional error callback.\n   */\n  Filer.prototype.rm = function(entryOrPath, successCallback,\n                                opt_errorHandler) {\n    if (!fs_) {\n      throw new Error(FS_INIT_ERROR_MSG);\n    }\n\n    var removeIt = function(entry) {\n      if (entry.isFile) {\n        entry.remove(successCallback, opt_errorHandler);\n      } else if (entry.isDirectory) {\n        entry.removeRecursively(successCallback, opt_errorHandler);\n      }\n    };\n\n    if (entryOrPath.isFile || entryOrPath.isDirectory) {\n      removeIt(entryOrPath);\n    } else {\n      getEntry_(entryOrPath, null, removeIt, opt_errorHandler);\n    }\n  };\n\n  /**\n   * Changes the current working directory.\n   *\n   * @param {string|DirectoryEntry} dirEntryOrPath A DirectoryEntry to move into\n   *     or a path relative to the current working directory. A filesystem: URL\n   *     is also accepted\n   * @param {Function=} opt_successCallback Optional success callback, which is\n   *     passed the DirectoryEntry of the new current directory.\n   * @param {Function=} opt_errorHandler Optional error callback.\n   */\n  Filer.prototype.cd = function(dirEntryOrPath, opt_successCallback,\n                                opt_errorHandler) {\n    if (!fs_) {\n      throw new Error(FS_INIT_ERROR_MSG);\n    }\n\n    if (dirEntryOrPath.isDirectory) {\n      cwd_ = dirEntryOrPath;\n      opt_successCallback && opt_successCallback(cwd_);\n    } else {\n      // Build a filesystem: URL manually if we need to.\n      dirEntryOrPath = pathToFsURL_(dirEntryOrPath);\n      getEntry_(dirEntryOrPath, null, function(dirEntry) {\n        if (dirEntry.isDirectory) {\n          cwd_ = dirEntry;\n          opt_successCallback && opt_successCallback(cwd_);\n        } else {\n          var e = new Error(NOT_A_DIRECTORY);\n          if (opt_errorHandler) {\n            opt_errorHandler(e);\n          } else {\n            throw e;\n          }\n        }\n      }, opt_errorHandler);\n    }\n  };\n\n  /**\n    * Copies a file or directory to a destination.\n    *\n    * @param {string|FileEntry|DirectoryEntry} src The file/directory\n    *     to copy. If src is a string, a path or filesystem: URL is accepted.\n    * @param {string|DirectoryEntry} dest The directory to copy the src into.\n    *     If dest is a string, a path or filesystem: URL is accepted.\n    *     Note: dest needs to be the same type as src.\n    * @param {string=} opt_newName An optional name for the copied entry.\n    * @param {Function=} opt_successCallback Optional callback passed the moved\n    *     entry on a successful copy.\n    * @param {Function=} opt_errorHandler Optional error callback.\n    */\n  Filer.prototype.cp = function(src, dest, opt_newName, opt_successCallback,\n                                opt_errorHandler) {\n    copyOrMove_.bind(this, src, dest, opt_newName, opt_successCallback,\n                     opt_errorHandler)();\n  };\n\n  /**\n   * Writes data to a file.\n   *\n   * If the file already exists, its contents are overwritten.\n   *\n   * @param {string|FileEntry} entryOrPath A path, filesystem URL, or FileEntry\n    *     of the file to lookup.\n   * @param {object} dataObj The data to write. Example:\n   *     {data: string|Blob|File|ArrayBuffer, type: mimetype, append: true}\n   *     If append is specified, data is appended to the end of the file.\n   * @param {Function} opt_successCallback Success callback, which is passed\n   *     the created FileEntry and FileWriter object used to write the data.\n   * @param {Function=} opt_errorHandler Optional error callback.\n   */\n  Filer.prototype.write = function(entryOrPath, dataObj, opt_successCallback,\n                                   opt_errorHandler) {\n    if (!fs_) {\n      throw new Error(FS_INIT_ERROR_MSG);\n    }\n\n    var writeFile_ = function(fileEntry) {\n      fileEntry.createWriter(function(fileWriter) {\n\n        fileWriter.onerror = opt_errorHandler;\n\n        if (dataObj.append) {\n          fileWriter.onwriteend = function(e) {\n            if (opt_successCallback) opt_successCallback(fileEntry, this);\n          };\n\n          fileWriter.seek(fileWriter.length); // Start write position at EOF.\n        } else {\n          var truncated = false;\n          fileWriter.onwriteend = function(e) {\n            // Truncate file to newly written file size.\n            if (!truncated) {\n              truncated = true;\n              this.truncate(this.position);\n              return;\n            }\n            if (opt_successCallback) opt_successCallback(fileEntry, this);\n          };\n        }\n\n        if (dataObj instanceof Blob) {\n          fileWriter.write(dataObj);\n        } else {\n          // Blob() takes ArrayBufferView, not ArrayBuffer.\n          if (dataObj.data.__proto__ == ArrayBuffer.prototype) {\n            dataObj.data = new Uint8Array(dataObj.data);\n          }\n          var blob = new Blob([dataObj.data],\n                              dataObj.type ? {type: dataObj.type} : {});\n\n          fileWriter.write(blob);\n        }\n\n      }, opt_errorHandler);\n    };\n\n    if (entryOrPath.isFile) {\n      writeFile_(entryOrPath);\n    } else if (isFsURL_(entryOrPath)) {\n      getEntry_(entryOrPath, null, writeFile_, opt_errorHandler);\n    } else {\n      cwd_.getFile(entryOrPath, {create: true, exclusive: false}, writeFile_,\n                   opt_errorHandler);\n    }\n  };\n\n  /**\n   * Displays disk space usage.\n   *\n   * @param {Function} successCallback Success callback, which is passed\n   *     Used space, Free space and Currently allocated total space in bytes.\n   * @param {Function=} opt_errorHandler Optional error callback.\n   */\n  Filer.prototype.df = function(successCallback, opt_errorHandler) {\n    var queryCallback = function(byteUsed, byteCap) {\n      successCallback(byteUsed, byteCap - byteUsed, byteCap);\n    }\n\n    if (!(navigator.temporaryStorage.queryUsageAndQuota && navigator.persistentStorage.queryUsageAndQuota)) {\n      throw new Error(NOT_IMPLEMENTED_MSG);\n    }\n\n    if (self.TEMPORARY == this.type) {\n      navigator.temporaryStorage.queryUsageAndQuota(queryCallback, opt_errorHandler);\n    } else if (self.PERSISTENT == this.type) {\n      navigator.persistentStorage.queryUsageAndQuota(queryCallback, opt_errorHandler);\n    }\n  };\n\n  Filer.prototype.getEntry = function (fileName, callback, errback) {\n      getEntry_(fileName, null, callback, errback);\n  };\n\n  return Filer;\n};\n\nmodule.exports = Filer;\n\n// Import as 'static' methods.\nmodule.exports.dataURLToBlob = Util.dataURLToBlob.bind({});\nmodule.exports.fileToObjectURL = Util.fileToObjectURL.bind({});\n\n\n\n// WEBPACK FOOTER //\n// ./libs/filer.js","'use strict';\n\nconst colorsHandler = require('./colors-handler');\nconst filerHandler = require('./filer-handler');\nconst speechkitHandler = require('./speechkit-handler');\nconst xmlHandler = require('./xml-handler');\n\nconst handlers = [colorsHandler, filerHandler, speechkitHandler, xmlHandler];\n\nclass Messaging {\n    constructor() {}\n\n    init() {\n        this._handleConnection = this._getConnectionHandler().bind(this);\n        chrome.runtime.onConnect.addListener(this._handleConnection);\n    }\n\n    _getConnectionHandler() {\n        return (port) => {\n            if (port.name === 'offscreen') { \n                port.onMessage.addListener((req) => {\n                    if (req.data) {\n                        req.data.sendResponse = (message) => {\n                            if (typeof message === 'object') {\n                                message.id = req.id;\n                            }\n                            port.postMessage(message);\n                        };\n                        for (const handler of handlers) {\n                            if (handler.handle(req, port.sender)) {\n                                return;\n                            }\n                        }\n                    }\n                });\n            }\n        };\n    }\n};\n\nmodule.exports = new Messaging();\n\n\n\n// WEBPACK FOOTER //\n// ./modules/offscreen/messaging.js","'use strict';\n\nconst {speechkit} = require('speechkit').ya;\nconst {UTTERANCE_SILENCE, API_KEY} = require('../voice/consts');\nconst events = require('./events');\n\nclass SpeechkitHandler {\n    constructor() {}\n\n    /**\n     * Handles speechkit.start method call.\n     * @param {Object} params\n     * @private\n     */\n    _init({sendResponse}) {\n        this.streamer = new speechkit.SpeechRecognition();\n\n        this.streamer.start({\n            apiKey: API_KEY,\n            initCallback: () => sendResponse({}),\n            errorCallback: error => {\n                sendResponse({\n                    type: events.offscreen.SPEECHKIT_ERROR,\n                    data: {reason: error.message},\n                });\n            },\n            dataCallback: (text, done) => {\n                sendResponse({\n                    type: events.offscreen.SPEECHKIT_DATA,\n                    data: {text, done},\n                });\n            },\n            utteranceSilence: UTTERANCE_SILENCE,\n            particialResults: true,\n        });\n    }\n\n    /**\n     * Handles speechkit.stop method call.\n     * @param {Object} params\n     * @private\n     */\n    _stop({sendResponse}) {\n        try {\n            // Streamer may throw websocket close error.\n            if (this.streamer) {\n                this.streamer.stop();\n            }\n        } catch (e) {\n            // do nothing\n        } finally {\n            sendResponse({});\n        }\n    }\n\n\n    handle(req, _sender) {\n        switch (req.type) {\n            case events.backend.SPEECHKIT_INIT:\n                this._init(req.data);\n                break;\n            case events.backend.SPEECHKIT_STOP:\n                this._stop(req.data);\n                break;\n            default:\n                // Cannot handle.\n                return;\n        }\n\n        // Indicate an async response.\n        return true;\n    }\n};\n\nmodule.exports = new SpeechkitHandler();\n\n\n\n// WEBPACK FOOTER //\n// ./modules/offscreen/speechkit-handler.js","var speechkitNamespace = {\n    ya: {\n        speechkit: {}\n    }\n};\n\n(function (namespace) {\n    'use strict';\n\n\n    namespace.ya.speechkit.AudioContext = window.AudioContext || window.webkitAudioContext;\n\n    /** Набор поддерживаемых форматов аудио.\n     * @readonly\n     * @enum\n     * @memberof ya.speechkit\n     */\n    namespace.ya.speechkit.FORMAT = {\n        /** PCM 8KHz дает плохое качество распознавания, но малый объем передаваемых на сервер данных */\n        PCM8: {format: 'pcm', sampleRate: 8000, mime: 'audio/x-pcm;bit=16;rate=8000', bufferSize: 1024},\n        /** PCM 16 KHz наилучшее качество распознавания при среднем объеме данных */\n        PCM16: {format: 'pcm', sampleRate: 16000, mime: 'audio/x-pcm;bit=16;rate=16000', bufferSize: 2048},\n        /** PCM 44 KHz большой размер передаваемых данных, возможны задержки на узком канале */\n        PCM44: {format: 'pcm', sampleRate: 44100, mime: 'audio/x-pcm;bit=16;rate=44100', bufferSize: 4096},\n    };\n\n    /** Media stream used by SpeechKit\n     * @private\n     * @memberof ya.speechkit\n     */\n    namespace.ya.speechkit._stream = null;\n\n    /**\n     * Deep copies fileds from object 'from' to object 'to'\n     * @param {Object} from Source object\n     * @param {Object} to Destination object\n     * @private\n     */\n    namespace.ya.speechkit._extend = function (to, from) {\n        var i;\n        var toStr = Object.prototype.toString;\n        var astr = '[object Array]';\n        to = to || {};\n\n        for (i in from) {\n            if (from.hasOwnProperty(i)) {\n                if (typeof from[i] === 'object') {\n                    to[i] = (toStr.call(from[i]) === astr) ? [] : {};\n                    namespace.ya.speechkit._extend(to[i], from[i]);\n                } else if (typeof from[i] !== 'undefined' || typeof to[i] === 'undefined') {\n                    to[i] = from[i];\n                }\n            }\n        }\n        return to;\n    };\n\n    /**\n     * Создает объект для записи аудио-сигнала с микрофона.\n     * @class Класс, управляющий записью звука с микрофона.\n     * @name Recorder\n     */\n    var Recorder = function ()\n    {\n        if (!namespace.ya.speechkit._stream) {\n            return null;\n        }\n\n        if (!(this instanceof Recorder)) {\n            return new Recorder();\n        }\n\n        this.worker = namespace.ya.speechkit.newWorker();\n\n        this.recording = false;\n\n        this.paused = false;\n        this.lastDataOnPause = 0;\n\n        this.nullsArray = [];\n\n        this.currCallback = null;\n        this.buffCallback = null;\n        this.startCallback = null;\n\n        this.worker.onmessage = function (e) {\n            if (e.data.command == 'int16stream')\n            {\n                var data = e.data.buffer;\n\n                if (this.startCallback) {\n                    this.startCallback(data);\n                }\n            } else if (e.data.command == 'getBuffers' && this.buffCallback) {\n                this.buffCallback(e.data.blob);\n            } else if (e.data.command == 'clear' && this.currCallback) {\n                this.currCallback();\n            } else if (this.currCallback) {\n                this.currCallback(e.data.blob);\n            }\n        }.bind(this);\n\n    };\n\n    Recorder.prototype = /** @lends Recorder.prototype */ {\n        /**\n         * Creates an input point for a given audio format (sets samplerate and buffer size\n         * @param {ya.speechkit.FORMAT} format audio format (it's samplerate and bufferSize are being used)\n         * @private\n         */\n        _createNode: function (format) {\n            if (!namespace.ya.speechkit.audiocontext) {\n                namespace.ya.speechkit.audiocontext = new namespace.ya.speechkit.AudioContext();\n            }\n\n            this.audioInput = namespace.ya.speechkit.audiocontext.createMediaStreamSource(\n                namespace.ya.speechkit._stream);\n\n            if (!namespace.ya.speechkit.audiocontext.createScriptProcessor) {\n                this.node = namespace.ya.speechkit.audiocontext.createJavaScriptNode(format.bufferSize, 2, 2);\n            } else {\n                this.node = namespace.ya.speechkit.audiocontext.createScriptProcessor(format.bufferSize, 2, 2);\n            }\n\n            this.audioInput.connect(this.node);\n            this.node.onaudioprocess = function (e) {\n                if (!this.recording) {return;}\n\n                if (this.paused) {\n                    if (Number(new Date()) - this.lastDataOnPause > 2000) {\n                        this.lastDataOnPause = Number(new Date());\n                        this.worker.postMessage({\n                            command: 'record',\n                            buffer: [\n                                this.nullsArray,\n                                this.nullsArray\n                            ]\n                        });\n                    }\n                } else {\n                    this.worker.postMessage({\n                        command: 'record',\n                        buffer: [\n                            e.inputBuffer.getChannelData(0),\n                            e.inputBuffer.getChannelData(1)\n                        ]\n                    });\n                }\n            }.bind(this);\n\n            this.node.connect(namespace.ya.speechkit.audiocontext.destination);\n        },\n        /**\n         * Ставит запись звука на паузу.\n         * Во время паузы на сервер будут отправляться периодически запросы с пустым звуком, чтобы сервер не обрывал сессию.\n         */\n        pause: function () {\n            this.paused = true;\n            this.lastDataOnPause = Number(new Date());\n        },\n        /**\n         * @returns {AudioContext} Текущий <xref scope=\"external\" locale=\"ru\" href=\"https://developer.mozilla.org/ru/docs/Web/API/AudioContext\">\n         * AudioContext</xref><xref scope=\"external\" locale=\"en-com\" href=\"https://developer.mozilla.org/en-US/docs/Web/API/AudioContext\">AudioContext</xref>,\n         * с которого записывается звук.\n         */\n        getAudioContext: function () {\n            return namespace.ya.speechkit.audiocontext;\n        },\n        /**\n         * @returns {AnalyserNode} <xref scope=\"external\" locale=\"ru\" href=\"https://developer.mozilla.org/ru/docs/Web/API/AnalyserNode\">\n         * AnalyserNode</xref><xref scope=\"external\" locale=\"en-com\" href=\"https://developer.mozilla.org/en-US/docs/Web/API/AnalyserNode\">\n         * AnalyserNode</xref> — объект, предназначенный для анализа аудио-сигнала в реальном времени.\n         */\n        getAnalyserNode: function () {\n            if (!namespace.ya.speechkit.audiocontext) {\n                namespace.ya.speechkit.audiocontext = new namespace.ya.speechkit.AudioContext();\n            }\n            var analyserNode = namespace.ya.speechkit.audiocontext.createAnalyser();\n            analyserNode.fftSize = 2048;\n            this.audioInput.connect(analyserNode);\n            return analyserNode;\n        },\n        /**\n         * @returns {Boolean} true, если запись звука стоит на паузе, false — в противном случае.\n         */\n        isPaused: function () {\n            return this.paused;\n        },\n        /**\n         * Начинает запись звука с микрофона.\n         * @param {callback:streamCallback} cb Функция-обработчик, в которую будет передаваться записанный аудио-поток.\n         * @param {ya.speechkit.FORMAT} [format=PCM16] Формат для записи аудио-сигнала. Доступные значения:\n         * <ul>\n         *     <li> PCM8 — плохое качество распознавания, но малый объем передаваемых на сервер данных;</li>\n         *     <li> PCM16 — наилучшее качество распознавания при среднем объеме данных; </li>\n         *     <li> PCM44 — большой размер передаваемых данных, возможны задержки на узком канале.</li>\n         *</ul>\n         */\n        start: function (cb, format) {\n            var backref = this;\n            if (!namespace.ya.speechkit._stream) {\n                return namespace.ya.speechkit.initRecorder(function () {backref.start(cb, format);}, console.log);\n            }\n\n            if (!this.node) {\n                this._createNode(format);\n            }\n\n            if (this.isPaused()) {\n                this.paused = false;\n                return;\n            }\n            if (typeof cb !== 'undefined') {\n                this.startCallback = cb;\n            } else {\n                this.startCallback = null;\n            }\n            this.worker.postMessage({\n                command: 'init',\n                config: {\n                    sampleRate: namespace.ya.speechkit.audiocontext.sampleRate,\n                    format: format || namespace.ya.speechkit.FORMAT.PCM16,\n                    channels: this.channelCount,\n                }\n            });\n\n            this.nullsArray = [];\n            var bufferLen = (format || namespace.ya.speechkit.FORMAT.PCM16).bufferSize;\n            for (var i = 0; i < bufferLen; i++) {\n                this.nullsArray.push(0);\n            }\n\n            this.clear(function () {this.recording = true;}.bind(this));\n        },\n        /**\n         * Останавливает запись звука.\n         * @param {callback:wavCallback} cb Функция-обработчик, в которую будет передан объект <xref href=\"https://developer.mozilla.org/en-US/docs/Web/API/Blob\" scope=\"external\">Blob</xref>\n         * с записанным аудио в формате wav.\n         * @param {Number} [channelCount=2] Сколько каналов должно быть в wav-файле: 1 — mono, 2 — stereo.\n         */\n        stop: function (cb, channelCount) {\n            this.recording = false;\n            if (this.node) {\n                this.node.disconnect();\n            }\n\n            this.node = null;\n            this.startCallback = null;\n            \n            if (namespace.ya.speechkit._stream &&\n                namespace.ya.speechkit._stream.getAudioTracks) {\n                namespace.ya.speechkit._stream.getAudioTracks()[0].stop();\n            } else if (namespace.ya.speechkit._stream &&\n                typeof namespace.ya.speechkit._stream.stop !== 'undefined') {\n                namespace.ya.speechkit._stream.stop();\n            }\n            namespace.ya.speechkit._stream = null;\n            if (typeof namespace.ya.speechkit.audiocontext !== 'undefined' &&\n                namespace.ya.speechkit.audiocontext !== null &&\n                typeof namespace.ya.speechkit.audiocontext.close !== 'undefined') {\n                namespace.ya.speechkit.audiocontext.close();\n                namespace.ya.speechkit.audiocontext = null;\n            }\n\n            if (typeof cb !== 'undefined') {\n                this.exportWav(function (blob) {\n                    cb(blob);\n                }, channelCount || 2);\n            }\n        },\n        /**\n         * @returns {Boolean} true, если идет запись звука, false — если запись стоит в режиме паузы.\n         */\n        isRecording: function () {\n            return this.recording;\n        },\n        /**\n         * Очищает буферы с записанным аудио-сигналом.\n         * @param {callback:clearCallback} cb Функция-обработчик, которая будет вызвана, когда произойдет очистка.\n         */\n        clear: function (cb) {\n            if (typeof cb !== 'undefined') {\n                this.currCallback = cb;\n            } else {\n                this.currCallback = null;\n            }\n            this.worker.postMessage({command: 'clear'});\n        },\n        /**\n         * Метод для получения буферов с записанным аудио-сигналом.\n         * @param {callback:buffersCallback} cb Функция, в которую будут переданы буферы с аудио-сигналом.\n         */\n        getBuffers: function (cb) {\n            if (typeof cb !== 'undefined') {\n                this.buffCallback = cb;\n            } else {\n                this.buffCallback = null;\n            }\n            this.worker.postMessage({command: 'getBuffers'});\n        },\n        /**\n         * Экспортирует записанный звук в wav-файл.\n         * @param {callback:wavCallback} cb Функция, в которую будет передан объект <xref href=\"https://developer.mozilla.org/en-US/docs/Web/API/Blob\" scope=\"external\">Blob</xref> с файлом.\n         * @param {Number} [channelCount=1] Количество каналов в wav-файле: 1 — mono, 2 — stereo.\n         */\n        exportWav: function (cb, channelCount) {\n            if (typeof cb !== 'undefined') {\n                this.currCallback = cb;\n            } else {\n                this.currCallback = null;\n            }\n            var type = 'audio/wav';\n\n            if (!this.currCallback) {throw new Error('Callback not set');}\n\n            var exportCommand = 'export' + (channelCount != 2 && 'Mono' || '') + 'WAV';\n\n            this.worker.postMessage({\n                command: exportCommand,\n                type: type\n            });\n        }\n    };\n\n    namespace.ya.speechkit.Recorder = Recorder;\n\n    namespace.ya.speechkit.getUserMedia = navigator.getUserMedia ||\n        navigator.mozGetUserMedia ||\n        navigator.msGetUserMedia ||\n        navigator.webkitGetUserMedia;\n\n    namespace.ya.speechkit.mediaDevices = (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) ?\n        navigator.mediaDevices :\n        (namespace.ya.speechkit.getUserMedia ? {\n            getUserMedia: function (c) {\n                return new Promise(function (y, n) {\n                    namespace.ya.speechkit.getUserMedia.call(navigator, c, y, n);\n                });\n            }\n        } : null);\n\n    namespace.ya.speechkit._stream = null;\n    namespace.ya.speechkit.audiocontext = null;\n\n    /**\n     * Запрашивает у пользователя права для записи звука с микрофона.\n     * @param {callback:initSuccessCallback} initSuccess Функция-обработчик, которая будет вызвана при успешном подключении к микрофону.\n     * @param {callback:initFailCallback} initFail Функция-обработчик, в которую будет передано сообщения об ошибке, в случае неуспеха.\n     */\n    namespace.ya.speechkit.initRecorder = function (initSuccess, initFail)\n    {\n        var badInitialization = function (err) {\n            namespace.ya.speechkit._stream = null;\n            if (typeof initFail !== 'undefined') {\n                initFail(err);\n            }\n        };\n\n        if (namespace.ya.speechkit.mediaDevices)\n        {\n            namespace.ya.speechkit.mediaDevices.getUserMedia(\n                {audio: true}).then(\n                function (stream) {\n                    namespace.ya.speechkit._stream = stream;\n                    if (typeof initSuccess !== 'undefined') {\n                        initSuccess();\n                    }\n                }).catch(\n                function (err) {\n                    badInitialization(err.message || err.name || err);\n                });\n        } else {\n            badInitialization('Your browser doesn\\'t support Web Audio API. ' +\n                'Please, use Yandex.Browser: https://browser.yandex.ru');\n        }\n    };\n\n    /**\n     * Поддерживается ли рапознавание заданного языка.\n     * @return true, если язык поддерживается, false — иначе.\n     */\n    namespace.ya.speechkit.isLanguageSupported = function (lang)\n    {\n        if (namespace.ya.speechkit.settings.langWhitelist.indexOf(lang) >= 0) {\n            return namespace.ya.speechkit.isSupported();\n        } else {\n            return namespace.ya.speechkit.isWebAudioSupported();\n        }\n    };\n\n    /**\n     * Поддерживаются ли технологии рапознавания Яндекса.\n     * @return true, если поддерживаются, false — иначе.\n     */\n    namespace.ya.speechkit.isSupported = function ()\n    {\n        var userAgent = navigator.userAgent.toLowerCase();\n        // Yandex recognition is 100% supported on mobile devices only in firefox\n        return ((namespace.ya.speechkit.mediaDevices !== null) &&\n        ((/mozilla|firefox/.test(userAgent) && !/yabrowser/.test(userAgent)) ||\n        !/iphone|ipod|ipad|android|blackberry/.test(userAgent)));\n    };\n\n    /**\n     * Поддерживается ли рапознавание с помощью WebAudio API.\n     * @return true, если поддерживается, false — иначе.\n     */\n    namespace.ya.speechkit.isWebAudioSupported = function ()\n    {\n        var userAgent = navigator.userAgent.toLowerCase();\n        var SpeechRecognition = namespace.SpeechRecognition || namespace.webkitSpeechRecognition;\n        // Native recognition is only supported in original chrome and chromium\n        return (typeof SpeechRecognition !== 'undefined' && !/yabrowser|opera|opr/.test(userAgent));\n    };\n\n\n    /**\n     * Функция, которая будет вызвана по факту успешного получения прав на доступ к микрофону.\n     * @callback\n     * @name initSuccessCallback\n     * @memberof Recorder\n     */\n\n    /**\n     * Функция-обработчик, которая будет вызвана при возникновении ошибки при получении доступа к микрофону.\n     * @callback initFailCallback\n     * @param {String} error Сообщение об ошибке.\n     * @memberof Recorder\n     */\n\n    /**\n     * Функция для <xref href=\"https://developer.mozilla.org/en-US/docs/Web/API/Blob\" scope=\"external\">Blob</xref> с wav-файлом.\n     * @callback\n     * @name wavCallback\n     * @param {<xref href=\"https://developer.mozilla.org/en-US/docs/Web/API/Blob\" scope=\"external\">Blob</xref> с MIME типом audio/wav} data wav-файл.\n     * @memberof Recorder\n     */\n\n    /**\n     * Функция-обработчик, в которую будут переданы буферы записанного аудио.\n     * @callback\n     * @name buffersCallback\n     * @param {Float32Array[]} buffers Буферы записанного аудио для двух каналов (моно и стерео).\n     * @memberof Recorder\n     */\n\n    /**\n     * Функция, которая будет вызвана после очистки буферов (это сигнал готовности к повторному запуску).\n     * @callback\n     * @name clearCallback\n     * @memberof Recorder\n     */\n\n    /**\n     * Функция-обработчик, в которую будет передаваться записанный аудио-поток.\n     * @callback\n     * @name streamCallback\n     * @param {ArrayBuffer} stream Записанный PCM поток 16-bit.\n     * @memberof Recorder\n     */\n\n}(speechkitNamespace));\n(function (namespace) {\n    'use strict';\n\n\n    function _makeWorker(script) {\n        var URL = window.URL || window.webkitURL;\n        var Blob = window.Blob;\n        var Worker = window.Worker;\n\n        if (!URL || !Blob || !Worker || !script) {\n            return null;\n        }\n\n        var blob = new Blob([script], {type: 'application/javascript'});\n        var worker = new Worker(URL.createObjectURL(blob));\n        return worker;\n    }\n\n    var inline_worker =\n        \"function iirFilter (sampleRate, cutoff, resonance, type) {\" +\n        \"\" +\n        \"    var\tself\t= this,\" +\n        \"            f\t= [0.0, 0.0, 0.0, 0.0],\" +\n        \"            freq, damp,\" +\n        \"            prevCut, prevReso,\" +\n        \"\" +\n        \"            sin\t= Math.sin,\" +\n        \"            min\t= Math.min,\" +\n        \"            pow\t= Math.pow;\" +\n        \"\" +\n        \"    self.cutoff = cutoff || 20000;\" +\n        \"    self.resonance = resonance || 0.1;\" +\n        \"    self.samplerate = sampleRate || 44100;\" +\n        \"    self.type = type || 0;\" +\n        \"\" +\n        \"    function calcCoeff () {\" +\n        \"            freq = 2 * sin(Math.PI * min(0.25, self.cutoff / (self.samplerate * 2)));\" +\n        \"            damp = min(2 * (1 - pow(self.resonance, 0.25)), min(2, 2 / freq - freq * 0.5));\" +\n        \"    }\" +\n        \"\" +\n        \"    self.pushSample = function (sample) {\" +\n        \"            if (prevCut !== self.cutoff || prevReso !== self.resonance){\" +\n        \"                    calcCoeff();\" +\n        \"                    prevCut = self.cutoff;\" +\n        \"                    prevReso = self.resonance;\" +\n        \"            }\" +\n        \"\" +\n        \"            f[3] = sample - damp * f[2];\" +\n        \"            f[0] = f[0] + freq * f[2];\" +\n        \"            f[1] = f[3] - f[0];\" +\n        \"            f[2] = freq * f[1] + f[2];\" +\n        \"\" +\n        \"            f[3] = sample - damp * f[2];\" +\n        \"            f[0] = f[0] + freq * f[2];\" +\n        \"            f[1] = f[3] - f[0];\" +\n        \"            f[2] = freq * f[1] + f[2];\" +\n        \"\" +\n        \"            return f[self.type];\" +\n        \"    };\" +\n        \"\" +\n        \"    self.getMix = function (type) {\" +\n        \"            return f[type || self.type];\" +\n        \"    };\" +\n        \"}\" +\n        \"\" +\n        \"var speex_loaded = false;\" +\n        \"var recLength = 0;\" +\n        \"var recBuffersL = [];\" +\n        \"var recBuffersR = [];\" +\n        \"var sampleRate;\" +\n        \"var outSampleRate;\" +\n        \"var tmp_buf = 0;\" +\n        \"var need_buf_size = 4096;\" +\n        \"var speex_converter = null;\" +\n        \"    \" +\n        \"this.onmessage = function (e) {\" +\n        \"    switch (e.data.command) {\" +\n        \"    case 'init':\" +\n        \"        init(e.data.config);\" +\n        \"        break;\" +\n        \"    case 'record':\" +\n        \"        record(e.data.buffer);\" +\n        \"        break;\" +\n        \"    case 'exportWAV':\" +\n        \"        exportWAV(e.data.type);\" +\n        \"        break;\" +\n        \"    case 'exportMonoWAV':\" +\n        \"        exportMonoWAV(e.data.type);\" +\n        \"        break;\" +\n        \"    case 'getBuffers':\" +\n        \"        getBuffers();\" +\n        \"        break;\" +\n        \"    case 'clear':\" +\n        \"        clear();\" +\n        \"        break;\" +\n        \"    }\" +\n        \"};\" +\n        \"    \" +\n        \"function init(config) {\" +\n        \"    sampleRate = config.sampleRate;\" +\n        \"    outSampleRate = config.format.sampleRate || sampleRate;\" +\n        \"    need_buf_size = config.format.bufferSize || 4096;\" +\n        \"    speex_converter = null;\" +\n        \"    /*if (config.format.format == \\'speex\\') {\" +\n        \"        if (!speex_loaded) {\" +\n        \"            importScripts(\\'./speex.min.js\\');\" +\n        \"            speex_loaded = true;\" +\n        \"        }\" +\n        \"        need_buf_size /= 16;\" +\n        \"        speex_converter = new SpeexConverter(outSampleRate);\" +\n        \"    }*/\" +\n        \"}\" +\n        \"\" +\n        \"var resample = function (inbuf) {\" +\n        \"    var speed = 1.0 * sampleRate / outSampleRate;\" +\n        \"    var l = Math.ceil(inbuf.length / speed);\" +\n        \"    var result = new Float32Array(l);\" +\n        \"    var bin = 0;\" +\n        \"    var num = 0;\" +\n        \"    var indexIn = 0;\" +\n        \"    var indexOut = 0;\" +\n        \"    for (indexOut = 1, indexIn = speed; indexOut < l - 1; indexIn += speed, indexOut++) {\" +\n        \"        var pos = Math.floor(indexIn);\" +\n        \"        var dt = indexIn - pos;\" +\n        \"        var second = (pos + 1 < inbuf.length) ? pos + 1 : inbuf.length - 1; \" +\n        \"        result[indexOut] = inbuf[pos] * (1 - dt) + inbuf[second] * dt;\" +\n        \"    }\" +\n        \"    result[0] = inbuf[0];\" +\n        \"    result[l - 1] = inbuf[inbuf.length - 1];\" +\n        \"    return result;\" +\n        \"};\" +\n        \"    \" +\n        \"function record(inputBuffer) {\" +\n        \"    if (outSampleRate == sampleRate) {\" +\n        \"        recBuffersL.push(inputBuffer[0]);\" +\n        \"        recBuffersR.push(inputBuffer[1]);\" +\n        \"        recLength += inputBuffer[0].length;\" +\n        \"    \" +\n        \"        var samples = inputBuffer[0];\" +\n        \"        var buffer = new ArrayBuffer(samples.length * 2);\" +\n        \"        var view = new DataView(buffer);\" +\n        \"        floatTo16BitPCM(view, 0, samples);\" +\n        \"        this.postMessage({command: 'int16stream', buffer: buffer});\" +\n        \"    } else {\" +\n        \"        var filter0 = new iirFilter(outSampleRate, outSampleRate * 0.125, 0.0); \" +\n        \"        var filter1 = new iirFilter(outSampleRate, outSampleRate * 0.125, 0.0); \" +\n        \"\" +\n        \"        for (var i =0; i < inputBuffer[0].length; i++) { \" +\n        \"            inputBuffer[0][i] = filter0.pushSample(inputBuffer[0][i]); \" +\n        \"            inputBuffer[1][i] = filter1.pushSample(inputBuffer[1][i]); \" +\n        \"        }\" +\n        \"\" +\n        \"        var resin0 = resample(inputBuffer[0], outSampleRate, sampleRate);\" +\n        \"        var resin1 = resample(inputBuffer[1], outSampleRate, sampleRate);\" +\n        \"    \" +\n        \"        recBuffersL.push(resin0);\" +\n        \"        recBuffersR.push(resin1);\" +\n        \"        recLength += resin0.length;\" +\n        \"    \" +\n        \"        var result = new Int16Array(resin0.length);\" +\n        \"    \" +\n        \"        for (var i = 0 ; i < resin0.length ; i++) {\" +\n        \"            result[i] = Math.floor(Math.min(Math.max((resin0[i] + resin1[i]) * 0.5, -1.0), 1.0) * 16383);\" +\n        \"        }\" +\n        \"    \" +\n        \"        if (speex_converter) {\" +\n        \"            result = speex_converter.convert(result);\" +\n        \"        } else {\" +\n        \"            result = result.buffer;\" +\n        \"        }\" +\n        \"    \" +\n        \"        if (!tmp_buf) {\" +\n        \"            tmp_buf = result;\" +\n        \"        } else {\" +\n        \"            var tmp = new DataView(new ArrayBuffer(tmp_buf.byteLength + result.byteLength));\" +\n        \"            tmp_buf = new DataView(tmp_buf);\" +\n        \"            result = new DataView(result);\" +\n        \"    \" +\n        \"            for (i = 0; i < tmp_buf.byteLength; i++) {\" +\n        \"                tmp.setUint8(i, tmp_buf.getUint8(i));\" +\n        \"            }\" +\n        \"    \" +\n        \"            for (i = 0; i < result.byteLength; i++) {\" +\n        \"                tmp.setUint8(i + tmp_buf.byteLength, result.getUint8(i));\" +\n        \"            }\" +\n        \"    \" +\n        \"            tmp_buf = tmp.buffer;\" +\n        \"        }\" +\n        \"    \" +\n        \"        if (tmp_buf.byteLength >= need_buf_size) {\" +\n        \"            this.postMessage({command: 'int16stream', buffer: tmp_buf});\" +\n        \"            tmp_buf = false;\" +\n        \"        }\" +\n        \"    }\" +\n        \"}\" +\n        \"    \" +\n        \"function exportWAV(type) {\" +\n        \"    var bufferL = mergeBuffers(recBuffersL, recLength);\" +\n        \"    var bufferR = mergeBuffers(recBuffersR, recLength);\" +\n        \"    var interleaved = interleave(bufferL, bufferR);\" +\n        \"    var dataview = encodeWAV(interleaved);\" +\n        \"    var audioBlob = new Blob([dataview], {type: type});\" +\n        \"    \" +\n        \"    this.postMessage({command: 'exportWAV', blob: audioBlob});\" +\n        \"}\" +\n        \"    \" +\n        \"function exportMonoWAV(type) {\" +\n        \"    var bufferL = mergeBuffers(recBuffersL, recLength);\" +\n        \"    var dataview = encodeWAV(bufferL, true);\" +\n        \"    var audioBlob = new Blob([dataview], {type: type});\" +\n        \"    \" +\n        \"    this.postMessage({command: 'exportMonoWAV', blob: audioBlob});\" +\n        \"}\" +\n        \"    \" +\n        \"function getBuffers() {\" +\n        \"    var buffers = [];\" +\n        \"    buffers.push(mergeBuffers(recBuffersL, recLength));\" +\n        \"    buffers.push(mergeBuffers(recBuffersR, recLength));\" +\n        \"    this.postMessage({command: 'getBuffers', blob: buffers});\" +\n        \"}\" +\n        \"    \" +\n        \"function clear() {\" +\n        \"    recLength = 0;\" +\n        \"    recBuffersL = [];\" +\n        \"    recBuffersR = [];\" +\n        \"    if (speex_converter) {\" +\n        \"        speex_converter.clear();\" +\n        \"    }\" +\n        \"    this.postMessage({command: 'clear'});\" +\n        \"}\" +\n        \"    \" +\n        \"function mergeBuffers(recBuffers, recLength) {\" +\n        \"    var result = new Float32Array(recLength);\" +\n        \"    var offset = 0;\" +\n        \"    for (var i = 0; i < recBuffers.length; i++){\" +\n        \"        result.set(recBuffers[i], offset);\" +\n        \"        offset += recBuffers[i].length;\" +\n        \"    }\" +\n        \"    return result;\" +\n        \"}\" +\n        \"    \" +\n        \"function interleave(inputL, inputR) {\" +\n        \"    var length = inputL.length + inputR.length;\" +\n        \"    var result = new Float32Array(length);\" +\n        \"    \" +\n        \"    var index = 0;\" +\n        \"    var inputIndex = 0;\" +\n        \"    \" +\n        \"    while (index < length){\" +\n        \"        result[index++] = inputL[inputIndex];\" +\n        \"        result[index++] = inputR[inputIndex];\" +\n        \"        inputIndex++;\" +\n        \"    }\" +\n        \"    return result;\" +\n        \"}\" +\n        \"    \" +\n        \"function floatTo16BitPCM(output, offset, input) {\" +\n        \"    for (var i = 0; i < input.length; i++, offset += 2){\" +\n        \"        var s = Math.max(-1, Math.min(1, input[i]));\" +\n        \"        output.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7FFF, true);\" +\n        \"    }\" +\n        \"}\" +\n        \"    \" +\n        \"function writeString(view, offset, string) {\" +\n        \"    for (var i = 0; i < string.length; i++){\" +\n        \"        view.setUint8(offset + i, string.charCodeAt(i));\" +\n        \"    }\" +\n        \"}\" +\n        \"    \" +\n        \"function encodeWAV(samples, mono) {\" +\n        \"    var buffer = new ArrayBuffer(44 + samples.length * 2);\" +\n        \"    var view = new DataView(buffer);\" +\n        \"    \" +\n        \"    /* RIFF identifier */\" +\n        \"    writeString(view, 0, 'RIFF');\" +\n        \"    /* file length */\" +\n        \"    view.setUint32(4, 32 + samples.length * 2, true);\" +\n        \"    /* RIFF type */\" +\n        \"    writeString(view, 8, 'WAVE');\" +\n        \"    /* format chunk identifier */\" +\n        \"    writeString(view, 12, 'fmt ');\" +\n        \"    /* format chunk length */\" +\n        \"    view.setUint32(16, 16, true);\" +\n        \"    /* sample format (raw) */\" +\n        \"    view.setUint16(20, 1, true);\" +\n        \"    /* channel count */\" +\n        \"    view.setUint16(22, mono ? 1 : 2, true);\" +\n        \"    /* sample rate */\" +\n        \"    view.setUint32(24, outSampleRate, true);\" +\n        \"    /* block align (channel count * bytes per sample) */\" +\n        \"    var block_align = mono ? 2 : 4;\" +\n        \"    /* byte rate (sample rate * block align) */\" +\n        \"    view.setUint32(28, outSampleRate * block_align, true);\" +\n        \"    /* block align (channel count * bytes per sample) */\" +\n        \"    view.setUint16(32, block_align, true);\" +\n        \"    /* bits per sample */\" +\n        \"    view.setUint16(34, 16, true);\" +\n        \"    /* data chunk identifier */\" +\n        \"    writeString(view, 36, 'data');\" +\n        \"    /* data chunk length */\" +\n        \"    view.setUint32(40, samples.length * 2, true);\" +\n        \"    \" +\n        \"    floatTo16BitPCM(view, 44, samples);\" +\n        \"    \" +\n        \"    return view;\" +\n        \"}\" +\n        \" \";\n\n    namespace.ya.speechkit.newWorker = function () {\n        return _makeWorker(inline_worker);\n    };\n}(speechkitNamespace));\n\n(function (namespace) {\n    'use strict';\n\n    /**\n     * Соединение разорвано\n     *\n     * @type {Number}\n     */\n    var SOCKET_CLOSED_ABNORMALLY = 1000;\n\n    /**\n     * Соединение было закрыто из-за получения\n     * сообщения об ошибке от сервера\n     *\n     * @type {Number}\n     */\n    var ERROR_MESSAGE_WAS_RECEIVED = 1001;\n\n    /**\n     * Соединение было закрыто из-за ошибки\n     *\n     * @type {Number}\n     */\n    var SOCKET_CLOSED_WITH_ERROR = 1002;\n\n    /**\n     * Ошибка при создании сокета\n     *\n     * @type {Number}\n     */\n    var CANT_CREATE_SOCKET = 1003;\n\n    /**\n     * Создает новый объект типа Recognizer.\n     * @class Создает сессию и отправляет запрос на сервер для распознавания речи.\n     * @name Recognizer\n     * @param {Object} [options] Опции.\n     * @param {callback:initCallback} [options.onInit] Функция-обработчик, которая будет вызвана после успешной инициализации\n     * сессии.\n     * @param {callback:dataCallback} [options.onResult] Функция-обработчик, которая будет вызвана после завершения распознавания речи.\n     * @param {callback:errorCallback} [options.onError]\n     * @param {String} [options.uuid=см. описание] UUID сессии. По умолчанию принимает значение, указанное\n     * в настройках ya.speechkit.settings.uuid.\n     * @param {String} [options.apikey] API-ключ. Если не задан, то используется ключ, указанный\n     * в настройках ya.speechkit.settings.apikey.\n     * @param {ya.speechkit.FORMAT} [options.format=ya.speechkit.FORMAT.PCM16] Формат аудиопотока.\n     * @param {String} [options.url=см. описание] URL сервера, на котором будет производиться распознавание.\n     * Если параметр не указан, то берется значение, заданное в настройках ya.speechkit.settings.asrUrl. По умолчанию оно равно\n     * 'webasr.yandex.net/asrsocket.ws'.\n     * @param {Boolean} [options.punctuation=true] Использовать ли пунктуацию.\n     * @param {Boolean} [options.allowStrongLanguage=false] Отключить фильтрацию обсценной лексики.\n     * @param {String} [options.model='notes'] Языковая модель, которая должна быть использована при распознавании.\n     * Если параметр не указан, то используется значение, заданное в настройках ya.speechkit.model. Если в настройках значение не задано, то\n     * используется модель 'notes'.\n     * @param {String} [options.lang='ru-RU'] Язык распознавания. Возможные значения: 'ru-RU', 'en-US', 'tr-TR', 'uk-UA'.\n     * <p>Если параметр не указан, то используется\n     * значение, заданное в настройках ya.speechkit.lang. Если в настройках значение не задано, то по умолчанию\n     * выбирается русский язык: 'ru-RU'. </p>\n     * @param {String} [options.applicationName] Название приложения. Для некоторых приложений мы поддерживаем специальную логику. Пример - sandbox.\n     */\n    var Recognizer = function (options) {\n        if (!(this instanceof namespace.ya.speechkit.Recognizer)) {\n            return new namespace.ya.speechkit.Recognizer(options);\n        }\n        this.options = namespace.ya.speechkit._extend(\n            {apikey: namespace.ya.speechkit.settings.apikey,\n                uuid: namespace.ya.speechkit.settings.uuid,\n                applicationName: namespace.ya.speechkit.settings.applicationName,\n                url: namespace.ya.speechkit.settings.websocketProtocol +\n                namespace.ya.speechkit.settings.asrUrl,\n                onInit: function () {},\n                onResult: function () {},\n                onError: function () {},\n                punctuation: true,\n                allowStrongLanguage: false\n            },\n            options);\n\n        // Backward compatibility\n        this.options.key = this.options.apikey;\n        this.options.format = this.options.format.mime;\n\n        this.sessionId = null;\n        this.socket = null;\n        // Закрыта ли сессия распознавания\n        this.closed = false;\n\n        this.buffered = [];\n        this.totaldata = 0;\n    };\n\n    Recognizer.prototype = /** @lends Recognizer.prototype */{\n        /**\n         * Send raw data to websocket.\n         * @param data Any data to send to websocket (json string, raw audio data).\n         * @private\n         */\n        _sendRaw: function (data) {\n            if (this.socket && this.socket.readyState === WebSocket.OPEN) {\n                // Сокет может и не закрыться сам при потере интернета.\n                // Поэтому в случае если пакеты не отсылаются, то закрываем\n                // сокет вручную\n                try {\n                    this.socket.send(data);\n                } catch (e) {\n                    this.options.onError('Can\\'t send data', SOCKET_CLOSED_ABNORMALLY);\n                    this.close();\n                }\n            } else {\n                console.warn('Attempting to send message while socket is not open');\n            }\n        },\n        /**\n         * Stringify JSON and send it to websocket.\n         * @param {Object} json Object needed to be send to websocket.\n         * @private\n         */\n        _sendJson: function (json) {\n            this._sendRaw(JSON.stringify({type: 'message', data: json}));\n        },\n        /**\n         * Запускает процесс распознавания.\n         */\n        start: function () {\n            this.sessionId = null;\n            try {\n                this.socket = new WebSocket(this.options.url);\n            } catch (e) {\n                this.options.onError('Error on socket creation: ' + e, CANT_CREATE_SOCKET);\n                this.options.stopCallback();\n                return;\n            }\n\n            this.socket.onopen = function () {\n                // {uuid: uuid, key: key, format: audioFormat, punctuation: punctuation ...\n                // console.log('Initial request: ' + JSON.stringify(this.options));\n                this._sendJson(this.options);\n            }.bind(this);\n\n            this.socket.onmessage = function (e) {\n                var message = JSON.parse(e.data);\n\n                if (message.type == 'InitResponse'){\n                    this.sessionId = message.data.sessionId;\n                    this.options.onInit(message.data.sessionId, message.data.code);\n                } else if (message.type == 'AddDataResponse'){\n                    this.options.onResult(message.data.text, message.data.uttr, message.data.merge, message.data.words);\n                    if (typeof message.data.close !== 'undefined' && message.data.close) {\n                        this.close();\n                    }\n                } else if (message.type == 'Error'){\n                    this.options.onError('Session ' + this.sessionId + ': ' + message.data, ERROR_MESSAGE_WAS_RECEIVED);\n                    this.close();\n                } else {\n                    this.options.onError('Session ' + this.sessionId + ': ' + message, ERROR_MESSAGE_WAS_RECEIVED);\n                    this.close();\n                }\n            }.bind(this);\n\n            this.socket.onerror = function (error) {\n                this.options.onError('Socket error: ' + error.message, SOCKET_CLOSED_WITH_ERROR);\n                this.close();\n            }.bind(this);\n\n            this.socket.onclose = function (event) {\n                // Нужно попробовать закрыть сессию, так как сокет может сам выбросить\n                // случае onclose потери связи с сервером и т.п.\n                // {@link https://tools.ietf.org/html/rfc6455#section-7.4}\n                if (!event.wasClean) {\n                    this.options.onError('Socket closed abnormally', SOCKET_CLOSED_ABNORMALLY);\n                    this.close();\n                }\n            }.bind(this);\n        },\n        /**\n         * Добавляет данные с аудио к потоку для распознавания речи.\n         * Если сессия распознавания еще не была создана, то данные будут буферизованы и отправятся на сервер\n         * по факту установления соединения.\n         * @param {ArrayBuffer} data Буфер с аудио сигналом в формате PCM 16bit.\n         */\n        addData: function (data) {\n            this.totaldata += data.byteLength;\n\n            if (!this.sessionId) {\n                this.buffered.push(data);\n                return;\n            }\n\n            for (var i = 0; i < this.buffered.length; i++){\n                this._sendRaw(new Blob([this.buffered[i]], {type: this.options.format}));\n                this.totaldata += this.buffered[i].byteLength;\n            }\n\n            this.buffered = [];\n            this._sendRaw(new Blob([data], {type: this.options.format}));\n        },\n        /**\n         * Принудительно завершает запись звука и отсылает запрос (не закрывает сессию распознавания, пока не получит от сервера последний ответ).\n         */\n        finish: function () {\n            this._sendJson({command: 'finish'});\n        },\n        /**\n         * Завершает сессию распознавания речи, закрывая соединение с сервером.\n         */\n        close: function () {\n            if (this.closed) {\n                return;\n            }\n\n            this.closed = true;\n            this.options.onInit = function () {};\n            this.options.onResult = function () {};\n            this.options.onError = function () {};\n\n            if (this.isSocketAlive()) {\n                this.socket.close();\n            }\n\n            this.socket = null;\n            this.options.stopCallback();\n        },\n        /**\n         * Работает ли сокет\n         * @returns {boolean}\n         */\n        isSocketAlive: function () {\n            if (!this.socket) {\n                return false;\n            }\n\n            var readyState = this.socket.readyState;\n            return readyState === WebSocket.OPEN || readyState === WebSocket.CONNECTING;\n        }\n    };\n\n    namespace.ya.speechkit.Recognizer = Recognizer;\n\n    /**\n     * Функция-обработчик, которая будет вызвана после успешной инициализации\n     * сессии.\n     * @callback\n     * @name initCallback\n     * @param {String} sessionId Идентификатор сессии.\n     * @param {Number} code HTTP-статус, который будет содержаться в ответе сервера после инициализации сессии (200).\n     * @memberOf Recognizer\n     */\n\n    /**\n     * Функция-обработчик, которая будет вызвана в случае возникновения ошибки.\n     * @callback\n     * @name errorCallback\n     * @param {String} message Текст сообщения об ошибке.\n     * @memberOf Recognizer\n     */\n\n    /**\n     * Функция-обработчик, которая будет вызвана после завершения распознавания речи.\n     * @callback\n     * @name dataCallback\n     * @param {String} text Распознанный текст.\n     * @param {Boolean} utterance Является ли данный текст финальным результатом распознавания.\n     * @param {Number} merge Число обработанных запросов по которым выдан ответ. (Сколько пакетов с данными были соединены в этот результат).\n     * @memberOf Recognizer\n     */\n}(speechkitNamespace));\n(function (namespace) {\n    'use strict';\n\n    function noop() {}\n\n    /**\n     * Параметры по умолчанию для SpeechRecognition\n     * @private\n     */\n    namespace.ya.speechkit._defaultOptions = function () {\n        /**\n         * @typedef {Object} SpeechRecognitionOptions\n         * @property {SpeechRecognition~initCallback} initCallback - Функция, которая будет вызвана по факту инициализации сессии распознавания\n         * @property {SpeechRecognition~errorCallback} errorCallback - Функция, которая будет вызвана по факту ошибки (все ошибки - критичны, и приводят к порче сессии)\n         * @property {SpeechRecognition~dataCallback} dataCallback - Функция, в которую будут приходить результаты распознавания\n         * @property {SpeechRecognition~infoCallback} infoCallback - Функция для технической информации\n         * @property {SpeechRecognition~stopCallback} stopCallback - Функция, которая будет вызвана в момент остановки сессии распознавания\n         * @property {Boolean} punctuation - Следует ли пытаться расставлять знаки препинания\n         * @property {Boolean} allowStringLanguage - Следует ли отключить фильтрацию обсценной лексики\n         * @property {String} model - Языковая модель для распознавания речи\n         * @property {String} lang - Язык, речь на котором следует распознавать\n         * @property {ya.speechkit.FORMAT} format - Формат передачи аудио сигнала\n         * @property {String} [options.applicationName] Название приложения. Для некоторых приложений мы поддерживаем специальную логику. Пример - sandbox.\n         */\n        return {\n            initCallback: noop,\n            errorCallback: noop,\n            dataCallback: noop,\n            infoCallback: noop,\n            stopCallback: noop,\n            punctuation: false,\n            allowStrongLanguage: false,\n            model: namespace.ya.speechkit.settings.model,\n            applicationName: namespace.ya.speechkit.settings.applicationName,\n            lang: namespace.ya.speechkit.settings.lang,\n            format: namespace.ya.speechkit.FORMAT.PCM16,\n            url: namespace.ya.speechkit.settings.websocketProtocol +\n            namespace.ya.speechkit.settings.asrUrl,\n            vad: false,\n            speechStart: noop,\n            speechEnd: noop,\n        };\n    };\n\n    /**\n     * Создает новый объект типа SpeechRecognition.\n     * @class Класс для распознавания большого потока аудио-сигнала.\n     * @name SpeechRecognition\n     */\n    var SpeechRecognition = function () {\n        if (!(this instanceof namespace.ya.speechkit.SpeechRecognition)) {\n            return new namespace.ya.speechkit.SpeechRecognition();\n        }\n        this.send = 0;\n        this.send_bytes = 0;\n        this.proc = 0;\n        this.recorder = null;\n        this.recognizer = null;\n        this.vad = null;\n    };\n\n    SpeechRecognition.prototype = /** @lends SpeechRecognition.prototype */ {\n        /**\n         * Запускает процесс распознавания речи.\n         * @param {Object} [options] Параметры, которые будут использоваться во время сессии.\n         * @param {callback:initCallback} [options.initCallback] Функция-обработчик, которая будет вызвана по факту инициализации сессии распознавания.\n         * @param {callback:errorCallback} [options.errorCallback] Функция-обработчик, которая будет вызвана по факту ошибки (все ошибки критичны и приводят к завершению сессии).\n         * @param {callback:dataCallback} [options.dataCallback] Функция-обработчик, которая будет вызвана после успешного завершения\n         * распознавания. В качестве аргумента ей передаются результаты распознавания.\n         * @param {callback:infoCallback} [options.infoCallback] Функция для получения технической информации.\n         * @param {callback:stopCallback} [options.stopCallback] Функция-обработчик, которая будет вызвана в момент остановки сессии распознавания.\n         * @param {String} [options.apikey] API-ключ. Если не задан, то используется ключ, указанный\n         * в глобальных настройках {@link settings}.\n         * @param {Boolean} [options.punctuation=false] Следует ли использовать пунктуацию.\n         * @param {Boolean} [options.allowStrongLanguage=false] Следует ли отключить фильтрацию обсценной лексики.\n         * @param {String} [options.model='notes'] Языковая модель для распознавания речи. Список доступных значений:\n         * <ul>\n         *     <li>'notes' (по умолчанию) — общая лексика;</li>\n         *     <li>'queries' — короткие запросы;</li>\n         *     <li>'names' — имена; </li>\n         *     <li>'dates' — даты; </li>\n         *     <li>'maps' — топонимы;</li>\n         *     <li>'notes' — тексты;</li>\n         *     <li>'numbers' — числа.</li>\n         * </ul>\n         * <p>Если параметр не указан, то используется\n         * значение, заданное в глобальных настройках {@link settings}. Если в настройках значение не задано, то\n         * используется модель по умолчанию — 'notes'. </p>\n         * @param {String} [options.applicationName] Название приложения. Для некоторых приложений мы поддерживаем специальную логику. Пример - sandbox.\n         * @param {String} [options.lang='ru-RU'] Язык, речь на котором следует распознавать. Возможные значения: 'ru-RU', 'en-US', 'tr-TR'.\n         * <p>Если параметр не указан, то используется\n         * значение, заданное в глобальных настройках {@link settings}. Если в настройках значение не задано, то по умолчанию\n         * выбирается русский язык: 'ru-RU'. </p>\n         * @param {ya.speechkit.FORMAT} [options.format=ya.speechkit.FORMAT.PCM16] Формат передачи аудио-сигнала.\n         * @param {Boolean} [options.partialResults=true] Отправлять ли на сервер промежуточные результаты.\n         * @param {Number} [options.utteranceSilence=120] Длительность промежутка тишины во время записи речи (в десятках миллисекунд). Как только встречается\n         * такой перерыв в речи, запись звука останавливается, и записанный фрагмент речи отправляется на сервер.\n         * @param {Number} [options.expNumCount=0] Количество ожидаемых подряд идущих цифр (предотвращает их превращение в телефонные номера).\n         */\n        start: function (options) {\n            this.options = namespace.ya.speechkit._extend(\n                namespace.ya.speechkit._extend(\n                    {},\n                    namespace.ya.speechkit._defaultOptions()\n                ),\n                options);\n            if (namespace.ya.speechkit.settings.langWhitelist.indexOf(this.options.lang) >= 0) {\n                if (namespace.ya.speechkit._stream !== null) {\n                    this._onstart();\n                } else {\n                    namespace.ya.speechkit.initRecorder(\n                        this._onstart.bind(this),\n                        this.options.errorCallback\n                    );\n                }\n            } else {\n                var old_error_callback = this.options.errorCallback;\n                this.recorder = namespace.ya.speechkit.WebAudioRecognition(\n                    namespace.ya.speechkit._extend(\n                        this.options,\n                        {\n                            errorCallback: function (e) {\n                                this.recorder = null;\n                                old_error_callback(e);\n                            }.bind(this)\n                        }\n                    ));\n                this.recorder.start();\n            }\n        },\n        /**\n         * Will be called after successful call of initRecorder\n         * @private\n         */\n        _onstart: function () {\n            if (this.recorder && this.recorder.isPaused()) {\n                this.recorder.start();\n            }\n\n            if (this.recognizer) {\n                return;\n            }\n\n            this.send = 0;\n            this.send_bytes = 0;\n            this.proc = 0;\n\n            if (!this.recorder) {\n                this.recorder = new namespace.ya.speechkit.Recorder();\n                if (this.options.vad) {\n                    this.vad = new namespace.ya.speechkit.Vad({recorder: this.recorder,\n                        speechStart: this.options.speechStart,\n                        speechEnd: this.options.speechEnd});\n                }\n            }\n\n            this.recognizer = new namespace.ya.speechkit.Recognizer(\n                namespace.ya.speechkit._extend(this.options,\n                    {\n                        onInit: function (sessionId, code) {\n                            if (!this.recorder) {\n                                return;\n                            }\n\n                            this.recorder.start(function (data) {\n                                if (this.options.vad && this.vad) {\n                                    this.vad.update();\n                                }\n                                this.send++;\n                                this.send_bytes += data.byteLength;\n                                this.options.infoCallback({\n                                    send_bytes: this.send_bytes,\n                                    format: this.options.format,\n                                    send_packages: this.send,\n                                    processed: this.proc\n                                });\n                                this.recognizer.addData(data);\n                            }.bind(this), this.options.format);\n\n                            this.options.initCallback(sessionId, code, 'yandex');\n                        }.bind(this),\n                        onResult: function (text, uttr, merge, words) {\n                            this.proc += merge;\n                            this.options.infoCallback({\n                                send_bytes: this.send_bytes,\n                                format: this.options.format,\n                                send_packages: this.send,\n                                processed: this.proc\n                            });\n                            this.options.dataCallback(text, uttr, merge, words);\n                        }.bind(this),\n                        onError: function (msg, code) {\n                            if (this.recorder) {\n                                this.recorder.stop(function () { this.recorder = null; }.bind(this));\n                            }\n                            if (this.recognizer) {\n                                this.recognizer.close();\n                                this.recognizer = null;\n                            }\n                            this.options.errorCallback(msg, code);\n                        }.bind(this),\n                    }));\n            this.recognizer.start();\n        },\n        /**\n         * Завершает сессию распознавания речи.\n         * По завершении сессии будет вызвана функция-обработчик stopCallback.\n         */\n        stop: function () {\n            this.options.initCallback = noop;\n            this.options.dataCallback = noop;\n            // todo: может не обнулять errorCallback, чтобы ошибки не терять?\n            this.options.errorCallback = noop;\n\n            if (this.recognizer) {\n                this.recognizer.finish();\n            }\n\n            if (this.recorder) {\n                this.recorder.stop(\n                    function () {\n                        this.recognizer = null;\n                        this.recorder = null;\n                    }.bind(this)\n                );\n            }\n        },\n        /**\n         * Прерывает сессию распознавания речи (не дожидается финального результата распознавания).\n         * По завершении сессии будет вызвана функция-обработчик stopCallback.\n         */\n        abort: function () {\n            this.options.initCallback = noop;\n            this.options.dataCallback = noop;\n            // todo: может не обнулять errorCallback, чтобы ошибки не терять?\n            this.options.errorCallback = noop;\n\n            if (this.recognizer) {\n                this.recognizer.close();\n            }\n            if (this.recorder) {\n                this.recorder.stop(\n                    function () {\n                        this.recognizer = null;\n                        this.recorder = null;\n                    }.bind(this)\n                );\n            }\n        },\n        /**\n         * Ставит сессию распознавания на паузу.\n         * Чтобы соединение с сервером не прерывалось и можно было моментально возобновить распознавание,\n         * на сервер периодически посылаются небольшие куски данных.\n         */\n        pause: function () {\n            if (this.recorder) {\n                this.recorder.pause();\n            }\n        },\n        /**\n         * Определяет, стоит ли на паузе сессия распознавания.\n         * @returns {Boolean} true, если сессия распознавания речи стоит на паузе, false — иначе.\n         */\n        isPaused: function () {\n            return (!this.recorder || this.recorder.isPaused());\n        }\n    };\n\n    namespace.ya.speechkit.SpeechRecognition = SpeechRecognition;\n\n    /**\n     * Функция для распознавания коротких фрагментов речи.\n     * <p> При вызове функции recognize() начинается запись звука с микрофона.\n     * Как только наступает тишина более чем на одну секунду, запись\n     * прекращается, и функция отправляет запрос на сервер для распознавания записанного фрагмента.</p>\n     * <p>Приемлемое качество распознавания обеспечивается на фрагментах длительностью не более 10 секунд.\n     * При более длительном фрагменте качество распознавания ухудшается.</p>\n     * @static\n     * @function\n     * @name recognize\n     * @param {Object} [options] Параметры распознавания речи.\n     * @param {callback:SpeechRecognition.initCallback} [options.initCallback] Функция-обработчик, которая будет вызвана по факту\n     * инициализации сессии распознавания.\n     * @param {callback:SpeechRecognition.errorCallback} [options.errorCallback] Функция-обработчик, которая будет вызвана при возникновении ошибки\n     * (все ошибки критичны и приводят к завершению сессии).\n     * @param {callback:SpeechRecognition.recognitionDoneCallback} [options.doneCallback] Функция-обработчик, в которую будет отправлен результат распознавания речи.\n     * @param {String} [options.apikey] API-ключ. По умолчанию принимает значение, указанное\n     * в глобальных настройках {@link settings}.\n     * @param {String} [options.model='notes'] Список доступных значений:\n     * <ul>\n     *     <li>'notes' (по умолчанию) — текст;</li>\n     *     <li>'queries' — короткие запросы;</li>\n     *     <li>'names' — имена; </li>\n     *     <li>'dates' — даты; </li>\n     *     <li>'maps' — топонимы;</li>\n     *     <li>'notes' — тексты;</li>\n     *     <li>'numbers' — числа.</li>\n     * </ul>\n     * <p>Если параметр не указан, то используется\n     * значение, заданное в глобальных настройках {@link settings}. Если в настройках значение не задано, то\n     * используется модель по умолчанию — 'notes'. </p>\n     * @param {String} [options.applicationName] Название приложения. Для некоторых приложений мы поддерживаем специальную логику. Пример — sandbox.\n     * @param {String} [options.lang='ru-RU'] Язык, речь на котором следует распознавать. Возможные значения: 'ru-RU', 'en-US', 'tr-TR'.\n     * <p>Если параметр не указан, то используется\n     * значение, заданное в глобальных настройках {@link settings}. Если в настройках значение не задано, то по умолчанию\n     * выбирается русский язык: 'ru-RU'. </p>\n     * @param {Boolean} [options.partialResults=true] Отправлять ли на сервер промежуточные результаты.\n     * @param {Number} [options.utteranceSilence=120] Длительность промежутка тишины во время записи речи (в десятках миллисекунд). Как только встречается\n     * такой перерыв в речи, запись звука останавливается, и записанный фрагмент речи отправляется на сервер.\n     */\n\n    namespace.ya.speechkit.recognize = function (options) {\n        var dict = new namespace.ya.speechkit.SpeechRecognition();\n\n        var opts = namespace.ya.speechkit._extend(\n            namespace.ya.speechkit._extend(\n                {},\n                namespace.ya.speechkit._defaultOptions()\n            ),\n            options);\n\n        opts.doneCallback = options.doneCallback;\n\n        opts.dataCallback = function (text, uttr, merge) {\n            if (uttr) {\n                if (opts.doneCallback) {\n                    opts.doneCallback(text);\n                }\n                dict.stop();\n            }\n        };\n\n        opts.stopCallback = function () {\n            dict = null;\n        };\n\n        dict.start(opts);\n    };\n\n    /**\n     * Функция, в которую передается полностью распознанный фрагмент текста.\n     * @param {String} text Распознанная речь.\n     * @callback\n     * @name recognitionDoneCallback\n     * @memberOf SpeechRecognition\n     */\n\n    /**\n     * Функция, которая будет вызвана после успешной инициализации сессии распознавания речи.\n     * @callback\n     * @name initCallback\n     * @memberOf SpeechRecognition\n     * @param {String} sessionId Идентификатор сессии.\n     * @param {Number} code HTTP-статус, который будет содержаться в ответе сервера (200 в случае успеха).\n     */\n\n    /**\n     * Функция, в которую будут переданы сообщения об ошибках.\n     * @callback\n     * @name errorCallback\n     * @memberOf SpeechRecognition\n     * @param {String} message Текст сообщения об ошибке.\n     */\n\n    /**\n     * Функция для результатов распознавания речи.\n     * @callback\n     * @name dataCallback\n     * @memberOf SpeechRecognition\n     * @param {String} text Распознанный текст.\n     * @param {Boolean} utterance Является ли данный текст финальным результатом распознавания.\n     * @param {Number} merge Число обработанных запросов, по которым выдан ответ от сервера.\n     */\n\n    /**\n     * В эту функцию будет передаваться техническая информация.\n     * @callback\n     * @name infoCallback\n     * @memberOf SpeechRecognition.\n     * @param {Number} send_bytes Сколько байт аудио-данных было передано на сервер.\n     * @param {Number} send_packages Сколько пакетов аудио-данных было передано на сервер.\n     * @param {Number} processed Количество пакетов, на которые ответил сервер.\n     * @param {ya.speechkit.FORMAT} format Какой формат аудио используется.\n     */\n\n    /**\n     * Функция, которая будет вызвана после остановки сессии распознавания речи.\n     * @callback\n     * @name stopCallback\n     * @memberOf SpeechRecognition\n     */\n}(speechkitNamespace));\n(function (namespace) {\n    'use strict';\n\n    var speakersCache = null;\n\n    /**\n     * Воспроизводит аудиофайл.\n     * @function\n     * @static\n     * @param {String | <xref href=\"https://developer.mozilla.org/en-US/docs/Web/API/Blob\" scope=\"external\">Blob</xref>} url URL, по которому доступен либо аудио-файл,\n     * либо объект <xref href=\"https://developer.mozilla.org/en-US/docs/Web/API/Blob\" scope=\"external\">Blob</xref> со звуком в поддерживаемом браузером формате.\n     * @param {Function} [cb] Функция-обработчик, которая будет вызвана после завершения воспроизведения.\n     * @name play\n     */\n    namespace.ya.speechkit.play = function (url, cb) {\n        var audio = new Audio(url);\n        audio.volume = 1.0;\n        audio.onended = cb || function () {};\n        audio.play();\n    };\n\n    /**\n     * @class Класс, предназначенный для использования технологии синтеза речи (озвучивания текста).\n     * @name Tts\n     * @param {TtsOptions} [options] Опции.\n     * @param {String} [options.apikey] API-ключ (если в настройках ключ не был указан, то в конструкторе его необходимо указать).\n     * @param {String} [options.emotion='neutral'] Эмоциональная окраска голоса. Доступные значения:\n     * <ul>\n     *     <li>'neutral' — нейтральный (по умолчанию);</li>\n     *     <li>'good' — доброжелательный;</li>\n     *     <li>'evil' — злой.</li>\n     * </ul>\n     * @param {Array} [options.emotions] Массив эмоций вида [['emotion1', weight1], ['emotion2', weight2]], предназначенный для взвешенного смешивания эмоций\n     * @param {String} [options.speaker='omazh'] Голос для озвучивания. Список доступных значений можно получить вызвав функцию Tts.speakers:\n     * * <ul>\n     *     <li>женские голоса: 'omazh' (по умолчанию) и 'jane';</li>\n     *     <li>'мужские голоса: 'zahar' и 'ermil'.</li>\n     * </ul>\n     * @param {Array} [options.speakers] Массив голосов вида [['speaker1', weight1], ['speaker2', weight2]], предназначенный для взвешенного смешивания голосов.\n     * weight может принимать значения от 1.0 до 3.0. Например, [['omazh', 1.5], ['zahar', 2.2]].\n     * @param {Array} [options.genders] Массив полов вида [['gender1', weight1], ['gender2', weight2]], предназначенный для взвешенного смешивания полов говорящего.\n     * weight может принимать значения от 1.0 до 3.0.\n     * @param {Boolean} [options.fast=false] Использовать \"быстрый\" синтез, который ускоряет генерацию звука путём уменьшения его качества.\n     * @param {String} [options.lang='ru-RU'] Язык текста, который надо произнести. Доступные значения: 'ru-RU', 'en-US', 'tr-TR', 'uk-UA'.\n     * @param {Float} [options.speed=1.0] Скорость синтеза речи. Принимает значения от 0.0 (медленно) до 2.0 (быстро).\n     */\n    var Tts = function (options) {\n        if (!(this instanceof namespace.ya.speechkit.Tts)) {\n            return new namespace.ya.speechkit.Tts(options);\n        }\n        var _this = this;\n        /**\n         * Опции озвучивания текста.\n         * @type TtsOptions\n         * @name Tts.options\n         * @field\n         */\n        this.options = namespace.ya.speechkit._extend(\n            {\n                apikey: namespace.ya.speechkit.settings.apikey,\n                uuid: namespace.ya.speechkit.settings.uuid,\n                url: namespace.ya.speechkit.settings.websocketProtocol +\n                namespace.ya.speechkit.settings.ttsStreamUrl,\n                infoCallback: function () {},\n                errorCallback: function (msg) {\n                    console.log(msg);\n                },\n            },\n            options);\n        this.sessionId = null;\n        this.socket = null;\n\n        this.buffered = [];\n\n    };\n\n    Tts.prototype = /** @lends Tts.prototype */{\n        /**\n         * Send raw data to websocket\n         * @param data Any data to send to websocket (json string, raw audio data)\n         * @private\n         */\n        _sendRaw: function (data) {\n            if (this.socket && this.socket.readyState === WebSocket.OPEN) {\n                this.socket.send(data);\n            } else {\n                console.warn('Attempting to send message while socket is not open');\n            }\n        },\n        /**\n         * Stringify JSON and send it to websocket\n         * @param {Object} json Object needed to be send to websocket\n         * @private\n         */\n        _sendJson: function (json) {\n            this._sendRaw(JSON.stringify({type: 'message', data: json}));\n        },\n        /**\n         * @private\n         * Озвучивание текста.\n         * @param {String} text Текст.\n         * @param {Function} [cb] Функция-обработчик, которая будет вызвана по завершении воспроизведения.\n         * @param {TtsOptions} [options] Опции.\n         */\n        say: function (text, cb, options) {\n            this.speak(\n                text,\n                namespace.ya.speechkit._extend(\n                    this.options,\n                    namespace.ya.speechkit._extend(\n                        {\n                            dataCallback: function (blob) {\n                                var url = URL.createObjectURL(blob);\n                                namespace.ya.speechkit.play(url, cb);\n                            }\n                        },\n                        options)\n                )\n            );\n        },\n        /**\n         * Озвучивание текста.\n         * @param {TtsOptions} text Опции.\n         * @param {TtsOptions} [options] Опции.\n         */\n        speak: function (text, options) {\n            var opts = namespace.ya.speechkit._extend(\n                namespace.ya.speechkit._extend(\n                    {text: text},\n                    this.options),\n                options);\n            try {\n                this.socket = new WebSocket(opts.url);\n            } catch (e) {\n                opts.errorCallback('Error on socket creation: ' + e);\n                return;\n            }\n\n            var context = namespace.ya.speechkit.audiocontext || new namespace.ya.speechkit.AudioContext();\n            namespace.ya.speechkit.audiocontext = context;\n\n            this.socket.onopen = function () {\n                this._sendJson(opts);\n            }.bind(this);\n\n            var play_queue = [];\n            var playing = false;\n\n            this.socket.binaryType = 'arraybuffer';\n\n            this.socket.onmessage = function (e) {\n                var message = {};\n                if (e.data && e.data[0] == '{') {\n                    try {\n                        message = JSON.parse(e.data);\n                    } catch (ex) {\n                        message = {type: 'Audio', data: e.data};\n                    }\n                } else {\n                    message = {type: 'Audio', data: e.data};\n                }\n                if (message.type == 'InitResponse') {\n                    this.sessionId = message.data.sessionId;\n                } else if (message.type == 'Error') {\n                    opts.errorCallback('Session ' + this.sessionId + ': ' + message.data);\n                    this.socket.onclose = function () {};\n                    this.socket.close();\n                } else if (message.type == 'Phonemes') {\n                    opts.infoCallback(message.data);\n                } else if (message.type == 'Audio') {\n                    play_queue.push(message.data);\n                } else {\n                    opts.errorCallback('Session ' + this.sessionId + ': ' + message);\n                    this.socket.onclose = function () {};\n                    this.socket.close();\n                }\n            }.bind(this);\n\n            this.socket.onerror = function (error) {\n                opts.errorCallback('Socket error: ' + error.message);\n            }.bind(this);\n\n            this.socket.onclose = function (event) {\n                var res = Array.prototype.concat.apply([], play_queue);\n                var blob = new Blob(res, {type: 'audio/x-wav'});\n                if (typeof opts.dataCallback !== 'undefined') {\n                    opts.dataCallback(blob);\n                } else {\n                    var url = URL.createObjectURL(blob);\n                    namespace.ya.speechkit.play(url, opts.stopCallback);\n                }\n            }.bind(this);\n        },\n        /**\n         * Возвращает список доступных голосов и эмоций.\n         * @param {String} [lang] Язык, для которого следует вернуть список доступных языков\n         * @returns {Promise} Promise, который вернёт в resolve список доступных языков и эмоций\n         */\n        speakers: function (lang) {\n            return new Promise(function (resolve, reject) {\n\n                if (speakersCache) {\n                    resolve(speakersCache);\n                } else {\n                    var xhr = new XMLHttpRequest();\n                    xhr.open('GET', this.options.url.replace('wss://', 'https://')\n                        .replace('ws://', 'http://')\n                        .replace('ttssocket.ws', 'speakers?engine=ytcp&lang=' + (lang || '')));\n\n                    xhr.onreadystatechange = function () {\n                        if (this.readyState == 4) {\n                            if (this.status == 200) {\n                                try {\n                                    speakersCache = JSON.parse(this.responseText);\n                                    resolve(speakersCache);\n                                } catch (ex) {\n                                    reject(ex.message);\n                                }\n                            } else {\n                                reject('Can\\'t get speakers list!');\n                            }\n                        }\n                    };\n\n                    xhr.send();\n                }\n            }.bind(this));\n        },\n    };\n\n    namespace.ya.speechkit.Tts = Tts;\n}(speechkitNamespace));\n\n(function (namespace) {\n    'use strict';\n\n    var WebAudioRecognition = function (options) {\n        if (!(this instanceof namespace.ya.speechkit.WebAudioRecognition)) {\n            return new namespace.ya.speechkit.WebAudioRecognition(options);\n        }\n        this.recognition = null;\n        this.recorder = null;\n        this.options = namespace.ya.speechkit._extend(\n            namespace.ya.speechkit._extend(\n                namespace.ya.speechkit._defaultOptions(),\n                options),\n            {format: namespace.ya.speechkit.FORMAT.PCM44});\n    };\n\n    WebAudioRecognition.prototype = {\n        _onstart: function () {\n            this.send = 0;\n            this.send_bytes = 0;\n\n            this.recognition = namespace.ya.speechkit._extend(this.recognition,\n                {\n                    interim_transcript: '',\n                    lang: this.options.lang,\n                    onend: this.stop.bind(this),\n                    onresult: function (event) {\n                        this.interim_transcript = '';\n                        var arr = [];\n                        for (var i = event.resultIndex; i < event.results.length; ++i) {\n                            if (event.results[i].isFinal) {\n                                arr.push({0:{\n                                    transcript: event.results[i][0].transcript,\n                                    confidence: event.results[i][0].confidence\n                                }});\n                                this.backref.options.dataCallback(event.results[i][0].transcript, true, 1);\n                                this.interim_transcript = '';\n                            } else {\n                                this.interim_transcript += event.results[i][0].transcript;\n                            }\n                        }\n                        if (arr.length) {\n                            this.backref.recognizer._sendJson(arr);\n                        }\n                        this.backref.options.dataCallback(this.interim_transcript, false, 1);\n                    },\n                    continuous: true,\n                    interimResults: true,\n                    maxAlternatives: 5,\n                    errorCallback: this.options.errorCallback,\n                    onerror: function (e) { this.errorCallback(e.error); }\n                });\n            this.recognition.backref = this;\n\n            this.recorder = new namespace.ya.speechkit.Recorder();\n            this.recognizer = new namespace.ya.speechkit.Recognizer(\n                namespace.ya.speechkit._extend(this.options,\n                    {\n                        url: this.options.url.replace('asrsocket.ws', 'logsocket.ws'),\n                        samplerate: this.options.format.sampleRate,\n                        onInit: function (sessionId, code) {\n                            this.recorder.start(function (data) {\n                                if (this.options.vad && this.vad) {\n                                    this.vad.update();\n                                }\n                                this.send++;\n                                this.send_bytes += data.byteLength;\n                                this.options.infoCallback({\n                                    send_bytes: this.send_bytes,\n                                    format: this.options.format,\n                                    send_packages: this.send,\n                                    processed: this.proc\n                                });\n                                this.recognizer.addData(data);\n                            }.bind(this), this.options.format);\n                            this.recognition.onstart = this.options.initCallback.bind(this, sessionId, code, 'native');\n                            this.recognition.start();\n                        }.bind(this),\n                        onResult: function () {},\n                        onError: function (msg) {\n                            this.recorder.stop(function () {});\n                            this.recognizer.close();\n                            this.recognizer = null;\n                            this.options.errorCallback(msg);\n                        }.bind(this),\n                    }));\n            this.recognizer.start();\n        },\n        start: function () {\n            if (typeof namespace.webkitSpeechRecognition !== 'undefined') {\n                this.recognition = new namespace.webkitSpeechRecognition();\n\n                if (namespace.ya.speechkit._stream !== null) {\n                    this._onstart();\n                } else {\n                    namespace.ya.speechkit.initRecorder(\n                        this._onstart.bind(this),\n                        this.options.errorCallback\n                    );\n                }\n            } else {\n                this.options.errorCallback('Your browser doesn\\'t implement Web Speech API');\n            }\n        },\n        stop: function (cb) {\n            if (this.recognition) {\n                this.recognition.onend = function () {};\n                this.recognition.stop();\n            }\n            if (this.recorder) {\n                this.recorder.stop();\n            }\n            if (this.recognizer) {\n                this.recognizer.close();\n            }\n            this.options.stopCallback();\n            if (typeof cb !== 'undefined') {\n                if (Object.prototype.toString.call(cb) == '[object Function]') {\n                    cb();\n                }\n            }\n        },\n        pause: function () {\n        },\n        isPaused: function () {\n            return false;\n        },\n        getAnalyserNode: function () {\n            if (this.recorder) {\n                return this.recorder.getAnalyserNode();\n            }\n        }\n    };\n\n    namespace.ya.speechkit.WebAudioRecognition = WebAudioRecognition;\n}(speechkitNamespace));\n(function (namespace) {\n    'use strict';\n\n    namespace.ya.speechkit.SpeakerId = function () {\n        if (!(this instanceof namespace.ya.speechkit.SpeakerId)) {\n            return new namespace.ya.speechkit.SpeakerId();\n        }\n\n        if (!namespace.ya.speechkit._recorderInited) {\n            namespace.ya.speechkit.initRecorder(\n                this.onInited.bind(this),\n                function (error) {alert('Failed to init recorder: ' + error);}\n            );\n        }\n    };\n\n    namespace.ya.speechkit.SpeakerId.prototype = {\n        onInited: function () {\n            this.recorder = new namespace.ya.speechkit.Recorder();\n        },\n\n        startRecord: function () {\n            console.log('Start recording...');\n            this.recorder.start(\n                function (data) {\n                    console.log('Recorder callback, recorded data length: ' + data.byteLength);\n                },\n                namespace.ya.speechkit.FORMAT.PCM8);\n        },\n\n        completeRecordAndRegister: function (userid, keepPrev, text, onRegister) {\n            console.log('completeRecordAndRegister');\n            this.recorder.stop(function (wav) {\n                console.log('Wav is ready:');\n                console.log(wav);\n                var fd = new FormData();\n                fd.append('name', userid);\n                fd.append('text', text);\n                fd.append('audio', wav);\n                fd.append('keepPrev', keepPrev ? 'true' : 'false');\n\n                var xhr = new XMLHttpRequest();\n\n                xhr.open('POST', namespace.ya.speechkit.settings.voicelabUrl + 'register_voice');\n\n                xhr.onreadystatechange = function () {\n                    if (this.readyState == 4) {\n                        if (this.status == 200) {\n                            console.log(this.responseText);\n                            onRegister(this.responseText);\n                        } else {\n                            onRegister('Failed to register data, could not access ' +\n                                namespace.ya.speechkit.settings.voicelabUrl +\n                                ' Check out developer tools -> console for more details.');\n                        }\n                    }\n                };\n\n                xhr.send(fd);\n\n            });\n        },\n\n        completeRecordAndIdentify: function (onFoundUser) {\n            console.log('Indentify');\n            this.recorder.stop(function (wav) {\n                console.log('Wav is ready:');\n                console.log(wav);\n                var fd = new FormData();\n                fd.append('audio', wav);\n\n                var xhr = new XMLHttpRequest();\n\n                xhr.open('POST', namespace.ya.speechkit.settings.voicelabUrl + 'detect_voice');\n\n                xhr.onreadystatechange = function () {\n                    if (this.readyState == 4) {\n                        if (this.status == 200) {\n                            console.log(this.responseText);\n                            var data = {};\n                            try {\n                                data = JSON.parse(this.responseText);\n                            } catch (e) {\n                                onFoundUser(false, 'Failed to find user, internal server error: ' + e);\n                                return;\n                            }\n                            onFoundUser(true, data);\n                        } else {\n                            onFoundUser(false, 'Failed to find user, could not access ' +\n                                namespace.ya.speechkit.settings.voicelabUrl +\n                                ' Check out developer tools -> console for more details.');\n                        }\n                    }\n                };\n\n                xhr.send(fd);\n            }, 1);\n        },\n\n        feedback: function (requestId, feedback) {\n            console.log('Post feedback');\n            var fd = new FormData();\n            fd.append('requestId', requestId);\n            fd.append('feedback', feedback);\n\n            var xhr = new XMLHttpRequest();\n\n            xhr.open('POST', namespace.ya.speechkit.settings.voicelabUrl + 'postFeedback');\n\n            xhr.onreadystatechange = function () {\n                if (this.readyState == 4) {\n                    console.log(this.responseText);\n                }\n            };\n\n            xhr.send(fd);\n        },\n    };\n}(speechkitNamespace));\n(function (namespace) {\n    'use strict';\n\n    namespace.ya.speechkit.Equalizer = function (target, recorder) {\n        this.recorder = recorder;\n        this.element = document.getElementById(target);\n        this.element.style.textAlign = 'center';\n        this.element.innerText = '';\n        this.graf = document.createElement('canvas');\n        this.graf.style.width = '100%';\n        this.graf.style.height = '100%';\n        this.graf.width = 1000;\n\n        this.element.appendChild(this.graf);\n\n        if (!navigator.cancelAnimationFrame) {\n            navigator.cancelAnimationFrame = navigator.webkitCancelAnimationFrame ||\n                navigator.mozCancelAnimationFrame;\n        }\n        if (!navigator.requestAnimationFrame) {\n            navigator.requestAnimationFrame = navigator.webkitRequestAnimationFrame ||\n                navigator.mozRequestAnimationFrame;\n        }\n\n        this.refID = null;\n\n        this.startDrawRealtime();\n    };\n\n    namespace.ya.speechkit.Equalizer.prototype = {\n        destroy: function () {\n            this.stopDrawRealtime();\n            this.element.removeChild(this.graf);\n        },\n        stopDrawRealtime: function () {\n            window.cancelAnimationFrame(this.rafID);\n            this.rafID = null;\n        },\n        startDrawRealtime: function () {\n            var _this = this;\n            function updateAnalysers(time) {\n                if (!_this.analyserNode) {\n                    if (_this.recorder) {\n                        _this.analyserNode = _this.recorder.getAnalyserNode();\n                        _this.context = _this.recorder.context;\n                    } else {\n                        return;\n                    }\n                }\n\n                var canvasWidth = _this.graf.width;\n                var canvasHeight = _this.graf.height;\n                var analyserContext = _this.graf.getContext('2d');\n\n                var SPACING = 2;\n                var BAR_WIDTH = 1;\n                var numBars = Math.round(canvasWidth / SPACING);\n                var freqByteData = new Uint8Array(_this.analyserNode.frequencyBinCount);\n\n                _this.analyserNode.getByteFrequencyData(freqByteData);\n\n                analyserContext.clearRect(0, 0, canvasWidth, canvasHeight);\n                analyserContext.fillStyle = '#F6D565';\n                analyserContext.lineCap = 'round';\n                var multiplier = _this.analyserNode.frequencyBinCount / numBars;\n\n                for (var i = 0; i < numBars; ++i) {\n                    var magnitude = 0;\n                    var offset = Math.floor(i * multiplier);\n                    for (var j = 0; j < multiplier; j++) {\n                        magnitude += freqByteData[offset + j];\n                    }\n                    magnitude = magnitude / multiplier / 2;\n                    analyserContext.fillStyle = 'hsl( ' + Math.round(i * 60 / numBars) + ', 100%, 50%)';\n                    analyserContext.fillRect(i * SPACING, canvasHeight, BAR_WIDTH, -magnitude);\n                }\n                _this.rafID = window.requestAnimationFrame(updateAnalysers);\n            }\n\n            this.rafID = window.requestAnimationFrame(updateAnalysers);\n        }\n    };\n}(speechkitNamespace));\n(function (namespace) {\n    'use strict';\n\n    namespace.ya.speechkit._mic_on = '<svg version=\"1.1\" id=\"Layer_1\" ' +\n        ' xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\"' +\n        ' xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" ' +\n        ' x=\"0px\" y=\"0px\" viewBox=\"0 0 112 112\"' +\n        ' enable-background=\"new 0 0 112 112\" xml:space=\"preserve\">' +\n        ' <g id=\"tuts\" sketch:type=\"MSPage\">' +\n        ' <g id=\"mic_ff\" sketch:type=\"MSLayerGroup\">' +\n        ' <g sketch:type=\"MSShapeGroup\">' +\n        ' <circle id=\"path-1\" fill=\"rgb(255, 204, 0)\" cx=\"56\" cy=\"56\" r=\"56\"/>' +\n        ' </g>' +\n        ' <g id=\"speechkit_vector-9\" transform=\"translate(39.000000, 32.000000)\" ' +\n        ' sketch:type=\"MSShapeGroup\" opacity=\"0.9\">' +\n        ' <path id=\"Shape\" d=\"M17,4c2.8,0,5,2.3,5,5.2v15.6c0,2.9-2.2,5.2-5,5.2s-5-2.3-5-5.2V9.2C12,6.3,14.2,4,17,4 M17,0' +\n        ' c-5,0-9,4.1-9,9.2v15.6c0,5.1,4,9.2,9,9.2s9-4.1,9-9.2V9.2C26,4.1,22,0,17,0L17,0z\"/>' +\n        ' <path id=\"Shape_1_\" ' +\n        ' d=\"M34,23v1.1C34,34,26.4,42,17,42S0,34,0,24.1V23h4v0.1C4,31.3,9.8,38,17,38s13-6.7,13-14.9V23H34z\"/>' +\n        ' <rect id=\"Rectangle-311\" x=\"15\" y=\"41\" width=\"4\" height=\"10\"/>' +\n        ' </g>' +\n        ' </g>' +\n        ' </g>' +\n        ' </svg>';\n\n    namespace.ya.speechkit._mic_off = '<svg version=\"1.1\" id=\"Layer_1\" ' +\n        ' xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\"' +\n        ' xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" ' +\n        ' x=\"0px\" y=\"0px\" viewBox=\"0 0 112 112\"' +\n        ' enable-background=\"new 0 0 112 112\" xml:space=\"preserve\">' +\n        ' <g id=\"tuts\" sketch:type=\"MSPage\">' +\n        ' <g id=\"mic_ff\" sketch:type=\"MSLayerGroup\">' +\n        ' <g id=\"speechkit_vector-9\" transform=\"translate(39.000000, 32.000000)\" ' +\n        ' sketch:type=\"MSShapeGroup\" opacity=\"0.9\">' +\n        ' <path id=\"Shape\" d=\"M17,4c2.8,0,5,2.3,5,5.2v15.6c0,2.9-2.2,5.2-5,5.2s-5-2.3-5-5.2V9.2C12,6.3,14.2,4,17,4 M17,0' +\n        ' c-5,0-9,4.1-9,9.2v15.6c0,5.1,4,9.2,9,9.2s9-4.1,9-9.2V9.2C26,4.1,22,0,17,0L17,0z\"/>' +\n        ' <path id=\"Shape_1_\" ' +\n        ' d=\"M34,23v1.1C34,34,26.4,42,17,42S0,34,0,24.1V23h4v0.1C4,31.3,9.8,38,17,38s13-6.7,13-14.9V23H34z\"/>' +\n        ' <rect id=\"Rectangle-311\" x=\"15\" y=\"41\" width=\"4\" height=\"10\"/>' +\n        ' </g>' +\n        ' </g>' +\n        ' </g>' +\n        ' </svg>';\n\n    /**\n     * @name Textline\n     * @class Класс для добавления элемента управления \"Поле для голосового ввода\".\n     * @param {String} target Идентификатор div-контейрена, в котором будет размещен элемент управления.\n     * @param {Object} [options] Опции распознавания.\n     * @param {Object} [options.onInputFinished] Функция, которая будет вызвана после завершения распознавания. В качесве ее\n     * аргументов передается финальный распознанный текст.\n     * @param {String} [options.apikey] API-ключ. Если не задан, то используется ключ, указанный\n     * в глобальных настройках {@link settings}.\n     * @param {Boolean} [options.allowStrongLanguage=false] Следует ли отключить фильтрацию обсценной лексики.\n     * @param {String} [options.model='notes'] Языковая модель для распознавания речи. Список доступных значений:\n     * <ul>\n     *     <li>'notes' (по умолчанию) — текст;</li>\n     *     <li>'queries' — короткие запросы;</li>\n     *     <li>'names' — имена; </li>\n     *     <li>'dates' — даты; </li>\n     *     <li>'maps' - топонимы;</li>\n     *     <li>'notes' - тексты;</li>\n     *     <li>'numbers' — числа.</li>\n     * </ul>\n     * <p>Если параметр не указан, то используется\n     * значение, заданное в глобальных настройках {@link settings}. Если в настройках значение не задано, то\n     * используется модель по умолчанию - 'notes'. </p>\n     * @param {String} [options.lang='ru-RU'] Язык, речь на котором следует распознавать. Возможные значения: 'ru-RU', 'en-US', 'tr-TR', 'uk-UA'.\n     * <p>Если параметр не указан, то используется\n     * значение, заданное в глобальных настройках {@link settings}. Если в настройках значение не задано, то по умолчанию\n     * выбирается русский язык: 'ru-RU'. </p>\n     * @param {ya.speechkit.FORMAT} [options.format=ya.speechkit.FORMAT.PCM16] Формат передачи аудио-сигнала.\n     */\n    namespace.ya.speechkit.Textline = function (target, options) {\n        if (!(this instanceof namespace.ya.speechkit.Textline)) {\n            return new namespace.ya.speechkit.Textline(target, options);\n        }\n\n        var el = document.getElementById(target);\n        if (el.tagName != 'INPUT') {\n            this.element = el;\n            this.textinput = document.createElement('input');\n            this.textinput.style.height = '100%';\n            this.textinput.style.width = '100%';\n        } else {\n            this.textinput = el;\n            this.element = null;\n        }\n        this.textinput.style.backgroundImage = 'url(\\'data:image/svg+xml;utf8,' +\n            namespace.ya.speechkit._mic_off + '\\')';\n        this.textinput.style.backgroundRepeat = 'no-repeat';\n        this.textinput.style.backgroundPosition = 'right center';\n        if (this.element) {\n            this.element.appendChild(this.textinput);\n        }\n\n        this.dict = null;\n\n        this.final_result = '';\n\n        var _this = this;\n\n        this.textinput.onmousemove = function (event) {\n            var rect = _this.textinput.getBoundingClientRect();\n            if (event.clientX - rect.x > rect.width - rect.height)\n            {\n                _this.textinput.style.cursor = 'pointer';\n            } else {\n                _this.textinput.style.cursor = 'text';\n            }\n        };\n\n        options = options || {};\n\n        options.dataCallback = function (text, uttr, merge) {\n            _this.textinput.value = text;\n            if (uttr) {\n                if (options.onInputFinished) {\n                    _this.final_result = text;\n                    options.onInputFinished(text);\n                }\n                _this.dict.abort();\n            }\n        };\n\n        options.initCallback = function () {\n            _this.textinput.style.backgroundImage = 'url(\\'data:image/svg+xml;utf8,' + ya.speechkit._mic_on + '\\')';\n        };\n\n        options.stopCallback = function () {\n            _this.textinput.style.backgroundImage = 'url(\\'data:image/svg+xml;utf8,' + ya.speechkit._mic_off + '\\')';\n            _this.dict = null;\n        };\n\n        this.textinput.onmousedown = function (event) {\n            var rect = _this.textinput.getBoundingClientRect();\n\n            if (event.clientX <= rect.width - rect.height) {\n                return;\n            }\n\n            if (!_this.dict) {\n                _this.dict = new ya.speechkit.SpeechRecognition();\n            }\n            if (_this.dict.isPaused())\n            {\n                _this.dict.start(options);\n            } else {\n                _this.dict.stop();\n            }\n        };\n\n        return {\n            /**\n             * Удаляет элемент управления.\n             * @name Textline.destroy\n             * @function\n             */\n            destroy: function () {\n                if (_this.dict) {\n                    _this.dict.stop();\n                }\n                _this.textinput.style.backgroundImage = '';\n                _this.textinput.onmousedown = function () {};\n                _this.textinput.onmousemove = function () {};\n\n                if (_this.element) {\n                    _this.element.removeChild(_this.textinput);\n                }\n            },\n            /**\n             * Получает финальный результат распознавания в синхронном режиме.\n             * @name Textline.value\n             * @function\n             * @returns {string} Результат распознавания.\n             *\n             * @example\n             * var textline = new ya.speechkit.Textline('myDiv');\n             *\n             * setTimeout(function () {\n             *     console.log(\"Результат распознавания: \" + textline.value());\n             * }, 5000);\n             */\n            value: function () {\n                return _this.final_result;\n            }\n        };\n    };\n}(speechkitNamespace));\n\n(function (namespace) {\n    'use strict';\n\n    if (typeof namespace.ya === 'undefined') {\n        namespace.ya = {};\n    }\n    if (typeof namespace.ya.speechkit === 'undefined') {\n        namespace.ya.speechkit = {};\n    }\n    /**\n     * @name settings\n     * @static\n     * @class Задает глобальные настройки API.\n     */\n\n    /**\n     * Язык. Возможные значения:\n     * <ul>\n     *      <li>'ru-RU',</li>\n     *      <li>'en-US',</li>\n     *      <li>'tr-TR'</li>\n     *      <li>'uk-UA' (для синтеза речи).</li>\n     * </ul>\n     * @field\n     * @name settings.lang\n     * @type String\n     */\n\n    /**\n     * <xref scope=\"external\" href=\"https://tech.yandex.ru/speechkit/jsapi/doc/dg/concepts/settings-docpage/\">Языковая модель</xref>.\n     * Список доступных значений:\n     * <ul>\n     *     <li>'notes' (по умолчанию) — общая лексика;</li>\n     *     <li>'queries' — короткие запросы;</li>\n     *     <li>'names' — имена; </li>\n     *     <li>'dates' — даты; </li>\n     *     <li>'maps' — топонимы;</li>\n     *     <li>'notes' — тексты;</li>\n     *     <li>'numbers' — числа.</li>\n     * </ul>\n     * @field\n     * @name settings.model\n     * @type String\n     */\n\n    /**\n     * API-ключ.\n     * @field\n     * @name settings.apikey\n     * @type String\n     */\n\n    /**\n     * UUID клиента.\n     * <p>Формируется автоматически, случайным образом. Является уникальным для каждого пользователя приложения.</p>\n     * @field\n     * @name settings.uuid\n     * @type String\n     */\n\n    var settings = {\n        websocketProtocol: 'wss://',\n        asrUrl: 'webasr.yandex.net/asrsocket.ws',\n        ttsUrl: 'https://tts.voicetech.yandex.net',\n        ttsStreamUrl: 'webasr.yandex.net/ttssocket.ws',\n        lang: 'ru-RU',\n        langWhitelist: ['ru-RU', 'tr-TR', 'en-US', 'en-GB', 'uk-UA', 'ru', 'tr', 'en', 'uk', 'en-EN'],\n        model: 'notes',\n        applicationName: 'jsapi',\n        apikey: '',\n        uuid: 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(\n            /[xy]/g,\n            function (c) {\n                var r = Math.random() * 16 | 0;\n                var v = c == 'x' ? r : (r & 0x3 | 0x8);\n                return v.toString(16);\n            }\n        )\n    };\n\n    if (typeof namespace.ya.speechkit._extend === 'undefined') {\n        namespace.ya.speechkit.settings = settings;\n    } else {\n        namespace.ya.speechkit.settings = namespace.ya.speechkit._extend(settings, namespace.ya.speechkit.settings);\n    }\n})(speechkitNamespace);\n\nmodule.exports = speechkitNamespace;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/speechkit/src/index.js\n// module id = 512\n// module chunks = 1 2","'use strict';\n\nconst xml = require('../../utils/xml');\nconst events = require('./events');\n\nclass XMLHandler {\n    constructor() {}\n\n    _toXML(string) {\n        return xml.fromStringOriginal(string);\n    }\n\n    /**\n     * Handles xml.getAttr method call.\n     * @param {Object} params\n     * @private\n     */\n    _getAttr({xmlString, selector, attr, sendResponse}) {\n        if (typeof xmlString === 'string') {\n            const xmlDoc = this._toXML(xmlString);\n            sendResponse({attr: xml.getAttrOriginal(xmlDoc, selector, attr)});\n        } else {\n            const errObj = {message: 'No serialized xml found.'}\n            sendResponse({errObj});\n        }\n    }\n\n    /**\n     * Handles xml.getText method call.\n     * @param {Object} params\n     * @private\n     */\n    _getText({xmlString, selector, sendResponse}) {\n        if (typeof xmlString === 'string') {\n            const xmlDoc = this._toXML(xmlString);\n            sendResponse({text: xml.getTextOriginal(xmlDoc, selector)});\n        } else {\n            const errObj = {message: 'No serialized xml found.'}\n            sendResponse({errObj});\n        }\n    }\n\n    /**\n     * Handles xml.selectAll method call.\n     * @param {Object} params\n     * @private\n     */\n    _selectAll({selector, parent, sendResponse}) {\n        if (typeof parent === 'string') {\n            const xmlDoc = this._toXML(parent);\n            sendResponse({selection: xml.selectAllOriginal(selector, xmlDoc)});\n        } else {\n            const errObj = {message: 'No serialized xml found.'}\n            sendResponse({errObj});\n        }\n    }\n\n    handle(req, _sender) {\n        switch (req.type) {\n            case events.backend.XML_FROM_STRING:\n                this._fromString(req.data);\n                break;\n            case events.backend.XML_GET_ATTR:\n                this._getAttr(req.data);\n                break;         \n            case events.backend.XML_GET_TEXT:\n                this._getText(req.data);\n                break;\n            case events.backend.XML_SELECT_ALL:\n                this._selectAll(req.data);\n                break;\n            default:\n                // Cannot handle.\n                return;\n        }\n\n        // Indicate an async response.\n        return true;\n    }\n};\n\nmodule.exports = new XMLHandler();\n\n\n\n// WEBPACK FOOTER //\n// ./modules/offscreen/xml-handler.js","/**\n * Alarms wrapper for search examples.\n */\n'use strict';\n\nvar alarms = require('../../utils/alarms');\nvar channel = require('../../utils/channel');\n\nvar ALARM = {\n    name: 'refreshSearchExamples',\n    periodInMinutes: 24 * 60,\n};\n\nexports.init = function () {\n    alarms.register(ALARM, function () {\n        exports.onRefreshExamples.dispatch();\n    });\n};\n\nexports.onRefreshExamples = channel.create();\n\n\n\n// WEBPACK FOOTER //\n// ./modules/search-examples/alarms.js","/**\n * Logic for search examples\n * Periodically updates current example\n */\n'use strict';\n\nvar alarms = require('./alarms');\nvar logger = require('../../utils/logger').create('search examples');\nvar loader = require('./loader');\nvar state = require('./state');\n\nexports.init = function () {\n    logger.info('Initializing search examples');\n    alarms.onRefreshExamples.addListener(exports.refreshExamples);\n    alarms.init();\n};\n\n/**\n * @returns {String}\n */\nexports.getExample = function () {\n    var currentExample = state.getExample();\n    return currentExample ? currentExample.text : '';\n};\n\nexports.refreshExamples = function () {\n    loader.load(function (error, examples) {\n        if (error) {\n            logger.error('Error while loading examples: %j', error);\n        } else {\n            logger.info('Examples have been loaded');\n            state.refreshExamples(examples);\n        }\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/search-examples/index.js","/**\n * Loads example list from server\n */\n'use strict';\n\nvar xhr = require('../../utils/xhr');\nvar curly = require('../../utils/curly');\nvar i18n = require('../i18n');\nvar branding = require('../branding');\n\nvar REQUEST_TIMEOUT_MS = 5000;\nvar REQUEST_TYPE = 'json';\n\n/**\n * @param {Function} callback\n */\nexports.load = function (callback) {\n    sendRequest(function (error, json) {\n        callback(error, json ? json.data : []);\n    });\n};\n\n/**\n * @param {Function} callback\n */\nfunction sendRequest(callback) {\n    xhr({\n        url: createUrl(),\n        timeout: REQUEST_TIMEOUT_MS,\n        parse: REQUEST_TYPE\n    }, callback);\n}\n\n/**\n * @returns {String}\n */\nfunction createUrl() {\n    return curly.insertUrlVars(branding.search.examplesUrl, {locale: i18n.locale});\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/search-examples/loader.js","/**\n * Contains logic for updating and saving examples and current index\n */\n'use strict';\n\nvar sort = require('lodash/collection/sortByOrder');\nvar storage = require('./state-storage');\nvar sum = require('lodash/math/sum');\n\nvar EXAMPLE_WEIGHT_FIELD = 'weight';\n\n/**\n * @param {Array<Object>} examples\n */\nexports.refreshExamples = function (examples) {\n    var sortedList = sortExamples(examples);\n    storage.setExamples(sortedList);\n};\n\n/**\n * @returns {{text: String, weight: Number}|null}\n */\nexports.getExample = function () {\n    var examples = storage.getExamples();\n    return getRandomItem(examples);\n};\n\n/**\n * @param {Array<Object>} list\n * @returns {Array<Object>}\n */\nfunction sortExamples(list) {\n    return sort(list, ['weight'], ['desc']);\n}\n\n/**\n * @param {Array<Object>} list\n * @returns {Object}\n */\nfunction getRandomItem(list) {\n    var normalWeights = getNormalizedItems(list, EXAMPLE_WEIGHT_FIELD);\n    var randomNumber = Math.random();\n    var item = findRandomItem(normalWeights, randomNumber);\n    if (!item) {\n        return list[Math.floor(randomNumber * list.length)];\n    } else {\n        return list[item.index];\n    }\n}\n\n/**\n * @param {Array<Numbers>} list\n * @param {String} field\n * @returns {Array<{value: Number, index: Number}>}\n */\nfunction getNormalizedItems(list, field) {\n    var totalSum = sum(list, field);\n    if (!totalSum) {\n        return [];\n    }\n    return list.map(function (item, index) {\n        return {value: item[field] / totalSum, index: index};\n    });\n}\n\n/**\n * @param {Array<{value: Number, index: Number}>} list\n * @param {Number} number\n * @returns {{value: Number, index: Number}|null}\n */\nfunction findRandomItem(list, number) {\n    var item = null;\n    var currentLength = 0;\n    for (var i = 0; i < list.length; i++) {\n        item = list[i];\n        currentLength += item.value;\n        if (currentLength >= number) {\n            return item;\n        }\n    }\n    return item;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/search-examples/state.js","var baseSortByOrder = require('../internal/baseSortByOrder'),\n    isArray = require('../lang/isArray'),\n    isIterateeCall = require('../internal/isIterateeCall');\n\n/**\n * This method is like `_.sortByAll` except that it allows specifying the\n * sort orders of the iteratees to sort by. If `orders` is unspecified, all\n * values are sorted in ascending order. Otherwise, a value is sorted in\n * ascending order if its corresponding order is \"asc\", and descending if \"desc\".\n *\n * If a property name is provided for an iteratee the created `_.property`\n * style callback returns the property value of the given element.\n *\n * If an object is provided for an iteratee the created `_.matches` style\n * callback returns `true` for elements that have the properties of the given\n * object, else `false`.\n *\n * @static\n * @memberOf _\n * @category Collection\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {boolean[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 42 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // sort by `user` in ascending order and by `age` in descending order\n * _.map(_.sortByOrder(users, ['user', 'age'], ['asc', 'desc']), _.values);\n * // => [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 42]]\n */\nfunction sortByOrder(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (guard && isIterateeCall(iteratees, orders, guard)) {\n    orders = undefined;\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseSortByOrder(collection, iteratees, orders);\n}\n\nmodule.exports = sortByOrder;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/collection/sortByOrder.js\n// module id = 518\n// module chunks = 1","var arrayMap = require('./arrayMap'),\n    baseCallback = require('./baseCallback'),\n    baseMap = require('./baseMap'),\n    baseSortBy = require('./baseSortBy'),\n    compareMultiple = require('./compareMultiple');\n\n/**\n * The base implementation of `_.sortByOrder` without param guards.\n *\n * @private\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {boolean[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseSortByOrder(collection, iteratees, orders) {\n  var index = -1;\n\n  iteratees = arrayMap(iteratees, function(iteratee) { return baseCallback(iteratee); });\n\n  var result = baseMap(collection, function(value) {\n    var criteria = arrayMap(iteratees, function(iteratee) { return iteratee(value); });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nmodule.exports = baseSortByOrder;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseSortByOrder.js\n// module id = 519\n// module chunks = 1","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define\n * the sort order of `array` and replaces criteria objects with their\n * corresponding values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nmodule.exports = baseSortBy;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseSortBy.js\n// module id = 520\n// module chunks = 1","var baseCompareAscending = require('./baseCompareAscending');\n\n/**\n * Used by `_.sortByOrder` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all valuess are sorted in ascending order. Otherwise,\n * a value is sorted in ascending order if its corresponding order is \"asc\", and\n * descending if \"desc\".\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = baseCompareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * ((order === 'asc' || order === true) ? 1 : -1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://code.google.com/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nmodule.exports = compareMultiple;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/compareMultiple.js\n// module id = 521\n// module chunks = 1","/**\n * The base implementation of `compareAscending` which compares values and\n * sorts them in ascending order without guaranteeing a stable sort.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction baseCompareAscending(value, other) {\n  if (value !== other) {\n    var valIsNull = value === null,\n        valIsUndef = value === undefined,\n        valIsReflexive = value === value;\n\n    var othIsNull = other === null,\n        othIsUndef = other === undefined,\n        othIsReflexive = other === other;\n\n    if ((value > other && !othIsNull) || !valIsReflexive ||\n        (valIsNull && !othIsUndef && othIsReflexive) ||\n        (valIsUndef && othIsReflexive)) {\n      return 1;\n    }\n    if ((value < other && !valIsNull) || !othIsReflexive ||\n        (othIsNull && !valIsUndef && valIsReflexive) ||\n        (othIsUndef && valIsReflexive)) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nmodule.exports = baseCompareAscending;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseCompareAscending.js\n// module id = 522\n// module chunks = 1","/**\n * Storage wrapper for search examples.\n */\n'use strict';\n\nvar settings = require('../settings/settings');\n\nvar EXAMPLES_PREF = 'searchExamples';\n\n/**\n * @param {Array<Object>} examples\n */\nexports.setExamples = function (examples) {\n    if (examples) {\n        settings.set(EXAMPLES_PREF, examples);\n    }\n};\n\n/**\n * @returns {Array<Object>}\n */\nexports.getExamples = function () {\n    return settings.get(EXAMPLES_PREF) || [];\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/search-examples/state-storage.js","var arraySum = require('../internal/arraySum'),\n    baseCallback = require('../internal/baseCallback'),\n    baseSum = require('../internal/baseSum'),\n    isArray = require('../lang/isArray'),\n    isIterateeCall = require('../internal/isIterateeCall'),\n    toIterable = require('../internal/toIterable');\n\n/**\n * Gets the sum of the values in `collection`.\n *\n * @static\n * @memberOf _\n * @category Math\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n * @param {*} [thisArg] The `this` binding of `iteratee`.\n * @returns {number} Returns the sum.\n * @example\n *\n * _.sum([4, 6]);\n * // => 10\n *\n * _.sum({ 'a': 4, 'b': 6 });\n * // => 10\n *\n * var objects = [\n *   { 'n': 4 },\n *   { 'n': 6 }\n * ];\n *\n * _.sum(objects, function(object) {\n *   return object.n;\n * });\n * // => 10\n *\n * // using the `_.property` callback shorthand\n * _.sum(objects, 'n');\n * // => 10\n */\nfunction sum(collection, iteratee, thisArg) {\n  if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n    iteratee = undefined;\n  }\n  iteratee = baseCallback(iteratee, thisArg, 3);\n  return iteratee.length == 1\n    ? arraySum(isArray(collection) ? collection : toIterable(collection), iteratee)\n    : baseSum(collection, iteratee);\n}\n\nmodule.exports = sum;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/math/sum.js\n// module id = 524\n// module chunks = 1","/**\n * A specialized version of `_.sum` for arrays without support for callback\n * shorthands and `this` binding..\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the sum.\n */\nfunction arraySum(array, iteratee) {\n  var length = array.length,\n      result = 0;\n\n  while (length--) {\n    result += +iteratee(array[length]) || 0;\n  }\n  return result;\n}\n\nmodule.exports = arraySum;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/arraySum.js\n// module id = 525\n// module chunks = 1","var baseEach = require('./baseEach');\n\n/**\n * The base implementation of `_.sum` without support for callback shorthands\n * and `this` binding.\n *\n * @private\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the sum.\n */\nfunction baseSum(collection, iteratee) {\n  var result = 0;\n  baseEach(collection, function(value, index, collection) {\n    result += +iteratee(value, index, collection) || 0;\n  });\n  return result;\n}\n\nmodule.exports = baseSum;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/baseSum.js\n// module id = 526\n// module chunks = 1","/**\n * Synchronises log levels from settings with logger instance\n */\n'use strict';\n\nvar coreLogger = require('../../utils/logger');\nvar settings = require('./settings');\nvar defaults = require('./defaults');\n\nvar CONSOLE_LEVEL = 'consoleLogLevels';\nvar PLATFORM_LEVEL = 'platformLogLevels';\n\n/**\n * Sets default levels to logger\n */\nexports.prepare = function () {\n    coreLogger.setLevels('console', defaults[CONSOLE_LEVEL]);\n    coreLogger.setLevels('platform', defaults[PLATFORM_LEVEL]);\n};\n\n/**\n * Sets real log levels from settings\n */\nexports.init = function () {\n    coreLogger.setLevels('console', settings.get(CONSOLE_LEVEL));\n    coreLogger.setLevels('platform', settings.get(PLATFORM_LEVEL));\n    settings.onChanged.addListener(onSettingChanged);\n};\n\n/**\n * @param {Object} data\n * @param {String} data.key\n * @param {*} data.oldValue\n * @param {*} data.newValue\n */\nfunction onSettingChanged(data) {\n    if (data.key === CONSOLE_LEVEL) {\n        setLevels('console', data);\n    } else if (data.key === PLATFORM_LEVEL) {\n        setLevels('platform', data);\n    }\n}\n\n/**\n * @param {String} writerName\n * @param {{newValue: *, oldValue: *}} levelsData\n */\nfunction setLevels(writerName, levelsData) {\n    coreLogger.info(\n        'Change %s log levels, old: %o, new: %o',\n        writerName, levelsData.oldValue, levelsData.newValue);\n    coreLogger.setLevels(writerName, levelsData.newValue);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/settings/log-levels.js","/**\n * Взаимодействие настроек общего бэкенда с платформой.\n * В начале получаем значения некоторых настроек из платформы и устанавливаем их в бэкенде.\n * Добавляем наблюдателей за изменением настроек в бэкенде и изменением настроек в платформе.\n *\n * Сейчас работаем только с одной настройкой - согласие пользователя отправлять статистику.\n * В Chrome этот бридж фактически не используется, так как настройка не храится в платформе.\n * В Firefox настройка хранится и в платформе, и в storage.local и в платформе; задача бриджа не допустить рассинхрона.\n *\n * https://st.yandex-team.ru/VB-5629\n */\n\n'use strict';\n\nvar utils = require('../../utils/utils');\nvar settings = require('./settings');\nvar platformSettings = require('../../platform/settings');\n\n// Отслеживаемые настройки.\nvar OBSERVED_SETTINGS = [\n    'sendUsageStat',\n];\n\nexports.init = function (callback) {\n    callback = callback || utils.noop;\n    setSettingsFromPlatform();\n    settings.onChanged.addListener(onSettingChanged);\n    platformSettings.onChanged.addListener(onPlatformSettingChanged);\n    callback();\n};\n\n/**\n * Для всех отслеживаемых настроек получаем значение из платформы и\n * устанавливаем значение этой настройки в бэкенде.\n */\nfunction setSettingsFromPlatform() {\n    OBSERVED_SETTINGS.forEach(function (name) {\n        var value = platformSettings.get(name);\n        if (typeof value !== 'undefined') {\n            settings.set(name, value);\n        }\n    });\n}\n\n/**\n * Обработка события изменения настройки в бэкенде.\n *\n * @param {Object} info Объект с данными об изменениях.\n * @param {String} info.key\n * @param {*} info.oldValue\n * @param {*} info.newValue\n */\nfunction onSettingChanged(info) {\n    if (isObservedSetting(info.key)) {\n        platformSettings.set(info.key, info.newValue);\n    }\n}\n\n/**\n * Обработка события изменения настройки в платформе.\n *\n * @param {Object} info Объект с данными об изменениях.\n * @param {String} info.key\n * @param {*} info.newValue\n */\nfunction onPlatformSettingChanged(info) {\n    if (isObservedSetting(info.key)) {\n        settings.set(info.key, info.newValue);\n    }\n}\n\n/**\n * Отслеживается ли изменение значения настройки.\n *\n * @param {String} name Имя настройки\n */\nfunction isObservedSetting(name) {\n    return OBSERVED_SETTINGS.indexOf(name) !== -1;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/settings/platform-bridge.js","/**\n * Взаимодействие настроек общего бэкенда с платформой.\n * Чтение/установка настроек платформы из бэкенда.\n * Отслеживание изменений настроек платформы.\n * @see {@link https://st.yandex-team.ru/VB-5629}\n *\n * @see {@link https://github.yandex-team.ru/desktop/docs/blob/master/visbookmarks-backend/platform.settings.md}\n */\n\n'use strict';\n\nvar channel = require('../utils/channel');\n\n/**\n * Получение значения настройки.\n *\n */\nexports.get = function () {\n    // noop\n};\n\n/**\n * Установка значения настройки.\n *\n */\nexports.set = function () {\n    // noop\n};\n\nexports.onChanged = channel.create();\n\n\n\n// WEBPACK FOOTER //\n// ./platform/settings.js","'use strict';\n\nexports.init = function () {\n    require('./site-loader').init();\n    require('./tableau').init();\n    require('./title').init();\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/site-info/index.js","/**\n * Работа датой установки ()\n */\n\n'use strict';\n\nvar settings = require('../settings/settings');\n\n/**\n * Дата установки (в мс)\n */\nexports.get = function () {\n    return (settings.get('appInstallTime') || 0) * 1000;\n};\n\n/**\n * Устанавливает текущую дату как дату установки\n */\nexports.setCurrent = function () {\n    settings.set('appInstallTime', Math.round(Date.now() / 1000));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/startup/install-date.js","/**\n * Действия выполняемые и при чистой установке и при обновлении\n */\n\n'use strict';\n\nvar backgrounds = require('../backgrounds');\nvar remoteConfig = require('../remote-config');\nvar advertisement = require('../advertisement');\nvar experimentActualConfigs = require('../experiments/actual-configs');\nvar alarms = require('../../utils/alarms');\n\n/**\n * preInit\n * @param {Function} callback\n */\nexports.preInit = function (callback) {\n    // always try force testid (for testers convenience)\n    experimentActualConfigs.tryForceTestId(callback);\n};\n\n/**\n * Run\n */\nexports.run = function () {\n    // идем за фонами в облако\n    backgrounds.sync();\n    // идем за удаленным конфигом\n    remoteConfig.check();\n    // проверяем рекламные блоки\n    advertisement.checkGroups();\n    // получаем информеры\n    alarms.trigger('informers');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/startup/install-upgrade.js","/**\n * Чистая установка\n */\n\n'use strict';\n\nvar versions = require('./versions');\nvar installDate = require('./install-date');\nvar utils = require('../../utils/utils');\nvar platform = require('../../platform');\nvar waterfall = require('async').waterfall;\nvar platformConfigure = require('../../platform/configure');\nvar backup = require('../backup');\nvar backgroundSelector = require('../backgrounds/selector');\nvar bannerid = require('../cookies/bannerid');\nvar pickup = require('../pickup/pickup');\nvar installUpgrade = require('./install-upgrade');\nvar logger = require('../../utils/logger').create('Startup/install');\nvar brandingRemoteLoader = require('../branding/remote/loader');\n\n/**\n * preInit\n * @param {Function} callback\n */\nexports.preInit = function (callback) {\n    installUpgrade.preInit(callback);\n};\n\n/**\n * Run\n * @param {Function} callback\n */\nexports.run = function (callback) {\n    logger.info('Clean install of version %s', versions.getCurrent());\n    logger.info('Guid: %s', platform.guid);\n\n    installDate.setCurrent();\n\n    // todo: что-то здесь точно можно делать паралельно, например проверять банерид и проверять бэкап\n    // но удобнее это делать, когда перейдем на промисы\n    waterfall([\n        function (callback) {\n            bannerid.processCookie()\n                .then(function (banneridValue) {\n                    callback(null, banneridValue);\n                })\n                .catch(utils.noargs(callback));\n        },\n        function (banneridValue, callback) {\n            if (banneridValue) {\n                brandingRemoteLoader\n                    .tryLoad({attempt: 0})\n                    .then(utils.noargs(callback))\n                    .catch(utils.noargs(callback));\n            } else {\n                callback();\n            }\n        },\n        function (callback) {\n            // пробуем восстановиться из бэкапа кук\n            backup.tryRestoreFromCookies()\n                .then(function (success) {\n                    callback(null, success);\n                })\n                .catch(function (e) {\n                    logger.error(e.stack);\n                    callback(null, false);\n                });\n        },\n        function (restoreSuccess, callback) {\n            if (restoreSuccess) {\n                // запускаем автоподбор в режиме dryRun - он не трогает текущие тумбы, но формирует кеш, VB-4784\n                pickup.run({dryRun: true});\n                callback();\n            } else {\n                // вызываем автоподбор\n                // (за серверным блэклистом не идем, т.к. это долго и он фактически совпадает с тем,\n                // что мы несем в ПБ, VB-5027)\n                pickup.run({fast: true}, utils.noargs(callback));\n            }\n        },\n    ], function () {\n        // выставляем дефолтный фон. Не передаем колбэк, чтобы не ждать пока фон скачается\n        // (особенно для кастомного брендинга).\n        // Лучше пораньше отправим init, а фон долетит отдельным сообщением backgroundChanged\n        backgroundSelector.selectDefaultBackground();\n        // отправляем soft-export install статистику\n        platformConfigure({softExport: 'send'});\n        // обновляем историю версий\n        versions.addToHistory(versions.getCurrent());\n        installUpgrade.run();\n        callback();\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/startup/install.js","/**\n * Обычный старт\n */\n\n'use strict';\n\nvar collection = require('../thumbs/collection');\nvar pickup = require('../pickup/pickup');\nvar versions = require('./versions');\nvar logger = require('../../utils/logger').create('Startup/normalStart');\n\n/**\n * preInit\n * @param {Function} callback\n */\nexports.preInit = function (callback) {\n    callback();\n};\n\n/**\n * Run\n * @param {Function} callback\n */\nexports.run = function (callback) {\n    logger.info('Normal start of version %s', versions.getCurrent());\n    collection.loadFromDB(function (err) {\n        if (err || collection.length === 0) {\n            logger.warn('Re run pickup as collection empty');\n            pickup.run({fast: true}, callback);\n        } else {\n            // todo: была идея каждый раз при запуске пробовать подтянуть недостающие данные тумб,\n            // через collection.loadMissingData, но это может создать сильную нагрузку на сайты\n            // https://github.yandex-team.ru/desktop/visbookmarks-backend/pull/104#issuecomment-228943\n            callback();\n        }\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/startup/normal-start.js","/**\n * Запуск offscreen\n */\n'use strict';\n\nconst messaging = require('../offscreen/messaging');\n\nexports.run = () => {\n  messaging.init();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/startup/offscreen.js","/**\n * Действия при деинсталяции\n */\n\n'use strict';\n\nvar database = require('../database/database');\nvar platformConfigure = require('../../platform/configure');\nvar logger = require('../../utils/logger').create('Startup/uninstall');\n\nexports.setup = function () {\n    logger.info('Setup..');\n    platformConfigure({onUninstall: onUninstall});\n    platformConfigure({softExport: 'setUninstallURL'});\n};\n\nfunction onUninstall() {\n    database.deleteDatabase();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/startup/uninstall.js","/**\n * Обновление с одной версии на другую\n */\n\n'use strict';\n\nvar versions = require('./versions');\nvar collection = require('../thumbs/collection');\nvar runstate = require('./runstate');\nvar migration = require('../migration');\nvar pickup = require('../pickup/pickup');\nvar installUpgrade = require('./install-upgrade');\nvar logger = require('../../utils/logger').create('Startup/upgrade');\n\n/**\n * preInit\n * @param {Function} callback\n */\nexports.preInit = function (callback) {\n    installUpgrade.preInit(callback);\n};\n\n/**\n * Run\n * @param {Function} callback\n */\nexports.run = function (callback) {\n    logger.info('Upgrading from %s to %s', versions.getPrevious(), versions.getCurrent());\n\n    migration.run({\n        previousVersion: versions.getPrevious(),\n        currentVersion: versions.getCurrent(),\n        migrationData: runstate.getMigrationDataCommonBackend(),\n    }, function (err) {\n        if (err) {\n            logger.error('Error during migration %j', err);\n        } else {\n            versions.addToHistory(versions.getCurrent());\n        }\n        collection.loadFromDB(function () {\n            // запускаем автоподбор в режиме dryRun - он не трогает текущие тумбы, но формирует кеш, VB-5132\n            pickup.run({dryRun: true});\n            // догружаем данные по тумбам\n            collection.loadMissingData({force: true});\n            installUpgrade.run();\n            callback();\n        });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/startup/upgrade.js","/**\n * Кликерная статистика рекламы\n * https://beta.wiki.yandex-team.ru/visualbookmarks/advertonvb/#statistika\n */\n'use strict';\n\nvar clicker = require('./clicker');\nvar advertisement = require('../advertisement');\nvar Block = require('../advertisement/block');\nvar platformAbout = require('../../platform/about');\nvar logger = require('../../utils/logger').create('Statistics/advertisement');\n\nvar CID = 72582;\n\nexports.init = function () {\n    var blocks = advertisement.getAllBlocks();\n    if (!blocks.length) {\n        throw new Error('Blocks not initialized!');\n    }\n    blocks.forEach(function (block) {\n        block.onStartShowing.addListener(onStartShowing);\n        block.onRefuse.addListener(onRefuse);\n    });\n};\n\nfunction onStartShowing(block) {\n    send(block, 'show');\n}\n\nfunction onRefuse(block, reason) {\n    send(block, getParamByRefuseReason(reason));\n}\n\nfunction send(block, param) {\n    if (param) {\n        var path = [platformAbout.id, clicker.getPlatformVersion(), block.getId(), param];\n        clicker.send({path: path, cid: CID});\n    } else {\n        logger.warn('Empty param for block %s', block.getId());\n    }\n}\n\nfunction getParamByRefuseReason(reason) {\n    switch (reason) {\n        case Block.REFUSE_REASON.ACCEPT: return 'accept';\n        case Block.REFUSE_REASON.USERCLOSE: return 'close';\n        case Block.REFUSE_REASON.DURATION: return 'timeoutclose';\n        case Block.REFUSE_REASON.EXTERNAL: return 'externalclose';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/statistics/clicker-advertisement.js","/**\n * Кликерная статистика авторизации\n */\n'use strict';\n\nvar clicker = require('./clicker');\nvar auth = require('../auth');\n\nexports.init = function () {\n    auth.onAction.addListener(function (type) {\n        switch (type) {\n            case 'retpath.login':\n                clicker.send({path: 'auth.done.vb'});\n                break;\n        }\n    });\n    auth.onUsersChanged.addListener(function (type) {\n        switch (type) {\n            case 'add':\n            case 'login':\n                clicker.send({path: 'auth.done.total'});\n                break;\n            case 'logout':\n                clicker.send({path: 'auth.exit.total'});\n                break;\n        }\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/statistics/clicker-auth.js","/**\n * Кликерная статистика брендинга\n */\n'use strict';\n\nvar clicker = require('./clicker');\nvar brandingLoader = require('../branding/remote/loader');\n\nexports.init = function () {\n    brandingLoader.onLoadError.addListener(function (bannerId) {\n        clicker.send({path: 'system.custombridloadfail.' + bannerId});\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/statistics/clicker-branding.js","/**\n * Sends user hosts permissions statistics\n * @see https://st.yandex-team.ru/VB-6220\n */\n'use strict';\n\nvar clicker = require('./clicker');\nvar hostsPermissions = require('../host-permissions');\n\nexports.init = function () {\n  hostsPermissions.onRestrictedByUser.addListener(sendStat);\n};\n\nfunction sendStat() {\n  clicker.send({ path: 'system.hostPermissions.restrictedByUser', transport: 'img' });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/statistics/clicker-hosts-permissions.js","/**\n * Статистика создания/восстановления для ручного бэкапа\n */\n\n'use strict';\n\nconst backup = require('../backup/manual');\nconst clicker = require('./clicker');\n\nconst SYSTEM_FILEBACKUP_SAVED = 'system.filebackup.saved';\nconst SYSTEM_FILEBACKUP_LOADED = 'system.filebackup.loaded';\n\nmodule.exports = {\n    init() {\n        backup.onLoaded.addListener(() => send(SYSTEM_FILEBACKUP_LOADED));\n        backup.onMade.addListener(() => send(SYSTEM_FILEBACKUP_SAVED));\n    }\n};\n\n/**\n * Отправить данные через кликер\n *\n * @param {String} path\n */\nfunction send(path) {\n    clicker.send({path});\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/statistics/clicker-manual-backup.js","/**\n * Sends clicker statistics every time NewTab is opened\n * @see https://st.yandex-team.ru/VB-5601\n */\n'use strict';\n\nvar clicker = require('./clicker');\nvar tabs = require('../../utils/tabs');\nvar tabsWatcher = require('../../utils/tabs-watcher');\nvar urlUtils = require('../../utils/url');\nvar platfromAbout = require('../../platform/about');\n\nexports.init = function () {\n    tabsWatcher.init(platfromAbout);\n    tabsWatcher.onComplete.addListener(handleCompletedEvent);\n    forEachVBTab(sendStat);\n};\n\n/**\n * @param {String} tabId\n * @param {Object} tabData\n */\nfunction handleCompletedEvent(tabId, tabData) {\n    if (tabData && urlUtils.isUrlInList(platfromAbout.visbookmarksUrl, tabData.urls)) {\n        sendStat();\n    }\n}\n\n/**\n * @param {Function} callback\n */\nfunction forEachVBTab(callback) {\n    tabs.getOpen(function (err, items) {\n        if (Array.isArray(items)) {\n            items.filter(function (tab) {\n                return urlUtils.isEqualUrls(tab.url, platfromAbout.visbookmarksUrl) && tab.status === 'complete';\n            }).forEach(callback);\n        }\n    });\n}\n\nfunction sendStat() {\n    clicker.send({path: 'system.show'});\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/statistics/clicker-new-tab.js","/**\n * Clicker statistics for synchronization\n */\n'use strict';\n\nvar logger = require('../../utils/logger').create('clicker-sync');\nvar clicker = require('./clicker');\nvar sync = require('../sync');\n\nvar SYNC_STAT_NAME = 'system.chromesync';\n\nexports.init = function () {\n    sync.onRemoteUpdated.addListener(checkRemote);\n};\n\nfunction checkRemote() {\n    sync.checkRemote()\n        .then(sendStat)\n        .catch(logReject);\n}\n\nfunction sendStat() {\n    clicker.send({path: SYNC_STAT_NAME});\n}\n\n/**\n * @param {Error} [reason]\n */\nfunction logReject(reason) {\n    if (reason) {\n        logger.info('sync.checkRemote rejected with reason: %s', reason.message);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/statistics/clicker-sync.js","/**\n * Main synchronization module\n * Manages sync initialization\n * Dispatches synchronization events\n */\n'use strict';\n\nvar logger = require('../../utils/logger').create('sync');\nvar channel = require('../../utils/channel');\nvar browserInfo = require('../../utils/browser-info');\n\nvar syncAPI = require('./api');\nvar syncState = require('./state');\n\nexports.init = function () {\n    if (!browserInfo.isChrome()) {\n        return;\n    }\n    syncAPI.init();\n    initialSync();\n    syncAPI.onChanged.addListener(handleRemoteChangedEvent);\n    // TODO watch local changes, call updateRemoteWithLocal\n};\n\n/**\n * Check remote existence\n * If it exists and unchecked, promise is resolved\n * If it isn't exist, of have been already checked, promise is rejected\n * @returns {Promise}\n */\nexports.checkRemote = function () {\n    return syncAPI.get().then(tryMarkRemote);\n};\n\n/**\n * Fires when data updates from remote\n * Event object is empty\n */\nexports.onRemoteUpdated = channel.create();\n\n/**\n * Fires when data updates from remote\n * Event object is empty\n */\nexports.onRemoteUpdatedError = channel.create();\n\n/**\n * Fires after initial sync\n * Event object is empty\n */\nexports.onInitialSync = channel.create();\n\n/**\n * Fires in case of error in initial sync process\n * Event object is an error\n */\nexports.onInitialSyncError = channel.create();\n\n/**\n * @returns {Promise<*>}\n */\nfunction initialSync() {\n    return syncAPI.get()\n        .then(initialUpdateLocalData)\n        .then(dispatchInitialSync)\n        .catch(dispatchInitialSyncError);\n}\n\n/**\n *\n * @param {Object} remoteSnapshot\n * @returns {Promise<*>}\n */\nfunction initialUpdateLocalData(remoteSnapshot) {\n    if (syncState.isEmptySnapshot(remoteSnapshot)) {\n        logger.info('Initial sync: empty remote snapshot');\n        return updateRemoteWithLocal();\n    }\n    logger.info('Initial sync: remote data exist: %o', remoteSnapshot);\n    return tryUpdateLocalData(remoteSnapshot);\n}\n\n/**\n * @returns {Promise<*>}\n */\nfunction updateRemoteWithLocal() {\n    logger.info('Update remote with local data');\n    return syncAPI.set(syncState.getLocalSnapshot())\n        .then(dispatchRemoteUpdated)\n        .catch(dispatchRemoteUpdatedError);\n}\n\n/**\n * @param {Object} remoteSnapshot\n * @returns {Promise<*>}\n */\nfunction tryUpdateLocalData(remoteSnapshot) {\n    // NOTE updateLocalData throws errors in case of conflicts.\n    // TODO add new conflicts-channel and dispatch events in case of errors\n    logger.info('Applying remote data: %o', remoteSnapshot);\n    try {\n        syncState.updateLocalData(remoteSnapshot);\n        return updateRemoteWithLocal();\n    } catch (e) {\n        return Promise.reject(e);\n    }\n}\n\n/**\n * @param {Object} remoteSnapshot\n */\nfunction handleRemoteChangedEvent(remoteSnapshot) {\n    logger.info('Remote-changed event has been received, checking changes');\n    if (syncState.isRemoteChanged(remoteSnapshot)) {\n        logger.info('Changes in remote data have been found');\n        tryUpdateLocalData(remoteSnapshot);\n    }\n}\n\n/**\n * @param {Object} remoteSnapshot\n * @returns {Promise<*>}\n */\nfunction tryMarkRemote(remoteSnapshot) {\n    if (!syncState.isMultipleGUIDs(remoteSnapshot)) {\n        return Promise.reject(new Error('Remote is not exist'));\n    }\n    if (syncState.isMarked(remoteSnapshot)) {\n        return Promise.reject(new Error('Remote has been already marked'));\n    }\n    var newSnapshot = syncState.getLocalSnapshot();\n    newSnapshot = syncState.setMark(newSnapshot);\n    return syncAPI.set(newSnapshot);\n}\n\n/**\n * Fires onInitialSync event\n */\nfunction dispatchInitialSync() {\n    logger.info('Dispatch initial sync completed event');\n    exports.onInitialSync.dispatch();\n}\n\n/**\n * @param {Error} [error]\n */\nfunction dispatchInitialSyncError(error) {\n    logger.error('Problem in initial-sync process: %o', error);\n    exports.onInitialSyncError.dispatch(error);\n}\n\n/**\n * Fires onRemoteUpdated event\n */\nfunction dispatchRemoteUpdated() {\n    logger.info('Dispatch remote updated event');\n    exports.onRemoteUpdated.dispatch();\n}\n\n/**\n * @param {Error} [error]\n */\nfunction dispatchRemoteUpdatedError(error) {\n    logger.info('Problem in update-remote process: %o', error);\n    exports.onRemoteUpdatedError.dispatch();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/sync/index.js","/**\n * Sync API with chrome.storage.sync as backend\n */\n'use strict';\n\nvar channel = require('../../utils/channel');\nvar logger = require('../../utils/logger').create('sync-api');\nvar isEmpty = require('lodash/lang/isEmpty');\nvar thenChrome = require('then-chrome');\n\nvar AREA_NAME = 'sync';\n\n// NOTE\n// We need this random key and value for ensuring\n// that received events are from remote, not from us.\n// All change events with known random values are considered as ours and ignored.\nvar RANDOM_ID_KEY = '_randomID_';\nvar randomIDValue = Math.random();\n\n/**\n * Initializes API\n */\nexports.init = function () {\n    chrome.storage.onChanged.addListener(handleOnChangedEvent);\n};\n\n/**\n * Returns snapshot of all data from sync-backend\n * @returns {Promise<Object>}\n */\nexports.get = function () {\n    return thenChrome.storage.sync.get(null);\n};\n\n/**\n * Sets new snapshot to sync-backend\n * @param {Object} snapshot\n * @returns {Promise<Object>}\n */\nexports.set = function (snapshot) {\n    assertTimestamp(snapshot, 'set');\n    snapshot[RANDOM_ID_KEY] = randomIDValue;\n    return thenChrome.storage.sync.set(snapshot);\n};\n\n/**\n * chrome.storage.onChanged event channel\n * Dispatches only changes in 'sync' area\n * @see - https://developer.chrome.com/extensions/storage#event-onChanged\n */\nexports.onChanged = channel.create();\n\n/**\n * @param {Object} changes\n * @param {String} areaName\n */\nfunction handleOnChangedEvent(changes, areaName) {\n    if (changes && areaName === AREA_NAME && !isLocalChange(changes)) {\n        var data = getNewData(changes);\n        if (!isEmpty(data)) {\n            exports.onChanged.dispatch(data);\n        }\n    }\n}\n\n/**\n * @param {Object} changes\n * @returns {Object}\n */\nfunction getNewData(changes) {\n    return Object.keys(changes).reduce(function (result, key) {\n        if (key !== RANDOM_ID_KEY) {\n            result[key] = changes[key].newValue;\n        }\n        return result;\n    }, {});\n}\n\n/**\n * @param {Object} changes\n * @returns {Boolean}\n */\nfunction isLocalChange(changes) {\n    return changes[RANDOM_ID_KEY] && changes[RANDOM_ID_KEY].newValue === randomIDValue;\n}\n\n/**\n * @param {Object} snapshot\n * @param {String} method\n */\nfunction assertTimestamp(snapshot, method) {\n    if (!snapshot.timestamp) {\n        logger.error('%s; You must specify timestamp in passed data', method);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/sync/api.js","/**\n * Logic for manipulating sync state.\n * Collects snapshots from synchronizers, updates them with remote snapshots.\n *\n * NOTE about synchronizers:\n * All synchronizers must have two methods:\n * snapshot() - should return snapshot of data to sync.\n * update(snapshotFromRemote) - should update needed modules with new data.\n *\n */\n'use strict';\n\nvar merge = require('lodash/object/merge');\nvar omit = require('lodash/object/omit');\nvar isEqual = require('lodash/lang/isEqual');\n\nvar settings = require('../settings/settings');\nvar guid = require('./guid');\n\nvar REMOTE_TIMESTAMP = 'remoteSyncTimestamp';\nvar LOCAL_SNAPSHOT = 'localSyncSnapshot';\nvar MARK = '__mark__';\n\nvar synchronizers = [\n    guid,\n    // TODO collection\n    // TODO settings\n];\n\n/**\n * @returns {Object}\n */\nexports.getLocalSnapshot = function () {\n    var currentSnapshot = settings.get(LOCAL_SNAPSHOT);\n    var newSnapshot = createNewSnapshot(currentSnapshot);\n    settings.set(LOCAL_SNAPSHOT, newSnapshot);\n    return newSnapshot;\n};\n\n/**\n * @param {Object} remoteSnapshot\n * @throws {Error}\n */\nexports.updateLocalData = function (remoteSnapshot) {\n    // TODO check conflicts, throw errors\n    updateRemoteTimestamp(remoteSnapshot);\n    updateSynchronizers(remoteSnapshot);\n};\n\n/**\n * @param {Object} snapshot\n * @returns {}\n */\nexports.isEmptySnapshot = function (snapshot) {\n    return !snapshot || Object.keys(snapshot).length === 0;\n};\n\n/**\n * @param {Object} remoteSnapshot\n * @returns {Booelan}\n */\nexports.isRemoteChanged = function (remoteSnapshot) {\n    return remoteSnapshot.timestamp > settings.get(REMOTE_TIMESTAMP);\n};\n\n/**\n * @param {Object} remoteSnapshot\n * @returns {Boolean}\n */\nexports.isMultipleGUIDs = function (remoteSnapshot) {\n    return guid.getGUIDs(remoteSnapshot).length > 1;\n};\n\n/**\n * @param {Object} snapshot\n * @returns {Boolean}\n */\nexports.isMarked = function (snapshot) {\n    return snapshot[MARK] !== undefined;\n};\n\n/**\n * @param {Object} snapshot\n * @returns {Object}\n */\nexports.setMark = function (snapshot) {\n    snapshot[MARK] = true;\n    return snapshot;\n};\n\n/**\n * @param {Object} remoteSnapshot\n */\nfunction updateRemoteTimestamp(remoteSnapshot) {\n    if (remoteSnapshot.timestamp) {\n        settings.set(REMOTE_TIMESTAMP, remoteSnapshot.timestamp);\n    }\n}\n\n/**\n * @param {Object} currentSnapshot\n * @returns {Object}\n */\nfunction createNewSnapshot(currentSnapshot) {\n    var newSnapshot = mergeSynchronizers();\n    newSnapshot.timestamp = isSnapshotsEqual(currentSnapshot, newSnapshot)\n        ? currentSnapshot.timestamp\n        : Date.now();\n    return newSnapshot;\n}\n\n/**\n * @param {Object} remoteSnapshot\n */\nfunction updateSynchronizers(remoteSnapshot) {\n    synchronizers.forEach(function (synchronizer) {\n        synchronizer.update(remoteSnapshot);\n    });\n}\n\n/**\n * @returns {Object}\n */\nfunction mergeSynchronizers() {\n    return synchronizers.reduce(function (result, synchronizer) {\n        return merge(result, synchronizer.snapshot());\n    }, {});\n}\n\n/**\n * @param {Object} currentSnapshot\n * @param {Object} newSnapshot\n * @returns {Boolean}\n */\nfunction isSnapshotsEqual(currentSnapshot, newSnapshot) {\n    return isEqual(\n        omit(currentSnapshot, ['timestamp']),\n        omit(newSnapshot, ['timestamp'])\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/sync/state.js","var arrayMap = require('../internal/arrayMap'),\n    baseDifference = require('../internal/baseDifference'),\n    baseFlatten = require('../internal/baseFlatten'),\n    bindCallback = require('../internal/bindCallback'),\n    keysIn = require('./keysIn'),\n    pickByArray = require('../internal/pickByArray'),\n    pickByCallback = require('../internal/pickByCallback'),\n    restParam = require('../function/restParam');\n\n/**\n * The opposite of `_.pick`; this method creates an object composed of the\n * own and inherited enumerable properties of `object` that are not omitted.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {Function|...(string|string[])} [predicate] The function invoked per\n *  iteration or property names to omit, specified as individual property\n *  names or arrays of property names.\n * @param {*} [thisArg] The `this` binding of `predicate`.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'user': 'fred', 'age': 40 };\n *\n * _.omit(object, 'age');\n * // => { 'user': 'fred' }\n *\n * _.omit(object, _.isNumber);\n * // => { 'user': 'fred' }\n */\nvar omit = restParam(function(object, props) {\n  if (object == null) {\n    return {};\n  }\n  if (typeof props[0] != 'function') {\n    var props = arrayMap(baseFlatten(props), String);\n    return pickByArray(object, baseDifference(keysIn(object), props));\n  }\n  var predicate = bindCallback(props[0], props[1], 3);\n  return pickByCallback(object, function(value, key, object) {\n    return !predicate(value, key, object);\n  });\n});\n\nmodule.exports = omit;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/object/omit.js\n// module id = 548\n// module chunks = 1","var baseIsEqual = require('../internal/baseIsEqual'),\n    bindCallback = require('../internal/bindCallback');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent. If `customizer` is provided it's invoked to compare values.\n * If `customizer` returns `undefined` comparisons are handled by the method\n * instead. The `customizer` is bound to `thisArg` and invoked with up to\n * three arguments: (value, other [, index|key]).\n *\n * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n * numbers, `Object` objects, regexes, and strings. Objects are compared by\n * their own, not inherited, enumerable properties. Functions and DOM nodes\n * are **not** supported. Provide a customizer function to extend support\n * for comparing other values.\n *\n * @static\n * @memberOf _\n * @alias eq\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [customizer] The function to customize value comparisons.\n * @param {*} [thisArg] The `this` binding of `customizer`.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'user': 'fred' };\n * var other = { 'user': 'fred' };\n *\n * object == other;\n * // => false\n *\n * _.isEqual(object, other);\n * // => true\n *\n * // using a customizer callback\n * var array = ['hello', 'goodbye'];\n * var other = ['hi', 'goodbye'];\n *\n * _.isEqual(array, other, function(value, other) {\n *   if (_.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/)) {\n *     return true;\n *   }\n * });\n * // => true\n */\nfunction isEqual(value, other, customizer, thisArg) {\n  customizer = typeof customizer == 'function' ? bindCallback(customizer, thisArg, 3) : undefined;\n  var result = customizer ? customizer(value, other) : undefined;\n  return  result === undefined ? baseIsEqual(value, other, customizer) : !!result;\n}\n\nmodule.exports = isEqual;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/lang/isEqual.js\n// module id = 549\n// module chunks = 1","/**\n * Synchronizer for GUID value\n * @see note in sync/state\n */\n'use strict';\n\nvar platform = require('../../platform');\n\nvar UI_PREFIX = '__guid__';\n\n/**\n * Returns snapshot of GUID data to sync\n * @see note in sync/state\n * @returns {Object}\n */\nexports.snapshot = function () {\n    var data = {};\n    data[UI_PREFIX + platform.guid] = true;\n    return data;\n};\n\n/**\n * @see note in sync/state\n */\nexports.update = function () {};\n\n/**\n * Returns guids from snapshot of sync data\n * @param {Object} snapshot\n * @returns {Array<String>}\n */\nexports.getGUIDs = function (snapshot) {\n    return Object.keys(snapshot).reduce(function (result, key) {\n        if (key.startsWith(UI_PREFIX)) {\n            result.push(key.replace(UI_PREFIX, ''));\n        }\n        return result;\n    }, []);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/sync/guid.js","/**\n * Кликерная статистика по тумбам\n * Здесь пока только navigate, т.к. в основном отправляется фронтендом.\n */\n'use strict';\n\nvar clicker = require('./clicker');\nvar navigations = require('../navigations');\n\nexports.init = function () {\n    navigations.onThumbNavigated.addListener(onThumbNavigated);\n};\n\nfunction onThumbNavigated(data) {\n    clicker.send({path: 'thumb.click.' + data.thumbPosition});\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/statistics/clicker-thumbs.js","/**\n * Статистика по голосовому модулю\n */\n'use strict';\n\nconst voiceEvents = require('../voice/events');\nconst clicker = require('./clicker');\nconst SerpNavigator = require('../voice/consumers/serp-navigator');\nconst SiteNavigator = require('../voice/consumers/site-navigator');\n\nexports.init = function () {\n    voiceEvents.onRecognized.addListener(({consumer}) => {\n        if (consumer instanceof SiteNavigator) {\n            clicker.send({path: 'system.voice.navigsuccess'});\n        }\n\n        if (consumer instanceof SerpNavigator) {\n            clicker.send({path: 'system.voice.success'});\n        }\n    });\n\n    voiceEvents.onError.addListener(() => {\n        clicker.send({path: 'system.voice.error'});\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/statistics/clicker-voice.js","/**\n * Отправляет статистику o экспериментах в кликер\n * @see https://wiki.yandex-team.ru/Data/Logs/Redir/techevents/#schetchikirasshirenijjdljabrauzerov\n * @see https://wiki.yandex-team.ru/Data/Logs/Redir/ClicksWeb/\n */\n\n'use strict';\n\nvar defaults = require('lodash/object/defaultsDeep');\nvar experiments = require('../experiments');\nvar bannerId = require('../cookies/bannerid');\nvar settings = require('../settings/settings');\nvar platform = require('../../platform');\nvar platformAbout = require('../../platform/about');\nvar platformBuildInfo = require('../../platform/build-info');\nvar platformClids = require('../../platform/clid');\nvar dayuseHelper = require('./dayuse-helper');\nvar DayusePoller = require('./dayuse-poller');\nvar xhr = require('../../utils/xhr');\nvar curly = require('../../utils/curly');\nvar branding = require('../branding');\nvar logger = require('../../utils/logger').create('Statistics/dayuse-url');\n\nvar STAT_URL_TEMPLATE = 'https://yandex.{regionTld}/clck/click/';\nvar LAST_SENDING_TIME_SETTING = 'lastDayUseExpSendTime';\n\nvar poller;\n\nexports.init = function () {\n    poller = new DayusePoller(LAST_SENDING_TIME_SETTING);\n    poller.onTrigger.addListener(sendStat);\n};\n\nfunction getDefautConfig() {\n    return {\n        dtype: 'elduse',\n        path: 'tech.yaelements.dayuse',\n        slots: [0, 0, 0],\n        vars: {\n            ui: '',\n            bro: platformAbout.browserName,\n            clid1: '',\n            dayuse: 0,\n            productname: platformAbout.yasoft,\n            gchid: platformAbout.extensionId,  // https://st.yandex-team.ru/VB-6179\n            ver: platformBuildInfo.getVersion().replace(/\\./g, '-')\n        }\n    };\n}\n\nfunction sendStat() {\n    // Не отправляем статистику в Firefox если пользователь не соглашался её отправлять.\n    // @see {@link https://st.yandex-team.ru/VB-5060}\n    // @see {@link https://st.yandex-team.ru/VB-5084}\n    if (platformAbout.id === 'fx' && !settings.get('sendUsageStat')) {\n        return;\n    }\n\n    var configForUrl = getConfigForUrl();\n    var url = createStatUrl(configForUrl);\n    logger.info('Send to %s', url);\n    xhr({url: url}, onStatResponse);\n}\n\nfunction getConfigForUrl() {\n    var config = {\n        slots: getSlots(),\n        vars: getVars()\n    };\n    return defaults(config, getDefautConfig());\n}\n\nfunction getSlots() {\n    var expList = experiments.getExperimentsList();\n    var currentExp = expList[0];\n    var slot = currentExp ? currentExp.testId : 0;\n    var bucket = currentExp ? currentExp.bucket : 0;\n    return [slot, slot, bucket];\n}\n\nfunction getVars() {\n    var vars = {\n        dayuse: dayuseHelper.getDayuseCount(),\n        clid1: platformClids.getByNumber(1),\n        ui: platform.guid\n    };\n    var bannerIdValue = bannerId.getBannerId();\n    if (bannerIdValue) {\n        vars.bnrd = bannerIdValue;\n    }\n    return vars;\n}\n\nfunction createStatUrl(config) {\n    return Object.keys(config).reduce(function (result, configKey) {\n        return result + processConfigParam(configKey, config[configKey]) + '/';\n    }, getBaseUrl()) + '*';\n}\n\nfunction getBaseUrl() {\n    return curly.insertUrlVars(STAT_URL_TEMPLATE, {regionTld: branding.vars.regionTld});\n}\n\nfunction processConfigParam(name, value) {\n    var resultPart = name + '=';\n    if (Array.isArray(value)) {\n        return resultPart + processArrayValue(value);\n    } else if (typeof value === 'object' && value !== null) {\n        return resultPart + processObjectValue(value);\n    }\n    return resultPart + value;\n}\n\nfunction processArrayValue(array) {\n    return array.join(',');\n}\n\nfunction processObjectValue(object) {\n    return Object.keys(object).map(function (key) {\n        return '-' + key + '=' + object[key];\n    }).join(',');\n}\n\nfunction onStatResponse(error) {\n    if (error) {\n        logger.error('Error while sending statistics: %j', error);\n    } else {\n        poller.updateLastSendTime();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/statistics/dayuse-exp.js","var createDefaults = require('../internal/createDefaults'),\n    merge = require('./merge'),\n    mergeDefaults = require('../internal/mergeDefaults');\n\n/**\n * This method is like `_.defaults` except that it recursively assigns\n * default properties.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * _.defaultsDeep({ 'user': { 'name': 'barney' } }, { 'user': { 'name': 'fred', 'age': 36 } });\n * // => { 'user': { 'name': 'barney', 'age': 36 } }\n *\n */\nvar defaultsDeep = createDefaults(merge, mergeDefaults);\n\nmodule.exports = defaultsDeep;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/object/defaultsDeep.js\n// module id = 554\n// module chunks = 1","var merge = require('../object/merge');\n\n/**\n * Used by `_.defaultsDeep` to customize its `_.merge` use.\n *\n * @private\n * @param {*} objectValue The destination object property value.\n * @param {*} sourceValue The source object property value.\n * @returns {*} Returns the value to assign to the destination object.\n */\nfunction mergeDefaults(objectValue, sourceValue) {\n  return objectValue === undefined ? sourceValue : merge(objectValue, sourceValue, mergeDefaults);\n}\n\nmodule.exports = mergeDefaults;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/lodash/internal/mergeDefaults.js\n// module id = 555\n// module chunks = 1","/**\n * Предельно простой класс для отправки dayuse статистики.\n * Отличается от dayusePoller тем, что не пытается отправить стату после 3 часов ночи,\n * а просто как отправилось по таймеру, так отправилось.\n * Сейчас используется для отправки статы о включенных настройках\n */\n'use strict';\n\nconst alarms = require('../../utils/alarms');\nconst clicker = require('./clicker');\nconst bgRotation = require('../backgrounds/rotation');\nconst informers = require('../informers');\n\nvar ALARM = {\n    name: 'dayuseSimple',\n    periodInMinutes: 24 * 60,\n    delayInMinutes: 1,\n};\n\n/**\n * Init\n */\nexports.init = function () {\n    alarms.register(ALARM, onAlarm);\n};\n\nfunction onAlarm() {\n    sendRotationStat();\n    sendInformersStat();\n}\n\nfunction sendRotationStat() {\n    if (bgRotation.isSelected()) {\n        clicker.send({path: 'system.dailyback.dayuse'});\n    }\n}\n\nfunction sendInformersStat() {\n    if (informers.isSupported() && informers.isEnabled()) {\n        clicker.send({path: 'system.informers.dayuse'});\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./modules/statistics/dayuse-simple.js","/**\n * Инициализирует модули статистики\n */\n'use strict';\n\nexports.init = function () {\n    require('./dayuse-poller').init();\n    require('./dayuse-exp').init();\n    require('./dayuse-simple').init();\n    require('./clicker-auth').init();\n    require('./clicker-advertisement').init();\n    require('./clicker-thumbs').init();\n    require('./clicker-sync').init();\n    require('./clicker-new-tab').init();\n    require('./clicker-branding').init();\n    require('./clicker-manual-backup').init();\n    require('./clicker-voice').init();\n    require('./clicker-hosts-permissions').init();\n    // soft-export здесь не подключать, т.к. она отправляет каждой платформой отдельно!\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/statistics/index.js","var map = {\n\t\"./alarms.js\": 3,\n\t\"./assert.js\": 293,\n\t\"./blob-utils.js\": 267,\n\t\"./browser-info.js\": 22,\n\t\"./channel-cacher.js\": 26,\n\t\"./channel.js\": 27,\n\t\"./collection-differ.js\": 298,\n\t\"./color-names.js\": 261,\n\t\"./colors.js\": 259,\n\t\"./curly.js\": 207,\n\t\"./date.js\": 4,\n\t\"./error-booster.js\": 25,\n\t\"./fetch.js\": 72,\n\t\"./file-storage.js\": 263,\n\t\"./file-utils.js\": 266,\n\t\"./format-message.js\": 58,\n\t\"./generic-module.js\": 84,\n\t\"./load-image.js\": 224,\n\t\"./lodash.js\": 91,\n\t\"./log-utils.js\": 24,\n\t\"./logger.js\": 5,\n\t\"./methods-table.js\": 85,\n\t\"./misc.js\": 31,\n\t\"./noop.js\": 28,\n\t\"./object.js\": 90,\n\t\"./offscreen/load-image.js\": 260,\n\t\"./offscreen/offscreen-manager.js\": 70,\n\t\"./overrides_v3/colors.js\": 262,\n\t\"./overrides_v3/xhr.js\": 71,\n\t\"./overrides_v3/xml.js\": 68,\n\t\"./promised-timer.js\": 490,\n\t\"./resource-loader-item.js\": 257,\n\t\"./resource-loader.js\": 256,\n\t\"./sax-parser.js\": 227,\n\t\"./tabs-watcher-2.js\": 309,\n\t\"./tabs-watcher.js\": 459,\n\t\"./tabs.js\": 282,\n\t\"./url/create-uri.js\": 87,\n\t\"./url/index.js\": 83,\n\t\"./url/url-impl.js\": 86,\n\t\"./url/urn-impl.js\": 89,\n\t\"./url/yandex-domains.js\": 88,\n\t\"./utils.js\": 30,\n\t\"./xhr-parsers.js\": 60,\n\t\"./xhr-utils.js\": 38,\n\t\"./xhr.js\": 32,\n\t\"./xml.js\": 61\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 558;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./utils \\.js$\n// module id = 558\n// module chunks = 1"],"sourceRoot":""}